{"version":3,"file":"metaScore.Player.umd.583.js","mappings":"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","sources":["webpack://metaScore/./packages/core/modules/app_behaviors/blockly/blocks/app.js","webpack://metaScore/./packages/core/modules/app_behaviors/blockly/blocks/components.js","webpack://metaScore/./packages/core/modules/app_behaviors/blockly/blocks/keyboard.js","webpack://metaScore/./packages/core/modules/app_behaviors/blockly/blocks/links.js","webpack://metaScore/./node_modules/@blockly/block-plus-minus/src/serialization_helper.js","webpack://metaScore/./node_modules/@blockly/block-plus-minus/src/field_minus.js","webpack://metaScore/./node_modules/@blockly/block-plus-minus/src/field_plus.js","webpack://metaScore/./packages/core/modules/app_behaviors/blockly/blocks/media.js","webpack://metaScore/./packages/core/modules/app_behaviors/blockly/blocks/reactivity.js","webpack://metaScore/./packages/core/modules/app_behaviors/blockly/blocks/index.js"],"sourcesContent":["import { defineBlocksWithJsonArray } from \"blockly/core\";\n\ndefineBlocksWithJsonArray([\n  {\n    type: \"app_startup\",\n    message0: \"%{BKY_APP_STARTUP}\",\n    message1: \"%{BKY_APP_STARTUP_THEN}\",\n    args1: [\n      {\n        type: \"input_statement\",\n        name: \"STATEMENT\",\n      },\n    ],\n    style: \"trigger_blocks\",\n    tooltip: \"%{BKY_APP_STARTUP_TOOLTIP}\",\n    helpUrl: \"%{BKY_APP_STARTUP_HELPURL}\",\n  },\n  {\n    type: \"app_enter_fullscreen\",\n    message0: \"%{BKY_APP_ENTER_FULLSCREEN}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_APP_ENTER_FULLSCREEN_TOOLTIP}\",\n    helpUrl: \"%{BKY_APP_ENTER_FULLSCREEN_HELPURL}\",\n  },\n  {\n    type: \"app_exit_fullscreen\",\n    message0: \"%{BKY_APP_EXIT_FULLSCREEN}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_APP_EXIT_FULLSCREEN_TOOLTIP}\",\n    helpUrl: \"%{BKY_APP_EXIT_FULLSCREEN_HELPURL}\",\n  },\n  {\n    type: \"app_toggle_fullscreen\",\n    message0: \"%{BKY_APP_TOGGLE_FULLSCREEN}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_APP_TOGGLE_FULLSCREEN_TOOLTIP}\",\n    helpUrl: \"%{BKY_APP_TOGGLE_FULLSCREEN_HELPURL}\",\n  },\n  {\n    type: \"app_get_idle_time\",\n    message0: \"%{BKY_APP_GET_IDLE_TIME}\",\n    output: \"Number\",\n    style: \"app_blocks\",\n    tooltip: \"%{BKY_APP_GET_IDLE_TIME_TOOLTIP}\",\n    helpUrl: \"%{BKY_APP_GET_IDLE_TIME_HELPURL}\",\n  },\n  {\n    type: \"app_reset\",\n    message0: \"%{BKY_APP_RESET}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_APP_RESET_TOOLTIP}\",\n    helpUrl: \"%{BKY_APP_RESET_HELPURL}\",\n  },\n]);\n","import { ref, unref, watchEffect } from \"vue\";\nimport { defineBlocksWithJsonArray, Extensions, Msg, Css } from \"blockly/core\";\nimport FieldDropdown from \"../core/field_dropdown\";\nimport { useModule } from \"@core/services/module-manager\";\nimport { EMPTY_OPTION } from \"../constants\";\n\nconst BREADCRUMB_SEPARATOR = \" › \";\n\nconst SUPPORTED_PROPERTIES = [\n  \"background-color\",\n  \"border-color\",\n  \"border-width\",\n  \"hidden\",\n  \"loop-duration\",\n  \"reversed\",\n  \"cursor-width\",\n  \"cursor-color\",\n];\n\n/**\n * Get component dropdown options\n * @param {array} components The components\n * @param {boolean} recursive Whether to recurse to child components.\n * @param {string} breadcrumb_ The current recursion breadcrumb, used internally.\n * @returns {array} An options array\n */\nfunction getComponentOptions(\n  components = [],\n  recursive = false,\n  breadcrumb_ = \"\"\n) {\n  const {\n    activeScenario,\n    getComponentChildren,\n    getComponentLabel,\n    getComponentIconURL,\n  } = useModule(\"app_components\");\n  let options = [];\n\n  if (components.length > 0) {\n    components.forEach((c) => {\n      const name = getComponentLabel(c);\n      let label = name;\n\n      const icon_url = getComponentIconURL(c);\n      if (icon_url) {\n        label = document.createElement(\"div\");\n        label.classList.add(\"blocklyMenuItemLabel\");\n\n        const icon = document.createElement(\"img\");\n        icon.src = icon_url;\n        icon.classList.add(\"blocklyMenuItemLabelIcon\");\n        label.appendChild(icon);\n\n        const text = document.createElement(\"div\");\n        text.classList.add(\"blocklyMenuItemLabelText\");\n        text.appendChild(document.createTextNode(name));\n        label.appendChild(text);\n\n        if (breadcrumb_) {\n          const breadcrumb_text = `${breadcrumb_}${name}`;\n          const breadcrumb = document.createElement(\"div\");\n          breadcrumb.classList.add(\"blocklyMenuItemLabelBreadcrumb\");\n          breadcrumb.appendChild(document.createTextNode(breadcrumb_text));\n          label.appendChild(breadcrumb);\n          label.setAttribute(\"title\", breadcrumb_text);\n        } else {\n          label.setAttribute(\"title\", name);\n        }\n      }\n\n      let children = null;\n      if (recursive) {\n        const sub_components = getComponentChildren(c);\n        if ([\"Scenario\", \"Page\"].includes(c.type)) {\n          sub_components.reverse();\n        }\n\n        children = getComponentOptions(\n          sub_components,\n          true,\n          `${breadcrumb_}${name}${BREADCRUMB_SEPARATOR}`\n        );\n      }\n\n      const option = [\n        {\n          label,\n          text: name,\n          children,\n          expanded: c.type === \"Scenario\" && c.id === unref(activeScenario),\n        },\n        `${c.type}:${c.id}`,\n      ];\n\n      options.push(option);\n    });\n  }\n\n  return options;\n}\n\n/**\n * Get the options array for the PROPERTY field.\n * @param {string} component_type The component type.\n * @returns {array} The options.\n */\nfunction getPropertyOptions(component_type) {\n  if (component_type === EMPTY_OPTION) {\n    return [\n      [Msg.COMPONENTS_EMPTY_OPTION, EMPTY_OPTION],\n      // Add all supported properties\n      // to prevent validation issues.\n      ...SUPPORTED_PROPERTIES.map((property) => {\n        return [Msg.COMPONENTS_PROPERTY[property], property];\n      }),\n    ];\n  }\n\n  const { getModelByType } = useModule(\"app_components\");\n  return Object.keys(getModelByType(component_type).properties)\n    .filter((property) => {\n      return SUPPORTED_PROPERTIES.includes(property);\n    })\n    .map((property) => {\n      return [Msg.COMPONENTS_PROPERTY[property], property];\n    });\n}\n\nconst scenarioOptions = ref([]);\nwatchEffect(() => {\n  const { getComponentsByType } = useModule(\"app_components\");\n  scenarioOptions.value = getComponentOptions(getComponentsByType(\"Scenario\"));\n});\nExtensions.register(\"components_scenario_options\", function () {\n  const scenario_input = this.getInput(\"COMPONENT\");\n  if (!scenario_input) return;\n\n  const scenario_field = new FieldDropdown(\n    function () {\n      const options = scenarioOptions.value;\n\n      if (options.length === 0) {\n        const block = this.getSourceBlock();\n        if (block) {\n          block.setEnabled(false);\n          block.setTooltip(Msg.COMPONENTS_NO_SCENARIO_TOOLTIP);\n        }\n        this.setEnabled(false);\n        return [[Msg.COMPONENTS_EMPTY_OPTION, EMPTY_OPTION]];\n      }\n\n      return options;\n    },\n    null,\n    { searchable: true }\n  );\n  scenario_input.appendField(scenario_field, \"COMPONENT\");\n});\n\nconst blockOptions = ref([]);\nwatchEffect(() => {\n  const { getComponentsByType } = useModule(\"app_components\");\n  blockOptions.value = getComponentOptions(getComponentsByType(\"Block\"));\n});\nExtensions.register(\"components_block_options\", function () {\n  const block_input = this.getInput(\"COMPONENT\");\n  if (!block_input) return;\n\n  const block_field = new FieldDropdown(\n    function () {\n      const options = blockOptions.value;\n\n      if (options.length === 0) {\n        const block = this.getSourceBlock();\n        if (block) {\n          block.setEnabled(false);\n          block.setTooltip(Msg.COMPONENTS_NO_BLOCK_TOOLTIP);\n        }\n        this.setEnabled(false);\n        return [[Msg.COMPONENTS_EMPTY_OPTION, EMPTY_OPTION]];\n      }\n\n      return options;\n    },\n    null,\n    { searchable: true }\n  );\n  block_input.appendField(block_field, \"COMPONENT\");\n});\n\nconst componentOptions = ref([]);\nwatchEffect(() => {\n  const { getComponentsByType } = useModule(\"app_components\");\n  componentOptions.value = getComponentOptions(\n    getComponentsByType(\"Scenario\"),\n    true\n  );\n});\nExtensions.register(\"components_component_options\", function () {\n  const component_input = this.getInput(\"COMPONENT\");\n  if (!component_input) return;\n\n  const mock = this.type.endsWith(\"_mock\");\n\n  const component_field = new FieldDropdown(\n    function () {\n      const empty_option = [\n        {\n          label: Msg.COMPONENTS_EMPTY_OPTION,\n          default: true,\n          hidden: true,\n        },\n        EMPTY_OPTION,\n      ];\n\n      if (mock) return [empty_option];\n\n      return [empty_option, ...componentOptions.value];\n    },\n    null,\n    { searchable: true }\n  );\n  component_input.appendField(component_field, \"COMPONENT\");\n\n  if (mock) {\n    component_field.setEnabled(false);\n\n    this.setEnabled(false);\n    this.setTooltip(() => {\n      return Msg.COMPONENTS_PROPERTY_MOCK_TOOLTIP.replace(\n        \"%2\",\n        Msg.COMPONENTS_PROPERTY[this.property_]\n      );\n    });\n  }\n});\n\nExtensions.register(\"components_property_options\", function () {\n  const property_input = this.getInput(\"PROPERTY\");\n  if (!property_input) return;\n\n  const mock = this.type.endsWith(\"_mock\");\n\n  const property_field = new FieldDropdown(function () {\n    const block = this.getSourceBlock();\n\n    if (!block || mock) {\n      if (block && block.property_) {\n        return [[Msg.COMPONENTS_PROPERTY[block.property_], block.property_]];\n      }\n      return [[Msg.COMPONENTS_EMPTY_OPTION, EMPTY_OPTION]];\n    }\n\n    const component_value = block.getFieldValue(\"COMPONENT\");\n    const component_type = block.getComponentType_(component_value);\n    return getPropertyOptions(component_type);\n  });\n  property_input.appendField(property_field, \"PROPERTY\");\n\n  if (mock) {\n    property_field.setEnabled(false);\n  }\n});\n\nconst PROPERTY_OPTIONS_MUTATOR_MIXIN = {\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {?{elseIfCount: (number|undefined), haseElse: (boolean|undefined)}}\n   *     The state of this block.\n   */\n  saveExtraState: function () {\n    const property_input = this.getInput(\"PROPERTY\");\n    if (property_input) {\n      return {\n        property: this.getFieldValue(\"PROPERTY\"),\n      };\n    }\n\n    return null;\n  },\n\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block.\n   */\n  loadExtraState: function (state) {\n    const property_input = this.getInput(\"PROPERTY\");\n    if (property_input) {\n      this.property_ = state[\"property\"];\n    }\n  },\n\n  /**\n   * Callback called whenever the block's parent workspace changes.\n   * @param {object} evt The event.\n   */\n  onchange: function (evt) {\n    switch (evt.type) {\n      case \"create\":\n        this.updatePropertyField_();\n        break;\n\n      case \"change\":\n        if (evt.element === \"field\") {\n          if (evt.name === \"COMPONENT\") {\n            const newType = this.getComponentType_(evt.newValue);\n            const oldType = this.getComponentType_(evt.oldValue);\n\n            // Type didn't change, skip update.\n            if (newType === oldType) return;\n\n            this.updatePropertyField_();\n          } else if (evt.name === \"PROPERTY\") {\n            this.property_ = evt.newValue;\n            this.updateChecks_();\n          }\n        }\n        break;\n    }\n  },\n\n  /**\n   * Parse the component type from a COMPONENT field value.\n   * @param {string?} component_value The value to parse, the current field value is used if null.\n   * @returns {string?} The component id or null if the value counldn't be parsed.\n   */\n  getComponentType_: function (component_value) {\n    if (typeof component_value === \"undefined\") {\n      component_value = this.getFieldValue(\"COMPONENT\");\n    }\n\n    if (!component_value) return null;\n\n    const [type] = component_value.split(\":\");\n    return type;\n  },\n\n  /**\n   * Get the compatible value type or list of value types for the VALUE input.\n   * @param {string} component_type The component type.\n   * @param {string} property_name The property's name.\n   * @returns {string|array<string>|null} The type check.\n   */\n  getPropertyValueTypeCheck_: function (component_type, property_name) {\n    if (component_type === EMPTY_OPTION) return null;\n\n    const { getModelByType } = useModule(\"app_components\");\n    const property = getModelByType(component_type).properties?.[property_name];\n\n    if (property) {\n      const format = property.format;\n      switch (format) {\n        case \"color\":\n          return \"Colour\";\n      }\n\n      const type = Array.isArray(property.type)\n        ? property.type.find((t) => t !== \"null\")\n        : property.type;\n\n      switch (type) {\n        case \"boolean\":\n          return \"Boolean\";\n        case \"number\":\n        case \"integer\":\n          return \"Number\";\n        case \"string\":\n          return \"String\";\n      }\n    }\n\n    return null;\n  },\n\n  /**\n   * Update the PROPERTY field.\n   */\n  updatePropertyField_: function () {\n    const property_field = this.getField(\"PROPERTY\");\n    if (!property_field) return;\n\n    const options = property_field.getOptions(false);\n    const match = options.find((o) => {\n      return o[1] === this.property_;\n    });\n    property_field.setValue(match ? this.property_ : options[0][1]);\n  },\n\n  /**\n   * Update the output or VALUE field's check.\n   */\n  updateChecks_() {\n    const mock = this.type.endsWith(\"_mock\");\n    if (mock) return;\n\n    const component_type = this.getComponentType_();\n    const property_value = this.getFieldValue(\"PROPERTY\");\n    const type = this.getPropertyValueTypeCheck_(\n      component_type,\n      property_value\n    );\n\n    const value_input = this.getInput(\"VALUE\");\n    if (value_input) {\n      value_input.setCheck(type);\n    } else if (this.outputConnection) {\n      this.outputConnection.setCheck(type);\n    }\n  },\n};\n\nExtensions.registerMutator(\n  \"components_property_options_mutator\",\n  PROPERTY_OPTIONS_MUTATOR_MIXIN\n);\n\ndefineBlocksWithJsonArray([\n  // Click.\n  {\n    type: \"components_click\",\n    message0: \"%{BKY_COMPONENTS_CLICK}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n    ],\n    message1: \"%{BKY_COMPONENTS_CLICK_THEN}\",\n    args1: [\n      {\n        type: \"input_statement\",\n        name: \"STATEMENT\",\n      },\n    ],\n    extensions: [\"components_component_options\"],\n    inputsInline: true,\n    style: \"trigger_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_CLICK_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_CLICK_HELPURL}\",\n  },\n  // Set scenario.\n  {\n    type: \"components_set_scenario\",\n    message0: \"%{BKY_COMPONENTS_SET_SCENARIO}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n    ],\n    extensions: [\"components_scenario_options\"],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_SET_SCENARIO_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_SET_SCENARIO_HELPURL}\",\n  },\n  // Get property.\n  {\n    type: \"components_get_property\",\n    message0: \"%{BKY_COMPONENTS_GET_PROPERTY}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n      {\n        type: \"input_dummy\",\n        name: \"PROPERTY\",\n      },\n    ],\n    extensions: [\"components_component_options\", \"components_property_options\"],\n    mutator: \"components_property_options_mutator\",\n    inputsInline: true,\n    output: null,\n    style: \"component_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_GET_PROPERTY_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_GET_PROPERTY_HELPURL}\",\n  },\n  // Get property mock.\n  {\n    type: \"components_get_property_mock\",\n    message0: \"%{BKY_COMPONENTS_GET_PROPERTY}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n      {\n        type: \"input_dummy\",\n        name: \"PROPERTY\",\n      },\n    ],\n    extensions: [\"components_component_options\", \"components_property_options\"],\n    mutator: \"components_property_options_mutator\",\n    inputsInline: true,\n    output: null,\n    style: \"component_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_GET_PROPERTY_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_GET_PROPERTY_HELPURL}\",\n  },\n  // Set property.\n  {\n    type: \"components_set_property\",\n    message0: \"%{BKY_COMPONENTS_SET_PROPERTY}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n      {\n        type: \"input_dummy\",\n        name: \"PROPERTY\",\n      },\n      {\n        type: \"input_value\",\n        name: \"VALUE\",\n      },\n    ],\n    extensions: [\"components_component_options\", \"components_property_options\"],\n    mutator: \"components_property_options_mutator\",\n    inputsInline: true,\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_SET_PROPERTY_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_SET_PROPERTY_HELPURL}\",\n  },\n  // Set property mock.\n  {\n    type: \"components_set_property_mock\",\n    message0: \"%{BKY_COMPONENTS_SET_PROPERTY}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n      {\n        type: \"input_dummy\",\n        name: \"PROPERTY\",\n      },\n      {\n        type: \"input_value\",\n        name: \"VALUE\",\n      },\n    ],\n    extensions: [\"components_component_options\", \"components_property_options\"],\n    mutator: \"components_property_options_mutator\",\n    inputsInline: true,\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_SET_PROPERTY_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_SET_PROPERTY_HELPURL}\",\n  },\n  // Get block's activate page index.\n  {\n    type: \"components_get_block_page\",\n    message0: \"%{BKY_COMPONENTS_GET_BLOCK_PAGE}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n    ],\n    extensions: [\"components_block_options\"],\n    output: \"Number\",\n    style: \"component_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_GET_BLOCK_PAGE_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_GET_BLOCK_PAGE_HELPURL}\",\n  },\n  // Set block's activate page index.\n  {\n    type: \"components_set_block_page\",\n    message0: \"%{BKY_COMPONENTS_SET_BLOCK_PAGE}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"COMPONENT\",\n      },\n      {\n        type: \"input_value\",\n        name: \"INDEX\",\n        check: \"Number\",\n      },\n    ],\n    extensions: [\"components_block_options\"],\n    inputsInline: true,\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_COMPONENTS_SET_BLOCK_PAGE_TOOLTIP}\",\n    helpUrl: \"%{BKY_COMPONENTS_SET_BLOCK_PAGE_HELPURL}\",\n  },\n]);\n\nCss.register(\n  `\n  .blocklyDropDownDiv .blocklyMenuItemLabel {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-template-rows: auto auto;\n    grid-template-areas:\n      \"icon label\"\n      \"breadcrumb breadcrumb\";\n    align-items: center;\n    padding-left: calc(var(--level, 0) * 0.5em);\n    gap: 0 0.5em;\n  }\n  .blocklyDropDownDiv .blocklyMenuItemLabelIcon {\n    grid-area: icon;\n    width: 1.5em;\n  }\n  .blocklyDropDownDiv .blocklyMenuItemLabelText {\n    grid-area: label;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n  .blocklyDropDownDiv .blocklyMenuItemLabelBreadcrumb {\n    display: block;\n    grid-area: breadcrumb;\n    font-size: 0.75em;\n    opacity: 0.5;\n    min-width: 0;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n  .blocklyDropDownDiv .blocklyMenu:not(.blocklyMenuSearching) .blocklyMenuItemLabelBreadcrumb {\n    display: none;\n  }\n  `\n);\n","import { defineBlocksWithJsonArray } from \"blockly/core\";\n\nconst keys = [\n  [\"%{BKY_KEYBOARD_KEYPRESSED_ANY}\", \"any\"],\n  [\"%{BKY_KEYBOARD_KEYPRESSED_SPACE}\", \" \"],\n  [\"%{BKY_KEYBOARD_KEYPRESSED_UP}\", \"ArrowUp\"],\n  [\"%{BKY_KEYBOARD_KEYPRESSED_DOWN}\", \"ArrowDown\"],\n  [\"%{BKY_KEYBOARD_KEYPRESSED_RIGHT}\", \"ArrowRight\"],\n  [\"%{BKY_KEYBOARD_KEYPRESSED_LEFT}\", \"ArrowLeft\"],\n  [\"a\", \"a\"],\n  [\"b\", \"b\"],\n  [\"c\", \"c\"],\n  [\"d\", \"d\"],\n  [\"e\", \"e\"],\n  [\"f\", \"f\"],\n  [\"g\", \"g\"],\n  [\"h\", \"h\"],\n  [\"i\", \"i\"],\n  [\"j\", \"j\"],\n  [\"k\", \"k\"],\n  [\"l\", \"l\"],\n  [\"m\", \"m\"],\n  [\"n\", \"n\"],\n  [\"o\", \"o\"],\n  [\"p\", \"p\"],\n  [\"q\", \"q\"],\n  [\"r\", \"r\"],\n  [\"s\", \"s\"],\n  [\"t\", \"t\"],\n  [\"u\", \"u\"],\n  [\"v\", \"v\"],\n  [\"w\", \"w\"],\n  [\"x\", \"x\"],\n  [\"y\", \"y\"],\n  [\"z\", \"z\"],\n  [\"0\", \"0\"],\n  [\"1\", \"1\"],\n  [\"2\", \"2\"],\n  [\"3\", \"3\"],\n  [\"4\", \"4\"],\n  [\"5\", \"5\"],\n  [\"6\", \"6\"],\n  [\"7\", \"7\"],\n  [\"8\", \"8\"],\n  [\"9\", \"9\"],\n];\n\ndefineBlocksWithJsonArray([\n  {\n    type: \"keyboard_keypressed\",\n    message0: \"%{BKY_KEYBOARD_KEYPRESSED}\",\n    args0: [\n      {\n        type: \"field_dropdown\",\n        name: \"KEY\",\n        options: keys,\n      },\n    ],\n    message1: \"%{BKY_KEYBOARD_KEYPRESSED_THEN}\",\n    args1: [\n      {\n        type: \"input_statement\",\n        name: \"STATEMENT\",\n      },\n    ],\n    style: \"trigger_blocks\",\n    tooltip: \"%{BKY_KEYBOARD_KEYPRESSED_TOOLTIP}\",\n    helpUrl: \"%{BKY_KEYBOARD_KEYPRESSED_HELPURL}\",\n  },\n]);\n","import { ref, watchEffect } from \"vue\";\nimport { defineBlocksWithJsonArray, Extensions, Msg } from \"blockly/core\";\nimport { useModule } from \"@core/services/module-manager\";\nimport { EMPTY_OPTION } from \"../constants\";\n\nconst triggerOptions = ref([]);\nwatchEffect(() => {\n  const { getComponentsByType } = useModule(\"app_components\");\n  const components = getComponentsByType(\"Content\");\n  const parser = new DOMParser();\n  const ids = new Set();\n\n  components.forEach((component) => {\n    const text = component.text;\n\n    if (text && text.includes(\"data-behavior-trigger\")) {\n      const doc = parser.parseFromString(text, \"text/html\");\n      doc.querySelectorAll(\"a[data-behavior-trigger]\").forEach((el) => {\n        const id = el.dataset.behaviorTrigger;\n        ids.add(id);\n      });\n    }\n  });\n\n  if (ids.size === 0) {\n    triggerOptions.value = [[Msg.LINKS_EMPTY_OPTION, EMPTY_OPTION]];\n  } else {\n    triggerOptions.value = Array.from(ids)\n      .sort()\n      .map((id) => [id, id]);\n  }\n});\n\nExtensions.register(\"behavior_triggers_options\", function () {\n  const block = this;\n  const field = block.getField(\"TRIGGER\");\n  const options = field.getOptions();\n\n  if (options.length === 1 && options[0][1] === EMPTY_OPTION) {\n    field.setEnabled(false);\n    block.setEnabled(false);\n    block.setTooltip(Msg.LINKS_CLICK_EMPTY_TOOLTIP);\n  } else {\n    field.setEnabled(true);\n    block.setEnabled(true);\n    block.setTooltip(Msg.LINKS_CLICK_TOOLTIP);\n  }\n});\n\ndefineBlocksWithJsonArray([\n  {\n    type: \"links_click\",\n    message0: \"%{BKY_LINKS_CLICK}\",\n    args0: [\n      {\n        type: \"field_dropdown\",\n        name: \"TRIGGER\",\n        options: () => triggerOptions.value,\n      },\n    ],\n    message1: \"%{BKY_LINKS_CLICK_THEN}\",\n    args1: [\n      {\n        type: \"input_statement\",\n        name: \"STATEMENT\",\n      },\n    ],\n    extensions: [\"behavior_triggers_options\"],\n    style: \"trigger_blocks\",\n    tooltip: \"%{BKY_LINKS_CLICK_TOOLTIP}\",\n    helpUrl: \"%{BKY_LINKS_CLICK_HELPURL}\",\n  },\n  {\n    type: \"links_open_url\",\n    message0: \"%{BKY_LINKS_OPEN_URL}\",\n    args0: [\n      {\n        type: \"input_value\",\n        name: \"URL\",\n        check: \"String\",\n      },\n    ],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    helpUrl: \"%{BKY_LINKS_OPEN_URL_HELPURL}\",\n  },\n]);\n","/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as Blockly from 'blockly/core';\n\n/**\n * Returns the extra state of the given block (either as XML or a JSO, depending\n * on the block's definition).\n * @param {!Blockly.BlockSvg} block The block to get the extra state of.\n * @returns {string} A stringified version of the extra state of the given\n *     block.\n */\nexport function getExtraBlockState(block) {\n  // TODO: This is a dupe of the BlockChange.getExtraBlockState code, do we\n  //    want to make that public?\n  if (block.saveExtraState) {\n    const state = block.saveExtraState();\n    return state ? JSON.stringify(state) : '';\n  } else if (block.mutationToDom) {\n    const state = block.mutationToDom();\n    return state ? Blockly.Xml.domToText(state) : '';\n  }\n  return '';\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A function that creates a minus button used for mutation.\n */\n'use strict';\n\nimport * as Blockly from 'blockly/core';\nimport {getExtraBlockState} from './serialization_helper';\n\n/**\n * Creates a minus image field used for mutation.\n * @param {Object=} args Untyped args passed to block.minus when the field\n *     is clicked.\n * @returns {Blockly.FieldImage} The minus field.\n */\nexport function createMinusField(args = undefined) {\n  const minus = new Blockly.FieldImage(minusImage, 15, 15, undefined, onClick_);\n  /**\n   * Untyped args passed to block.minus when the field is clicked.\n   * @type {?(Object|undefined)}\n   * @private\n   */\n  minus.args_ = args;\n  return minus;\n}\n\n/**\n * Calls block.minus(args) when the minus field is clicked.\n * @param {Blockly.FieldImage} minusField The field being clicked.\n * @private\n */\nfunction onClick_(minusField) {\n  // TODO: This is a dupe of the mutator code, anyway to unify?\n  const block = minusField.getSourceBlock();\n\n  if (block.isInFlyout) {\n    return;\n  }\n\n  Blockly.Events.setGroup(true);\n  const oldExtraState = getExtraBlockState(block);\n  block.minus(minusField.args_);\n  const newExtraState = getExtraBlockState(block);\n\n  if (oldExtraState != newExtraState) {\n    Blockly.Events.fire(\n      new Blockly.Events.BlockChange(\n        block,\n        'mutation',\n        null,\n        oldExtraState,\n        newExtraState,\n      ),\n    );\n  }\n  Blockly.Events.setGroup(false);\n}\n\nconst minusImage =\n  'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAw' +\n  'MC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPS' +\n  'JNMTggMTFoLTEyYy0xLjEwNCAwLTIgLjg5Ni0yIDJzLjg5NiAyIDIgMmgxMmMxLjEwNCAw' +\n  'IDItLjg5NiAyLTJzLS44OTYtMi0yLTJ6IiBmaWxsPSJ3aGl0ZSIgLz48L3N2Zz4K';\n","/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A field for a plus button used for mutation.\n */\n'use strict';\n\nimport * as Blockly from 'blockly/core';\nimport {getExtraBlockState} from './serialization_helper';\n\n/**\n * Creates a plus image field used for mutation.\n * @param {Object=} args Untyped args passed to block.minus when the field\n *     is clicked.\n * @returns {Blockly.FieldImage} The Plus field.\n */\nexport function createPlusField(args = undefined) {\n  const plus = new Blockly.FieldImage(plusImage, 15, 15, undefined, onClick_);\n  /**\n   * Untyped args passed to block.plus when the field is clicked.\n   * @type {?(Object|undefined)}\n   * @private\n   */\n  plus.args_ = args;\n  return plus;\n}\n\n/**\n * Calls block.plus(args) when the plus field is clicked.\n * @param {!Blockly.FieldImage} plusField The field being clicked.\n * @private\n */\nfunction onClick_(plusField) {\n  // TODO: This is a dupe of the mutator code, anyway to unify?\n  const block = plusField.getSourceBlock();\n\n  if (block.isInFlyout) {\n    return;\n  }\n\n  Blockly.Events.setGroup(true);\n  const oldExtraState = getExtraBlockState(block);\n  block.plus(plusField.args_);\n  const newExtraState = getExtraBlockState(block);\n\n  if (oldExtraState != newExtraState) {\n    Blockly.Events.fire(\n      new Blockly.Events.BlockChange(\n        block,\n        'mutation',\n        null,\n        oldExtraState,\n        newExtraState,\n      ),\n    );\n  }\n  Blockly.Events.setGroup(false);\n}\n\nconst plusImage =\n  'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC' +\n  '9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMT' +\n  'ggMTBoLTR2LTRjMC0xLjEwNC0uODk2LTItMi0ycy0yIC44OTYtMiAybC4wNzEgNGgtNC4wNz' +\n  'FjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAybDQuMDcxLS4wNzEtLjA3MSA0LjA3MW' +\n  'MwIDEuMTA0Ljg5NiAyIDIgMnMyLS44OTYgMi0ydi00LjA3MWw0IC4wNzFjMS4xMDQgMCAyLS' +\n  '44OTYgMi0ycy0uODk2LTItMi0yeiIgZmlsbD0id2hpdGUiIC8+PC9zdmc+Cg==';\n","import {\n  defineBlocksWithJsonArray,\n  Extensions,\n  Msg,\n  FieldCheckbox,\n  FieldLabel,\n} from \"blockly/core\";\nimport { createMinusField } from \"@blockly/block-plus-minus/src/field_minus\";\nimport { createPlusField } from \"@blockly/block-plus-minus/src/field_plus\";\n\ndefineBlocksWithJsonArray([\n  // Block for timecode value\n  {\n    type: \"media_timecode\",\n    message0: \"%1\",\n    args0: [\n      {\n        type: \"field_timecode\",\n        name: \"TIMECODE\",\n      },\n    ],\n    output: \"Number\",\n    style: \"media_blocks\",\n    helpUrl: \"%{BKY_MEDIA_TIMECODE_HELPURL}\",\n    tooltip: \"%{BKY_MEDIA_TIMECODE_TOOLTIP}\",\n    extensions: [\"parent_tooltip_when_inline\"],\n  },\n  {\n    type: \"media_get_duration\",\n    message0: \"%{BKY_MEDIA_GET_DURATION}\",\n    output: \"Number\",\n    style: \"media_blocks\",\n    tooltip: \"%{BKY_MEDIA_GET_DURATION_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_GET_DURATION_HELPURL}\",\n  },\n  {\n    type: \"media_get_time\",\n    message0: \"%{BKY_MEDIA_GET_TIME}\",\n    output: \"Number\",\n    style: \"media_blocks\",\n    tooltip: \"%{BKY_MEDIA_GET_TIME_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_GET_TIME_HELPURL}\",\n  },\n  {\n    type: \"media_set_time\",\n    message0: \"%{BKY_MEDIA_SET_TIME}\",\n    args0: [\n      {\n        type: \"input_value\",\n        name: \"VALUE\",\n        check: \"Number\",\n      },\n    ],\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_MEDIA_SET_TIME_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_SET_TIME_HELPURL}\",\n  },\n  {\n    type: \"media_playing\",\n    message0: \"%{BKY_MEDIA_PLAYING}\",\n    output: \"Boolean\",\n    style: \"media_blocks\",\n    tooltip: \"%{BKY_MEDIA_PLAYING_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_PLAYING_HELPURL}\",\n  },\n  {\n    type: \"media_play\",\n    message0: \"%{BKY_MEDIA_PLAY}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_MEDIA_PLAY_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_PLAY_HELPURL}\",\n  },\n  {\n    type: \"media_play_excerpt\",\n    message0: \"%{BKY_MEDIA_PLAY_EXCERPT}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"PLUS_MINUS\",\n      },\n      {\n        type: \"input_value\",\n        name: \"FROM\",\n        check: \"Number\",\n      },\n      {\n        type: \"input_value\",\n        name: \"TO\",\n        check: \"Number\",\n      },\n      {\n        type: \"input_dummy\",\n        name: \"LINK_HIGHLIGHT\",\n      },\n    ],\n    inputsInline: true,\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    mutator: \"media_play_excerpt_mutator\",\n    tooltip: \"%{BKY_MEDIA_PLAY_EXCERPT_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_PLAY_EXCERPT_HELPURL}\",\n  },\n  // Block representing the top block in the media_play_excerpt mutator.\n  {\n    type: \"media_play_excerpt_top\",\n    message0: \"%{BKY_MEDIA_PLAY_EXCERPT}\",\n    args0: [\n      {\n        type: \"input_value\",\n        name: \"FROM\",\n        check: \"Number\",\n      },\n      {\n        type: \"input_value\",\n        name: \"TO\",\n        check: \"Number\",\n      },\n    ],\n    inputsInline: true,\n    nextStatement: null,\n    enableContextMenu: false,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_MEDIA_PLAY_EXCERPT_TOP_TOOLTIP}\",\n  },\n  // Block representing the then statement in the media_play_excerpt mutator.\n  {\n    type: \"media_play_excerpt_then\",\n    message0: \"%{BKY_MEDIA_PLAY_EXCERPT_THEN}\",\n    previousStatement: null,\n    enableContextMenu: false,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_MEDIA_PLAY_EXCERPT_THEN_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_PLAY_EXCERPT_THEN_HELPURL}\",\n  },\n  {\n    type: \"media_pause\",\n    message0: \"%{BKY_MEDIA_PAUSE}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_MEDIA_PAUSE_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_PAUSE_HELPURL}\",\n  },\n  {\n    type: \"media_stop\",\n    message0: \"%{BKY_MEDIA_STOP}\",\n    previousStatement: null,\n    nextStatement: null,\n    style: \"actions_blocks\",\n    tooltip: \"%{BKY_MEDIA_STOP_TOOLTIP}\",\n    helpUrl: \"%{BKY_MEDIA_STOP_HELPURL}\",\n  },\n]);\n\n/**\n * Mutator methods added to media_play_excerpt block.\n * @mixin\n * @augments Block\n * @readonly\n */\nconst MEDIA_PLAY_EXCERPT_MUTATOR_MIXIN = {\n  hasThen_: false,\n\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {?{hasThen: (boolean|undefined)}}\n   *     The state of this block.\n   */\n  saveExtraState: function () {\n    if (!this.hasLinkHighlight_ && !this.hasThen_) {\n      return null;\n    }\n\n    const data = {};\n    if (this.hasLinkHighlight_) {\n      data.hasLinkHighlight = true;\n    }\n    if (this.hasThen_) {\n      data.hasThen = true;\n    }\n    return data;\n  },\n\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block.\n   */\n  loadExtraState: function (state) {\n    this.hasLinkHighlight_ = state[\"hasLinkHighlight\"] || false;\n    this.hasThen_ = state[\"hasThen\"] || false;\n    this.updateShape_();\n  },\n\n  /**\n   * Callback for the plus field.\n   */\n  plus: function () {\n    this.hasThen_ = true;\n    this.updateShape_();\n  },\n\n  /**\n   * Callback for the minus field.\n   * @this {Blockly.Block}\n   */\n  minus: function () {\n    this.hasThen_ = false;\n    this.updateShape_();\n  },\n\n  /**\n   * Modify this block to have the correct number of inputs.\n   * @this {Block}\n   * @private\n   */\n  updateShape_: function () {\n    const input = this.getInput(\"LINK_HIGHLIGHT\");\n\n    if (this.hasLinkHighlight_) {\n      if (!this.getField(\"HIGHLIGHT_LINK\")) {\n        const checkbox = new FieldCheckbox();\n        checkbox.setTooltip(Msg[\"MEDIA_PLAY_EXCERPT_HIGHLIGHT_LINK_TOOLTIP\"]);\n\n        const label = new FieldLabel(Msg[\"MEDIA_PLAY_EXCERPT_HIGHLIGHT_LINK\"]);\n        label.setTooltip(Msg[\"MEDIA_PLAY_EXCERPT_HIGHLIGHT_LINK_TOOLTIP\"]);\n\n        input\n          .appendField(checkbox, \"HIGHLIGHT_LINK\")\n          .appendField(label, \"HIGHLIGHT_LINK_LABEL\");\n      }\n    } else {\n      input.fieldRow\n        .map((field) => field.name)\n        .forEach((name) => {\n          input.removeField(name);\n        });\n    }\n\n    if (this.hasThen_) {\n      // Update plus/minus buttons.\n      if (this.getField(\"PLUS\")) {\n        this.getInput(\"PLUS_MINUS\").removeField(\"PLUS\");\n      }\n      if (!this.getField(\"MINUS\")) {\n        this.getInput(\"PLUS_MINUS\").appendField(createMinusField(), \"MINUS\");\n      }\n      // Add \"then\" input.\n      if (!this.getInput(\"THEN\")) {\n        this.appendStatementInput(\"THEN\").appendField(\n          Msg[\"MEDIA_PLAY_EXCERPT_THEN\"]\n        );\n      }\n    } else {\n      // Update plus/minus buttons.\n      if (!this.getField(\"PLUS\")) {\n        this.getInput(\"PLUS_MINUS\").appendField(createPlusField(), \"PLUS\");\n      }\n      if (this.getField(\"MINUS\")) {\n        this.getInput(\"PLUS_MINUS\").removeField(\"MINUS\");\n      }\n      // Remove \"then\" input.\n      if (this.getInput(\"THEN\")) {\n        this.removeInput(\"THEN\");\n      }\n    }\n  },\n};\n\n/**\n * Adds the initial plus button.\n * @this {Blockly.Block}\n */\nconst MEDIA_PLAY_EXCERPT_MUTATOR_HELPER = function () {\n  this.setOnChange(function (evt) {\n    if (evt.isUiEvent) return;\n\n    const parent_block = this.getSurroundParent();\n    const hasLinkHighlight =\n      parent_block && parent_block.type === \"links_click\";\n\n    if (this.hasLinkHighlight_ !== hasLinkHighlight) {\n      this.hasLinkHighlight_ = !!hasLinkHighlight;\n      this.updateShape_();\n    }\n  });\n\n  this.updateShape_();\n};\n\nExtensions.registerMutator(\n  \"media_play_excerpt_mutator\",\n  MEDIA_PLAY_EXCERPT_MUTATOR_MIXIN,\n  MEDIA_PLAY_EXCERPT_MUTATOR_HELPER,\n  [\"media_play_excerpt_then\"]\n);\n","import { defineBlocksWithJsonArray, Extensions, Msg } from \"blockly/core\";\nimport { createMinusField } from \"@blockly/block-plus-minus/src/field_minus\";\nimport { createPlusField } from \"@blockly/block-plus-minus/src/field_plus\";\n\ndefineBlocksWithJsonArray([\n  {\n    type: \"reactivity_when\",\n    message0: \"%{BKY_REACTIVITY_WHEN}\",\n    args0: [\n      {\n        type: \"input_dummy\",\n        name: \"PLUS_MINUS\",\n      },\n      {\n        type: \"input_value\",\n        name: \"CONDITION\",\n        check: \"Boolean\",\n      },\n    ],\n    message1: \"%{BKY_REACTIVITY_WHEN_THEN}\",\n    args1: [\n      {\n        type: \"input_statement\",\n        name: \"STATEMENT\",\n      },\n    ],\n    mutator: \"reactivity_when_mutator\",\n    inputsInline: true,\n    style: \"trigger_blocks\",\n    tooltip: \"%{BKY_REACTIVITY_WHEN_TOOLTIP}\",\n    helpUrl: \"%{BKY_REACTIVITY_WHEN_HELPURL}\",\n  },\n  // Block representing the else statement in the reactivity_when mutator.\n  {\n    type: \"reactivity_when_else\",\n    message0: \"%{BKY_REACTIVITY_WHEN_ELSE}\",\n    previousStatement: null,\n    enableContextMenu: false,\n    style: \"trigger_blocks\",\n    tooltip: \"%{BKY_REACTIVITY_WHEN_ELSE_TOOLTIP}\",\n    helpUrl: \"%{BKY_REACTIVITY_WHEN_ELSE_HELPURL}\",\n  },\n]);\n\n/**\n * Mutator methods added to reactivity_when block.\n * @mixin\n * @augments Block\n * @readonly\n */\nconst REACTIVITY_WHEN_MUTATOR_MIXIN = {\n  hasElse_: false,\n\n  /**\n   * Returns the state of this block as a JSON serializable object.\n   * @return {?{hasElse: (boolean|undefined)}}\n   *     The state of this block.\n   */\n  saveExtraState: function () {\n    if (!this.hasElse_) {\n      return null;\n    }\n\n    const data = {};\n    if (this.hasElse_) {\n      data.hasElse = true;\n    }\n    return data;\n  },\n\n  /**\n   * Applies the given state to this block.\n   * @param {*} state The state to apply to this block.\n   */\n  loadExtraState: function (state) {\n    this.hasElse_ = state[\"hasElse\"] || false;\n    this.updateShape_();\n  },\n\n  /**\n   * Callback for the plus field.\n   */\n  plus: function () {\n    this.hasElse_ = true;\n    this.updateShape_();\n  },\n\n  /**\n   * Callback for the minus field.\n   * @this {Blockly.Block}\n   */\n  minus: function () {\n    this.hasElse_ = false;\n    this.updateShape_();\n  },\n\n  /**\n   * Modify this block to have the correct number of inputs.\n   * @this {Block}\n   * @private\n   */\n  updateShape_: function () {\n    if (this.hasElse_) {\n      // Update plus/minus buttons.\n      if (this.getField(\"PLUS\")) {\n        this.getInput(\"PLUS_MINUS\").removeField(\"PLUS\");\n      }\n      if (!this.getField(\"MINUS\")) {\n        this.getInput(\"PLUS_MINUS\").appendField(createMinusField(), \"MINUS\");\n      }\n      // Add \"else\" input.\n      if (!this.getInput(\"ELSE\")) {\n        this.appendStatementInput(\"ELSE\").appendField(\n          Msg[\"REACTIVITY_WHEN_ELSE\"]\n        );\n      }\n    } else {\n      // Update plus/minus buttons.\n      if (!this.getField(\"PLUS\")) {\n        this.getInput(\"PLUS_MINUS\").appendField(createPlusField(), \"PLUS\");\n      }\n      if (this.getField(\"MINUS\")) {\n        this.getInput(\"PLUS_MINUS\").removeField(\"MINUS\");\n      }\n      // Remove \"else\" input.\n      if (this.getInput(\"ELSE\")) {\n        this.removeInput(\"ELSE\");\n      }\n    }\n  },\n};\n\n/**\n * Adds the initial plus button.\n * @this {Blockly.Block}\n */\nconst REACTIVITY_WHEN_MUTATOR_HELPER = function () {\n  this.updateShape_();\n};\n\nExtensions.registerMutator(\n  \"reactivity_when_mutator\",\n  REACTIVITY_WHEN_MUTATOR_MIXIN,\n  REACTIVITY_WHEN_MUTATOR_HELPER,\n  [\"reactivity_when_else\"]\n);\n","import \"./app\";\nimport \"./components\";\nimport \"./keyboard\";\nimport \"./links\";\nimport \"./media\";\nimport \"./reactivity\";\n"],"names":["defineBlocksWithJsonArray","type","message0","message1","args1","name","style","tooltip","helpUrl","previousStatement","nextStatement","output","ref","unref","watchEffect","Extensions","Msg","Css","FieldDropdown","useModule","EMPTY_OPTION","BREADCRUMB_SEPARATOR","SUPPORTED_PROPERTIES","getComponentOptions","components","arguments","length","undefined","recursive","breadcrumb_","_useModule","activeScenario","getComponentChildren","getComponentLabel","getComponentIconURL","options","forEach","c","label","icon_url","document","createElement","classList","add","icon","src","appendChild","text","createTextNode","breadcrumb_text","breadcrumb","setAttribute","children","sub_components","includes","reverse","option","expanded","id","push","getPropertyOptions","component_type","COMPONENTS_EMPTY_OPTION","concat","_toConsumableArray","map","property","COMPONENTS_PROPERTY","_useModule2","getModelByType","Object","keys","properties","filter","scenarioOptions","_useModule3","getComponentsByType","value","register","scenario_input","getInput","scenario_field","block","getSourceBlock","setEnabled","setTooltip","COMPONENTS_NO_SCENARIO_TOOLTIP","searchable","appendField","blockOptions","_useModule4","block_input","block_field","COMPONENTS_NO_BLOCK_TOOLTIP","componentOptions","_useModule5","_this","component_input","mock","endsWith","component_field","empty_option","default","hidden","COMPONENTS_PROPERTY_MOCK_TOOLTIP","replace","property_","property_input","property_field","component_value","getFieldValue","getComponentType_","PROPERTY_OPTIONS_MUTATOR_MIXIN","saveExtraState","loadExtraState","state","onchange","evt","updatePropertyField_","element","newType","newValue","oldType","oldValue","updateChecks_","_component_value$spli","split","_component_value$spli2","_slicedToArray","getPropertyValueTypeCheck_","property_name","_getModelByType$prope","_useModule6","format","Array","isArray","find","t","_this2","getField","getOptions","match","o","setValue","property_value","value_input","setCheck","outputConnection","registerMutator","args0","extensions","inputsInline","mutator","check","triggerOptions","parser","DOMParser","ids","Set","component","doc","parseFromString","querySelectorAll","el","dataset","behaviorTrigger","size","LINKS_EMPTY_OPTION","from","sort","field","LINKS_CLICK_EMPTY_TOOLTIP","LINKS_CLICK_TOOLTIP","Blockly","getExtraBlockState","JSON","stringify","mutationToDom","Xml","domToText","createMinusField","args","minus","FieldImage","minusImage","onClick_","args_","minusField","isInFlyout","Events","setGroup","oldExtraState","newExtraState","fire","BlockChange","createPlusField","plus","plusImage","plusField","FieldCheckbox","FieldLabel","enableContextMenu","MEDIA_PLAY_EXCERPT_MUTATOR_MIXIN","hasThen_","hasLinkHighlight_","data","hasLinkHighlight","hasThen","updateShape_","input","checkbox","fieldRow","removeField","appendStatementInput","removeInput","MEDIA_PLAY_EXCERPT_MUTATOR_HELPER","setOnChange","isUiEvent","parent_block","getSurroundParent","REACTIVITY_WHEN_MUTATOR_MIXIN","hasElse_","hasElse","REACTIVITY_WHEN_MUTATOR_HELPER"],"sourceRoot":""}