(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["metaScore"] = factory();
	else
		root["metaScore"] = factory();
})((typeof self !== 'undefined' ? self : this), function() {
return /******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 39241:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $y: function() { return /* binding */ isReadonly; },
/* harmony export */   B: function() { return /* binding */ effectScope; },
/* harmony export */   BK: function() { return /* binding */ toRefs; },
/* harmony export */   Bj: function() { return /* binding */ EffectScope; },
/* harmony export */   EB: function() { return /* binding */ onScopeDispose; },
/* harmony export */   Fl: function() { return /* binding */ computed; },
/* harmony export */   IU: function() { return /* binding */ toRaw; },
/* harmony export */   Jd: function() { return /* binding */ pauseTracking; },
/* harmony export */   OT: function() { return /* binding */ readonly; },
/* harmony export */   PG: function() { return /* binding */ isReactive; },
/* harmony export */   SU: function() { return /* binding */ unref; },
/* harmony export */   Um: function() { return /* binding */ shallowReactive; },
/* harmony export */   Vh: function() { return /* binding */ toRef; },
/* harmony export */   WL: function() { return /* binding */ proxyRefs; },
/* harmony export */   X$: function() { return /* binding */ trigger; },
/* harmony export */   X3: function() { return /* binding */ isProxy; },
/* harmony export */   XI: function() { return /* binding */ shallowRef; },
/* harmony export */   Xl: function() { return /* binding */ markRaw; },
/* harmony export */   dq: function() { return /* binding */ isRef; },
/* harmony export */   iH: function() { return /* binding */ ref; },
/* harmony export */   j: function() { return /* binding */ track; },
/* harmony export */   lk: function() { return /* binding */ resetTracking; },
/* harmony export */   nZ: function() { return /* binding */ getCurrentScope; },
/* harmony export */   qj: function() { return /* binding */ reactive; },
/* harmony export */   qq: function() { return /* binding */ ReactiveEffect; },
/* harmony export */   yT: function() { return /* binding */ isShallow; }
/* harmony export */ });
/* unused harmony exports ITERATE_KEY, ReactiveFlags, TrackOpTypes, TriggerOpTypes, customRef, deferredComputed, effect, enableTracking, pauseScheduling, resetScheduling, shallowReadonly, stop, toValue, triggerRef */
/* harmony import */ var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30050);
/* harmony import */ var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(64224);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21919);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(47316);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(30911);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(2979);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16097);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(83690);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(17865);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(89465);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(34338);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(70560);
/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(752);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(76265);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(56646);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(51090);
/* harmony import */ var core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(59749);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(86544);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(47522);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(19649);
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(38077);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(50886);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(32349);
/* harmony import */ var core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(76034);
/* harmony import */ var core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var core_js_modules_es_reflect_set_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(45247);
/* harmony import */ var core_js_modules_es_reflect_set_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_set_js__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var core_js_modules_es_reflect_delete_property_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(1049);
/* harmony import */ var core_js_modules_es_reflect_delete_property_js__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_delete_property_js__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var core_js_modules_es_reflect_has_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(69707);
/* harmony import */ var core_js_modules_es_reflect_has_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_has_js__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(62087);
/* harmony import */ var core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var core_js_modules_es_reflect_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(43792);
/* harmony import */ var core_js_modules_es_reflect_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var _vue_shared__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(88686);










function _callSuper(t, o, e) { return o = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(o), (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(t, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)() ? Reflect.construct(o, e || [], (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z)(t).constructor) : o.apply(t, e)); }




















/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/

function warn(msg) {
  var _console;
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }
  (_console = console).warn.apply(_console, [`[Vue warn] ${msg}`].concat(args));
}
var activeEffectScope;
var EffectScope = /*#__PURE__*/function () {
  function EffectScope() {
    var detached = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, EffectScope);
    this.detached = detached;
    /**
     * @internal
     */
    this._active = true;
    /**
     * @internal
     */
    this.effects = [];
    /**
     * @internal
     */
    this.cleanups = [];
    this.parent = activeEffectScope;
    if (!detached && activeEffectScope) {
      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;
    }
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(EffectScope, [{
    key: "active",
    get: function get() {
      return this._active;
    }
  }, {
    key: "run",
    value: function run(fn) {
      if (this._active) {
        var currentEffectScope = activeEffectScope;
        try {
          activeEffectScope = this;
          return fn();
        } finally {
          activeEffectScope = currentEffectScope;
        }
      } else if (false) {}
    }
    /**
     * This should only be called on non-detached scopes
     * @internal
     */
  }, {
    key: "on",
    value: function on() {
      activeEffectScope = this;
    }
    /**
     * This should only be called on non-detached scopes
     * @internal
     */
  }, {
    key: "off",
    value: function off() {
      activeEffectScope = this.parent;
    }
  }, {
    key: "stop",
    value: function stop(fromParent) {
      if (this._active) {
        var i, l;
        for (i = 0, l = this.effects.length; i < l; i++) {
          this.effects[i].stop();
        }
        for (i = 0, l = this.cleanups.length; i < l; i++) {
          this.cleanups[i]();
        }
        if (this.scopes) {
          for (i = 0, l = this.scopes.length; i < l; i++) {
            this.scopes[i].stop(true);
          }
        }
        if (!this.detached && this.parent && !fromParent) {
          var last = this.parent.scopes.pop();
          if (last && last !== this) {
            this.parent.scopes[this.index] = last;
            last.index = this.index;
          }
        }
        this.parent = void 0;
        this._active = false;
      }
    }
  }]);
  return EffectScope;
}();
function effectScope(detached) {
  return new EffectScope(detached);
}
function recordEffectScope(effect) {
  var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : activeEffectScope;
  if (scope && scope.active) {
    scope.effects.push(effect);
  }
}
function getCurrentScope() {
  return activeEffectScope;
}
function onScopeDispose(fn) {
  if (activeEffectScope) {
    activeEffectScope.cleanups.push(fn);
  } else if (false) {}
}
var activeEffect;
var ReactiveEffect = /*#__PURE__*/function () {
  function ReactiveEffect(fn, trigger, scheduler, scope) {
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, ReactiveEffect);
    this.fn = fn;
    this.trigger = trigger;
    this.scheduler = scheduler;
    this.active = true;
    this.deps = [];
    /**
     * @internal
     */
    this._dirtyLevel = 2;
    /**
     * @internal
     */
    this._trackId = 0;
    /**
     * @internal
     */
    this._runnings = 0;
    /**
     * @internal
     */
    this._shouldSchedule = false;
    /**
     * @internal
     */
    this._depsLength = 0;
    recordEffectScope(this, scope);
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(ReactiveEffect, [{
    key: "dirty",
    get: function get() {
      if (this._dirtyLevel === 1) {
        pauseTracking();
        for (var i = 0; i < this._depsLength; i++) {
          var dep = this.deps[i];
          if (dep.computed) {
            triggerComputed(dep.computed);
            if (this._dirtyLevel >= 2) {
              break;
            }
          }
        }
        if (this._dirtyLevel < 2) {
          this._dirtyLevel = 0;
        }
        resetTracking();
      }
      return this._dirtyLevel >= 2;
    },
    set: function set(v) {
      this._dirtyLevel = v ? 2 : 0;
    }
  }, {
    key: "run",
    value: function run() {
      this._dirtyLevel = 0;
      if (!this.active) {
        return this.fn();
      }
      var lastShouldTrack = shouldTrack;
      var lastEffect = activeEffect;
      try {
        shouldTrack = true;
        activeEffect = this;
        this._runnings++;
        preCleanupEffect(this);
        return this.fn();
      } finally {
        postCleanupEffect(this);
        this._runnings--;
        activeEffect = lastEffect;
        shouldTrack = lastShouldTrack;
      }
    }
  }, {
    key: "stop",
    value: function stop() {
      var _a;
      if (this.active) {
        preCleanupEffect(this);
        postCleanupEffect(this);
        (_a = this.onStop) == null ? void 0 : _a.call(this);
        this.active = false;
      }
    }
  }]);
  return ReactiveEffect;
}();
function triggerComputed(computed) {
  return computed.value;
}
function preCleanupEffect(effect2) {
  effect2._trackId++;
  effect2._depsLength = 0;
}
function postCleanupEffect(effect2) {
  if (effect2.deps && effect2.deps.length > effect2._depsLength) {
    for (var i = effect2._depsLength; i < effect2.deps.length; i++) {
      cleanupDepEffect(effect2.deps[i], effect2);
    }
    effect2.deps.length = effect2._depsLength;
  }
}
function cleanupDepEffect(dep, effect2) {
  var trackId = dep.get(effect2);
  if (trackId !== void 0 && effect2._trackId !== trackId) {
    dep.delete(effect2);
    if (dep.size === 0) {
      dep.cleanup();
    }
  }
}
function effect(fn, options) {
  if (fn.effect instanceof ReactiveEffect) {
    fn = fn.effect.fn;
  }
  var _effect = new ReactiveEffect(fn, NOOP, function () {
    if (_effect.dirty) {
      _effect.run();
    }
  });
  if (options) {
    extend(_effect, options);
    if (options.scope) recordEffectScope(_effect, options.scope);
  }
  if (!options || !options.lazy) {
    _effect.run();
  }
  var runner = _effect.run.bind(_effect);
  runner.effect = _effect;
  return runner;
}
function stop(runner) {
  runner.effect.stop();
}
var shouldTrack = true;
var pauseScheduleStack = 0;
var trackStack = [];
function pauseTracking() {
  trackStack.push(shouldTrack);
  shouldTrack = false;
}
function enableTracking() {
  trackStack.push(shouldTrack);
  shouldTrack = true;
}
function resetTracking() {
  var last = trackStack.pop();
  shouldTrack = last === void 0 ? true : last;
}
function pauseScheduling() {
  pauseScheduleStack++;
}
function resetScheduling() {
  pauseScheduleStack--;
  while (!pauseScheduleStack && queueEffectSchedulers.length) {
    queueEffectSchedulers.shift()();
  }
}
function trackEffect(effect2, dep, debuggerEventExtraInfo) {
  var _a;
  if (dep.get(effect2) !== effect2._trackId) {
    dep.set(effect2, effect2._trackId);
    var oldDep = effect2.deps[effect2._depsLength];
    if (oldDep !== dep) {
      if (oldDep) {
        cleanupDepEffect(oldDep, effect2);
      }
      effect2.deps[effect2._depsLength++] = dep;
    } else {
      effect2._depsLength++;
    }
    if (false) {}
  }
}
var queueEffectSchedulers = [];
function triggerEffects(dep, dirtyLevel, debuggerEventExtraInfo) {
  var _a;
  pauseScheduling();
  var _iterator = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(dep.keys()),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var effect2 = _step.value;
      if (effect2._dirtyLevel < dirtyLevel && dep.get(effect2) === effect2._trackId) {
        var lastDirtyLevel = effect2._dirtyLevel;
        effect2._dirtyLevel = dirtyLevel;
        if (lastDirtyLevel === 0) {
          effect2._shouldSchedule = true;
          if (false) {}
          effect2.trigger();
        }
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  scheduleEffects(dep);
  resetScheduling();
}
function scheduleEffects(dep) {
  var _iterator2 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(dep.keys()),
    _step2;
  try {
    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
      var effect2 = _step2.value;
      if (effect2.scheduler && effect2._shouldSchedule && (!effect2._runnings || effect2.allowRecurse) && dep.get(effect2) === effect2._trackId) {
        effect2._shouldSchedule = false;
        queueEffectSchedulers.push(effect2.scheduler);
      }
    }
  } catch (err) {
    _iterator2.e(err);
  } finally {
    _iterator2.f();
  }
}
var createDep = function createDep(cleanup, computed) {
  var dep = /* @__PURE__ */new Map();
  dep.cleanup = cleanup;
  dep.computed = computed;
  return dep;
};
var targetMap = /* @__PURE__ */new WeakMap();
var ITERATE_KEY = Symbol( false ? 0 : "");
var MAP_KEY_ITERATE_KEY = Symbol( false ? 0 : "");
function track(target, type, key) {
  if (shouldTrack && activeEffect) {
    var depsMap = targetMap.get(target);
    if (!depsMap) {
      targetMap.set(target, depsMap = /* @__PURE__ */new Map());
    }
    var dep = depsMap.get(key);
    if (!dep) {
      depsMap.set(key, dep = createDep(function () {
        return depsMap.delete(key);
      }));
    }
    trackEffect(activeEffect, dep,  false ? 0 : void 0);
  }
}
function trigger(target, type, key, newValue, oldValue, oldTarget) {
  var depsMap = targetMap.get(target);
  if (!depsMap) {
    return;
  }
  var deps = [];
  if (type === "clear") {
    deps = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(depsMap.values());
  } else if (key === "length" && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(target)) {
    var newLength = Number(newValue);
    depsMap.forEach(function (dep, key2) {
      if (key2 === "length" || !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isSymbol */ .yk)(key2) && key2 >= newLength) {
        deps.push(dep);
      }
    });
  } else {
    if (key !== void 0) {
      deps.push(depsMap.get(key));
    }
    switch (type) {
      case "add":
        if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(target)) {
          deps.push(depsMap.get(ITERATE_KEY));
          if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isMap */ ._N)(target)) {
            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));
          }
        } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isIntegerKey */ .S0)(key)) {
          deps.push(depsMap.get("length"));
        }
        break;
      case "delete":
        if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(target)) {
          deps.push(depsMap.get(ITERATE_KEY));
          if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isMap */ ._N)(target)) {
            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));
          }
        }
        break;
      case "set":
        if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isMap */ ._N)(target)) {
          deps.push(depsMap.get(ITERATE_KEY));
        }
        break;
    }
  }
  pauseScheduling();
  var _iterator3 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(deps),
    _step3;
  try {
    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
      var dep = _step3.value;
      if (dep) {
        triggerEffects(dep, 2,  false ? 0 : void 0);
      }
    }
  } catch (err) {
    _iterator3.e(err);
  } finally {
    _iterator3.f();
  }
  resetScheduling();
}
function getDepFromReactive(object, key) {
  var _a;
  return (_a = targetMap.get(object)) == null ? void 0 : _a.get(key);
}
var isNonTrackableKeys = /* @__PURE__ */(0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .makeMap */ .fY)(`__proto__,__v_isRef,__isVue`);
var builtInSymbols = new Set( /* @__PURE__ */Object.getOwnPropertyNames(Symbol).filter(function (key) {
  return key !== "arguments" && key !== "caller";
}).map(function (key) {
  return Symbol[key];
}).filter(_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isSymbol */ .yk));
var arrayInstrumentations = /* @__PURE__ */createArrayInstrumentations();
function createArrayInstrumentations() {
  var instrumentations = {};
  ["includes", "indexOf", "lastIndexOf"].forEach(function (key) {
    instrumentations[key] = function () {
      var arr = toRaw(this);
      for (var i = 0, l = this.length; i < l; i++) {
        track(arr, "get", i + "");
      }
      for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {
        args[_key3] = arguments[_key3];
      }
      var res = arr[key].apply(arr, args);
      if (res === -1 || res === false) {
        return arr[key].apply(arr, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(args.map(toRaw)));
      } else {
        return res;
      }
    };
  });
  ["push", "pop", "shift", "unshift", "splice"].forEach(function (key) {
    instrumentations[key] = function () {
      pauseTracking();
      pauseScheduling();
      for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {
        args[_key4] = arguments[_key4];
      }
      var res = toRaw(this)[key].apply(this, args);
      resetScheduling();
      resetTracking();
      return res;
    };
  });
  return instrumentations;
}
function hasOwnProperty(key) {
  var obj = toRaw(this);
  track(obj, "has", key);
  return obj.hasOwnProperty(key);
}
var BaseReactiveHandler = /*#__PURE__*/function () {
  function BaseReactiveHandler() {
    var _isReadonly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var _shallow = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, BaseReactiveHandler);
    this._isReadonly = _isReadonly;
    this._shallow = _shallow;
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(BaseReactiveHandler, [{
    key: "get",
    value: function get(target, key, receiver) {
      var isReadonly2 = this._isReadonly,
        shallow = this._shallow;
      if (key === "__v_isReactive") {
        return !isReadonly2;
      } else if (key === "__v_isReadonly") {
        return isReadonly2;
      } else if (key === "__v_isShallow") {
        return shallow;
      } else if (key === "__v_raw") {
        if (receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target) ||
        // receiver is not the reactive proxy, but has the same prototype
        // this means the reciever is a user proxy of the reactive proxy
        Object.getPrototypeOf(target) === Object.getPrototypeOf(receiver)) {
          return target;
        }
        return;
      }
      var targetIsArray = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(target);
      if (!isReadonly2) {
        if (targetIsArray && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasOwn */ .RI)(arrayInstrumentations, key)) {
          return Reflect.get(arrayInstrumentations, key, receiver);
        }
        if (key === "hasOwnProperty") {
          return hasOwnProperty;
        }
      }
      var res = Reflect.get(target, key, receiver);
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isSymbol */ .yk)(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {
        return res;
      }
      if (!isReadonly2) {
        track(target, "get", key);
      }
      if (shallow) {
        return res;
      }
      if (isRef(res)) {
        return targetIsArray && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isIntegerKey */ .S0)(key) ? res : res.value;
      }
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isObject */ .Kn)(res)) {
        return isReadonly2 ? readonly(res) : reactive(res);
      }
      return res;
    }
  }]);
  return BaseReactiveHandler;
}();
var MutableReactiveHandler = /*#__PURE__*/function (_BaseReactiveHandler) {
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(MutableReactiveHandler, _BaseReactiveHandler);
  function MutableReactiveHandler() {
    var shallow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, MutableReactiveHandler);
    return _callSuper(this, MutableReactiveHandler, [false, shallow]);
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(MutableReactiveHandler, [{
    key: "set",
    value: function set(target, key, value, receiver) {
      var oldValue = target[key];
      if (!this._shallow) {
        var isOldValueReadonly = isReadonly(oldValue);
        if (!isShallow(value) && !isReadonly(value)) {
          oldValue = toRaw(oldValue);
          value = toRaw(value);
        }
        if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(target) && isRef(oldValue) && !isRef(value)) {
          if (isOldValueReadonly) {
            return false;
          } else {
            oldValue.value = value;
            return true;
          }
        }
      }
      var hadKey = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(target) && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isIntegerKey */ .S0)(key) ? Number(key) < target.length : (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasOwn */ .RI)(target, key);
      var result = Reflect.set(target, key, value, receiver);
      if (target === toRaw(receiver)) {
        if (!hadKey) {
          trigger(target, "add", key, value);
        } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasChanged */ .aU)(value, oldValue)) {
          trigger(target, "set", key, value, oldValue);
        }
      }
      return result;
    }
  }, {
    key: "deleteProperty",
    value: function deleteProperty(target, key) {
      var hadKey = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasOwn */ .RI)(target, key);
      var oldValue = target[key];
      var result = Reflect.deleteProperty(target, key);
      if (result && hadKey) {
        trigger(target, "delete", key, void 0, oldValue);
      }
      return result;
    }
  }, {
    key: "has",
    value: function has(target, key) {
      var result = Reflect.has(target, key);
      if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isSymbol */ .yk)(key) || !builtInSymbols.has(key)) {
        track(target, "has", key);
      }
      return result;
    }
  }, {
    key: "ownKeys",
    value: function ownKeys(target) {
      track(target, "iterate", (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(target) ? "length" : ITERATE_KEY);
      return Reflect.ownKeys(target);
    }
  }]);
  return MutableReactiveHandler;
}(BaseReactiveHandler);
var ReadonlyReactiveHandler = /*#__PURE__*/function (_BaseReactiveHandler2) {
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(ReadonlyReactiveHandler, _BaseReactiveHandler2);
  function ReadonlyReactiveHandler() {
    var shallow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, ReadonlyReactiveHandler);
    return _callSuper(this, ReadonlyReactiveHandler, [true, shallow]);
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(ReadonlyReactiveHandler, [{
    key: "set",
    value: function set(target, key) {
      if (false) {}
      return true;
    }
  }, {
    key: "deleteProperty",
    value: function deleteProperty(target, key) {
      if (false) {}
      return true;
    }
  }]);
  return ReadonlyReactiveHandler;
}(BaseReactiveHandler);
var mutableHandlers = /* @__PURE__ */new MutableReactiveHandler();
var readonlyHandlers = /* @__PURE__ */new ReadonlyReactiveHandler();
var shallowReactiveHandlers = /* @__PURE__ */new MutableReactiveHandler(true);
var shallowReadonlyHandlers = /* @__PURE__ */new ReadonlyReactiveHandler(true);
var toShallow = function toShallow(value) {
  return value;
};
var getProto = function getProto(v) {
  return Reflect.getPrototypeOf(v);
};
function get(target, key) {
  var isReadonly = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var isShallow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  target = target["__v_raw"];
  var rawTarget = toRaw(target);
  var rawKey = toRaw(key);
  if (!isReadonly) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasChanged */ .aU)(key, rawKey)) {
      track(rawTarget, "get", key);
    }
    track(rawTarget, "get", rawKey);
  }
  var _getProto = getProto(rawTarget),
    has2 = _getProto.has;
  var wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
  if (has2.call(rawTarget, key)) {
    return wrap(target.get(key));
  } else if (has2.call(rawTarget, rawKey)) {
    return wrap(target.get(rawKey));
  } else if (target !== rawTarget) {
    target.get(key);
  }
}
function has(key) {
  var isReadonly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var target = this["__v_raw"];
  var rawTarget = toRaw(target);
  var rawKey = toRaw(key);
  if (!isReadonly) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasChanged */ .aU)(key, rawKey)) {
      track(rawTarget, "has", key);
    }
    track(rawTarget, "has", rawKey);
  }
  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);
}
function size(target) {
  var isReadonly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  target = target["__v_raw"];
  !isReadonly && track(toRaw(target), "iterate", ITERATE_KEY);
  return Reflect.get(target, "size", target);
}
function add(value) {
  value = toRaw(value);
  var target = toRaw(this);
  var proto = getProto(target);
  var hadKey = proto.has.call(target, value);
  if (!hadKey) {
    target.add(value);
    trigger(target, "add", value, value);
  }
  return this;
}
function set(key, value) {
  value = toRaw(value);
  var target = toRaw(this);
  var _getProto2 = getProto(target),
    has2 = _getProto2.has,
    get2 = _getProto2.get;
  var hadKey = has2.call(target, key);
  if (!hadKey) {
    key = toRaw(key);
    hadKey = has2.call(target, key);
  } else if (false) {}
  var oldValue = get2.call(target, key);
  target.set(key, value);
  if (!hadKey) {
    trigger(target, "add", key, value);
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasChanged */ .aU)(value, oldValue)) {
    trigger(target, "set", key, value, oldValue);
  }
  return this;
}
function deleteEntry(key) {
  var target = toRaw(this);
  var _getProto3 = getProto(target),
    has2 = _getProto3.has,
    get2 = _getProto3.get;
  var hadKey = has2.call(target, key);
  if (!hadKey) {
    key = toRaw(key);
    hadKey = has2.call(target, key);
  } else if (false) {}
  var oldValue = get2 ? get2.call(target, key) : void 0;
  var result = target.delete(key);
  if (hadKey) {
    trigger(target, "delete", key, void 0, oldValue);
  }
  return result;
}
function clear() {
  var target = toRaw(this);
  var hadItems = target.size !== 0;
  var oldTarget =  false ? 0 : void 0;
  var result = target.clear();
  if (hadItems) {
    trigger(target, "clear", void 0, void 0, oldTarget);
  }
  return result;
}
function createForEach(isReadonly, isShallow) {
  return function forEach(callback, thisArg) {
    var observed = this;
    var target = observed["__v_raw"];
    var rawTarget = toRaw(target);
    var wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    !isReadonly && track(rawTarget, "iterate", ITERATE_KEY);
    return target.forEach(function (value, key) {
      return callback.call(thisArg, wrap(value), wrap(key), observed);
    });
  };
}
function createIterableMethod(method, isReadonly, isShallow) {
  return function () {
    var target = this["__v_raw"];
    var rawTarget = toRaw(target);
    var targetIsMap = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isMap */ ._N)(rawTarget);
    var isPair = method === "entries" || method === Symbol.iterator && targetIsMap;
    var isKeyOnly = method === "keys" && targetIsMap;
    var innerIterator = target[method].apply(target, arguments);
    var wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;
    !isReadonly && track(rawTarget, "iterate", isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);
    return {
      // iterator protocol
      next() {
        var _innerIterator$next = innerIterator.next(),
          value = _innerIterator$next.value,
          done = _innerIterator$next.done;
        return done ? {
          value,
          done
        } : {
          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),
          done
        };
      },
      // iterable protocol
      [Symbol.iterator]() {
        return this;
      }
    };
  };
}
function createReadonlyMethod(type) {
  return function () {
    if (false) { var key; }
    return type === "delete" ? false : type === "clear" ? void 0 : this;
  };
}
function createInstrumentations() {
  var mutableInstrumentations2 = {
    get(key) {
      return get(this, key);
    },
    get size() {
      return size(this);
    },
    has,
    add,
    set,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, false)
  };
  var shallowInstrumentations2 = {
    get(key) {
      return get(this, key, false, true);
    },
    get size() {
      return size(this);
    },
    has,
    add,
    set,
    delete: deleteEntry,
    clear,
    forEach: createForEach(false, true)
  };
  var readonlyInstrumentations2 = {
    get(key) {
      return get(this, key, true);
    },
    get size() {
      return size(this, true);
    },
    has(key) {
      return has.call(this, key, true);
    },
    add: createReadonlyMethod("add"),
    set: createReadonlyMethod("set"),
    delete: createReadonlyMethod("delete"),
    clear: createReadonlyMethod("clear"),
    forEach: createForEach(true, false)
  };
  var shallowReadonlyInstrumentations2 = {
    get(key) {
      return get(this, key, true, true);
    },
    get size() {
      return size(this, true);
    },
    has(key) {
      return has.call(this, key, true);
    },
    add: createReadonlyMethod("add"),
    set: createReadonlyMethod("set"),
    delete: createReadonlyMethod("delete"),
    clear: createReadonlyMethod("clear"),
    forEach: createForEach(true, true)
  };
  var iteratorMethods = ["keys", "values", "entries", Symbol.iterator];
  iteratorMethods.forEach(function (method) {
    mutableInstrumentations2[method] = createIterableMethod(method, false, false);
    readonlyInstrumentations2[method] = createIterableMethod(method, true, false);
    shallowInstrumentations2[method] = createIterableMethod(method, false, true);
    shallowReadonlyInstrumentations2[method] = createIterableMethod(method, true, true);
  });
  return [mutableInstrumentations2, readonlyInstrumentations2, shallowInstrumentations2, shallowReadonlyInstrumentations2];
}
var _createInstrumentatio = /* @__PURE__ */createInstrumentations(),
  _createInstrumentatio2 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(_createInstrumentatio, 4),
  mutableInstrumentations = _createInstrumentatio2[0],
  readonlyInstrumentations = _createInstrumentatio2[1],
  shallowInstrumentations = _createInstrumentatio2[2],
  shallowReadonlyInstrumentations = _createInstrumentatio2[3];
function createInstrumentationGetter(isReadonly, shallow) {
  var instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;
  return function (target, key, receiver) {
    if (key === "__v_isReactive") {
      return !isReadonly;
    } else if (key === "__v_isReadonly") {
      return isReadonly;
    } else if (key === "__v_raw") {
      return target;
    }
    return Reflect.get((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasOwn */ .RI)(instrumentations, key) && key in target ? instrumentations : target, key, receiver);
  };
}
var mutableCollectionHandlers = {
  get: /* @__PURE__ */createInstrumentationGetter(false, false)
};
var shallowCollectionHandlers = {
  get: /* @__PURE__ */createInstrumentationGetter(false, true)
};
var readonlyCollectionHandlers = {
  get: /* @__PURE__ */createInstrumentationGetter(true, false)
};
var shallowReadonlyCollectionHandlers = {
  get: /* @__PURE__ */createInstrumentationGetter(true, true)
};
function checkIdentityKeys(target, has2, key) {
  var rawKey = toRaw(key);
  if (rawKey !== key && has2.call(target, rawKey)) {
    var type = toRawType(target);
    console.warn(`Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`);
  }
}
var reactiveMap = /* @__PURE__ */new WeakMap();
var shallowReactiveMap = /* @__PURE__ */new WeakMap();
var readonlyMap = /* @__PURE__ */new WeakMap();
var shallowReadonlyMap = /* @__PURE__ */new WeakMap();
function targetTypeMap(rawType) {
  switch (rawType) {
    case "Object":
    case "Array":
      return 1 /* COMMON */;
    case "Map":
    case "Set":
    case "WeakMap":
    case "WeakSet":
      return 2 /* COLLECTION */;
    default:
      return 0 /* INVALID */;
  }
}
function getTargetType(value) {
  return value["__v_skip"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .toRawType */ .W7)(value));
}
function reactive(target) {
  if (isReadonly(target)) {
    return target;
  }
  return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);
}
function shallowReactive(target) {
  return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);
}
function readonly(target) {
  return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);
}
function shallowReadonly(target) {
  return createReactiveObject(target, true, shallowReadonlyHandlers, shallowReadonlyCollectionHandlers, shallowReadonlyMap);
}
function createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {
  if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isObject */ .Kn)(target)) {
    if (false) {}
    return target;
  }
  if (target["__v_raw"] && !(isReadonly2 && target["__v_isReactive"])) {
    return target;
  }
  var existingProxy = proxyMap.get(target);
  if (existingProxy) {
    return existingProxy;
  }
  var targetType = getTargetType(target);
  if (targetType === 0 /* INVALID */) {
    return target;
  }
  var proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);
  proxyMap.set(target, proxy);
  return proxy;
}
function isReactive(value) {
  if (isReadonly(value)) {
    return isReactive(value["__v_raw"]);
  }
  return !!(value && value["__v_isReactive"]);
}
function isReadonly(value) {
  return !!(value && value["__v_isReadonly"]);
}
function isShallow(value) {
  return !!(value && value["__v_isShallow"]);
}
function isProxy(value) {
  return isReactive(value) || isReadonly(value);
}
function toRaw(observed) {
  var raw = observed && observed["__v_raw"];
  return raw ? toRaw(raw) : observed;
}
function markRaw(value) {
  (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .def */ .Nj)(value, "__v_skip", true);
  return value;
}
var toReactive = function toReactive(value) {
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isObject */ .Kn)(value) ? reactive(value) : value;
};
var toReadonly = function toReadonly(value) {
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isObject */ .Kn)(value) ? readonly(value) : value;
};
var ComputedRefImpl = /*#__PURE__*/function () {
  function ComputedRefImpl(getter, _setter, isReadonly, isSSR) {
    var _this = this;
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, ComputedRefImpl);
    this._setter = _setter;
    this.dep = void 0;
    this.__v_isRef = true;
    this["__v_isReadonly"] = false;
    this.effect = new ReactiveEffect(function () {
      return getter(_this._value);
    }, function () {
      return triggerRefValue(_this, 1);
    }, function () {
      return _this.dep && scheduleEffects(_this.dep);
    });
    this.effect.computed = this;
    this.effect.active = this._cacheable = !isSSR;
    this["__v_isReadonly"] = isReadonly;
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(ComputedRefImpl, [{
    key: "value",
    get: function get() {
      var self = toRaw(this);
      if (!self._cacheable || self.effect.dirty) {
        if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasChanged */ .aU)(self._value, self._value = self.effect.run())) {
          triggerRefValue(self, 2);
        }
      }
      trackRefValue(self);
      if (self.effect._dirtyLevel >= 1) {
        triggerRefValue(self, 1);
      }
      return self._value;
    },
    set: function set(newValue) {
      this._setter(newValue);
    }
    // #region polyfill _dirty for backward compatibility third party code for Vue <= 3.3.x
  }, {
    key: "_dirty",
    get: function get() {
      return this.effect.dirty;
    },
    set: function set(v) {
      this.effect.dirty = v;
    }
    // #endregion
  }]);
  return ComputedRefImpl;
}();
function computed(getterOrOptions, debugOptions) {
  var isSSR = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var getter;
  var setter;
  var onlyGetter = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isFunction */ .mf)(getterOrOptions);
  if (onlyGetter) {
    getter = getterOrOptions;
    setter =  false ? 0 : _vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .NOOP */ .dG;
  } else {
    getter = getterOrOptions.get;
    setter = getterOrOptions.set;
  }
  var cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);
  if (false) {}
  return cRef;
}
function trackRefValue(ref2) {
  if (shouldTrack && activeEffect) {
    ref2 = toRaw(ref2);
    trackEffect(activeEffect, ref2.dep || (ref2.dep = createDep(function () {
      return ref2.dep = void 0;
    }, ref2 instanceof ComputedRefImpl ? ref2 : void 0)),  false ? 0 : void 0);
  }
}
function triggerRefValue(ref2) {
  var dirtyLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
  var newVal = arguments.length > 2 ? arguments[2] : undefined;
  ref2 = toRaw(ref2);
  var dep = ref2.dep;
  if (dep) {
    triggerEffects(dep, dirtyLevel,  false ? 0 : void 0);
  }
}
function isRef(r) {
  return !!(r && r.__v_isRef === true);
}
function ref(value) {
  return createRef(value, false);
}
function shallowRef(value) {
  return createRef(value, true);
}
function createRef(rawValue, shallow) {
  if (isRef(rawValue)) {
    return rawValue;
  }
  return new RefImpl(rawValue, shallow);
}
var RefImpl = /*#__PURE__*/function () {
  function RefImpl(value, __v_isShallow) {
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, RefImpl);
    this.__v_isShallow = __v_isShallow;
    this.dep = void 0;
    this.__v_isRef = true;
    this._rawValue = __v_isShallow ? value : toRaw(value);
    this._value = __v_isShallow ? value : toReactive(value);
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(RefImpl, [{
    key: "value",
    get: function get() {
      trackRefValue(this);
      return this._value;
    },
    set: function set(newVal) {
      var useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);
      newVal = useDirectValue ? newVal : toRaw(newVal);
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .hasChanged */ .aU)(newVal, this._rawValue)) {
        this._rawValue = newVal;
        this._value = useDirectValue ? newVal : toReactive(newVal);
        triggerRefValue(this, 2, newVal);
      }
    }
  }]);
  return RefImpl;
}();
function triggerRef(ref2) {
  triggerRefValue(ref2, 2,  false ? 0 : void 0);
}
function unref(ref2) {
  return isRef(ref2) ? ref2.value : ref2;
}
function toValue(source) {
  return isFunction(source) ? source() : unref(source);
}
var shallowUnwrapHandlers = {
  get: function get(target, key, receiver) {
    return unref(Reflect.get(target, key, receiver));
  },
  set: function set(target, key, value, receiver) {
    var oldValue = target[key];
    if (isRef(oldValue) && !isRef(value)) {
      oldValue.value = value;
      return true;
    } else {
      return Reflect.set(target, key, value, receiver);
    }
  }
};
function proxyRefs(objectWithRefs) {
  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);
}
var CustomRefImpl = /*#__PURE__*/(/* unused pure expression or super */ null && (function () {
  function CustomRefImpl(factory) {
    var _this2 = this;
    _classCallCheck(this, CustomRefImpl);
    this.dep = void 0;
    this.__v_isRef = true;
    var _factory = factory(function () {
        return trackRefValue(_this2);
      }, function () {
        return triggerRefValue(_this2);
      }),
      get = _factory.get,
      set = _factory.set;
    this._get = get;
    this._set = set;
  }
  _createClass(CustomRefImpl, [{
    key: "value",
    get: function get() {
      return this._get();
    },
    set: function set(newVal) {
      this._set(newVal);
    }
  }]);
  return CustomRefImpl;
}()));
function customRef(factory) {
  return new CustomRefImpl(factory);
}
function toRefs(object) {
  if (false) {}
  var ret = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isArray */ .kJ)(object) ? new Array(object.length) : {};
  for (var key in object) {
    ret[key] = propertyToRef(object, key);
  }
  return ret;
}
var ObjectRefImpl = /*#__PURE__*/function () {
  function ObjectRefImpl(_object, _key, _defaultValue) {
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, ObjectRefImpl);
    this._object = _object;
    this._key = _key;
    this._defaultValue = _defaultValue;
    this.__v_isRef = true;
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(ObjectRefImpl, [{
    key: "value",
    get: function get() {
      var val = this._object[this._key];
      return val === void 0 ? this._defaultValue : val;
    },
    set: function set(newVal) {
      this._object[this._key] = newVal;
    }
  }, {
    key: "dep",
    get: function get() {
      return getDepFromReactive(toRaw(this._object), this._key);
    }
  }]);
  return ObjectRefImpl;
}();
var GetterRefImpl = /*#__PURE__*/function () {
  function GetterRefImpl(_getter) {
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(this, GetterRefImpl);
    this._getter = _getter;
    this.__v_isRef = true;
    this.__v_isReadonly = true;
  }
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(GetterRefImpl, [{
    key: "value",
    get: function get() {
      return this._getter();
    }
  }]);
  return GetterRefImpl;
}();
function toRef(source, key, defaultValue) {
  if (isRef(source)) {
    return source;
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isFunction */ .mf)(source)) {
    return new GetterRefImpl(source);
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_30__/* .isObject */ .Kn)(source) && arguments.length > 1) {
    return propertyToRef(source, key, defaultValue);
  } else {
    return ref(source);
  }
}
function propertyToRef(source, key, defaultValue) {
  var val = source[key];
  return isRef(val) ? val : new ObjectRefImpl(source, key, defaultValue);
}
var deferredComputed = (/* unused pure expression or super */ null && (computed));
var TrackOpTypes = {
  "GET": "get",
  "HAS": "has",
  "ITERATE": "iterate"
};
var TriggerOpTypes = {
  "SET": "set",
  "ADD": "add",
  "DELETE": "delete",
  "CLEAR": "clear"
};
var ReactiveFlags = {
  "SKIP": "__v_skip",
  "IS_REACTIVE": "__v_isReactive",
  "IS_READONLY": "__v_isReadonly",
  "IS_SHALLOW": "__v_isShallow",
  "RAW": "__v_raw"
};


/***/ }),

/***/ 1120:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $d: function() { return /* binding */ callWithAsyncErrorHandling; },
/* harmony export */   Ah: function() { return /* binding */ onUnmounted; },
/* harmony export */   B: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.B; },
/* harmony export */   BK: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.BK; },
/* harmony export */   EB: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.EB; },
/* harmony export */   EM: function() { return /* binding */ hasInjectionContext; },
/* harmony export */   FN: function() { return /* binding */ getCurrentInstance; },
/* harmony export */   Fl: function() { return /* binding */ computed; },
/* harmony export */   HY: function() { return /* binding */ Fragment; },
/* harmony export */   IU: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.IU; },
/* harmony export */   Ko: function() { return /* binding */ renderList; },
/* harmony export */   LL: function() { return /* binding */ resolveDynamicComponent; },
/* harmony export */   P$: function() { return /* binding */ BaseTransition; },
/* harmony export */   PG: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.PG; },
/* harmony export */   Q2: function() { return /* binding */ resolveDirective; },
/* harmony export */   Q6: function() { return /* binding */ getTransitionRawChildren; },
/* harmony export */   SU: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.SU; },
/* harmony export */   U2: function() { return /* binding */ resolveTransitionHooks; },
/* harmony export */   Uk: function() { return /* binding */ createTextVNode; },
/* harmony export */   Us: function() { return /* binding */ createRenderer; },
/* harmony export */   Vh: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.Vh; },
/* harmony export */   WI: function() { return /* binding */ renderSlot; },
/* harmony export */   Wm: function() { return /* binding */ createVNode; },
/* harmony export */   Xl: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.Xl; },
/* harmony export */   Y3: function() { return /* binding */ nextTick; },
/* harmony export */   Y8: function() { return /* binding */ useTransitionState; },
/* harmony export */   YP: function() { return /* binding */ watch; },
/* harmony export */   _: function() { return /* binding */ createBaseVNode; },
/* harmony export */   aZ: function() { return /* binding */ defineComponent; },
/* harmony export */   bv: function() { return /* binding */ onMounted; },
/* harmony export */   dG: function() { return /* binding */ mergeProps; },
/* harmony export */   dq: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.dq; },
/* harmony export */   f3: function() { return /* binding */ inject; },
/* harmony export */   h: function() { return /* binding */ h; },
/* harmony export */   iD: function() { return /* binding */ createElementBlock; },
/* harmony export */   iH: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.iH; },
/* harmony export */   ic: function() { return /* binding */ onUpdated; },
/* harmony export */   j4: function() { return /* binding */ createBlock; },
/* harmony export */   kq: function() { return /* binding */ createCommentVNode; },
/* harmony export */   lR: function() { return /* binding */ Teleport; },
/* harmony export */   m0: function() { return /* binding */ watchEffect; },
/* harmony export */   nJ: function() { return /* binding */ BaseTransitionPropsValidators; },
/* harmony export */   nK: function() { return /* binding */ setTransitionHooks; },
/* harmony export */   nZ: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.nZ; },
/* harmony export */   qj: function() { return /* reexport safe */ _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__.qj; },
/* harmony export */   uE: function() { return /* binding */ createStaticVNode; },
/* harmony export */   up: function() { return /* binding */ resolveComponent; },
/* harmony export */   w5: function() { return /* binding */ withCtx; },
/* harmony export */   wF: function() { return /* binding */ onBeforeMount; },
/* harmony export */   wg: function() { return /* binding */ openBlock; },
/* harmony export */   wy: function() { return /* binding */ withDirectives; },
/* harmony export */   xv: function() { return /* binding */ Text; }
/* harmony export */ });
/* unused harmony exports Comment, DeprecationTypes, ErrorCodes, ErrorTypeStrings, KeepAlive, Static, Suspense, assertNumber, callWithErrorHandling, cloneVNode, compatUtils, createHydrationRenderer, createPropsRestProxy, createSlots, defineAsyncComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, guardReactiveProps, handleError, initCustomFormatter, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, onActivated, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onRenderTracked, onRenderTriggered, onServerPrefetch, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, resolveFilter, setBlockTracking, setDevtoolsHook, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useModel, useSSRContext, useSlots, version, warn, watchPostEffect, watchSyncEffect, withAsyncContext, withDefaults, withMemo, withScopeId */
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(64224);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(83690);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16097);
/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(70560);
/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(50886);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(34338);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(47522);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(89730);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(48324);
/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(73964);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(76801);
/* harmony import */ var core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(62506);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(43843);
/* harmony import */ var core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(752);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(56646);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(76265);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(65137);
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(19649);
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(268);
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(28436);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(64043);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(57267);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(32349);
/* harmony import */ var core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_get_js__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(76034);
/* harmony import */ var core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(59749);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(86544);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(21057);
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(38077);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(66793);
/* harmony import */ var core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(7629);
/* harmony import */ var core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(77509);
/* harmony import */ var core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(52003);
/* harmony import */ var core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(68518);
/* harmony import */ var core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(13440);
/* harmony import */ var core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(12826);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(7409);
/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var core_js_modules_es_array_unshift_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(91719);
/* harmony import */ var core_js_modules_es_array_unshift_js__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_unshift_js__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var core_js_modules_es_reflect_define_property_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(99871);
/* harmony import */ var core_js_modules_es_reflect_define_property_js__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_define_property_js__WEBPACK_IMPORTED_MODULE_38__);
/* harmony import */ var core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(62087);
/* harmony import */ var core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_own_keys_js__WEBPACK_IMPORTED_MODULE_39__);
/* harmony import */ var core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(51090);
/* harmony import */ var core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_weak_map_js__WEBPACK_IMPORTED_MODULE_40__);
/* harmony import */ var core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(50414);
/* harmony import */ var core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_weak_set_js__WEBPACK_IMPORTED_MODULE_41__);
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(22462);
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_42__);
/* harmony import */ var core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(2918);
/* harmony import */ var core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_ends_with_js__WEBPACK_IMPORTED_MODULE_43__);
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(9873);
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_44__);
/* harmony import */ var _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(39241);
/* harmony import */ var _vue_shared__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(88686);













































/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/




var stack = [];
function pushWarningContext(vnode) {
  stack.push(vnode);
}
function popWarningContext() {
  stack.pop();
}
function warn$1(msg) {
  (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .pauseTracking */ .Jd)();
  var instance = stack.length ? stack[stack.length - 1].component : null;
  var appWarnHandler = instance && instance.appContext.config.warnHandler;
  var trace = getComponentTrace();
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }
  if (appWarnHandler) {
    callWithErrorHandling(appWarnHandler, instance, 11, [msg + args.join(""), instance && instance.proxy, trace.map(function (_ref) {
      var vnode = _ref.vnode;
      return `at <${formatComponentName(instance, vnode.type)}>`;
    }).join("\n"), trace]);
  } else {
    var _console;
    var warnArgs = [`[Vue warn]: ${msg}`].concat(args);
    if (trace.length &&
    // avoid spamming console during tests
    true) {
      warnArgs.push.apply(warnArgs, [`
`].concat((0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(formatTrace(trace))));
    }
    (_console = console).warn.apply(_console, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(warnArgs));
  }
  (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .resetTracking */ .lk)();
}
function getComponentTrace() {
  var currentVNode = stack[stack.length - 1];
  if (!currentVNode) {
    return [];
  }
  var normalizedStack = [];
  while (currentVNode) {
    var last = normalizedStack[0];
    if (last && last.vnode === currentVNode) {
      last.recurseCount++;
    } else {
      normalizedStack.push({
        vnode: currentVNode,
        recurseCount: 0
      });
    }
    var parentInstance = currentVNode.component && currentVNode.component.parent;
    currentVNode = parentInstance && parentInstance.vnode;
  }
  return normalizedStack;
}
function formatTrace(trace) {
  var logs = [];
  trace.forEach(function (entry, i) {
    logs.push.apply(logs, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(i === 0 ? [] : [`
`]).concat((0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(formatTraceEntry(entry))));
  });
  return logs;
}
function formatTraceEntry(_ref2) {
  var vnode = _ref2.vnode,
    recurseCount = _ref2.recurseCount;
  var postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;
  var isRoot = vnode.component ? vnode.component.parent == null : false;
  var open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;
  var close = `>` + postfix;
  return vnode.props ? [open].concat((0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(formatProps(vnode.props)), [close]) : [open + close];
}
function formatProps(props) {
  var res = [];
  var keys = Object.keys(props);
  keys.slice(0, 3).forEach(function (key) {
    res.push.apply(res, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(formatProp(key, props[key])));
  });
  if (keys.length > 3) {
    res.push(` ...`);
  }
  return res;
}
function formatProp(key, value, raw) {
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(value)) {
    value = JSON.stringify(value);
    return raw ? value : [`${key}=${value}`];
  } else if (typeof value === "number" || typeof value === "boolean" || value == null) {
    return raw ? value : [`${key}=${value}`];
  } else if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(value)) {
    value = formatProp(key, (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .toRaw */ .IU)(value.value), true);
    return raw ? value : [`${key}=Ref<`, value, `>`];
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(value)) {
    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];
  } else {
    value = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .toRaw */ .IU)(value);
    return raw ? value : [`${key}=`, value];
  }
}
function assertNumber(val, type) {
  if (true) return;
  if (val === void 0) {
    return;
  } else if (typeof val !== "number") {
    warn$1(`${type} is not a valid number - got ${JSON.stringify(val)}.`);
  } else if (isNaN(val)) {
    warn$1(`${type} is NaN - the duration expression might be incorrect.`);
  }
}
var ErrorCodes = {
  "SETUP_FUNCTION": 0,
  "0": "SETUP_FUNCTION",
  "RENDER_FUNCTION": 1,
  "1": "RENDER_FUNCTION",
  "WATCH_GETTER": 2,
  "2": "WATCH_GETTER",
  "WATCH_CALLBACK": 3,
  "3": "WATCH_CALLBACK",
  "WATCH_CLEANUP": 4,
  "4": "WATCH_CLEANUP",
  "NATIVE_EVENT_HANDLER": 5,
  "5": "NATIVE_EVENT_HANDLER",
  "COMPONENT_EVENT_HANDLER": 6,
  "6": "COMPONENT_EVENT_HANDLER",
  "VNODE_HOOK": 7,
  "7": "VNODE_HOOK",
  "DIRECTIVE_HOOK": 8,
  "8": "DIRECTIVE_HOOK",
  "TRANSITION_HOOK": 9,
  "9": "TRANSITION_HOOK",
  "APP_ERROR_HANDLER": 10,
  "10": "APP_ERROR_HANDLER",
  "APP_WARN_HANDLER": 11,
  "11": "APP_WARN_HANDLER",
  "FUNCTION_REF": 12,
  "12": "FUNCTION_REF",
  "ASYNC_COMPONENT_LOADER": 13,
  "13": "ASYNC_COMPONENT_LOADER",
  "SCHEDULER": 14,
  "14": "SCHEDULER"
};
var ErrorTypeStrings$1 = {
  ["sp"]: "serverPrefetch hook",
  ["bc"]: "beforeCreate hook",
  ["c"]: "created hook",
  ["bm"]: "beforeMount hook",
  ["m"]: "mounted hook",
  ["bu"]: "beforeUpdate hook",
  ["u"]: "updated",
  ["bum"]: "beforeUnmount hook",
  ["um"]: "unmounted hook",
  ["a"]: "activated hook",
  ["da"]: "deactivated hook",
  ["ec"]: "errorCaptured hook",
  ["rtc"]: "renderTracked hook",
  ["rtg"]: "renderTriggered hook",
  [0]: "setup function",
  [1]: "render function",
  [2]: "watcher getter",
  [3]: "watcher callback",
  [4]: "watcher cleanup function",
  [5]: "native event handler",
  [6]: "component event handler",
  [7]: "vnode hook",
  [8]: "directive hook",
  [9]: "transition hook",
  [10]: "app errorHandler",
  [11]: "app warnHandler",
  [12]: "ref function",
  [13]: "async component loader",
  [14]: "scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."
};
function callWithErrorHandling(fn, instance, type, args) {
  var res;
  try {
    res = args ? fn.apply(void 0, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(args)) : fn();
  } catch (err) {
    handleError(err, instance, type);
  }
  return res;
}
function callWithAsyncErrorHandling(fn, instance, type, args) {
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(fn)) {
    var res = callWithErrorHandling(fn, instance, type, args);
    if (res && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isPromise */ .tI)(res)) {
      res.catch(function (err) {
        handleError(err, instance, type);
      });
    }
    return res;
  }
  var values = [];
  for (var i = 0; i < fn.length; i++) {
    values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));
  }
  return values;
}
function handleError(err, instance, type) {
  var throwInDev = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  var contextVNode = instance ? instance.vnode : null;
  if (instance) {
    var cur = instance.parent;
    var exposedInstance = instance.proxy;
    var errorInfo =  false ? 0 : `https://vuejs.org/error-reference/#runtime-${type}`;
    while (cur) {
      var errorCapturedHooks = cur.ec;
      if (errorCapturedHooks) {
        for (var i = 0; i < errorCapturedHooks.length; i++) {
          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {
            return;
          }
        }
      }
      cur = cur.parent;
    }
    var appErrorHandler = instance.appContext.config.errorHandler;
    if (appErrorHandler) {
      callWithErrorHandling(appErrorHandler, null, 10, [err, exposedInstance, errorInfo]);
      return;
    }
  }
  logError(err, type, contextVNode, throwInDev);
}
function logError(err, type, contextVNode) {
  var throwInDev = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  if (false) { var info; } else {
    console.error(err);
  }
}
var isFlushing = false;
var isFlushPending = false;
var queue = [];
var flushIndex = 0;
var pendingPostFlushCbs = [];
var activePostFlushCbs = null;
var postFlushIndex = 0;
var resolvedPromise = /* @__PURE__ */Promise.resolve();
var currentFlushPromise = null;
var RECURSION_LIMIT = 100;
function nextTick(fn) {
  var p = currentFlushPromise || resolvedPromise;
  return fn ? p.then(this ? fn.bind(this) : fn) : p;
}
function findInsertionIndex(id) {
  var start = flushIndex + 1;
  var end = queue.length;
  while (start < end) {
    var middle = start + end >>> 1;
    var middleJob = queue[middle];
    var middleJobId = getId(middleJob);
    if (middleJobId < id || middleJobId === id && middleJob.pre) {
      start = middle + 1;
    } else {
      end = middle;
    }
  }
  return start;
}
function queueJob(job) {
  if (!queue.length || !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) {
    if (job.id == null) {
      queue.push(job);
    } else {
      queue.splice(findInsertionIndex(job.id), 0, job);
    }
    queueFlush();
  }
}
function queueFlush() {
  if (!isFlushing && !isFlushPending) {
    isFlushPending = true;
    currentFlushPromise = resolvedPromise.then(flushJobs);
  }
}
function invalidateJob(job) {
  var i = queue.indexOf(job);
  if (i > flushIndex) {
    queue.splice(i, 1);
  }
}
function queuePostFlushCb(cb) {
  if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(cb)) {
    if (!activePostFlushCbs || !activePostFlushCbs.includes(cb, cb.allowRecurse ? postFlushIndex + 1 : postFlushIndex)) {
      pendingPostFlushCbs.push(cb);
    }
  } else {
    pendingPostFlushCbs.push.apply(pendingPostFlushCbs, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(cb));
  }
  queueFlush();
}
function flushPreFlushCbs(instance, seen) {
  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : isFlushing ? flushIndex + 1 : 0;
  if (false) {}
  for (; i < queue.length; i++) {
    var cb = queue[i];
    if (cb && cb.pre) {
      if (instance && cb.id !== instance.uid) {
        continue;
      }
      if (false) {}
      queue.splice(i, 1);
      i--;
      cb();
    }
  }
}
function flushPostFlushCbs(seen) {
  if (pendingPostFlushCbs.length) {
    var deduped = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(new Set(pendingPostFlushCbs)).sort(function (a, b) {
      return getId(a) - getId(b);
    });
    pendingPostFlushCbs.length = 0;
    if (activePostFlushCbs) {
      var _activePostFlushCbs;
      (_activePostFlushCbs = activePostFlushCbs).push.apply(_activePostFlushCbs, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(deduped));
      return;
    }
    activePostFlushCbs = deduped;
    if (false) {}
    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {
      if (false) {}
      activePostFlushCbs[postFlushIndex]();
    }
    activePostFlushCbs = null;
    postFlushIndex = 0;
  }
}
var getId = function getId(job) {
  return job.id == null ? Infinity : job.id;
};
var comparator = function comparator(a, b) {
  var diff = getId(a) - getId(b);
  if (diff === 0) {
    if (a.pre && !b.pre) return -1;
    if (b.pre && !a.pre) return 1;
  }
  return diff;
};
function flushJobs(seen) {
  isFlushPending = false;
  isFlushing = true;
  if (false) {}
  queue.sort(comparator);
  var check =  false ? 0 : _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
  try {
    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
      var job = queue[flushIndex];
      if (job && job.active !== false) {
        if (false) {}
        callWithErrorHandling(job, null, 14);
      }
    }
  } finally {
    flushIndex = 0;
    queue.length = 0;
    flushPostFlushCbs(seen);
    isFlushing = false;
    currentFlushPromise = null;
    if (queue.length || pendingPostFlushCbs.length) {
      flushJobs(seen);
    }
  }
}
function checkRecursiveUpdates(seen, fn) {
  if (!seen.has(fn)) {
    seen.set(fn, 1);
  } else {
    var count = seen.get(fn);
    if (count > RECURSION_LIMIT) {
      var instance = fn.ownerInstance;
      var componentName = instance && getComponentName(instance.type);
      handleError(`Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`, null, 10);
      return true;
    } else {
      seen.set(fn, count + 1);
    }
  }
}
var isHmrUpdating = false;
var hmrDirtyComponents = /* @__PURE__ */new Set();
if (false) {}
var map = /* @__PURE__ */new Map();
function registerHMR(instance) {
  var id = instance.type.__hmrId;
  var record = map.get(id);
  if (!record) {
    createRecord(id, instance.type);
    record = map.get(id);
  }
  record.instances.add(instance);
}
function unregisterHMR(instance) {
  map.get(instance.type.__hmrId).instances.delete(instance);
}
function createRecord(id, initialDef) {
  if (map.has(id)) {
    return false;
  }
  map.set(id, {
    initialDef: normalizeClassComponent(initialDef),
    instances: /* @__PURE__ */new Set()
  });
  return true;
}
function normalizeClassComponent(component) {
  return isClassComponent(component) ? component.__vccOpts : component;
}
function rerender(id, newRender) {
  var record = map.get(id);
  if (!record) {
    return;
  }
  record.initialDef.render = newRender;
  _toConsumableArray(record.instances).forEach(function (instance) {
    if (newRender) {
      instance.render = newRender;
      normalizeClassComponent(instance.type).render = newRender;
    }
    instance.renderCache = [];
    isHmrUpdating = true;
    instance.effect.dirty = true;
    instance.update();
    isHmrUpdating = false;
  });
}
function reload(id, newComp) {
  var record = map.get(id);
  if (!record) return;
  newComp = normalizeClassComponent(newComp);
  updateComponentDef(record.initialDef, newComp);
  var instances = _toConsumableArray(record.instances);
  var _iterator = _createForOfIteratorHelper(instances),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var instance = _step.value;
      var oldComp = normalizeClassComponent(instance.type);
      if (!hmrDirtyComponents.has(oldComp)) {
        if (oldComp !== record.initialDef) {
          updateComponentDef(oldComp, newComp);
        }
        hmrDirtyComponents.add(oldComp);
      }
      instance.appContext.propsCache.delete(instance.type);
      instance.appContext.emitsCache.delete(instance.type);
      instance.appContext.optionsCache.delete(instance.type);
      if (instance.ceReload) {
        hmrDirtyComponents.add(oldComp);
        instance.ceReload(newComp.styles);
        hmrDirtyComponents.delete(oldComp);
      } else if (instance.parent) {
        instance.parent.effect.dirty = true;
        queueJob(instance.parent.update);
      } else if (instance.appContext.reload) {
        instance.appContext.reload();
      } else if (typeof window !== "undefined") {
        window.location.reload();
      } else {
        console.warn("[HMR] Root or manually mounted instance modified. Full reload required.");
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  queuePostFlushCb(function () {
    var _iterator2 = _createForOfIteratorHelper(instances),
      _step2;
    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var instance = _step2.value;
        hmrDirtyComponents.delete(normalizeClassComponent(instance.type));
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
  });
}
function updateComponentDef(oldComp, newComp) {
  extend(oldComp, newComp);
  for (var key in oldComp) {
    if (key !== "__file" && !(key in newComp)) {
      delete oldComp[key];
    }
  }
}
function tryWrap(fn) {
  return function (id, arg) {
    try {
      return fn(id, arg);
    } catch (e) {
      console.error(e);
      console.warn(`[HMR] Something went wrong during Vue component hot-reload. Full reload required.`);
    }
  };
}
var devtools$1;
var buffer = (/* unused pure expression or super */ null && ([]));
var devtoolsNotInstalled = false;
function emit$1(event) {
  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }
  if (devtools$1) {
    var _devtools$;
    (_devtools$ = devtools$1).emit.apply(_devtools$, [event].concat(args));
  } else if (!devtoolsNotInstalled) {
    buffer.push({
      event,
      args
    });
  }
}
function setDevtoolsHook$1(hook, target) {
  var _a, _b;
  devtools$1 = hook;
  if (devtools$1) {
    devtools$1.enabled = true;
    buffer.forEach(function (_ref3) {
      var _devtools$2;
      var event = _ref3.event,
        args = _ref3.args;
      return (_devtools$2 = devtools$1).emit.apply(_devtools$2, [event].concat(_toConsumableArray(args)));
    });
    buffer = [];
  } else if (
  // handle late devtools injection - only do this if we are in an actual
  // browser environment to avoid the timer handle stalling test runner exit
  // (#4815)
  typeof window !== "undefined" &&
  // some envs mock window but not fully
  window.HTMLElement &&
  // also exclude jsdom
  !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes("jsdom"))) {
    var replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];
    replay.push(function (newHook) {
      setDevtoolsHook$1(newHook, target);
    });
    setTimeout(function () {
      if (!devtools$1) {
        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;
        devtoolsNotInstalled = true;
        buffer = [];
      }
    }, 3e3);
  } else {
    devtoolsNotInstalled = true;
    buffer = [];
  }
}
function devtoolsInitApp(app, version) {
  emit$1("app:init" /* APP_INIT */, app, version, {
    Fragment,
    Text,
    Comment,
    Static
  });
}
function devtoolsUnmountApp(app) {
  emit$1("app:unmount" /* APP_UNMOUNT */, app);
}
var devtoolsComponentAdded = /* @__PURE__ */(/* unused pure expression or super */ null && (createDevtoolsComponentHook("component:added" /* COMPONENT_ADDED */)));
var devtoolsComponentUpdated = /* @__PURE__ */(/* unused pure expression or super */ null && (createDevtoolsComponentHook("component:updated" /* COMPONENT_UPDATED */)));
var _devtoolsComponentRemoved = /* @__PURE__ */(/* unused pure expression or super */ null && (createDevtoolsComponentHook("component:removed" /* COMPONENT_REMOVED */)));
var devtoolsComponentRemoved = function devtoolsComponentRemoved(component) {
  if (devtools$1 && typeof devtools$1.cleanupBuffer === "function" &&
  // remove the component if it wasn't buffered
  !devtools$1.cleanupBuffer(component)) {
    _devtoolsComponentRemoved(component);
  }
};
function createDevtoolsComponentHook(hook) {
  return function (component) {
    emit$1(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : void 0, component);
  };
}
var devtoolsPerfStart = /* @__PURE__ */(/* unused pure expression or super */ null && (createDevtoolsPerformanceHook("perf:start" /* PERFORMANCE_START */)));
var devtoolsPerfEnd = /* @__PURE__ */(/* unused pure expression or super */ null && (createDevtoolsPerformanceHook("perf:end" /* PERFORMANCE_END */)));
function createDevtoolsPerformanceHook(hook) {
  return function (component, type, time) {
    emit$1(hook, component.appContext.app, component.uid, component, type, time);
  };
}
function devtoolsComponentEmit(component, event, params) {
  emit$1("component:emit" /* COMPONENT_EMIT */, component.appContext.app, component, event, params);
}
function emit(instance, event) {
  if (instance.isUnmounted) return;
  var props = instance.vnode.props || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT;
  for (var _len3 = arguments.length, rawArgs = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
    rawArgs[_key3 - 2] = arguments[_key3];
  }
  if (false) { var isValid, validator, emitsOptions, _instance$propsOption, propsOptions; }
  var args = rawArgs;
  var isModelListener = event.startsWith("update:");
  var modelArg = isModelListener && event.slice(7);
  if (modelArg && modelArg in props) {
    var modifiersKey = `${modelArg === "modelValue" ? "model" : modelArg}Modifiers`;
    var _ref4 = props[modifiersKey] || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
      number = _ref4.number,
      trim = _ref4.trim;
    if (trim) {
      args = rawArgs.map(function (a) {
        return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(a) ? a.trim() : a;
      });
    }
    if (number) {
      args = rawArgs.map(_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .looseToNumber */ .h5);
    }
  }
  if (false) {}
  if (false) { var lowerCaseEvent; }
  var handlerName;
  var handler = props[handlerName = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .toHandlerKey */ .hR)(event)] ||
  // also try camelCase event handler (#2249)
  props[handlerName = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .toHandlerKey */ .hR)((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(event))];
  if (!handler && isModelListener) {
    handler = props[handlerName = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .toHandlerKey */ .hR)((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hyphenate */ .rs)(event))];
  }
  if (handler) {
    callWithAsyncErrorHandling(handler, instance, 6, args);
  }
  var onceHandler = props[handlerName + `Once`];
  if (onceHandler) {
    if (!instance.emitted) {
      instance.emitted = {};
    } else if (instance.emitted[handlerName]) {
      return;
    }
    instance.emitted[handlerName] = true;
    callWithAsyncErrorHandling(onceHandler, instance, 6, args);
  }
}
function normalizeEmitsOptions(comp, appContext) {
  var asMixin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var cache = appContext.emitsCache;
  var cached = cache.get(comp);
  if (cached !== void 0) {
    return cached;
  }
  var raw = comp.emits;
  var normalized = {};
  var hasExtends = false;
  if ( true && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(comp)) {
    var extendEmits = function extendEmits(raw2) {
      var normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);
      if (normalizedFromExtend) {
        hasExtends = true;
        (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)(normalized, normalizedFromExtend);
      }
    };
    if (!asMixin && appContext.mixins.length) {
      appContext.mixins.forEach(extendEmits);
    }
    if (comp.extends) {
      extendEmits(comp.extends);
    }
    if (comp.mixins) {
      comp.mixins.forEach(extendEmits);
    }
  }
  if (!raw && !hasExtends) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(comp)) {
      cache.set(comp, null);
    }
    return null;
  }
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(raw)) {
    raw.forEach(function (key) {
      return normalized[key] = null;
    });
  } else {
    (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)(normalized, raw);
  }
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(comp)) {
    cache.set(comp, normalized);
  }
  return normalized;
}
function isEmitListener(options, key) {
  if (!options || !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isOn */ .F7)(key)) {
    return false;
  }
  key = key.slice(2).replace(/Once$/, "");
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(options, key[0].toLowerCase() + key.slice(1)) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(options, (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hyphenate */ .rs)(key)) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(options, key);
}
var currentRenderingInstance = null;
var currentScopeId = null;
function setCurrentRenderingInstance(instance) {
  var prev = currentRenderingInstance;
  currentRenderingInstance = instance;
  currentScopeId = instance && instance.type.__scopeId || null;
  return prev;
}
function pushScopeId(id) {
  currentScopeId = id;
}
function popScopeId() {
  currentScopeId = null;
}
var withScopeId = function withScopeId(_id) {
  return withCtx;
};
function withCtx(fn) {
  var ctx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : currentRenderingInstance;
  var isNonScopedSlot = arguments.length > 2 ? arguments[2] : undefined;
  if (!ctx) return fn;
  if (fn._n) {
    return fn;
  }
  var renderFnWithContext = function renderFnWithContext() {
    if (renderFnWithContext._d) {
      setBlockTracking(-1);
    }
    var prevInstance = setCurrentRenderingInstance(ctx);
    var res;
    try {
      res = fn.apply(void 0, arguments);
    } finally {
      setCurrentRenderingInstance(prevInstance);
      if (renderFnWithContext._d) {
        setBlockTracking(1);
      }
    }
    if (false) {}
    return res;
  };
  renderFnWithContext._n = true;
  renderFnWithContext._c = true;
  renderFnWithContext._d = true;
  return renderFnWithContext;
}
var accessedAttrs = false;
function markAttrsAccessed() {
  accessedAttrs = true;
}
function renderComponentRoot(instance) {
  var Component = instance.type,
    vnode = instance.vnode,
    proxy = instance.proxy,
    withProxy = instance.withProxy,
    props = instance.props,
    _instance$propsOption2 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(instance.propsOptions, 1),
    propsOptions = _instance$propsOption2[0],
    slots = instance.slots,
    attrs = instance.attrs,
    emit = instance.emit,
    render = instance.render,
    renderCache = instance.renderCache,
    data = instance.data,
    setupState = instance.setupState,
    ctx = instance.ctx,
    inheritAttrs = instance.inheritAttrs;
  var result;
  var fallthroughAttrs;
  var prev = setCurrentRenderingInstance(instance);
  if (false) {}
  try {
    if (vnode.shapeFlag & 4) {
      var proxyToUse = withProxy || proxy;
      var thisProxy =  false ? 0 : proxyToUse;
      result = normalizeVNode(render.call(thisProxy, proxyToUse, renderCache, props, setupState, data, ctx));
      fallthroughAttrs = attrs;
    } else {
      var render2 = Component;
      if (false) {}
      result = normalizeVNode(render2.length > 1 ? render2(props,  false ? 0 : {
        attrs,
        slots,
        emit
      }) : render2(props, null
      /* we know it doesn't need it */));
      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);
    }
  } catch (err) {
    blockStack.length = 0;
    handleError(err, instance, 1);
    result = createVNode(Comment);
  }
  var root = result;
  var setRoot = void 0;
  if (false) { var _getChildRoot2, _getChildRoot; }
  if (fallthroughAttrs && inheritAttrs !== false) {
    var keys = Object.keys(fallthroughAttrs);
    var _root = root,
      shapeFlag = _root.shapeFlag;
    if (keys.length) {
      if (shapeFlag & (1 | 6)) {
        if (propsOptions && keys.some(_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isModelListener */ .tR)) {
          fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);
        }
        root = cloneVNode(root, fallthroughAttrs);
      } else if (false) { var key, i, l, extraAttrs, eventAttrs, allAttrs; }
    }
  }
  if (vnode.dirs) {
    if (false) {}
    root = cloneVNode(root);
    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;
  }
  if (vnode.transition) {
    if (false) {}
    root.transition = vnode.transition;
  }
  if (false) {} else {
    result = root;
  }
  setCurrentRenderingInstance(prev);
  return result;
}
var getChildRoot = function getChildRoot(vnode) {
  var rawChildren = vnode.children;
  var dynamicChildren = vnode.dynamicChildren;
  var childRoot = filterSingleRoot(rawChildren, false);
  if (!childRoot) {
    return [vnode, void 0];
  } else if (false) {}
  var index = rawChildren.indexOf(childRoot);
  var dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;
  var setRoot = function setRoot(updatedRoot) {
    rawChildren[index] = updatedRoot;
    if (dynamicChildren) {
      if (dynamicIndex > -1) {
        dynamicChildren[dynamicIndex] = updatedRoot;
      } else if (updatedRoot.patchFlag > 0) {
        vnode.dynamicChildren = [].concat(_toConsumableArray(dynamicChildren), [updatedRoot]);
      }
    }
  };
  return [normalizeVNode(childRoot), setRoot];
};
function filterSingleRoot(children) {
  var recurse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  var singleRoot;
  for (var i = 0; i < children.length; i++) {
    var child = children[i];
    if (isVNode(child)) {
      if (child.type !== Comment || child.children === "v-if") {
        if (singleRoot) {
          return;
        } else {
          singleRoot = child;
          if (false) {}
        }
      }
    } else {
      return;
    }
  }
  return singleRoot;
}
var getFunctionalFallthrough = function getFunctionalFallthrough(attrs) {
  var res;
  for (var key in attrs) {
    if (key === "class" || key === "style" || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isOn */ .F7)(key)) {
      (res || (res = {}))[key] = attrs[key];
    }
  }
  return res;
};
var filterModelListeners = function filterModelListeners(attrs, props) {
  var res = {};
  for (var key in attrs) {
    if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isModelListener */ .tR)(key) || !(key.slice(9) in props)) {
      res[key] = attrs[key];
    }
  }
  return res;
};
var isElementRoot = function isElementRoot(vnode) {
  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;
};
function shouldUpdateComponent(prevVNode, nextVNode, optimized) {
  var prevProps = prevVNode.props,
    prevChildren = prevVNode.children,
    component = prevVNode.component;
  var nextProps = nextVNode.props,
    nextChildren = nextVNode.children,
    patchFlag = nextVNode.patchFlag;
  var emits = component.emitsOptions;
  if (false) {}
  if (nextVNode.dirs || nextVNode.transition) {
    return true;
  }
  if (optimized && patchFlag >= 0) {
    if (patchFlag & 1024) {
      return true;
    }
    if (patchFlag & 16) {
      if (!prevProps) {
        return !!nextProps;
      }
      return hasPropsChanged(prevProps, nextProps, emits);
    } else if (patchFlag & 8) {
      var dynamicProps = nextVNode.dynamicProps;
      for (var i = 0; i < dynamicProps.length; i++) {
        var key = dynamicProps[i];
        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {
          return true;
        }
      }
    }
  } else {
    if (prevChildren || nextChildren) {
      if (!nextChildren || !nextChildren.$stable) {
        return true;
      }
    }
    if (prevProps === nextProps) {
      return false;
    }
    if (!prevProps) {
      return !!nextProps;
    }
    if (!nextProps) {
      return true;
    }
    return hasPropsChanged(prevProps, nextProps, emits);
  }
  return false;
}
function hasPropsChanged(prevProps, nextProps, emitsOptions) {
  var nextKeys = Object.keys(nextProps);
  if (nextKeys.length !== Object.keys(prevProps).length) {
    return true;
  }
  for (var i = 0; i < nextKeys.length; i++) {
    var key = nextKeys[i];
    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {
      return true;
    }
  }
  return false;
}
function updateHOCHostEl(_ref5, el) {
  var vnode = _ref5.vnode,
    parent = _ref5.parent;
  while (parent) {
    var root = parent.subTree;
    if (root.suspense && root.suspense.activeBranch === vnode) {
      root.el = vnode.el;
    }
    if (root === vnode) {
      (vnode = parent.vnode).el = el;
      parent = parent.parent;
    } else {
      break;
    }
  }
}
var COMPONENTS = "components";
var DIRECTIVES = "directives";
function resolveComponent(name, maybeSelfReference) {
  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;
}
var NULL_DYNAMIC_COMPONENT = Symbol.for("v-ndc");
function resolveDynamicComponent(component) {
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(component)) {
    return resolveAsset(COMPONENTS, component, false) || component;
  } else {
    return component || NULL_DYNAMIC_COMPONENT;
  }
}
function resolveDirective(name) {
  return resolveAsset(DIRECTIVES, name);
}
function resolveAsset(type, name) {
  var warnMissing = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var maybeSelfReference = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var instance = currentRenderingInstance || currentInstance;
  if (instance) {
    var Component = instance.type;
    if (type === COMPONENTS) {
      var selfName = getComponentName(Component, false);
      if (selfName && (selfName === name || selfName === (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(name) || selfName === (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .capitalize */ .kC)((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(name)))) {
        return Component;
      }
    }
    var res =
    // local registration
    // check instance[type] first which is resolved for options API
    resolve(instance[type] || Component[type], name) ||
    // global registration
    resolve(instance.appContext[type], name);
    if (!res && maybeSelfReference) {
      return Component;
    }
    if (false) { var extra; }
    return res;
  } else if (false) {}
}
function resolve(registry, name) {
  return registry && (registry[name] || registry[(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(name)] || registry[(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .capitalize */ .kC)((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(name))]);
}
var isSuspense = function isSuspense(type) {
  return type.__isSuspense;
};
var suspenseId = 0;
var SuspenseImpl = {
  name: "Suspense",
  // In order to make Suspense tree-shakable, we need to avoid importing it
  // directly in the renderer. The renderer checks for the __isSuspense flag
  // on a vnode's type and calls the `process` method, passing in renderer
  // internals.
  __isSuspense: true,
  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {
    if (n1 == null) {
      mountSuspense(n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals);
    } else {
      if (parentSuspense && parentSuspense.deps > 0) {
        n2.suspense = n1.suspense;
        return;
      }
      patchSuspense(n1, n2, container, anchor, parentComponent, namespace, slotScopeIds, optimized, rendererInternals);
    }
  },
  hydrate: hydrateSuspense,
  create: createSuspenseBoundary,
  normalize: normalizeSuspenseChildren
};
var Suspense = (/* unused pure expression or super */ null && (SuspenseImpl));
function triggerEvent(vnode, name) {
  var eventListener = vnode.props && vnode.props[name];
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(eventListener)) {
    eventListener();
  }
}
function mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {
  var patch = rendererInternals.p,
    createElement = rendererInternals.o.createElement;
  var hiddenContainer = createElement("div");
  var suspense = vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, namespace, slotScopeIds, optimized, rendererInternals);
  patch(null, suspense.pendingBranch = vnode.ssContent, hiddenContainer, null, parentComponent, suspense, namespace, slotScopeIds);
  if (suspense.deps > 0) {
    triggerEvent(vnode, "onPending");
    triggerEvent(vnode, "onFallback");
    patch(null, vnode.ssFallback, container, anchor, parentComponent, null,
    // fallback tree will not have suspense context
    namespace, slotScopeIds);
    setActiveBranch(suspense, vnode.ssFallback);
  } else {
    suspense.resolve(false, true);
  }
}
function patchSuspense(n1, n2, container, anchor, parentComponent, namespace, slotScopeIds, optimized, _ref6) {
  var patch = _ref6.p,
    unmount = _ref6.um,
    createElement = _ref6.o.createElement;
  var suspense = n2.suspense = n1.suspense;
  suspense.vnode = n2;
  n2.el = n1.el;
  var newBranch = n2.ssContent;
  var newFallback = n2.ssFallback;
  var activeBranch = suspense.activeBranch,
    pendingBranch = suspense.pendingBranch,
    isInFallback = suspense.isInFallback,
    isHydrating = suspense.isHydrating;
  if (pendingBranch) {
    suspense.pendingBranch = newBranch;
    if (isSameVNodeType(newBranch, pendingBranch)) {
      patch(pendingBranch, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, namespace, slotScopeIds, optimized);
      if (suspense.deps <= 0) {
        suspense.resolve();
      } else if (isInFallback) {
        if (!isHydrating) {
          patch(activeBranch, newFallback, container, anchor, parentComponent, null,
          // fallback tree will not have suspense context
          namespace, slotScopeIds, optimized);
          setActiveBranch(suspense, newFallback);
        }
      }
    } else {
      suspense.pendingId = suspenseId++;
      if (isHydrating) {
        suspense.isHydrating = false;
        suspense.activeBranch = pendingBranch;
      } else {
        unmount(pendingBranch, parentComponent, suspense);
      }
      suspense.deps = 0;
      suspense.effects.length = 0;
      suspense.hiddenContainer = createElement("div");
      if (isInFallback) {
        patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, namespace, slotScopeIds, optimized);
        if (suspense.deps <= 0) {
          suspense.resolve();
        } else {
          patch(activeBranch, newFallback, container, anchor, parentComponent, null,
          // fallback tree will not have suspense context
          namespace, slotScopeIds, optimized);
          setActiveBranch(suspense, newFallback);
        }
      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {
        patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, namespace, slotScopeIds, optimized);
        suspense.resolve(true);
      } else {
        patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, namespace, slotScopeIds, optimized);
        if (suspense.deps <= 0) {
          suspense.resolve();
        }
      }
    }
  } else {
    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {
      patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, namespace, slotScopeIds, optimized);
      setActiveBranch(suspense, newBranch);
    } else {
      triggerEvent(n2, "onPending");
      suspense.pendingBranch = newBranch;
      if (newBranch.shapeFlag & 512) {
        suspense.pendingId = newBranch.component.suspenseId;
      } else {
        suspense.pendingId = suspenseId++;
      }
      patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, namespace, slotScopeIds, optimized);
      if (suspense.deps <= 0) {
        suspense.resolve();
      } else {
        var timeout = suspense.timeout,
          pendingId = suspense.pendingId;
        if (timeout > 0) {
          setTimeout(function () {
            if (suspense.pendingId === pendingId) {
              suspense.fallback(newFallback);
            }
          }, timeout);
        } else if (timeout === 0) {
          suspense.fallback(newFallback);
        }
      }
    }
  }
}
var hasWarned = false;
function createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, namespace, slotScopeIds, optimized, rendererInternals) {
  var isHydrating = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : false;
  if (false) {}
  var patch = rendererInternals.p,
    move = rendererInternals.m,
    unmount = rendererInternals.um,
    next = rendererInternals.n,
    _rendererInternals$o = rendererInternals.o,
    parentNode = _rendererInternals$o.parentNode,
    remove = _rendererInternals$o.remove;
  var parentSuspenseId;
  var isSuspensible = isVNodeSuspensible(vnode);
  if (isSuspensible) {
    if (parentSuspense == null ? void 0 : parentSuspense.pendingBranch) {
      parentSuspenseId = parentSuspense.pendingId;
      parentSuspense.deps++;
    }
  }
  var timeout = vnode.props ? (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .toNumber */ .He)(vnode.props.timeout) : void 0;
  if (false) {}
  var initialAnchor = anchor;
  var suspense = {
    vnode,
    parent: parentSuspense,
    parentComponent,
    namespace,
    container,
    hiddenContainer,
    deps: 0,
    pendingId: suspenseId++,
    timeout: typeof timeout === "number" ? timeout : -1,
    activeBranch: null,
    pendingBranch: null,
    isInFallback: !isHydrating,
    isHydrating,
    isUnmounted: false,
    effects: [],
    resolve() {
      var resume = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var sync = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      if (false) {}
      var vnode2 = suspense.vnode,
        activeBranch = suspense.activeBranch,
        pendingBranch = suspense.pendingBranch,
        pendingId = suspense.pendingId,
        effects = suspense.effects,
        parentComponent2 = suspense.parentComponent,
        container2 = suspense.container;
      var delayEnter = false;
      if (suspense.isHydrating) {
        suspense.isHydrating = false;
      } else if (!resume) {
        delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === "out-in";
        if (delayEnter) {
          activeBranch.transition.afterLeave = function () {
            if (pendingId === suspense.pendingId) {
              move(pendingBranch, container2, anchor === initialAnchor ? next(activeBranch) : anchor, 0);
              queuePostFlushCb(effects);
            }
          };
        }
        if (activeBranch) {
          if (parentNode(activeBranch.el) !== suspense.hiddenContainer) {
            anchor = next(activeBranch);
          }
          unmount(activeBranch, parentComponent2, suspense, true);
        }
        if (!delayEnter) {
          move(pendingBranch, container2, anchor, 0);
        }
      }
      setActiveBranch(suspense, pendingBranch);
      suspense.pendingBranch = null;
      suspense.isInFallback = false;
      var parent = suspense.parent;
      var hasUnresolvedAncestor = false;
      while (parent) {
        if (parent.pendingBranch) {
          var _parent$effects;
          (_parent$effects = parent.effects).push.apply(_parent$effects, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(effects));
          hasUnresolvedAncestor = true;
          break;
        }
        parent = parent.parent;
      }
      if (!hasUnresolvedAncestor && !delayEnter) {
        queuePostFlushCb(effects);
      }
      suspense.effects = [];
      if (isSuspensible) {
        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {
          parentSuspense.deps--;
          if (parentSuspense.deps === 0 && !sync) {
            parentSuspense.resolve();
          }
        }
      }
      triggerEvent(vnode2, "onResolve");
    },
    fallback(fallbackVNode) {
      if (!suspense.pendingBranch) {
        return;
      }
      var vnode2 = suspense.vnode,
        activeBranch = suspense.activeBranch,
        parentComponent2 = suspense.parentComponent,
        container2 = suspense.container,
        namespace2 = suspense.namespace;
      triggerEvent(vnode2, "onFallback");
      var anchor2 = next(activeBranch);
      var mountFallback = function mountFallback() {
        if (!suspense.isInFallback) {
          return;
        }
        patch(null, fallbackVNode, container2, anchor2, parentComponent2, null,
        // fallback tree will not have suspense context
        namespace2, slotScopeIds, optimized);
        setActiveBranch(suspense, fallbackVNode);
      };
      var delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === "out-in";
      if (delayEnter) {
        activeBranch.transition.afterLeave = mountFallback;
      }
      suspense.isInFallback = true;
      unmount(activeBranch, parentComponent2, null,
      // no suspense so unmount hooks fire now
      true
      // shouldRemove
      );
      if (!delayEnter) {
        mountFallback();
      }
    },
    move(container2, anchor2, type) {
      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);
      suspense.container = container2;
    },
    next() {
      return suspense.activeBranch && next(suspense.activeBranch);
    },
    registerDep(instance, setupRenderEffect) {
      var isInPendingSuspense = !!suspense.pendingBranch;
      if (isInPendingSuspense) {
        suspense.deps++;
      }
      var hydratedEl = instance.vnode.el;
      instance.asyncDep.catch(function (err) {
        handleError(err, instance, 0);
      }).then(function (asyncSetupResult) {
        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {
          return;
        }
        instance.asyncResolved = true;
        var vnode2 = instance.vnode;
        if (false) {}
        handleSetupResult(instance, asyncSetupResult, false);
        if (hydratedEl) {
          vnode2.el = hydratedEl;
        }
        var placeholder = !hydratedEl && instance.subTree.el;
        setupRenderEffect(instance, vnode2,
        // component may have been moved before resolve.
        // if this is not a hydration, instance.subTree will be the comment
        // placeholder.
        parentNode(hydratedEl || instance.subTree.el),
        // anchor will not be used if this is hydration, so only need to
        // consider the comment placeholder case.
        hydratedEl ? null : next(instance.subTree), suspense, namespace, optimized);
        if (placeholder) {
          remove(placeholder);
        }
        updateHOCHostEl(instance, vnode2.el);
        if (false) {}
        if (isInPendingSuspense && --suspense.deps === 0) {
          suspense.resolve();
        }
      });
    },
    unmount(parentSuspense2, doRemove) {
      suspense.isUnmounted = true;
      if (suspense.activeBranch) {
        unmount(suspense.activeBranch, parentComponent, parentSuspense2, doRemove);
      }
      if (suspense.pendingBranch) {
        unmount(suspense.pendingBranch, parentComponent, parentSuspense2, doRemove);
      }
    }
  };
  return suspense;
}
function hydrateSuspense(node, vnode, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals, hydrateNode) {
  var suspense = vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, node.parentNode,
  // eslint-disable-next-line no-restricted-globals
  document.createElement("div"), null, namespace, slotScopeIds, optimized, rendererInternals, true);
  var result = hydrateNode(node, suspense.pendingBranch = vnode.ssContent, parentComponent, suspense, slotScopeIds, optimized);
  if (suspense.deps === 0) {
    suspense.resolve(false, true);
  }
  return result;
}
function normalizeSuspenseChildren(vnode) {
  var shapeFlag = vnode.shapeFlag,
    children = vnode.children;
  var isSlotChildren = shapeFlag & 32;
  vnode.ssContent = normalizeSuspenseSlot(isSlotChildren ? children.default : children);
  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);
}
function normalizeSuspenseSlot(s) {
  var block;
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(s)) {
    var trackBlock = isBlockTreeEnabled && s._c;
    if (trackBlock) {
      s._d = false;
      openBlock();
    }
    s = s();
    if (trackBlock) {
      s._d = true;
      block = currentBlock;
      closeBlock();
    }
  }
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(s)) {
    var singleChild = filterSingleRoot(s);
    if (false) {}
    s = singleChild;
  }
  s = normalizeVNode(s);
  if (block && !s.dynamicChildren) {
    s.dynamicChildren = block.filter(function (c) {
      return c !== s;
    });
  }
  return s;
}
function queueEffectWithSuspense(fn, suspense) {
  if (suspense && suspense.pendingBranch) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(fn)) {
      var _suspense$effects;
      (_suspense$effects = suspense.effects).push.apply(_suspense$effects, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(fn));
    } else {
      suspense.effects.push(fn);
    }
  } else {
    queuePostFlushCb(fn);
  }
}
function setActiveBranch(suspense, branch) {
  suspense.activeBranch = branch;
  var vnode = suspense.vnode,
    parentComponent = suspense.parentComponent;
  var el = branch.el;
  while (!el && branch.component) {
    branch = branch.component.subTree;
    el = branch.el;
  }
  vnode.el = el;
  if (parentComponent && parentComponent.subTree === vnode) {
    parentComponent.vnode.el = el;
    updateHOCHostEl(parentComponent, el);
  }
}
function isVNodeSuspensible(vnode) {
  var _a;
  return ((_a = vnode.props) == null ? void 0 : _a.suspensible) != null && vnode.props.suspensible !== false;
}
var ssrContextKey = Symbol.for("v-scx");
var useSSRContext = function useSSRContext() {
  {
    var ctx = inject(ssrContextKey);
    if (!ctx) {
       false && 0;
    }
    return ctx;
  }
};
function watchEffect(effect, options) {
  return doWatch(effect, null, options);
}
function watchPostEffect(effect, options) {
  return doWatch(effect, null,  false ? 0 : {
    flush: "post"
  });
}
function watchSyncEffect(effect, options) {
  return doWatch(effect, null,  false ? 0 : {
    flush: "sync"
  });
}
var INITIAL_WATCHER_VALUE = {};
function watch(source, cb, options) {
  if (false) {}
  return doWatch(source, cb, options);
}
function doWatch(source, cb) {
  var _ref7 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    immediate = _ref7.immediate,
    deep = _ref7.deep,
    flush = _ref7.flush,
    once = _ref7.once,
    onTrack = _ref7.onTrack,
    onTrigger = _ref7.onTrigger;
  if (cb && once) {
    var _cb = cb;
    cb = function cb() {
      _cb.apply(void 0, arguments);
      unwatch();
    };
  }
  if (false) {}
  if (false) {}
  var warnInvalidSource = function warnInvalidSource(s) {
    warn$1(`Invalid watch source: `, s, `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`);
  };
  var instance = currentInstance;
  var reactiveGetter = function reactiveGetter(source2) {
    return deep === true ? source2 :
    // for deep: false, only traverse root-level properties
    traverse(source2, deep === false ? 1 : void 0);
  };
  var getter;
  var forceTrigger = false;
  var isMultiSource = false;
  if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(source)) {
    getter = function getter() {
      return source.value;
    };
    forceTrigger = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isShallow */ .yT)(source);
  } else if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isReactive */ .PG)(source)) {
    getter = function getter() {
      return reactiveGetter(source);
    };
    forceTrigger = true;
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(source)) {
    isMultiSource = true;
    forceTrigger = source.some(function (s) {
      return (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isReactive */ .PG)(s) || (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isShallow */ .yT)(s);
    });
    getter = function getter() {
      return source.map(function (s) {
        if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(s)) {
          return s.value;
        } else if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isReactive */ .PG)(s)) {
          return reactiveGetter(s);
        } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(s)) {
          return callWithErrorHandling(s, instance, 2);
        } else {
           false && 0;
        }
      });
    };
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(source)) {
    if (cb) {
      getter = function getter() {
        return callWithErrorHandling(source, instance, 2);
      };
    } else {
      getter = function getter() {
        if (cleanup) {
          cleanup();
        }
        return callWithAsyncErrorHandling(source, instance, 3, [onCleanup]);
      };
    }
  } else {
    getter = _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
     false && 0;
  }
  if (cb && deep) {
    var baseGetter = getter;
    getter = function getter() {
      return traverse(baseGetter());
    };
  }
  var cleanup;
  var onCleanup = function onCleanup(fn) {
    cleanup = effect.onStop = function () {
      callWithErrorHandling(fn, instance, 4);
      cleanup = effect.onStop = void 0;
    };
  };
  var ssrCleanup;
  if (isInSSRComponentSetup) {
    onCleanup = _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
    if (!cb) {
      getter();
    } else if (immediate) {
      callWithAsyncErrorHandling(cb, instance, 3, [getter(), isMultiSource ? [] : void 0, onCleanup]);
    }
    if (flush === "sync") {
      var ctx = useSSRContext();
      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);
    } else {
      return _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
    }
  }
  var oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;
  var job = function job() {
    if (!effect.active || !effect.dirty) {
      return;
    }
    if (cb) {
      var newValue = effect.run();
      if (deep || forceTrigger || (isMultiSource ? newValue.some(function (v, i) {
        return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasChanged */ .aU)(v, oldValue[i]);
      }) : (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasChanged */ .aU)(newValue, oldValue)) || false) {
        if (cleanup) {
          cleanup();
        }
        callWithAsyncErrorHandling(cb, instance, 3, [newValue,
        // pass undefined as the old value when it's changed for the first time
        oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue, onCleanup]);
        oldValue = newValue;
      }
    } else {
      effect.run();
    }
  };
  job.allowRecurse = !!cb;
  var scheduler;
  if (flush === "sync") {
    scheduler = job;
  } else if (flush === "post") {
    scheduler = function scheduler() {
      return queuePostRenderEffect(job, instance && instance.suspense);
    };
  } else {
    job.pre = true;
    if (instance) job.id = instance.uid;
    scheduler = function scheduler() {
      return queueJob(job);
    };
  }
  var effect = new _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .ReactiveEffect */ .qq(getter, _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG, scheduler);
  var scope = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .getCurrentScope */ .nZ)();
  var unwatch = function unwatch() {
    effect.stop();
    if (scope) {
      (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .remove */ .Od)(scope.effects, effect);
    }
  };
  if (false) {}
  if (cb) {
    if (immediate) {
      job();
    } else {
      oldValue = effect.run();
    }
  } else if (flush === "post") {
    queuePostRenderEffect(effect.run.bind(effect), instance && instance.suspense);
  } else {
    effect.run();
  }
  if (ssrCleanup) ssrCleanup.push(unwatch);
  return unwatch;
}
function instanceWatch(source, value, options) {
  var publicThis = this.proxy;
  var getter = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(source) ? source.includes(".") ? createPathGetter(publicThis, source) : function () {
    return publicThis[source];
  } : source.bind(publicThis, publicThis);
  var cb;
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(value)) {
    cb = value;
  } else {
    cb = value.handler;
    options = value;
  }
  var reset = setCurrentInstance(this);
  var res = doWatch(getter, cb.bind(publicThis), options);
  reset();
  return res;
}
function createPathGetter(ctx, path) {
  var segments = path.split(".");
  return function () {
    var cur = ctx;
    for (var i = 0; i < segments.length && cur; i++) {
      cur = cur[segments[i]];
    }
    return cur;
  };
}
function traverse(value, depth) {
  var currentDepth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
  var seen = arguments.length > 3 ? arguments[3] : undefined;
  if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(value) || value["__v_skip"]) {
    return value;
  }
  if (depth && depth > 0) {
    if (currentDepth >= depth) {
      return value;
    }
    currentDepth++;
  }
  seen = seen || /* @__PURE__ */new Set();
  if (seen.has(value)) {
    return value;
  }
  seen.add(value);
  if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(value)) {
    traverse(value.value, depth, currentDepth, seen);
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(value)) {
    for (var i = 0; i < value.length; i++) {
      traverse(value[i], depth, currentDepth, seen);
    }
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isSet */ .DM)(value) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isMap */ ._N)(value)) {
    value.forEach(function (v) {
      traverse(v, depth, currentDepth, seen);
    });
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isPlainObject */ .PO)(value)) {
    for (var key in value) {
      traverse(value[key], depth, currentDepth, seen);
    }
  }
  return value;
}
function validateDirectiveName(name) {
  if (isBuiltInDirective(name)) {
    warn$1("Do not use built-in directive ids as custom directive id: " + name);
  }
}
function withDirectives(vnode, directives) {
  if (currentRenderingInstance === null) {
     false && 0;
    return vnode;
  }
  var instance = getExposeProxy(currentRenderingInstance) || currentRenderingInstance.proxy;
  var bindings = vnode.dirs || (vnode.dirs = []);
  for (var i = 0; i < directives.length; i++) {
    var _directives$i = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(directives[i], 4),
      dir = _directives$i[0],
      value = _directives$i[1],
      arg = _directives$i[2],
      _directives$i$ = _directives$i[3],
      modifiers = _directives$i$ === void 0 ? _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT : _directives$i$;
    if (dir) {
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(dir)) {
        dir = {
          mounted: dir,
          updated: dir
        };
      }
      if (dir.deep) {
        traverse(value);
      }
      bindings.push({
        dir,
        instance,
        value,
        oldValue: void 0,
        arg,
        modifiers
      });
    }
  }
  return vnode;
}
function invokeDirectiveHook(vnode, prevVNode, instance, name) {
  var bindings = vnode.dirs;
  var oldBindings = prevVNode && prevVNode.dirs;
  for (var i = 0; i < bindings.length; i++) {
    var binding = bindings[i];
    if (oldBindings) {
      binding.oldValue = oldBindings[i].value;
    }
    var hook = binding.dir[name];
    if (hook) {
      (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .pauseTracking */ .Jd)();
      callWithAsyncErrorHandling(hook, instance, 8, [vnode.el, binding, vnode, prevVNode]);
      (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .resetTracking */ .lk)();
    }
  }
}
var leaveCbKey = Symbol("_leaveCb");
var enterCbKey = Symbol("_enterCb");
function useTransitionState() {
  var state = {
    isMounted: false,
    isLeaving: false,
    isUnmounting: false,
    leavingVNodes: /* @__PURE__ */new Map()
  };
  onMounted(function () {
    state.isMounted = true;
  });
  onBeforeUnmount(function () {
    state.isUnmounting = true;
  });
  return state;
}
var TransitionHookValidator = [Function, Array];
var BaseTransitionPropsValidators = {
  mode: String,
  appear: Boolean,
  persisted: Boolean,
  // enter
  onBeforeEnter: TransitionHookValidator,
  onEnter: TransitionHookValidator,
  onAfterEnter: TransitionHookValidator,
  onEnterCancelled: TransitionHookValidator,
  // leave
  onBeforeLeave: TransitionHookValidator,
  onLeave: TransitionHookValidator,
  onAfterLeave: TransitionHookValidator,
  onLeaveCancelled: TransitionHookValidator,
  // appear
  onBeforeAppear: TransitionHookValidator,
  onAppear: TransitionHookValidator,
  onAfterAppear: TransitionHookValidator,
  onAppearCancelled: TransitionHookValidator
};
var BaseTransitionImpl = {
  name: `BaseTransition`,
  props: BaseTransitionPropsValidators,
  setup(props, _ref8) {
    var slots = _ref8.slots;
    var instance = getCurrentInstance();
    var state = useTransitionState();
    var prevTransitionKey;
    return function () {
      var children = slots.default && getTransitionRawChildren(slots.default(), true);
      if (!children || !children.length) {
        return;
      }
      var child = children[0];
      if (children.length > 1) {
        var hasFound = false;
        var _iterator3 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(children),
          _step3;
        try {
          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
            var c = _step3.value;
            if (c.type !== Comment) {
              if (false) {}
              child = c;
              hasFound = true;
              if (true) break;
            }
          }
        } catch (err) {
          _iterator3.e(err);
        } finally {
          _iterator3.f();
        }
      }
      var rawProps = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .toRaw */ .IU)(props);
      var mode = rawProps.mode;
      if (false) {}
      if (state.isLeaving) {
        return emptyPlaceholder(child);
      }
      var innerChild = getKeepAliveChild(child);
      if (!innerChild) {
        return emptyPlaceholder(child);
      }
      var enterHooks = resolveTransitionHooks(innerChild, rawProps, state, instance);
      setTransitionHooks(innerChild, enterHooks);
      var oldChild = instance.subTree;
      var oldInnerChild = oldChild && getKeepAliveChild(oldChild);
      var transitionKeyChanged = false;
      var getTransitionKey = innerChild.type.getTransitionKey;
      if (getTransitionKey) {
        var key = getTransitionKey();
        if (prevTransitionKey === void 0) {
          prevTransitionKey = key;
        } else if (key !== prevTransitionKey) {
          prevTransitionKey = key;
          transitionKeyChanged = true;
        }
      }
      if (oldInnerChild && oldInnerChild.type !== Comment && (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {
        var leavingHooks = resolveTransitionHooks(oldInnerChild, rawProps, state, instance);
        setTransitionHooks(oldInnerChild, leavingHooks);
        if (mode === "out-in") {
          state.isLeaving = true;
          leavingHooks.afterLeave = function () {
            state.isLeaving = false;
            if (instance.update.active !== false) {
              instance.effect.dirty = true;
              instance.update();
            }
          };
          return emptyPlaceholder(child);
        } else if (mode === "in-out" && innerChild.type !== Comment) {
          leavingHooks.delayLeave = function (el, earlyRemove, delayedLeave) {
            var leavingVNodesCache = getLeavingNodesForType(state, oldInnerChild);
            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;
            el[leaveCbKey] = function () {
              earlyRemove();
              el[leaveCbKey] = void 0;
              delete enterHooks.delayedLeave;
            };
            enterHooks.delayedLeave = delayedLeave;
          };
        }
      }
      return child;
    };
  }
};
var BaseTransition = BaseTransitionImpl;
function getLeavingNodesForType(state, vnode) {
  var leavingVNodes = state.leavingVNodes;
  var leavingVNodesCache = leavingVNodes.get(vnode.type);
  if (!leavingVNodesCache) {
    leavingVNodesCache = /* @__PURE__ */Object.create(null);
    leavingVNodes.set(vnode.type, leavingVNodesCache);
  }
  return leavingVNodesCache;
}
function resolveTransitionHooks(vnode, props, state, instance) {
  var appear = props.appear,
    mode = props.mode,
    _props$persisted = props.persisted,
    persisted = _props$persisted === void 0 ? false : _props$persisted,
    onBeforeEnter = props.onBeforeEnter,
    onEnter = props.onEnter,
    onAfterEnter = props.onAfterEnter,
    onEnterCancelled = props.onEnterCancelled,
    onBeforeLeave = props.onBeforeLeave,
    onLeave = props.onLeave,
    onAfterLeave = props.onAfterLeave,
    onLeaveCancelled = props.onLeaveCancelled,
    onBeforeAppear = props.onBeforeAppear,
    onAppear = props.onAppear,
    onAfterAppear = props.onAfterAppear,
    onAppearCancelled = props.onAppearCancelled;
  var key = String(vnode.key);
  var leavingVNodesCache = getLeavingNodesForType(state, vnode);
  var callHook = function callHook(hook, args) {
    hook && callWithAsyncErrorHandling(hook, instance, 9, args);
  };
  var callAsyncHook = function callAsyncHook(hook, args) {
    var done = args[1];
    callHook(hook, args);
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(hook)) {
      if (hook.every(function (hook2) {
        return hook2.length <= 1;
      })) done();
    } else if (hook.length <= 1) {
      done();
    }
  };
  var hooks = {
    mode,
    persisted,
    beforeEnter(el) {
      var hook = onBeforeEnter;
      if (!state.isMounted) {
        if (appear) {
          hook = onBeforeAppear || onBeforeEnter;
        } else {
          return;
        }
      }
      if (el[leaveCbKey]) {
        el[leaveCbKey](true
        /* cancelled */);
      }
      var leavingVNode = leavingVNodesCache[key];
      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el[leaveCbKey]) {
        leavingVNode.el[leaveCbKey]();
      }
      callHook(hook, [el]);
    },
    enter(el) {
      var hook = onEnter;
      var afterHook = onAfterEnter;
      var cancelHook = onEnterCancelled;
      if (!state.isMounted) {
        if (appear) {
          hook = onAppear || onEnter;
          afterHook = onAfterAppear || onAfterEnter;
          cancelHook = onAppearCancelled || onEnterCancelled;
        } else {
          return;
        }
      }
      var called = false;
      var done = el[enterCbKey] = function (cancelled) {
        if (called) return;
        called = true;
        if (cancelled) {
          callHook(cancelHook, [el]);
        } else {
          callHook(afterHook, [el]);
        }
        if (hooks.delayedLeave) {
          hooks.delayedLeave();
        }
        el[enterCbKey] = void 0;
      };
      if (hook) {
        callAsyncHook(hook, [el, done]);
      } else {
        done();
      }
    },
    leave(el, remove) {
      var key2 = String(vnode.key);
      if (el[enterCbKey]) {
        el[enterCbKey](true
        /* cancelled */);
      }
      if (state.isUnmounting) {
        return remove();
      }
      callHook(onBeforeLeave, [el]);
      var called = false;
      var done = el[leaveCbKey] = function (cancelled) {
        if (called) return;
        called = true;
        remove();
        if (cancelled) {
          callHook(onLeaveCancelled, [el]);
        } else {
          callHook(onAfterLeave, [el]);
        }
        el[leaveCbKey] = void 0;
        if (leavingVNodesCache[key2] === vnode) {
          delete leavingVNodesCache[key2];
        }
      };
      leavingVNodesCache[key2] = vnode;
      if (onLeave) {
        callAsyncHook(onLeave, [el, done]);
      } else {
        done();
      }
    },
    clone(vnode2) {
      return resolveTransitionHooks(vnode2, props, state, instance);
    }
  };
  return hooks;
}
function emptyPlaceholder(vnode) {
  if (isKeepAlive(vnode)) {
    vnode = cloneVNode(vnode);
    vnode.children = null;
    return vnode;
  }
}
function getKeepAliveChild(vnode) {
  return isKeepAlive(vnode) ?
  // #7121 ensure get the child component subtree in case
  // it's been replaced during HMR
   false ? 0 : vnode.children ? vnode.children[0] : void 0 : vnode;
}
function setTransitionHooks(vnode, hooks) {
  if (vnode.shapeFlag & 6 && vnode.component) {
    setTransitionHooks(vnode.component.subTree, hooks);
  } else if (vnode.shapeFlag & 128) {
    vnode.ssContent.transition = hooks.clone(vnode.ssContent);
    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);
  } else {
    vnode.transition = hooks;
  }
}
function getTransitionRawChildren(children) {
  var keepComment = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var parentKey = arguments.length > 2 ? arguments[2] : undefined;
  var ret = [];
  var keyedFragmentCount = 0;
  for (var i = 0; i < children.length; i++) {
    var child = children[i];
    var key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);
    if (child.type === Fragment) {
      if (child.patchFlag & 128) keyedFragmentCount++;
      ret = ret.concat(getTransitionRawChildren(child.children, keepComment, key));
    } else if (keepComment || child.type !== Comment) {
      ret.push(key != null ? cloneVNode(child, {
        key
      }) : child);
    }
  }
  if (keyedFragmentCount > 1) {
    for (var _i = 0; _i < ret.length; _i++) {
      ret[_i].patchFlag = -2;
    }
  }
  return ret;
}

/*! #__NO_SIDE_EFFECTS__ */
// @__NO_SIDE_EFFECTS__
function defineComponent(options, extraOptions) {
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(options) ?
  // #8326: extend call and options.name access are considered side-effects
  // by Rollup, so we have to wrap it in a pure-annotated IIFE.
  /* @__PURE__ */
  function () {
    return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)({
      name: options.name
    }, extraOptions, {
      setup: options
    });
  }() : options;
}
var isAsyncWrapper = function isAsyncWrapper(i) {
  return !!i.type.__asyncLoader;
};
/*! #__NO_SIDE_EFFECTS__ */
// @__NO_SIDE_EFFECTS__
function defineAsyncComponent(source) {
  if (isFunction(source)) {
    source = {
      loader: source
    };
  }
  var _source = source,
    loader = _source.loader,
    loadingComponent = _source.loadingComponent,
    errorComponent = _source.errorComponent,
    _source$delay = _source.delay,
    delay = _source$delay === void 0 ? 200 : _source$delay,
    timeout = _source.timeout,
    _source$suspensible = _source.suspensible,
    suspensible = _source$suspensible === void 0 ? true : _source$suspensible,
    userOnError = _source.onError;
  var pendingRequest = null;
  var resolvedComp;
  var retries = 0;
  var retry = function retry() {
    retries++;
    pendingRequest = null;
    return load();
  };
  var load = function load() {
    var thisRequest;
    return pendingRequest || (thisRequest = pendingRequest = loader().catch(function (err) {
      err = err instanceof Error ? err : new Error(String(err));
      if (userOnError) {
        return new Promise(function (resolve, reject) {
          var userRetry = function userRetry() {
            return resolve(retry());
          };
          var userFail = function userFail() {
            return reject(err);
          };
          userOnError(err, userRetry, userFail, retries + 1);
        });
      } else {
        throw err;
      }
    }).then(function (comp) {
      if (thisRequest !== pendingRequest && pendingRequest) {
        return pendingRequest;
      }
      if (false) {}
      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === "Module")) {
        comp = comp.default;
      }
      if (false) {}
      resolvedComp = comp;
      return comp;
    }));
  };
  return defineComponent({
    name: "AsyncComponentWrapper",
    __asyncLoader: load,
    get __asyncResolved() {
      return resolvedComp;
    },
    setup() {
      var instance = currentInstance;
      if (resolvedComp) {
        return function () {
          return createInnerComp(resolvedComp, instance);
        };
      }
      var onError = function onError(err) {
        pendingRequest = null;
        handleError(err, instance, 13, !errorComponent);
      };
      if (suspensible && instance.suspense || isInSSRComponentSetup) {
        return load().then(function (comp) {
          return function () {
            return createInnerComp(comp, instance);
          };
        }).catch(function (err) {
          onError(err);
          return function () {
            return errorComponent ? createVNode(errorComponent, {
              error: err
            }) : null;
          };
        });
      }
      var loaded = ref(false);
      var error = ref();
      var delayed = ref(!!delay);
      if (delay) {
        setTimeout(function () {
          delayed.value = false;
        }, delay);
      }
      if (timeout != null) {
        setTimeout(function () {
          if (!loaded.value && !error.value) {
            var err = new Error(`Async component timed out after ${timeout}ms.`);
            onError(err);
            error.value = err;
          }
        }, timeout);
      }
      load().then(function () {
        loaded.value = true;
        if (instance.parent && isKeepAlive(instance.parent.vnode)) {
          instance.parent.effect.dirty = true;
          queueJob(instance.parent.update);
        }
      }).catch(function (err) {
        onError(err);
        error.value = err;
      });
      return function () {
        if (loaded.value && resolvedComp) {
          return createInnerComp(resolvedComp, instance);
        } else if (error.value && errorComponent) {
          return createVNode(errorComponent, {
            error: error.value
          });
        } else if (loadingComponent && !delayed.value) {
          return createVNode(loadingComponent);
        }
      };
    }
  });
}
function createInnerComp(comp, parent) {
  var _parent$vnode = parent.vnode,
    ref2 = _parent$vnode.ref,
    props = _parent$vnode.props,
    children = _parent$vnode.children,
    ce = _parent$vnode.ce;
  var vnode = createVNode(comp, props, children);
  vnode.ref = ref2;
  vnode.ce = ce;
  delete parent.vnode.ce;
  return vnode;
}
var isKeepAlive = function isKeepAlive(vnode) {
  return vnode.type.__isKeepAlive;
};
var KeepAliveImpl = {
  name: `KeepAlive`,
  // Marker for special handling inside the renderer. We are not using a ===
  // check directly on KeepAlive in the renderer, because importing it directly
  // would prevent it from being tree-shaken.
  __isKeepAlive: true,
  props: {
    include: [String, RegExp, Array],
    exclude: [String, RegExp, Array],
    max: [String, Number]
  },
  setup(props, _ref9) {
    var slots = _ref9.slots;
    var instance = getCurrentInstance();
    var sharedContext = instance.ctx;
    if (!sharedContext.renderer) {
      return function () {
        var children = slots.default && slots.default();
        return children && children.length === 1 ? children[0] : children;
      };
    }
    var cache = /* @__PURE__ */new Map();
    var keys = /* @__PURE__ */new Set();
    var current = null;
    if (false) {}
    var parentSuspense = instance.suspense;
    var _sharedContext$render = sharedContext.renderer,
      patch = _sharedContext$render.p,
      move = _sharedContext$render.m,
      _unmount = _sharedContext$render.um,
      createElement = _sharedContext$render.o.createElement;
    var storageContainer = createElement("div");
    sharedContext.activate = function (vnode, container, anchor, namespace, optimized) {
      var instance2 = vnode.component;
      move(vnode, container, anchor, 0, parentSuspense);
      patch(instance2.vnode, vnode, container, anchor, instance2, parentSuspense, namespace, vnode.slotScopeIds, optimized);
      queuePostRenderEffect(function () {
        instance2.isDeactivated = false;
        if (instance2.a) {
          (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .invokeArrayFns */ .ir)(instance2.a);
        }
        var vnodeHook = vnode.props && vnode.props.onVnodeMounted;
        if (vnodeHook) {
          invokeVNodeHook(vnodeHook, instance2.parent, vnode);
        }
      }, parentSuspense);
      if (false) {}
    };
    sharedContext.deactivate = function (vnode) {
      var instance2 = vnode.component;
      move(vnode, storageContainer, null, 1, parentSuspense);
      queuePostRenderEffect(function () {
        if (instance2.da) {
          (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .invokeArrayFns */ .ir)(instance2.da);
        }
        var vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;
        if (vnodeHook) {
          invokeVNodeHook(vnodeHook, instance2.parent, vnode);
        }
        instance2.isDeactivated = true;
      }, parentSuspense);
      if (false) {}
    };
    function unmount(vnode) {
      resetShapeFlag(vnode);
      _unmount(vnode, instance, parentSuspense, true);
    }
    function pruneCache(filter) {
      cache.forEach(function (vnode, key) {
        var name = getComponentName(vnode.type);
        if (name && (!filter || !filter(name))) {
          pruneCacheEntry(key);
        }
      });
    }
    function pruneCacheEntry(key) {
      var cached = cache.get(key);
      if (!current || !isSameVNodeType(cached, current)) {
        unmount(cached);
      } else if (current) {
        resetShapeFlag(current);
      }
      cache.delete(key);
      keys.delete(key);
    }
    watch(function () {
      return [props.include, props.exclude];
    }, function (_ref10) {
      var _ref11 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(_ref10, 2),
        include = _ref11[0],
        exclude = _ref11[1];
      include && pruneCache(function (name) {
        return matches(include, name);
      });
      exclude && pruneCache(function (name) {
        return !matches(exclude, name);
      });
    },
    // prune post-render after `current` has been updated
    {
      flush: "post",
      deep: true
    });
    var pendingCacheKey = null;
    var cacheSubtree = function cacheSubtree() {
      if (pendingCacheKey != null) {
        cache.set(pendingCacheKey, getInnerChild(instance.subTree));
      }
    };
    onMounted(cacheSubtree);
    onUpdated(cacheSubtree);
    onBeforeUnmount(function () {
      cache.forEach(function (cached) {
        var subTree = instance.subTree,
          suspense = instance.suspense;
        var vnode = getInnerChild(subTree);
        if (cached.type === vnode.type && cached.key === vnode.key) {
          resetShapeFlag(vnode);
          var da = vnode.component.da;
          da && queuePostRenderEffect(da, suspense);
          return;
        }
        unmount(cached);
      });
    });
    return function () {
      pendingCacheKey = null;
      if (!slots.default) {
        return null;
      }
      var children = slots.default();
      var rawVNode = children[0];
      if (children.length > 1) {
        if (false) {}
        current = null;
        return children;
      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {
        current = null;
        return rawVNode;
      }
      var vnode = getInnerChild(rawVNode);
      var comp = vnode.type;
      var name = getComponentName(isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp);
      var include = props.include,
        exclude = props.exclude,
        max = props.max;
      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {
        current = vnode;
        return rawVNode;
      }
      var key = vnode.key == null ? comp : vnode.key;
      var cachedVNode = cache.get(key);
      if (vnode.el) {
        vnode = cloneVNode(vnode);
        if (rawVNode.shapeFlag & 128) {
          rawVNode.ssContent = vnode;
        }
      }
      pendingCacheKey = key;
      if (cachedVNode) {
        vnode.el = cachedVNode.el;
        vnode.component = cachedVNode.component;
        if (vnode.transition) {
          setTransitionHooks(vnode, vnode.transition);
        }
        vnode.shapeFlag |= 512;
        keys.delete(key);
        keys.add(key);
      } else {
        keys.add(key);
        if (max && keys.size > parseInt(max, 10)) {
          pruneCacheEntry(keys.values().next().value);
        }
      }
      vnode.shapeFlag |= 256;
      current = vnode;
      return isSuspense(rawVNode.type) ? rawVNode : vnode;
    };
  }
};
var KeepAlive = (/* unused pure expression or super */ null && (KeepAliveImpl));
function matches(pattern, name) {
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(pattern)) {
    return pattern.some(function (p) {
      return matches(p, name);
    });
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(pattern)) {
    return pattern.split(",").includes(name);
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isRegExp */ .Kj)(pattern)) {
    return pattern.test(name);
  }
  return false;
}
function onActivated(hook, target) {
  registerKeepAliveHook(hook, "a", target);
}
function onDeactivated(hook, target) {
  registerKeepAliveHook(hook, "da", target);
}
function registerKeepAliveHook(hook, type) {
  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : currentInstance;
  var wrappedHook = hook.__wdc || (hook.__wdc = function () {
    var current = target;
    while (current) {
      if (current.isDeactivated) {
        return;
      }
      current = current.parent;
    }
    return hook();
  });
  injectHook(type, wrappedHook, target);
  if (target) {
    var current = target.parent;
    while (current && current.parent) {
      if (isKeepAlive(current.parent.vnode)) {
        injectToKeepAliveRoot(wrappedHook, type, target, current);
      }
      current = current.parent;
    }
  }
}
function injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {
  var injected = injectHook(type, hook, keepAliveRoot, true
  /* prepend */);
  onUnmounted(function () {
    (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .remove */ .Od)(keepAliveRoot[type], injected);
  }, target);
}
function resetShapeFlag(vnode) {
  vnode.shapeFlag &= ~256;
  vnode.shapeFlag &= ~512;
}
function getInnerChild(vnode) {
  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;
}
function injectHook(type, hook) {
  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : currentInstance;
  var prepend = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  if (target) {
    var hooks = target[type] || (target[type] = []);
    var wrappedHook = hook.__weh || (hook.__weh = function () {
      if (target.isUnmounted) {
        return;
      }
      (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .pauseTracking */ .Jd)();
      var reset = setCurrentInstance(target);
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }
      var res = callWithAsyncErrorHandling(hook, target, type, args);
      reset();
      (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .resetTracking */ .lk)();
      return res;
    });
    if (prepend) {
      hooks.unshift(wrappedHook);
    } else {
      hooks.push(wrappedHook);
    }
    return wrappedHook;
  } else if (false) { var apiName; }
}
var createHook = function createHook(lifecycle) {
  return function (hook) {
    var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : currentInstance;
    return (
      // post-create lifecycle registrations are noops during SSR (except for serverPrefetch)
      (!isInSSRComponentSetup || lifecycle === "sp") && injectHook(lifecycle, function () {
        return hook.apply(void 0, arguments);
      }, target)
    );
  };
};
var onBeforeMount = createHook("bm");
var onMounted = createHook("m");
var onBeforeUpdate = createHook("bu");
var onUpdated = createHook("u");
var onBeforeUnmount = createHook("bum");
var onUnmounted = createHook("um");
var onServerPrefetch = createHook("sp");
var onRenderTriggered = createHook("rtg");
var onRenderTracked = createHook("rtc");
function onErrorCaptured(hook) {
  var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : currentInstance;
  injectHook("ec", hook, target);
}
function renderList(source, renderItem, cache, index) {
  var ret;
  var cached = cache && cache[index];
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(source) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(source)) {
    ret = new Array(source.length);
    for (var i = 0, l = source.length; i < l; i++) {
      ret[i] = renderItem(source[i], i, void 0, cached && cached[i]);
    }
  } else if (typeof source === "number") {
    if (false) {}
    ret = new Array(source);
    for (var _i2 = 0; _i2 < source; _i2++) {
      ret[_i2] = renderItem(_i2 + 1, _i2, void 0, cached && cached[_i2]);
    }
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(source)) {
    if (source[Symbol.iterator]) {
      ret = Array.from(source, function (item, i) {
        return renderItem(item, i, void 0, cached && cached[i]);
      });
    } else {
      var keys = Object.keys(source);
      ret = new Array(keys.length);
      for (var _i3 = 0, _l = keys.length; _i3 < _l; _i3++) {
        var key = keys[_i3];
        ret[_i3] = renderItem(source[key], key, _i3, cached && cached[_i3]);
      }
    }
  } else {
    ret = [];
  }
  if (cache) {
    cache[index] = ret;
  }
  return ret;
}
function createSlots(slots, dynamicSlots) {
  var _loop = function _loop() {
    var slot = dynamicSlots[i];
    if (isArray(slot)) {
      for (var j = 0; j < slot.length; j++) {
        slots[slot[j].name] = slot[j].fn;
      }
    } else if (slot) {
      slots[slot.name] = slot.key ? function () {
        var res = slot.fn.apply(slot, arguments);
        if (res) res.key = slot.key;
        return res;
      } : slot.fn;
    }
  };
  for (var i = 0; i < dynamicSlots.length; i++) {
    _loop();
  }
  return slots;
}
function renderSlot(slots, name) {
  var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var fallback = arguments.length > 3 ? arguments[3] : undefined;
  var noSlotted = arguments.length > 4 ? arguments[4] : undefined;
  if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE) {
    if (name !== "default") props.name = name;
    return createVNode("slot", props, fallback && fallback());
  }
  var slot = slots[name];
  if (false) {}
  if (slot && slot._c) {
    slot._d = false;
  }
  openBlock();
  var validSlotContent = slot && ensureValidVNode(slot(props));
  var rendered = createBlock(Fragment, {
    key: props.key ||
    // slot content array of a dynamic conditional slot may have a branch
    // key attached in the `createSlots` helper, respect that
    validSlotContent && validSlotContent.key || `_${name}`
  }, validSlotContent || (fallback ? fallback() : []), validSlotContent && slots._ === 1 ? 64 : -2);
  if (!noSlotted && rendered.scopeId) {
    rendered.slotScopeIds = [rendered.scopeId + "-s"];
  }
  if (slot && slot._c) {
    slot._d = true;
  }
  return rendered;
}
function ensureValidVNode(vnodes) {
  return vnodes.some(function (child) {
    if (!isVNode(child)) return true;
    if (child.type === Comment) return false;
    if (child.type === Fragment && !ensureValidVNode(child.children)) return false;
    return true;
  }) ? vnodes : null;
}
function toHandlers(obj, preserveCaseIfNecessary) {
  var ret = {};
  if (false) {}
  for (var key in obj) {
    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];
  }
  return ret;
}
var getPublicInstance = function getPublicInstance(i) {
  if (!i) return null;
  if (isStatefulComponent(i)) return getExposeProxy(i) || i.proxy;
  return getPublicInstance(i.parent);
};
var publicPropertiesMap =
// Move PURE marker to new line to workaround compiler discarding it
// due to type annotation
/* @__PURE__ */
(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)( /* @__PURE__ */Object.create(null), {
  $: function $(i) {
    return i;
  },
  $el: function $el(i) {
    return i.vnode.el;
  },
  $data: function $data(i) {
    return i.data;
  },
  $props: function $props(i) {
    return  false ? 0 : i.props;
  },
  $attrs: function $attrs(i) {
    return  false ? 0 : i.attrs;
  },
  $slots: function $slots(i) {
    return  false ? 0 : i.slots;
  },
  $refs: function $refs(i) {
    return  false ? 0 : i.refs;
  },
  $parent: function $parent(i) {
    return getPublicInstance(i.parent);
  },
  $root: function $root(i) {
    return getPublicInstance(i.root);
  },
  $emit: function $emit(i) {
    return i.emit;
  },
  $options: function $options(i) {
    return  true ? resolveMergedOptions(i) : 0;
  },
  $forceUpdate: function $forceUpdate(i) {
    return i.f || (i.f = function () {
      i.effect.dirty = true;
      queueJob(i.update);
    });
  },
  $nextTick: function $nextTick(i) {
    return i.n || (i.n = nextTick.bind(i.proxy));
  },
  $watch: function $watch(i) {
    return  true ? instanceWatch.bind(i) : 0;
  }
});
var isReservedPrefix = function isReservedPrefix(key) {
  return key === "_" || key === "$";
};
var hasSetupBinding = function hasSetupBinding(state, key) {
  return state !== _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT && !state.__isScriptSetup && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(state, key);
};
var PublicInstanceProxyHandlers = {
  get(_ref12, key) {
    var instance = _ref12._;
    var ctx = instance.ctx,
      setupState = instance.setupState,
      data = instance.data,
      props = instance.props,
      accessCache = instance.accessCache,
      type = instance.type,
      appContext = instance.appContext;
    if (false) {}
    var normalizedProps;
    if (key[0] !== "$") {
      var n = accessCache[key];
      if (n !== void 0) {
        switch (n) {
          case 1 /* SETUP */:
            return setupState[key];
          case 2 /* DATA */:
            return data[key];
          case 4 /* CONTEXT */:
            return ctx[key];
          case 3 /* PROPS */:
            return props[key];
        }
      } else if (hasSetupBinding(setupState, key)) {
        accessCache[key] = 1 /* SETUP */;
        return setupState[key];
      } else if (data !== _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(data, key)) {
        accessCache[key] = 2 /* DATA */;
        return data[key];
      } else if (
      // only cache other properties when instance has declared (thus stable)
      // props
      (normalizedProps = instance.propsOptions[0]) && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(normalizedProps, key)) {
        accessCache[key] = 3 /* PROPS */;
        return props[key];
      } else if (ctx !== _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(ctx, key)) {
        accessCache[key] = 4 /* CONTEXT */;
        return ctx[key];
      } else if ( false || shouldCacheAccess) {
        accessCache[key] = 0 /* OTHER */;
      }
    }
    var publicGetter = publicPropertiesMap[key];
    var cssModule, globalProperties;
    if (publicGetter) {
      if (key === "$attrs") {
        (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .track */ .j)(instance, "get", key);
         false && 0;
      } else if (false) {}
      return publicGetter(instance);
    } else if (
    // css module (injected by vue-loader)
    (cssModule = type.__cssModules) && (cssModule = cssModule[key])) {
      return cssModule;
    } else if (ctx !== _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(ctx, key)) {
      accessCache[key] = 4 /* CONTEXT */;
      return ctx[key];
    } else if (
    // global properties
    globalProperties = appContext.config.globalProperties, (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(globalProperties, key)) {
      {
        return globalProperties[key];
      }
    } else if (false) {}
  },
  set(_ref13, key, value) {
    var instance = _ref13._;
    var data = instance.data,
      setupState = instance.setupState,
      ctx = instance.ctx;
    if (hasSetupBinding(setupState, key)) {
      setupState[key] = value;
      return true;
    } else if (false) {} else if (data !== _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(data, key)) {
      data[key] = value;
      return true;
    } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(instance.props, key)) {
       false && 0;
      return false;
    }
    if (key[0] === "$" && key.slice(1) in instance) {
       false && 0;
      return false;
    } else {
      if (false) {} else {
        ctx[key] = value;
      }
    }
    return true;
  },
  has(_ref14, key) {
    var _ref14$_ = _ref14._,
      data = _ref14$_.data,
      setupState = _ref14$_.setupState,
      accessCache = _ref14$_.accessCache,
      ctx = _ref14$_.ctx,
      appContext = _ref14$_.appContext,
      propsOptions = _ref14$_.propsOptions;
    var normalizedProps;
    return !!accessCache[key] || data !== _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(normalizedProps, key) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(ctx, key) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(publicPropertiesMap, key) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(appContext.config.globalProperties, key);
  },
  defineProperty(target, key, descriptor) {
    if (descriptor.get != null) {
      target._.accessCache[key] = 0;
    } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(descriptor, "value")) {
      this.set(target, key, descriptor.value, null);
    }
    return Reflect.defineProperty(target, key, descriptor);
  }
};
if (false) {}
var RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)({}, PublicInstanceProxyHandlers, {
  get(target, key) {
    if (key === Symbol.unscopables) {
      return;
    }
    return PublicInstanceProxyHandlers.get(target, key, target);
  },
  has(_, key) {
    var has = key[0] !== "_" && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isGloballyAllowed */ .yl)(key);
    if (false) {}
    return has;
  }
});
function createDevRenderContext(instance) {
  var target = {};
  Object.defineProperty(target, `_`, {
    configurable: true,
    enumerable: false,
    get: function get() {
      return instance;
    }
  });
  Object.keys(publicPropertiesMap).forEach(function (key) {
    Object.defineProperty(target, key, {
      configurable: true,
      enumerable: false,
      get: function get() {
        return publicPropertiesMap[key](instance);
      },
      // intercepted by the proxy so no need for implementation,
      // but needed to prevent set errors
      set: NOOP
    });
  });
  return target;
}
function exposePropsOnRenderContext(instance) {
  var ctx = instance.ctx,
    _instance$propsOption3 = _slicedToArray(instance.propsOptions, 1),
    propsOptions = _instance$propsOption3[0];
  if (propsOptions) {
    Object.keys(propsOptions).forEach(function (key) {
      Object.defineProperty(ctx, key, {
        enumerable: true,
        configurable: true,
        get: function get() {
          return instance.props[key];
        },
        set: NOOP
      });
    });
  }
}
function exposeSetupStateOnRenderContext(instance) {
  var ctx = instance.ctx,
    setupState = instance.setupState;
  Object.keys(toRaw(setupState)).forEach(function (key) {
    if (!setupState.__isScriptSetup) {
      if (isReservedPrefix(key[0])) {
        warn$1(`setup() return property ${JSON.stringify(key)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);
        return;
      }
      Object.defineProperty(ctx, key, {
        enumerable: true,
        configurable: true,
        get: function get() {
          return setupState[key];
        },
        set: NOOP
      });
    }
  });
}
var warnRuntimeUsage = function warnRuntimeUsage(method) {
  return warn$1(`${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);
};
function defineProps() {
  if (false) {}
  return null;
}
function defineEmits() {
  if (false) {}
  return null;
}
function defineExpose(exposed) {
  if (false) {}
}
function defineOptions(options) {
  if (false) {}
}
function defineSlots() {
  if (false) {}
  return null;
}
function defineModel() {
  if (false) {}
}
function withDefaults(props, defaults) {
  if (false) {}
  return null;
}
function useSlots() {
  return getContext().slots;
}
function useAttrs() {
  return getContext().attrs;
}
function getContext() {
  var i = getCurrentInstance();
  if (false) {}
  return i.setupContext || (i.setupContext = createSetupContext(i));
}
function normalizePropsOrEmits(props) {
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(props) ? props.reduce(function (normalized, p) {
    return normalized[p] = null, normalized;
  }, {}) : props;
}
function mergeDefaults(raw, defaults) {
  var props = normalizePropsOrEmits(raw);
  for (var key in defaults) {
    if (key.startsWith("__skip")) continue;
    var opt = props[key];
    if (opt) {
      if (isArray(opt) || isFunction(opt)) {
        opt = props[key] = {
          type: opt,
          default: defaults[key]
        };
      } else {
        opt.default = defaults[key];
      }
    } else if (opt === null) {
      opt = props[key] = {
        default: defaults[key]
      };
    } else if (false) {}
    if (opt && defaults[`__skip_${key}`]) {
      opt.skipFactory = true;
    }
  }
  return props;
}
function mergeModels(a, b) {
  if (!a || !b) return a || b;
  if (isArray(a) && isArray(b)) return a.concat(b);
  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));
}
function createPropsRestProxy(props, excludedKeys) {
  var ret = {};
  var _loop2 = function _loop2(key) {
    if (!excludedKeys.includes(key)) {
      Object.defineProperty(ret, key, {
        enumerable: true,
        get: function get() {
          return props[key];
        }
      });
    }
  };
  for (var key in props) {
    _loop2(key);
  }
  return ret;
}
function withAsyncContext(getAwaitable) {
  var ctx = getCurrentInstance();
  if (false) {}
  var awaitable = getAwaitable();
  unsetCurrentInstance();
  if (isPromise(awaitable)) {
    awaitable = awaitable.catch(function (e) {
      setCurrentInstance(ctx);
      throw e;
    });
  }
  return [awaitable, function () {
    return setCurrentInstance(ctx);
  }];
}
function createDuplicateChecker() {
  var cache = /* @__PURE__ */Object.create(null);
  return function (type, key) {
    if (cache[key]) {
      warn$1(`${type} property "${key}" is already defined in ${cache[key]}.`);
    } else {
      cache[key] = type;
    }
  };
}
var shouldCacheAccess = true;
function applyOptions(instance) {
  var options = resolveMergedOptions(instance);
  var publicThis = instance.proxy;
  var ctx = instance.ctx;
  shouldCacheAccess = false;
  if (options.beforeCreate) {
    callHook(options.beforeCreate, instance, "bc");
  }
  var dataOptions = options.data,
    computedOptions = options.computed,
    methods = options.methods,
    watchOptions = options.watch,
    provideOptions = options.provide,
    injectOptions = options.inject,
    created = options.created,
    beforeMount = options.beforeMount,
    mounted = options.mounted,
    beforeUpdate = options.beforeUpdate,
    updated = options.updated,
    activated = options.activated,
    deactivated = options.deactivated,
    beforeDestroy = options.beforeDestroy,
    beforeUnmount = options.beforeUnmount,
    destroyed = options.destroyed,
    unmounted = options.unmounted,
    render = options.render,
    renderTracked = options.renderTracked,
    renderTriggered = options.renderTriggered,
    errorCaptured = options.errorCaptured,
    serverPrefetch = options.serverPrefetch,
    expose = options.expose,
    inheritAttrs = options.inheritAttrs,
    components = options.components,
    directives = options.directives,
    filters = options.filters;
  var checkDuplicateProperties =  false ? 0 : null;
  if (false) { var key, _instance$propsOption4, propsOptions; }
  if (injectOptions) {
    resolveInjections(injectOptions, ctx, checkDuplicateProperties);
  }
  if (methods) {
    for (var _key5 in methods) {
      var methodHandler = methods[_key5];
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(methodHandler)) {
        if (false) {} else {
          ctx[_key5] = methodHandler.bind(publicThis);
        }
        if (false) {}
      } else if (false) {}
    }
  }
  if (dataOptions) {
    if (false) {}
    var data = dataOptions.call(publicThis, publicThis);
    if (false) {}
    if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(data)) {
       false && 0;
    } else {
      instance.data = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .reactive */ .qj)(data);
      if (false) { var _key6, _loop3; }
    }
  }
  shouldCacheAccess = true;
  if (computedOptions) {
    var _loop4 = function _loop4(_key7) {
      var opt = computedOptions[_key7];
      var get = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(opt) ? opt.bind(publicThis, publicThis) : (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(opt.get) ? opt.get.bind(publicThis, publicThis) : _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
      if (false) {}
      var set = !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(opt) && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(opt.set) ? opt.set.bind(publicThis) :  false ? 0 : _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
      var c = computed({
        get,
        set
      });
      Object.defineProperty(ctx, _key7, {
        enumerable: true,
        configurable: true,
        get: function get() {
          return c.value;
        },
        set: function set(v) {
          return c.value = v;
        }
      });
      if (false) {}
    };
    for (var _key7 in computedOptions) {
      _loop4(_key7);
    }
  }
  if (watchOptions) {
    for (var _key8 in watchOptions) {
      createWatcher(watchOptions[_key8], ctx, publicThis, _key8);
    }
  }
  if (provideOptions) {
    var provides = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(provideOptions) ? provideOptions.call(publicThis) : provideOptions;
    Reflect.ownKeys(provides).forEach(function (key) {
      provide(key, provides[key]);
    });
  }
  if (created) {
    callHook(created, instance, "c");
  }
  function registerLifecycleHook(register, hook) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(hook)) {
      hook.forEach(function (_hook) {
        return register(_hook.bind(publicThis));
      });
    } else if (hook) {
      register(hook.bind(publicThis));
    }
  }
  registerLifecycleHook(onBeforeMount, beforeMount);
  registerLifecycleHook(onMounted, mounted);
  registerLifecycleHook(onBeforeUpdate, beforeUpdate);
  registerLifecycleHook(onUpdated, updated);
  registerLifecycleHook(onActivated, activated);
  registerLifecycleHook(onDeactivated, deactivated);
  registerLifecycleHook(onErrorCaptured, errorCaptured);
  registerLifecycleHook(onRenderTracked, renderTracked);
  registerLifecycleHook(onRenderTriggered, renderTriggered);
  registerLifecycleHook(onBeforeUnmount, beforeUnmount);
  registerLifecycleHook(onUnmounted, unmounted);
  registerLifecycleHook(onServerPrefetch, serverPrefetch);
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(expose)) {
    if (expose.length) {
      var exposed = instance.exposed || (instance.exposed = {});
      expose.forEach(function (key) {
        Object.defineProperty(exposed, key, {
          get: function get() {
            return publicThis[key];
          },
          set: function set(val) {
            return publicThis[key] = val;
          }
        });
      });
    } else if (!instance.exposed) {
      instance.exposed = {};
    }
  }
  if (render && instance.render === _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG) {
    instance.render = render;
  }
  if (inheritAttrs != null) {
    instance.inheritAttrs = inheritAttrs;
  }
  if (components) instance.components = components;
  if (directives) instance.directives = directives;
}
function resolveInjections(injectOptions, ctx) {
  var checkDuplicateProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(injectOptions)) {
    injectOptions = normalizeInject(injectOptions);
  }
  var _loop5 = function _loop5() {
    var opt = injectOptions[key];
    var injected;
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(opt)) {
      if ("default" in opt) {
        injected = inject(opt.from || key, opt.default, true);
      } else {
        injected = inject(opt.from || key);
      }
    } else {
      injected = inject(opt);
    }
    if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(injected)) {
      Object.defineProperty(ctx, key, {
        enumerable: true,
        configurable: true,
        get: function get() {
          return injected.value;
        },
        set: function set(v) {
          return injected.value = v;
        }
      });
    } else {
      ctx[key] = injected;
    }
    if (false) {}
  };
  for (var key in injectOptions) {
    _loop5();
  }
}
function callHook(hook, instance, type) {
  callWithAsyncErrorHandling((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(hook) ? hook.map(function (h) {
    return h.bind(instance.proxy);
  }) : hook.bind(instance.proxy), instance, type);
}
function createWatcher(raw, ctx, publicThis, key) {
  var getter = key.includes(".") ? createPathGetter(publicThis, key) : function () {
    return publicThis[key];
  };
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(raw)) {
    var handler = ctx[raw];
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(handler)) {
      watch(getter, handler);
    } else if (false) {}
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(raw)) {
    watch(getter, raw.bind(publicThis));
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(raw)) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(raw)) {
      raw.forEach(function (r) {
        return createWatcher(r, ctx, publicThis, key);
      });
    } else {
      var _handler = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(_handler)) {
        watch(getter, _handler, raw);
      } else if (false) {}
    }
  } else if (false) {}
}
function resolveMergedOptions(instance) {
  var base = instance.type;
  var mixins = base.mixins,
    extendsOptions = base.extends;
  var _instance$appContext = instance.appContext,
    globalMixins = _instance$appContext.mixins,
    cache = _instance$appContext.optionsCache,
    optionMergeStrategies = _instance$appContext.config.optionMergeStrategies;
  var cached = cache.get(base);
  var resolved;
  if (cached) {
    resolved = cached;
  } else if (!globalMixins.length && !mixins && !extendsOptions) {
    {
      resolved = base;
    }
  } else {
    resolved = {};
    if (globalMixins.length) {
      globalMixins.forEach(function (m) {
        return mergeOptions(resolved, m, optionMergeStrategies, true);
      });
    }
    mergeOptions(resolved, base, optionMergeStrategies);
  }
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(base)) {
    cache.set(base, resolved);
  }
  return resolved;
}
function mergeOptions(to, from, strats) {
  var asMixin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var mixins = from.mixins,
    extendsOptions = from.extends;
  if (extendsOptions) {
    mergeOptions(to, extendsOptions, strats, true);
  }
  if (mixins) {
    mixins.forEach(function (m) {
      return mergeOptions(to, m, strats, true);
    });
  }
  for (var key in from) {
    if (asMixin && key === "expose") {
       false && 0;
    } else {
      var strat = internalOptionMergeStrats[key] || strats && strats[key];
      to[key] = strat ? strat(to[key], from[key]) : from[key];
    }
  }
  return to;
}
var internalOptionMergeStrats = {
  data: mergeDataFn,
  props: mergeEmitsOrPropsOptions,
  emits: mergeEmitsOrPropsOptions,
  // objects
  methods: mergeObjectOptions,
  computed: mergeObjectOptions,
  // lifecycle
  beforeCreate: mergeAsArray,
  created: mergeAsArray,
  beforeMount: mergeAsArray,
  mounted: mergeAsArray,
  beforeUpdate: mergeAsArray,
  updated: mergeAsArray,
  beforeDestroy: mergeAsArray,
  beforeUnmount: mergeAsArray,
  destroyed: mergeAsArray,
  unmounted: mergeAsArray,
  activated: mergeAsArray,
  deactivated: mergeAsArray,
  errorCaptured: mergeAsArray,
  serverPrefetch: mergeAsArray,
  // assets
  components: mergeObjectOptions,
  directives: mergeObjectOptions,
  // watch
  watch: mergeWatchOptions,
  // provide / inject
  provide: mergeDataFn,
  inject: mergeInject
};
function mergeDataFn(to, from) {
  if (!from) {
    return to;
  }
  if (!to) {
    return from;
  }
  return function mergedDataFn() {
    return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(to) ? to.call(this, this) : to, (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(from) ? from.call(this, this) : from);
  };
}
function mergeInject(to, from) {
  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));
}
function normalizeInject(raw) {
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(raw)) {
    var res = {};
    for (var i = 0; i < raw.length; i++) {
      res[raw[i]] = raw[i];
    }
    return res;
  }
  return raw;
}
function mergeAsArray(to, from) {
  return to ? (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(new Set([].concat(to, from))) : from;
}
function mergeObjectOptions(to, from) {
  return to ? (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)( /* @__PURE__ */Object.create(null), to, from) : from;
}
function mergeEmitsOrPropsOptions(to, from) {
  if (to) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(to) && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(from)) {
      return (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)( /* @__PURE__ */new Set([].concat((0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(to), (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(from))));
    }
    return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)( /* @__PURE__ */Object.create(null), normalizePropsOrEmits(to), normalizePropsOrEmits(from != null ? from : {}));
  } else {
    return from;
  }
}
function mergeWatchOptions(to, from) {
  if (!to) return from;
  if (!from) return to;
  var merged = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)( /* @__PURE__ */Object.create(null), to);
  for (var key in from) {
    merged[key] = mergeAsArray(to[key], from[key]);
  }
  return merged;
}
function createAppContext() {
  return {
    app: null,
    config: {
      isNativeTag: _vue_shared__WEBPACK_IMPORTED_MODULE_46__.NO,
      performance: false,
      globalProperties: {},
      optionMergeStrategies: {},
      errorHandler: void 0,
      warnHandler: void 0,
      compilerOptions: {}
    },
    mixins: [],
    components: {},
    directives: {},
    provides: /* @__PURE__ */Object.create(null),
    optionsCache: /* @__PURE__ */new WeakMap(),
    propsCache: /* @__PURE__ */new WeakMap(),
    emitsCache: /* @__PURE__ */new WeakMap()
  };
}
var uid$1 = 0;
function createAppAPI(render, hydrate) {
  return function createApp(rootComponent) {
    var rootProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(rootComponent)) {
      rootComponent = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)({}, rootComponent);
    }
    if (rootProps != null && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(rootProps)) {
       false && 0;
      rootProps = null;
    }
    var context = createAppContext();
    var installedPlugins = /* @__PURE__ */new WeakSet();
    var isMounted = false;
    var app = context.app = {
      _uid: uid$1++,
      _component: rootComponent,
      _props: rootProps,
      _container: null,
      _context: context,
      _instance: null,
      version,
      get config() {
        return context.config;
      },
      set config(v) {
        if (false) {}
      },
      use(plugin) {
        for (var _len5 = arguments.length, options = new Array(_len5 > 1 ? _len5 - 1 : 0), _key9 = 1; _key9 < _len5; _key9++) {
          options[_key9 - 1] = arguments[_key9];
        }
        if (installedPlugins.has(plugin)) {
           false && 0;
        } else if (plugin && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(plugin.install)) {
          installedPlugins.add(plugin);
          plugin.install.apply(plugin, [app].concat(options));
        } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(plugin)) {
          installedPlugins.add(plugin);
          plugin.apply(void 0, [app].concat(options));
        } else if (false) {}
        return app;
      },
      mixin(mixin) {
        if (true) {
          if (!context.mixins.includes(mixin)) {
            context.mixins.push(mixin);
          } else if (false) {}
        } else {}
        return app;
      },
      component(name, component) {
        if (false) {}
        if (!component) {
          return context.components[name];
        }
        if (false) {}
        context.components[name] = component;
        return app;
      },
      directive(name, directive) {
        if (false) {}
        if (!directive) {
          return context.directives[name];
        }
        if (false) {}
        context.directives[name] = directive;
        return app;
      },
      mount(rootContainer, isHydrate, namespace) {
        if (!isMounted) {
          if (false) {}
          var vnode = createVNode(rootComponent, rootProps);
          vnode.appContext = context;
          if (namespace === true) {
            namespace = "svg";
          } else if (namespace === false) {
            namespace = void 0;
          }
          if (false) {}
          if (isHydrate && hydrate) {
            hydrate(vnode, rootContainer);
          } else {
            render(vnode, rootContainer, namespace);
          }
          isMounted = true;
          app._container = rootContainer;
          rootContainer.__vue_app__ = app;
          if (false) {}
          return getExposeProxy(vnode.component) || vnode.component.proxy;
        } else if (false) {}
      },
      unmount() {
        if (isMounted) {
          render(null, app._container);
          if (false) {}
          delete app._container.__vue_app__;
        } else if (false) {}
      },
      provide(key, value) {
        if (false) {}
        context.provides[key] = value;
        return app;
      },
      runWithContext(fn) {
        currentApp = app;
        try {
          return fn();
        } finally {
          currentApp = null;
        }
      }
    };
    return app;
  };
}
var currentApp = null;
function provide(key, value) {
  if (!currentInstance) {
    if (false) {}
  } else {
    var provides = currentInstance.provides;
    var parentProvides = currentInstance.parent && currentInstance.parent.provides;
    if (parentProvides === provides) {
      provides = currentInstance.provides = Object.create(parentProvides);
    }
    provides[key] = value;
  }
}
function inject(key, defaultValue) {
  var treatDefaultAsFactory = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var instance = currentInstance || currentRenderingInstance;
  if (instance || currentApp) {
    var provides = instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : currentApp._context.provides;
    if (provides && key in provides) {
      return provides[key];
    } else if (arguments.length > 1) {
      return treatDefaultAsFactory && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;
    } else if (false) {}
  } else if (false) {}
}
function hasInjectionContext() {
  return !!(currentInstance || currentRenderingInstance || currentApp);
}
function initProps(instance, rawProps, isStateful) {
  var isSSR = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  var props = {};
  var attrs = {};
  (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .def */ .Nj)(attrs, InternalObjectKey, 1);
  instance.propsDefaults = /* @__PURE__ */Object.create(null);
  setFullProps(instance, rawProps, props, attrs);
  for (var key in instance.propsOptions[0]) {
    if (!(key in props)) {
      props[key] = void 0;
    }
  }
  if (false) {}
  if (isStateful) {
    instance.props = isSSR ? props : (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .shallowReactive */ .Um)(props);
  } else {
    if (!instance.type.props) {
      instance.props = attrs;
    } else {
      instance.props = props;
    }
  }
  instance.attrs = attrs;
}
function isInHmrContext(instance) {
  while (instance) {
    if (instance.type.__hmrId) return true;
    instance = instance.parent;
  }
}
function updateProps(instance, rawProps, rawPrevProps, optimized) {
  var props = instance.props,
    attrs = instance.attrs,
    patchFlag = instance.vnode.patchFlag;
  var rawCurrentProps = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .toRaw */ .IU)(props);
  var _instance$propsOption5 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(instance.propsOptions, 1),
    options = _instance$propsOption5[0];
  var hasAttrsChanged = false;
  if (
  // always force full diff in dev
  // - #1942 if hmr is enabled with sfc component
  // - vite#872 non-sfc component used by sfc component
   true && (optimized || patchFlag > 0) && !(patchFlag & 16)) {
    if (patchFlag & 8) {
      var propsToUpdate = instance.vnode.dynamicProps;
      for (var i = 0; i < propsToUpdate.length; i++) {
        var key = propsToUpdate[i];
        if (isEmitListener(instance.emitsOptions, key)) {
          continue;
        }
        var value = rawProps[key];
        if (options) {
          if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(attrs, key)) {
            if (value !== attrs[key]) {
              attrs[key] = value;
              hasAttrsChanged = true;
            }
          } else {
            var camelizedKey = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(key);
            props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance, false);
          }
        } else {
          if (value !== attrs[key]) {
            attrs[key] = value;
            hasAttrsChanged = true;
          }
        }
      }
    }
  } else {
    if (setFullProps(instance, rawProps, props, attrs)) {
      hasAttrsChanged = true;
    }
    var kebabKey;
    for (var _key10 in rawCurrentProps) {
      if (!rawProps ||
      // for camelCase
      !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(rawProps, _key10) && (
      // it's possible the original props was passed in as kebab-case
      // and converted to camelCase (#955)
      (kebabKey = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hyphenate */ .rs)(_key10)) === _key10 || !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(rawProps, kebabKey))) {
        if (options) {
          if (rawPrevProps && (
          // for camelCase
          rawPrevProps[_key10] !== void 0 ||
          // for kebab-case
          rawPrevProps[kebabKey] !== void 0)) {
            props[_key10] = resolvePropValue(options, rawCurrentProps, _key10, void 0, instance, true);
          }
        } else {
          delete props[_key10];
        }
      }
    }
    if (attrs !== rawCurrentProps) {
      for (var _key11 in attrs) {
        if (!rawProps || !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(rawProps, _key11) && true) {
          delete attrs[_key11];
          hasAttrsChanged = true;
        }
      }
    }
  }
  if (hasAttrsChanged) {
    (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .trigger */ .X$)(instance, "set", "$attrs");
  }
  if (false) {}
}
function setFullProps(instance, rawProps, props, attrs) {
  var _instance$propsOption6 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(instance.propsOptions, 2),
    options = _instance$propsOption6[0],
    needCastKeys = _instance$propsOption6[1];
  var hasAttrsChanged = false;
  var rawCastValues;
  if (rawProps) {
    for (var key in rawProps) {
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isReservedProp */ .Gg)(key)) {
        continue;
      }
      var value = rawProps[key];
      var camelKey = void 0;
      if (options && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(options, camelKey = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(key))) {
        if (!needCastKeys || !needCastKeys.includes(camelKey)) {
          props[camelKey] = value;
        } else {
          (rawCastValues || (rawCastValues = {}))[camelKey] = value;
        }
      } else if (!isEmitListener(instance.emitsOptions, key)) {
        if (!(key in attrs) || value !== attrs[key]) {
          attrs[key] = value;
          hasAttrsChanged = true;
        }
      }
    }
  }
  if (needCastKeys) {
    var rawCurrentProps = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .toRaw */ .IU)(props);
    var castValues = rawCastValues || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT;
    for (var i = 0; i < needCastKeys.length; i++) {
      var _key12 = needCastKeys[i];
      props[_key12] = resolvePropValue(options, rawCurrentProps, _key12, castValues[_key12], instance, !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(castValues, _key12));
    }
  }
  return hasAttrsChanged;
}
function resolvePropValue(options, props, key, value, instance, isAbsent) {
  var opt = options[key];
  if (opt != null) {
    var hasDefault = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(opt, "default");
    if (hasDefault && value === void 0) {
      var defaultValue = opt.default;
      if (opt.type !== Function && !opt.skipFactory && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(defaultValue)) {
        var propsDefaults = instance.propsDefaults;
        if (key in propsDefaults) {
          value = propsDefaults[key];
        } else {
          var reset = setCurrentInstance(instance);
          value = propsDefaults[key] = defaultValue.call(null, props);
          reset();
        }
      } else {
        value = defaultValue;
      }
    }
    if (opt[0 /* shouldCast */]) {
      if (isAbsent && !hasDefault) {
        value = false;
      } else if (opt[1 /* shouldCastTrue */] && (value === "" || value === (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hyphenate */ .rs)(key))) {
        value = true;
      }
    }
  }
  return value;
}
function normalizePropsOptions(comp, appContext) {
  var asMixin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var cache = appContext.propsCache;
  var cached = cache.get(comp);
  if (cached) {
    return cached;
  }
  var raw = comp.props;
  var normalized = {};
  var needCastKeys = [];
  var hasExtends = false;
  if ( true && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(comp)) {
    var extendProps = function extendProps(raw2) {
      hasExtends = true;
      var _normalizePropsOption = normalizePropsOptions(raw2, appContext, true),
        _normalizePropsOption2 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(_normalizePropsOption, 2),
        props = _normalizePropsOption2[0],
        keys = _normalizePropsOption2[1];
      (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)(normalized, props);
      if (keys) needCastKeys.push.apply(needCastKeys, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(keys));
    };
    if (!asMixin && appContext.mixins.length) {
      appContext.mixins.forEach(extendProps);
    }
    if (comp.extends) {
      extendProps(comp.extends);
    }
    if (comp.mixins) {
      comp.mixins.forEach(extendProps);
    }
  }
  if (!raw && !hasExtends) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(comp)) {
      cache.set(comp, _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_ARR */ .Z6);
    }
    return _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_ARR */ .Z6;
  }
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(raw)) {
    for (var i = 0; i < raw.length; i++) {
      if (false) {}
      var normalizedKey = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(raw[i]);
      if (validatePropName(normalizedKey)) {
        normalized[normalizedKey] = _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT;
      }
    }
  } else if (raw) {
    if (false) {}
    for (var key in raw) {
      var _normalizedKey = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .camelize */ ._A)(key);
      if (validatePropName(_normalizedKey)) {
        var opt = raw[key];
        var prop = normalized[_normalizedKey] = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(opt) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(opt) ? {
          type: opt
        } : (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)({}, opt);
        if (prop) {
          var booleanIndex = getTypeIndex(Boolean, prop.type);
          var stringIndex = getTypeIndex(String, prop.type);
          prop[0 /* shouldCast */] = booleanIndex > -1;
          prop[1 /* shouldCastTrue */] = stringIndex < 0 || booleanIndex < stringIndex;
          if (booleanIndex > -1 || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(prop, "default")) {
            needCastKeys.push(_normalizedKey);
          }
        }
      }
    }
  }
  var res = [normalized, needCastKeys];
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(comp)) {
    cache.set(comp, res);
  }
  return res;
}
function validatePropName(key) {
  if (key[0] !== "$") {
    return true;
  } else if (false) {}
  return false;
}
function getType(ctor) {
  var match = ctor && ctor.toString().match(/^\s*(function|class) (\w+)/);
  return match ? match[2] : ctor === null ? "null" : "";
}
function isSameType(a, b) {
  return getType(a) === getType(b);
}
function getTypeIndex(type, expectedTypes) {
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(expectedTypes)) {
    return expectedTypes.findIndex(function (t) {
      return isSameType(t, type);
    });
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(expectedTypes)) {
    return isSameType(expectedTypes, type) ? 0 : -1;
  }
  return -1;
}
function validateProps(rawProps, props, instance) {
  var resolvedValues = toRaw(props);
  var options = instance.propsOptions[0];
  for (var key in options) {
    var opt = options[key];
    if (opt == null) continue;
    validateProp(key, resolvedValues[key], opt,  false ? 0 : resolvedValues, !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key)));
  }
}
function validateProp(name, value, prop, props, isAbsent) {
  var type = prop.type,
    required = prop.required,
    validator = prop.validator,
    skipCheck = prop.skipCheck;
  if (required && isAbsent) {
    warn$1('Missing required prop: "' + name + '"');
    return;
  }
  if (value == null && !required) {
    return;
  }
  if (type != null && type !== true && !skipCheck) {
    var isValid = false;
    var types = isArray(type) ? type : [type];
    var expectedTypes = [];
    for (var i = 0; i < types.length && !isValid; i++) {
      var _assertType = assertType(value, types[i]),
        valid = _assertType.valid,
        expectedType = _assertType.expectedType;
      expectedTypes.push(expectedType || "");
      isValid = valid;
    }
    if (!isValid) {
      warn$1(getInvalidTypeMessage(name, value, expectedTypes));
      return;
    }
  }
  if (validator && !validator(value, props)) {
    warn$1('Invalid prop: custom validator check failed for prop "' + name + '".');
  }
}
var isSimpleType = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap("String,Number,Boolean,Function,Symbol,BigInt")));
function assertType(value, type) {
  var valid;
  var expectedType = getType(type);
  if (isSimpleType(expectedType)) {
    var t = typeof value;
    valid = t === expectedType.toLowerCase();
    if (!valid && t === "object") {
      valid = value instanceof type;
    }
  } else if (expectedType === "Object") {
    valid = isObject(value);
  } else if (expectedType === "Array") {
    valid = isArray(value);
  } else if (expectedType === "null") {
    valid = value === null;
  } else {
    valid = value instanceof type;
  }
  return {
    valid,
    expectedType
  };
}
function getInvalidTypeMessage(name, value, expectedTypes) {
  if (expectedTypes.length === 0) {
    return `Prop type [] for prop "${name}" won't match anything. Did you mean to use type Array instead?`;
  }
  var message = `Invalid prop: type check failed for prop "${name}". Expected ${expectedTypes.map(capitalize).join(" | ")}`;
  var expectedType = expectedTypes[0];
  var receivedType = toRawType(value);
  var expectedValue = styleValue(value, expectedType);
  var receivedValue = styleValue(value, receivedType);
  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {
    message += ` with value ${expectedValue}`;
  }
  message += `, got ${receivedType} `;
  if (isExplicable(receivedType)) {
    message += `with value ${receivedValue}.`;
  }
  return message;
}
function styleValue(value, type) {
  if (type === "String") {
    return `"${value}"`;
  } else if (type === "Number") {
    return `${Number(value)}`;
  } else {
    return `${value}`;
  }
}
function isExplicable(type) {
  var explicitTypes = ["string", "number", "boolean"];
  return explicitTypes.some(function (elem) {
    return type.toLowerCase() === elem;
  });
}
function isBoolean() {
  for (var _len6 = arguments.length, args = new Array(_len6), _key13 = 0; _key13 < _len6; _key13++) {
    args[_key13] = arguments[_key13];
  }
  return args.some(function (elem) {
    return elem.toLowerCase() === "boolean";
  });
}
var isInternalKey = function isInternalKey(key) {
  return key[0] === "_" || key === "$stable";
};
var normalizeSlotValue = function normalizeSlotValue(value) {
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];
};
var normalizeSlot = function normalizeSlot(key, rawSlot, ctx) {
  if (rawSlot._n) {
    return rawSlot;
  }
  var normalized = withCtx(function () {
    if (false) {}
    return normalizeSlotValue(rawSlot.apply(void 0, arguments));
  }, ctx);
  normalized._c = false;
  return normalized;
};
var normalizeObjectSlots = function normalizeObjectSlots(rawSlots, slots, instance) {
  var ctx = rawSlots._ctx;
  var _loop6 = function _loop6() {
    if (isInternalKey(key)) return 1; // continue
    var value = rawSlots[key];
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(value)) {
      slots[key] = normalizeSlot(key, value, ctx);
    } else if (value != null) {
      if (false) {}
      var normalized = normalizeSlotValue(value);
      slots[key] = function () {
        return normalized;
      };
    }
  };
  for (var key in rawSlots) {
    if (_loop6()) continue;
  }
};
var normalizeVNodeSlots = function normalizeVNodeSlots(instance, children) {
  if (false) {}
  var normalized = normalizeSlotValue(children);
  instance.slots.default = function () {
    return normalized;
  };
};
var initSlots = function initSlots(instance, children) {
  if (instance.vnode.shapeFlag & 32) {
    var type = children._;
    if (type) {
      instance.slots = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .toRaw */ .IU)(children);
      (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .def */ .Nj)(children, "_", type);
    } else {
      normalizeObjectSlots(children, instance.slots = {});
    }
  } else {
    instance.slots = {};
    if (children) {
      normalizeVNodeSlots(instance, children);
    }
  }
  (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .def */ .Nj)(instance.slots, InternalObjectKey, 1);
};
var updateSlots = function updateSlots(instance, children, optimized) {
  var vnode = instance.vnode,
    slots = instance.slots;
  var needDeletionCheck = true;
  var deletionComparisonTarget = _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT;
  if (vnode.shapeFlag & 32) {
    var type = children._;
    if (type) {
      if (false) {} else if (optimized && type === 1) {
        needDeletionCheck = false;
      } else {
        (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)(slots, children);
        if (!optimized && type === 1) {
          delete slots._;
        }
      }
    } else {
      needDeletionCheck = !children.$stable;
      normalizeObjectSlots(children, slots);
    }
    deletionComparisonTarget = children;
  } else if (children) {
    normalizeVNodeSlots(instance, children);
    deletionComparisonTarget = {
      default: 1
    };
  }
  if (needDeletionCheck) {
    for (var key in slots) {
      if (!isInternalKey(key) && deletionComparisonTarget[key] == null) {
        delete slots[key];
      }
    }
  }
};
function setRef(rawRef, oldRawRef, parentSuspense, vnode) {
  var isUnmount = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(rawRef)) {
    rawRef.forEach(function (r, i) {
      return setRef(r, oldRawRef && ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount);
    });
    return;
  }
  if (isAsyncWrapper(vnode) && !isUnmount) {
    return;
  }
  var refValue = vnode.shapeFlag & 4 ? getExposeProxy(vnode.component) || vnode.component.proxy : vnode.el;
  var value = isUnmount ? null : refValue;
  var owner = rawRef.i,
    ref = rawRef.r;
  if (false) {}
  var oldRef = oldRawRef && oldRawRef.r;
  var refs = owner.refs === _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT ? owner.refs = {} : owner.refs;
  var setupState = owner.setupState;
  if (oldRef != null && oldRef !== ref) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(oldRef)) {
      refs[oldRef] = null;
      if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(setupState, oldRef)) {
        setupState[oldRef] = null;
      }
    } else if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(oldRef)) {
      oldRef.value = null;
    }
  }
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(ref)) {
    callWithErrorHandling(ref, owner, 12, [value, refs]);
  } else {
    var _isString = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(ref);
    var _isRef = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(ref);
    var isVFor = rawRef.f;
    if (_isString || _isRef) {
      var doSet = function doSet() {
        if (isVFor) {
          var existing = _isString ? (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(setupState, ref) ? setupState[ref] : refs[ref] : ref.value;
          if (isUnmount) {
            (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(existing) && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .remove */ .Od)(existing, refValue);
          } else {
            if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(existing)) {
              if (_isString) {
                refs[ref] = [refValue];
                if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(setupState, ref)) {
                  setupState[ref] = refs[ref];
                }
              } else {
                ref.value = [refValue];
                if (rawRef.k) refs[rawRef.k] = ref.value;
              }
            } else if (!existing.includes(refValue)) {
              existing.push(refValue);
            }
          }
        } else if (_isString) {
          refs[ref] = value;
          if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .hasOwn */ .RI)(setupState, ref)) {
            setupState[ref] = value;
          }
        } else if (_isRef) {
          ref.value = value;
          if (rawRef.k) refs[rawRef.k] = value;
        } else if (false) {}
      };
      if (isUnmount || isVFor) {
        doSet();
      } else {
        doSet.id = -1;
        queuePostRenderEffect(doSet, parentSuspense);
      }
    } else if (false) {}
  }
}
var hasMismatch = false;
var isSVGContainer = function isSVGContainer(container) {
  return container.namespaceURI.includes("svg") && container.tagName !== "foreignObject";
};
var isMathMLContainer = function isMathMLContainer(container) {
  return container.namespaceURI.includes("MathML");
};
var getContainerType = function getContainerType(container) {
  if (isSVGContainer(container)) return "svg";
  if (isMathMLContainer(container)) return "mathml";
  return void 0;
};
var isComment = function isComment(node) {
  return node.nodeType === 8;
} /* COMMENT */;
function createHydrationFunctions(rendererInternals) {
  var mountComponent = rendererInternals.mt,
    patch = rendererInternals.p,
    _rendererInternals$o2 = rendererInternals.o,
    patchProp = _rendererInternals$o2.patchProp,
    createText = _rendererInternals$o2.createText,
    nextSibling = _rendererInternals$o2.nextSibling,
    parentNode = _rendererInternals$o2.parentNode,
    remove = _rendererInternals$o2.remove,
    insert = _rendererInternals$o2.insert,
    createComment = _rendererInternals$o2.createComment;
  var hydrate = function hydrate(vnode, container) {
    if (!container.hasChildNodes()) {
      ( false) && 0;
      patch(null, vnode, container);
      flushPostFlushCbs();
      container._vnode = vnode;
      return;
    }
    hasMismatch = false;
    hydrateNode(container.firstChild, vnode, null, null, null);
    flushPostFlushCbs();
    container._vnode = vnode;
    if (hasMismatch && true) {
      console.error(`Hydration completed but contains mismatches.`);
    }
  };
  var hydrateNode = function hydrateNode(node, vnode, parentComponent, parentSuspense, slotScopeIds) {
    var optimized = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
    var isFragmentStart = isComment(node) && node.data === "[";
    var onMismatch = function onMismatch() {
      return handleMismatch(node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragmentStart);
    };
    var type = vnode.type,
      ref = vnode.ref,
      shapeFlag = vnode.shapeFlag,
      patchFlag = vnode.patchFlag;
    var domType = node.nodeType;
    vnode.el = node;
    if (false) {}
    if (patchFlag === -2) {
      optimized = false;
      vnode.dynamicChildren = null;
    }
    var nextNode = null;
    switch (type) {
      case Text:
        if (domType !== 3 /* TEXT */) {
          if (vnode.children === "") {
            insert(vnode.el = createText(""), parentNode(node), node);
            nextNode = node;
          } else {
            nextNode = onMismatch();
          }
        } else {
          if (node.data !== vnode.children) {
            hasMismatch = true;
            ( false) && 0;
            node.data = vnode.children;
          }
          nextNode = nextSibling(node);
        }
        break;
      case Comment:
        if (isTemplateNode(node)) {
          nextNode = nextSibling(node);
          replaceNode(vnode.el = node.content.firstChild, node, parentComponent);
        } else if (domType !== 8 /* COMMENT */ || isFragmentStart) {
          nextNode = onMismatch();
        } else {
          nextNode = nextSibling(node);
        }
        break;
      case Static:
        if (isFragmentStart) {
          node = nextSibling(node);
          domType = node.nodeType;
        }
        if (domType === 1 /* ELEMENT */ || domType === 3 /* TEXT */) {
          nextNode = node;
          var needToAdoptContent = !vnode.children.length;
          for (var i = 0; i < vnode.staticCount; i++) {
            if (needToAdoptContent) vnode.children += nextNode.nodeType === 1 /* ELEMENT */ ? nextNode.outerHTML : nextNode.data;
            if (i === vnode.staticCount - 1) {
              vnode.anchor = nextNode;
            }
            nextNode = nextSibling(nextNode);
          }
          return isFragmentStart ? nextSibling(nextNode) : nextNode;
        } else {
          onMismatch();
        }
        break;
      case Fragment:
        if (!isFragmentStart) {
          nextNode = onMismatch();
        } else {
          nextNode = hydrateFragment(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);
        }
        break;
      default:
        if (shapeFlag & 1) {
          if ((domType !== 1 /* ELEMENT */ || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) && !isTemplateNode(node)) {
            nextNode = onMismatch();
          } else {
            nextNode = hydrateElement(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);
          }
        } else if (shapeFlag & 6) {
          vnode.slotScopeIds = slotScopeIds;
          var container = parentNode(node);
          if (isFragmentStart) {
            nextNode = locateClosingAnchor(node);
          } else if (isComment(node) && node.data === "teleport start") {
            nextNode = locateClosingAnchor(node, node.data, "teleport end");
          } else {
            nextNode = nextSibling(node);
          }
          mountComponent(vnode, container, null, parentComponent, parentSuspense, getContainerType(container), optimized);
          if (isAsyncWrapper(vnode)) {
            var subTree;
            if (isFragmentStart) {
              subTree = createVNode(Fragment);
              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;
            } else {
              subTree = node.nodeType === 3 ? createTextVNode("") : createVNode("div");
            }
            subTree.el = node;
            vnode.component.subTree = subTree;
          }
        } else if (shapeFlag & 64) {
          if (domType !== 8 /* COMMENT */) {
            nextNode = onMismatch();
          } else {
            nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, rendererInternals, hydrateChildren);
          }
        } else if (shapeFlag & 128) {
          nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, getContainerType(parentNode(node)), slotScopeIds, optimized, rendererInternals, hydrateNode);
        } else if (false) {}
    }
    if (ref != null) {
      setRef(ref, null, parentSuspense, vnode);
    }
    return nextNode;
  };
  var hydrateElement = function hydrateElement(el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) {
    optimized = optimized || !!vnode.dynamicChildren;
    var type = vnode.type,
      props = vnode.props,
      patchFlag = vnode.patchFlag,
      shapeFlag = vnode.shapeFlag,
      dirs = vnode.dirs,
      transition = vnode.transition;
    var forcePatch = type === "input" || type === "option";
    if ( false || forcePatch || patchFlag !== -1) {
      if (dirs) {
        invokeDirectiveHook(vnode, null, parentComponent, "created");
      }
      var needCallTransitionHooks = false;
      if (isTemplateNode(el)) {
        needCallTransitionHooks = needTransition(parentSuspense, transition) && parentComponent && parentComponent.vnode.props && parentComponent.vnode.props.appear;
        var content = el.content.firstChild;
        if (needCallTransitionHooks) {
          transition.beforeEnter(content);
        }
        replaceNode(content, el, parentComponent);
        vnode.el = el = content;
      }
      if (shapeFlag & 16 &&
      // skip if element has innerHTML / textContent
      !(props && (props.innerHTML || props.textContent))) {
        var next = hydrateChildren(el.firstChild, vnode, el, parentComponent, parentSuspense, slotScopeIds, optimized);
        var _hasWarned = false;
        while (next) {
          hasMismatch = true;
          if (false) {}
          var cur = next;
          next = next.nextSibling;
          remove(cur);
        }
      } else if (shapeFlag & 8) {
        if (el.textContent !== vnode.children) {
          hasMismatch = true;
          ( false) && 0;
          el.textContent = vnode.children;
        }
      }
      if (props) {
        if ( false || forcePatch || !optimized || patchFlag & (16 | 32)) {
          for (var key in props) {
            if (false) {}
            if (forcePatch && (key.endsWith("value") || key === "indeterminate") || isOn(key) && !isReservedProp(key) ||
            // force hydrate v-bind with .prop modifiers
            key[0] === ".") {
              patchProp(el, key, null, props[key], void 0, void 0, parentComponent);
            }
          }
        } else if (props.onClick) {
          patchProp(el, "onClick", null, props.onClick, void 0, void 0, parentComponent);
        }
      }
      var vnodeHooks;
      if (vnodeHooks = props && props.onVnodeBeforeMount) {
        invokeVNodeHook(vnodeHooks, parentComponent, vnode);
      }
      if (dirs) {
        invokeDirectiveHook(vnode, null, parentComponent, "beforeMount");
      }
      if ((vnodeHooks = props && props.onVnodeMounted) || dirs || needCallTransitionHooks) {
        queueEffectWithSuspense(function () {
          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);
          needCallTransitionHooks && transition.enter(el);
          dirs && invokeDirectiveHook(vnode, null, parentComponent, "mounted");
        }, parentSuspense);
      }
    }
    return el.nextSibling;
  };
  var hydrateChildren = function hydrateChildren(node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) {
    optimized = optimized || !!parentVNode.dynamicChildren;
    var children = parentVNode.children;
    var l = children.length;
    var hasWarned = false;
    for (var i = 0; i < l; i++) {
      var vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);
      if (node) {
        node = hydrateNode(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);
      } else if (vnode.type === Text && !vnode.children) {
        continue;
      } else {
        hasMismatch = true;
        if (false) {}
        patch(null, vnode, container, null, parentComponent, parentSuspense, getContainerType(container), slotScopeIds);
      }
    }
    return node;
  };
  var hydrateFragment = function hydrateFragment(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) {
    var fragmentSlotScopeIds = vnode.slotScopeIds;
    if (fragmentSlotScopeIds) {
      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;
    }
    var container = parentNode(node);
    var next = hydrateChildren(nextSibling(node), vnode, container, parentComponent, parentSuspense, slotScopeIds, optimized);
    if (next && isComment(next) && next.data === "]") {
      return nextSibling(vnode.anchor = next);
    } else {
      hasMismatch = true;
      insert(vnode.anchor = createComment(`]`), container, next);
      return next;
    }
  };
  var handleMismatch = function handleMismatch(node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) {
    hasMismatch = true;
    ( false) && 0;
    vnode.el = null;
    if (isFragment) {
      var end = locateClosingAnchor(node);
      while (true) {
        var next2 = nextSibling(node);
        if (next2 && next2 !== end) {
          remove(next2);
        } else {
          break;
        }
      }
    }
    var next = nextSibling(node);
    var container = parentNode(node);
    remove(node);
    patch(null, vnode, container, next, parentComponent, parentSuspense, getContainerType(container), slotScopeIds);
    return next;
  };
  var locateClosingAnchor = function locateClosingAnchor(node) {
    var open = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "[";
    var close = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "]";
    var match = 0;
    while (node) {
      node = nextSibling(node);
      if (node && isComment(node)) {
        if (node.data === open) match++;
        if (node.data === close) {
          if (match === 0) {
            return nextSibling(node);
          } else {
            match--;
          }
        }
      }
    }
    return node;
  };
  var replaceNode = function replaceNode(newNode, oldNode, parentComponent) {
    var parentNode2 = oldNode.parentNode;
    if (parentNode2) {
      parentNode2.replaceChild(newNode, oldNode);
    }
    var parent = parentComponent;
    while (parent) {
      if (parent.vnode.el === oldNode) {
        parent.vnode.el = parent.subTree.el = newNode;
      }
      parent = parent.parent;
    }
  };
  var isTemplateNode = function isTemplateNode(node) {
    return node.nodeType === 1 /* ELEMENT */ && node.tagName.toLowerCase() === "template";
  };
  return [hydrate, hydrateNode];
}
function propHasMismatch(el, key, clientValue, vnode) {
  var mismatchType;
  var mismatchKey;
  var actual;
  var expected;
  if (key === "class") {
    actual = el.getAttribute("class");
    expected = normalizeClass(clientValue);
    if (!isSetEqual(toClassSet(actual || ""), toClassSet(expected))) {
      mismatchType = mismatchKey = `class`;
    }
  } else if (key === "style") {
    actual = el.getAttribute("style");
    expected = isString(clientValue) ? clientValue : stringifyStyle(normalizeStyle(clientValue));
    var actualMap = toStyleMap(actual);
    var expectedMap = toStyleMap(expected);
    if (vnode.dirs) {
      var _iterator4 = _createForOfIteratorHelper(vnode.dirs),
        _step4;
      try {
        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
          var _step4$value = _step4.value,
            dir = _step4$value.dir,
            value = _step4$value.value;
          if (dir.name === "show" && !value) {
            expectedMap.set("display", "none");
          }
        }
      } catch (err) {
        _iterator4.e(err);
      } finally {
        _iterator4.f();
      }
    }
    if (!isMapEqual(actualMap, expectedMap)) {
      mismatchType = mismatchKey = "style";
    }
  } else if (el instanceof SVGElement && isKnownSvgAttr(key) || el instanceof HTMLElement && (isBooleanAttr(key) || isKnownHtmlAttr(key))) {
    if (isBooleanAttr(key)) {
      actual = el.hasAttribute(key);
      expected = includeBooleanAttr(clientValue);
    } else if (clientValue == null) {
      actual = el.hasAttribute(key);
      expected = false;
    } else {
      if (el.hasAttribute(key)) {
        actual = el.getAttribute(key);
      } else if (key === "value" && el.tagName === "TEXTAREA") {
        actual = el.value;
      } else {
        actual = false;
      }
      expected = isRenderableAttrValue(clientValue) ? String(clientValue) : false;
    }
    if (actual !== expected) {
      mismatchType = `attribute`;
      mismatchKey = key;
    }
  }
  if (mismatchType) {
    var format = function format(v) {
      return v === false ? `(not rendered)` : `${mismatchKey}="${v}"`;
    };
    var preSegment = `Hydration ${mismatchType} mismatch on`;
    var postSegment = `
  - rendered on server: ${format(actual)}
  - expected on client: ${format(expected)}
  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.
  You should fix the source of the mismatch.`;
    {
      warn$1(preSegment, el, postSegment);
    }
    return true;
  }
  return false;
}
function toClassSet(str) {
  return new Set(str.trim().split(/\s+/));
}
function isSetEqual(a, b) {
  if (a.size !== b.size) {
    return false;
  }
  var _iterator5 = _createForOfIteratorHelper(a),
    _step5;
  try {
    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
      var s = _step5.value;
      if (!b.has(s)) {
        return false;
      }
    }
  } catch (err) {
    _iterator5.e(err);
  } finally {
    _iterator5.f();
  }
  return true;
}
function toStyleMap(str) {
  var styleMap = /* @__PURE__ */new Map();
  var _iterator6 = _createForOfIteratorHelper(str.split(";")),
    _step6;
  try {
    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
      var item = _step6.value;
      var _item$split = item.split(":"),
        _item$split2 = _slicedToArray(_item$split, 2),
        key = _item$split2[0],
        value = _item$split2[1];
      key = key == null ? void 0 : key.trim();
      value = value == null ? void 0 : value.trim();
      if (key && value) {
        styleMap.set(key, value);
      }
    }
  } catch (err) {
    _iterator6.e(err);
  } finally {
    _iterator6.f();
  }
  return styleMap;
}
function isMapEqual(a, b) {
  if (a.size !== b.size) {
    return false;
  }
  var _iterator7 = _createForOfIteratorHelper(a),
    _step7;
  try {
    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
      var _step7$value = _slicedToArray(_step7.value, 2),
        key = _step7$value[0],
        value = _step7$value[1];
      if (value !== b.get(key)) {
        return false;
      }
    }
  } catch (err) {
    _iterator7.e(err);
  } finally {
    _iterator7.f();
  }
  return true;
}
var supported;
var perf;
function startMeasure(instance, type) {
  if (instance.appContext.config.performance && isSupported()) {
    perf.mark(`vue-${type}-${instance.uid}`);
  }
  if (false) {}
}
function endMeasure(instance, type) {
  if (instance.appContext.config.performance && isSupported()) {
    var startTag = `vue-${type}-${instance.uid}`;
    var endTag = startTag + `:end`;
    perf.mark(endTag);
    perf.measure(`<${formatComponentName(instance, instance.type)}> ${type}`, startTag, endTag);
    perf.clearMarks(startTag);
    perf.clearMarks(endTag);
  }
  if (false) {}
}
function isSupported() {
  if (supported !== void 0) {
    return supported;
  }
  if (typeof window !== "undefined" && window.performance) {
    supported = true;
    perf = window.performance;
  } else {
    supported = false;
  }
  return supported;
}
function initFeatureFlags() {
  var needWarn = [];
  if (false) {}
  if (false) {}
  if (false) {}
  if (false) { var multi; }
}
var queuePostRenderEffect = queueEffectWithSuspense;
function createRenderer(options) {
  return baseCreateRenderer(options);
}
function createHydrationRenderer(options) {
  return baseCreateRenderer(options, createHydrationFunctions);
}
function baseCreateRenderer(options, createHydrationFns) {
  {
    initFeatureFlags();
  }
  var target = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .getGlobalThis */ .E9)();
  target.__VUE__ = true;
  if (false) {}
  var hostInsert = options.insert,
    hostRemove = options.remove,
    hostPatchProp = options.patchProp,
    hostCreateElement = options.createElement,
    hostCreateText = options.createText,
    hostCreateComment = options.createComment,
    hostSetText = options.setText,
    hostSetElementText = options.setElementText,
    hostParentNode = options.parentNode,
    hostNextSibling = options.nextSibling,
    _options$setScopeId = options.setScopeId,
    hostSetScopeId = _options$setScopeId === void 0 ? _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG : _options$setScopeId,
    hostInsertStaticContent = options.insertStaticContent;
  var patch = function patch(n1, n2, container) {
    var anchor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
    var parentComponent = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
    var parentSuspense = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;
    var namespace = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : void 0;
    var slotScopeIds = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : null;
    var optimized = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] :  false ? 0 : !!n2.dynamicChildren;
    if (n1 === n2) {
      return;
    }
    if (n1 && !isSameVNodeType(n1, n2)) {
      anchor = getNextHostNode(n1);
      unmount(n1, parentComponent, parentSuspense, true);
      n1 = null;
    }
    if (n2.patchFlag === -2) {
      optimized = false;
      n2.dynamicChildren = null;
    }
    var type = n2.type,
      ref = n2.ref,
      shapeFlag = n2.shapeFlag;
    switch (type) {
      case Text:
        processText(n1, n2, container, anchor);
        break;
      case Comment:
        processCommentNode(n1, n2, container, anchor);
        break;
      case Static:
        if (n1 == null) {
          mountStaticNode(n2, container, anchor, namespace);
        } else if (false) {}
        break;
      case Fragment:
        processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        break;
      default:
        if (shapeFlag & 1) {
          processElement(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        } else if (shapeFlag & 6) {
          processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        } else if (shapeFlag & 64) {
          type.process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, internals);
        } else if (shapeFlag & 128) {
          type.process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, internals);
        } else if (false) {}
    }
    if (ref != null && parentComponent) {
      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);
    }
  };
  var processText = function processText(n1, n2, container, anchor) {
    if (n1 == null) {
      hostInsert(n2.el = hostCreateText(n2.children), container, anchor);
    } else {
      var el = n2.el = n1.el;
      if (n2.children !== n1.children) {
        hostSetText(el, n2.children);
      }
    }
  };
  var processCommentNode = function processCommentNode(n1, n2, container, anchor) {
    if (n1 == null) {
      hostInsert(n2.el = hostCreateComment(n2.children || ""), container, anchor);
    } else {
      n2.el = n1.el;
    }
  };
  var mountStaticNode = function mountStaticNode(n2, container, anchor, namespace) {
    var _hostInsertStaticCont = hostInsertStaticContent(n2.children, container, anchor, namespace, n2.el, n2.anchor);
    var _hostInsertStaticCont2 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(_hostInsertStaticCont, 2);
    n2.el = _hostInsertStaticCont2[0];
    n2.anchor = _hostInsertStaticCont2[1];
  };
  var patchStaticNode = function patchStaticNode(n1, n2, container, namespace) {
    if (n2.children !== n1.children) {
      var anchor = hostNextSibling(n1.anchor);
      removeStaticNode(n1);
      var _hostInsertStaticCont3 = hostInsertStaticContent(n2.children, container, anchor, namespace);
      var _hostInsertStaticCont4 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(_hostInsertStaticCont3, 2);
      n2.el = _hostInsertStaticCont4[0];
      n2.anchor = _hostInsertStaticCont4[1];
    } else {
      n2.el = n1.el;
      n2.anchor = n1.anchor;
    }
  };
  var moveStaticNode = function moveStaticNode(_ref15, container, nextSibling) {
    var el = _ref15.el,
      anchor = _ref15.anchor;
    var next;
    while (el && el !== anchor) {
      next = hostNextSibling(el);
      hostInsert(el, container, nextSibling);
      el = next;
    }
    hostInsert(anchor, container, nextSibling);
  };
  var removeStaticNode = function removeStaticNode(_ref16) {
    var el = _ref16.el,
      anchor = _ref16.anchor;
    var next;
    while (el && el !== anchor) {
      next = hostNextSibling(el);
      hostRemove(el);
      el = next;
    }
    hostRemove(anchor);
  };
  var processElement = function processElement(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    if (n2.type === "svg") {
      namespace = "svg";
    } else if (n2.type === "math") {
      namespace = "mathml";
    }
    if (n1 == null) {
      mountElement(n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
    } else {
      patchElement(n1, n2, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
    }
  };
  var mountElement = function mountElement(vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    var el;
    var vnodeHook;
    var props = vnode.props,
      shapeFlag = vnode.shapeFlag,
      transition = vnode.transition,
      dirs = vnode.dirs;
    el = vnode.el = hostCreateElement(vnode.type, namespace, props && props.is, props);
    if (shapeFlag & 8) {
      hostSetElementText(el, vnode.children);
    } else if (shapeFlag & 16) {
      mountChildren(vnode.children, el, null, parentComponent, parentSuspense, resolveChildrenNamespace(vnode, namespace), slotScopeIds, optimized);
    }
    if (dirs) {
      invokeDirectiveHook(vnode, null, parentComponent, "created");
    }
    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);
    if (props) {
      for (var key in props) {
        if (key !== "value" && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isReservedProp */ .Gg)(key)) {
          hostPatchProp(el, key, null, props[key], namespace, vnode.children, parentComponent, parentSuspense, unmountChildren);
        }
      }
      if ("value" in props) {
        hostPatchProp(el, "value", null, props.value, namespace);
      }
      if (vnodeHook = props.onVnodeBeforeMount) {
        invokeVNodeHook(vnodeHook, parentComponent, vnode);
      }
    }
    if (false) {}
    if (dirs) {
      invokeDirectiveHook(vnode, null, parentComponent, "beforeMount");
    }
    var needCallTransitionHooks = needTransition(parentSuspense, transition);
    if (needCallTransitionHooks) {
      transition.beforeEnter(el);
    }
    hostInsert(el, container, anchor);
    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {
      queuePostRenderEffect(function () {
        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
        needCallTransitionHooks && transition.enter(el);
        dirs && invokeDirectiveHook(vnode, null, parentComponent, "mounted");
      }, parentSuspense);
    }
  };
  var setScopeId = function setScopeId(el, vnode, scopeId, slotScopeIds, parentComponent) {
    if (scopeId) {
      hostSetScopeId(el, scopeId);
    }
    if (slotScopeIds) {
      for (var i = 0; i < slotScopeIds.length; i++) {
        hostSetScopeId(el, slotScopeIds[i]);
      }
    }
    if (parentComponent) {
      var subTree = parentComponent.subTree;
      if (false) {}
      if (vnode === subTree) {
        var parentVNode = parentComponent.vnode;
        setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);
      }
    }
  };
  var mountChildren = function mountChildren(children, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    var start = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : 0;
    for (var i = start; i < children.length; i++) {
      var child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);
      patch(null, child, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
    }
  };
  var patchElement = function patchElement(n1, n2, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    var el = n2.el = n1.el;
    var patchFlag = n2.patchFlag,
      dynamicChildren = n2.dynamicChildren,
      dirs = n2.dirs;
    patchFlag |= n1.patchFlag & 16;
    var oldProps = n1.props || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT;
    var newProps = n2.props || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT;
    var vnodeHook;
    parentComponent && toggleRecurse(parentComponent, false);
    if (vnodeHook = newProps.onVnodeBeforeUpdate) {
      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
    }
    if (dirs) {
      invokeDirectiveHook(n2, n1, parentComponent, "beforeUpdate");
    }
    parentComponent && toggleRecurse(parentComponent, true);
    if (false) {}
    if (dynamicChildren) {
      patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, resolveChildrenNamespace(n2, namespace), slotScopeIds);
      if (false) {}
    } else if (!optimized) {
      patchChildren(n1, n2, el, null, parentComponent, parentSuspense, resolveChildrenNamespace(n2, namespace), slotScopeIds, false);
    }
    if (patchFlag > 0) {
      if (patchFlag & 16) {
        patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, namespace);
      } else {
        if (patchFlag & 2) {
          if (oldProps.class !== newProps.class) {
            hostPatchProp(el, "class", null, newProps.class, namespace);
          }
        }
        if (patchFlag & 4) {
          hostPatchProp(el, "style", oldProps.style, newProps.style, namespace);
        }
        if (patchFlag & 8) {
          var propsToUpdate = n2.dynamicProps;
          for (var i = 0; i < propsToUpdate.length; i++) {
            var key = propsToUpdate[i];
            var prev = oldProps[key];
            var next = newProps[key];
            if (next !== prev || key === "value") {
              hostPatchProp(el, key, prev, next, namespace, n1.children, parentComponent, parentSuspense, unmountChildren);
            }
          }
        }
      }
      if (patchFlag & 1) {
        if (n1.children !== n2.children) {
          hostSetElementText(el, n2.children);
        }
      }
    } else if (!optimized && dynamicChildren == null) {
      patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, namespace);
    }
    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {
      queuePostRenderEffect(function () {
        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);
        dirs && invokeDirectiveHook(n2, n1, parentComponent, "updated");
      }, parentSuspense);
    }
  };
  var patchBlockChildren = function patchBlockChildren(oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, namespace, slotScopeIds) {
    for (var i = 0; i < newChildren.length; i++) {
      var oldVNode = oldChildren[i];
      var newVNode = newChildren[i];
      var container =
      // oldVNode may be an errored async setup() component inside Suspense
      // which will not have a mounted element
      oldVNode.el && (
      // - In the case of a Fragment, we need to provide the actual parent
      // of the Fragment itself so it can move its children.
      oldVNode.type === Fragment ||
      // - In the case of different nodes, there is going to be a replacement
      // which also requires the correct parent container
      !isSameVNodeType(oldVNode, newVNode) ||
      // - In the case of a component, it could contain anything.
      oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) :
      // In other cases, the parent container is not actually used so we
      // just pass the block element here to avoid a DOM parentNode call.
      fallbackContainer;
      patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, namespace, slotScopeIds, true);
    }
  };
  var patchProps = function patchProps(el, vnode, oldProps, newProps, parentComponent, parentSuspense, namespace) {
    if (oldProps !== newProps) {
      if (oldProps !== _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT) {
        for (var key in oldProps) {
          if (!(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isReservedProp */ .Gg)(key) && !(key in newProps)) {
            hostPatchProp(el, key, oldProps[key], null, namespace, vnode.children, parentComponent, parentSuspense, unmountChildren);
          }
        }
      }
      for (var _key14 in newProps) {
        if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isReservedProp */ .Gg)(_key14)) continue;
        var next = newProps[_key14];
        var prev = oldProps[_key14];
        if (next !== prev && _key14 !== "value") {
          hostPatchProp(el, _key14, prev, next, namespace, vnode.children, parentComponent, parentSuspense, unmountChildren);
        }
      }
      if ("value" in newProps) {
        hostPatchProp(el, "value", oldProps.value, newProps.value, namespace);
      }
    }
  };
  var processFragment = function processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    var fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText("");
    var fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText("");
    var patchFlag = n2.patchFlag,
      dynamicChildren = n2.dynamicChildren,
      fragmentSlotScopeIds = n2.slotScopeIds;
    if (false) {}
    if (fragmentSlotScopeIds) {
      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;
    }
    if (n1 == null) {
      hostInsert(fragmentStartAnchor, container, anchor);
      hostInsert(fragmentEndAnchor, container, anchor);
      mountChildren(
      // #10007
      // such fragment like `<></>` will be compiled into
      // a fragment which doesn't have a children.
      // In this case fallback to an empty array
      n2.children || [], container, fragmentEndAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
    } else {
      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren &&
      // #2715 the previous fragment could've been a BAILed one as a result
      // of renderSlot() with no valid children
      n1.dynamicChildren) {
        patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, namespace, slotScopeIds);
        if (false) {} else if (
        // #2080 if the stable fragment has a key, it's a <template v-for> that may
        //  get moved around. Make sure all root level vnodes inherit el.
        // #2134 or if it's a component root, it may also get moved around
        // as the component is being moved.
        n2.key != null || parentComponent && n2 === parentComponent.subTree) {
          traverseStaticChildren(n1, n2, true
          /* shallow */);
        }
      } else {
        patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
      }
    }
  };
  var processComponent = function processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    n2.slotScopeIds = slotScopeIds;
    if (n1 == null) {
      if (n2.shapeFlag & 512) {
        parentComponent.ctx.activate(n2, container, anchor, namespace, optimized);
      } else {
        mountComponent(n2, container, anchor, parentComponent, parentSuspense, namespace, optimized);
      }
    } else {
      updateComponent(n1, n2, optimized);
    }
  };
  var mountComponent = function mountComponent(initialVNode, container, anchor, parentComponent, parentSuspense, namespace, optimized) {
    var instance = initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense);
    if (false) {}
    if (false) {}
    if (isKeepAlive(initialVNode)) {
      instance.ctx.renderer = internals;
    }
    {
      if (false) {}
      setupComponent(instance);
      if (false) {}
    }
    if (instance.asyncDep) {
      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);
      if (!initialVNode.el) {
        var placeholder = instance.subTree = createVNode(Comment);
        processCommentNode(null, placeholder, container, anchor);
      }
    } else {
      setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, namespace, optimized);
    }
    if (false) {}
  };
  var updateComponent = function updateComponent(n1, n2, optimized) {
    var instance = n2.component = n1.component;
    if (shouldUpdateComponent(n1, n2, optimized)) {
      if (instance.asyncDep && !instance.asyncResolved) {
        if (false) {}
        updateComponentPreRender(instance, n2, optimized);
        if (false) {}
        return;
      } else {
        instance.next = n2;
        invalidateJob(instance.update);
        instance.effect.dirty = true;
        instance.update();
      }
    } else {
      n2.el = n1.el;
      instance.vnode = n2;
    }
  };
  var setupRenderEffect = function setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, namespace, optimized) {
    var componentUpdateFn = function componentUpdateFn() {
      if (!instance.isMounted) {
        var vnodeHook;
        var _initialVNode = initialVNode,
          el = _initialVNode.el,
          props = _initialVNode.props;
        var bm = instance.bm,
          m = instance.m,
          parent = instance.parent;
        var isAsyncWrapperVNode = isAsyncWrapper(initialVNode);
        toggleRecurse(instance, false);
        if (bm) {
          (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .invokeArrayFns */ .ir)(bm);
        }
        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {
          invokeVNodeHook(vnodeHook, parent, initialVNode);
        }
        toggleRecurse(instance, true);
        if (el && hydrateNode) {
          var hydrateSubTree = function hydrateSubTree() {
            if (false) {}
            instance.subTree = renderComponentRoot(instance);
            if (false) {}
            if (false) {}
            hydrateNode(el, instance.subTree, instance, parentSuspense, null);
            if (false) {}
          };
          if (isAsyncWrapperVNode) {
            initialVNode.type.__asyncLoader().then(
            // note: we are moving the render call into an async callback,
            // which means it won't track dependencies - but it's ok because
            // a server-rendered async wrapper is already in resolved state
            // and it will never need to change.
            function () {
              return !instance.isUnmounted && hydrateSubTree();
            });
          } else {
            hydrateSubTree();
          }
        } else {
          if (false) {}
          var subTree = instance.subTree = renderComponentRoot(instance);
          if (false) {}
          if (false) {}
          patch(null, subTree, container, anchor, instance, parentSuspense, namespace);
          if (false) {}
          initialVNode.el = subTree.el;
        }
        if (m) {
          queuePostRenderEffect(m, parentSuspense);
        }
        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {
          var scopedInitialVNode = initialVNode;
          queuePostRenderEffect(function () {
            return invokeVNodeHook(vnodeHook, parent, scopedInitialVNode);
          }, parentSuspense);
        }
        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {
          instance.a && queuePostRenderEffect(instance.a, parentSuspense);
        }
        instance.isMounted = true;
        if (false) {}
        initialVNode = container = anchor = null;
      } else {
        var next = instance.next,
          bu = instance.bu,
          u = instance.u,
          _parent = instance.parent,
          vnode = instance.vnode;
        {
          var nonHydratedAsyncRoot = locateNonHydratedAsyncRoot(instance);
          if (nonHydratedAsyncRoot) {
            if (next) {
              next.el = vnode.el;
              updateComponentPreRender(instance, next, optimized);
            }
            nonHydratedAsyncRoot.asyncDep.then(function () {
              if (!instance.isUnmounted) {
                componentUpdateFn();
              }
            });
            return;
          }
        }
        var originNext = next;
        var _vnodeHook;
        if (false) {}
        toggleRecurse(instance, false);
        if (next) {
          next.el = vnode.el;
          updateComponentPreRender(instance, next, optimized);
        } else {
          next = vnode;
        }
        if (bu) {
          (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .invokeArrayFns */ .ir)(bu);
        }
        if (_vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {
          invokeVNodeHook(_vnodeHook, _parent, next, vnode);
        }
        toggleRecurse(instance, true);
        if (false) {}
        var nextTree = renderComponentRoot(instance);
        if (false) {}
        var prevTree = instance.subTree;
        instance.subTree = nextTree;
        if (false) {}
        patch(prevTree, nextTree,
        // parent may have changed if it's in a teleport
        hostParentNode(prevTree.el),
        // anchor may have changed if it's in a fragment
        getNextHostNode(prevTree), instance, parentSuspense, namespace);
        if (false) {}
        next.el = nextTree.el;
        if (originNext === null) {
          updateHOCHostEl(instance, nextTree.el);
        }
        if (u) {
          queuePostRenderEffect(u, parentSuspense);
        }
        if (_vnodeHook = next.props && next.props.onVnodeUpdated) {
          queuePostRenderEffect(function () {
            return invokeVNodeHook(_vnodeHook, _parent, next, vnode);
          }, parentSuspense);
        }
        if (false) {}
        if (false) {}
      }
    };
    var effect = instance.effect = new _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .ReactiveEffect */ .qq(componentUpdateFn, _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG, function () {
      return queueJob(update);
    }, instance.scope
    // track it in component's effect scope
    );
    var update = instance.update = function () {
      if (effect.dirty) {
        effect.run();
      }
    };
    update.id = instance.uid;
    toggleRecurse(instance, true);
    if (false) {}
    update();
  };
  var updateComponentPreRender = function updateComponentPreRender(instance, nextVNode, optimized) {
    nextVNode.component = instance;
    var prevProps = instance.vnode.props;
    instance.vnode = nextVNode;
    instance.next = null;
    updateProps(instance, nextVNode.props, prevProps, optimized);
    updateSlots(instance, nextVNode.children, optimized);
    (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .pauseTracking */ .Jd)();
    flushPreFlushCbs(instance);
    (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .resetTracking */ .lk)();
  };
  var patchChildren = function patchChildren(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds) {
    var optimized = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : false;
    var c1 = n1 && n1.children;
    var prevShapeFlag = n1 ? n1.shapeFlag : 0;
    var c2 = n2.children;
    var patchFlag = n2.patchFlag,
      shapeFlag = n2.shapeFlag;
    if (patchFlag > 0) {
      if (patchFlag & 128) {
        patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        return;
      } else if (patchFlag & 256) {
        patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        return;
      }
    }
    if (shapeFlag & 8) {
      if (prevShapeFlag & 16) {
        unmountChildren(c1, parentComponent, parentSuspense);
      }
      if (c2 !== c1) {
        hostSetElementText(container, c2);
      }
    } else {
      if (prevShapeFlag & 16) {
        if (shapeFlag & 16) {
          patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        } else {
          unmountChildren(c1, parentComponent, parentSuspense, true);
        }
      } else {
        if (prevShapeFlag & 8) {
          hostSetElementText(container, "");
        }
        if (shapeFlag & 16) {
          mountChildren(c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        }
      }
    }
  };
  var patchUnkeyedChildren = function patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    c1 = c1 || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_ARR */ .Z6;
    c2 = c2 || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_ARR */ .Z6;
    var oldLength = c1.length;
    var newLength = c2.length;
    var commonLength = Math.min(oldLength, newLength);
    var i;
    for (i = 0; i < commonLength; i++) {
      var nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);
      patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
    }
    if (oldLength > newLength) {
      unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);
    } else {
      mountChildren(c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, commonLength);
    }
  };
  var patchKeyedChildren = function patchKeyedChildren(c1, c2, container, parentAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) {
    var i = 0;
    var l2 = c2.length;
    var e1 = c1.length - 1;
    var e2 = l2 - 1;
    while (i <= e1 && i <= e2) {
      var n1 = c1[i];
      var n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);
      if (isSameVNodeType(n1, n2)) {
        patch(n1, n2, container, null, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
      } else {
        break;
      }
      i++;
    }
    while (i <= e1 && i <= e2) {
      var _n = c1[e1];
      var _n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);
      if (isSameVNodeType(_n, _n2)) {
        patch(_n, _n2, container, null, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
      } else {
        break;
      }
      e1--;
      e2--;
    }
    if (i > e1) {
      if (i <= e2) {
        var nextPos = e2 + 1;
        var anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;
        while (i <= e2) {
          patch(null, c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]), container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
          i++;
        }
      }
    } else if (i > e2) {
      while (i <= e1) {
        unmount(c1[i], parentComponent, parentSuspense, true);
        i++;
      }
    } else {
      var s1 = i;
      var s2 = i;
      var keyToNewIndexMap = /* @__PURE__ */new Map();
      for (i = s2; i <= e2; i++) {
        var nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);
        if (nextChild.key != null) {
          if (false) {}
          keyToNewIndexMap.set(nextChild.key, i);
        }
      }
      var j;
      var patched = 0;
      var toBePatched = e2 - s2 + 1;
      var moved = false;
      var maxNewIndexSoFar = 0;
      var newIndexToOldIndexMap = new Array(toBePatched);
      for (i = 0; i < toBePatched; i++) newIndexToOldIndexMap[i] = 0;
      for (i = s1; i <= e1; i++) {
        var prevChild = c1[i];
        if (patched >= toBePatched) {
          unmount(prevChild, parentComponent, parentSuspense, true);
          continue;
        }
        var newIndex = void 0;
        if (prevChild.key != null) {
          newIndex = keyToNewIndexMap.get(prevChild.key);
        } else {
          for (j = s2; j <= e2; j++) {
            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {
              newIndex = j;
              break;
            }
          }
        }
        if (newIndex === void 0) {
          unmount(prevChild, parentComponent, parentSuspense, true);
        } else {
          newIndexToOldIndexMap[newIndex - s2] = i + 1;
          if (newIndex >= maxNewIndexSoFar) {
            maxNewIndexSoFar = newIndex;
          } else {
            moved = true;
          }
          patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
          patched++;
        }
      }
      var increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_ARR */ .Z6;
      j = increasingNewIndexSequence.length - 1;
      for (i = toBePatched - 1; i >= 0; i--) {
        var nextIndex = s2 + i;
        var _nextChild = c2[nextIndex];
        var _anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;
        if (newIndexToOldIndexMap[i] === 0) {
          patch(null, _nextChild, container, _anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        } else if (moved) {
          if (j < 0 || i !== increasingNewIndexSequence[j]) {
            move(_nextChild, container, _anchor, 2);
          } else {
            j--;
          }
        }
      }
    }
  };
  var move = function move(vnode, container, anchor, moveType) {
    var parentSuspense = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
    var el = vnode.el,
      type = vnode.type,
      transition = vnode.transition,
      children = vnode.children,
      shapeFlag = vnode.shapeFlag;
    if (shapeFlag & 6) {
      move(vnode.component.subTree, container, anchor, moveType);
      return;
    }
    if (shapeFlag & 128) {
      vnode.suspense.move(container, anchor, moveType);
      return;
    }
    if (shapeFlag & 64) {
      type.move(vnode, container, anchor, internals);
      return;
    }
    if (type === Fragment) {
      hostInsert(el, container, anchor);
      for (var i = 0; i < children.length; i++) {
        move(children[i], container, anchor, moveType);
      }
      hostInsert(vnode.anchor, container, anchor);
      return;
    }
    if (type === Static) {
      moveStaticNode(vnode, container, anchor);
      return;
    }
    var needTransition2 = moveType !== 2 && shapeFlag & 1 && transition;
    if (needTransition2) {
      if (moveType === 0) {
        transition.beforeEnter(el);
        hostInsert(el, container, anchor);
        queuePostRenderEffect(function () {
          return transition.enter(el);
        }, parentSuspense);
      } else {
        var leave = transition.leave,
          delayLeave = transition.delayLeave,
          afterLeave = transition.afterLeave;
        var remove2 = function remove2() {
          return hostInsert(el, container, anchor);
        };
        var performLeave = function performLeave() {
          leave(el, function () {
            remove2();
            afterLeave && afterLeave();
          });
        };
        if (delayLeave) {
          delayLeave(el, remove2, performLeave);
        } else {
          performLeave();
        }
      }
    } else {
      hostInsert(el, container, anchor);
    }
  };
  var unmount = function unmount(vnode, parentComponent, parentSuspense) {
    var doRemove = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    var optimized = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
    var type = vnode.type,
      props = vnode.props,
      ref = vnode.ref,
      children = vnode.children,
      dynamicChildren = vnode.dynamicChildren,
      shapeFlag = vnode.shapeFlag,
      patchFlag = vnode.patchFlag,
      dirs = vnode.dirs;
    if (ref != null) {
      setRef(ref, null, parentSuspense, vnode, true);
    }
    if (shapeFlag & 256) {
      parentComponent.ctx.deactivate(vnode);
      return;
    }
    var shouldInvokeDirs = shapeFlag & 1 && dirs;
    var shouldInvokeVnodeHook = !isAsyncWrapper(vnode);
    var vnodeHook;
    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {
      invokeVNodeHook(vnodeHook, parentComponent, vnode);
    }
    if (shapeFlag & 6) {
      unmountComponent(vnode.component, parentSuspense, doRemove);
    } else {
      if (shapeFlag & 128) {
        vnode.suspense.unmount(parentSuspense, doRemove);
        return;
      }
      if (shouldInvokeDirs) {
        invokeDirectiveHook(vnode, null, parentComponent, "beforeUnmount");
      }
      if (shapeFlag & 64) {
        vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);
      } else if (dynamicChildren && (
      // #1153: fast path should not be taken for non-stable (v-for) fragments
      type !== Fragment || patchFlag > 0 && patchFlag & 64)) {
        unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);
      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {
        unmountChildren(children, parentComponent, parentSuspense);
      }
      if (doRemove) {
        remove(vnode);
      }
    }
    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {
      queuePostRenderEffect(function () {
        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);
        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, "unmounted");
      }, parentSuspense);
    }
  };
  var remove = function remove(vnode) {
    var type = vnode.type,
      el = vnode.el,
      anchor = vnode.anchor,
      transition = vnode.transition;
    if (type === Fragment) {
      if (false) {} else {
        removeFragment(el, anchor);
      }
      return;
    }
    if (type === Static) {
      removeStaticNode(vnode);
      return;
    }
    var performRemove = function performRemove() {
      hostRemove(el);
      if (transition && !transition.persisted && transition.afterLeave) {
        transition.afterLeave();
      }
    };
    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {
      var leave = transition.leave,
        delayLeave = transition.delayLeave;
      var performLeave = function performLeave() {
        return leave(el, performRemove);
      };
      if (delayLeave) {
        delayLeave(vnode.el, performRemove, performLeave);
      } else {
        performLeave();
      }
    } else {
      performRemove();
    }
  };
  var removeFragment = function removeFragment(cur, end) {
    var next;
    while (cur !== end) {
      next = hostNextSibling(cur);
      hostRemove(cur);
      cur = next;
    }
    hostRemove(end);
  };
  var unmountComponent = function unmountComponent(instance, parentSuspense, doRemove) {
    if (false) {}
    var bum = instance.bum,
      scope = instance.scope,
      update = instance.update,
      subTree = instance.subTree,
      um = instance.um;
    if (bum) {
      (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .invokeArrayFns */ .ir)(bum);
    }
    scope.stop();
    if (update) {
      update.active = false;
      unmount(subTree, instance, parentSuspense, doRemove);
    }
    if (um) {
      queuePostRenderEffect(um, parentSuspense);
    }
    queuePostRenderEffect(function () {
      instance.isUnmounted = true;
    }, parentSuspense);
    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {
      parentSuspense.deps--;
      if (parentSuspense.deps === 0) {
        parentSuspense.resolve();
      }
    }
    if (false) {}
  };
  var unmountChildren = function unmountChildren(children, parentComponent, parentSuspense) {
    var doRemove = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    var optimized = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
    var start = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;
    for (var i = start; i < children.length; i++) {
      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);
    }
  };
  var getNextHostNode = function getNextHostNode(vnode) {
    if (vnode.shapeFlag & 6) {
      return getNextHostNode(vnode.component.subTree);
    }
    if (vnode.shapeFlag & 128) {
      return vnode.suspense.next();
    }
    return hostNextSibling(vnode.anchor || vnode.el);
  };
  var isFlushing = false;
  var render = function render(vnode, container, namespace) {
    if (vnode == null) {
      if (container._vnode) {
        unmount(container._vnode, null, null, true);
      }
    } else {
      patch(container._vnode || null, vnode, container, null, null, null, namespace);
    }
    if (!isFlushing) {
      isFlushing = true;
      flushPreFlushCbs();
      flushPostFlushCbs();
      isFlushing = false;
    }
    container._vnode = vnode;
  };
  var internals = {
    p: patch,
    um: unmount,
    m: move,
    r: remove,
    mt: mountComponent,
    mc: mountChildren,
    pc: patchChildren,
    pbc: patchBlockChildren,
    n: getNextHostNode,
    o: options
  };
  var hydrate;
  var hydrateNode;
  if (createHydrationFns) {
    var _createHydrationFns = createHydrationFns(internals);
    var _createHydrationFns2 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(_createHydrationFns, 2);
    hydrate = _createHydrationFns2[0];
    hydrateNode = _createHydrationFns2[1];
  }
  return {
    render,
    hydrate,
    createApp: createAppAPI(render, hydrate)
  };
}
function resolveChildrenNamespace(_ref17, currentNamespace) {
  var type = _ref17.type,
    props = _ref17.props;
  return currentNamespace === "svg" && type === "foreignObject" || currentNamespace === "mathml" && type === "annotation-xml" && props && props.encoding && props.encoding.includes("html") ? void 0 : currentNamespace;
}
function toggleRecurse(_ref18, allowed) {
  var effect = _ref18.effect,
    update = _ref18.update;
  effect.allowRecurse = update.allowRecurse = allowed;
}
function needTransition(parentSuspense, transition) {
  return (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;
}
function traverseStaticChildren(n1, n2) {
  var shallow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var ch1 = n1.children;
  var ch2 = n2.children;
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(ch1) && (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(ch2)) {
    for (var i = 0; i < ch1.length; i++) {
      var c1 = ch1[i];
      var c2 = ch2[i];
      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {
        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {
          c2 = ch2[i] = cloneIfMounted(ch2[i]);
          c2.el = c1.el;
        }
        if (!shallow) traverseStaticChildren(c1, c2);
      }
      if (c2.type === Text) {
        c2.el = c1.el;
      }
      if (false) {}
    }
  }
}
function getSequence(arr) {
  var p = arr.slice();
  var result = [0];
  var i, j, u, v, c;
  var len = arr.length;
  for (i = 0; i < len; i++) {
    var arrI = arr[i];
    if (arrI !== 0) {
      j = result[result.length - 1];
      if (arr[j] < arrI) {
        p[i] = j;
        result.push(i);
        continue;
      }
      u = 0;
      v = result.length - 1;
      while (u < v) {
        c = u + v >> 1;
        if (arr[result[c]] < arrI) {
          u = c + 1;
        } else {
          v = c;
        }
      }
      if (arrI < arr[result[u]]) {
        if (u > 0) {
          p[i] = result[u - 1];
        }
        result[u] = i;
      }
    }
  }
  u = result.length;
  v = result[u - 1];
  while (u-- > 0) {
    result[u] = v;
    v = p[v];
  }
  return result;
}
function locateNonHydratedAsyncRoot(instance) {
  var subComponent = instance.subTree.component;
  if (subComponent) {
    if (subComponent.asyncDep && !subComponent.asyncResolved) {
      return subComponent;
    } else {
      return locateNonHydratedAsyncRoot(subComponent);
    }
  }
}
var isTeleport = function isTeleport(type) {
  return type.__isTeleport;
};
var isTeleportDisabled = function isTeleportDisabled(props) {
  return props && (props.disabled || props.disabled === "");
};
var isTargetSVG = function isTargetSVG(target) {
  return typeof SVGElement !== "undefined" && target instanceof SVGElement;
};
var isTargetMathML = function isTargetMathML(target) {
  return typeof MathMLElement === "function" && target instanceof MathMLElement;
};
var resolveTarget = function resolveTarget(props, select) {
  var targetSelector = props && props.to;
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(targetSelector)) {
    if (!select) {
       false && 0;
      return null;
    } else {
      var target = select(targetSelector);
      if (!target) {
         false && 0;
      }
      return target;
    }
  } else {
    if (false) {}
    return targetSelector;
  }
};
var TeleportImpl = {
  name: "Teleport",
  __isTeleport: true,
  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, internals) {
    var mountChildren = internals.mc,
      patchChildren = internals.pc,
      patchBlockChildren = internals.pbc,
      _internals$o = internals.o,
      insert = _internals$o.insert,
      querySelector = _internals$o.querySelector,
      createText = _internals$o.createText,
      createComment = _internals$o.createComment;
    var disabled = isTeleportDisabled(n2.props);
    var shapeFlag = n2.shapeFlag,
      children = n2.children,
      dynamicChildren = n2.dynamicChildren;
    if (false) {}
    if (n1 == null) {
      var placeholder = n2.el =  false ? 0 : createText("");
      var mainAnchor = n2.anchor =  false ? 0 : createText("");
      insert(placeholder, container, anchor);
      insert(mainAnchor, container, anchor);
      var target = n2.target = resolveTarget(n2.props, querySelector);
      var targetAnchor = n2.targetAnchor = createText("");
      if (target) {
        insert(targetAnchor, target);
        if (namespace === "svg" || isTargetSVG(target)) {
          namespace = "svg";
        } else if (namespace === "mathml" || isTargetMathML(target)) {
          namespace = "mathml";
        }
      } else if (false) {}
      var mount = function mount(container2, anchor2) {
        if (shapeFlag & 16) {
          mountChildren(children, container2, anchor2, parentComponent, parentSuspense, namespace, slotScopeIds, optimized);
        }
      };
      if (disabled) {
        mount(container, mainAnchor);
      } else if (target) {
        mount(target, targetAnchor);
      }
    } else {
      n2.el = n1.el;
      var _mainAnchor = n2.anchor = n1.anchor;
      var _target = n2.target = n1.target;
      var _targetAnchor = n2.targetAnchor = n1.targetAnchor;
      var wasDisabled = isTeleportDisabled(n1.props);
      var currentContainer = wasDisabled ? container : _target;
      var currentAnchor = wasDisabled ? _mainAnchor : _targetAnchor;
      if (namespace === "svg" || isTargetSVG(_target)) {
        namespace = "svg";
      } else if (namespace === "mathml" || isTargetMathML(_target)) {
        namespace = "mathml";
      }
      if (dynamicChildren) {
        patchBlockChildren(n1.dynamicChildren, dynamicChildren, currentContainer, parentComponent, parentSuspense, namespace, slotScopeIds);
        traverseStaticChildren(n1, n2, true);
      } else if (!optimized) {
        patchChildren(n1, n2, currentContainer, currentAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, false);
      }
      if (disabled) {
        if (!wasDisabled) {
          moveTeleport(n2, container, _mainAnchor, internals, 1);
        } else {
          if (n2.props && n1.props && n2.props.to !== n1.props.to) {
            n2.props.to = n1.props.to;
          }
        }
      } else {
        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {
          var nextTarget = n2.target = resolveTarget(n2.props, querySelector);
          if (nextTarget) {
            moveTeleport(n2, nextTarget, null, internals, 0);
          } else if (false) {}
        } else if (wasDisabled) {
          moveTeleport(n2, _target, _targetAnchor, internals, 1);
        }
      }
    }
    updateCssVars(n2);
  },
  remove(vnode, parentComponent, parentSuspense, optimized, _ref19, doRemove) {
    var unmount = _ref19.um,
      hostRemove = _ref19.o.remove;
    var shapeFlag = vnode.shapeFlag,
      children = vnode.children,
      anchor = vnode.anchor,
      targetAnchor = vnode.targetAnchor,
      target = vnode.target,
      props = vnode.props;
    if (target) {
      hostRemove(targetAnchor);
    }
    doRemove && hostRemove(anchor);
    if (shapeFlag & 16) {
      var shouldRemove = doRemove || !isTeleportDisabled(props);
      for (var i = 0; i < children.length; i++) {
        var child = children[i];
        unmount(child, parentComponent, parentSuspense, shouldRemove, !!child.dynamicChildren);
      }
    }
  },
  move: moveTeleport,
  hydrate: hydrateTeleport
};
function moveTeleport(vnode, container, parentAnchor, _ref20) {
  var insert = _ref20.o.insert,
    move = _ref20.m;
  var moveType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 2;
  if (moveType === 0) {
    insert(vnode.targetAnchor, container, parentAnchor);
  }
  var el = vnode.el,
    anchor = vnode.anchor,
    shapeFlag = vnode.shapeFlag,
    children = vnode.children,
    props = vnode.props;
  var isReorder = moveType === 2;
  if (isReorder) {
    insert(el, container, parentAnchor);
  }
  if (!isReorder || isTeleportDisabled(props)) {
    if (shapeFlag & 16) {
      for (var i = 0; i < children.length; i++) {
        move(children[i], container, parentAnchor, 2);
      }
    }
  }
  if (isReorder) {
    insert(anchor, container, parentAnchor);
  }
}
function hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, _ref21, hydrateChildren) {
  var _ref21$o = _ref21.o,
    nextSibling = _ref21$o.nextSibling,
    parentNode = _ref21$o.parentNode,
    querySelector = _ref21$o.querySelector;
  var target = vnode.target = resolveTarget(vnode.props, querySelector);
  if (target) {
    var targetNode = target._lpa || target.firstChild;
    if (vnode.shapeFlag & 16) {
      if (isTeleportDisabled(vnode.props)) {
        vnode.anchor = hydrateChildren(nextSibling(node), vnode, parentNode(node), parentComponent, parentSuspense, slotScopeIds, optimized);
        vnode.targetAnchor = targetNode;
      } else {
        vnode.anchor = nextSibling(node);
        var targetAnchor = targetNode;
        while (targetAnchor) {
          targetAnchor = nextSibling(targetAnchor);
          if (targetAnchor && targetAnchor.nodeType === 8 && targetAnchor.data === "teleport anchor") {
            vnode.targetAnchor = targetAnchor;
            target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);
            break;
          }
        }
        hydrateChildren(targetNode, vnode, target, parentComponent, parentSuspense, slotScopeIds, optimized);
      }
    }
    updateCssVars(vnode);
  }
  return vnode.anchor && nextSibling(vnode.anchor);
}
var Teleport = TeleportImpl;
function updateCssVars(vnode) {
  var ctx = vnode.ctx;
  if (ctx && ctx.ut) {
    var node = vnode.children[0].el;
    while (node && node !== vnode.targetAnchor) {
      if (node.nodeType === 1) node.setAttribute("data-v-owner", ctx.uid);
      node = node.nextSibling;
    }
    ctx.ut();
  }
}
var Fragment = Symbol.for("v-fgt");
var Text = Symbol.for("v-txt");
var Comment = Symbol.for("v-cmt");
var Static = Symbol.for("v-stc");
var blockStack = [];
var currentBlock = null;
function openBlock() {
  var disableTracking = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  blockStack.push(currentBlock = disableTracking ? null : []);
}
function closeBlock() {
  blockStack.pop();
  currentBlock = blockStack[blockStack.length - 1] || null;
}
var isBlockTreeEnabled = 1;
function setBlockTracking(value) {
  isBlockTreeEnabled += value;
}
function setupBlock(vnode) {
  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_ARR */ .Z6 : null;
  closeBlock();
  if (isBlockTreeEnabled > 0 && currentBlock) {
    currentBlock.push(vnode);
  }
  return vnode;
}
function createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {
  return setupBlock(createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, true));
}
function createBlock(type, props, children, patchFlag, dynamicProps) {
  return setupBlock(createVNode(type, props, children, patchFlag, dynamicProps, true));
}
function isVNode(value) {
  return value ? value.__v_isVNode === true : false;
}
function isSameVNodeType(n1, n2) {
  if (false) {}
  return n1.type === n2.type && n1.key === n2.key;
}
var vnodeArgsTransformer;
function transformVNodeArgs(transformer) {
  vnodeArgsTransformer = transformer;
}
var createVNodeWithArgsTransform = function createVNodeWithArgsTransform() {
  for (var _len7 = arguments.length, args = new Array(_len7), _key15 = 0; _key15 < _len7; _key15++) {
    args[_key15] = arguments[_key15];
  }
  return _createVNode.apply(void 0, _toConsumableArray(vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args));
};
var InternalObjectKey = `__vInternal`;
var normalizeKey = function normalizeKey(_ref22) {
  var key = _ref22.key;
  return key != null ? key : null;
};
var normalizeRef = function normalizeRef(_ref23) {
  var ref = _ref23.ref,
    ref_key = _ref23.ref_key,
    ref_for = _ref23.ref_for;
  if (typeof ref === "number") {
    ref = "" + ref;
  }
  return ref != null ? (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(ref) || (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isRef */ .dq)(ref) || (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(ref) ? {
    i: currentRenderingInstance,
    r: ref,
    k: ref_key,
    f: !!ref_for
  } : ref : null;
};
function createBaseVNode(type) {
  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var patchFlag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
  var dynamicProps = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
  var shapeFlag = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : type === Fragment ? 0 : 1;
  var isBlockNode = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;
  var needFullChildrenNormalization = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : false;
  var vnode = {
    __v_isVNode: true,
    __v_skip: true,
    type,
    props,
    key: props && normalizeKey(props),
    ref: props && normalizeRef(props),
    scopeId: currentScopeId,
    slotScopeIds: null,
    children,
    component: null,
    suspense: null,
    ssContent: null,
    ssFallback: null,
    dirs: null,
    transition: null,
    el: null,
    anchor: null,
    target: null,
    targetAnchor: null,
    staticCount: 0,
    shapeFlag,
    patchFlag,
    dynamicProps,
    dynamicChildren: null,
    appContext: null,
    ctx: currentRenderingInstance
  };
  if (needFullChildrenNormalization) {
    normalizeChildren(vnode, children);
    if (shapeFlag & 128) {
      type.normalize(vnode);
    }
  } else if (children) {
    vnode.shapeFlag |= (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(children) ? 8 : 16;
  }
  if (false) {}
  if (isBlockTreeEnabled > 0 &&
  // avoid a block node from tracking itself
  !isBlockNode &&
  // has current parent block
  currentBlock && (
  // presence of a patch flag indicates this node needs patching on updates.
  // component nodes also should always be patched, because even if the
  // component doesn't need to update, it needs to persist the instance on to
  // the next vnode so that it can be properly unmounted later.
  vnode.patchFlag > 0 || shapeFlag & 6) &&
  // the EVENTS flag is only for hydration and if it is the only flag, the
  // vnode should not be considered dynamic due to handler caching.
  vnode.patchFlag !== 32) {
    currentBlock.push(vnode);
  }
  return vnode;
}
var createVNode =  false ? 0 : _createVNode;
function _createVNode(type) {
  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  var patchFlag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
  var dynamicProps = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
  var isBlockNode = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  if (!type || type === NULL_DYNAMIC_COMPONENT) {
    if (false) {}
    type = Comment;
  }
  if (isVNode(type)) {
    var cloned = cloneVNode(type, props, true
    /* mergeRef: true */);
    if (children) {
      normalizeChildren(cloned, children);
    }
    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {
      if (cloned.shapeFlag & 6) {
        currentBlock[currentBlock.indexOf(type)] = cloned;
      } else {
        currentBlock.push(cloned);
      }
    }
    cloned.patchFlag |= -2;
    return cloned;
  }
  if (isClassComponent(type)) {
    type = type.__vccOpts;
  }
  if (props) {
    props = guardReactiveProps(props);
    var _props = props,
      klass = _props.class,
      style = _props.style;
    if (klass && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(klass)) {
      props.class = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .normalizeClass */ .C_)(klass);
    }
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(style)) {
      if ((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isProxy */ .X3)(style) && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(style)) {
        style = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)({}, style);
      }
      props.style = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .normalizeStyle */ .j5)(style);
    }
  }
  var shapeFlag = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isString */ .HD)(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(type) ? 4 : (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(type) ? 2 : 0;
  if (false) {}
  return createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, isBlockNode, true);
}
function guardReactiveProps(props) {
  if (!props) return null;
  return (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .isProxy */ .X3)(props) || InternalObjectKey in props ? (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)({}, props) : props;
}
function cloneVNode(vnode, extraProps) {
  var mergeRef = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var props = vnode.props,
    ref = vnode.ref,
    patchFlag = vnode.patchFlag,
    children = vnode.children;
  var mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;
  var cloned = {
    __v_isVNode: true,
    __v_skip: true,
    type: vnode.type,
    props: mergedProps,
    key: mergedProps && normalizeKey(mergedProps),
    ref: extraProps && extraProps.ref ?
    // #2078 in the case of <component :is="vnode" ref="extra"/>
    // if the vnode itself already has a ref, cloneVNode will need to merge
    // the refs so the single vnode can be set on multiple refs
    mergeRef && ref ? (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps) : ref,
    scopeId: vnode.scopeId,
    slotScopeIds: vnode.slotScopeIds,
    children:  false ? 0 : children,
    target: vnode.target,
    targetAnchor: vnode.targetAnchor,
    staticCount: vnode.staticCount,
    shapeFlag: vnode.shapeFlag,
    // if the vnode is cloned with extra props, we can no longer assume its
    // existing patch flag to be reliable and need to add the FULL_PROPS flag.
    // note: preserve flag for fragments since they use the flag for children
    // fast paths only.
    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,
    dynamicProps: vnode.dynamicProps,
    dynamicChildren: vnode.dynamicChildren,
    appContext: vnode.appContext,
    dirs: vnode.dirs,
    transition: vnode.transition,
    // These should technically only be non-null on mounted VNodes. However,
    // they *should* be copied for kept-alive vnodes. So we just always copy
    // them since them being non-null during a mount doesn't affect the logic as
    // they will simply be overwritten.
    component: vnode.component,
    suspense: vnode.suspense,
    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),
    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),
    el: vnode.el,
    anchor: vnode.anchor,
    ctx: vnode.ctx,
    ce: vnode.ce
  };
  return cloned;
}
function deepCloneVNode(vnode) {
  var cloned = cloneVNode(vnode);
  if (isArray(vnode.children)) {
    cloned.children = vnode.children.map(deepCloneVNode);
  }
  return cloned;
}
function createTextVNode() {
  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : " ";
  var flag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  return createVNode(Text, null, text, flag);
}
function createStaticVNode(content, numberOfNodes) {
  var vnode = createVNode(Static, null, content);
  vnode.staticCount = numberOfNodes;
  return vnode;
}
function createCommentVNode() {
  var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";
  var asBlock = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);
}
function normalizeVNode(child) {
  if (child == null || typeof child === "boolean") {
    return createVNode(Comment);
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(child)) {
    return createVNode(Fragment, null,
    // #3666, avoid reference pollution when reusing vnode
    child.slice());
  } else if (typeof child === "object") {
    return cloneIfMounted(child);
  } else {
    return createVNode(Text, null, String(child));
  }
}
function cloneIfMounted(child) {
  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);
}
function normalizeChildren(vnode, children) {
  var type = 0;
  var shapeFlag = vnode.shapeFlag;
  if (children == null) {
    children = null;
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(children)) {
    type = 16;
  } else if (typeof children === "object") {
    if (shapeFlag & (1 | 64)) {
      var slot = children.default;
      if (slot) {
        slot._c && (slot._d = false);
        normalizeChildren(vnode, slot());
        slot._c && (slot._d = true);
      }
      return;
    } else {
      type = 32;
      var slotFlag = children._;
      if (!slotFlag && !(InternalObjectKey in children)) {
        children._ctx = currentRenderingInstance;
      } else if (slotFlag === 3 && currentRenderingInstance) {
        if (currentRenderingInstance.slots._ === 1) {
          children._ = 1;
        } else {
          children._ = 2;
          vnode.patchFlag |= 1024;
        }
      }
    }
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(children)) {
    children = {
      default: children,
      _ctx: currentRenderingInstance
    };
    type = 32;
  } else {
    children = String(children);
    if (shapeFlag & 64) {
      type = 16;
      children = [createTextVNode(children)];
    } else {
      type = 8;
    }
  }
  vnode.children = children;
  vnode.shapeFlag |= type;
}
function mergeProps() {
  var ret = {};
  for (var i = 0; i < arguments.length; i++) {
    var toMerge = i < 0 || arguments.length <= i ? undefined : arguments[i];
    for (var key in toMerge) {
      if (key === "class") {
        if (ret.class !== toMerge.class) {
          ret.class = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .normalizeClass */ .C_)([ret.class, toMerge.class]);
        }
      } else if (key === "style") {
        ret.style = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .normalizeStyle */ .j5)([ret.style, toMerge.style]);
      } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isOn */ .F7)(key)) {
        var existing = ret[key];
        var incoming = toMerge[key];
        if (incoming && existing !== incoming && !((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(existing) && existing.includes(incoming))) {
          ret[key] = existing ? [].concat(existing, incoming) : incoming;
        }
      } else if (key !== "") {
        ret[key] = toMerge[key];
      }
    }
  }
  return ret;
}
function invokeVNodeHook(hook, instance, vnode) {
  var prevVNode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
  callWithAsyncErrorHandling(hook, instance, 7, [vnode, prevVNode]);
}
var emptyAppContext = createAppContext();
var uid = 0;
function createComponentInstance(vnode, parent, suspense) {
  var type = vnode.type;
  var appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;
  var instance = {
    uid: uid++,
    vnode,
    type,
    parent,
    appContext,
    root: null,
    // to be immediately set
    next: null,
    subTree: null,
    // will be set synchronously right after creation
    effect: null,
    update: null,
    // will be set synchronously right after creation
    scope: new _vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .EffectScope */ .Bj(true
    /* detached */),
    render: null,
    proxy: null,
    exposed: null,
    exposeProxy: null,
    withProxy: null,
    provides: parent ? parent.provides : Object.create(appContext.provides),
    accessCache: null,
    renderCache: [],
    // local resolved assets
    components: null,
    directives: null,
    // resolved props and emits options
    propsOptions: normalizePropsOptions(type, appContext),
    emitsOptions: normalizeEmitsOptions(type, appContext),
    // emit
    emit: null,
    // to be set immediately
    emitted: null,
    // props default value
    propsDefaults: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    // inheritAttrs
    inheritAttrs: type.inheritAttrs,
    // state
    ctx: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    data: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    props: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    attrs: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    slots: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    refs: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    setupState: _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .EMPTY_OBJ */ .kT,
    setupContext: null,
    attrsProxy: null,
    slotsProxy: null,
    // suspense related
    suspense,
    suspenseId: suspense ? suspense.pendingId : 0,
    asyncDep: null,
    asyncResolved: false,
    // lifecycle hooks
    // not using enums here because it results in computed properties
    isMounted: false,
    isUnmounted: false,
    isDeactivated: false,
    bc: null,
    c: null,
    bm: null,
    m: null,
    bu: null,
    u: null,
    um: null,
    bum: null,
    da: null,
    a: null,
    rtg: null,
    rtc: null,
    ec: null,
    sp: null
  };
  if (false) {} else {
    instance.ctx = {
      _: instance
    };
  }
  instance.root = parent ? parent.root : instance;
  instance.emit = emit.bind(null, instance);
  if (vnode.ce) {
    vnode.ce(instance);
  }
  return instance;
}
var currentInstance = null;
var getCurrentInstance = function getCurrentInstance() {
  return currentInstance || currentRenderingInstance;
};
var internalSetCurrentInstance;
var setInSSRSetupState;
{
  var g = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .getGlobalThis */ .E9)();
  var registerGlobalSetter = function registerGlobalSetter(key, setter) {
    var setters;
    if (!(setters = g[key])) setters = g[key] = [];
    setters.push(setter);
    return function (v) {
      if (setters.length > 1) setters.forEach(function (set) {
        return set(v);
      });else setters[0](v);
    };
  };
  internalSetCurrentInstance = registerGlobalSetter(`__VUE_INSTANCE_SETTERS__`, function (v) {
    return currentInstance = v;
  });
  setInSSRSetupState = registerGlobalSetter(`__VUE_SSR_SETTERS__`, function (v) {
    return isInSSRComponentSetup = v;
  });
}
var setCurrentInstance = function setCurrentInstance(instance) {
  var prev = currentInstance;
  internalSetCurrentInstance(instance);
  instance.scope.on();
  return function () {
    instance.scope.off();
    internalSetCurrentInstance(prev);
  };
};
var unsetCurrentInstance = function unsetCurrentInstance() {
  currentInstance && currentInstance.scope.off();
  internalSetCurrentInstance(null);
};
var isBuiltInTag = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap("slot,component")));
function validateComponentName(name, config) {
  var appIsNativeTag = config.isNativeTag || NO;
  if (isBuiltInTag(name) || appIsNativeTag(name)) {
    warn$1("Do not use built-in or reserved HTML elements as component id: " + name);
  }
}
function isStatefulComponent(instance) {
  return instance.vnode.shapeFlag & 4;
}
var isInSSRComponentSetup = false;
function setupComponent(instance) {
  var isSSR = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  isSSR && setInSSRSetupState(isSSR);
  var _instance$vnode = instance.vnode,
    props = _instance$vnode.props,
    children = _instance$vnode.children;
  var isStateful = isStatefulComponent(instance);
  initProps(instance, props, isStateful, isSSR);
  initSlots(instance, children);
  var setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;
  isSSR && setInSSRSetupState(false);
  return setupResult;
}
function setupStatefulComponent(instance, isSSR) {
  var _a;
  var Component = instance.type;
  if (false) { var _i4, _names, i, names; }
  instance.accessCache = /* @__PURE__ */Object.create(null);
  instance.proxy = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .markRaw */ .Xl)(new Proxy(instance.ctx, PublicInstanceProxyHandlers));
  if (false) {}
  var setup = Component.setup;
  if (setup) {
    var setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;
    var reset = setCurrentInstance(instance);
    (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .pauseTracking */ .Jd)();
    var setupResult = callWithErrorHandling(setup, instance, 0, [ false ? 0 : instance.props, setupContext]);
    (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .resetTracking */ .lk)();
    reset();
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isPromise */ .tI)(setupResult)) {
      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);
      if (isSSR) {
        return setupResult.then(function (resolvedResult) {
          handleSetupResult(instance, resolvedResult, isSSR);
        }).catch(function (e) {
          handleError(e, instance, 0);
        });
      } else {
        instance.asyncDep = setupResult;
        if (false) { var name; }
      }
    } else {
      handleSetupResult(instance, setupResult, isSSR);
    }
  } else {
    finishComponentSetup(instance, isSSR);
  }
}
function handleSetupResult(instance, setupResult, isSSR) {
  if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(setupResult)) {
    if (instance.type.__ssrInlineRender) {
      instance.ssrRender = setupResult;
    } else {
      instance.render = setupResult;
    }
  } else if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(setupResult)) {
    if (false) {}
    if (false) {}
    instance.setupState = (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .proxyRefs */ .WL)(setupResult);
    if (false) {}
  } else if (false) {}
  finishComponentSetup(instance, isSSR);
}
var compile;
var installWithProxy;
function registerRuntimeCompiler(_compile) {
  compile = _compile;
  installWithProxy = function installWithProxy(i) {
    if (i.render._rc) {
      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);
    }
  };
}
var isRuntimeOnly = function isRuntimeOnly() {
  return !compile;
};
function finishComponentSetup(instance, isSSR, skipOptions) {
  var Component = instance.type;
  if (!instance.render) {
    if (!isSSR && compile && !Component.render) {
      var template = Component.template || resolveMergedOptions(instance).template;
      if (template) {
        if (false) {}
        var _instance$appContext$ = instance.appContext.config,
          isCustomElement = _instance$appContext$.isCustomElement,
          compilerOptions = _instance$appContext$.compilerOptions;
        var delimiters = Component.delimiters,
          componentCompilerOptions = Component.compilerOptions;
        var finalCompilerOptions = (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .extend */ .l7)({
          isCustomElement,
          delimiters
        }, compilerOptions), componentCompilerOptions);
        Component.render = compile(template, finalCompilerOptions);
        if (false) {}
      }
    }
    instance.render = Component.render || _vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .NOOP */ .dG;
    if (installWithProxy) {
      installWithProxy(instance);
    }
  }
  if (true) {
    var reset = setCurrentInstance(instance);
    (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .pauseTracking */ .Jd)();
    try {
      applyOptions(instance);
    } finally {
      (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .resetTracking */ .lk)();
      reset();
    }
  }
  if (false) {}
}
function getAttrsProxy(instance) {
  return instance.attrsProxy || (instance.attrsProxy = new Proxy(instance.attrs,  false ? 0 : {
    get(target, key) {
      (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .track */ .j)(instance, "get", "$attrs");
      return target[key];
    }
  }));
}
function getSlotsProxy(instance) {
  return instance.slotsProxy || (instance.slotsProxy = new Proxy(instance.slots, {
    get(target, key) {
      track(instance, "get", "$slots");
      return target[key];
    }
  }));
}
function createSetupContext(instance) {
  var expose = function expose(exposed) {
    if (false) { var exposedType; }
    instance.exposed = exposed || {};
  };
  if (false) {} else {
    return {
      get attrs() {
        return getAttrsProxy(instance);
      },
      slots: instance.slots,
      emit: instance.emit,
      expose
    };
  }
}
function getExposeProxy(instance) {
  if (instance.exposed) {
    return instance.exposeProxy || (instance.exposeProxy = new Proxy((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .proxyRefs */ .WL)((0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .markRaw */ .Xl)(instance.exposed)), {
      get(target, key) {
        if (key in target) {
          return target[key];
        } else if (key in publicPropertiesMap) {
          return publicPropertiesMap[key](instance);
        }
      },
      has(target, key) {
        return key in target || key in publicPropertiesMap;
      }
    }));
  }
}
var classifyRE = /(?:^|[-_])(\w)/g;
var classify = function classify(str) {
  return str.replace(classifyRE, function (c) {
    return c.toUpperCase();
  }).replace(/[-_]/g, "");
};
function getComponentName(Component) {
  var includeInferred = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;
}
function formatComponentName(instance, Component) {
  var isRoot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var name = getComponentName(Component);
  if (!name && Component.__file) {
    var match = Component.__file.match(/([^/\\]+)\.\w+$/);
    if (match) {
      name = match[1];
    }
  }
  if (!name && instance && instance.parent) {
    var inferFromRegistry = function inferFromRegistry(registry) {
      for (var key in registry) {
        if (registry[key] === Component) {
          return key;
        }
      }
    };
    name = inferFromRegistry(instance.components || instance.parent.type.components) || inferFromRegistry(instance.appContext.components);
  }
  return name ? classify(name) : isRoot ? `App` : `Anonymous`;
}
function isClassComponent(value) {
  return (0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isFunction */ .mf)(value) && "__vccOpts" in value;
}
var computed = function computed(getterOrOptions, debugOptions) {
  return (0,_vue_reactivity__WEBPACK_IMPORTED_MODULE_45__/* .computed */ .Fl)(getterOrOptions, debugOptions, isInSSRComponentSetup);
};
function useModel(props, name) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EMPTY_OBJ;
  var i = getCurrentInstance();
  if (false) {}
  if (false) {}
  var camelizedName = camelize(name);
  var hyphenatedName = hyphenate(name);
  var res = customRef(function (track, trigger) {
    var localValue;
    watchSyncEffect(function () {
      var propValue = props[name];
      if (hasChanged(localValue, propValue)) {
        localValue = propValue;
        trigger();
      }
    });
    return {
      get() {
        track();
        return options.get ? options.get(localValue) : localValue;
      },
      set(value) {
        var rawProps = i.vnode.props;
        if (!(rawProps && (
        // check if parent has passed v-model
        name in rawProps || camelizedName in rawProps || hyphenatedName in rawProps) && (`onUpdate:${name}` in rawProps || `onUpdate:${camelizedName}` in rawProps || `onUpdate:${hyphenatedName}` in rawProps)) && hasChanged(value, localValue)) {
          localValue = value;
          trigger();
        }
        i.emit(`update:${name}`, options.set ? options.set(value) : value);
      }
    };
  });
  var modifierKey = name === "modelValue" ? "modelModifiers" : `${name}Modifiers`;
  res[Symbol.iterator] = function () {
    var i2 = 0;
    return {
      next() {
        if (i2 < 2) {
          return {
            value: i2++ ? props[modifierKey] || {} : res,
            done: false
          };
        } else {
          return {
            done: true
          };
        }
      }
    };
  };
  return res;
}
function h(type, propsOrChildren, children) {
  var l = arguments.length;
  if (l === 2) {
    if ((0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isObject */ .Kn)(propsOrChildren) && !(0,_vue_shared__WEBPACK_IMPORTED_MODULE_46__/* .isArray */ .kJ)(propsOrChildren)) {
      if (isVNode(propsOrChildren)) {
        return createVNode(type, null, [propsOrChildren]);
      }
      return createVNode(type, propsOrChildren);
    } else {
      return createVNode(type, null, propsOrChildren);
    }
  } else {
    if (l > 3) {
      children = Array.prototype.slice.call(arguments, 2);
    } else if (l === 3 && isVNode(children)) {
      children = [children];
    }
    return createVNode(type, propsOrChildren, children);
  }
}
function isShallow(value) {
  return !!(value && value["__v_isShallow"]);
}
function initCustomFormatter() {
  if (true) {
    return;
  }
  var vueStyle = {
    style: "color:#3ba776"
  };
  var numberStyle = {
    style: "color:#1677ff"
  };
  var stringStyle = {
    style: "color:#f5222d"
  };
  var keywordStyle = {
    style: "color:#eb2f96"
  };
  var formatter = {
    header(obj) {
      if (!isObject(obj)) {
        return null;
      }
      if (obj.__isVue) {
        return ["div", vueStyle, `VueInstance`];
      } else if (isRef(obj)) {
        return ["div", {}, ["span", vueStyle, genRefFlag(obj)], "<", formatValue(obj.value), `>`];
      } else if (isReactive(obj)) {
        return ["div", {}, ["span", vueStyle, isShallow(obj) ? "ShallowReactive" : "Reactive"], "<", formatValue(obj), `>${isReadonly(obj) ? ` (readonly)` : ``}`];
      } else if (isReadonly(obj)) {
        return ["div", {}, ["span", vueStyle, isShallow(obj) ? "ShallowReadonly" : "Readonly"], "<", formatValue(obj), ">"];
      }
      return null;
    },
    hasBody(obj) {
      return obj && obj.__isVue;
    },
    body(obj) {
      if (obj && obj.__isVue) {
        return ["div", {}].concat(_toConsumableArray(formatInstance(obj.$)));
      }
    }
  };
  function formatInstance(instance) {
    var blocks = [];
    if (instance.type.props && instance.props) {
      blocks.push(createInstanceBlock("props", toRaw(instance.props)));
    }
    if (instance.setupState !== EMPTY_OBJ) {
      blocks.push(createInstanceBlock("setup", instance.setupState));
    }
    if (instance.data !== EMPTY_OBJ) {
      blocks.push(createInstanceBlock("data", toRaw(instance.data)));
    }
    var computed = extractKeys(instance, "computed");
    if (computed) {
      blocks.push(createInstanceBlock("computed", computed));
    }
    var injected = extractKeys(instance, "inject");
    if (injected) {
      blocks.push(createInstanceBlock("injected", injected));
    }
    blocks.push(["div", {}, ["span", {
      style: keywordStyle.style + ";opacity:0.66"
    }, "$ (internal): "], ["object", {
      object: instance
    }]]);
    return blocks;
  }
  function createInstanceBlock(type, target) {
    target = extend({}, target);
    if (!Object.keys(target).length) {
      return ["span", {}];
    }
    return ["div", {
      style: "line-height:1.25em;margin-bottom:0.6em"
    }, ["div", {
      style: "color:#476582"
    }, type], ["div", {
      style: "padding-left:1.25em"
    }].concat(_toConsumableArray(Object.keys(target).map(function (key) {
      return ["div", {}, ["span", keywordStyle, key + ": "], formatValue(target[key], false)];
    })))];
  }
  function formatValue(v) {
    var asRaw = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    if (typeof v === "number") {
      return ["span", numberStyle, v];
    } else if (typeof v === "string") {
      return ["span", stringStyle, JSON.stringify(v)];
    } else if (typeof v === "boolean") {
      return ["span", keywordStyle, v];
    } else if (isObject(v)) {
      return ["object", {
        object: asRaw ? toRaw(v) : v
      }];
    } else {
      return ["span", stringStyle, String(v)];
    }
  }
  function extractKeys(instance, type) {
    var Comp = instance.type;
    if (isFunction(Comp)) {
      return;
    }
    var extracted = {};
    for (var key in instance.ctx) {
      if (isKeyOfType(Comp, key, type)) {
        extracted[key] = instance.ctx[key];
      }
    }
    return extracted;
  }
  function isKeyOfType(Comp, key, type) {
    var opts = Comp[type];
    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {
      return true;
    }
    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {
      return true;
    }
    if (Comp.mixins && Comp.mixins.some(function (m) {
      return isKeyOfType(m, key, type);
    })) {
      return true;
    }
  }
  function genRefFlag(v) {
    if (isShallow(v)) {
      return `ShallowRef`;
    }
    if (v.effect) {
      return `ComputedRef`;
    }
    return `Ref`;
  }
  if (window.devtoolsFormatters) {
    window.devtoolsFormatters.push(formatter);
  } else {
    window.devtoolsFormatters = [formatter];
  }
}
function withMemo(memo, render, cache, index) {
  var cached = cache[index];
  if (cached && isMemoSame(cached, memo)) {
    return cached;
  }
  var ret = render();
  ret.memo = memo.slice();
  return cache[index] = ret;
}
function isMemoSame(cached, memo) {
  var prev = cached.memo;
  if (prev.length != memo.length) {
    return false;
  }
  for (var i = 0; i < prev.length; i++) {
    if (hasChanged(prev[i], memo[i])) {
      return false;
    }
  }
  if (isBlockTreeEnabled > 0 && currentBlock) {
    currentBlock.push(cached);
  }
  return true;
}
var version = "3.4.15";
var warn = (/* unused pure expression or super */ null && ( false ? 0 : NOOP));
var ErrorTypeStrings = (/* unused pure expression or super */ null && (ErrorTypeStrings$1));
var devtools =  true ? devtools$1 : 0;
var setDevtoolsHook = (/* unused pure expression or super */ null && ( true ? setDevtoolsHook$1 : 0));
var _ssrUtils = {
  createComponentInstance,
  setupComponent,
  renderComponentRoot,
  setCurrentRenderingInstance,
  isVNode: isVNode,
  normalizeVNode
};
var ssrUtils = (/* unused pure expression or super */ null && (_ssrUtils));
var resolveFilter = null;
var compatUtils = null;
var DeprecationTypes = null;


/***/ }),

/***/ 88686:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C_: function() { return /* binding */ normalizeClass; },
/* harmony export */   DM: function() { return /* binding */ isSet; },
/* harmony export */   E9: function() { return /* binding */ getGlobalThis; },
/* harmony export */   F7: function() { return /* binding */ isOn; },
/* harmony export */   Gg: function() { return /* binding */ isReservedProp; },
/* harmony export */   HD: function() { return /* binding */ isString; },
/* harmony export */   He: function() { return /* binding */ toNumber; },
/* harmony export */   Kj: function() { return /* binding */ isRegExp; },
/* harmony export */   Kn: function() { return /* binding */ isObject; },
/* harmony export */   NO: function() { return /* binding */ NO; },
/* harmony export */   Nj: function() { return /* binding */ def; },
/* harmony export */   Od: function() { return /* binding */ remove; },
/* harmony export */   PO: function() { return /* binding */ isPlainObject; },
/* harmony export */   Pq: function() { return /* binding */ isSpecialBooleanAttr; },
/* harmony export */   RI: function() { return /* binding */ hasOwn; },
/* harmony export */   S0: function() { return /* binding */ isIntegerKey; },
/* harmony export */   W7: function() { return /* binding */ toRawType; },
/* harmony export */   WV: function() { return /* binding */ looseEqual; },
/* harmony export */   Z6: function() { return /* binding */ EMPTY_ARR; },
/* harmony export */   _A: function() { return /* binding */ camelize; },
/* harmony export */   _N: function() { return /* binding */ isMap; },
/* harmony export */   aU: function() { return /* binding */ hasChanged; },
/* harmony export */   dG: function() { return /* binding */ NOOP; },
/* harmony export */   fY: function() { return /* binding */ makeMap; },
/* harmony export */   h5: function() { return /* binding */ looseToNumber; },
/* harmony export */   hR: function() { return /* binding */ toHandlerKey; },
/* harmony export */   hq: function() { return /* binding */ looseIndexOf; },
/* harmony export */   ir: function() { return /* binding */ invokeArrayFns; },
/* harmony export */   j5: function() { return /* binding */ normalizeStyle; },
/* harmony export */   kC: function() { return /* binding */ capitalize; },
/* harmony export */   kJ: function() { return /* binding */ isArray; },
/* harmony export */   kT: function() { return /* binding */ EMPTY_OBJ; },
/* harmony export */   l7: function() { return /* binding */ extend; },
/* harmony export */   mf: function() { return /* binding */ isFunction; },
/* harmony export */   rs: function() { return /* binding */ hyphenate; },
/* harmony export */   tI: function() { return /* binding */ isPromise; },
/* harmony export */   tR: function() { return /* binding */ isModelListener; },
/* harmony export */   yA: function() { return /* binding */ includeBooleanAttr; },
/* harmony export */   yk: function() { return /* binding */ isSymbol; },
/* harmony export */   yl: function() { return /* binding */ isGloballyAllowed; },
/* harmony export */   zw: function() { return /* binding */ toDisplayString; }
/* harmony export */ });
/* unused harmony exports PatchFlagNames, PatchFlags, ShapeFlags, SlotFlags, escapeHtml, escapeHtmlComment, genPropsAccessExp, generateCodeFrame, isBooleanAttr, isBuiltInDirective, isDate, isGloballyWhitelisted, isHTMLTag, isKnownHtmlAttr, isKnownSvgAttr, isMathMLTag, isRenderableAttrValue, isSSRSafeAttrName, isSVGTag, isVoidTag, normalizeProps, objectToString, parseStringStyle, propsToAttrMap, slotFlagsText, stringifyStyle, toTypeString */
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(64224);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16097);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(752);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19649);
/* harmony import */ var core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(76265);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(268);
/* harmony import */ var core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(62506);
/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(12826);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(89730);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(64043);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(57267);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_global_this_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(45398);
/* harmony import */ var core_js_modules_es_global_this_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_global_this_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_web_self_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(3650);
/* harmony import */ var core_js_modules_web_self_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_self_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(7409);
/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(48324);
/* harmony import */ var core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(9873);
/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(38077);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(70560);
/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(47522);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(28436);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(50886);
/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(59749);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(86544);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_23__);
























/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function makeMap(str, expectsLowerCase) {
  var set = new Set(str.split(","));
  return expectsLowerCase ? function (val) {
    return set.has(val.toLowerCase());
  } : function (val) {
    return set.has(val);
  };
}
var EMPTY_OBJ =  false ? 0 : {};
var EMPTY_ARR =  false ? 0 : [];
var NOOP = function NOOP() {};
var NO = function NO() {
  return false;
};
var isOn = function isOn(key) {
  return key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && (
  // uppercase letter
  key.charCodeAt(2) > 122 || key.charCodeAt(2) < 97);
};
var isModelListener = function isModelListener(key) {
  return key.startsWith("onUpdate:");
};
var extend = Object.assign;
var remove = function remove(arr, el) {
  var i = arr.indexOf(el);
  if (i > -1) {
    arr.splice(i, 1);
  }
};
var hasOwnProperty = Object.prototype.hasOwnProperty;
var hasOwn = function hasOwn(val, key) {
  return hasOwnProperty.call(val, key);
};
var isArray = Array.isArray;
var isMap = function isMap(val) {
  return toTypeString(val) === "[object Map]";
};
var isSet = function isSet(val) {
  return toTypeString(val) === "[object Set]";
};
var isDate = function isDate(val) {
  return toTypeString(val) === "[object Date]";
};
var isRegExp = function isRegExp(val) {
  return toTypeString(val) === "[object RegExp]";
};
var isFunction = function isFunction(val) {
  return typeof val === "function";
};
var isString = function isString(val) {
  return typeof val === "string";
};
var isSymbol = function isSymbol(val) {
  return typeof val === "symbol";
};
var isObject = function isObject(val) {
  return val !== null && typeof val === "object";
};
var isPromise = function isPromise(val) {
  return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);
};
var objectToString = Object.prototype.toString;
var toTypeString = function toTypeString(value) {
  return objectToString.call(value);
};
var toRawType = function toRawType(value) {
  return toTypeString(value).slice(8, -1);
};
var isPlainObject = function isPlainObject(val) {
  return toTypeString(val) === "[object Object]";
};
var isIntegerKey = function isIntegerKey(key) {
  return isString(key) && key !== "NaN" && key[0] !== "-" && "" + parseInt(key, 10) === key;
};
var isReservedProp = /* @__PURE__ */makeMap(
// the leading comma is intentional so empty string "" is also included
",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted");
var isBuiltInDirective = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo")));
var cacheStringFunction = function cacheStringFunction(fn) {
  var cache = /* @__PURE__ */Object.create(null);
  return function (str) {
    var hit = cache[str];
    return hit || (cache[str] = fn(str));
  };
};
var camelizeRE = /-(\w)/g;
var camelize = cacheStringFunction(function (str) {
  return str.replace(camelizeRE, function (_, c) {
    return c ? c.toUpperCase() : "";
  });
});
var hyphenateRE = /\B([A-Z])/g;
var hyphenate = cacheStringFunction(function (str) {
  return str.replace(hyphenateRE, "-$1").toLowerCase();
});
var capitalize = cacheStringFunction(function (str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
});
var toHandlerKey = cacheStringFunction(function (str) {
  var s = str ? `on${capitalize(str)}` : ``;
  return s;
});
var hasChanged = function hasChanged(value, oldValue) {
  return !Object.is(value, oldValue);
};
var invokeArrayFns = function invokeArrayFns(fns, arg) {
  for (var i = 0; i < fns.length; i++) {
    fns[i](arg);
  }
};
var def = function def(obj, key, value) {
  Object.defineProperty(obj, key, {
    configurable: true,
    enumerable: false,
    value
  });
};
var looseToNumber = function looseToNumber(val) {
  var n = parseFloat(val);
  return isNaN(n) ? val : n;
};
var toNumber = function toNumber(val) {
  var n = isString(val) ? Number(val) : NaN;
  return isNaN(n) ? val : n;
};
var _globalThis;
var getGlobalThis = function getGlobalThis() {
  return _globalThis || (_globalThis = typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : typeof __webpack_require__.g !== "undefined" ? __webpack_require__.g : {});
};
var identRE = /^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;
function genPropsAccessExp(name) {
  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;
}
var PatchFlags = {
  "TEXT": 1,
  "1": "TEXT",
  "CLASS": 2,
  "2": "CLASS",
  "STYLE": 4,
  "4": "STYLE",
  "PROPS": 8,
  "8": "PROPS",
  "FULL_PROPS": 16,
  "16": "FULL_PROPS",
  "NEED_HYDRATION": 32,
  "32": "NEED_HYDRATION",
  "STABLE_FRAGMENT": 64,
  "64": "STABLE_FRAGMENT",
  "KEYED_FRAGMENT": 128,
  "128": "KEYED_FRAGMENT",
  "UNKEYED_FRAGMENT": 256,
  "256": "UNKEYED_FRAGMENT",
  "NEED_PATCH": 512,
  "512": "NEED_PATCH",
  "DYNAMIC_SLOTS": 1024,
  "1024": "DYNAMIC_SLOTS",
  "DEV_ROOT_FRAGMENT": 2048,
  "2048": "DEV_ROOT_FRAGMENT",
  "HOISTED": -1,
  "-1": "HOISTED",
  "BAIL": -2,
  "-2": "BAIL"
};
var PatchFlagNames = {
  [1]: `TEXT`,
  [2]: `CLASS`,
  [4]: `STYLE`,
  [8]: `PROPS`,
  [16]: `FULL_PROPS`,
  [32]: `NEED_HYDRATION`,
  [64]: `STABLE_FRAGMENT`,
  [128]: `KEYED_FRAGMENT`,
  [256]: `UNKEYED_FRAGMENT`,
  [512]: `NEED_PATCH`,
  [1024]: `DYNAMIC_SLOTS`,
  [2048]: `DEV_ROOT_FRAGMENT`,
  [-1]: `HOISTED`,
  [-2]: `BAIL`
};
var ShapeFlags = {
  "ELEMENT": 1,
  "1": "ELEMENT",
  "FUNCTIONAL_COMPONENT": 2,
  "2": "FUNCTIONAL_COMPONENT",
  "STATEFUL_COMPONENT": 4,
  "4": "STATEFUL_COMPONENT",
  "TEXT_CHILDREN": 8,
  "8": "TEXT_CHILDREN",
  "ARRAY_CHILDREN": 16,
  "16": "ARRAY_CHILDREN",
  "SLOTS_CHILDREN": 32,
  "32": "SLOTS_CHILDREN",
  "TELEPORT": 64,
  "64": "TELEPORT",
  "SUSPENSE": 128,
  "128": "SUSPENSE",
  "COMPONENT_SHOULD_KEEP_ALIVE": 256,
  "256": "COMPONENT_SHOULD_KEEP_ALIVE",
  "COMPONENT_KEPT_ALIVE": 512,
  "512": "COMPONENT_KEPT_ALIVE",
  "COMPONENT": 6,
  "6": "COMPONENT"
};
var SlotFlags = {
  "STABLE": 1,
  "1": "STABLE",
  "DYNAMIC": 2,
  "2": "DYNAMIC",
  "FORWARDED": 3,
  "3": "FORWARDED"
};
var slotFlagsText = {
  [1]: "STABLE",
  [2]: "DYNAMIC",
  [3]: "FORWARDED"
};
var GLOBALS_ALLOWED = "Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error";
var isGloballyAllowed = /* @__PURE__ */makeMap(GLOBALS_ALLOWED);
var isGloballyWhitelisted = (/* unused pure expression or super */ null && (isGloballyAllowed));
var range = 2;
function generateCodeFrame(source) {
  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;
  var lines = source.split(/(\r?\n)/);
  var newlineSequences = lines.filter(function (_, idx) {
    return idx % 2 === 1;
  });
  lines = lines.filter(function (_, idx) {
    return idx % 2 === 0;
  });
  var count = 0;
  var res = [];
  for (var i = 0; i < lines.length; i++) {
    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);
    if (count >= start) {
      for (var j = i - range; j <= i + range || end > count; j++) {
        if (j < 0 || j >= lines.length) continue;
        var line = j + 1;
        res.push(`${line}${" ".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);
        var lineLength = lines[j].length;
        var newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;
        if (j === i) {
          var pad = start - (count - (lineLength + newLineSeqLength));
          var length = Math.max(1, end > count ? lineLength - pad : end - start);
          res.push(`   |  ` + " ".repeat(pad) + "^".repeat(length));
        } else if (j > i) {
          if (end > count) {
            var _length = Math.max(Math.min(end - count, lineLength), 1);
            res.push(`   |  ` + "^".repeat(_length));
          }
          count += lineLength + newLineSeqLength;
        }
      }
      break;
    }
  }
  return res.join("\n");
}
function normalizeStyle(value) {
  if (isArray(value)) {
    var res = {};
    for (var i = 0; i < value.length; i++) {
      var item = value[i];
      var normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);
      if (normalized) {
        for (var key in normalized) {
          res[key] = normalized[key];
        }
      }
    }
    return res;
  } else if (isString(value) || isObject(value)) {
    return value;
  }
}
var listDelimiterRE = /;(?![^(]*\))/g;
var propertyDelimiterRE = /:([^]+)/;
var styleCommentRE = /\/\*[^]*?\*\//g;
function parseStringStyle(cssText) {
  var ret = {};
  cssText.replace(styleCommentRE, "").split(listDelimiterRE).forEach(function (item) {
    if (item) {
      var tmp = item.split(propertyDelimiterRE);
      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());
    }
  });
  return ret;
}
function stringifyStyle(styles) {
  var ret = "";
  if (!styles || isString(styles)) {
    return ret;
  }
  for (var key in styles) {
    var value = styles[key];
    var normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);
    if (isString(value) || typeof value === "number") {
      ret += `${normalizedKey}:${value};`;
    }
  }
  return ret;
}
function normalizeClass(value) {
  var res = "";
  if (isString(value)) {
    res = value;
  } else if (isArray(value)) {
    for (var i = 0; i < value.length; i++) {
      var normalized = normalizeClass(value[i]);
      if (normalized) {
        res += normalized + " ";
      }
    }
  } else if (isObject(value)) {
    for (var name in value) {
      if (value[name]) {
        res += name + " ";
      }
    }
  }
  return res.trim();
}
function normalizeProps(props) {
  if (!props) return null;
  var klass = props.class,
    style = props.style;
  if (klass && !isString(klass)) {
    props.class = normalizeClass(klass);
  }
  if (style) {
    props.style = normalizeStyle(style);
  }
  return props;
}
var HTML_TAGS = "html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot";
var SVG_TAGS = "svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view";
var MATH_TAGS = "annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics";
var VOID_TAGS = "area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr";
var isHTMLTag = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap(HTML_TAGS)));
var isSVGTag = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap(SVG_TAGS)));
var isMathMLTag = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap(MATH_TAGS)));
var isVoidTag = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap(VOID_TAGS)));
var specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;
var isSpecialBooleanAttr = /* @__PURE__ */makeMap(specialBooleanAttrs);
var isBooleanAttr = /* @__PURE__ */makeMap(specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`);
function includeBooleanAttr(value) {
  return !!value || value === "";
}
var unsafeAttrCharRE = /[>/="'\u0009\u000a\u000c\u0020]/;
var attrValidationCache = {};
function isSSRSafeAttrName(name) {
  if (attrValidationCache.hasOwnProperty(name)) {
    return attrValidationCache[name];
  }
  var isUnsafe = unsafeAttrCharRE.test(name);
  if (isUnsafe) {
    console.error(`unsafe attribute name: ${name}`);
  }
  return attrValidationCache[name] = !isUnsafe;
}
var propsToAttrMap = {
  acceptCharset: "accept-charset",
  className: "class",
  htmlFor: "for",
  httpEquiv: "http-equiv"
};
var isKnownHtmlAttr = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`)));
var isKnownSvgAttr = /* @__PURE__ */(/* unused pure expression or super */ null && (makeMap(`xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`)));
function isRenderableAttrValue(value) {
  if (value == null) {
    return false;
  }
  var type = typeof value;
  return type === "string" || type === "number" || type === "boolean";
}
var escapeRE = /["'&<>]/;
function escapeHtml(string) {
  var str = "" + string;
  var match = escapeRE.exec(str);
  if (!match) {
    return str;
  }
  var html = "";
  var escaped;
  var index;
  var lastIndex = 0;
  for (index = match.index; index < str.length; index++) {
    switch (str.charCodeAt(index)) {
      case 34:
        escaped = "&quot;";
        break;
      case 38:
        escaped = "&amp;";
        break;
      case 39:
        escaped = "&#39;";
        break;
      case 60:
        escaped = "&lt;";
        break;
      case 62:
        escaped = "&gt;";
        break;
      default:
        continue;
    }
    if (lastIndex !== index) {
      html += str.slice(lastIndex, index);
    }
    lastIndex = index + 1;
    html += escaped;
  }
  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;
}
var commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;
function escapeHtmlComment(src) {
  return src.replace(commentStripRE, "");
}
function looseCompareArrays(a, b) {
  if (a.length !== b.length) return false;
  var equal = true;
  for (var i = 0; equal && i < a.length; i++) {
    equal = looseEqual(a[i], b[i]);
  }
  return equal;
}
function looseEqual(a, b) {
  if (a === b) return true;
  var aValidType = isDate(a);
  var bValidType = isDate(b);
  if (aValidType || bValidType) {
    return aValidType && bValidType ? a.getTime() === b.getTime() : false;
  }
  aValidType = isSymbol(a);
  bValidType = isSymbol(b);
  if (aValidType || bValidType) {
    return a === b;
  }
  aValidType = isArray(a);
  bValidType = isArray(b);
  if (aValidType || bValidType) {
    return aValidType && bValidType ? looseCompareArrays(a, b) : false;
  }
  aValidType = isObject(a);
  bValidType = isObject(b);
  if (aValidType || bValidType) {
    if (!aValidType || !bValidType) {
      return false;
    }
    var aKeysCount = Object.keys(a).length;
    var bKeysCount = Object.keys(b).length;
    if (aKeysCount !== bKeysCount) {
      return false;
    }
    for (var key in a) {
      var aHasKey = a.hasOwnProperty(key);
      var bHasKey = b.hasOwnProperty(key);
      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {
        return false;
      }
    }
  }
  return String(a) === String(b);
}
function looseIndexOf(arr, val) {
  return arr.findIndex(function (item) {
    return looseEqual(item, val);
  });
}
var toDisplayString = function toDisplayString(val) {
  return isString(val) ? val : val == null ? "" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? JSON.stringify(val, replacer, 2) : String(val);
};
var replacer = function replacer(_key, val) {
  if (val && val.__v_isRef) {
    return replacer(_key, val.value);
  } else if (isMap(val)) {
    return {
      [`Map(${val.size})`]: (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(val.entries()).reduce(function (entries, _ref, i) {
        var _ref2 = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(_ref, 2),
          key = _ref2[0],
          val2 = _ref2[1];
        entries[stringifySymbol(key, i) + " =>"] = val2;
        return entries;
      }, {})
    };
  } else if (isSet(val)) {
    return {
      [`Set(${val.size})`]: (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(val.values()).map(function (v) {
        return stringifySymbol(v);
      })
    };
  } else if (isSymbol(val)) {
    return stringifySymbol(val);
  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {
    return String(val);
  }
  return val;
};
var stringifySymbol = function stringifySymbol(v) {
  var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
  var _a;
  return isSymbol(v) ? `Symbol(${(_a = v.description) != null ? _a : i})` : v;
};


/***/ }),

/***/ 42203:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;
(function (root, factory) {
  if (true) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(22563)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function (Blockly) {
  /**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */

  /**
   * @fileoverview Blockly module; just a wrapper for blockly_compressed.js.
   */

  return Blockly;
});

/***/ }),

/***/ 22563:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _assertThisInitialized=(__webpack_require__(28090)["default"]);var _wrapNativeSuper=(__webpack_require__(76554)["default"]);var _get=(__webpack_require__(18911)["default"]);var _possibleConstructorReturn=(__webpack_require__(91349)["default"]);var _isNativeReflectConstruct=(__webpack_require__(25243)["default"]);var _getPrototypeOf=(__webpack_require__(83387)["default"]);var _inherits=(__webpack_require__(43497)["default"]);var _classCallCheck=(__webpack_require__(96833)["default"]);var _createClass=(__webpack_require__(88970)["default"]);var _slicedToArray=(__webpack_require__(25112)["default"]);var _toConsumableArray=(__webpack_require__(49648)["default"]);var _createForOfIteratorHelper=(__webpack_require__(31440)["default"]);function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}__webpack_require__(28436);__webpack_require__(21057);__webpack_require__(70560);__webpack_require__(62506);__webpack_require__(60228);__webpack_require__(12826);__webpack_require__(752);__webpack_require__(19649);__webpack_require__(76265);__webpack_require__(50886);__webpack_require__(89730);__webpack_require__(93374);__webpack_require__(34338);__webpack_require__(38077);__webpack_require__(91719);__webpack_require__(268);__webpack_require__(64043);__webpack_require__(57267);__webpack_require__(22462);__webpack_require__(65137);__webpack_require__(73964);__webpack_require__(9873);__webpack_require__(7409);__webpack_require__(47522);__webpack_require__(36585);__webpack_require__(45398);__webpack_require__(3650);__webpack_require__(59749);__webpack_require__(86544);__webpack_require__(62795);__webpack_require__(13383);__webpack_require__(56646);__webpack_require__(50414);__webpack_require__(2918);__webpack_require__(48324);__webpack_require__(51090);__webpack_require__(52003);__webpack_require__(68518);__webpack_require__(13440);__webpack_require__(30050);__webpack_require__(76034);// Do not edit this file; automatically generated.
/* eslint-disable */;(function(root,factory){if(true){// AMD
!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}else {}})(this,function(){var $={};var register$$module$build$src$core$registry,validate$$module$build$src$core$registry,unregister$$module$build$src$core$registry,getItem$$module$build$src$core$registry,hasItem$$module$build$src$core$registry,getClass$$module$build$src$core$registry,getObject$$module$build$src$core$registry,getAllItems$$module$build$src$core$registry,getClassFromOptions$$module$build$src$core$registry,getWorkspaceById$$module$build$src$core$common,getAllWorkspaces$$module$build$src$core$common,registerWorkspace$$module$build$src$core$common,unregisterWorkpace$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$common,setMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$common,setSelected$$module$build$src$core$common,getParentContainer$$module$build$src$core$common,setParentContainer$$module$build$src$core$common,svgResize$$module$build$src$core$common,getBlockTypeCounts$$module$build$src$core$common,jsonInitFactory$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$common,defineBlocksWithJsonArrayInternal$$module$build$src$core$common,getNextUniqueId$$module$build$src$core$utils$idgenerator,genUid$$module$build$src$core$utils$idgenerator,setRecordUndo$$module$build$src$core$events$utils,getRecordUndo$$module$build$src$core$events$utils,fire$$module$build$src$core$events$utils,fireInternal$$module$build$src$core$events$utils,fireNow$$module$build$src$core$events$utils,filter$$module$build$src$core$events$utils,clearPendingUndo$$module$build$src$core$events$utils,isEnabled$$module$build$src$core$events$utils,setGroupInternal$$module$build$src$core$events$utils,getDescendantIds$$module$build$src$core$events$utils,fromJson$$module$build$src$core$events$utils,get$$module$build$src$core$events$utils,disableOrphans$$module$build$src$core$events$utils,longStart$$module$build$src$core$touch,longStop$$module$build$src$core$touch,clearTouchIdentifier$$module$build$src$core$touch,shouldHandleEvent$$module$build$src$core$touch,getTouchIdentifierFromEvent$$module$build$src$core$touch,checkTouchIdentifier$$module$build$src$core$touch,conditionalBind$$module$build$src$core$browser_events,bind$$module$build$src$core$browser_events,unbind$$module$build$src$core$browser_events,isTargetInput$$module$build$src$core$browser_events,isRightButton$$module$build$src$core$browser_events,mouseToSvg$$module$build$src$core$browser_events,getScrollDeltaPixels$$module$build$src$core$browser_events,removeElem$$module$build$src$core$utils$array,register$$module$build$src$core$css,inject$$module$build$src$core$css,warn$$module$build$src$core$utils$deprecation,createSvgElement$$module$build$src$core$utils$dom,addClass$$module$build$src$core$utils$dom,removeClasses$$module$build$src$core$utils$dom,removeClass$$module$build$src$core$utils$dom,hasClass$$module$build$src$core$utils$dom,removeNode$$module$build$src$core$utils$dom,insertAfter$$module$build$src$core$utils$dom,containsNode$$module$build$src$core$utils$dom,setCssTransform$$module$build$src$core$utils$dom,startTextWidthCache$$module$build$src$core$utils$dom,stopTextWidthCache$$module$build$src$core$utils$dom,getTextWidth$$module$build$src$core$utils$dom,getFastTextWidth$$module$build$src$core$utils$dom,getFastTextWidthWithSizeString$$module$build$src$core$utils$dom,measureFontMetrics$$module$build$src$core$utils$dom,getSize$$module$build$src$core$utils$style,getSizeInternal$$module$build$src$core$utils$style,getSizeWithDisplay$$module$build$src$core$utils$style,getComputedStyle$$module$build$src$core$utils$style,getPageOffset$$module$build$src$core$utils$style,getViewportPageOffset$$module$build$src$core$utils$style,getBorderBox$$module$build$src$core$utils$style,scrollIntoContainerView$$module$build$src$core$utils$style,getContainerOffsetToScrollInto$$module$build$src$core$utils$style,getRelativeXY$$module$build$src$core$utils$svg_math,getInjectionDivXY$$module$build$src$core$utils$svg_math,getViewportBBox$$module$build$src$core$utils$svg_math,getDocumentScroll$$module$build$src$core$utils$svg_math,screenToWsCoordinates$$module$build$src$core$utils$svg_math,wsToScreenCoordinates$$module$build$src$core$utils$svg_math,injectDependencies$$module$build$src$core$utils$xml,domToText$$module$build$src$core$utils$xml,sanitizeText$$module$build$src$core$utils$xml,convertToolboxDefToJson$$module$build$src$core$utils$toolbox,validateToolbox$$module$build$src$core$utils$toolbox,convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox,hasCategories$$module$build$src$core$utils$toolbox,hasCategoriesInternal$$module$build$src$core$utils$toolbox,isCategoryCollapsible$$module$build$src$core$utils$toolbox,convertToToolboxJson$$module$build$src$core$utils$toolbox,_xmlToJsonArray$$module$build$src$core$utils$toolbox,addAttributes$$module$build$src$core$utils$toolbox,parseToolboxTree$$module$build$src$core$utils$toolbox,getStartPositionRect$$module$build$src$core$positionable_helpers,getCornerOppositeToolbox$$module$build$src$core$positionable_helpers,bumpPositionRect$$module$build$src$core$positionable_helpers,alert$$module$build$src$core$dialog,setAlert$$module$build$src$core$dialog,confirm$$module$build$src$core$dialog,confirmInternal$$module$build$src$core$dialog,setConfirm$$module$build$src$core$dialog,prompt$$module$build$src$core$dialog,setPrompt$$module$build$src$core$dialog,isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model,isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks,flyoutCategory$$module$build$src$core$variables,flyoutCategoryBlocks$$module$build$src$core$variables,generateUniqueName$$module$build$src$core$variables,generateUniqueNameInternal$$module$build$src$core$variables,generateUniqueNameFromOptions$$module$build$src$core$variables,createVariableButtonHandler$$module$build$src$core$variables,promptName$$module$build$src$core$variables,nameUsedWithOtherType$$module$build$src$core$variables,nameUsedWithAnyType$$module$build$src$core$variables,nameUsedWithConflictingParam$$module$build$src$core$variables,checkForConflictingParamWithProcedureModels$$module$build$src$core$variables,checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables,generateVariableFieldDom$$module$build$src$core$variables,createVariable$$module$build$src$core$variables,getAddedVariables$$module$build$src$core$variables,register$$module$build$src$core$clipboard$registry,unregister$$module$build$src$core$clipboard$registry,queueRender$$module$build$src$core$render_management,finishQueuedRenders$$module$build$src$core$render_management,triggerQueuedRenders$$module$build$src$core$render_management,alwaysImmediatelyRender$$module$build$src$core$render_management,_queueBlock$$module$build$src$core$render_management,doRenders$$module$build$src$core$render_management,_dequeueBlock$$module$build$src$core$render_management,shouldRenderRootBlock$$module$build$src$core$render_management,_renderBlock$$module$build$src$core$render_management,workspaceToDom$$module$build$src$core$xml,variablesToDom$$module$build$src$core$xml,blockToDomWithXY$$module$build$src$core$xml,fieldToDom$$module$build$src$core$xml,allFieldsToDom$$module$build$src$core$xml,_blockToDom$$module$build$src$core$xml,cloneShadow$$module$build$src$core$xml,domToText$$module$build$src$core$xml,domToPrettyText$$module$build$src$core$xml,clearWorkspaceAndLoadFromXml$$module$build$src$core$xml,appendDomToWorkspace$$module$build$src$core$xml,domToBlockInternal$$module$build$src$core$xml,domToVariables$$module$build$src$core$xml,mapSupportedXmlTags$$module$build$src$core$xml,applyMutationTagNodes$$module$build$src$core$xml,applyCommentTagNodes$$module$build$src$core$xml,applyDataTagNodes$$module$build$src$core$xml,applyFieldTagNodes$$module$build$src$core$xml,findChildBlocks$$module$build$src$core$xml,applyInputTagNodes$$module$build$src$core$xml,applyNextTagNodes$$module$build$src$core$xml,domToBlockHeadless$$module$build$src$core$xml,domToField$$module$build$src$core$xml,deleteNext$$module$build$src$core$xml,isElement$$module$build$src$core$xml,isSerializable$$module$build$src$core$interfaces$i_serializable,register$$module$build$src$core$serialization$registry,unregister$$module$build$src$core$serialization$registry,save$$module$build$src$core$serialization$blocks,saveAttributes$$module$build$src$core$serialization$blocks,saveCoords$$module$build$src$core$serialization$blocks,saveExtraState$$module$build$src$core$serialization$blocks,saveIcons$$module$build$src$core$serialization$blocks,saveFields$$module$build$src$core$serialization$blocks,saveInputBlocks$$module$build$src$core$serialization$blocks,saveNextBlocks$$module$build$src$core$serialization$blocks,saveConnection$$module$build$src$core$serialization$blocks,append$$module$build$src$core$serialization$blocks,appendInternal$$module$build$src$core$serialization$blocks,appendPrivate$$module$build$src$core$serialization$blocks,loadCoords$$module$build$src$core$serialization$blocks,loadAttributes$$module$build$src$core$serialization$blocks,loadExtraState$$module$build$src$core$serialization$blocks,tryToConnectParent$$module$build$src$core$serialization$blocks,loadIcons$$module$build$src$core$serialization$blocks,loadFields$$module$build$src$core$serialization$blocks,loadInputBlocks$$module$build$src$core$serialization$blocks,loadNextBlocks$$module$build$src$core$serialization$blocks,loadConnection$$module$build$src$core$serialization$blocks,initBlock$$module$build$src$core$serialization$blocks,moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster,blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster,blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster,copy$$module$build$src$core$clipboard,copyInternal$$module$build$src$core$clipboard,paste$$module$build$src$core$clipboard,pasteFromData$$module$build$src$core$clipboard,duplicate$$module$build$src$core$clipboard,duplicateInternal$$module$build$src$core$clipboard,setRole$$module$build$src$core$utils$aria,setState$$module$build$src$core$utils$aria,getDiv$$module$build$src$core$widgetdiv,testOnly_setDiv$$module$build$src$core$widgetdiv,createDom$$module$build$src$core$widgetdiv,show$$module$build$src$core$widgetdiv,hide$$module$build$src$core$widgetdiv,isVisible$$module$build$src$core$widgetdiv,hideIfOwner$$module$build$src$core$widgetdiv,positionInternal$$module$build$src$core$widgetdiv,positionWithAnchor$$module$build$src$core$widgetdiv,calculateX$$module$build$src$core$widgetdiv,calculateY$$module$build$src$core$widgetdiv,isRepositionable$$module$build$src$core$widgetdiv,repositionForWindowResize$$module$build$src$core$widgetdiv,getCurrentBlock$$module$build$src$core$contextmenu,setCurrentBlock$$module$build$src$core$contextmenu,show$$module$build$src$core$contextmenu,populate_$$module$build$src$core$contextmenu,position_$$module$build$src$core$contextmenu,createWidget_$$module$build$src$core$contextmenu,haltPropagation$$module$build$src$core$contextmenu,hide$$module$build$src$core$contextmenu,dispose$$module$build$src$core$contextmenu,commentDeleteOption$$module$build$src$core$contextmenu,commentDuplicateOption$$module$build$src$core$contextmenu,workspaceCommentOption$$module$build$src$core$contextmenu,toRadians$$module$build$src$core$utils$math,toDegrees$$module$build$src$core$utils$math,clamp$$module$build$src$core$utils$math,createDom$$module$build$src$core$dropdowndiv,setBoundsElement$$module$build$src$core$dropdowndiv,getOwner$$module$build$src$core$dropdowndiv,getContentDiv$$module$build$src$core$dropdowndiv,clearContent$$module$build$src$core$dropdowndiv,setColour$$module$build$src$core$dropdowndiv,showPositionedByBlock$$module$build$src$core$dropdowndiv,showPositionedByField$$module$build$src$core$dropdowndiv,getScaledBboxOfBlock$$module$build$src$core$dropdowndiv,getScaledBboxOfField$$module$build$src$core$dropdowndiv,showPositionedByRect$$module$build$src$core$dropdowndiv,show$$module$build$src$core$dropdowndiv,getPositionBelowMetrics$$module$build$src$core$dropdowndiv,getPositionAboveMetrics$$module$build$src$core$dropdowndiv,getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv,getPositionX$$module$build$src$core$dropdowndiv,isVisible$$module$build$src$core$dropdowndiv,hideIfOwner$$module$build$src$core$dropdowndiv,hide$$module$build$src$core$dropdowndiv,hideWithoutAnimation$$module$build$src$core$dropdowndiv,positionInternal$$module$build$src$core$dropdowndiv,repositionForWindowResize$$module$build$src$core$dropdowndiv,disposeUiEffect$$module$build$src$core$block_animations,_disposeUiStep$$module$build$src$core$block_animations,connectionUiEffect$$module$build$src$core$block_animations,disconnectUiEffect$$module$build$src$core$block_animations,_disconnectUiStep$$module$build$src$core$block_animations,disconnectUiStop$$module$build$src$core$block_animations,startsWith$$module$build$src$core$utils$string,shortestStringLength$$module$build$src$core$utils$string,commonWordPrefix$$module$build$src$core$utils$string,commonWordSuffix$$module$build$src$core$utils$string,wrapLine$$module$build$src$core$utils$string,wrapScore$$module$build$src$core$utils$string,_wrapMutate$$module$build$src$core$utils$string,wrapToText$$module$build$src$core$utils$string,setCustomTooltip$$module$build$src$core$tooltip,getCustomTooltip$$module$build$src$core$tooltip,isVisible$$module$build$src$core$tooltip,getDiv$$module$build$src$core$tooltip,getTooltipOfObject$$module$build$src$core$tooltip,getTargetObject$$module$build$src$core$tooltip,createDom$$module$build$src$core$tooltip,bindMouseEvents$$module$build$src$core$tooltip,unbindMouseEvents$$module$build$src$core$tooltip,onMouseOver$$module$build$src$core$tooltip,onMouseOut$$module$build$src$core$tooltip,onMouseMove$$module$build$src$core$tooltip,dispose$$module$build$src$core$tooltip,hide$$module$build$src$core$tooltip,block$$module$build$src$core$tooltip,unblock$$module$build$src$core$tooltip,renderContent$$module$build$src$core$tooltip,renderDefaultContent$$module$build$src$core$tooltip,getPosition$$module$build$src$core$tooltip,show$$module$build$src$core$tooltip,_deepMerge$$module$build$src$core$utils$object,hasBubble$$module$build$src$core$interfaces$i_has_bubble,getHsvSaturation$$module$build$src$core$utils$colour,setHsvSaturation$$module$build$src$core$utils$colour,getHsvValue$$module$build$src$core$utils$colour,setHsvValue$$module$build$src$core$utils$colour,parse$$module$build$src$core$utils$colour,rgbToHex$$module$build$src$core$utils$colour,hexToRgb$$module$build$src$core$utils$colour,hsvToHex$$module$build$src$core$utils$colour,blend$$module$build$src$core$utils$colour,hueToHex$$module$build$src$core$utils$colour,_tokenizeInterpolationInternal$$module$build$src$core$utils$parsing,tokenizeInterpolation$$module$build$src$core$utils$parsing,replaceMessageReferences$$module$build$src$core$utils$parsing,checkMessageReferences$$module$build$src$core$utils$parsing,parseBlockColour$$module$build$src$core$utils$parsing,isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block,isObservable$$module$build$src$core$interfaces$i_observable,register$$module$build$src$core$field_registry,unregister$$module$build$src$core$field_registry,fromJsonInternal$$module$build$src$core$field_registry,trimOptions$$module$build$src$core$field_dropdown,applyTrim$$module$build$src$core$field_dropdown,validateOptions$$module$build$src$core$field_dropdown,unregister$$module$build$src$core$extensions,isRegistered$$module$build$src$core$extensions,apply$$module$build$src$core$extensions,checkNoMutatorProperties$$module$build$src$core$extensions,checkXmlHooks$$module$build$src$core$extensions,checkJsonHooks$$module$build$src$core$extensions,checkMutatorDialog$$module$build$src$core$extensions,checkHasFunctionPair$$module$build$src$core$extensions,checkHasMutatorProperties$$module$build$src$core$extensions,getMutatorProperties$$module$build$src$core$extensions,mutatorPropertiesMatch$$module$build$src$core$extensions,runAfterPageLoad$$module$build$src$core$extensions,checkDropdownOptionsInTable$$module$build$src$core$extensions,extensionParentTooltip$$module$build$src$core$extensions,point$$module$build$src$core$utils$svg_paths,curve$$module$build$src$core$utils$svg_paths,moveTo$$module$build$src$core$utils$svg_paths,moveBy$$module$build$src$core$utils$svg_paths,lineTo$$module$build$src$core$utils$svg_paths,line$$module$build$src$core$utils$svg_paths,lineOnAxis$$module$build$src$core$utils$svg_paths,arc$$module$build$src$core$utils$svg_paths,register$$module$build$src$core$icons$registry,unregister$$module$build$src$core$icons$registry,allProcedures$$module$build$src$core$procedures,procTupleComparator$$module$build$src$core$procedures,isLegalName$$module$build$src$core$procedures,isNameUsed$$module$build$src$core$procedures,flyoutCategory$$module$build$src$core$procedures,updateMutatorFlyout$$module$build$src$core$procedures,mutatorOpenListener$$module$build$src$core$procedures,mutatorChangeListener$$module$build$src$core$procedures,getCallers$$module$build$src$core$procedures,blockIsModernCallerFor$$module$build$src$core$procedures,isDynamicShape$$module$build$src$core$renderers$common$constants,getParentConnection$$module$build$src$core$keyboard_nav$ast_node,connectReciprocally$$module$build$src$core$connection,getSingleConnection$$module$build$src$core$connection,getConnectionForOrphanedOutput$$module$build$src$core$connection,register$$module$build$src$core$renderers$common$block_rendering,unregister$$module$build$src$core$renderers$common$block_rendering,init$$module$build$src$core$renderers$common$block_rendering,stringButtonClickHandler$$module$build$src$core$variables_dynamic,numberButtonClickHandler$$module$build$src$core$variables_dynamic,colourButtonClickHandler$$module$build$src$core$variables_dynamic,flyoutCategory$$module$build$src$core$variables_dynamic,flyoutCategoryBlocks$$module$build$src$core$variables_dynamic,resizeSvgContents$$module$build$src$core$workspace_svg,isCopyable$$module$build$src$core$interfaces$i_copyable,registerEscape$$module$build$src$core$shortcut_items,registerDelete$$module$build$src$core$shortcut_items,registerCopy$$module$build$src$core$shortcut_items,registerCut$$module$build$src$core$shortcut_items,registerPaste$$module$build$src$core$shortcut_items,registerUndo$$module$build$src$core$shortcut_items,registerRedo$$module$build$src$core$shortcut_items,registerDefaultShortcuts$$module$build$src$core$shortcut_items,saveProcedure$$module$build$src$core$serialization$procedures,saveParameter$$module$build$src$core$serialization$procedures,loadProcedure$$module$build$src$core$serialization$procedures,loadParameter$$module$build$src$core$serialization$procedures,save$$module$build$src$core$serialization$workspaces,load$$module$build$src$core$serialization$workspaces,bumpObjectIntoBounds$$module$build$src$core$bump_objects,bumpIntoBoundsHandler$$module$build$src$core$bump_objects,extractObjectFromEvent$$module$build$src$core$bump_objects,bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects,_initIconData$$module$build$src$core$block_dragger,registerUndo$$module$build$src$core$contextmenu_items,registerRedo$$module$build$src$core$contextmenu_items,registerCleanup$$module$build$src$core$contextmenu_items,toggleOption_$$module$build$src$core$contextmenu_items,registerCollapse$$module$build$src$core$contextmenu_items,registerExpand$$module$build$src$core$contextmenu_items,_addDeletableBlocks_$$module$build$src$core$contextmenu_items,getDeletableBlocks_$$module$build$src$core$contextmenu_items,_deleteNext_$$module$build$src$core$contextmenu_items,registerDeleteAll$$module$build$src$core$contextmenu_items,registerWorkspaceOptions_$$module$build$src$core$contextmenu_items,registerDuplicate$$module$build$src$core$contextmenu_items,registerComment$$module$build$src$core$contextmenu_items,registerInline$$module$build$src$core$contextmenu_items,registerCollapseExpandBlock$$module$build$src$core$contextmenu_items,registerDisable$$module$build$src$core$contextmenu_items,registerDelete$$module$build$src$core$contextmenu_items,registerHelp$$module$build$src$core$contextmenu_items,registerBlockOptions_$$module$build$src$core$contextmenu_items,registerDefaultOptions$$module$build$src$core$contextmenu_items,inject$$module$build$src$core$inject,createDom$$module$build$src$core$inject,createMainWorkspace$$module$build$src$core$inject,init$$module$build$src$core$inject,onKeyDown$$module$build$src$core$inject,bindDocumentEvents$$module$build$src$core$inject,loadSounds$$module$build$src$core$inject,isIcon$$module$build$src$core$interfaces$i_icon,isPaster$$module$build$src$core$interfaces$i_paster,isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item,hideChaff$$module$build$src$core$blockly,isRenderedElement$$module$build$src$core$interfaces$i_rendered_element,$jscomp;register$$module$build$src$core$registry=function register$$module$build$src$core$registry(a,b,c,d){if(!(a instanceof Type$$module$build$src$core$registry)&&"string"!==typeof a||""===`${a}`.trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=`${a}`.toLowerCase();if("string"!==typeof b||""===b.trim())throw Error('Invalid name "'+b+'". The name must be a non-empty string.');var e=b.toLowerCase();if(!c)throw Error("Can not register a null value");var f=typeMap$$module$build$src$core$registry[a],g=nameMap$$module$build$src$core$registry[a];f||(f=typeMap$$module$build$src$core$registry[a]=Object.create(null),g=nameMap$$module$build$src$core$registry[a]=Object.create(null));validate$$module$build$src$core$registry(a,c);if(!d&&f[e])throw Error('Name "'+e+'" with type "'+a+'" already registered.');f[e]=c;g[e]=b;};validate$$module$build$src$core$registry=function validate$$module$build$src$core$registry(a,b){switch(a){case String(Type$$module$build$src$core$registry.FIELD):if("function"!==typeof b.fromJson)throw Error('Type "'+a+'" must have a fromJson function');}};unregister$$module$build$src$core$registry=function unregister$$module$build$src$core$registry(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();var c=typeMap$$module$build$src$core$registry[a];c&&c[b]?(delete typeMap$$module$build$src$core$registry[a][b],delete nameMap$$module$build$src$core$registry[a][b]):console.warn("Unable to unregister ["+b+"]["+a+"] from the registry.");};getItem$$module$build$src$core$registry=function getItem$$module$build$src$core$registry(a,b,c){a=`${a}`.toLowerCase();b=b.toLowerCase();var d=typeMap$$module$build$src$core$registry[a];if(!d||!d[b]){b="Unable to find ["+b+"]["+a+"] in the registry.";if(c)throw Error(b+" You must require or register a "+a+" plugin.");console.warn(b);return null;}return d[b];};hasItem$$module$build$src$core$registry=function hasItem$$module$build$src$core$registry(a,b){a=`${a}`.toLowerCase();b=b.toLowerCase();return(a=typeMap$$module$build$src$core$registry[a])?!!a[b]:!1;};getClass$$module$build$src$core$registry=function getClass$$module$build$src$core$registry(a,b,c){return getItem$$module$build$src$core$registry(a,b,c);};getObject$$module$build$src$core$registry=function getObject$$module$build$src$core$registry(a,b,c){return getItem$$module$build$src$core$registry(a,b,c);};getAllItems$$module$build$src$core$registry=function getAllItems$$module$build$src$core$registry(a,b,c){a=`${a}`.toLowerCase();var d=typeMap$$module$build$src$core$registry[a];if(!d){d=`Unable to find [${a}] in the registry.`;if(c)throw Error(`${d} You must require or register a ${a} plugin.`);console.warn(d);return null;}if(!b)return d;a=nameMap$$module$build$src$core$registry[a];c=Object.create(null);for(var _i=0,_Object$keys=Object.keys(d);_i<_Object$keys.length;_i++){var e=_Object$keys[_i];c[a[e]]=d[e];}return c;};getClassFromOptions$$module$build$src$core$registry=function getClassFromOptions$$module$build$src$core$registry(a,b,c){b=b.plugins[String(a)]||DEFAULT$$module$build$src$core$registry;return"function"===typeof b?b:getClass$$module$build$src$core$registry(a,b,c);};getWorkspaceById$$module$build$src$core$common=function getWorkspaceById$$module$build$src$core$common(a){return WorkspaceDB_$$module$build$src$core$common[a]||null;};getAllWorkspaces$$module$build$src$core$common=function getAllWorkspaces$$module$build$src$core$common(){var a=[];for(var b in WorkspaceDB_$$module$build$src$core$common)a.push(WorkspaceDB_$$module$build$src$core$common[b]);return a;};registerWorkspace$$module$build$src$core$common=function registerWorkspace$$module$build$src$core$common(a){WorkspaceDB_$$module$build$src$core$common[a.id]=a;};unregisterWorkpace$$module$build$src$core$common=function unregisterWorkpace$$module$build$src$core$common(a){delete WorkspaceDB_$$module$build$src$core$common[a.id];};getMainWorkspace$$module$build$src$core$common=function getMainWorkspace$$module$build$src$core$common(){return mainWorkspace$$module$build$src$core$common;};setMainWorkspace$$module$build$src$core$common=function setMainWorkspace$$module$build$src$core$common(a){mainWorkspace$$module$build$src$core$common=a;};getSelected$$module$build$src$core$common=function getSelected$$module$build$src$core$common(){return selected$$module$build$src$core$common;};setSelected$$module$build$src$core$common=function setSelected$$module$build$src$core$common(a){selected$$module$build$src$core$common=a;};getParentContainer$$module$build$src$core$common=function getParentContainer$$module$build$src$core$common(){return parentContainer$$module$build$src$core$common;};setParentContainer$$module$build$src$core$common=function setParentContainer$$module$build$src$core$common(a){parentContainer$$module$build$src$core$common=a;};svgResize$$module$build$src$core$common=function svgResize$$module$build$src$core$common(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;var b=a.getParentSvg(),c=a.getCachedParentSvgSize();var d=b.parentElement;if(d instanceof HTMLElement){var e=d.offsetWidth;d=d.offsetHeight;c.width!==e&&(b.setAttribute("width",e+"px"),a.setCachedParentSvgSize(e,null));c.height!==d&&(b.setAttribute("height",d+"px"),a.setCachedParentSvgSize(null,d));a.resize();}};getBlockTypeCounts$$module$build$src$core$common=function getBlockTypeCounts$$module$build$src$core$common(a,b){var c=Object.create(null),d=a.getDescendants(!0);b&&(a=a.getNextBlock())&&(a=d.indexOf(a),d.splice(a,d.length-a));for(var e=0,f;f=d[e];e++)c[f.type]?c[f.type]++:c[f.type]=1;return c;};jsonInitFactory$$module$build$src$core$common=function jsonInitFactory$$module$build$src$core$common(a){return function(){this.jsonInit(a);};};defineBlocksWithJsonArray$$module$build$src$core$common=function defineBlocksWithJsonArray$$module$build$src$core$common(a){TEST_ONLY$$module$build$src$core$common.defineBlocksWithJsonArrayInternal(a);};defineBlocksWithJsonArrayInternal$$module$build$src$core$common=function defineBlocksWithJsonArrayInternal$$module$build$src$core$common(a){$.defineBlocks$$module$build$src$core$common($.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(a));};$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];if(!d){console.warn(`Block definition #${c} in JSON array is ${d}. Skipping`);continue;}var e=d.type;e?b[e]={init:jsonInitFactory$$module$build$src$core$common(d)}:console.warn(`Block definition #${c} in JSON array is missing a type attribute. `+"Skipping.");}return b;};$.defineBlocks$$module$build$src$core$common=function(a){for(var _i2=0,_Object$keys2=Object.keys(a);_i2<_Object$keys2.length;_i2++){var b=_Object$keys2[_i2];var c=a[b];b in Blocks$$module$build$src$core$blocks&&console.warn(`Block definiton "${b}" overwrites previous definition.`);Blocks$$module$build$src$core$blocks[b]=c;}};getNextUniqueId$$module$build$src$core$utils$idgenerator=function getNextUniqueId$$module$build$src$core$utils$idgenerator(){return"blockly-"+(nextId$$module$build$src$core$utils$idgenerator++).toString(36);};genUid$$module$build$src$core$utils$idgenerator=function genUid$$module$build$src$core$utils$idgenerator(){return internal$$module$build$src$core$utils$idgenerator.genUid();};setRecordUndo$$module$build$src$core$events$utils=function setRecordUndo$$module$build$src$core$events$utils(a){recordUndo$$module$build$src$core$events$utils=a;};getRecordUndo$$module$build$src$core$events$utils=function getRecordUndo$$module$build$src$core$events$utils(){return recordUndo$$module$build$src$core$events$utils;};fire$$module$build$src$core$events$utils=function fire$$module$build$src$core$events$utils(a){TEST_ONLY$$module$build$src$core$events$utils.fireInternal(a);};fireInternal$$module$build$src$core$events$utils=function fireInternal$$module$build$src$core$events$utils(a){if(isEnabled$$module$build$src$core$events$utils()){if(!FIRE_QUEUE$$module$build$src$core$events$utils.length)try{requestAnimationFrame(function(){setTimeout(fireNow$$module$build$src$core$events$utils,0);});}catch(b){setTimeout(fireNow$$module$build$src$core$events$utils,0);}FIRE_QUEUE$$module$build$src$core$events$utils.push(a);}};fireNow$$module$build$src$core$events$utils=function fireNow$$module$build$src$core$events$utils(){var a=filter$$module$build$src$core$events$utils(FIRE_QUEUE$$module$build$src$core$events$utils,!0);FIRE_QUEUE$$module$build$src$core$events$utils.length=0;for(var c=0,d;d=a[c];c++)if(d.workspaceId){var b=getWorkspaceById$$module$build$src$core$common(d.workspaceId);b&&b.fireChangeListener(d);}a=new Set(a.map(function(c){return c.workspaceId;}));var _iterator=_createForOfIteratorHelper(a),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _a;var _c=_step.value;if(!_c)continue;a=getWorkspaceById$$module$build$src$core$common(_c);if(!a)continue;a=a.getUndoStack();var _d=void 0;for(b=a.length;0<b;b--){var e=a[b-1];if(""===e.group)break;else if(void 0===_d)_d=e.group;else if(e.group!==_d)break;}_d&&b!=a.length-1&&(b=a.splice(b,a.length-b),b=filter$$module$build$src$core$events$utils(b,!0),(_a=a).push.apply(_a,_toConsumableArray(b)));}}catch(err){_iterator.e(err);}finally{_iterator.f();}};filter$$module$build$src$core$events$utils=function filter$$module$build$src$core$events$utils(a,b){a=a.slice();b||a.reverse();var c=[],d=Object.create(null);for(var g=0,h;h=a[g];g++)if(!h.isNull()){var e=[h.isUiEvent?UI$$module$build$src$core$events$utils:h.type,h.blockId,h.workspaceId].join(" "),f=d[e];var k=f?f.event:null;if(!f)d[e]={event:h,index:g},c.push(h);else if(h.type===$.MOVE$$module$build$src$core$events$utils&&f.index===g-1)e=h,k.newParentId=e.newParentId,k.newInputName=e.newInputName,k.newCoordinate=e.newCoordinate,e.reason&&(k.reason?(e=new Set(e.reason.concat(k.reason)),k.reason=Array.from(e)):k.reason=e.reason),f.index=g;else if(h.type===$.CHANGE$$module$build$src$core$events$utils&&h.element===k.element&&h.name===k.name)k.newValue=h.newValue;else if(h.type===VIEWPORT_CHANGE$$module$build$src$core$events$utils)f=h,k.viewTop=f.viewTop,k.viewLeft=f.viewLeft,k.scale=f.scale,k.oldScale=f.oldScale;else if(h.type!==CLICK$$module$build$src$core$events$utils||k.type!==BUBBLE_OPEN$$module$build$src$core$events$utils)d[e]={event:h,index:g},c.push(h);}a=c.filter(function(g){return!g.isNull();});b||a.reverse();for(var _g=1,_h;_h=a[_g];_g++)_h.type===$.CHANGE$$module$build$src$core$events$utils&&"mutation"===_h.element&&a.unshift(a.splice(_g,1)[0]);return a;};clearPendingUndo$$module$build$src$core$events$utils=function clearPendingUndo$$module$build$src$core$events$utils(){for(var a=0,b;b=FIRE_QUEUE$$module$build$src$core$events$utils[a];a++)b.recordUndo=!1;};$.disable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils++;};$.enable$$module$build$src$core$events$utils=function(){disabled$$module$build$src$core$events$utils--;};isEnabled$$module$build$src$core$events$utils=function isEnabled$$module$build$src$core$events$utils(){return 0===disabled$$module$build$src$core$events$utils;};$.getGroup$$module$build$src$core$events$utils=function(){return group$$module$build$src$core$events$utils;};$.setGroup$$module$build$src$core$events$utils=function(a){TEST_ONLY$$module$build$src$core$events$utils.setGroupInternal(a);};setGroupInternal$$module$build$src$core$events$utils=function setGroupInternal$$module$build$src$core$events$utils(a){group$$module$build$src$core$events$utils="boolean"===typeof a?a?genUid$$module$build$src$core$utils$idgenerator():"":a;};getDescendantIds$$module$build$src$core$events$utils=function getDescendantIds$$module$build$src$core$events$utils(a){var b=[];a=a.getDescendants(!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b;};fromJson$$module$build$src$core$events$utils=function fromJson$$module$build$src$core$events$utils(a,b){var c=get$$module$build$src$core$events$utils(a.type);if(!c)throw Error("Unknown event type.");return c.fromJson(a,b);};get$$module$build$src$core$events$utils=function get$$module$build$src$core$events$utils(a){var b=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,a);if(!b)throw Error(`Event type ${a} not found in registry.`);return b;};disableOrphans$$module$build$src$core$events$utils=function disableOrphans$$module$build$src$core$events$utils(a){if((a.type===$.MOVE$$module$build$src$core$events$utils||a.type===$.CREATE$$module$build$src$core$events$utils)&&a.workspaceId){var b=getWorkspaceById$$module$build$src$core$common(a.workspaceId);if(!a.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(a=b.getBlockById(a.blockId)){var c=recordUndo$$module$build$src$core$events$utils;try{recordUndo$$module$build$src$core$events$utils=!1;var d=a.getParent();if(d&&d.isEnabled()){var e=a.getDescendants(!1);for(var f=0,g;g=e[f];f++)g.setEnabled(!0);}else if((a.outputConnection||a.previousConnection)&&!b.isDragging()){do a.setEnabled(!1),a=a.getNextBlock();while(a);}}finally{recordUndo$$module$build$src$core$events$utils=c;}}}};longStart$$module$build$src$core$touch=function longStart$$module$build$src$core$touch(a,b){longStop$$module$build$src$core$touch();longPid_$$module$build$src$core$touch=setTimeout(function(){b&&b.handleRightClick(a);},LONGPRESS$$module$build$src$core$touch);};longStop$$module$build$src$core$touch=function longStop$$module$build$src$core$touch(){longPid_$$module$build$src$core$touch&&(clearTimeout(longPid_$$module$build$src$core$touch),longPid_$$module$build$src$core$touch=0);};clearTouchIdentifier$$module$build$src$core$touch=function clearTouchIdentifier$$module$build$src$core$touch(){touchIdentifier_$$module$build$src$core$touch=null;};shouldHandleEvent$$module$build$src$core$touch=function shouldHandleEvent$$module$build$src$core$touch(a){return!a.type.startsWith("pointer")||a instanceof PointerEvent&&checkTouchIdentifier$$module$build$src$core$touch(a);};getTouchIdentifierFromEvent$$module$build$src$core$touch=function getTouchIdentifierFromEvent$$module$build$src$core$touch(a){return`${a.pointerId}`;};checkTouchIdentifier$$module$build$src$core$touch=function checkTouchIdentifier$$module$build$src$core$touch(a){var b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);return touchIdentifier_$$module$build$src$core$touch?touchIdentifier_$$module$build$src$core$touch===b:"pointerdown"===a.type?(touchIdentifier_$$module$build$src$core$touch=b,!0):!1;};conditionalBind$$module$build$src$core$browser_events=function conditionalBind$$module$build$src$core$browser_events(a,b,c,d,e){function f(h){if(e||shouldHandleEvent$$module$build$src$core$touch(h))c?d.call(c,h):d(h);}var g=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(var h=0;h<TOUCH_MAP$$module$build$src$core$touch[b].length;h++){var k=TOUCH_MAP$$module$build$src$core$touch[b][h];a.addEventListener(k,f,!1);g.push([a,k,f]);}else a.addEventListener(b,f,!1),g.push([a,b,f]);return g;};bind$$module$build$src$core$browser_events=function bind$$module$build$src$core$browser_events(a,b,c,d){function e(g){c?d.call(c,g):d(g);}var f=[];if(b in TOUCH_MAP$$module$build$src$core$touch)for(var g=0;g<TOUCH_MAP$$module$build$src$core$touch[b].length;g++){var h=TOUCH_MAP$$module$build$src$core$touch[b][g];a.addEventListener(h,e,!1);f.push([a,h,e]);}else a.addEventListener(b,e,!1),f.push([a,b,e]);return f;};unbind$$module$build$src$core$browser_events=function unbind$$module$build$src$core$browser_events(a){var b=a[a.length-1][2];for(;a.length;){var _a$pop=a.pop(),_a$pop2=_slicedToArray(_a$pop,3),c=_a$pop2[0],d=_a$pop2[1],e=_a$pop2[2];c.removeEventListener(d,e,!1);}return b;};isTargetInput$$module$build$src$core$browser_events=function isTargetInput$$module$build$src$core$browser_events(a){if(a.target instanceof HTMLElement){if(a.target.isContentEditable||"true"===a.target.getAttribute("data-is-text-input"))return!0;if(a.target instanceof HTMLInputElement)return a=a.target,"text"===a.type||"number"===a.type||"email"===a.type||"password"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type;if(a.target instanceof HTMLTextAreaElement)return!0;}return!1;};isRightButton$$module$build$src$core$browser_events=function isRightButton$$module$build$src$core$browser_events(a){return a.ctrlKey&&MAC$$module$build$src$core$utils$useragent?!0:2===a.button;};mouseToSvg$$module$build$src$core$browser_events=function mouseToSvg$$module$build$src$core$browser_events(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c);};getScrollDeltaPixels$$module$build$src$core$browser_events=function getScrollDeltaPixels$$module$build$src$core$browser_events(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events};case 2:return{x:a.deltaX*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events,y:a.deltaY*PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events};}};removeElem$$module$build$src$core$utils$array=function removeElem$$module$build$src$core$utils$array(a,b){b=a.indexOf(b);if(-1===b)return!1;a.splice(b,1);return!0;};register$$module$build$src$core$css=function register$$module$build$src$core$css(a){if(injected$$module$build$src$core$css)throw Error("CSS already injected");content$$module$build$src$core$css+="\n"+a;};inject$$module$build$src$core$css=function inject$$module$build$src$core$css(a,b){injected$$module$build$src$core$css||(injected$$module$build$src$core$css=!0,a&&(a=b.replace(/[\\/]$/,""),b=content$$module$build$src$core$css.replace(/<<<PATH>>>/g,a),content$$module$build$src$core$css="",a=document.createElement("style"),a.id="blockly-common-style",b=document.createTextNode(b),a.appendChild(b),document.head.insertBefore(a,document.head.firstChild)));};warn$$module$build$src$core$utils$deprecation=function warn$$module$build$src$core$utils$deprecation(a,b,c,d){a=a+" was deprecated in "+b+" and will be deleted in "+c+".";d&&(a+="\nUse "+d+" instead.");console.warn(a);};createSvgElement$$module$build$src$core$utils$dom=function createSvgElement$$module$build$src$core$utils$dom(a,b,c){a=document.createElementNS(SVG_NS$$module$build$src$core$utils$dom,`${a}`);for(var d in b)a.setAttribute(d,`${b[d]}`);c&&c.appendChild(a);return a;};addClass$$module$build$src$core$utils$dom=function addClass$$module$build$src$core$utils$dom(a,b){var _a$classList;b=b.split(" ");if(b.every(function(c){return a.classList.contains(c);}))return!1;(_a$classList=a.classList).add.apply(_a$classList,_toConsumableArray(b));return!0;};removeClasses$$module$build$src$core$utils$dom=function removeClasses$$module$build$src$core$utils$dom(a,b){var _a$classList2;(_a$classList2=a.classList).remove.apply(_a$classList2,_toConsumableArray(b.split(" ")));};removeClass$$module$build$src$core$utils$dom=function removeClass$$module$build$src$core$utils$dom(a,b){var _a$classList3;b=b.split(" ");if(b.every(function(c){return!a.classList.contains(c);}))return!1;(_a$classList3=a.classList).remove.apply(_a$classList3,_toConsumableArray(b));return!0;};hasClass$$module$build$src$core$utils$dom=function hasClass$$module$build$src$core$utils$dom(a,b){return a.classList.contains(b);};removeNode$$module$build$src$core$utils$dom=function removeNode$$module$build$src$core$utils$dom(a){return a&&a.parentNode?a.parentNode.removeChild(a):null;};insertAfter$$module$build$src$core$utils$dom=function insertAfter$$module$build$src$core$utils$dom(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a);};containsNode$$module$build$src$core$utils$dom=function containsNode$$module$build$src$core$utils$dom(a,b){warn$$module$build$src$core$utils$deprecation("Blockly.utils.dom.containsNode","version 10","version 11",'Use native "contains" DOM method');return a.contains(b);};setCssTransform$$module$build$src$core$utils$dom=function setCssTransform$$module$build$src$core$utils$dom(a,b){a.style.transform=b;a.style["-webkit-transform"]=b;};startTextWidthCache$$module$build$src$core$utils$dom=function startTextWidthCache$$module$build$src$core$utils$dom(){cacheReference$$module$build$src$core$utils$dom++;cacheWidths$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=Object.create(null));};stopTextWidthCache$$module$build$src$core$utils$dom=function stopTextWidthCache$$module$build$src$core$utils$dom(){cacheReference$$module$build$src$core$utils$dom--;cacheReference$$module$build$src$core$utils$dom||(cacheWidths$$module$build$src$core$utils$dom=null);};getTextWidth$$module$build$src$core$utils$dom=function getTextWidth$$module$build$src$core$utils$dom(a){var b=a.textContent+"\n"+a.className.baseVal;var c;if(cacheWidths$$module$build$src$core$utils$dom&&(c=cacheWidths$$module$build$src$core$utils$dom[b]))return c;try{c=a.getComputedTextLength();}catch(d){return 8*a.textContent.length;}cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[b]=c);return c;};getFastTextWidth$$module$build$src$core$utils$dom=function getFastTextWidth$$module$build$src$core$utils$dom(a,b,c,d){return getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,b+"pt",c,d);};getFastTextWidthWithSizeString$$module$build$src$core$utils$dom=function getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(cacheWidths$$module$build$src$core$utils$dom&&(f=cacheWidths$$module$build$src$core$utils$dom[a]))return f;canvasContext$$module$build$src$core$utils$dom||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),canvasContext$$module$build$src$core$utils$dom=f.getContext("2d"));canvasContext$$module$build$src$core$utils$dom.font=c+" "+b+" "+d;f=e?canvasContext$$module$build$src$core$utils$dom.measureText(e).width:0;cacheWidths$$module$build$src$core$utils$dom&&(cacheWidths$$module$build$src$core$utils$dom[a]=f);return f;};measureFontMetrics$$module$build$src$core$utils$dom=function measureFontMetrics$$module$build$src$core$utils$dom(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d;e.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height="0";b=document.createElement("div");b.style.display="flex";b.style.position="fixed";b.style.top="0";b.style.left="0";b.appendChild(e);b.appendChild(a);document.body.appendChild(b);c={height:0,baseline:0};try{b.style.alignItems="baseline",c.baseline=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-e.offsetTop;}finally{document.body.removeChild(b);}return c;};getSize$$module$build$src$core$utils$style=function getSize$$module$build$src$core$utils$style(a){return TEST_ONLY$$module$build$src$core$utils$style.getSizeInternal(a);};getSizeInternal$$module$build$src$core$utils$style=function getSizeInternal$$module$build$src$core$utils$style(a){if("none"!==getComputedStyle$$module$build$src$core$utils$style(a,"display"))return getSizeWithDisplay$$module$build$src$core$utils$style(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Size$$module$build$src$core$utils$size(f,a);};getSizeWithDisplay$$module$build$src$core$utils$style=function getSizeWithDisplay$$module$build$src$core$utils$style(a){return new Size$$module$build$src$core$utils$size(a.offsetWidth,a.offsetHeight);};getComputedStyle$$module$build$src$core$utils$style=function getComputedStyle$$module$build$src$core$utils$style(a,b){a=window.getComputedStyle(a);return a[b]||a.getPropertyValue(b);};getPageOffset$$module$build$src$core$utils$style=function getPageOffset$$module$build$src$core$utils$style(a){var b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new Coordinate$$module$build$src$core$utils$coordinate(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b;};getViewportPageOffset$$module$build$src$core$utils$style=function getViewportPageOffset$$module$build$src$core$utils$style(){var a=document.body,b=document.documentElement;return new Coordinate$$module$build$src$core$utils$coordinate(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop);};getBorderBox$$module$build$src$core$utils$style=function getBorderBox$$module$build$src$core$utils$style(a){var b=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,"borderLeftWidth")),c=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,"borderRightWidth")),d=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,"borderTopWidth"));a=parseFloat(getComputedStyle$$module$build$src$core$utils$style(a,"borderBottomWidth"));return new Rect$$module$build$src$core$utils$rect(d,a,b,c);};scrollIntoContainerView$$module$build$src$core$utils$style=function scrollIntoContainerView$$module$build$src$core$utils$style(a,b,c){a=getContainerOffsetToScrollInto$$module$build$src$core$utils$style(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y;};getContainerOffsetToScrollInto$$module$build$src$core$utils$style=function getContainerOffsetToScrollInto$$module$build$src$core$utils$style(a,b,c){var d=getPageOffset$$module$build$src$core$utils$style(a),e=getPageOffset$$module$build$src$core$utils$style(b),f=getBorderBox$$module$build$src$core$utils$style(b);var g=d.x-e.x-f.left;d=d.y-e.y-f.top;e=getSizeWithDisplay$$module$build$src$core$utils$style(a);a=b.clientWidth-e.width;e=b.clientHeight-e.height;f=b.scrollLeft;b=b.scrollTop;c?(f+=g-a/2,b+=d-e/2):(f+=Math.min(g,Math.max(g-a,0)),b+=Math.min(d,Math.max(d-e,0)));return new Coordinate$$module$build$src$core$utils$coordinate(f,b);};getRelativeXY$$module$build$src$core$utils$svg_math=function getRelativeXY$$module$build$src$core$utils$svg_math(a){var b=new Coordinate$$module$build$src$core$utils$coordinate(0,0);var c=a.x&&a.getAttribute("x");var d=a.y&&a.getAttribute("y");c&&(b.x=parseInt(c));d&&(b.y=parseInt(d));if(c=(c=a.getAttribute("transform"))&&c.match(XY_REGEX$$module$build$src$core$utils$svg_math))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(XY_STYLE_REGEX$$module$build$src$core$utils$svg_math))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b;};getInjectionDivXY$$module$build$src$core$utils$svg_math=function getInjectionDivXY$$module$build$src$core$utils$svg_math(a){var b=0,c=0;for(;a;){var d=getRelativeXY$$module$build$src$core$utils$svg_math(a);b+=d.x;c+=d.y;if(-1!==(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode;}return new Coordinate$$module$build$src$core$utils$coordinate(b,c);};getViewportBBox$$module$build$src$core$utils$svg_math=function getViewportBBox$$module$build$src$core$utils$svg_math(){var a=getViewportPageOffset$$module$build$src$core$utils$style();return new Rect$$module$build$src$core$utils$rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x);};getDocumentScroll$$module$build$src$core$utils$svg_math=function getDocumentScroll$$module$build$src$core$utils$svg_math(){var a=document.documentElement,b=window;return new Coordinate$$module$build$src$core$utils$coordinate(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop);};screenToWsCoordinates$$module$build$src$core$utils$svg_math=function screenToWsCoordinates$$module$build$src$core$utils$svg_math(a,b){var c=b.x;b=b.y;var d=a.getInjectionDiv().getBoundingClientRect();c=new Coordinate$$module$build$src$core$utils$coordinate(c-d.left,b-d.top);b=a.getOriginOffsetInPixels();return Coordinate$$module$build$src$core$utils$coordinate.difference(c,b).scale(1/a.scale);};wsToScreenCoordinates$$module$build$src$core$utils$svg_math=function wsToScreenCoordinates$$module$build$src$core$utils$svg_math(a,b){var c=b.scale(a.scale);b=c.x;c=c.y;var d=a.getInjectionDiv().getBoundingClientRect();a=a.getOriginOffsetInPixels();return new Coordinate$$module$build$src$core$utils$coordinate(b+d.left+a.x,c+d.top+a.y);};injectDependencies$$module$build$src$core$utils$xml=function injectDependencies$$module$build$src$core$utils$xml(a){var _a$document=a.document;document$$module$build$src$core$utils$xml=_a$document===void 0?document$$module$build$src$core$utils$xml:_a$document;var _a$DOMParser=a.DOMParser;DOMParser$$module$build$src$core$utils$xml=_a$DOMParser===void 0?DOMParser$$module$build$src$core$utils$xml:_a$DOMParser;var _a$XMLSerializer=a.XMLSerializer;XMLSerializer$$module$build$src$core$utils$xml=_a$XMLSerializer===void 0?XMLSerializer$$module$build$src$core$utils$xml:_a$XMLSerializer;domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml();xmlSerializer$$module$build$src$core$utils$xml=new XMLSerializer$$module$build$src$core$utils$xml();};$.createElement$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createElementNS(NAME_SPACE$$module$build$src$core$utils$xml,a);};$.createTextNode$$module$build$src$core$utils$xml=function(a){return document$$module$build$src$core$utils$xml.createTextNode(a);};$.textToDom$$module$build$src$core$utils$xml=function(a){var b=domParser$$module$build$src$core$utils$xml.parseFromString(a,"text/xml");if(b&&b.documentElement&&!b.getElementsByTagName("parsererror").length)return b.documentElement;if((b=domParser$$module$build$src$core$utils$xml.parseFromString(a,"text/html"))&&b.body.firstChild&&"xml"===b.body.firstChild.nodeName.toLowerCase())return b.body.firstChild;throw Error(`DOMParser was unable to parse: ${a}`);};domToText$$module$build$src$core$utils$xml=function domToText$$module$build$src$core$utils$xml(a){return sanitizeText$$module$build$src$core$utils$xml(xmlSerializer$$module$build$src$core$utils$xml.serializeToString(a));};sanitizeText$$module$build$src$core$utils$xml=function sanitizeText$$module$build$src$core$utils$xml(a){return a.replace(INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml,function(b){return`&#${b.charCodeAt(0)};`;});};convertToolboxDefToJson$$module$build$src$core$utils$toolbox=function convertToolboxDefToJson$$module$build$src$core$utils$toolbox(a){if(!a)return null;if(a instanceof Element||"string"===typeof a)a=parseToolboxTree$$module$build$src$core$utils$toolbox(a),a=convertToToolboxJson$$module$build$src$core$utils$toolbox(a);validateToolbox$$module$build$src$core$utils$toolbox(a);return a;};validateToolbox$$module$build$src$core$utils$toolbox=function validateToolbox$$module$build$src$core$utils$toolbox(a){var b=a.kind;a=a.contents;if(b&&b!==FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox&&b!==CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox)throw Error("Invalid toolbox kind "+b+". Please supply either "+FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox+" or "+CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox);if(!a)throw Error("Toolbox must have a contents attribute.");};convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox=function convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:_xmlToJsonArray$$module$build$src$core$utils$toolbox(a):[];};hasCategories$$module$build$src$core$utils$toolbox=function hasCategories$$module$build$src$core$utils$toolbox(a){return TEST_ONLY$$module$build$src$core$utils$toolbox.hasCategoriesInternal(a);};hasCategoriesInternal$$module$build$src$core$utils$toolbox=function hasCategoriesInternal$$module$build$src$core$utils$toolbox(a){if(!a)return!1;var b=a.kind;return b?b===CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox:!!a.contents.filter(function(c){return"CATEGORY"===c.kind.toUpperCase();}).length;};isCategoryCollapsible$$module$build$src$core$utils$toolbox=function isCategoryCollapsible$$module$build$src$core$utils$toolbox(a){return a&&a.contents?!!a.contents.filter(function(b){return"CATEGORY"===b.kind.toUpperCase();}).length:!1;};convertToToolboxJson$$module$build$src$core$utils$toolbox=function convertToToolboxJson$$module$build$src$core$utils$toolbox(a){var b={contents:_xmlToJsonArray$$module$build$src$core$utils$toolbox(a)};a instanceof Node&&addAttributes$$module$build$src$core$utils$toolbox(a,b);return b;};_xmlToJsonArray$$module$build$src$core$utils$toolbox=function xmlToJsonArray$$module$build$src$core$utils$toolbox(a){var b=[];var c=a.childNodes;c||(c=a);for(var d=0,e;e=c[d];d++){if(!e.tagName)continue;a={};var f=e.tagName.toUpperCase();a.kind=f;"BLOCK"===f?a.blockxml=e:e.childNodes&&0<e.childNodes.length&&(a.contents=_xmlToJsonArray$$module$build$src$core$utils$toolbox(e));addAttributes$$module$build$src$core$utils$toolbox(e,a);b.push(a);}return b;};addAttributes$$module$build$src$core$utils$toolbox=function addAttributes$$module$build$src$core$utils$toolbox(a,b){for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];-1<d.nodeName.indexOf("css-")?(b.cssconfig=b.cssconfig||{},b.cssconfig[d.nodeName.replace("css-","")]=d.value):b[d.nodeName]=d.value;}};parseToolboxTree$$module$build$src$core$utils$toolbox=function parseToolboxTree$$module$build$src$core$utils$toolbox(a){var b=null;if(a)if("string"===typeof a){if(b=$.textToDom$$module$build$src$core$utils$xml(a),"xml"!==b.nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.");}else a instanceof Element&&(b=a);return b;};getStartPositionRect$$module$build$src$core$positionable_helpers=function getStartPositionRect$$module$build$src$core$positionable_helpers(a,b,c,d,e,f){var g=f.scrollbar&&f.scrollbar.canScrollVertically();a.horizontal===horizontalPosition$$module$build$src$core$positionable_helpers.LEFT?(c=e.absoluteMetrics.left+c,g&&f.RTL&&(c+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness)):(c=e.absoluteMetrics.left+e.viewMetrics.width-b.width-c,g&&!f.RTL&&(c-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));a.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?a=e.absoluteMetrics.top+d:(a=e.absoluteMetrics.top+e.viewMetrics.height-b.height-d,f.scrollbar&&f.scrollbar.canScrollHorizontally()&&(a-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness));return new Rect$$module$build$src$core$utils$rect(a,a+b.height,c,c+b.width);};getCornerOppositeToolbox$$module$build$src$core$positionable_helpers=function getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(a,b){return{horizontal:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.LEFT||a.horizontalLayout&&!a.RTL?horizontalPosition$$module$build$src$core$positionable_helpers.RIGHT:horizontalPosition$$module$build$src$core$positionable_helpers.LEFT,vertical:b.toolboxMetrics.position===Position$$module$build$src$core$utils$toolbox.BOTTOM?verticalPosition$$module$build$src$core$positionable_helpers.TOP:verticalPosition$$module$build$src$core$positionable_helpers.BOTTOM};};bumpPositionRect$$module$build$src$core$positionable_helpers=function bumpPositionRect$$module$build$src$core$positionable_helpers(a,b,c,d){var e=a.left,f=a.right-a.left,g=a.bottom-a.top;for(var h=0;h<d.length;h++){var k=d[h];a.intersects(k)&&(a=c===bumpDirection$$module$build$src$core$positionable_helpers.UP?k.top-g-b:k.bottom+b,a=new Rect$$module$build$src$core$utils$rect(a,a+g,e,e+f),h=-1);}return a;};alert$$module$build$src$core$dialog=function alert$$module$build$src$core$dialog(a,b){alertImplementation$$module$build$src$core$dialog(a,b);};setAlert$$module$build$src$core$dialog=function setAlert$$module$build$src$core$dialog(a){alertImplementation$$module$build$src$core$dialog=a;};confirm$$module$build$src$core$dialog=function confirm$$module$build$src$core$dialog(a,b){TEST_ONLY$$module$build$src$core$dialog.confirmInternal(a,b);};confirmInternal$$module$build$src$core$dialog=function confirmInternal$$module$build$src$core$dialog(a,b){confirmImplementation$$module$build$src$core$dialog(a,b);};setConfirm$$module$build$src$core$dialog=function setConfirm$$module$build$src$core$dialog(a){confirmImplementation$$module$build$src$core$dialog=a;};prompt$$module$build$src$core$dialog=function prompt$$module$build$src$core$dialog(a,b,c){promptImplementation$$module$build$src$core$dialog(a,b,c);};setPrompt$$module$build$src$core$dialog=function setPrompt$$module$build$src$core$dialog(a){promptImplementation$$module$build$src$core$dialog=a;};isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model=function isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model(a){return void 0!==a.getVariableModel;};isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(a){return void 0!==a.getProcedureDef;};isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks=function isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(a){return void 0!==a.getProcedureCall&&void 0!==a.renameProcedure;};$.allUsedVarModels$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);var b=new Set();for(var c=0;c<a.length;c++){var d=a[c].getVarModels();if(d)for(var e=0;e<d.length;e++){var f=d[e];f.getId()&&b.add(f);}}return Array.from(b.values());};$.allDeveloperVariables$$module$build$src$core$variables=function(a){a=a.getAllBlocks(!1);var b=new Set();for(var d=0,e;e=a[d];d++){var c=e.getDeveloperVariables;if(c){c=c();for(var f=0;f<c.length;f++)b.add(c[f]);}}return Array.from(b.values());};flyoutCategory$$module$build$src$core$variables=function flyoutCategory$$module$build$src$core$variables(a){var b=[];var c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");a.registerButtonCallback("CREATE_VARIABLE",function(d){createVariableButtonHandler$$module$build$src$core$variables(d.getTargetWorkspace());});b.push(c);a=flyoutCategoryBlocks$$module$build$src$core$variables(a);return b=b.concat(a);};flyoutCategoryBlocks$$module$build$src$core$variables=function flyoutCategoryBlocks$$module$build$src$core$variables(a){a=a.getVariablesOfType("");var b=[];if(0<a.length){var c=a[a.length-1];if(Blocks$$module$build$src$core$blocks.variables_set){var d=$.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set");d.setAttribute("gap",Blocks$$module$build$src$core$blocks.math_change?"8":"24");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d);}Blocks$$module$build$src$core$blocks.math_change&&(d=$.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",Blocks$$module$build$src$core$blocks.variables_get?"20":"8"),d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c)),c=$.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(Blocks$$module$build$src$core$blocks.variables_get){a.sort(VariableModel$$module$build$src$core$variable_model.compareByName);for(var e=0,f;f=a[e];e++)c=$.createElement$$module$build$src$core$utils$xml("block"),c.setAttribute("type","variables_get"),c.setAttribute("gap","8"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(f)),b.push(c);}}return b;};generateUniqueName$$module$build$src$core$variables=function generateUniqueName$$module$build$src$core$variables(a){return TEST_ONLY$$module$build$src$core$variables.generateUniqueNameInternal(a);};generateUniqueNameInternal$$module$build$src$core$variables=function generateUniqueNameInternal$$module$build$src$core$variables(a){return generateUniqueNameFromOptions$$module$build$src$core$variables(VAR_LETTER_OPTIONS$$module$build$src$core$variables.charAt(0),a.getAllVariableNames());};generateUniqueNameFromOptions$$module$build$src$core$variables=function generateUniqueNameFromOptions$$module$build$src$core$variables(a,b){if(!b.length)return a;var c=VAR_LETTER_OPTIONS$$module$build$src$core$variables;var d="",e=c.indexOf(a);for(;;){var f=!1;for(var g=0;g<b.length;g++)if(b[g].toLowerCase()===a){f=!0;break;}if(!f)break;e++;e===c.length&&(e=0,d=`${Number(d)+1}`);a=c.charAt(e)+d;}return a;};createVariableButtonHandler$$module$build$src$core$variables=function createVariableButtonHandler$$module$build$src$core$variables(a,b,c){function d(f){promptName$$module$build$src$core$variables($.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,f,function(g){if(g){var h=nameUsedWithAnyType$$module$build$src$core$variables(g,a);if(h){if(h.type===e)var k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",h.name);else k=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,k=k.replace("%1",h.name).replace("%2",h.type);alert$$module$build$src$core$dialog(k,function(){d(g);});}else a.createVariable(g,e),b&&b(g);}else b&&b(null);});}var e=c||"";d("");};$.renameVariable$$module$build$src$core$variables=function(a,b,c){function d(e){var f=$.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",b.name);promptName$$module$build$src$core$variables(f,e,function(g){if(g){var h=nameUsedWithOtherType$$module$build$src$core$variables(g,b.type,a),k=nameUsedWithConflictingParam$$module$build$src$core$variables(b.name,g,a);if(h||k){var l="";h?l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.name).replace("%2",h.type):k&&(l=$.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",g).replace("%2",k));alert$$module$build$src$core$dialog(l,function(){d(g);});}else a.renameVariableById(b.getId(),g),c&&c(g);}else c&&c(null);});}d("");};promptName$$module$build$src$core$variables=function promptName$$module$build$src$core$variables(a,b,c){prompt$$module$build$src$core$dialog(a,b,function(d){d&&(d=d.replace(/[\s\xa0]+/g," ").trim(),d===$.Msg$$module$build$src$core$msg.RENAME_VARIABLE||d===$.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(d=null);c(d);});};nameUsedWithOtherType$$module$build$src$core$variables=function nameUsedWithOtherType$$module$build$src$core$variables(a,b,c){c=c.getVariableMap().getAllVariables();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()===a&&e.type!==b)return e;return null;};nameUsedWithAnyType$$module$build$src$core$variables=function nameUsedWithAnyType$$module$build$src$core$variables(a,b){b=b.getVariableMap().getAllVariables();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()===a)return d;return null;};nameUsedWithConflictingParam$$module$build$src$core$variables=function nameUsedWithConflictingParam$$module$build$src$core$variables(a,b,c){return c.getProcedureMap().getProcedures().length?checkForConflictingParamWithProcedureModels$$module$build$src$core$variables(a,b,c):checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables(a,b,c);};checkForConflictingParamWithProcedureModels$$module$build$src$core$variables=function checkForConflictingParamWithProcedureModels$$module$build$src$core$variables(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getProcedureMap().getProcedures();var _iterator2=_createForOfIteratorHelper(c),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var e=_step2.value;var d=e.getParameters().filter(isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model).map(function(f){return f.getVariableModel().name;});if(d&&(c=d.some(function(f){return f.toLowerCase()===a;}),d=d.some(function(f){return f.toLowerCase()===b;}),c&&d))return e.getName();}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return null;};checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables=function checkForConflictingParamWithLegacyProcedures$$module$build$src$core$variables(a,b,c){a=a.toLowerCase();b=b.toLowerCase();c=c.getAllBlocks(!1);var _iterator3=_createForOfIteratorHelper(c),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var e=_step3.value;if(!isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(e))continue;c=e.getProcedureDef();var d=c[1];var f=d.some(function(g){return g.toLowerCase()===a;});d=d.some(function(g){return g.toLowerCase()===b;});if(f&&d)return c[0];}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return null;};generateVariableFieldDom$$module$build$src$core$variables=function generateVariableFieldDom$$module$build$src$core$variables(a){var b=$.createElement$$module$build$src$core$utils$xml("field");b.setAttribute("name","VAR");b.setAttribute("id",a.getId());b.setAttribute("variabletype",a.type);a=$.createTextNode$$module$build$src$core$utils$xml(a.name);b.appendChild(a);return b;};$.getOrCreateVariablePackage$$module$build$src$core$variables=function(a,b,c,d){var e=$.getVariable$$module$build$src$core$variables(a,b,c,d);e||(e=createVariable$$module$build$src$core$variables(a,b,c,d));return e;};$.getVariable$$module$build$src$core$variables=function(a,b,c,d){var e=a.getPotentialVariableMap();var f=null;if(b&&(f=a.getVariableById(b),!f&&e&&(f=e.getVariableById(b)),f))return f;if(c){if(void 0===d)throw Error("Tried to look up a variable by name without a type");f=a.getVariable(c,d);!f&&e&&(f=e.getVariable(c,d));}return f;};createVariable$$module$build$src$core$variables=function createVariable$$module$build$src$core$variables(a,b,c,d){var e=a.getPotentialVariableMap();c||(c=generateUniqueName$$module$build$src$core$variables(a.isFlyout?a.targetWorkspace:a));return e?e.createVariable(c,d,b):a.createVariable(c,d,b);};getAddedVariables$$module$build$src$core$variables=function getAddedVariables$$module$build$src$core$variables(a,b){a=a.getAllVariables();var c=[];if(b.length!==a.length)for(var d=0;d<a.length;d++){var e=a[d];-1===b.indexOf(e)&&c.push(e);}return c;};register$$module$build$src$core$clipboard$registry=function register$$module$build$src$core$clipboard$registry(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a,b);};unregister$$module$build$src$core$clipboard$registry=function unregister$$module$build$src$core$clipboard$registry(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a);};queueRender$$module$build$src$core$render_management=function queueRender$$module$build$src$core$render_management(a){_queueBlock$$module$build$src$core$render_management(a);if(alwaysImmediatelyRender$$module$build$src$core$render_management())return doRenders$$module$build$src$core$render_management(),Promise.resolve();afterRendersPromise$$module$build$src$core$render_management||(afterRendersPromise$$module$build$src$core$render_management=new Promise(function(b){afterRendersResolver$$module$build$src$core$render_management=b;animationRequestId$$module$build$src$core$render_management=window.requestAnimationFrame(function(){doRenders$$module$build$src$core$render_management();b();});}));return afterRendersPromise$$module$build$src$core$render_management;};finishQueuedRenders$$module$build$src$core$render_management=function finishQueuedRenders$$module$build$src$core$render_management(){return afterRendersPromise$$module$build$src$core$render_management?afterRendersPromise$$module$build$src$core$render_management:Promise.resolve();};triggerQueuedRenders$$module$build$src$core$render_management=function triggerQueuedRenders$$module$build$src$core$render_management(a){a||window.cancelAnimationFrame(animationRequestId$$module$build$src$core$render_management);doRenders$$module$build$src$core$render_management(a);!a&&afterRendersResolver$$module$build$src$core$render_management&&afterRendersResolver$$module$build$src$core$render_management();};alwaysImmediatelyRender$$module$build$src$core$render_management=function alwaysImmediatelyRender$$module$build$src$core$render_management(){return JavaFx$$module$build$src$core$utils$useragent;};_queueBlock$$module$build$src$core$render_management=function queueBlock$$module$build$src$core$render_management(a){dirtyBlocks$$module$build$src$core$render_management.add(a);var b=a.getParent();b?_queueBlock$$module$build$src$core$render_management(b):rootBlocks$$module$build$src$core$render_management.add(a);};doRenders$$module$build$src$core$render_management=function doRenders$$module$build$src$core$render_management(a){var b=a?new Set([a]):new Set(_toConsumableArray(rootBlocks$$module$build$src$core$render_management).map(function(e){return e.workspace;})),c=_toConsumableArray(rootBlocks$$module$build$src$core$render_management).filter(shouldRenderRootBlock$$module$build$src$core$render_management).filter(function(e){return b.has(e.workspace);});var _iterator4=_createForOfIteratorHelper(c),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var d=_step4.value;_renderBlock$$module$build$src$core$render_management(d);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}var _iterator5=_createForOfIteratorHelper(b),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var e=_step5.value;e.resizeContents();}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}var _iterator6=_createForOfIteratorHelper(c),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _e=_step6.value;d=_e.getRelativeToSurfaceXY(),_e.updateComponentLocations(d);}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}var _iterator7=_createForOfIteratorHelper(c),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _e2=_step7.value;_dequeueBlock$$module$build$src$core$render_management(_e2);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}a||(afterRendersPromise$$module$build$src$core$render_management=null);};_dequeueBlock$$module$build$src$core$render_management=function dequeueBlock$$module$build$src$core$render_management(a){rootBlocks$$module$build$src$core$render_management.delete(a);dirtyBlocks$$module$build$src$core$render_management.delete(a);var _iterator8=_createForOfIteratorHelper(a.getChildren(!1)),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var b=_step8.value;_dequeueBlock$$module$build$src$core$render_management(b);}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}};shouldRenderRootBlock$$module$build$src$core$render_management=function shouldRenderRootBlock$$module$build$src$core$render_management(a){return!a.isDisposed()&&!a.getParent();};_renderBlock$$module$build$src$core$render_management=function renderBlock$$module$build$src$core$render_management(a){if(dirtyBlocks$$module$build$src$core$render_management.has(a)){var _iterator9=_createForOfIteratorHelper(a.getChildren(!1)),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var b=_step9.value;_renderBlock$$module$build$src$core$render_management(b);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}a.renderEfficiently();}};workspaceToDom$$module$build$src$core$xml=function workspaceToDom$$module$build$src$core$xml(a,b){var c=$.createElement$$module$build$src$core$utils$xml("xml");var d=variablesToDom$$module$build$src$core$xml($.allUsedVarModels$$module$build$src$core$variables(a));d.hasChildNodes()&&c.appendChild(d);d=a.getTopComments(!0);for(var e=0;e<d.length;e++)c.appendChild(d[e].toXmlWithXY(b));a=a.getTopBlocks(!0);for(d=0;d<a.length;d++)c.appendChild(blockToDomWithXY$$module$build$src$core$xml(a[d],b));return c;};variablesToDom$$module$build$src$core$xml=function variablesToDom$$module$build$src$core$xml(a){var b=$.createElement$$module$build$src$core$utils$xml("variables");for(var c=0;c<a.length;c++){var d=a[c],e=$.createElement$$module$build$src$core$utils$xml("variable");e.appendChild($.createTextNode$$module$build$src$core$utils$xml(d.name));d.type&&e.setAttribute("type",d.type);e.id=d.getId();b.appendChild(e);}return b;};blockToDomWithXY$$module$build$src$core$xml=function blockToDomWithXY$$module$build$src$core$xml(a,b){if(a.isInsertionMarker()&&(a=a.getChildren(!1)[0],!a))return new DocumentFragment();var c=0;a.workspace.RTL&&(c=a.workspace.getWidth());b=_blockToDom$$module$build$src$core$xml(a,b);if(isElement$$module$build$src$core$xml(b)){var d=a.getRelativeToSurfaceXY();b.setAttribute("x",String(Math.round(a.workspace.RTL?c-d.x:d.x)));b.setAttribute("y",String(Math.round(d.y)));}return b;};fieldToDom$$module$build$src$core$xml=function fieldToDom$$module$build$src$core$xml(a){if(a.isSerializable()){var b=$.createElement$$module$build$src$core$utils$xml("field");b.setAttribute("name",a.name||"");return a.toXml(b);}return null;};allFieldsToDom$$module$build$src$core$xml=function allFieldsToDom$$module$build$src$core$xml(a,b){for(var c=0;c<a.inputList.length;c++){var d=a.inputList[c];for(var e=0;e<d.fieldRow.length;e++){var f=fieldToDom$$module$build$src$core$xml(d.fieldRow[e]);f&&b.appendChild(f);}}};_blockToDom$$module$build$src$core$xml=function blockToDom$$module$build$src$core$xml(a,b){if(a.isInsertionMarker())return(b=a.getChildren(!1)[0])?_blockToDom$$module$build$src$core$xml(b):new DocumentFragment();var c=$.createElement$$module$build$src$core$utils$xml(a.isShadow()?"shadow":"block");c.setAttribute("type",a.type);b||(c.id=a.id);if(a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d);}allFieldsToDom$$module$build$src$core$xml(a,c);if(d=a.getCommentText()){var e=a.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT),f=e.getBubbleSize();e=e.bubbleIsVisible();var g=$.createElement$$module$build$src$core$utils$xml("comment");g.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));g.setAttribute("pinned",`${e}`);g.setAttribute("h",String(f.height));g.setAttribute("w",String(f.width));c.appendChild(g);}a.data&&(d=$.createElement$$module$build$src$core$utils$xml("data"),d.appendChild($.createTextNode$$module$build$src$core$utils$xml(a.data)),c.appendChild(d));for(d=0;d<a.inputList.length;d++){f=a.inputList[d];var h=void 0;e=!0;if(f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&f.type!==$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){g=f.connection.targetBlock();f.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?h=$.createElement$$module$build$src$core$utils$xml("value"):f.type===$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(h=$.createElement$$module$build$src$core$utils$xml("statement"));var l=f.connection.getShadowDom();!l||g&&g.isShadow()||h.appendChild(cloneShadow$$module$build$src$core$xml(l,b));g&&(g=_blockToDom$$module$build$src$core$xml(g,b),g.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(h.appendChild(g),e=!1));h.setAttribute("name",f.name);e||c.appendChild(h);}}void 0!==a.inputsInline&&a.inputsInline!==a.inputsInlineDefault&&c.setAttribute("inline",String(a.inputsInline));a.isCollapsed()&&c.setAttribute("collapsed","true");a.isEnabled()||c.setAttribute("disabled","true");a.isDeletable()||a.isShadow()||c.setAttribute("deletable","false");a.isMovable()||a.isShadow()||c.setAttribute("movable","false");a.isEditable()||c.setAttribute("editable","false");h=a.getNextBlock();var k;h&&(d=_blockToDom$$module$build$src$core$xml(h,b),d.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE&&(k=$.createElement$$module$build$src$core$utils$xml("next"),k.appendChild(d),c.appendChild(k)));a=a.nextConnection&&a.nextConnection.getShadowDom();!a||h&&h.isShadow()||k.appendChild(cloneShadow$$module$build$src$core$xml(a,b));return c;};cloneShadow$$module$build$src$core$xml=function cloneShadow$$module$build$src$core$xml(a,b){var c=a=a.cloneNode(!0),d;for(;c;)if(b&&"shadow"===c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;){d=c;c=c.parentNode;var e=void 0;d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&""===d.data.trim()&&(null==(e=c)?void 0:e.firstChild)!==d&&removeNode$$module$build$src$core$utils$dom(d);}c&&(d=c,c=c.nextSibling,d.nodeType===NodeType$$module$build$src$core$utils$dom.TEXT_NODE&&""===d.data.trim()&&removeNode$$module$build$src$core$utils$dom(d));}return a;};domToText$$module$build$src$core$xml=function domToText$$module$build$src$core$xml(a){return domToText$$module$build$src$core$utils$xml(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>");};domToPrettyText$$module$build$src$core$xml=function domToPrettyText$$module$build$src$core$xml(a){a=domToText$$module$build$src$core$xml(a).split("<");var b="";for(var c=1;c<a.length;c++){var d=a[c];"/"===d[0]&&(b=b.substring(2));a[c]=b+"<"+d;"/"!==d[0]&&"/>"!==d.slice(-2)&&(b+="  ");}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"");};clearWorkspaceAndLoadFromXml$$module$build$src$core$xml=function clearWorkspaceAndLoadFromXml$$module$build$src$core$xml(a,b){b.setResizesEnabled(!1);b.clear();a=$.domToWorkspace$$module$build$src$core$xml(a,b);b.setResizesEnabled(!0);return a;};$.domToWorkspace$$module$build$src$core$xml=function(a,b){var c=0;b.RTL&&(c=b.getWidth());var d=[];startTextWidthCache$$module$build$src$core$utils$dom();var e=$.getGroup$$module$build$src$core$events$utils();e||$.setGroup$$module$build$src$core$events$utils(!0);b.setResizesEnabled&&b.setResizesEnabled(!1);var f=!0;try{for(var g=0,h;h=a.childNodes[g];g++){var k=h.nodeName.toLowerCase(),l=h;if("block"===k||"shadow"===k&&!getRecordUndo$$module$build$src$core$events$utils()){var m=domToBlockInternal$$module$build$src$core$xml(l,b);d.push(m.id);var n=void 0;var p=parseInt(null!=(n=l.getAttribute("x"))?n:"10",10);var q=void 0;var r=parseInt(null!=(q=l.getAttribute("y"))?q:"10",10);isNaN(p)||isNaN(r)||m.moveBy(b.RTL?c-p:p,r,["create"]);f=!1;}else{if("shadow"===k)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===k)b.rendered?WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.fromXmlRendered(l,b,c):WorkspaceComment$$module$build$src$core$workspace_comment.fromXml(l,b);else if("variables"===k){if(f)domToVariables$$module$build$src$core$xml(l,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1;}}}}finally{$.setGroup$$module$build$src$core$events$utils(e),b.setResizesEnabled&&b.setResizesEnabled(!0),b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management(),stopTextWidthCache$$module$build$src$core$utils$dom();}fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(FINISHED_LOADING$$module$build$src$core$events$utils))(b));return d;};appendDomToWorkspace$$module$build$src$core$xml=function appendDomToWorkspace$$module$build$src$core$xml(a,b){if(!b.getBlocksBoundingBox)return $.domToWorkspace$$module$build$src$core$xml(a,b);var c=b.getBlocksBoundingBox();a=$.domToWorkspace$$module$build$src$core$xml(a,b);if(c&&c.top!==c.bottom){var d=c.bottom;c=b.RTL?c.right:c.left;var e=Infinity;var f=-Infinity,g=Infinity;for(var h=0;h<a.length;h++){var k=b.getBlockById(a[h]).getRelativeToSurfaceXY();k.y<g&&(g=k.y);k.x<e&&(e=k.x);k.x>f&&(f=k.x);}d=d-g+10;c=b.RTL?c-f:c-e;for(e=0;e<a.length;e++)b.getBlockById(a[e]).moveBy(c,d,["create"]);}return a;};$.domToBlock$$module$build$src$core$xml=function(a,b){a=domToBlockInternal$$module$build$src$core$xml(a,b);b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a;};domToBlockInternal$$module$build$src$core$xml=function domToBlockInternal$$module$build$src$core$xml(a,b){$.disable$$module$build$src$core$events$utils();var c=b.getAllVariables();var d;try{if(d=domToBlockHeadless$$module$build$src$core$xml(a,b),b.rendered){var e=d,f=d.getDescendants(!1);e.setConnectionTracking(!1);for(var g=f.length-1;0<=g;g--)f[g].initSvg();for(var _g2=f.length-1;0<=_g2;_g2--)f[_g2].queueRender();setTimeout(function(){e.disposed||e.setConnectionTracking(!0);},1);b.resizeContents();}else{var _e3=d.getDescendants(!1);for(var _f=_e3.length-1;0<=_f;_f--)_e3[_f].initModel();}}finally{$.enable$$module$build$src$core$events$utils();}if(isEnabled$$module$build$src$core$events$utils()){a=getAddedVariables$$module$build$src$core$variables(b,c);for(b=0;b<a.length;b++)c=a[b],fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(VAR_CREATE$$module$build$src$core$events$utils))(c));fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CREATE$$module$build$src$core$events$utils))(d));}return d;};domToVariables$$module$build$src$core$xml=function domToVariables$$module$build$src$core$xml(a,b){for(var d=0;d<a.children.length;d++){var c=a.children[d];var e=c.getAttribute("type"),f=c.getAttribute("id");c=c.textContent;if(!c)break;b.createVariable(c,e,f);}};mapSupportedXmlTags$$module$build$src$core$xml=function mapSupportedXmlTags$$module$build$src$core$xml(a){var b={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(var c=0;c<a.children.length;c++){var d=a.children[c];if(d.nodeType!==NodeType$$module$build$src$core$utils$dom.TEXT_NODE)switch(d.nodeName.toLowerCase()){case"mutation":b.mutation.push(d);break;case"comment":b.comment.push(d);break;case"data":b.data.push(d);break;case"title":case"field":b.field.push(d);break;case"value":case"statement":b.input.push(d);break;case"next":b.next.push(d);break;default:console.warn("Ignoring unknown tag: "+d.nodeName);}}return b;};applyMutationTagNodes$$module$build$src$core$xml=function applyMutationTagNodes$$module$build$src$core$xml(a,b){var c=!1;for(var d=0;d<a.length;d++){var e=a[d];b.domToMutation&&(b.domToMutation(e),b.initSvg&&(c=!0));}return c;};applyCommentTagNodes$$module$build$src$core$xml=function applyCommentTagNodes$$module$build$src$core$xml(a,b){var _loop=function _loop(){c=a[d];var e=c.textContent,f="true"===c.getAttribute("pinned");var g;var h=parseInt(null!=(g=c.getAttribute("w"))?g:"50",10);var k;c=parseInt(null!=(k=c.getAttribute("h"))?k:"50",10);b.setCommentText(e);var l=b.getIcon(IconType$$module$build$src$core$icons$icon_types.COMMENT);isNaN(h)||isNaN(c)||l.setBubbleSize(new Size$$module$build$src$core$utils$size(h,c));l.setBubbleVisible(f);setTimeout(function(){return l.setBubbleVisible(f);},1);},c;for(var d=0;d<a.length;d++){_loop();}};applyDataTagNodes$$module$build$src$core$xml=function applyDataTagNodes$$module$build$src$core$xml(a,b){for(var c=0;c<a.length;c++)b.data=a[c].textContent;};applyFieldTagNodes$$module$build$src$core$xml=function applyFieldTagNodes$$module$build$src$core$xml(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.getAttribute("name");e?domToField$$module$build$src$core$xml(b,e,d):console.warn(`Ignoring unnamed field in block ${b.type}`);}};findChildBlocks$$module$build$src$core$xml=function findChildBlocks$$module$build$src$core$xml(a){var b=null,c=null;for(var d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];isElement$$module$build$src$core$xml(e)&&("block"===e.nodeName.toLowerCase()?b=e:"shadow"===e.nodeName.toLowerCase()&&(c=e));}return{childBlockElement:b,childShadowElement:c};};applyInputTagNodes$$module$build$src$core$xml=function applyInputTagNodes$$module$build$src$core$xml(a,b,c,d){for(var f=0;f<a.length;f++){var e=a[f];var g=e.getAttribute("name"),h=g?c.getInput(g):null;if(!h){console.warn("Ignoring non-existent input "+g+" in block "+d);break;}e=findChildBlocks$$module$build$src$core$xml(e);if(e.childBlockElement){if(!h.connection)throw TypeError("Input connection does not exist.");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,h.connection,!1);}if(e.childShadowElement){var k=void 0;null==(k=h.connection)||k.setShadowDom(e.childShadowElement);}}};applyNextTagNodes$$module$build$src$core$xml=function applyNextTagNodes$$module$build$src$core$xml(a,b,c){for(var d=0;d<a.length;d++){var e=findChildBlocks$$module$build$src$core$xml(a[d]);if(e.childBlockElement){if(!c.nextConnection)throw TypeError("Next statement does not exist.");if(c.nextConnection.isConnected())throw TypeError("Next statement is already connected.");domToBlockHeadless$$module$build$src$core$xml(e.childBlockElement,b,c.nextConnection,!0);}e.childShadowElement&&c.nextConnection&&c.nextConnection.setShadowDom(e.childShadowElement);}};domToBlockHeadless$$module$build$src$core$xml=function domToBlockHeadless$$module$build$src$core$xml(a,b,c,d){var e;var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=null!=(e=a.getAttribute("id"))?e:void 0;e=b.newBlock(f,g);g=mapSupportedXmlTags$$module$build$src$core$xml(a);var h=applyMutationTagNodes$$module$build$src$core$xml(g.mutation,e);applyCommentTagNodes$$module$build$src$core$xml(g.comment,e);applyDataTagNodes$$module$build$src$core$xml(g.data,e);if(c)if(d){if(e.previousConnection)c.connect(e.previousConnection);else throw TypeError("Next block does not have previous statement.");}else if(e.outputConnection)c.connect(e.outputConnection);else if(e.previousConnection)c.connect(e.previousConnection);else throw TypeError("Child block does not have output or previous statement.");applyFieldTagNodes$$module$build$src$core$xml(g.field,e);applyInputTagNodes$$module$build$src$core$xml(g.input,b,e,f);applyNextTagNodes$$module$build$src$core$xml(g.next,b,e);h&&e.initSvg();(b=a.getAttribute("inline"))&&e.setInputsInline("true"===b);(b=a.getAttribute("disabled"))&&e.setEnabled("true"!==b&&"disabled"!==b);(b=a.getAttribute("deletable"))&&e.setDeletable("true"===b);(b=a.getAttribute("movable"))&&e.setMovable("true"===b);(b=a.getAttribute("editable"))&&e.setEditable("true"===b);(b=a.getAttribute("collapsed"))&&e.setCollapsed("true"===b);if("shadow"===a.nodeName.toLowerCase()){a=e.getChildren(!1);for(b=0;b<a.length;b++)if(!a[b].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(e.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");e.setShadow(!0);}return e;};domToField$$module$build$src$core$xml=function domToField$$module$build$src$core$xml(a,b,c){var d=a.getField(b);d?d.fromXml(c):console.warn("Ignoring non-existent field "+b+" in block "+a.type);};deleteNext$$module$build$src$core$xml=function deleteNext$$module$build$src$core$xml(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b];if("next"===c.nodeName.toLowerCase()){a.removeChild(c);break;}}};isElement$$module$build$src$core$xml=function isElement$$module$build$src$core$xml(a){return a.nodeType===NodeType$$module$build$src$core$utils$dom.ELEMENT_NODE;};isSerializable$$module$build$src$core$interfaces$i_serializable=function isSerializable$$module$build$src$core$interfaces$i_serializable(a){return void 0!==a.saveState&&void 0!==a.loadState;};register$$module$build$src$core$serialization$registry=function register$$module$build$src$core$serialization$registry(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a,b);};unregister$$module$build$src$core$serialization$registry=function unregister$$module$build$src$core$serialization$registry(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,a);};save$$module$build$src$core$serialization$blocks=function save$$module$build$src$core$serialization$blocks(a){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$addCoordinates=_ref.addCoordinates,b=_ref$addCoordinates===void 0?!1:_ref$addCoordinates,_ref$addInputBlocks=_ref.addInputBlocks,c=_ref$addInputBlocks===void 0?!0:_ref$addInputBlocks,_ref$addNextBlocks=_ref.addNextBlocks,d=_ref$addNextBlocks===void 0?!0:_ref$addNextBlocks,_ref$doFullSerializat=_ref.doFullSerialization,e=_ref$doFullSerializat===void 0?!0:_ref$doFullSerializat,_ref$saveIds=_ref.saveIds,f=_ref$saveIds===void 0?!0:_ref$saveIds;if(a.isInsertionMarker())return null;var g={type:a.type,id:f?a.id:void 0};b&&saveCoords$$module$build$src$core$serialization$blocks(a,g);saveAttributes$$module$build$src$core$serialization$blocks(a,g);saveExtraState$$module$build$src$core$serialization$blocks(a,g,e);saveIcons$$module$build$src$core$serialization$blocks(a,g,e);saveFields$$module$build$src$core$serialization$blocks(a,g,e);c&&saveInputBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);d&&saveNextBlocks$$module$build$src$core$serialization$blocks(a,g,e,f);return g;};saveAttributes$$module$build$src$core$serialization$blocks=function saveAttributes$$module$build$src$core$serialization$blocks(a,b){a.isCollapsed()&&(b.collapsed=!0);a.isEnabled()||(b.enabled=!1);a.isOwnDeletable()||(b.deletable=!1);a.isOwnMovable()||(b.movable=!1);a.isOwnEditable()||(b.editable=!1);void 0!==a.inputsInline&&a.inputsInline!==a.inputsInlineDefault&&(b.inline=a.inputsInline);a.data&&(b.data=a.data);};saveCoords$$module$build$src$core$serialization$blocks=function saveCoords$$module$build$src$core$serialization$blocks(a,b){var c=a.workspace;a=a.getRelativeToSurfaceXY();b.x=Math.round(c.RTL?c.getWidth()-a.x:a.x);b.y=Math.round(a.y);};saveExtraState$$module$build$src$core$serialization$blocks=function saveExtraState$$module$build$src$core$serialization$blocks(a,b,c){a.saveExtraState?(a=a.saveExtraState(c),null!==a&&(b.extraState=a)):a.mutationToDom&&(a=a.mutationToDom(),null!==a&&(b.extraState=domToText$$module$build$src$core$xml(a).replace(' xmlns="https://developers.google.com/blockly/xml"',"")));};saveIcons$$module$build$src$core$serialization$blocks=function saveIcons$$module$build$src$core$serialization$blocks(a,b,c){var d=Object.create(null);var _iterator10=_createForOfIteratorHelper(a.getIcons()),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var e=_step10.value;isSerializable$$module$build$src$core$interfaces$i_serializable(e)&&(a=e.saveState(c))&&(d[e.getType().toString()]=a);}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}Object.keys(d).length&&(b.icons=d);};saveFields$$module$build$src$core$serialization$blocks=function saveFields$$module$build$src$core$serialization$blocks(a,b,c){var d=Object.create(null);for(var e=0;e<a.inputList.length;e++){var f=a.inputList[e];for(var g=0;g<f.fieldRow.length;g++){var h=f.fieldRow[g];h.isSerializable()&&(d[h.name]=h.saveState(c));}}Object.keys(d).length&&(b.fields=d);};saveInputBlocks$$module$build$src$core$serialization$blocks=function saveInputBlocks$$module$build$src$core$serialization$blocks(a,b,c,d){var e=Object.create(null);for(var f=0;f<a.inputList.length;f++){var g=a.inputList[f];if(!g.connection)continue;var h=saveConnection$$module$build$src$core$serialization$blocks(g.connection,c,d);h&&(e[g.name]=h);}Object.keys(e).length&&(b.inputs=e);};saveNextBlocks$$module$build$src$core$serialization$blocks=function saveNextBlocks$$module$build$src$core$serialization$blocks(a,b,c,d){a.nextConnection&&(a=saveConnection$$module$build$src$core$serialization$blocks(a.nextConnection,c,d))&&(b.next=a);};saveConnection$$module$build$src$core$serialization$blocks=function saveConnection$$module$build$src$core$serialization$blocks(a,b,c){var d=a.getShadowState(!0);a=a.targetBlock();if(!d&&!a)return null;var e=Object.create(null);d&&(e.shadow=d);a&&!a.isShadow()&&(e.block=save$$module$build$src$core$serialization$blocks(a,{doFullSerialization:b,saveIds:c}));return e;};append$$module$build$src$core$serialization$blocks=function append$$module$build$src$core$serialization$blocks(a,b){var _ref2=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},_ref2$recordUndo=_ref2.recordUndo,c=_ref2$recordUndo===void 0?!1:_ref2$recordUndo;a=appendInternal$$module$build$src$core$serialization$blocks(a,b,{recordUndo:c});b.rendered&&triggerQueuedRenders$$module$build$src$core$render_management();return a;};appendInternal$$module$build$src$core$serialization$blocks=function appendInternal$$module$build$src$core$serialization$blocks(a,b){var _ref3=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},c=_ref3.parentConnection,_ref3$isShadow=_ref3.isShadow,d=_ref3$isShadow===void 0?!1:_ref3$isShadow,_ref3$recordUndo=_ref3.recordUndo,e=_ref3$recordUndo===void 0?!1:_ref3$recordUndo;var f=getRecordUndo$$module$build$src$core$events$utils();setRecordUndo$$module$build$src$core$events$utils(e);(e=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);$.disable$$module$build$src$core$events$utils();var g;try{g=appendPrivate$$module$build$src$core$serialization$blocks(a,b,{parentConnection:c,isShadow:d});}finally{$.enable$$module$build$src$core$events$utils();}isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CREATE$$module$build$src$core$events$utils))(g));$.setGroup$$module$build$src$core$events$utils(e);setRecordUndo$$module$build$src$core$events$utils(f);if(b.rendered){var h=g;setTimeout(function(){h.disposed||h.setConnectionTracking(!0);},1);}return g;};appendPrivate$$module$build$src$core$serialization$blocks=function appendPrivate$$module$build$src$core$serialization$blocks(a,b){var _ref4=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},c=_ref4.parentConnection,_ref4$isShadow=_ref4.isShadow,d=_ref4$isShadow===void 0?!1:_ref4$isShadow;if(!a.type)throw new MissingBlockType$$module$build$src$core$serialization$exceptions(a);var e=b.newBlock(a.type,a.id);e.setShadow(d);loadCoords$$module$build$src$core$serialization$blocks(e,a);loadAttributes$$module$build$src$core$serialization$blocks(e,a);loadExtraState$$module$build$src$core$serialization$blocks(e,a);tryToConnectParent$$module$build$src$core$serialization$blocks(c,e,a);loadIcons$$module$build$src$core$serialization$blocks(e,a);loadFields$$module$build$src$core$serialization$blocks(e,a);loadInputBlocks$$module$build$src$core$serialization$blocks(e,a);loadNextBlocks$$module$build$src$core$serialization$blocks(e,a);initBlock$$module$build$src$core$serialization$blocks(e,b.rendered);return e;};loadCoords$$module$build$src$core$serialization$blocks=function loadCoords$$module$build$src$core$serialization$blocks(a,b){var c=void 0===b.x?0:b.x;b=void 0===b.y?0:b.y;var d=a.workspace;c=d.RTL?d.getWidth()-c:c;a.moveBy(c,b);};loadAttributes$$module$build$src$core$serialization$blocks=function loadAttributes$$module$build$src$core$serialization$blocks(a,b){b.collapsed&&a.setCollapsed(!0);!1===b.deletable&&a.setDeletable(!1);!1===b.movable&&a.setMovable(!1);!1===b.editable&&a.setEditable(!1);!1===b.enabled&&a.setEnabled(!1);void 0!==b.inline&&a.setInputsInline(b.inline);void 0!==b.data&&(a.data=b.data);};loadExtraState$$module$build$src$core$serialization$blocks=function loadExtraState$$module$build$src$core$serialization$blocks(a,b){b.extraState&&(a.loadExtraState?a.loadExtraState(b.extraState):a.domToMutation&&a.domToMutation($.textToDom$$module$build$src$core$utils$xml(b.extraState)));};tryToConnectParent$$module$build$src$core$serialization$blocks=function tryToConnectParent$$module$build$src$core$serialization$blocks(a,b,c){if(a){if(a.getSourceBlock().isShadow()&&!b.isShadow())throw new RealChildOfShadow$$module$build$src$core$serialization$exceptions(c);if(a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var d=b.outputConnection;if(!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions("output",b,c);}else if(d=b.previousConnection,!d)throw new MissingConnection$$module$build$src$core$serialization$exceptions("previous",b,c);if(!a.connect(d)){var e=b.workspace.connectionChecker;throw new BadConnectionCheck$$module$build$src$core$serialization$exceptions(e.getErrorMessage(e.canConnectWithReason(d,a,!1),d,a),a.type===$.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",b,c);}}};loadIcons$$module$build$src$core$serialization$blocks=function loadIcons$$module$build$src$core$serialization$blocks(a,b){if(b.icons){var c=Object.keys(b.icons);for(var _i3=0,_c2=c;_i3<_c2.length;_i3++){var e=_c2[_i3];c=b.icons[e];var d=a.getIcon(e);if(!d){d=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,e,!1);if(!d)throw new UnregisteredIcon$$module$build$src$core$serialization$exceptions(e,a,b);d=new d(a);a.addIcon(d);}isSerializable$$module$build$src$core$interfaces$i_serializable(d)&&d.loadState(c);}}};loadFields$$module$build$src$core$serialization$blocks=function loadFields$$module$build$src$core$serialization$blocks(a,b){if(b.fields){var c=Object.keys(b.fields);for(var d=0;d<c.length;d++){var e=c[d],f=b.fields[e],g=a.getField(e);g?g.loadState(f):console.warn(`Ignoring non-existant field ${e} in block ${a.type}`);}}};loadInputBlocks$$module$build$src$core$serialization$blocks=function loadInputBlocks$$module$build$src$core$serialization$blocks(a,b){if(b.inputs){var c=Object.keys(b.inputs);for(var d=0;d<c.length;d++){var e=c[d],f=a.getInput(e);if(!f||!f.connection)throw new MissingConnection$$module$build$src$core$serialization$exceptions(e,a,b);loadConnection$$module$build$src$core$serialization$blocks(f.connection,b.inputs[e]);}}};loadNextBlocks$$module$build$src$core$serialization$blocks=function loadNextBlocks$$module$build$src$core$serialization$blocks(a,b){if(b.next){if(!a.nextConnection)throw new MissingConnection$$module$build$src$core$serialization$exceptions("next",a,b);loadConnection$$module$build$src$core$serialization$blocks(a.nextConnection,b.next);}};loadConnection$$module$build$src$core$serialization$blocks=function loadConnection$$module$build$src$core$serialization$blocks(a,b){b.shadow&&a.setShadowState(b.shadow);b.block&&appendPrivate$$module$build$src$core$serialization$blocks(b.block,a.getSourceBlock().workspace,{parentConnection:a});};initBlock$$module$build$src$core$serialization$blocks=function initBlock$$module$build$src$core$serialization$blocks(a,b){if(b){a.setConnectionTracking(!1);a.initSvg();a.queueRender();var _iterator11=_createForOfIteratorHelper(a.getIcons()),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var c=_step11.value;c.onLocationChange(a.getRelativeToSurfaceXY());}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}}else a.initModel();};moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster=function moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster(a){var b=a.workspace,c=$.config$$module$build$src$core$config.snapRadius,d=a.getRelativeToSurfaceXY(),e=new Coordinate$$module$build$src$core$utils$coordinate(0,0),f=b.getAllBlocks(!1).filter(function(g){return g.id!=a.id;}).map(function(g){return g.getRelativeToSurfaceXY();});for(;blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster(Coordinate$$module$build$src$core$utils$coordinate.sum(d,e),f)||blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster(a,e,c);)b.RTL?e.translate(-c,2*c):e.translate(c,2*c);a.moveTo(Coordinate$$module$build$src$core$utils$coordinate.sum(d,e));};blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster=function blockOverlapsOtherExactly$$module$build$src$core$clipboard$block_paster(a,b){return b.some(function(c){return 1>=Math.abs(c.x-a.x)&&1>=Math.abs(c.y-a.y);});};blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster=function blockIsInSnapRadius$$module$build$src$core$clipboard$block_paster(a,b,c){return a.getConnections_(!1).some(function(d){return!!d.closest(c,b).connection;});};copy$$module$build$src$core$clipboard=function copy$$module$build$src$core$clipboard(a){warn$$module$build$src$core$utils$deprecation("Blockly.clipboard.copy","v11","v12","myCopyable.toCopyData()");return TEST_ONLY$$module$build$src$core$clipboard.copyInternal(a);};copyInternal$$module$build$src$core$clipboard=function copyInternal$$module$build$src$core$clipboard(a){var b=a.toCopyData();stashedCopyData$$module$build$src$core$clipboard=b;var c;stashedWorkspace$$module$build$src$core$clipboard=null!=(c=a.workspace)?c:null;return b;};paste$$module$build$src$core$clipboard=function paste$$module$build$src$core$clipboard(a,b,c){return a&&b?pasteFromData$$module$build$src$core$clipboard(a,b,c):stashedCopyData$$module$build$src$core$clipboard&&stashedWorkspace$$module$build$src$core$clipboard?pasteFromData$$module$build$src$core$clipboard(stashedCopyData$$module$build$src$core$clipboard,stashedWorkspace$$module$build$src$core$clipboard):null;};pasteFromData$$module$build$src$core$clipboard=function pasteFromData$$module$build$src$core$clipboard(a,b,c){var d;b=null!=(d=b.getRootWorkspace())?d:b;var e,f;return null!=(f=null==(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.PASTER,a.paster,!1))?void 0:e.paste(a,b,c))?f:null;};duplicate$$module$build$src$core$clipboard=function duplicate$$module$build$src$core$clipboard(a){warn$$module$build$src$core$utils$deprecation("Blockly.clipboard.duplicate","v11","v12","Blockly.clipboard.paste(myCopyable.toCopyData(), myWorkspace)");return TEST_ONLY$$module$build$src$core$clipboard.duplicateInternal(a);};duplicateInternal$$module$build$src$core$clipboard=function duplicateInternal$$module$build$src$core$clipboard(a){var b=a.toCopyData();return b?paste$$module$build$src$core$clipboard(b,a.workspace):null;};setRole$$module$build$src$core$utils$aria=function setRole$$module$build$src$core$utils$aria(a,b){a.setAttribute(ROLE_ATTRIBUTE$$module$build$src$core$utils$aria,b);};setState$$module$build$src$core$utils$aria=function setState$$module$build$src$core$utils$aria(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute(ARIA_PREFIX$$module$build$src$core$utils$aria+b,`${c}`);};getDiv$$module$build$src$core$widgetdiv=function getDiv$$module$build$src$core$widgetdiv(){return containerDiv$$module$build$src$core$widgetdiv;};testOnly_setDiv$$module$build$src$core$widgetdiv=function testOnly_setDiv$$module$build$src$core$widgetdiv(a){containerDiv$$module$build$src$core$widgetdiv=a;if(null===a){var b;null==(b=document.querySelector("."+containerClassName$$module$build$src$core$widgetdiv))||b.remove();}};createDom$$module$build$src$core$widgetdiv=function createDom$$module$build$src$core$widgetdiv(){document.querySelector("."+containerClassName$$module$build$src$core$widgetdiv)||(containerDiv$$module$build$src$core$widgetdiv=document.createElement("div"),containerDiv$$module$build$src$core$widgetdiv.className=containerClassName$$module$build$src$core$widgetdiv,(getParentContainer$$module$build$src$core$common()||document.body).appendChild(containerDiv$$module$build$src$core$widgetdiv));};show$$module$build$src$core$widgetdiv=function show$$module$build$src$core$widgetdiv(a,b,c){hide$$module$build$src$core$widgetdiv();owner$$module$build$src$core$widgetdiv=a;dispose$$module$build$src$core$widgetdiv=c;if(a=containerDiv$$module$build$src$core$widgetdiv)a.style.direction=b?"rtl":"ltr",a.style.display="block",b=getMainWorkspace$$module$build$src$core$common(),rendererClassName$$module$build$src$core$widgetdiv=b.getRenderer().getClassName(),themeClassName$$module$build$src$core$widgetdiv=b.getTheme().getClassName(),rendererClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(a,rendererClassName$$module$build$src$core$widgetdiv),themeClassName$$module$build$src$core$widgetdiv&&addClass$$module$build$src$core$utils$dom(a,themeClassName$$module$build$src$core$widgetdiv);};hide$$module$build$src$core$widgetdiv=function hide$$module$build$src$core$widgetdiv(){if(isVisible$$module$build$src$core$widgetdiv()){owner$$module$build$src$core$widgetdiv=null;var a=containerDiv$$module$build$src$core$widgetdiv;a&&(a.style.display="none",a.style.left="",a.style.top="",dispose$$module$build$src$core$widgetdiv&&dispose$$module$build$src$core$widgetdiv(),dispose$$module$build$src$core$widgetdiv=null,a.textContent="",rendererClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,rendererClassName$$module$build$src$core$widgetdiv),rendererClassName$$module$build$src$core$widgetdiv=""),themeClassName$$module$build$src$core$widgetdiv&&(removeClass$$module$build$src$core$utils$dom(a,themeClassName$$module$build$src$core$widgetdiv),themeClassName$$module$build$src$core$widgetdiv=""),getMainWorkspace$$module$build$src$core$common().markFocused());}};isVisible$$module$build$src$core$widgetdiv=function isVisible$$module$build$src$core$widgetdiv(){return!!owner$$module$build$src$core$widgetdiv;};hideIfOwner$$module$build$src$core$widgetdiv=function hideIfOwner$$module$build$src$core$widgetdiv(a){owner$$module$build$src$core$widgetdiv===a&&hide$$module$build$src$core$widgetdiv();};positionInternal$$module$build$src$core$widgetdiv=function positionInternal$$module$build$src$core$widgetdiv(a,b,c){containerDiv$$module$build$src$core$widgetdiv.style.left=a+"px";containerDiv$$module$build$src$core$widgetdiv.style.top=b+"px";containerDiv$$module$build$src$core$widgetdiv.style.height=c+"px";};positionWithAnchor$$module$build$src$core$widgetdiv=function positionWithAnchor$$module$build$src$core$widgetdiv(a,b,c,d){var e=calculateY$$module$build$src$core$widgetdiv(a,b,c);a=calculateX$$module$build$src$core$widgetdiv(a,b,c,d);0>e?positionInternal$$module$build$src$core$widgetdiv(a,0,c.height+e):positionInternal$$module$build$src$core$widgetdiv(a,e,c.height);};calculateX$$module$build$src$core$widgetdiv=function calculateX$$module$build$src$core$widgetdiv(a,b,c,d){return d?Math.min(Math.max(b.right-c.width,a.left),a.right-c.width):Math.max(Math.min(b.left,a.right-c.width),a.left);};calculateY$$module$build$src$core$widgetdiv=function calculateY$$module$build$src$core$widgetdiv(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom;};isRepositionable$$module$build$src$core$widgetdiv=function isRepositionable$$module$build$src$core$widgetdiv(a){return!(null==a||!a.repositionForWindowResize);};repositionForWindowResize$$module$build$src$core$widgetdiv=function repositionForWindowResize$$module$build$src$core$widgetdiv(){isRepositionable$$module$build$src$core$widgetdiv(owner$$module$build$src$core$widgetdiv)&&owner$$module$build$src$core$widgetdiv.repositionForWindowResize()||hide$$module$build$src$core$widgetdiv();};getCurrentBlock$$module$build$src$core$contextmenu=function getCurrentBlock$$module$build$src$core$contextmenu(){return currentBlock$$module$build$src$core$contextmenu;};setCurrentBlock$$module$build$src$core$contextmenu=function setCurrentBlock$$module$build$src$core$contextmenu(a){currentBlock$$module$build$src$core$contextmenu=a;};show$$module$build$src$core$contextmenu=function show$$module$build$src$core$contextmenu(a,b,c){show$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu,c,dispose$$module$build$src$core$contextmenu);if(b.length){var d=populate_$$module$build$src$core$contextmenu(b,c);menu_$$module$build$src$core$contextmenu=d;position_$$module$build$src$core$contextmenu(d,a,c);setTimeout(function(){d.focus();},1);currentBlock$$module$build$src$core$contextmenu=null;}else hide$$module$build$src$core$contextmenu();};populate_$$module$build$src$core$contextmenu=function populate_$$module$build$src$core$contextmenu(a,b){var c=new Menu$$module$build$src$core$menu();c.setRole(Role$$module$build$src$core$utils$aria.MENU);var _loop2=function _loop2(){var e=a[d],f=new MenuItem$$module$build$src$core$menuitem(e.text);f.setRightToLeft(b);f.setRole(Role$$module$build$src$core$utils$aria.MENUITEM);c.addChild(f);f.setEnabled(e.enabled);if(e.enabled)f.onAction(function(){hide$$module$build$src$core$contextmenu();requestAnimationFrame(function(){setTimeout(function(){e.callback(e.scope);},0);});},{});};for(var d=0;d<a.length;d++){_loop2();}return c;};position_$$module$build$src$core$contextmenu=function position_$$module$build$src$core$contextmenu(a,b,c){var d=getViewportBBox$$module$build$src$core$utils$svg_math();b=new Rect$$module$build$src$core$utils$rect(b.clientY+d.top,b.clientY+d.top,b.clientX+d.left,b.clientX+d.left);createWidget_$$module$build$src$core$contextmenu(a);var e=a.getSize();c&&(b.left+=e.width,b.right+=e.width,d.left+=e.width,d.right+=e.width);positionWithAnchor$$module$build$src$core$widgetdiv(d,b,e,c);a.focus();};createWidget_$$module$build$src$core$contextmenu=function createWidget_$$module$build$src$core$contextmenu(a){var b=getDiv$$module$build$src$core$widgetdiv();if(!b)throw Error("Attempting to create a context menu when widget div is null");b=a.render(b);addClass$$module$build$src$core$utils$dom(b,"blocklyContextMenu");conditionalBind$$module$build$src$core$browser_events(b,"contextmenu",null,haltPropagation$$module$build$src$core$contextmenu);a.focus();};haltPropagation$$module$build$src$core$contextmenu=function haltPropagation$$module$build$src$core$contextmenu(a){a.preventDefault();a.stopPropagation();};hide$$module$build$src$core$contextmenu=function hide$$module$build$src$core$contextmenu(){hideIfOwner$$module$build$src$core$widgetdiv(dummyOwner$$module$build$src$core$contextmenu);currentBlock$$module$build$src$core$contextmenu=null;};dispose$$module$build$src$core$contextmenu=function dispose$$module$build$src$core$contextmenu(){menu_$$module$build$src$core$contextmenu&&(menu_$$module$build$src$core$contextmenu.dispose(),menu_$$module$build$src$core$contextmenu=null);};$.callbackFactory$$module$build$src$core$contextmenu=function(a,b){return function(){$.disable$$module$build$src$core$events$utils();var c;try{c=b instanceof Element?domToBlockInternal$$module$build$src$core$xml(b,a.workspace):appendInternal$$module$build$src$core$serialization$blocks(b,a.workspace);var d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-$.config$$module$build$src$core$config.snapRadius:d.x+$.config$$module$build$src$core$config.snapRadius;d.y+=2*$.config$$module$build$src$core$config.snapRadius;c.moveBy(d.x,d.y);}finally{$.enable$$module$build$src$core$events$utils();}isEnabled$$module$build$src$core$events$utils()&&!c.isShadow()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CREATE$$module$build$src$core$events$utils))(c));c.select();return c;};};commentDeleteOption$$module$build$src$core$contextmenu=function commentDeleteOption$$module$build$src$core$contextmenu(a){return{text:$.Msg$$module$build$src$core$msg.REMOVE_COMMENT,enabled:!0,callback:function callback(){$.setGroup$$module$build$src$core$events$utils(!0);a.dispose();$.setGroup$$module$build$src$core$events$utils(!1);}};};commentDuplicateOption$$module$build$src$core$contextmenu=function commentDuplicateOption$$module$build$src$core$contextmenu(a){return{text:$.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,enabled:!0,callback:function callback(){var b=a.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.workspace);}};};workspaceCommentOption$$module$build$src$core$contextmenu=function workspaceCommentOption$$module$build$src$core$contextmenu(a,b){var c={enabled:!0};c.text=$.Msg$$module$build$src$core$msg.ADD_COMMENT;c.callback=function(){var d=new WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg(a,$.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT,WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.DEFAULT_SIZE,WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.DEFAULT_SIZE);var e=a.getInjectionDiv().getBoundingClientRect();e=new Coordinate$$module$build$src$core$utils$coordinate(b.clientX-e.left,b.clientY-e.top);var f=a.getOriginOffsetInPixels();e=Coordinate$$module$build$src$core$utils$coordinate.difference(e,f);e.scale(1/a.scale);d.moveBy(e.x,e.y);a.rendered&&(d.initSvg(),d.render(),d.select());};return c;};toRadians$$module$build$src$core$utils$math=function toRadians$$module$build$src$core$utils$math(a){return a*Math.PI/180;};toDegrees$$module$build$src$core$utils$math=function toDegrees$$module$build$src$core$utils$math(a){return 180*a/Math.PI;};clamp$$module$build$src$core$utils$math=function clamp$$module$build$src$core$utils$math(a,b,c){if(c<a){var d=c;c=a;a=d;}return Math.max(a,Math.min(b,c));};createDom$$module$build$src$core$dropdowndiv=function createDom$$module$build$src$core$dropdowndiv(){document.querySelector(".blocklyDropDownDiv")||(div$$module$build$src$core$dropdowndiv=document.createElement("div"),div$$module$build$src$core$dropdowndiv.className="blocklyDropDownDiv",(getParentContainer$$module$build$src$core$common()||document.body).appendChild(div$$module$build$src$core$dropdowndiv),content$$module$build$src$core$dropdowndiv=document.createElement("div"),content$$module$build$src$core$dropdowndiv.className="blocklyDropDownContent",div$$module$build$src$core$dropdowndiv.appendChild(content$$module$build$src$core$dropdowndiv),arrow$$module$build$src$core$dropdowndiv=document.createElement("div"),arrow$$module$build$src$core$dropdowndiv.className="blocklyDropDownArrow",div$$module$build$src$core$dropdowndiv.appendChild(arrow$$module$build$src$core$dropdowndiv),div$$module$build$src$core$dropdowndiv.style.opacity="0",div$$module$build$src$core$dropdowndiv.style.transition="transform "+ANIMATION_TIME$$module$build$src$core$dropdowndiv+"s, opacity "+ANIMATION_TIME$$module$build$src$core$dropdowndiv+"s",div$$module$build$src$core$dropdowndiv.addEventListener("focusin",function(){addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,"blocklyFocused");}),div$$module$build$src$core$dropdowndiv.addEventListener("focusout",function(){removeClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,"blocklyFocused");}));};setBoundsElement$$module$build$src$core$dropdowndiv=function setBoundsElement$$module$build$src$core$dropdowndiv(a){boundsElement$$module$build$src$core$dropdowndiv=a;};getOwner$$module$build$src$core$dropdowndiv=function getOwner$$module$build$src$core$dropdowndiv(){return owner$$module$build$src$core$dropdowndiv;};getContentDiv$$module$build$src$core$dropdowndiv=function getContentDiv$$module$build$src$core$dropdowndiv(){return content$$module$build$src$core$dropdowndiv;};clearContent$$module$build$src$core$dropdowndiv=function clearContent$$module$build$src$core$dropdowndiv(){content$$module$build$src$core$dropdowndiv.textContent="";content$$module$build$src$core$dropdowndiv.style.width="";};setColour$$module$build$src$core$dropdowndiv=function setColour$$module$build$src$core$dropdowndiv(a,b){div$$module$build$src$core$dropdowndiv.style.backgroundColor=a;div$$module$build$src$core$dropdowndiv.style.borderColor=b;};showPositionedByBlock$$module$build$src$core$dropdowndiv=function showPositionedByBlock$$module$build$src$core$dropdowndiv(a,b,c,d){return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(b),a,c,d);};showPositionedByField$$module$build$src$core$dropdowndiv=function showPositionedByField$$module$build$src$core$dropdowndiv(a,b,c){positionToField$$module$build$src$core$dropdowndiv=!0;return showPositionedByRect$$module$build$src$core$dropdowndiv(getScaledBboxOfField$$module$build$src$core$dropdowndiv(a),a,b,c);};getScaledBboxOfBlock$$module$build$src$core$dropdowndiv=function getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(a){var b=a.getSvgRoot();var c=a.workspace.scale,d=a.height*c;a=a.width*c;b=getPageOffset$$module$build$src$core$utils$style(b);return new Rect$$module$build$src$core$utils$rect(b.y,b.y+d,b.x,b.x+a);};getScaledBboxOfField$$module$build$src$core$dropdowndiv=function getScaledBboxOfField$$module$build$src$core$dropdowndiv(a){a=a.getScaledBBox();return new Rect$$module$build$src$core$utils$rect(a.top,a.bottom,a.left,a.right);};showPositionedByRect$$module$build$src$core$dropdowndiv=function showPositionedByRect$$module$build$src$core$dropdowndiv(a,b,c,d){var e=a.left+(a.right-a.left)/2,f=a.bottom;a=a.top;d&&(a+=d);d=b.getSourceBlock();var g=d.workspace;for(;g.options.parentWorkspace;)g=g.options.parentWorkspace;setBoundsElement$$module$build$src$core$dropdowndiv(g.getParentSvg().parentNode);return show$$module$build$src$core$dropdowndiv(b,d.RTL,e,f,e,a,c);};show$$module$build$src$core$dropdowndiv=function show$$module$build$src$core$dropdowndiv(a,b,c,d,e,f,g){owner$$module$build$src$core$dropdowndiv=a;onHide$$module$build$src$core$dropdowndiv=g||null;div$$module$build$src$core$dropdowndiv.style.direction=b?"rtl":"ltr";a=getMainWorkspace$$module$build$src$core$common();renderedClassName$$module$build$src$core$dropdowndiv=a.getRenderer().getClassName();themeClassName$$module$build$src$core$dropdowndiv=a.getTheme().getClassName();renderedClassName$$module$build$src$core$dropdowndiv&&addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,renderedClassName$$module$build$src$core$dropdowndiv);themeClassName$$module$build$src$core$dropdowndiv&&addClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,themeClassName$$module$build$src$core$dropdowndiv);return positionInternal$$module$build$src$core$dropdowndiv(c,d,e,f);};getPositionBelowMetrics$$module$build$src$core$dropdowndiv=function getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b,finalX:a.divX,finalY:b+PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:-(ARROW_SIZE$$module$build$src$core$dropdowndiv/2+BORDER_SIZE$$module$build$src$core$dropdowndiv),arrowAtTop:!0,arrowVisible:!0};};getPositionAboveMetrics$$module$build$src$core$dropdowndiv=function getPositionAboveMetrics$$module$build$src$core$dropdowndiv(a,b,c,d){a=getPositionX$$module$build$src$core$dropdowndiv(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b-d.height,finalX:a.divX,finalY:b-d.height-PADDING_Y$$module$build$src$core$dropdowndiv,arrowX:a.arrowX,arrowY:d.height-2*BORDER_SIZE$$module$build$src$core$dropdowndiv-ARROW_SIZE$$module$build$src$core$dropdowndiv/2,arrowAtTop:!1,arrowVisible:!0};};getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv=function getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv(a,b,c){a=getPositionX$$module$build$src$core$dropdowndiv(a,b.left,b.right,c.width);return{initialX:a.divX,initialY:0,finalX:a.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1};};getPositionX$$module$build$src$core$dropdowndiv=function getPositionX$$module$build$src$core$dropdowndiv(a,b,c,d){b=clamp$$module$build$src$core$utils$math(b,a-d/2,c-d);a=a-ARROW_SIZE$$module$build$src$core$dropdowndiv/2-b;c=ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv;a=clamp$$module$build$src$core$utils$math(c,a,d-c-ARROW_SIZE$$module$build$src$core$dropdowndiv);return{arrowX:a,divX:b};};isVisible$$module$build$src$core$dropdowndiv=function isVisible$$module$build$src$core$dropdowndiv(){return!!owner$$module$build$src$core$dropdowndiv;};hideIfOwner$$module$build$src$core$dropdowndiv=function hideIfOwner$$module$build$src$core$dropdowndiv(a,b){return owner$$module$build$src$core$dropdowndiv===a?(b?hideWithoutAnimation$$module$build$src$core$dropdowndiv():hide$$module$build$src$core$dropdowndiv(),!0):!1;};hide$$module$build$src$core$dropdowndiv=function hide$$module$build$src$core$dropdowndiv(){div$$module$build$src$core$dropdowndiv.style.transform="translate(0, 0)";div$$module$build$src$core$dropdowndiv.style.opacity="0";animateOutTimer$$module$build$src$core$dropdowndiv=setTimeout(function(){hideWithoutAnimation$$module$build$src$core$dropdowndiv();},1E3*ANIMATION_TIME$$module$build$src$core$dropdowndiv);onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null);};hideWithoutAnimation$$module$build$src$core$dropdowndiv=function hideWithoutAnimation$$module$build$src$core$dropdowndiv(){isVisible$$module$build$src$core$dropdowndiv()&&(animateOutTimer$$module$build$src$core$dropdowndiv&&clearTimeout(animateOutTimer$$module$build$src$core$dropdowndiv),div$$module$build$src$core$dropdowndiv.style.transform="",div$$module$build$src$core$dropdowndiv.style.left="",div$$module$build$src$core$dropdowndiv.style.top="",div$$module$build$src$core$dropdowndiv.style.opacity="0",div$$module$build$src$core$dropdowndiv.style.display="none",div$$module$build$src$core$dropdowndiv.style.backgroundColor="",div$$module$build$src$core$dropdowndiv.style.borderColor="",onHide$$module$build$src$core$dropdowndiv&&(onHide$$module$build$src$core$dropdowndiv(),onHide$$module$build$src$core$dropdowndiv=null),clearContent$$module$build$src$core$dropdowndiv(),owner$$module$build$src$core$dropdowndiv=null,renderedClassName$$module$build$src$core$dropdowndiv&&(removeClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,renderedClassName$$module$build$src$core$dropdowndiv),renderedClassName$$module$build$src$core$dropdowndiv=""),themeClassName$$module$build$src$core$dropdowndiv&&(removeClass$$module$build$src$core$utils$dom(div$$module$build$src$core$dropdowndiv,themeClassName$$module$build$src$core$dropdowndiv),themeClassName$$module$build$src$core$dropdowndiv=""),getMainWorkspace$$module$build$src$core$common().markFocused());};positionInternal$$module$build$src$core$dropdowndiv=function positionInternal$$module$build$src$core$dropdowndiv(a,b,c,d){a=internal$$module$build$src$core$dropdowndiv.getPositionMetrics(a,b,c,d);a.arrowVisible?(arrow$$module$build$src$core$dropdowndiv.style.display="",arrow$$module$build$src$core$dropdowndiv.style.transform="translate("+a.arrowX+"px,"+a.arrowY+"px) rotate(45deg)",arrow$$module$build$src$core$dropdowndiv.setAttribute("class",a.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):arrow$$module$build$src$core$dropdowndiv.style.display="none";b=Math.floor(a.initialX);c=Math.floor(a.initialY);d=Math.floor(a.finalX);var e=Math.floor(a.finalY);div$$module$build$src$core$dropdowndiv.style.left=b+"px";div$$module$build$src$core$dropdowndiv.style.top=c+"px";div$$module$build$src$core$dropdowndiv.style.display="block";div$$module$build$src$core$dropdowndiv.style.opacity="1";div$$module$build$src$core$dropdowndiv.style.transform="translate("+(d-b)+"px,"+(e-c)+"px)";return!!a.arrowAtTop;};repositionForWindowResize$$module$build$src$core$dropdowndiv=function repositionForWindowResize$$module$build$src$core$dropdowndiv(){if(owner$$module$build$src$core$dropdowndiv){var a=owner$$module$build$src$core$dropdowndiv.getSourceBlock();a=positionToField$$module$build$src$core$dropdowndiv?getScaledBboxOfField$$module$build$src$core$dropdowndiv(owner$$module$build$src$core$dropdowndiv):getScaledBboxOfBlock$$module$build$src$core$dropdowndiv(a);var b=a.left+(a.right-a.left)/2;positionInternal$$module$build$src$core$dropdowndiv(b,a.bottom,b,a.top);}else hide$$module$build$src$core$dropdowndiv();};disposeUiEffect$$module$build$src$core$block_animations=function disposeUiEffect$$module$build$src$core$block_animations(a){if(!(100<a.getDescendants(!1).length)){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play("delete");var d=b.getSvgXY(c);c=c.cloneNode(!0);c.setAttribute("transform","translate("+d.x+","+d.y+")");b.getParentSvg().appendChild(c);_disposeUiStep$$module$build$src$core$block_animations(c,{x:d.x,y:d.y,width:a.width,height:a.height},b.RTL,new Date(),b.scale);}};_disposeUiStep$$module$build$src$core$block_animations=function disposeUiStep$$module$build$src$core$block_animations(a,b,c,d,e){var f=(new Date().getTime()-d.getTime())/150;1<f?removeNode$$module$build$src$core$utils$dom(a):(a.setAttribute("transform","translate("+(b.x+(c?-1:1)*b.width*e/2*f)+","+(b.y+b.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(_disposeUiStep$$module$build$src$core$block_animations,10,a,b,c,d,e));};connectionUiEffect$$module$build$src$core$block_animations=function connectionUiEffect$$module$build$src$core$block_animations(a){var b=a.workspace;var c=b.scale;b.getAudioManager().play("click");if(!(1>c)){var d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?3:-3)*c,d.y+=13*c):a.previousConnection&&(d.x+=(a.RTL?-23:23)*c,d.y+=3*c);var e=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},b.getParentSvg());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*c},e);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},e);a.beginElement();b.beginElement();setTimeout(function(){return void removeNode$$module$build$src$core$utils$dom(e);},150);}};disconnectUiEffect$$module$build$src$core$block_animations=function disconnectUiEffect$$module$build$src$core$block_animations(a){disconnectUiStop$$module$build$src$core$block_animations();a.workspace.getAudioManager().play("disconnect");if(!(1>a.workspace.scale)){var b=a.getHeightWidth().height;b=Math.atan(10/b)/Math.PI*180;a.RTL||(b*=-1);wobblingBlock$$module$build$src$core$block_animations=a;_disconnectUiStep$$module$build$src$core$block_animations(a,b,new Date());}};_disconnectUiStep$$module$build$src$core$block_animations=function disconnectUiStep$$module$build$src$core$block_animations(a,b,c){var d=(new Date().getTime()-c.getTime())/200;var e="";1>=d&&(e=`skewX(${Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)})`,disconnectPid$$module$build$src$core$block_animations=setTimeout(_disconnectUiStep$$module$build$src$core$block_animations,10,a,b,c));a.getSvgRoot().setAttribute("transform",`${a.getTranslation()} ${e}`);};disconnectUiStop$$module$build$src$core$block_animations=function disconnectUiStop$$module$build$src$core$block_animations(){wobblingBlock$$module$build$src$core$block_animations&&(disconnectPid$$module$build$src$core$block_animations&&(clearTimeout(disconnectPid$$module$build$src$core$block_animations),disconnectPid$$module$build$src$core$block_animations=null),wobblingBlock$$module$build$src$core$block_animations.getSvgRoot().setAttribute("transform",wobblingBlock$$module$build$src$core$block_animations.getTranslation()),wobblingBlock$$module$build$src$core$block_animations=null);};startsWith$$module$build$src$core$utils$string=function startsWith$$module$build$src$core$utils$string(a,b){warn$$module$build$src$core$utils$deprecation("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith");return a.startsWith(b);};shortestStringLength$$module$build$src$core$utils$string=function shortestStringLength$$module$build$src$core$utils$string(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c;}).length:0;};commonWordPrefix$$module$build$src$core$utils$string=function commonWordPrefix$$module$build$src$core$utils$string(a,b){if(!a.length)return 0;if(1===a.length)return a[0].length;var c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);var d;for(d=0;d<b;d++){var e=a[0][d];for(var f=1;f<a.length;f++)if(e!==a[f][d])return c;" "===e&&(c=d+1);}for(e=1;e<a.length;e++)if((f=a[e][d])&&" "!==f)return c;return b;};commonWordSuffix$$module$build$src$core$utils$string=function commonWordSuffix$$module$build$src$core$utils$string(a,b){if(!a.length)return 0;if(1===a.length)return a[0].length;var c=0;b=b||shortestStringLength$$module$build$src$core$utils$string(a);var d;for(d=0;d<b;d++){var e=a[0].substr(-d-1,1);for(var f=1;f<a.length;f++)if(e!==a[f].substr(-d-1,1))return c;" "===e&&(c=d+1);}for(e=1;e<a.length;e++)if((f=a[e].charAt(a[e].length-d-1))&&" "!==f)return c;return b;};$.wrap$$module$build$src$core$utils$string=function(a,b){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=wrapLine$$module$build$src$core$utils$string(a[c],b);return a.join("\n");};wrapLine$$module$build$src$core$utils$string=function wrapLine$$module$build$src$core$utils$string(a,b){if(a.length<=b)return a;var c=a.trim().split(/\s+/);for(var d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);var e=-Infinity;var f,g=1;do{d=e;f=a;a=[];e=c.length/g;var h=1;for(var k=0;k<c.length-1;k++)h<(k+1.5)/e?(h++,a[k]=!0):a[k]=!1;a=_wrapMutate$$module$build$src$core$utils$string(c,a,b);e=wrapScore$$module$build$src$core$utils$string(c,a,b);a=wrapToText$$module$build$src$core$utils$string(c,a);g++;}while(e>d);return f;};wrapScore$$module$build$src$core$utils$string=function wrapScore$$module$build$src$core$utils$string(a,b,c){var d=[0],e=[];for(var f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);b=0;for(f=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!==".?!".indexOf(e[f])?b+=c/3:-1!==",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b;};_wrapMutate$$module$build$src$core$utils$string=function wrapMutate$$module$build$src$core$utils$string(a,b,c){var d=wrapScore$$module$build$src$core$utils$string(a,b,c),e;for(var f=0;f<b.length-1;f++){if(b[f]===b[f+1])continue;var g=[].concat(b);g[f]=!g[f];g[f+1]=!g[f+1];var h=wrapScore$$module$build$src$core$utils$string(a,g,c);h>d&&(d=h,e=g);}return e?_wrapMutate$$module$build$src$core$utils$string(a,e,c):b;};wrapToText$$module$build$src$core$utils$string=function wrapToText$$module$build$src$core$utils$string(a,b){var c=[];for(var d=0;d<a.length;d++)c.push(a[d]),void 0!==b[d]&&c.push(b[d]?"\n":" ");return c.join("");};$.isNumber$$module$build$src$core$utils$string=function(a){return /^\s*-?\d+(\.\d+)?\s*$/.test(a);};setCustomTooltip$$module$build$src$core$tooltip=function setCustomTooltip$$module$build$src$core$tooltip(a){customTooltip$$module$build$src$core$tooltip=a;};getCustomTooltip$$module$build$src$core$tooltip=function getCustomTooltip$$module$build$src$core$tooltip(){return customTooltip$$module$build$src$core$tooltip;};isVisible$$module$build$src$core$tooltip=function isVisible$$module$build$src$core$tooltip(){return visible$$module$build$src$core$tooltip;};getDiv$$module$build$src$core$tooltip=function getDiv$$module$build$src$core$tooltip(){return containerDiv$$module$build$src$core$tooltip;};getTooltipOfObject$$module$build$src$core$tooltip=function getTooltipOfObject$$module$build$src$core$tooltip(a){if(a=getTargetObject$$module$build$src$core$tooltip(a)){for(a=a.tooltip;"function"===typeof a;)a=a();if("string"!==typeof a)throw Error("Tooltip function must return a string.");return a;}return"";};getTargetObject$$module$build$src$core$tooltip=function getTargetObject$$module$build$src$core$tooltip(a){for(;a&&a.tooltip;){if("string"===typeof a.tooltip||"function"===typeof a.tooltip)return a;a=a.tooltip;}return null;};createDom$$module$build$src$core$tooltip=function createDom$$module$build$src$core$tooltip(){document.querySelector(".blocklyTooltipDiv")||(containerDiv$$module$build$src$core$tooltip=document.createElement("div"),containerDiv$$module$build$src$core$tooltip.className="blocklyTooltipDiv",(getParentContainer$$module$build$src$core$common()||document.body).appendChild(containerDiv$$module$build$src$core$tooltip));};bindMouseEvents$$module$build$src$core$tooltip=function bindMouseEvents$$module$build$src$core$tooltip(a){a.mouseOverWrapper_=bind$$module$build$src$core$browser_events(a,"pointerover",null,onMouseOver$$module$build$src$core$tooltip);a.mouseOutWrapper_=bind$$module$build$src$core$browser_events(a,"pointerout",null,onMouseOut$$module$build$src$core$tooltip);a.addEventListener("pointermove",onMouseMove$$module$build$src$core$tooltip,!1);};unbindMouseEvents$$module$build$src$core$tooltip=function unbindMouseEvents$$module$build$src$core$tooltip(a){a&&(unbind$$module$build$src$core$browser_events(a.mouseOverWrapper_),unbind$$module$build$src$core$browser_events(a.mouseOutWrapper_),a.removeEventListener("pointermove",onMouseMove$$module$build$src$core$tooltip));};onMouseOver$$module$build$src$core$tooltip=function onMouseOver$$module$build$src$core$tooltip(a){blocked$$module$build$src$core$tooltip||(a=getTargetObject$$module$build$src$core$tooltip(a.currentTarget),element$$module$build$src$core$tooltip!==a&&(hide$$module$build$src$core$tooltip(),poisonedElement$$module$build$src$core$tooltip=null,element$$module$build$src$core$tooltip=a),clearTimeout(mouseOutPid$$module$build$src$core$tooltip));};onMouseOut$$module$build$src$core$tooltip=function onMouseOut$$module$build$src$core$tooltip(a){blocked$$module$build$src$core$tooltip||(mouseOutPid$$module$build$src$core$tooltip=setTimeout(function(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip();},1),clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0);};onMouseMove$$module$build$src$core$tooltip=function onMouseMove$$module$build$src$core$tooltip(a){if(element$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip.tooltip&&!blocked$$module$build$src$core$tooltip)if(visible$$module$build$src$core$tooltip){var b=lastX$$module$build$src$core$tooltip-a.pageX;a=lastY$$module$build$src$core$tooltip-a.pageY;Math.sqrt(b*b+a*a)>RADIUS_OK$$module$build$src$core$tooltip&&hide$$module$build$src$core$tooltip();}else poisonedElement$$module$build$src$core$tooltip!==element$$module$build$src$core$tooltip&&(clearTimeout(showPid$$module$build$src$core$tooltip),lastX$$module$build$src$core$tooltip=a.pageX,lastY$$module$build$src$core$tooltip=a.pageY,showPid$$module$build$src$core$tooltip=setTimeout(show$$module$build$src$core$tooltip,HOVER_MS$$module$build$src$core$tooltip));};dispose$$module$build$src$core$tooltip=function dispose$$module$build$src$core$tooltip(){poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip=null;hide$$module$build$src$core$tooltip();};hide$$module$build$src$core$tooltip=function hide$$module$build$src$core$tooltip(){visible$$module$build$src$core$tooltip&&(visible$$module$build$src$core$tooltip=!1,containerDiv$$module$build$src$core$tooltip&&(containerDiv$$module$build$src$core$tooltip.style.display="none"));showPid$$module$build$src$core$tooltip&&(clearTimeout(showPid$$module$build$src$core$tooltip),showPid$$module$build$src$core$tooltip=0);};block$$module$build$src$core$tooltip=function block$$module$build$src$core$tooltip(){hide$$module$build$src$core$tooltip();blocked$$module$build$src$core$tooltip=!0;};unblock$$module$build$src$core$tooltip=function unblock$$module$build$src$core$tooltip(){blocked$$module$build$src$core$tooltip=!1;};renderContent$$module$build$src$core$tooltip=function renderContent$$module$build$src$core$tooltip(){containerDiv$$module$build$src$core$tooltip&&element$$module$build$src$core$tooltip&&("function"===typeof customTooltip$$module$build$src$core$tooltip?customTooltip$$module$build$src$core$tooltip(containerDiv$$module$build$src$core$tooltip,element$$module$build$src$core$tooltip):renderDefaultContent$$module$build$src$core$tooltip());};renderDefaultContent$$module$build$src$core$tooltip=function renderDefaultContent$$module$build$src$core$tooltip(){var a=getTooltipOfObject$$module$build$src$core$tooltip(element$$module$build$src$core$tooltip);a=$.wrap$$module$build$src$core$utils$string(a,LIMIT$$module$build$src$core$tooltip);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));containerDiv$$module$build$src$core$tooltip.appendChild(c);}};getPosition$$module$build$src$core$tooltip=function getPosition$$module$build$src$core$tooltip(a){var b=document.documentElement.clientWidth,c=document.documentElement.clientHeight;var d=lastX$$module$build$src$core$tooltip;d=a?d-(OFFSET_X$$module$build$src$core$tooltip+containerDiv$$module$build$src$core$tooltip.offsetWidth):d+OFFSET_X$$module$build$src$core$tooltip;var e=lastY$$module$build$src$core$tooltip+OFFSET_Y$$module$build$src$core$tooltip;e+containerDiv$$module$build$src$core$tooltip.offsetHeight>c+window.scrollY&&(e-=containerDiv$$module$build$src$core$tooltip.offsetHeight+2*OFFSET_Y$$module$build$src$core$tooltip);a?d=Math.max(MARGINS$$module$build$src$core$tooltip-window.scrollX,d):d+containerDiv$$module$build$src$core$tooltip.offsetWidth>b+window.scrollX-2*MARGINS$$module$build$src$core$tooltip&&(d=b-containerDiv$$module$build$src$core$tooltip.offsetWidth-2*MARGINS$$module$build$src$core$tooltip);return{x:d,y:e};};show$$module$build$src$core$tooltip=function show$$module$build$src$core$tooltip(){if(!blocked$$module$build$src$core$tooltip&&(poisonedElement$$module$build$src$core$tooltip=element$$module$build$src$core$tooltip,containerDiv$$module$build$src$core$tooltip)){containerDiv$$module$build$src$core$tooltip.textContent="";renderContent$$module$build$src$core$tooltip();var a=element$$module$build$src$core$tooltip.RTL;containerDiv$$module$build$src$core$tooltip.style.direction=a?"rtl":"ltr";containerDiv$$module$build$src$core$tooltip.style.display="block";visible$$module$build$src$core$tooltip=!0;var _getPosition$$module$=getPosition$$module$build$src$core$tooltip(a),b=_getPosition$$module$.x,c=_getPosition$$module$.y;containerDiv$$module$build$src$core$tooltip.style.left=b+"px";containerDiv$$module$build$src$core$tooltip.style.top=c+"px";}};_deepMerge$$module$build$src$core$utils$object=function deepMerge$$module$build$src$core$utils$object(a,b){for(var c in b)a[c]=null!==b[c]&&"object"===typeof b[c]?_deepMerge$$module$build$src$core$utils$object(a[c]||Object.create(null),b[c]):b[c];return a;};hasBubble$$module$build$src$core$interfaces$i_has_bubble=function hasBubble$$module$build$src$core$interfaces$i_has_bubble(a){return void 0!==a.bubbleIsVisible&&void 0!==a.setBubbleVisible;};getHsvSaturation$$module$build$src$core$utils$colour=function getHsvSaturation$$module$build$src$core$utils$colour(){return hsvSaturation$$module$build$src$core$utils$colour;};setHsvSaturation$$module$build$src$core$utils$colour=function setHsvSaturation$$module$build$src$core$utils$colour(a){hsvSaturation$$module$build$src$core$utils$colour=a;};getHsvValue$$module$build$src$core$utils$colour=function getHsvValue$$module$build$src$core$utils$colour(){return hsvValue$$module$build$src$core$utils$colour;};setHsvValue$$module$build$src$core$utils$colour=function setHsvValue$$module$build$src$core$utils$colour(a){hsvValue$$module$build$src$core$utils$colour=a;};parse$$module$build$src$core$utils$colour=function parse$$module$build$src$core$utils$colour(a){a=`${a}`.toLowerCase().trim();var b=names$$module$build$src$core$utils$colour[a];if(b)return b;b="0x"===a.substring(0,2)?"#"+a.substring(2):a;b="#"===b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?rgbToHex$$module$build$src$core$utils$colour(a,b,c):null;};rgbToHex$$module$build$src$core$utils$colour=function rgbToHex$$module$build$src$core$utils$colour(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16);};hexToRgb$$module$build$src$core$utils$colour=function hexToRgb$$module$build$src$core$utils$colour(a){a=parse$$module$build$src$core$utils$colour(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255];};hsvToHex$$module$build$src$core$utils$colour=function hsvToHex$$module$build$src$core$utils$colour(a,b,c){var d=0,e=0,f=0;if(0===b)f=e=d=c;else{var g=Math.floor(a/60),h=a/60-g;a=c*(1-b);var k=c*(1-b*h);b=c*(1-b*(1-h));switch(g){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a;}}return rgbToHex$$module$build$src$core$utils$colour(Math.floor(d),Math.floor(e),Math.floor(f));};blend$$module$build$src$core$utils$colour=function blend$$module$build$src$core$utils$colour(a,b,c){a=parse$$module$build$src$core$utils$colour(a);if(!a)return null;b=parse$$module$build$src$core$utils$colour(b);if(!b)return null;a=hexToRgb$$module$build$src$core$utils$colour(a);b=hexToRgb$$module$build$src$core$utils$colour(b);return rgbToHex$$module$build$src$core$utils$colour(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])));};hueToHex$$module$build$src$core$utils$colour=function hueToHex$$module$build$src$core$utils$colour(a){return hsvToHex$$module$build$src$core$utils$colour(a,hsvSaturation$$module$build$src$core$utils$colour,255*hsvValue$$module$build$src$core$utils$colour);};_tokenizeInterpolationInternal$$module$build$src$core$utils$parsing=function tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,b,c){var d=[];var e=a.split("");e.push("");var f=0;a=[];var g=null;for(var l=0;l<e.length;l++){var h=e[l];if(0===f){if("%"===h)(f=a.join(""))&&d.push(f),a.length=0,f=1;else if(c&&"\n"===h){var m=a.join("");m&&d.push(m);a.length=0;d.push(h);}else a.push(h);}else if(1===f)"%"===h?(a.push(h),f=0):b&&"0"<=h&&"9">=h?(f=2,g=h,(h=a.join(""))&&d.push(h),a.length=0):"{"===h?f=3:(a.push("%",h),f=0);else if(2===f){if("0"<=h&&"9">=h)g+=h;else{var k=void 0;d.push(parseInt(null!=(k=g)?k:"",10));l--;f=0;}}else 3===f&&(""===h?(a.splice(0,0,"%{"),l--,f=0):"}"!==h?a.push(h):(f=a.join(""),/[A-Z]\w*/i.test(f)?(h=f.toUpperCase(),(h=h.startsWith("BKY_")?h.substring(4):null)&&h in $.Msg$$module$build$src$core$msg?(f=$.Msg$$module$build$src$core$msg[h],"string"===typeof f?Array.prototype.push.apply(d,_tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(f,b,c)):b?d.push(`${f}`):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0));}(b=a.join(""))&&d.push(b);k=[];a.length=0;for(e=0;e<d.length;e++)"string"!==typeof d[e]||c&&"\n"===d[e]?((b=a.join(""))&&k.push(b),a.length=0,k.push(d[e])):a.push(d[e]);(b=a.join(""))&&k.push(b);a.length=0;return k;};tokenizeInterpolation$$module$build$src$core$utils$parsing=function tokenizeInterpolation$$module$build$src$core$utils$parsing(a){return _tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!0,!0);};replaceMessageReferences$$module$build$src$core$utils$parsing=function replaceMessageReferences$$module$build$src$core$utils$parsing(a){if("string"!==typeof a)return a;a=_tokenizeInterpolationInternal$$module$build$src$core$utils$parsing(a,!1,!1);return a.length?String(a[0]):"";};checkMessageReferences$$module$build$src$core$utils$parsing=function checkMessageReferences$$module$build$src$core$utils$parsing(a){var b=!0;var c=$.Msg$$module$build$src$core$msg,d=a.match(/%{BKY_[A-Z]\w*}/gi);if(d)for(var e=0;e<d.length;e++){var f=d[e].toUpperCase();void 0===c[f.slice(6,-1)]&&(console.warn("No message string for "+d[e]+" in "+a),b=!1);}return b;};parseBlockColour$$module$build$src$core$utils$parsing=function parseBlockColour$$module$build$src$core$utils$parsing(a){var b="string"===typeof a?replaceMessageReferences$$module$build$src$core$utils$parsing(a):a;var c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{hue:c,hex:hsvToHex$$module$build$src$core$utils$colour(c,getHsvSaturation$$module$build$src$core$utils$colour(),255*getHsvValue$$module$build$src$core$utils$colour())};if(c=parse$$module$build$src$core$utils$colour(b))return{hue:null,hex:c};c='Invalid colour: "'+b+'"';a!==b&&(c+=' (from "'+a+'")');throw Error(c);};isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block=function isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(a){return void 0!==a.getProcedureModel&&void 0!==a.doProcedureUpdate&&void 0!==a.isProcedureDef;};isObservable$$module$build$src$core$interfaces$i_observable=function isObservable$$module$build$src$core$interfaces$i_observable(a){return void 0!==a.startPublishing&&void 0!==a.stopPublishing;};register$$module$build$src$core$field_registry=function register$$module$build$src$core$field_registry(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a,b);};unregister$$module$build$src$core$field_registry=function unregister$$module$build$src$core$field_registry(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a);};$.fromJson$$module$build$src$core$field_registry=function(a){return TEST_ONLY$$module$build$src$core$field_registry.fromJsonInternal(a);};fromJsonInternal$$module$build$src$core$field_registry=function fromJsonInternal$$module$build$src$core$field_registry(a){var b=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.FIELD,a.type);if(b){if("function"!==typeof b.fromJson)throw new TypeError("returned Field was not a IRegistrableField");return b.fromJson(a);}console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached.");return null;};trimOptions$$module$build$src$core$field_dropdown=function trimOptions$$module$build$src$core$field_dropdown(a){var b=!1;var c=a.map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),g=_ref6[0],h=_ref6[1];if("string"===typeof g)return[replaceMessageReferences$$module$build$src$core$utils$parsing(g),h];b=!0;return[null!==g.alt?Object.assign({},g,{alt:replaceMessageReferences$$module$build$src$core$utils$parsing(g.alt)}):Object.assign({},g),h];});if(b||2>a.length)return{options:c};var d=c.map(function(_ref7){var _ref8=_slicedToArray(_ref7,1),g=_ref8[0];return g;}),e=shortestStringLength$$module$build$src$core$utils$string(d);a=commonWordPrefix$$module$build$src$core$utils$string(d,e);var f=commonWordSuffix$$module$build$src$core$utils$string(d,e);if(!a&&!f||e<=a+f)return{options:c};e=a?d[0].substring(0,a-1):void 0;d=f?d[0].substr(1-f):void 0;return{options:applyTrim$$module$build$src$core$field_dropdown(c,a,f),prefix:e,suffix:d};};applyTrim$$module$build$src$core$field_dropdown=function applyTrim$$module$build$src$core$field_dropdown(a,b,c){return a.map(function(_ref9){var _ref10=_slicedToArray(_ref9,2),d=_ref10[0],e=_ref10[1];return[d.substring(b,d.length-c),e];});};validateOptions$$module$build$src$core$field_dropdown=function validateOptions$$module$build$src$core$field_dropdown(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");var b=!1;for(var c=0;c<a.length;c++){var d=a[c];Array.isArray(d)?"string"!==typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!==typeof d[0]&&"string"!==typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d));}if(b)throw TypeError("Found invalid FieldDropdown options.");};$.register$$module$build$src$core$extensions=function(a,b){if("string"!==typeof a||""===a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(allExtensions$$module$build$src$core$extensions[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!==typeof b)throw Error('Error: Extension "'+a+'" must be a function');allExtensions$$module$build$src$core$extensions[a]=b;};$.registerMixin$$module$build$src$core$extensions=function(a,b){if(!b||"object"!==typeof b)throw Error('Error: Mixin "'+a+'" must be a object');$.register$$module$build$src$core$extensions(a,function(){this.mixin(b);});};$.registerMutator$$module$build$src$core$extensions=function(a,b,c,d){var e='Error when registering mutator "'+a+'": ';checkHasMutatorProperties$$module$build$src$core$extensions(e,b);var f=checkMutatorDialog$$module$build$src$core$extensions(b,e);if(c&&"function"!==typeof c)throw Error(e+'Extension "'+a+'" is not a function');$.register$$module$build$src$core$extensions(a,function(){f&&this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(d||[],this));this.mixin(b);c&&c.apply(this);});};unregister$$module$build$src$core$extensions=function unregister$$module$build$src$core$extensions(a){isRegistered$$module$build$src$core$extensions(a)?delete allExtensions$$module$build$src$core$extensions[a]:console.warn('No extension mapping for name "'+a+'" found to unregister');};isRegistered$$module$build$src$core$extensions=function isRegistered$$module$build$src$core$extensions(a){return!!allExtensions$$module$build$src$core$extensions[a];};apply$$module$build$src$core$extensions=function apply$$module$build$src$core$extensions(a,b,c){var d=allExtensions$$module$build$src$core$extensions[a];if("function"!==typeof d)throw Error('Error: Extension "'+a+'" not found.');var e;c?checkNoMutatorProperties$$module$build$src$core$extensions(a,b):e=getMutatorProperties$$module$build$src$core$extensions(b);d.apply(b);if(c)checkHasMutatorProperties$$module$build$src$core$extensions('Error after applying mutator "'+a+'": ',b);else if(!mutatorPropertiesMatch$$module$build$src$core$extensions(e,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};checkNoMutatorProperties$$module$build$src$core$extensions=function checkNoMutatorProperties$$module$build$src$core$extensions(a,b){if(getMutatorProperties$$module$build$src$core$extensions(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};checkXmlHooks$$module$build$src$core$extensions=function checkXmlHooks$$module$build$src$core$extensions(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.mutationToDom,a.domToMutation,b+" mutationToDom/domToMutation");};checkJsonHooks$$module$build$src$core$extensions=function checkJsonHooks$$module$build$src$core$extensions(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.saveExtraState,a.loadExtraState,b+" saveExtraState/loadExtraState");};checkMutatorDialog$$module$build$src$core$extensions=function checkMutatorDialog$$module$build$src$core$extensions(a,b){return checkHasFunctionPair$$module$build$src$core$extensions(a.compose,a.decompose,b+" compose/decompose");};checkHasFunctionPair$$module$build$src$core$extensions=function checkHasFunctionPair$$module$build$src$core$extensions(a,b,c){if(a&&b){if("function"!==typeof a||"function"!==typeof b)throw Error(c+" must be a function");return!0;}if(!a&&!b)return!1;throw Error(c+"Must have both or neither functions");};checkHasMutatorProperties$$module$build$src$core$extensions=function checkHasMutatorProperties$$module$build$src$core$extensions(a,b){var c=checkXmlHooks$$module$build$src$core$extensions(b,a),d=checkJsonHooks$$module$build$src$core$extensions(b,a);if(!c&&!d)throw Error(a+"Mutations must contain either XML hooks, or JSON hooks, or both");checkMutatorDialog$$module$build$src$core$extensions(b,a);};getMutatorProperties$$module$build$src$core$extensions=function getMutatorProperties$$module$build$src$core$extensions(a){var b=[];void 0!==a.domToMutation&&b.push(a.domToMutation);void 0!==a.mutationToDom&&b.push(a.mutationToDom);void 0!==a.saveExtraState&&b.push(a.saveExtraState);void 0!==a.loadExtraState&&b.push(a.loadExtraState);void 0!==a.compose&&b.push(a.compose);void 0!==a.decompose&&b.push(a.decompose);return b;};mutatorPropertiesMatch$$module$build$src$core$extensions=function mutatorPropertiesMatch$$module$build$src$core$extensions(a,b){b=getMutatorProperties$$module$build$src$core$extensions(b);if(b.length!==a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!==b[c])return!1;return!0;};runAfterPageLoad$$module$build$src$core$extensions=function runAfterPageLoad$$module$build$src$core$extensions(a){if("object"!==typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)a();else{var b=setInterval(function(){"complete"===document.readyState&&(clearInterval(b),a());},10);}};$.buildTooltipForDropdown$$module$build$src$core$extensions=function(a,b){var c=[];return function(){-1===c.indexOf(this.type)&&(checkDropdownOptionsInTable$$module$build$src$core$extensions(this,a,b),c.push(this.type));this.setTooltip(function(){var d=String(this.getFieldValue(a));return replaceMessageReferences$$module$build$src$core$utils$parsing(b[d]);}.bind(this));};};checkDropdownOptionsInTable$$module$build$src$core$extensions=function checkDropdownOptionsInTable$$module$build$src$core$extensions(a,b,c){var d=a.getField(b);if(d instanceof FieldDropdown$$module$build$src$core$field_dropdown&&!d.isOptionListDynamic()){d=d.getOptions();var _iterator12=_createForOfIteratorHelper(d),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _step12$value=_slicedToArray(_step12.value,2),e=_step12$value[1];void 0===c[e]&&console.warn(`No tooltip mapping for value ${e} of field `+`${b} of block type ${a.type}.`);}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}};$.buildTooltipWithFieldText$$module$build$src$core$extensions=function(a,b){return function(){this.setTooltip(function(){var c=this.getField(b);return replaceMessageReferences$$module$build$src$core$utils$parsing(a).replace("%1",c?c.getText():"");}.bind(this));};};extensionParentTooltip$$module$build$src$core$extensions=function extensionParentTooltip$$module$build$src$core$extensions(){var a=this.tooltip;this.setTooltip(function(){var b=this.getParent();return b&&b.getInputsInline()&&b.tooltip||a;}.bind(this));};point$$module$build$src$core$utils$svg_paths=function point$$module$build$src$core$utils$svg_paths(a,b){return" "+a+","+b+" ";};curve$$module$build$src$core$utils$svg_paths=function curve$$module$build$src$core$utils$svg_paths(a,b){return" "+a+b.join("");};moveTo$$module$build$src$core$utils$svg_paths=function moveTo$$module$build$src$core$utils$svg_paths(a,b){return" M "+a+","+b+" ";};moveBy$$module$build$src$core$utils$svg_paths=function moveBy$$module$build$src$core$utils$svg_paths(a,b){return" m "+a+","+b+" ";};lineTo$$module$build$src$core$utils$svg_paths=function lineTo$$module$build$src$core$utils$svg_paths(a,b){return" l "+a+","+b+" ";};line$$module$build$src$core$utils$svg_paths=function line$$module$build$src$core$utils$svg_paths(a){return" l"+a.join("");};lineOnAxis$$module$build$src$core$utils$svg_paths=function lineOnAxis$$module$build$src$core$utils$svg_paths(a,b){return" "+a+" "+b+" ";};arc$$module$build$src$core$utils$svg_paths=function arc$$module$build$src$core$utils$svg_paths(a,b,c,d){return a+" "+c+" "+c+" "+b+d;};register$$module$build$src$core$icons$registry=function register$$module$build$src$core$icons$registry(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a.toString(),b);};unregister$$module$build$src$core$icons$registry=function unregister$$module$build$src$core$icons$registry(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.ICON,a);};allProcedures$$module$build$src$core$procedures=function allProcedures$$module$build$src$core$procedures(a){var b=a.getProcedureMap().getProcedures().filter(function(d){return!d.getReturnTypes();}).map(function(d){return[d.getName(),d.getParameters().map(function(e){return e.getName();}),!1];});a.getBlocksByType("procedures_defnoreturn",!1).forEach(function(d){!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&b.push(d.getProcedureDef());});var c=a.getProcedureMap().getProcedures().filter(function(d){return!!d.getReturnTypes();}).map(function(d){return[d.getName(),d.getParameters().map(function(e){return e.getName();}),!0];});a.getBlocksByType("procedures_defreturn",!1).forEach(function(d){!isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(d)&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&c.push(d.getProcedureDef());});b.sort(procTupleComparator$$module$build$src$core$procedures);c.sort(procTupleComparator$$module$build$src$core$procedures);return[b,c];};procTupleComparator$$module$build$src$core$procedures=function procTupleComparator$$module$build$src$core$procedures(a,b){return a[0].localeCompare(b[0],void 0,{sensitivity:"base"});};$.findLegalName$$module$build$src$core$procedures=function(a,b){if(b.isInFlyout)return a;for(a=a||$.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!isLegalName$$module$build$src$core$procedures(a,b.workspace,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2])+1):a+"2";}return a;};isLegalName$$module$build$src$core$procedures=function isLegalName$$module$build$src$core$procedures(a,b,c){return!isNameUsed$$module$build$src$core$procedures(a,b,c);};isNameUsed$$module$build$src$core$procedures=function isNameUsed$$module$build$src$core$procedures(a,b,c){var _iterator13=_createForOfIteratorHelper(b.getAllBlocks(!1)),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var d=_step13.value;if(d!==c&&isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(d)&&$.Names$$module$build$src$core$names.equals(d.getProcedureDef()[0],a))return!0;}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}c=c&&isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)?null==c?void 0:c.getProcedureModel():void 0;var _iterator14=_createForOfIteratorHelper(b.getProcedureMap().getProcedures()),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _d2=_step14.value;if(_d2!==c&&$.Names$$module$build$src$core$names.equals(_d2.getName(),a))return!0;}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return!1;};$.rename$$module$build$src$core$procedures=function(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();a=a.trim();var c=$.findLegalName$$module$build$src$core$procedures(a,b);isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(b)&&!b.isInsertionMarker()&&b.getProcedureModel().setName(c);var d=this.getValue();if(d!==a&&d!==c)for(a=b.workspace.getAllBlocks(!1),b=0;b<a.length;b++){var e=a[b];e.renameProcedure&&e.renameProcedure(d,c);}return c;};flyoutCategory$$module$build$src$core$procedures=function flyoutCategory$$module$build$src$core$procedures(a){function b(f,g){for(var k=0;k<f.length;k++){var h=f[k][0];var l=f[k][1],m=$.createElement$$module$build$src$core$utils$xml("block");m.setAttribute("type",g);m.setAttribute("gap","16");var n=$.createElement$$module$build$src$core$utils$xml("mutation");n.setAttribute("name",h);m.appendChild(n);for(h=0;h<l.length;h++){var p=$.createElement$$module$build$src$core$utils$xml("arg");p.setAttribute("name",l[h]);n.appendChild(p);}c.push(m);}}var c=[];if(Blocks$$module$build$src$core$blocks.procedures_defnoreturn){var d=$.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap","16");var e=$.createElement$$module$build$src$core$utils$xml("field");e.setAttribute("name","NAME");e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE));d.appendChild(e);c.push(d);}Blocks$$module$build$src$core$blocks.procedures_defreturn&&(d=$.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap","16"),e=$.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name","NAME"),e.appendChild($.createTextNode$$module$build$src$core$utils$xml($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),d.appendChild(e),c.push(d));Blocks$$module$build$src$core$blocks.procedures_ifreturn&&(d=$.createElement$$module$build$src$core$utils$xml("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap","16"),c.push(d));c.length&&c[c.length-1].setAttribute("gap","24");a=allProcedures$$module$build$src$core$procedures(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return c;};updateMutatorFlyout$$module$build$src$core$procedures=function updateMutatorFlyout$$module$build$src$core$procedures(a){var b=[],c=a.getBlocksByType("procedures_mutatorarg",!1);for(var f=0,g;g=c[f];f++)b.push(g.getFieldValue("NAME"));c=$.createElement$$module$build$src$core$utils$xml("xml");var d=$.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","procedures_mutatorarg");var e=$.createElement$$module$build$src$core$utils$xml("field");e.setAttribute("name","NAME");b=generateUniqueNameFromOptions$$module$build$src$core$variables($.DEFAULT_ARG$$module$build$src$core$procedures,b);b=$.createTextNode$$module$build$src$core$utils$xml(b);e.appendChild(b);d.appendChild(e);c.appendChild(d);a.updateToolbox(c);};mutatorOpenListener$$module$build$src$core$procedures=function mutatorOpenListener$$module$build$src$core$procedures(a){if(a.type===BUBBLE_OPEN$$module$build$src$core$events$utils&&"mutator"===a.bubbleType&&a.isOpen&&a.blockId){a=getWorkspaceById$$module$build$src$core$common(a.workspaceId).getBlockById(a.blockId);var b=a.type;if("procedures_defnoreturn"===b||"procedures_defreturn"===b)a=a.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),updateMutatorFlyout$$module$build$src$core$procedures(a),a.addChangeListener(mutatorChangeListener$$module$build$src$core$procedures);}};mutatorChangeListener$$module$build$src$core$procedures=function mutatorChangeListener$$module$build$src$core$procedures(a){if(a.type===$.CREATE$$module$build$src$core$events$utils||a.type===$.DELETE$$module$build$src$core$events$utils||a.type===$.CHANGE$$module$build$src$core$events$utils||a.type===BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils)a=getWorkspaceById$$module$build$src$core$common(a.workspaceId),updateMutatorFlyout$$module$build$src$core$procedures(a);};getCallers$$module$build$src$core$procedures=function getCallers$$module$build$src$core$procedures(a,b){return b.getAllBlocks(!1).filter(function(c){return blockIsModernCallerFor$$module$build$src$core$procedures(c,a)||isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureCall(),a);});};blockIsModernCallerFor$$module$build$src$core$procedures=function blockIsModernCallerFor$$module$build$src$core$procedures(a,b){return isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(a)&&!a.isProcedureDef()&&a.getProcedureModel()&&$.Names$$module$build$src$core$names.equals(a.getProcedureModel().getName(),b);};$.mutateCallers$$module$build$src$core$procedures=function(a){var b=getRecordUndo$$module$build$src$core$events$utils();var c=a.getProcedureDef()[0];var d=a.mutationToDom(!0);a=getCallers$$module$build$src$core$procedures(c,a.workspace);for(var f=0,g;g=a[f];f++){c=(c=g.mutationToDom())&&domToText$$module$build$src$core$utils$xml(c);g.domToMutation&&g.domToMutation(d);var e=g.mutationToDom();e=e&&domToText$$module$build$src$core$utils$xml(e);c!==e&&(setRecordUndo$$module$build$src$core$events$utils(!1),fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(g,"mutation",null,c,e)),setRecordUndo$$module$build$src$core$events$utils(b));}};$.getDefinition$$module$build$src$core$procedures=function(a,b){var _iterator15=_createForOfIteratorHelper(b.getAllBlocks(!1)),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var c=_step15.value;if(isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block(c)&&c.isProcedureDef()&&$.Names$$module$build$src$core$names.equals(c.getProcedureModel().getName(),a)||isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks(c)&&$.Names$$module$build$src$core$names.equals(c.getProcedureDef()[0],a))return c;}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return null;};isDynamicShape$$module$build$src$core$renderers$common$constants=function isDynamicShape$$module$build$src$core$renderers$common$constants(a){return a.isDynamic;};getParentConnection$$module$build$src$core$keyboard_nav$ast_node=function getParentConnection$$module$build$src$core$keyboard_nav$ast_node(a){var b=a.outputConnection;if(!b||a.previousConnection&&a.previousConnection.isConnected())b=a.previousConnection;return b;};connectReciprocally$$module$build$src$core$connection=function connectReciprocally$$module$build$src$core$connection(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.targetConnection=b;b.targetConnection=a;};getSingleConnection$$module$build$src$core$connection=function getSingleConnection$$module$build$src$core$connection(a,b){var c=null;b=b.outputConnection;var d=null==b?void 0:b.getConnectionChecker();for(var e=0,f;f=a.inputList[e];e++){var g=f.connection;var h=void 0;if(g&&(null==(h=d)?0:h.canConnect(b,g,!1))){if(c)return null;c=g;}}return c;};getConnectionForOrphanedOutput$$module$build$src$core$connection=function getConnectionForOrphanedOutput$$module$build$src$core$connection(a,b){var c;for(;c=getSingleConnection$$module$build$src$core$connection(a,b);)if(a=c.targetBlock(),!a||a.isShadow())return c;return null;};register$$module$build$src$core$renderers$common$block_rendering=function register$$module$build$src$core$renderers$common$block_rendering(a,b){register$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a,b);};unregister$$module$build$src$core$renderers$common$block_rendering=function unregister$$module$build$src$core$renderers$common$block_rendering(a){unregister$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a);};init$$module$build$src$core$renderers$common$block_rendering=function init$$module$build$src$core$renderers$common$block_rendering(a,b,c){a=new(getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.RENDERER,a))(a);a.init(b,c);return a;};stringButtonClickHandler$$module$build$src$core$variables_dynamic=function stringButtonClickHandler$$module$build$src$core$variables_dynamic(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,"String");};numberButtonClickHandler$$module$build$src$core$variables_dynamic=function numberButtonClickHandler$$module$build$src$core$variables_dynamic(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,"Number");};colourButtonClickHandler$$module$build$src$core$variables_dynamic=function colourButtonClickHandler$$module$build$src$core$variables_dynamic(a){createVariableButtonHandler$$module$build$src$core$variables(a.getTargetWorkspace(),void 0,"Colour");};flyoutCategory$$module$build$src$core$variables_dynamic=function flyoutCategory$$module$build$src$core$variables_dynamic(a){var b=[],c=document.createElement("button");c.setAttribute("text",$.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(c);c=document.createElement("button");c.setAttribute("text",$.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(c);c=document.createElement("button");c.setAttribute("text",$.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(c);a.registerButtonCallback("CREATE_VARIABLE_STRING",stringButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback("CREATE_VARIABLE_NUMBER",numberButtonClickHandler$$module$build$src$core$variables_dynamic);a.registerButtonCallback("CREATE_VARIABLE_COLOUR",colourButtonClickHandler$$module$build$src$core$variables_dynamic);a=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic(a);return b=b.concat(a);};flyoutCategoryBlocks$$module$build$src$core$variables_dynamic=function flyoutCategoryBlocks$$module$build$src$core$variables_dynamic(a){a=a.getAllVariables();var b=[];if(0<a.length){if(Blocks$$module$build$src$core$blocks.variables_set_dynamic){var c=a[a.length-1];var d=$.createElement$$module$build$src$core$utils$xml("block");d.setAttribute("type","variables_set_dynamic");d.setAttribute("gap","24");d.appendChild(generateVariableFieldDom$$module$build$src$core$variables(c));b.push(d);}if(Blocks$$module$build$src$core$blocks.variables_get_dynamic){a.sort(VariableModel$$module$build$src$core$variable_model.compareByName);for(var _d3=0,e;e=a[_d3];_d3++)c=$.createElement$$module$build$src$core$utils$xml("block"),c.setAttribute("type","variables_get_dynamic"),c.setAttribute("gap","8"),c.appendChild(generateVariableFieldDom$$module$build$src$core$variables(e)),b.push(c);}}return b;};resizeSvgContents$$module$build$src$core$workspace_svg=function resizeSvgContents$$module$build$src$core$workspace_svg(a){a.resizeContents();};isCopyable$$module$build$src$core$interfaces$i_copyable=function isCopyable$$module$build$src$core$interfaces$i_copyable(a){return void 0!==a.toCopyData;};registerEscape$$module$build$src$core$shortcut_items=function registerEscape$$module$build$src$core$shortcut_items(){_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.ESCAPE,preconditionFn(a){return!a.options.readOnly;},callback(a){a.hideChaff();return!0;},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.ESC]});};registerDelete$$module$build$src$core$shortcut_items=function registerDelete$$module$build$src$core$shortcut_items(){_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.DELETE,preconditionFn(a){var b=getSelected$$module$build$src$core$common();return!a.options.readOnly&&null!=b&&b.isDeletable();},callback(a,b){b.preventDefault();if(Gesture$$module$build$src$core$gesture.inProgress())return!1;getSelected$$module$build$src$core$common().checkAndDelete();return!0;},keyCodes:[KeyCodes$$module$build$src$core$utils$keycodes.DELETE,KeyCodes$$module$build$src$core$utils$keycodes.BACKSPACE]});};registerCopy$$module$build$src$core$shortcut_items=function registerCopy$$module$build$src$core$shortcut_items(){var a=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.ALT]),c=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.C,[KeyCodes$$module$build$src$core$utils$keycodes.META]);_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.COPY,preconditionFn(d){var e=getSelected$$module$build$src$core$common();return!d.options.readOnly&&!Gesture$$module$build$src$core$gesture.inProgress()&&null!=e&&e.isDeletable()&&e.isMovable()&&isCopyable$$module$build$src$core$interfaces$i_copyable(e);},callback(d,e){e.preventDefault();d.hideChaff();e=getSelected$$module$build$src$core$common();if(!e||!isCopyable$$module$build$src$core$interfaces$i_copyable(e))return!1;copyData$$module$build$src$core$shortcut_items=e.toCopyData();copyWorkspace$$module$build$src$core$shortcut_items=d;return!!copyData$$module$build$src$core$shortcut_items;},keyCodes:[a,b,c]});};registerCut$$module$build$src$core$shortcut_items=function registerCut$$module$build$src$core$shortcut_items(){var a=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.ALT]),c=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.X,[KeyCodes$$module$build$src$core$utils$keycodes.META]);_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.CUT,preconditionFn(d){var e=getSelected$$module$build$src$core$common();return!d.options.readOnly&&!Gesture$$module$build$src$core$gesture.inProgress()&&null!=e&&e instanceof BlockSvg$$module$build$src$core$block_svg&&e.isDeletable()&&e.isMovable()&&!e.workspace.isFlyout;},callback(d){var e=getSelected$$module$build$src$core$common();if(!e||!isCopyable$$module$build$src$core$interfaces$i_copyable(e))return!1;copyData$$module$build$src$core$shortcut_items=e.toCopyData();copyWorkspace$$module$build$src$core$shortcut_items=d;e.checkAndDelete();return!0;},keyCodes:[a,b,c]});};registerPaste$$module$build$src$core$shortcut_items=function registerPaste$$module$build$src$core$shortcut_items(){var a=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.ALT]),c=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.V,[KeyCodes$$module$build$src$core$utils$keycodes.META]);_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.PASTE,preconditionFn(d){return!d.options.readOnly&&!Gesture$$module$build$src$core$gesture.inProgress();},callback(){return copyData$$module$build$src$core$shortcut_items&&copyWorkspace$$module$build$src$core$shortcut_items?!!paste$$module$build$src$core$clipboard(copyData$$module$build$src$core$shortcut_items,copyWorkspace$$module$build$src$core$shortcut_items):!1;},keyCodes:[a,b,c]});};registerUndo$$module$build$src$core$shortcut_items=function registerUndo$$module$build$src$core$shortcut_items(){var a=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.ALT]),c=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.META]);_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.UNDO,preconditionFn(d){return!d.options.readOnly&&!Gesture$$module$build$src$core$gesture.inProgress();},callback(d){d.hideChaff();d.undo(!1);return!0;},keyCodes:[a,b,c]});};registerRedo$$module$build$src$core$shortcut_items=function registerRedo$$module$build$src$core$shortcut_items(){var a=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.SHIFT,KeyCodes$$module$build$src$core$utils$keycodes.CTRL]),b=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.SHIFT,KeyCodes$$module$build$src$core$utils$keycodes.ALT]),c=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Z,[KeyCodes$$module$build$src$core$utils$keycodes.SHIFT,KeyCodes$$module$build$src$core$utils$keycodes.META]),d=_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.createSerializedKey(KeyCodes$$module$build$src$core$utils$keycodes.Y,[KeyCodes$$module$build$src$core$utils$keycodes.CTRL]);_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.register({name:names$$module$build$src$core$shortcut_items.REDO,preconditionFn(e){return!Gesture$$module$build$src$core$gesture.inProgress()&&!e.options.readOnly;},callback(e){e.hideChaff();e.undo(!0);return!0;},keyCodes:[a,b,c,d]});};registerDefaultShortcuts$$module$build$src$core$shortcut_items=function registerDefaultShortcuts$$module$build$src$core$shortcut_items(){registerEscape$$module$build$src$core$shortcut_items();registerDelete$$module$build$src$core$shortcut_items();registerCopy$$module$build$src$core$shortcut_items();registerCut$$module$build$src$core$shortcut_items();registerPaste$$module$build$src$core$shortcut_items();registerUndo$$module$build$src$core$shortcut_items();registerRedo$$module$build$src$core$shortcut_items();};saveProcedure$$module$build$src$core$serialization$procedures=function saveProcedure$$module$build$src$core$serialization$procedures(a){var b={id:a.getId(),name:a.getName(),returnTypes:a.getReturnTypes()};if(!a.getParameters().length)return b;b.parameters=a.getParameters().map(function(c){return saveParameter$$module$build$src$core$serialization$procedures(c);});return b;};saveParameter$$module$build$src$core$serialization$procedures=function saveParameter$$module$build$src$core$serialization$procedures(a){var b={id:a.getId(),name:a.getName()};if(!a.getTypes().length)return b;b.types=a.getTypes();return b;};loadProcedure$$module$build$src$core$serialization$procedures=function loadProcedure$$module$build$src$core$serialization$procedures(a,b,c,d){a=new a(d,c.name,c.id).setReturnTypes(c.returnTypes);if(!c.parameters)return a;var _iterator16=_createForOfIteratorHelper(c.parameters.entries()),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _step16$value=_slicedToArray(_step16.value,2),e=_step16$value[0],f=_step16$value[1];a.insertParameter(loadParameter$$module$build$src$core$serialization$procedures(b,f,d),e);}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}return a;};loadParameter$$module$build$src$core$serialization$procedures=function loadParameter$$module$build$src$core$serialization$procedures(a,b,c){a=new a(c,b.name,b.id);b.types&&a.setTypes(b.types);return a;};save$$module$build$src$core$serialization$workspaces=function save$$module$build$src$core$serialization$workspaces(a){var b=Object.create(null),c=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);for(var d in c){var e=void 0;var f=null==(e=c[d])?void 0:e.save(a);f&&(b[d]=f);}return b;};load$$module$build$src$core$serialization$workspaces=function load$$module$build$src$core$serialization$workspaces(a,b){var _ref11=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},_ref11$recordUndo=_ref11.recordUndo,c=_ref11$recordUndo===void 0?!1:_ref11$recordUndo;var d=getAllItems$$module$build$src$core$registry(Type$$module$build$src$core$registry.SERIALIZER,!0);if(d){d=Object.entries(d).sort(function(f,g){return g[1].priority-f[1].priority;});var e=getRecordUndo$$module$build$src$core$events$utils();setRecordUndo$$module$build$src$core$events$utils(c);(c=$.getGroup$$module$build$src$core$events$utils())||$.setGroup$$module$build$src$core$events$utils(!0);startTextWidthCache$$module$build$src$core$utils$dom();b instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!1);var _iterator17=_createForOfIteratorHelper(d.reverse()),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _step17$value=_slicedToArray(_step17.value,2),f=_step17$value[1];var g=void 0;null==(g=f)||g.clear(b);}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}var _iterator18=_createForOfIteratorHelper(d.reverse()),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _step18$value=_slicedToArray(_step18.value,2),_f2=_step18$value[0],_g3=_step18$value[1];if(a[_f2]){var h=void 0;null==(h=_g3)||h.load(a[_f2],b);}}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}b instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&b.setResizesEnabled(!0);stopTextWidthCache$$module$build$src$core$utils$dom();fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(FINISHED_LOADING$$module$build$src$core$events$utils))(b));$.setGroup$$module$build$src$core$events$utils(c);setRecordUndo$$module$build$src$core$events$utils(e);}};bumpObjectIntoBounds$$module$build$src$core$bump_objects=function bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,b,c){var d=c.getBoundingRectangle(),e=d.right-d.left,f=clamp$$module$build$src$core$utils$math(b.top,d.top,b.top+b.height-(d.bottom-d.top))-d.top;var g=b.left;b=b.left+b.width-e;a.RTL?g=Math.min(b,g):b=Math.max(g,b);return(a=clamp$$module$build$src$core$utils$math(g,d.left,b)-d.left)||f?(c.moveBy(a,f,["inbounds"]),!0):!1;};bumpIntoBoundsHandler$$module$build$src$core$bump_objects=function bumpIntoBoundsHandler$$module$build$src$core$bump_objects(a){return function(b){var c=a.getMetricsManager();if(c.hasFixedEdges()&&!a.isDragging()){var d;if(-1!==BUMP_EVENTS$$module$build$src$core$events$utils.indexOf(null!=(d=b.type)?d:"")){d=c.getScrollMetrics(!0);var e=extractObjectFromEvent$$module$build$src$core$bump_objects(a,b);e&&(c=$.getGroup$$module$build$src$core$events$utils()||!1,$.setGroup$$module$build$src$core$events$utils(b.group),bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,d,e)&&!b.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),$.setGroup$$module$build$src$core$events$utils(c));}else b.type===VIEWPORT_CHANGE$$module$build$src$core$events$utils&&b.scale&&b.oldScale&&b.scale>b.oldScale&&bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a);}};};extractObjectFromEvent$$module$build$src$core$bump_objects=function extractObjectFromEvent$$module$build$src$core$bump_objects(a,b){var c=null;switch(b.type){case $.CREATE$$module$build$src$core$events$utils:case $.MOVE$$module$build$src$core$events$utils:(c=a.getBlockById(b.blockId))&&(c=c.getRootBlock());break;case COMMENT_CREATE$$module$build$src$core$events$utils:case COMMENT_MOVE$$module$build$src$core$events$utils:c=a.getCommentById(b.commentId);}return c;};bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects=function bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a){var b=a.getMetricsManager();if(b.hasFixedEdges()&&!a.isDragging()){b=b.getScrollMetrics(!0);var c=a.getTopBoundedElements();for(var d=0,e;e=c[d];d++)bumpObjectIntoBounds$$module$build$src$core$bump_objects(a,b,e);}};_initIconData$$module$build$src$core$block_dragger=function initIconData$$module$build$src$core$block_dragger(a,b){var c=[];var _iterator19=_createForOfIteratorHelper(a.getIcons()),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var d=_step19.value;if(!hasBubble$$module$build$src$core$interfaces$i_has_bubble(d)||d.bubbleIsVisible())c.push({location:b,icon:d}),d.onLocationChange(b);}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}var _iterator20=_createForOfIteratorHelper(a.getChildren(!1)),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _d4=_step20.value;c.push.apply(c,_toConsumableArray(_initIconData$$module$build$src$core$block_dragger(_d4,Coordinate$$module$build$src$core$utils$coordinate.sum(b,_d4.relativeCoords))));}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}return c;};registerUndo$$module$build$src$core$contextmenu_items=function registerUndo$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.UNDO;},preconditionFn(a){return 0<a.workspace.getUndoStack().length?"enabled":"disabled";},callback(a){a.workspace.undo(!1);},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1});};registerRedo$$module$build$src$core$contextmenu_items=function registerRedo$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.REDO;},preconditionFn(a){return 0<a.workspace.getRedoStack().length?"enabled":"disabled";},callback(a){a.workspace.undo(!0);},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2});};registerCleanup$$module$build$src$core$contextmenu_items=function registerCleanup$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.CLEAN_UP;},preconditionFn(a){return a.workspace.isMovable()?1<a.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden";},callback(a){a.workspace.cleanUp();},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3});};toggleOption_$$module$build$src$core$contextmenu_items=function toggleOption_$$module$build$src$core$contextmenu_items(a,b){function c(f){e--;f.setCollapsed(a);0===e&&$.setGroup$$module$build$src$core$events$utils(!1);}var d=0,e=0;$.setGroup$$module$build$src$core$events$utils(!0);for(var f=0;f<b.length;f++){var g=b[f];for(;g;)e++,setTimeout(c.bind(null,g),d),g=g.getNextBlock(),d+=10;}};registerCollapse$$module$build$src$core$contextmenu_items=function registerCollapse$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.COLLAPSE_ALL;},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(var b=0;b<a.length;b++){var c=a[b];for(;c;){if(!c.isCollapsed())return"enabled";c=c.getNextBlock();}}return"disabled";}return"hidden";},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!0,a.workspace.getTopBlocks(!0));},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4});};registerExpand$$module$build$src$core$contextmenu_items=function registerExpand$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.EXPAND_ALL;},preconditionFn(a){if(a.workspace.options.collapse){a=a.workspace.getTopBlocks(!1);for(var b=0;b<a.length;b++){var c=a[b];for(;c;){if(c.isCollapsed())return"enabled";c=c.getNextBlock();}}return"disabled";}return"hidden";},callback(a){toggleOption_$$module$build$src$core$contextmenu_items(!1,a.workspace.getTopBlocks(!0));},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5});};_addDeletableBlocks_$$module$build$src$core$contextmenu_items=function addDeletableBlocks_$$module$build$src$core$contextmenu_items(a,b){if(a.isDeletable())Array.prototype.push.apply(b,a.getDescendants(!1));else{a=a.getChildren(!1);for(var c=0;c<a.length;c++)_addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b);}};getDeletableBlocks_$$module$build$src$core$contextmenu_items=function getDeletableBlocks_$$module$build$src$core$contextmenu_items(a){var b=[];a=a.getTopBlocks(!0);for(var c=0;c<a.length;c++)_addDeletableBlocks_$$module$build$src$core$contextmenu_items(a[c],b);return b;};_deleteNext_$$module$build$src$core$contextmenu_items=function deleteNext_$$module$build$src$core$contextmenu_items(a,b){b?$.setGroup$$module$build$src$core$events$utils(b):($.setGroup$$module$build$src$core$events$utils(!0),b=$.getGroup$$module$build$src$core$events$utils());var c=a.shift();c&&(c.isDeadOrDying()?_deleteNext_$$module$build$src$core$contextmenu_items(a,b):(c.dispose(!1,!0),setTimeout(_deleteNext_$$module$build$src$core$contextmenu_items,10,a,b)));$.setGroup$$module$build$src$core$events$utils(!1);};registerDeleteAll$$module$build$src$core$contextmenu_items=function registerDeleteAll$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){if(!a.workspace)return"";a=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length;return 1===a?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${a}`);},preconditionFn(a){return a.workspace?0<getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace).length?"enabled":"disabled":"disabled";},callback(a){if(a.workspace){a.workspace.cancelCurrentGesture();var b=getDeletableBlocks_$$module$build$src$core$contextmenu_items(a.workspace);2>b.length?_deleteNext_$$module$build$src$core$contextmenu_items(b):confirm$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(b.length)),function(c){c&&_deleteNext_$$module$build$src$core$contextmenu_items(b);});}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6});};registerWorkspaceOptions_$$module$build$src$core$contextmenu_items=function registerWorkspaceOptions_$$module$build$src$core$contextmenu_items(){registerUndo$$module$build$src$core$contextmenu_items();registerRedo$$module$build$src$core$contextmenu_items();registerCleanup$$module$build$src$core$contextmenu_items();registerCollapse$$module$build$src$core$contextmenu_items();registerExpand$$module$build$src$core$contextmenu_items();registerDeleteAll$$module$build$src$core$contextmenu_items();};registerDuplicate$$module$build$src$core$contextmenu_items=function registerDuplicate$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK;},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isDeletable()&&a.isMovable()?a.isDuplicatable()?"enabled":"disabled":"hidden";},callback(a){if(a.block){var b=a.block.toCopyData();b&&paste$$module$build$src$core$clipboard(b,a.block.workspace);}},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:"blockDuplicate",weight:1});};registerComment$$module$build$src$core$contextmenu_items=function registerComment$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?$.Msg$$module$build$src$core$msg.REMOVE_COMMENT:$.Msg$$module$build$src$core$msg.ADD_COMMENT;},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.workspace.options.comments&&!a.isCollapsed()&&a.isEditable()?"enabled":"hidden";},callback(a){a=a.block;a.hasIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE)?a.setCommentText(null):a.setCommentText("");},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:"blockComment",weight:2});};registerInline$$module$build$src$core$contextmenu_items=function registerInline$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.getInputsInline()?$.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:$.Msg$$module$build$src$core$msg.INLINE_INPUTS;},preconditionFn(a){a=a.block;if(!a.isInFlyout&&a.isMovable()&&!a.isCollapsed())for(var b=1;b<a.inputList.length;b++)if(!(a.inputList[b-1]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs||a.inputList[b]instanceof StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs))return"enabled";return"hidden";},callback(a){a.block.setInputsInline(!a.block.getInputsInline());},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:"blockInline",weight:3});};registerCollapseExpandBlock$$module$build$src$core$contextmenu_items=function registerCollapseExpandBlock$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.isCollapsed()?$.Msg$$module$build$src$core$msg.EXPAND_BLOCK:$.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK;},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.isMovable()&&a.workspace.options.collapse?"enabled":"hidden";},callback(a){a.block.setCollapsed(!a.block.isCollapsed());},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4});};registerDisable$$module$build$src$core$contextmenu_items=function registerDisable$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){return a.block.isEnabled()?$.Msg$$module$build$src$core$msg.DISABLE_BLOCK:$.Msg$$module$build$src$core$msg.ENABLE_BLOCK;},preconditionFn(a){a=a.block;return!a.isInFlyout&&a.workspace.options.disable&&a.isEditable()?a.getInheritedDisabled()?"disabled":"enabled":"hidden";},callback(a){a=a.block;var b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);a.setEnabled(!a.isEnabled());$.setGroup$$module$build$src$core$events$utils(b);},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:"blockDisable",weight:5});};registerDelete$$module$build$src$core$contextmenu_items=function registerDelete$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(a){var b=a.block;a=b.getDescendants(!1).length;(b=b.getNextBlock())&&(a-=b.getDescendants(!1).length);return 1===a?$.Msg$$module$build$src$core$msg.DELETE_BLOCK:$.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${a}`);},preconditionFn(a){return!a.block.isInFlyout&&a.block.isDeletable()?"enabled":"hidden";},callback(a){a.block&&a.block.checkAndDelete();},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:"blockDelete",weight:6});};registerHelp$$module$build$src$core$contextmenu_items=function registerHelp$$module$build$src$core$contextmenu_items(){ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.register({displayText(){return $.Msg$$module$build$src$core$msg.HELP;},preconditionFn(a){a=a.block;return("function"===typeof a.helpUrl?a.helpUrl():a.helpUrl)?"enabled":"hidden";},callback(a){a.block.showHelp();},scopeType:ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,id:"blockHelp",weight:7});};registerBlockOptions_$$module$build$src$core$contextmenu_items=function registerBlockOptions_$$module$build$src$core$contextmenu_items(){registerDuplicate$$module$build$src$core$contextmenu_items();registerComment$$module$build$src$core$contextmenu_items();registerInline$$module$build$src$core$contextmenu_items();registerCollapseExpandBlock$$module$build$src$core$contextmenu_items();registerDisable$$module$build$src$core$contextmenu_items();registerDelete$$module$build$src$core$contextmenu_items();registerHelp$$module$build$src$core$contextmenu_items();};registerDefaultOptions$$module$build$src$core$contextmenu_items=function registerDefaultOptions$$module$build$src$core$contextmenu_items(){registerWorkspaceOptions_$$module$build$src$core$contextmenu_items();registerBlockOptions_$$module$build$src$core$contextmenu_items();};inject$$module$build$src$core$inject=function inject$$module$build$src$core$inject(a,b){var c=null;c="string"===typeof a?document.getElementById(a)||document.querySelector(a):a;var d;if(!document.contains(c)&&document!==(null==(d=c)?void 0:d.ownerDocument))throw Error("Error: container is not in current document");a=new Options$$module$build$src$core$options(b||{});b=document.createElement("div");b.className="injectionDiv";b.tabIndex=0;setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.LABEL,$.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL);c.appendChild(b);c=createDom$$module$build$src$core$inject(b,a);var e=createMainWorkspace$$module$build$src$core$inject(b,c,a);init$$module$build$src$core$inject(e);setMainWorkspace$$module$build$src$core$common(e);svgResize$$module$build$src$core$common(e);b.addEventListener("focusin",function(){setMainWorkspace$$module$build$src$core$common(e);});return e;};createDom$$module$build$src$core$inject=function createDom$$module$build$src$core$inject(a,b){a.setAttribute("dir","LTR");inject$$module$build$src$core$css(b.hasCss,b.pathToMedia);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{xmlns:SVG_NS$$module$build$src$core$utils$dom,"xmlns:html":HTML_NS$$module$build$src$core$utils$dom,"xmlns:xlink":XLINK_NS$$module$build$src$core$utils$dom,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,{},a),d=String(Math.random()).substring(2);b.gridPattern=Grid$$module$build$src$core$grid.createDom(d,b.gridOptions,c);return a;};createMainWorkspace$$module$build$src$core$inject=function createMainWorkspace$$module$build$src$core$inject(a,b,c){c.parentWorkspace=null;c=new WorkspaceSvg$$module$build$src$core$workspace_svg(c);var d=c.options;c.scale=d.zoomOptions.startScale;b.appendChild(c.createDom("blocklyMainBackground",a));var e=c.getRenderer().getClassName();e&&addClass$$module$build$src$core$utils$dom(a,e);(e=c.getTheme().getClassName())&&addClass$$module$build$src$core$utils$dom(a,e);!d.hasCategories&&d.languageTree&&(a=c.addFlyout(Svg$$module$build$src$core$utils$svg.SVG),insertAfter$$module$build$src$core$utils$dom(a,b));d.hasTrashcan&&c.addTrashcan();d.zoomOptions&&d.zoomOptions.controls&&c.addZoomControls();c.getThemeManager().subscribe(b,"workspaceBackgroundColour","background-color");c.translate(0,0);c.addChangeListener(bumpIntoBoundsHandler$$module$build$src$core$bump_objects(c));svgResize$$module$build$src$core$common(c);createDom$$module$build$src$core$widgetdiv();createDom$$module$build$src$core$dropdowndiv();createDom$$module$build$src$core$tooltip();return c;};init$$module$build$src$core$inject=function init$$module$build$src$core$inject(a){var b=a.options;var c=a.getParentSvg();conditionalBind$$module$build$src$core$browser_events(c.parentNode,"contextmenu",null,function(d){isTargetInput$$module$build$src$core$browser_events(d)||d.preventDefault();});c=conditionalBind$$module$build$src$core$browser_events(window,"resize",null,function(){hide$$module$build$src$core$tooltip();a.hideComponents(!0);repositionForWindowResize$$module$build$src$core$dropdowndiv();repositionForWindowResize$$module$build$src$core$widgetdiv();svgResize$$module$build$src$core$common(a);bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects(a);});a.setResizeHandlerWrapper(c);bindDocumentEvents$$module$build$src$core$inject();if(b.languageTree){c=a.getToolbox();var d=a.getFlyout(!0);c?c.init():d&&(d.init(a),d.show(b.languageTree),"function"===typeof d.scrollToStart&&d.scrollToStart());}b.hasTrashcan&&a.trashcan.init();b.zoomOptions&&b.zoomOptions.controls&&a.zoomControls_.init();b.moveOptions&&b.moveOptions.scrollbars?(a.scrollbar=new ScrollbarPair$$module$build$src$core$scrollbar_pair(a,!0===b.moveOptions.scrollbars||!!b.moveOptions.scrollbars.horizontal,!0===b.moveOptions.scrollbars||!!b.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),a.scrollbar.resize()):a.setMetrics({x:.5,y:.5});b.hasSounds&&loadSounds$$module$build$src$core$inject(b.pathToMedia,a);};onKeyDown$$module$build$src$core$inject=function onKeyDown$$module$build$src$core$inject(a){var b=getMainWorkspace$$module$build$src$core$common();if(b&&!(isTargetInput$$module$build$src$core$browser_events(a)||b.rendered&&!b.isVisible()))_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry.onKeyDown(b,a);};bindDocumentEvents$$module$build$src$core$inject=function bindDocumentEvents$$module$build$src$core$inject(){documentEventsBound$$module$build$src$core$inject||(conditionalBind$$module$build$src$core$browser_events(document,"scroll",null,function(){var a=getAllWorkspaces$$module$build$src$core$common();for(var b=0,c;c=a[b];b++)c instanceof WorkspaceSvg$$module$build$src$core$workspace_svg&&c.updateInverseScreenCTM();}),conditionalBind$$module$build$src$core$browser_events(document,"keydown",null,onKeyDown$$module$build$src$core$inject),bind$$module$build$src$core$browser_events(document,"touchend",null,longStop$$module$build$src$core$touch),bind$$module$build$src$core$browser_events(document,"touchcancel",null,longStop$$module$build$src$core$touch),IPAD$$module$build$src$core$utils$useragent&&conditionalBind$$module$build$src$core$browser_events(window,"orientationchange",document,function(){svgResize$$module$build$src$core$common(getMainWorkspace$$module$build$src$core$common());}));documentEventsBound$$module$build$src$core$inject=!0;};loadSounds$$module$build$src$core$inject=function loadSounds$$module$build$src$core$inject(a,b){function c(){for(;e.length;){var f=e.pop();f&&unbind$$module$build$src$core$browser_events(f);}d.preload();}var d=b.getAudioManager();d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var e=[];e.push(conditionalBind$$module$build$src$core$browser_events(document,"pointermove",null,c,!0));e.push(conditionalBind$$module$build$src$core$browser_events(document,"touchstart",null,c,!0));};isIcon$$module$build$src$core$interfaces$i_icon=function isIcon$$module$build$src$core$interfaces$i_icon(a){return void 0!==a.getType&&void 0!==a.initView&&void 0!==a.dispose&&void 0!==a.getWeight&&void 0!==a.getSize&&void 0!==a.applyColour&&void 0!==a.hideForInsertionMarker&&void 0!==a.updateEditable&&void 0!==a.updateCollapsed&&void 0!==a.isShownWhenCollapsed&&void 0!==a.setOffsetInBlock&&void 0!==a.onLocationChange&&void 0!==a.onClick;};isPaster$$module$build$src$core$interfaces$i_paster=function isPaster$$module$build$src$core$interfaces$i_paster(a){return void 0!==a.paste;};isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item=function isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item(a){return a.isSelectable();};hideChaff$$module$build$src$core$blockly=function hideChaff$$module$build$src$core$blockly(a){getMainWorkspace$$module$build$src$core$common().hideChaff(a);};isRenderedElement$$module$build$src$core$interfaces$i_rendered_element=function isRenderedElement$$module$build$src$core$interfaces$i_rendered_element(a){return void 0!==a.getSvgRoot;};$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a;};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c;}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function $jscomp$lookupPolyfilledValue(a,b,c){if(!c||null!=a){c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b];}};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d));};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e];}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b});};$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g];}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})));};$jscomp.polyfill("globalThis",function(a){return a||$jscomp.global;},"es_2020","es3");$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0};};};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)};};$jscomp.initSymbol=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this;};return a;};$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function next(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1};}d=!0;return{done:!0,value:void 0};}};e[Symbol.iterator]=function(){return e;};return e;};$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b,c){return c;});};},"es8","es3");$jscomp.polyfill("Array.prototype.flat",function(a){return a?a:function(b){b=void 0===b?1:b;var c=[];Array.prototype.forEach.call(this,function(d){Array.isArray(d)&&0<b?(d=Array.prototype.flat.call(d,b-1),c.push.apply(c,d)):c.push(d);});return c;};},"es9","es5");$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};$jscomp.polyfill("Object.entries",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push([d,b[d]]);return c;};},"es8","es3");$jscomp.polyfill("Object.values",function(a){return a?a:function(b){var c=[],d;for(d in b)$jscomp.owns(b,d)&&c.push(b[d]);return c;};},"es8","es3");var typeMap$$module$build$src$core$registry=Object.create(null),TEST_ONLY$$module$build$src$core$registry={typeMap:typeMap$$module$build$src$core$registry},nameMap$$module$build$src$core$registry=Object.create(null),DEFAULT$$module$build$src$core$registry="default",Type$$module$build$src$core$registry=/*#__PURE__*/function(){"use strict";function Type$$module$build$src$core$registry(a){_classCallCheck(this,Type$$module$build$src$core$registry);this.name=a;}_createClass(Type$$module$build$src$core$registry,[{key:"toString",value:function toString(){return this.name;}}]);return Type$$module$build$src$core$registry;}();Type$$module$build$src$core$registry.CONNECTION_CHECKER=new Type$$module$build$src$core$registry("connectionChecker");Type$$module$build$src$core$registry.CURSOR=new Type$$module$build$src$core$registry("cursor");Type$$module$build$src$core$registry.EVENT=new Type$$module$build$src$core$registry("event");Type$$module$build$src$core$registry.FIELD=new Type$$module$build$src$core$registry("field");Type$$module$build$src$core$registry.INPUT=new Type$$module$build$src$core$registry("input");Type$$module$build$src$core$registry.RENDERER=new Type$$module$build$src$core$registry("renderer");Type$$module$build$src$core$registry.TOOLBOX=new Type$$module$build$src$core$registry("toolbox");Type$$module$build$src$core$registry.THEME=new Type$$module$build$src$core$registry("theme");Type$$module$build$src$core$registry.TOOLBOX_ITEM=new Type$$module$build$src$core$registry("toolboxItem");Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX=new Type$$module$build$src$core$registry("flyoutsVerticalToolbox");Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX=new Type$$module$build$src$core$registry("flyoutsHorizontalToolbox");Type$$module$build$src$core$registry.METRICS_MANAGER=new Type$$module$build$src$core$registry("metricsManager");Type$$module$build$src$core$registry.BLOCK_DRAGGER=new Type$$module$build$src$core$registry("blockDragger");Type$$module$build$src$core$registry.SERIALIZER=new Type$$module$build$src$core$registry("serializer");Type$$module$build$src$core$registry.ICON=new Type$$module$build$src$core$registry("icon");Type$$module$build$src$core$registry.PASTER=new Type$$module$build$src$core$registry("paster");var module$build$src$core$registry={DEFAULT:DEFAULT$$module$build$src$core$registry,TEST_ONLY:TEST_ONLY$$module$build$src$core$registry};module$build$src$core$registry.Type=Type$$module$build$src$core$registry;module$build$src$core$registry.getAllItems=getAllItems$$module$build$src$core$registry;module$build$src$core$registry.getClass=getClass$$module$build$src$core$registry;module$build$src$core$registry.getClassFromOptions=getClassFromOptions$$module$build$src$core$registry;module$build$src$core$registry.getObject=getObject$$module$build$src$core$registry;module$build$src$core$registry.hasItem=hasItem$$module$build$src$core$registry;module$build$src$core$registry.register=register$$module$build$src$core$registry;module$build$src$core$registry.unregister=unregister$$module$build$src$core$registry;var Blocks$$module$build$src$core$blocks=Object.create(null),module$build$src$core$blocks={Blocks:Blocks$$module$build$src$core$blocks};var WorkspaceDB_$$module$build$src$core$common=Object.create(null),mainWorkspace$$module$build$src$core$common,selected$$module$build$src$core$common=null,parentContainer$$module$build$src$core$common,draggingConnections$$module$build$src$core$common=[],TEST_ONLY$$module$build$src$core$common={defineBlocksWithJsonArrayInternal:defineBlocksWithJsonArrayInternal$$module$build$src$core$common},module$build$src$core$common={TEST_ONLY:TEST_ONLY$$module$build$src$core$common};module$build$src$core$common.createBlockDefinitionsFromJsonArray=$.createBlockDefinitionsFromJsonArray$$module$build$src$core$common;module$build$src$core$common.defineBlocks=$.defineBlocks$$module$build$src$core$common;module$build$src$core$common.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;module$build$src$core$common.draggingConnections=draggingConnections$$module$build$src$core$common;module$build$src$core$common.getAllWorkspaces=getAllWorkspaces$$module$build$src$core$common;module$build$src$core$common.getBlockTypeCounts=getBlockTypeCounts$$module$build$src$core$common;module$build$src$core$common.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;module$build$src$core$common.getParentContainer=getParentContainer$$module$build$src$core$common;module$build$src$core$common.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$common.getWorkspaceById=getWorkspaceById$$module$build$src$core$common;module$build$src$core$common.registerWorkspace=registerWorkspace$$module$build$src$core$common;module$build$src$core$common.setMainWorkspace=setMainWorkspace$$module$build$src$core$common;module$build$src$core$common.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$common.setSelected=setSelected$$module$build$src$core$common;module$build$src$core$common.svgResize=svgResize$$module$build$src$core$common;module$build$src$core$common.unregisterWorkpace=unregisterWorkpace$$module$build$src$core$common;var soup$$module$build$src$core$utils$idgenerator="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",internal$$module$build$src$core$utils$idgenerator={genUid:function genUid(){var a=soup$$module$build$src$core$utils$idgenerator.length,b=[];for(var c=0;20>c;c++)b[c]=soup$$module$build$src$core$utils$idgenerator.charAt(Math.random()*a);return b.join("");}},TEST_ONLY$$module$build$src$core$utils$idgenerator=internal$$module$build$src$core$utils$idgenerator,nextId$$module$build$src$core$utils$idgenerator=0,module$build$src$core$utils$idgenerator={TEST_ONLY:internal$$module$build$src$core$utils$idgenerator};module$build$src$core$utils$idgenerator.genUid=genUid$$module$build$src$core$utils$idgenerator;module$build$src$core$utils$idgenerator.getNextUniqueId=getNextUniqueId$$module$build$src$core$utils$idgenerator;var group$$module$build$src$core$events$utils,recordUndo$$module$build$src$core$events$utils,disabled$$module$build$src$core$events$utils,BLOCK_CREATE$$module$build$src$core$events$utils,BLOCK_DELETE$$module$build$src$core$events$utils,BLOCK_CHANGE$$module$build$src$core$events$utils,BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils,BLOCK_MOVE$$module$build$src$core$events$utils,VAR_CREATE$$module$build$src$core$events$utils,VAR_DELETE$$module$build$src$core$events$utils,VAR_RENAME$$module$build$src$core$events$utils,UI$$module$build$src$core$events$utils,BLOCK_DRAG$$module$build$src$core$events$utils,SELECTED$$module$build$src$core$events$utils,CLICK$$module$build$src$core$events$utils,MARKER_MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN$$module$build$src$core$events$utils,TRASHCAN_OPEN$$module$build$src$core$events$utils,TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils,THEME_CHANGE$$module$build$src$core$events$utils,VIEWPORT_CHANGE$$module$build$src$core$events$utils,COMMENT_CREATE$$module$build$src$core$events$utils,COMMENT_DELETE$$module$build$src$core$events$utils,COMMENT_CHANGE$$module$build$src$core$events$utils,COMMENT_MOVE$$module$build$src$core$events$utils,FINISHED_LOADING$$module$build$src$core$events$utils,BUMP_EVENTS$$module$build$src$core$events$utils,FIRE_QUEUE$$module$build$src$core$events$utils,TEST_ONLY$$module$build$src$core$events$utils,module$build$src$core$events$utils;group$$module$build$src$core$events$utils="";recordUndo$$module$build$src$core$events$utils=!0;disabled$$module$build$src$core$events$utils=0;$.CREATE$$module$build$src$core$events$utils="create";BLOCK_CREATE$$module$build$src$core$events$utils=$.CREATE$$module$build$src$core$events$utils;$.DELETE$$module$build$src$core$events$utils="delete";BLOCK_DELETE$$module$build$src$core$events$utils=$.DELETE$$module$build$src$core$events$utils;$.CHANGE$$module$build$src$core$events$utils="change";BLOCK_CHANGE$$module$build$src$core$events$utils=$.CHANGE$$module$build$src$core$events$utils;BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils="block_field_intermediate_change";$.MOVE$$module$build$src$core$events$utils="move";BLOCK_MOVE$$module$build$src$core$events$utils=$.MOVE$$module$build$src$core$events$utils;VAR_CREATE$$module$build$src$core$events$utils="var_create";VAR_DELETE$$module$build$src$core$events$utils="var_delete";VAR_RENAME$$module$build$src$core$events$utils="var_rename";UI$$module$build$src$core$events$utils="ui";BLOCK_DRAG$$module$build$src$core$events$utils="drag";SELECTED$$module$build$src$core$events$utils="selected";CLICK$$module$build$src$core$events$utils="click";MARKER_MOVE$$module$build$src$core$events$utils="marker_move";BUBBLE_OPEN$$module$build$src$core$events$utils="bubble_open";TRASHCAN_OPEN$$module$build$src$core$events$utils="trashcan_open";TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils="toolbox_item_select";THEME_CHANGE$$module$build$src$core$events$utils="theme_change";VIEWPORT_CHANGE$$module$build$src$core$events$utils="viewport_change";COMMENT_CREATE$$module$build$src$core$events$utils="comment_create";COMMENT_DELETE$$module$build$src$core$events$utils="comment_delete";COMMENT_CHANGE$$module$build$src$core$events$utils="comment_change";COMMENT_MOVE$$module$build$src$core$events$utils="comment_move";FINISHED_LOADING$$module$build$src$core$events$utils="finished_loading";BUMP_EVENTS$$module$build$src$core$events$utils=[$.CREATE$$module$build$src$core$events$utils,$.MOVE$$module$build$src$core$events$utils,COMMENT_CREATE$$module$build$src$core$events$utils,COMMENT_MOVE$$module$build$src$core$events$utils];FIRE_QUEUE$$module$build$src$core$events$utils=[];TEST_ONLY$$module$build$src$core$events$utils={FIRE_QUEUE:FIRE_QUEUE$$module$build$src$core$events$utils,fireNow:fireNow$$module$build$src$core$events$utils,fireInternal:fireInternal$$module$build$src$core$events$utils,setGroupInternal:setGroupInternal$$module$build$src$core$events$utils};module$build$src$core$events$utils={BLOCK_CHANGE:$.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE:$.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE:$.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG:BLOCK_DRAG$$module$build$src$core$events$utils,BLOCK_FIELD_INTERMEDIATE_CHANGE:BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils,BLOCK_MOVE:$.MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN:BUBBLE_OPEN$$module$build$src$core$events$utils,BUMP_EVENTS:BUMP_EVENTS$$module$build$src$core$events$utils,CHANGE:$.CHANGE$$module$build$src$core$events$utils,CLICK:CLICK$$module$build$src$core$events$utils,COMMENT_CHANGE:COMMENT_CHANGE$$module$build$src$core$events$utils,COMMENT_CREATE:COMMENT_CREATE$$module$build$src$core$events$utils,COMMENT_DELETE:COMMENT_DELETE$$module$build$src$core$events$utils,COMMENT_MOVE:COMMENT_MOVE$$module$build$src$core$events$utils,CREATE:$.CREATE$$module$build$src$core$events$utils,DELETE:$.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING:FINISHED_LOADING$$module$build$src$core$events$utils,MARKER_MOVE:MARKER_MOVE$$module$build$src$core$events$utils,MOVE:$.MOVE$$module$build$src$core$events$utils,SELECTED:SELECTED$$module$build$src$core$events$utils,TEST_ONLY:TEST_ONLY$$module$build$src$core$events$utils,THEME_CHANGE:THEME_CHANGE$$module$build$src$core$events$utils,TOOLBOX_ITEM_SELECT:TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils,TRASHCAN_OPEN:TRASHCAN_OPEN$$module$build$src$core$events$utils,UI:UI$$module$build$src$core$events$utils,VAR_CREATE:VAR_CREATE$$module$build$src$core$events$utils,VAR_DELETE:VAR_DELETE$$module$build$src$core$events$utils,VAR_RENAME:VAR_RENAME$$module$build$src$core$events$utils,VIEWPORT_CHANGE:VIEWPORT_CHANGE$$module$build$src$core$events$utils};module$build$src$core$events$utils.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$utils.disableOrphans=disableOrphans$$module$build$src$core$events$utils;module$build$src$core$events$utils.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$utils.filter=filter$$module$build$src$core$events$utils;module$build$src$core$events$utils.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$utils.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$utils.get=get$$module$build$src$core$events$utils;module$build$src$core$events$utils.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;module$build$src$core$events$utils.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;module$build$src$core$events$utils.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$utils.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$utils.setRecordUndo=setRecordUndo$$module$build$src$core$events$utils;var Abstract$$module$build$src$core$events$events_abstract=/*#__PURE__*/function(){"use strict";function Abstract$$module$build$src$core$events$events_abstract(){_classCallCheck(this,Abstract$$module$build$src$core$events$events_abstract);this.workspaceId=void 0;this.isUiEvent=!1;this.type="";this.group=$.getGroup$$module$build$src$core$events$utils();this.recordUndo=getRecordUndo$$module$build$src$core$events$utils();}_createClass(Abstract$$module$build$src$core$events$events_abstract,[{key:"toJson",value:function toJson(){return{type:this.type,group:this.group};}},{key:"isNull",value:function isNull(){return!1;}},{key:"run",value:function run(a){}},{key:"getEventWorkspace_",value:function getEventWorkspace_(){var a;this.workspaceId&&(a=getWorkspaceById$$module$build$src$core$common(this.workspaceId));if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){c.isBlank=!1;c.group=a.group||"";c.workspaceId=b.id;return c;}}]);return Abstract$$module$build$src$core$events$events_abstract;}(),module$build$src$core$events$events_abstract={};module$build$src$core$events$events_abstract.Abstract=Abstract$$module$build$src$core$events$events_abstract;var UiBase$$module$build$src$core$events$events_ui_base=/*#__PURE__*/function(_Abstract$$module$bui){"use strict";_inherits(UiBase$$module$build$src$core$events$events_ui_base,_Abstract$$module$bui);function UiBase$$module$build$src$core$events$events_ui_base(a){var _this;_classCallCheck(this,UiBase$$module$build$src$core$events$events_ui_base);_this=_callSuper(this,UiBase$$module$build$src$core$events$events_ui_base);_this.recordUndo=!1;_this.isUiEvent=!0;_this.isBlank="undefined"===typeof a;_this.workspaceId=a?a:"";return _this;}return _createClass(UiBase$$module$build$src$core$events$events_ui_base);}(Abstract$$module$build$src$core$events$events_abstract),module$build$src$core$events$events_ui_base={};module$build$src$core$events$events_ui_base.UiBase=UiBase$$module$build$src$core$events$events_ui_base;var Click$$module$build$src$core$events$events_click=/*#__PURE__*/function(_UiBase$$module$build){"use strict";_inherits(Click$$module$build$src$core$events$events_click,_UiBase$$module$build);function Click$$module$build$src$core$events$events_click(a,b,c){var _this2;_classCallCheck(this,Click$$module$build$src$core$events$events_click);b=a?a.workspace.id:b;null===b&&(b=void 0);_this2=_callSuper(this,Click$$module$build$src$core$events$events_click,[b]);_this2.type=CLICK$$module$build$src$core$events$utils;_this2.blockId=a?a.id:void 0;_this2.targetType=c;return _this2;}_createClass(Click$$module$build$src$core$events$events_click,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(Click$$module$build$src$core$events$events_click.prototype),"toJson",this).call(this);if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");a.targetType=this.targetType;a.blockId=this.blockId;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(Click$$module$build$src$core$events$events_click),"fromJson",this).call(this,a,b,null!=c?c:new Click$$module$build$src$core$events$events_click());b.targetType=a.targetType;b.blockId=a.blockId;return b;}}]);return Click$$module$build$src$core$events$events_click;}(UiBase$$module$build$src$core$events$events_ui_base),ClickTarget$$module$build$src$core$events$events_click;(function(a){a.BLOCK="block";a.WORKSPACE="workspace";a.ZOOM_CONTROLS="zoom_controls";})(ClickTarget$$module$build$src$core$events$events_click||(ClickTarget$$module$build$src$core$events$events_click={}));register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,CLICK$$module$build$src$core$events$utils,Click$$module$build$src$core$events$events_click);var module$build$src$core$events$events_click={};module$build$src$core$events$events_click.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events_click.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;var LONGPRESS$$module$build$src$core$touch=750,TOUCH_ENABLED$$module$build$src$core$touch="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),touchIdentifier_$$module$build$src$core$touch=null,TOUCH_MAP$$module$build$src$core$touch={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},longPid_$$module$build$src$core$touch=0,module$build$src$core$touch={TOUCH_ENABLED:TOUCH_ENABLED$$module$build$src$core$touch,TOUCH_MAP:TOUCH_MAP$$module$build$src$core$touch};module$build$src$core$touch.checkTouchIdentifier=checkTouchIdentifier$$module$build$src$core$touch;module$build$src$core$touch.clearTouchIdentifier=clearTouchIdentifier$$module$build$src$core$touch;module$build$src$core$touch.getTouchIdentifierFromEvent=getTouchIdentifierFromEvent$$module$build$src$core$touch;module$build$src$core$touch.longStart=longStart$$module$build$src$core$touch;module$build$src$core$touch.longStop=longStop$$module$build$src$core$touch;module$build$src$core$touch.shouldHandleEvent=shouldHandleEvent$$module$build$src$core$touch;var rawUserAgent$$module$build$src$core$utils$useragent,isJavaFx$$module$build$src$core$utils$useragent,isWebKit$$module$build$src$core$utils$useragent,isGecko$$module$build$src$core$utils$useragent,isAndroid$$module$build$src$core$utils$useragent,isIPad$$module$build$src$core$utils$useragent,isIPhone$$module$build$src$core$utils$useragent,isMac$$module$build$src$core$utils$useragent,isTablet$$module$build$src$core$utils$useragent,isMobile$$module$build$src$core$utils$useragent;(function(a){function b(d){return-1!==c.indexOf(d.toUpperCase());}rawUserAgent$$module$build$src$core$utils$useragent=a;var c=rawUserAgent$$module$build$src$core$utils$useragent.toUpperCase();isJavaFx$$module$build$src$core$utils$useragent=b("JavaFX");isWebKit$$module$build$src$core$utils$useragent=b("WebKit");isGecko$$module$build$src$core$utils$useragent=b("Gecko")&&!isWebKit$$module$build$src$core$utils$useragent;isAndroid$$module$build$src$core$utils$useragent=b("Android");a=globalThis.navigator&&globalThis.navigator.maxTouchPoints;isIPad$$module$build$src$core$utils$useragent=b("iPad")||b("Macintosh")&&0<a;isIPhone$$module$build$src$core$utils$useragent=b("iPhone")&&!isIPad$$module$build$src$core$utils$useragent;isMac$$module$build$src$core$utils$useragent=b("Macintosh");isTablet$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent&&!b("Mobile")||b("Silk");isMobile$$module$build$src$core$utils$useragent=!isTablet$$module$build$src$core$utils$useragent&&(isIPhone$$module$build$src$core$utils$useragent||isAndroid$$module$build$src$core$utils$useragent);})(globalThis.navigator&&globalThis.navigator.userAgent||"");var raw$$module$build$src$core$utils$useragent=rawUserAgent$$module$build$src$core$utils$useragent,JavaFx$$module$build$src$core$utils$useragent=isJavaFx$$module$build$src$core$utils$useragent,GECKO$$module$build$src$core$utils$useragent=isGecko$$module$build$src$core$utils$useragent,ANDROID$$module$build$src$core$utils$useragent=isAndroid$$module$build$src$core$utils$useragent,IPAD$$module$build$src$core$utils$useragent=isIPad$$module$build$src$core$utils$useragent,IPHONE$$module$build$src$core$utils$useragent=isIPhone$$module$build$src$core$utils$useragent,MAC$$module$build$src$core$utils$useragent=isMac$$module$build$src$core$utils$useragent,MOBILE$$module$build$src$core$utils$useragent=isMobile$$module$build$src$core$utils$useragent,module$build$src$core$utils$useragent={ANDROID:ANDROID$$module$build$src$core$utils$useragent,GECKO:GECKO$$module$build$src$core$utils$useragent,IPAD:IPAD$$module$build$src$core$utils$useragent,IPHONE:IPHONE$$module$build$src$core$utils$useragent,JavaFx:JavaFx$$module$build$src$core$utils$useragent,MAC:MAC$$module$build$src$core$utils$useragent,MOBILE:MOBILE$$module$build$src$core$utils$useragent,raw:raw$$module$build$src$core$utils$useragent};var LINE_MODE_MULTIPLIER$$module$build$src$core$browser_events=40,PAGE_MODE_MULTIPLIER$$module$build$src$core$browser_events=125,module$build$src$core$browser_events={};module$build$src$core$browser_events.bind=bind$$module$build$src$core$browser_events;module$build$src$core$browser_events.conditionalBind=conditionalBind$$module$build$src$core$browser_events;module$build$src$core$browser_events.getScrollDeltaPixels=getScrollDeltaPixels$$module$build$src$core$browser_events;module$build$src$core$browser_events.isRightButton=isRightButton$$module$build$src$core$browser_events;module$build$src$core$browser_events.isTargetInput=isTargetInput$$module$build$src$core$browser_events;module$build$src$core$browser_events.mouseToSvg=mouseToSvg$$module$build$src$core$browser_events;module$build$src$core$browser_events.unbind=unbind$$module$build$src$core$browser_events;var module$build$src$core$utils$array={};module$build$src$core$utils$array.removeElem=removeElem$$module$build$src$core$utils$array;var Capability$$module$build$src$core$component_manager=/*#__PURE__*/function(){"use strict";function Capability$$module$build$src$core$component_manager(a){_classCallCheck(this,Capability$$module$build$src$core$component_manager);this.name_=a;}_createClass(Capability$$module$build$src$core$component_manager,[{key:"toString",value:function toString(){return this.name_;}}]);return Capability$$module$build$src$core$component_manager;}();Capability$$module$build$src$core$component_manager.POSITIONABLE=new Capability$$module$build$src$core$component_manager("positionable");Capability$$module$build$src$core$component_manager.DRAG_TARGET=new Capability$$module$build$src$core$component_manager("drag_target");Capability$$module$build$src$core$component_manager.DELETE_AREA=new Capability$$module$build$src$core$component_manager("delete_area");Capability$$module$build$src$core$component_manager.AUTOHIDEABLE=new Capability$$module$build$src$core$component_manager("autohideable");var ComponentManager$$module$build$src$core$component_manager=/*#__PURE__*/function(){"use strict";function ComponentManager$$module$build$src$core$component_manager(){_classCallCheck(this,ComponentManager$$module$build$src$core$component_manager);this.componentData=new Map();this.capabilityToComponentIds=new Map();}_createClass(ComponentManager$$module$build$src$core$component_manager,[{key:"addComponent",value:function addComponent(a,b){var c=a.component.id;if(!b&&this.componentData.has(c)){var d;throw Error('Plugin "'+c+'" with capabilities "'+(null==(d=this.componentData.get(c))?void 0:d.capabilities)+'" already added.');}this.componentData.set(c,a);b=[];for(d=0;d<a.capabilities.length;d++){var e=String(a.capabilities[d]).toLowerCase();b.push(e);if(this.capabilityToComponentIds.has(e)){var f=void 0;null==(f=this.capabilityToComponentIds.get(e))||f.push(c);}else this.capabilityToComponentIds.set(e,[c]);}this.componentData.get(c).capabilities=b;}},{key:"removeComponent",value:function removeComponent(a){var b=this.componentData.get(a);if(b){for(var c=0;c<b.capabilities.length;c++){var d=String(b.capabilities[c]).toLowerCase();removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(d),a);}this.componentData.delete(a);}}},{key:"addCapability",value:function addCapability(a,b){if(!this.getComponent(a))throw Error('Cannot add capability, "'+b+'". Plugin "'+a+'" has not been added to the ComponentManager');if(this.hasCapability(a,b))console.warn('Plugin "'+a+'already has capability "'+b+'"');else{b=`${b}`.toLowerCase();var c;null==(c=this.componentData.get(a))||c.capabilities.push(b);var d;null==(d=this.capabilityToComponentIds.get(b))||d.push(a);}}},{key:"removeCapability",value:function removeCapability(a,b){if(!this.getComponent(a))throw Error('Cannot remove capability, "'+b+'". Plugin "'+a+'" has not been added to the ComponentManager');this.hasCapability(a,b)?(b=`${b}`.toLowerCase(),removeElem$$module$build$src$core$utils$array(this.componentData.get(a).capabilities,b),removeElem$$module$build$src$core$utils$array(this.capabilityToComponentIds.get(b),a)):console.warn('Plugin "'+a+"doesn't have capability \""+b+'" to remove');}},{key:"hasCapability",value:function hasCapability(a,b){b=`${b}`.toLowerCase();return this.componentData.has(a)&&-1!==this.componentData.get(a).capabilities.indexOf(b);}},{key:"getComponent",value:function getComponent(a){var b;return null==(b=this.componentData.get(a))?void 0:b.component;}},{key:"getComponents",value:function getComponents(a,b){var _this3=this;a=`${a}`.toLowerCase();a=this.capabilityToComponentIds.get(a);if(!a)return[];var c=[];if(b){var d=[];a.forEach(function(e){d.push(_this3.componentData.get(e));});d.sort(function(e,f){return e.weight-f.weight;});d.forEach(function(e){c.push(e.component);});}else a.forEach(function(d){c.push(_this3.componentData.get(d).component);});return c;}}]);return ComponentManager$$module$build$src$core$component_manager;}();ComponentManager$$module$build$src$core$component_manager.Capability=Capability$$module$build$src$core$component_manager;var module$build$src$core$component_manager={};module$build$src$core$component_manager.ComponentManager=ComponentManager$$module$build$src$core$component_manager;var injected$$module$build$src$core$css=!1,content$$module$build$src$core$css='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n}\n\n.blocklyNonSelectable {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  /* @todo: spec for maximum height. */\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n}\n\n.blocklyDropDownButton {\n  display: inline-block;\n  float: left;\n  padding: 0;\n  margin: 4px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid;\n  transition: box-shadow .1s;\n  cursor: pointer;\n}\n\n.blocklyArrowTop {\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyArrowBottom {\n  border-bottom: 1px solid;\n  border-right: 1px solid;\n  border-bottom-right-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyResizeSE {\n  cursor: se-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeSW {\n  cursor: sw-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeLine {\n  stroke: #515A5A;\n  stroke-width: 1;\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n.blocklyDragging {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabled>.blocklyPath {\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyMultilineText {\n  font-family: monospace;\n}\n\n.blocklyNonEditableText>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n/*\n  Don\'t allow users to select text.  It gets annoying when trying to\n  drag a block and selected text moves instead.\n*/\n.blocklySvg text {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  cursor: inherit;\n}\n\n.blocklyHidden {\n  display: none;\n}\n\n.blocklyFieldDropdown:not(.blocklyHidden) {\n  display: block;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Remove the increase and decrease arrows on the field number editor */\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  position: relative;  /* Compatibility with gapi, reset from goog-menu */\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n\n.blocklyBlockDragSurface {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 80;\n  pointer-events: none;\n}\n',module$build$src$core$css={};module$build$src$core$css.inject=inject$$module$build$src$core$css;module$build$src$core$css.register=register$$module$build$src$core$css;var Coordinate$$module$build$src$core$utils$coordinate=/*#__PURE__*/function(){"use strict";function Coordinate$$module$build$src$core$utils$coordinate(a,b){_classCallCheck(this,Coordinate$$module$build$src$core$utils$coordinate);this.x=a;this.y=b;}_createClass(Coordinate$$module$build$src$core$utils$coordinate,[{key:"clone",value:function clone(){return new Coordinate$$module$build$src$core$utils$coordinate(this.x,this.y);}},{key:"scale",value:function scale(a){this.x*=a;this.y*=a;return this;}},{key:"translate",value:function translate(a,b){this.x+=a;this.y+=b;return this;}}],[{key:"equals",value:function equals(a,b){return a===b?!0:a&&b?a.x===b.x&&a.y===b.y:!1;}},{key:"distance",value:function distance(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a);}},{key:"magnitude",value:function magnitude(a){return Math.sqrt(a.x*a.x+a.y*a.y);}},{key:"difference",value:function difference(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x-b.x,a.y-b.y);}},{key:"sum",value:function sum(a,b){return new Coordinate$$module$build$src$core$utils$coordinate(a.x+b.x,a.y+b.y);}}]);return Coordinate$$module$build$src$core$utils$coordinate;}(),module$build$src$core$utils$coordinate={};module$build$src$core$utils$coordinate.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;var module$build$src$core$utils$deprecation={};module$build$src$core$utils$deprecation.warn=warn$$module$build$src$core$utils$deprecation;var SVG_NS$$module$build$src$core$utils$dom="http://www.w3.org/2000/svg",HTML_NS$$module$build$src$core$utils$dom="http://www.w3.org/1999/xhtml",XLINK_NS$$module$build$src$core$utils$dom="http://www.w3.org/1999/xlink",NodeType$$module$build$src$core$utils$dom;(function(a){a[a.ELEMENT_NODE=1]="ELEMENT_NODE";a[a.TEXT_NODE=3]="TEXT_NODE";a[a.COMMENT_NODE=8]="COMMENT_NODE";})(NodeType$$module$build$src$core$utils$dom||(NodeType$$module$build$src$core$utils$dom={}));var cacheWidths$$module$build$src$core$utils$dom=null,cacheReference$$module$build$src$core$utils$dom=0,canvasContext$$module$build$src$core$utils$dom=null,module$build$src$core$utils$dom={HTML_NS:HTML_NS$$module$build$src$core$utils$dom};module$build$src$core$utils$dom.NodeType=NodeType$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.SVG_NS=SVG_NS$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.XLINK_NS=XLINK_NS$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.addClass=addClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.containsNode=containsNode$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.createSvgElement=createSvgElement$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidth=getFastTextWidth$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getFastTextWidthWithSizeString=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.getTextWidth=getTextWidth$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.hasClass=hasClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.insertAfter=insertAfter$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.measureFontMetrics=measureFontMetrics$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClass=removeClass$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeClasses=removeClasses$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.removeNode=removeNode$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.setCssTransform=setCssTransform$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.startTextWidthCache=startTextWidthCache$$module$build$src$core$utils$dom;module$build$src$core$utils$dom.stopTextWidthCache=stopTextWidthCache$$module$build$src$core$utils$dom;var Svg$$module$build$src$core$utils$svg=/*#__PURE__*/function(){"use strict";function Svg$$module$build$src$core$utils$svg(a){_classCallCheck(this,Svg$$module$build$src$core$utils$svg);this.tagName=a;}_createClass(Svg$$module$build$src$core$utils$svg,[{key:"toString",value:function toString(){return this.tagName;}}]);return Svg$$module$build$src$core$utils$svg;}();Svg$$module$build$src$core$utils$svg.ANIMATE=new Svg$$module$build$src$core$utils$svg("animate");Svg$$module$build$src$core$utils$svg.CIRCLE=new Svg$$module$build$src$core$utils$svg("circle");Svg$$module$build$src$core$utils$svg.CLIPPATH=new Svg$$module$build$src$core$utils$svg("clipPath");Svg$$module$build$src$core$utils$svg.DEFS=new Svg$$module$build$src$core$utils$svg("defs");Svg$$module$build$src$core$utils$svg.FECOMPOSITE=new Svg$$module$build$src$core$utils$svg("feComposite");Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER=new Svg$$module$build$src$core$utils$svg("feComponentTransfer");Svg$$module$build$src$core$utils$svg.FEFLOOD=new Svg$$module$build$src$core$utils$svg("feFlood");Svg$$module$build$src$core$utils$svg.FEFUNCA=new Svg$$module$build$src$core$utils$svg("feFuncA");Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR=new Svg$$module$build$src$core$utils$svg("feGaussianBlur");Svg$$module$build$src$core$utils$svg.FEPOINTLIGHT=new Svg$$module$build$src$core$utils$svg("fePointLight");Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING=new Svg$$module$build$src$core$utils$svg("feSpecularLighting");Svg$$module$build$src$core$utils$svg.FILTER=new Svg$$module$build$src$core$utils$svg("filter");Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT=new Svg$$module$build$src$core$utils$svg("foreignObject");Svg$$module$build$src$core$utils$svg.G=new Svg$$module$build$src$core$utils$svg("g");Svg$$module$build$src$core$utils$svg.IMAGE=new Svg$$module$build$src$core$utils$svg("image");Svg$$module$build$src$core$utils$svg.LINE=new Svg$$module$build$src$core$utils$svg("line");Svg$$module$build$src$core$utils$svg.PATH=new Svg$$module$build$src$core$utils$svg("path");Svg$$module$build$src$core$utils$svg.PATTERN=new Svg$$module$build$src$core$utils$svg("pattern");Svg$$module$build$src$core$utils$svg.POLYGON=new Svg$$module$build$src$core$utils$svg("polygon");Svg$$module$build$src$core$utils$svg.RECT=new Svg$$module$build$src$core$utils$svg("rect");Svg$$module$build$src$core$utils$svg.SVG=new Svg$$module$build$src$core$utils$svg("svg");Svg$$module$build$src$core$utils$svg.TEXT=new Svg$$module$build$src$core$utils$svg("text");Svg$$module$build$src$core$utils$svg.TSPAN=new Svg$$module$build$src$core$utils$svg("tspan");var module$build$src$core$utils$svg={};module$build$src$core$utils$svg.Svg=Svg$$module$build$src$core$utils$svg;var Rect$$module$build$src$core$utils$rect=/*#__PURE__*/function(){"use strict";function Rect$$module$build$src$core$utils$rect(a,b,c,d){_classCallCheck(this,Rect$$module$build$src$core$utils$rect);this.top=a;this.bottom=b;this.left=c;this.right=d;}_createClass(Rect$$module$build$src$core$utils$rect,[{key:"getHeight",value:function getHeight(){return this.bottom-this.top;}},{key:"getWidth",value:function getWidth(){return this.right-this.left;}},{key:"contains",value:function contains(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom;}},{key:"intersects",value:function intersects(a){return!(this.left>a.right||this.right<a.left||this.top>a.bottom||this.bottom<a.top);}}]);return Rect$$module$build$src$core$utils$rect;}(),module$build$src$core$utils$rect={};module$build$src$core$utils$rect.Rect=Rect$$module$build$src$core$utils$rect;var Size$$module$build$src$core$utils$size=/*#__PURE__*/function(){"use strict";function Size$$module$build$src$core$utils$size(a,b){_classCallCheck(this,Size$$module$build$src$core$utils$size);this.width=a;this.height=b;}_createClass(Size$$module$build$src$core$utils$size,null,[{key:"equals",value:function equals(a,b){return a===b?!0:a&&b?a.width===b.width&&a.height===b.height:!1;}}]);return Size$$module$build$src$core$utils$size;}(),module$build$src$core$utils$size={};module$build$src$core$utils$size.Size=Size$$module$build$src$core$utils$size;var TEST_ONLY$$module$build$src$core$utils$style={getSizeInternal:getSizeInternal$$module$build$src$core$utils$style},module$build$src$core$utils$style={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$style};module$build$src$core$utils$style.getBorderBox=getBorderBox$$module$build$src$core$utils$style;module$build$src$core$utils$style.getComputedStyle=getComputedStyle$$module$build$src$core$utils$style;module$build$src$core$utils$style.getContainerOffsetToScrollInto=getContainerOffsetToScrollInto$$module$build$src$core$utils$style;module$build$src$core$utils$style.getPageOffset=getPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.getSize=getSize$$module$build$src$core$utils$style;module$build$src$core$utils$style.getViewportPageOffset=getViewportPageOffset$$module$build$src$core$utils$style;module$build$src$core$utils$style.scrollIntoContainerView=scrollIntoContainerView$$module$build$src$core$utils$style;var XY_REGEX$$module$build$src$core$utils$svg_math=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,XY_STYLE_REGEX$$module$build$src$core$utils$svg_math=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,TEST_ONLY$$module$build$src$core$utils$svg_math={XY_REGEX:XY_REGEX$$module$build$src$core$utils$svg_math,XY_STYLE_REGEX:XY_STYLE_REGEX$$module$build$src$core$utils$svg_math},module$build$src$core$utils$svg_math={TEST_ONLY:TEST_ONLY$$module$build$src$core$utils$svg_math};module$build$src$core$utils$svg_math.getDocumentScroll=getDocumentScroll$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getInjectionDivXY=getInjectionDivXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getRelativeXY=getRelativeXY$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.getViewportBBox=getViewportBBox$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.screenToWsCoordinates=screenToWsCoordinates$$module$build$src$core$utils$svg_math;module$build$src$core$utils$svg_math.wsToScreenCoordinates=wsToScreenCoordinates$$module$build$src$core$utils$svg_math;var Scrollbar$$module$build$src$core$scrollbar=/*#__PURE__*/function(){"use strict";function Scrollbar$$module$build$src$core$scrollbar(a,b,c,d,e){_classCallCheck(this,Scrollbar$$module$build$src$core$scrollbar);this.workspace=a;this.horizontal=b;this.oldHostMetrics=null;this.ratio=1;this.origin=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0;this.containerVisible=this.isHandleVisible=!0;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null;this.pair=c||!1;this.margin=void 0!==e?e:Scrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN;a="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical");d&&(a+=" "+d);this.outerSvg=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{"class":a});d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.outerSvg);this.svgBackground=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyScrollbarBackground"},d);a=Math.floor((Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-5)/2);this.svgHandle=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyScrollbarHandle",rx:a,ry:a},d);this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill");this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity");insertAfter$$module$build$src$core$utils$dom(this.outerSvg,this.workspace.getParentSvg());this.setInitialThickness();b?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y");this.onMouseDownBarWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgBackground,"pointerdown",this,this.onMouseDownBar);this.onMouseDownHandleWrapper_=conditionalBind$$module$build$src$core$browser_events(this.svgHandle,"pointerdown",this,this.onMouseDownHandle);}_createClass(Scrollbar$$module$build$src$core$scrollbar,[{key:"setInitialThickness",value:function setInitialThickness(){var a=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(a)),this.outerSvg.setAttribute("height",String(a)),this.svgHandle.setAttribute("height",String(a-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(a)),this.outerSvg.setAttribute("width",String(a)),this.svgHandle.setAttribute("width",String(a-5)),this.svgHandle.setAttribute("x","2.5"));}},{key:"dispose",value:function dispose(){this.cleanUp();unbind$$module$build$src$core$browser_events(this.onMouseDownBarWrapper_);unbind$$module$build$src$core$browser_events(this.onMouseDownHandleWrapper_);removeNode$$module$build$src$core$utils$dom(this.outerSvg);this.workspace.getThemeManager().unsubscribe(this.svgHandle);}},{key:"constrainHandleLength",value:function constrainHandleLength(a){return a=0>=a||isNaN(a)?0:Math.min(a,this.scrollbarLength);}},{key:"setHandleLength",value:function setHandleLength(a){this.handleLength=a;this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength));}},{key:"constrainHandlePosition",value:function constrainHandlePosition(a){return a=0>=a||isNaN(a)?0:Math.min(a,this.scrollbarLength-this.handleLength);}},{key:"setHandlePosition",value:function setHandlePosition(a){this.handlePosition=a;this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition));}},{key:"setScrollbarLength",value:function setScrollbarLength(a){this.scrollbarLength=a;this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength));this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength));}},{key:"setPosition",value:function setPosition(a,b){this.position.x=a;this.position.y=b;setCssTransform$$module$build$src$core$utils$dom(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)");}},{key:"resize",value:function resize(a){if(!a&&(a=this.workspace.getMetrics(),!a))return;this.oldHostMetrics&&Scrollbar$$module$build$src$core$scrollbar.metricsAreEquivalent(a,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(a):this.resizeVertical(a),this.oldHostMetrics=a,this.updateMetrics());}},{key:"requiresViewResize",value:function requiresViewResize(a){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==a.viewWidth||this.oldHostMetrics.viewHeight!==a.viewHeight||this.oldHostMetrics.absoluteLeft!==a.absoluteLeft||this.oldHostMetrics.absoluteTop!==a.absoluteTop:!0;}},{key:"resizeHorizontal",value:function resizeHorizontal(a){this.requiresViewResize(a)?this.resizeViewHorizontal(a):this.resizeContentHorizontal(a);}},{key:"resizeViewHorizontal",value:function resizeViewHorizontal(a){var b=a.viewWidth-2*this.margin;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));b=a.absoluteLeft+this.margin;this.pair&&this.workspace.RTL&&(b+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setPosition(b,a.absoluteTop+a.viewHeight-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin);this.resizeContentHorizontal(a);}},{key:"resizeContentHorizontal",value:function resizeContentHorizontal(a){if(a.viewWidth>=a.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewWidth/a.scrollWidth;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollWidth-a.viewWidth;var c=this.scrollbarLength-this.handleLength;a=(a.viewLeft-a.scrollLeft)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b;}}},{key:"resizeVertical",value:function resizeVertical(a){this.requiresViewResize(a)?this.resizeViewVertical(a):this.resizeContentVertical(a);}},{key:"resizeViewVertical",value:function resizeViewVertical(a){var b=a.viewHeight-2*this.margin;this.pair&&(b-=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness);this.setScrollbarLength(Math.max(0,b));this.setPosition(this.workspace.RTL?a.absoluteLeft+this.margin:a.absoluteLeft+a.viewWidth-Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness-this.margin,a.absoluteTop+this.margin);this.resizeContentVertical(a);}},{key:"resizeContentVertical",value:function resizeContentVertical(a){if(a.viewHeight>=a.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var b=this.scrollbarLength*a.viewHeight/a.scrollHeight;b=this.constrainHandleLength(b);this.setHandleLength(b);b=a.scrollHeight-a.viewHeight;var c=this.scrollbarLength-this.handleLength;a=(a.viewTop-a.scrollTop)/b*c;a=this.constrainHandlePosition(a);this.setHandlePosition(a);this.ratio=c/b;}}},{key:"isVisible",value:function isVisible(){return this.isHandleVisible;}},{key:"setContainerVisible",value:function setContainerVisible(a){var b=a!==this.containerVisible;this.containerVisible=a;b&&this.updateDisplay_();}},{key:"setVisible",value:function setVisible(a){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(a);}},{key:"setVisibleInternal",value:function setVisibleInternal(a){var b=a!==this.isVisible();this.isHandleVisible=a;b&&this.updateDisplay_();}},{key:"updateDisplay_",value:function updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none");}},{key:"onMouseDownBar",value:function onMouseDownBar(a){this.workspace.markFocused();clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp();if(isRightButton$$module$build$src$core$browser_events(a))a.stopPropagation();else{var b=mouseToSvg$$module$build$src$core$browser_events(a,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());b=this.horizontal?b.x:b.y;var c=getInjectionDivXY$$module$build$src$core$utils$svg_math(this.svgHandle);c=this.horizontal?c.x:c.y;var d=this.handlePosition,e=.95*this.handleLength;b<=c?d-=e:b>=c+this.handleLength&&(d+=e);this.setHandlePosition(this.constrainHandlePosition(d));this.updateMetrics();a.stopPropagation();a.preventDefault();}}},{key:"onMouseDownHandle",value:function onMouseDownHandle(a){this.workspace.markFocused();this.cleanUp();isRightButton$$module$build$src$core$browser_events(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?a.clientX:a.clientY,this.onMouseUpWrapper_=conditionalBind$$module$build$src$core$browser_events(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=conditionalBind$$module$build$src$core$browser_events(document,"pointermove",this,this.onMouseMoveHandle),a.stopPropagation(),a.preventDefault());}},{key:"onMouseMoveHandle",value:function onMouseMoveHandle(a){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?a.clientX:a.clientY)-this.startDragMouse)));this.updateMetrics();}},{key:"onMouseUpHandle",value:function onMouseUpHandle(){clearTouchIdentifier$$module$build$src$core$touch();this.cleanUp();}},{key:"cleanUp",value:function cleanUp(){this.workspace.hideChaff(!0);this.onMouseUpWrapper_&&(unbind$$module$build$src$core$browser_events(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null);this.onMouseMoveWrapper_&&(unbind$$module$build$src$core$browser_events(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null);}},{key:"getRatio_",value:function getRatio_(){var a=this.handlePosition/(this.scrollbarLength-this.handleLength);isNaN(a)&&(a=0);return a;}},{key:"updateMetrics",value:function updateMetrics(){var a=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:a}):this.workspace.setMetrics({y:a});}},{key:"set",value:function set(a,b){this.setHandlePosition(this.constrainHandlePosition(a*this.ratio));(b||void 0===b)&&this.updateMetrics();}},{key:"setOrigin",value:function setOrigin(a,b){this.origin=new Coordinate$$module$build$src$core$utils$coordinate(a,b);}}],[{key:"metricsAreEquivalent",value:function metricsAreEquivalent(a,b){return a.viewWidth===b.viewWidth&&a.viewHeight===b.viewHeight&&a.viewLeft===b.viewLeft&&a.viewTop===b.viewTop&&a.absoluteTop===b.absoluteTop&&a.absoluteLeft===b.absoluteLeft&&a.scrollWidth===b.scrollWidth&&a.scrollHeight===b.scrollHeight&&a.scrollLeft===b.scrollLeft&&a.scrollTop===b.scrollTop;}}]);return Scrollbar$$module$build$src$core$scrollbar;}();Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness=TOUCH_ENABLED$$module$build$src$core$touch?25:15;Scrollbar$$module$build$src$core$scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5;var module$build$src$core$scrollbar={};module$build$src$core$scrollbar.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;var domParser$$module$build$src$core$utils$xml={parseFromString:function parseFromString(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies");}},xmlSerializer$$module$build$src$core$utils$xml={serializeToString:function serializeToString(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies");}},document$$module$build$src$core$utils$xml=globalThis.document,DOMParser$$module$build$src$core$utils$xml=globalThis.DOMParser,XMLSerializer$$module$build$src$core$utils$xml=globalThis.XMLSerializer;DOMParser$$module$build$src$core$utils$xml&&(domParser$$module$build$src$core$utils$xml=new DOMParser$$module$build$src$core$utils$xml());XMLSerializer$$module$build$src$core$utils$xml&&(xmlSerializer$$module$build$src$core$utils$xml=new XMLSerializer$$module$build$src$core$utils$xml());var NAME_SPACE$$module$build$src$core$utils$xml="https://developers.google.com/blockly/xml",INVALID_CONTROL_CHARS$$module$build$src$core$utils$xml=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,module$build$src$core$utils$xml={NAME_SPACE:NAME_SPACE$$module$build$src$core$utils$xml};module$build$src$core$utils$xml.createElement=$.createElement$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.createTextNode=$.createTextNode$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.domToText=domToText$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.injectDependencies=injectDependencies$$module$build$src$core$utils$xml;module$build$src$core$utils$xml.textToDom=$.textToDom$$module$build$src$core$utils$xml;var CATEGORY_TOOLBOX_KIND$$module$build$src$core$utils$toolbox="categoryToolbox",FLYOUT_TOOLBOX_KIND$$module$build$src$core$utils$toolbox="flyoutToolbox",Position$$module$build$src$core$utils$toolbox;(function(a){a[a.TOP=0]="TOP";a[a.BOTTOM=1]="BOTTOM";a[a.LEFT=2]="LEFT";a[a.RIGHT=3]="RIGHT";})(Position$$module$build$src$core$utils$toolbox||(Position$$module$build$src$core$utils$toolbox={}));var TEST_ONLY$$module$build$src$core$utils$toolbox={hasCategoriesInternal:hasCategoriesInternal$$module$build$src$core$utils$toolbox},module$build$src$core$utils$toolbox={};module$build$src$core$utils$toolbox.Position=Position$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.TEST_ONLY=TEST_ONLY$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.convertFlyoutDefToJsonArray=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.convertToolboxDefToJson=convertToolboxDefToJson$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.hasCategories=hasCategories$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.isCategoryCollapsible=isCategoryCollapsible$$module$build$src$core$utils$toolbox;module$build$src$core$utils$toolbox.parseToolboxTree=parseToolboxTree$$module$build$src$core$utils$toolbox;var verticalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.TOP=0]="TOP";a[a.BOTTOM=1]="BOTTOM";})(verticalPosition$$module$build$src$core$positionable_helpers||(verticalPosition$$module$build$src$core$positionable_helpers={}));var horizontalPosition$$module$build$src$core$positionable_helpers;(function(a){a[a.LEFT=0]="LEFT";a[a.RIGHT=1]="RIGHT";})(horizontalPosition$$module$build$src$core$positionable_helpers||(horizontalPosition$$module$build$src$core$positionable_helpers={}));var bumpDirection$$module$build$src$core$positionable_helpers;(function(a){a[a.UP=0]="UP";a[a.DOWN=1]="DOWN";})(bumpDirection$$module$build$src$core$positionable_helpers||(bumpDirection$$module$build$src$core$positionable_helpers={}));var module$build$src$core$positionable_helpers={};module$build$src$core$positionable_helpers.bumpDirection=bumpDirection$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.bumpPositionRect=bumpPositionRect$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.getCornerOppositeToolbox=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.getStartPositionRect=getStartPositionRect$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.horizontalPosition=horizontalPosition$$module$build$src$core$positionable_helpers;module$build$src$core$positionable_helpers.verticalPosition=verticalPosition$$module$build$src$core$positionable_helpers;var SPRITE$$module$build$src$core$sprites={width:96,height:124,url:"sprites.png"},module$build$src$core$sprites={SPRITE:SPRITE$$module$build$src$core$sprites};var ZoomControls$$module$build$src$core$zoom_controls=/*#__PURE__*/function(){"use strict";function ZoomControls$$module$build$src$core$zoom_controls(a){_classCallCheck(this,ZoomControls$$module$build$src$core$zoom_controls);this.workspace=a;this.id="zoomControls";this.boundEvents=[];this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null;this.HEIGHT=this.WIDTH=32;this.SMALL_SPACING=2;this.LARGE_SPACING=11;this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20;this.svgGroup=null;this.top=this.left=0;this.initialized=!1;}_createClass(ZoomControls$$module$build$src$core$zoom_controls,[{key:"createDom",value:function createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});var a=String(Math.random()).substring(2);this.createZoomOutSvg(a);this.createZoomInSvg(a);this.workspace.isMovable()&&this.createZoomResetSvg(a);return this.svgGroup;}},{key:"init",value:function init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0;}},{key:"dispose",value:function dispose(){this.workspace.getComponentManager().removeComponent("zoomControls");this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);var _iterator21=_createForOfIteratorHelper(this.boundEvents),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var a=_step21.value;unbind$$module$build$src$core$browser_events(a);}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}this.boundEvents.length=0;}},{key:"getBoundingRectangle",value:function getBoundingRectangle(){var a=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(a+=this.LARGE_SPACING+this.HEIGHT);return new Rect$$module$build$src$core$utils$rect(this.top,this.top+a,this.left,this.left+this.WIDTH);}},{key:"position",value:function position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,a),d=this.SMALL_SPACING+2*this.HEIGHT;this.zoomResetGroup&&(d+=this.LARGE_SPACING+this.HEIGHT);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(this.WIDTH,d),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,a,this.workspace);c=c.vertical;b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,this.MARGIN_VERTICAL,c===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:bumpDirection$$module$build$src$core$positionable_helpers.UP,b);if(c===verticalPosition$$module$build$src$core$positionable_helpers.TOP){var e=this.SMALL_SPACING+this.HEIGHT,f;null==(f=this.zoomInGroup)||f.setAttribute("transform","translate(0, "+e+")");this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(e+this.LARGE_SPACING+this.HEIGHT)+")");}else{f=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;var h;null==(h=this.zoomInGroup)||h.setAttribute("transform","translate(0, "+f+")");f=f+this.SMALL_SPACING+this.HEIGHT;null==(e=this.zoomOutGroup)||e.setAttribute("transform","translate(0, "+f+")");}this.top=b.top;this.left=b.left;var g;null==(g=this.svgGroup)||g.setAttribute("transform","translate("+this.left+","+this.top+")");}}},{key:"createZoomOutSvg",value:function createZoomOutSvg(a){this.zoomOutGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyZoom blocklyZoomOut"},this.svgGroup);var b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+a},this.zoomOutGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+a+")"},this.zoomOutGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)));}},{key:"createZoomInSvg",value:function createZoomInSvg(a){this.zoomInGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyZoom blocklyZoomIn"},this.svgGroup);var b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:"blocklyZoominClipPath"+a},this.zoomInGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+a+")"},this.zoomInGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)));}},{key:"zoom",value:function zoom(a,b){this.workspace.markFocused();this.workspace.zoomCenter(a);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();b.stopPropagation();b.preventDefault();}},{key:"createZoomResetSvg",value:function createZoomResetSvg(a){this.zoomResetGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyZoom blocklyZoomReset"},this.svgGroup);var b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+a},this.zoomResetGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:32,height:32},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,height:SPRITE$$module$build$src$core$sprites.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+a+")"},this.zoomResetGroup).setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)));}},{key:"resetZoom",value:function resetZoom(a){this.workspace.markFocused();var b=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition();this.workspace.zoomCenter(b);this.workspace.scrollCenter();setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500);this.fireZoomEvent();clearTouchIdentifier$$module$build$src$core$touch();a.stopPropagation();a.preventDefault();}},{key:"fireZoomEvent",value:function fireZoomEvent(){var a=new(get$$module$build$src$core$events$utils(CLICK$$module$build$src$core$events$utils))(null,this.workspace.id,"zoom_controls");fire$$module$build$src$core$events$utils(a);}}]);return ZoomControls$$module$build$src$core$zoom_controls;}();register$$module$build$src$core$css("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var module$build$src$core$zoom_controls={};module$build$src$core$zoom_controls.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;var IconType$$module$build$src$core$icons$icon_types=/*#__PURE__*/function(){"use strict";function IconType$$module$build$src$core$icons$icon_types(a){_classCallCheck(this,IconType$$module$build$src$core$icons$icon_types);this.name=a;}_createClass(IconType$$module$build$src$core$icons$icon_types,[{key:"toString",value:function toString(){return this.name;}},{key:"equals",value:function equals(a){return this.name===a.toString();}}]);return IconType$$module$build$src$core$icons$icon_types;}();IconType$$module$build$src$core$icons$icon_types.MUTATOR=new IconType$$module$build$src$core$icons$icon_types("mutator");IconType$$module$build$src$core$icons$icon_types.WARNING=new IconType$$module$build$src$core$icons$icon_types("warning");IconType$$module$build$src$core$icons$icon_types.COMMENT=new IconType$$module$build$src$core$icons$icon_types("comment");var module$build$src$core$icons$icon_types={};module$build$src$core$icons$icon_types.IconType=IconType$$module$build$src$core$icons$icon_types;(function(a){a[a.VALUE=1]="VALUE";a[a.STATEMENT=3]="STATEMENT";a[a.DUMMY=5]="DUMMY";a[a.CUSTOM=6]="CUSTOM";a[a.END_ROW=7]="END_ROW";})($.inputTypes$$module$build$src$core$inputs$input_types||($.inputTypes$$module$build$src$core$inputs$input_types={}));var module$build$src$core$inputs$input_types={};module$build$src$core$inputs$input_types.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var alertImplementation$$module$build$src$core$dialog=function alertImplementation$$module$build$src$core$dialog(a,b){window.alert(a);b&&b();},confirmImplementation$$module$build$src$core$dialog=function confirmImplementation$$module$build$src$core$dialog(a,b){b(window.confirm(a));},promptImplementation$$module$build$src$core$dialog=function promptImplementation$$module$build$src$core$dialog(a,b,c){c(window.prompt(a,b));},TEST_ONLY$$module$build$src$core$dialog={confirmInternal:confirmInternal$$module$build$src$core$dialog},module$build$src$core$dialog={TEST_ONLY:TEST_ONLY$$module$build$src$core$dialog};module$build$src$core$dialog.alert=alert$$module$build$src$core$dialog;module$build$src$core$dialog.confirm=confirm$$module$build$src$core$dialog;module$build$src$core$dialog.prompt=prompt$$module$build$src$core$dialog;module$build$src$core$dialog.setAlert=setAlert$$module$build$src$core$dialog;module$build$src$core$dialog.setConfirm=setConfirm$$module$build$src$core$dialog;module$build$src$core$dialog.setPrompt=setPrompt$$module$build$src$core$dialog;var module$build$src$core$interfaces$i_variable_backed_parameter_model={};module$build$src$core$interfaces$i_variable_backed_parameter_model.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;var setLocale$$module$build$src$core$msg,module$build$src$core$msg;$.Msg$$module$build$src$core$msg=Object.create(null);setLocale$$module$build$src$core$msg=function setLocale$$module$build$src$core$msg(a){Object.keys(a).forEach(function(b){$.Msg$$module$build$src$core$msg[b]=a[b];});};module$build$src$core$msg={Msg:$.Msg$$module$build$src$core$msg,setLocale:setLocale$$module$build$src$core$msg};var module$build$src$core$interfaces$i_legacy_procedure_blocks={};module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureCallBlock=isLegacyProcedureCallBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;module$build$src$core$interfaces$i_legacy_procedure_blocks.isLegacyProcedureDefBlock=isLegacyProcedureDefBlock$$module$build$src$core$interfaces$i_legacy_procedure_blocks;var VarBase$$module$build$src$core$events$events_var_base=/*#__PURE__*/function(_Abstract$$module$bui2){"use strict";_inherits(VarBase$$module$build$src$core$events$events_var_base,_Abstract$$module$bui2);function VarBase$$module$build$src$core$events$events_var_base(a){var _this4;_classCallCheck(this,VarBase$$module$build$src$core$events$events_var_base);_this4=_callSuper(this,VarBase$$module$build$src$core$events$events_var_base);_this4.isBlank="undefined"===typeof a;a&&(_this4.varId=a.getId(),_this4.workspaceId=a.workspace.id);return _this4;}_createClass(VarBase$$module$build$src$core$events$events_var_base,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(VarBase$$module$build$src$core$events$events_var_base.prototype),"toJson",this).call(this);if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");a.varId=this.varId;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(VarBase$$module$build$src$core$events$events_var_base),"fromJson",this).call(this,a,b,null!=c?c:new VarBase$$module$build$src$core$events$events_var_base());b.varId=a.varId;return b;}}]);return VarBase$$module$build$src$core$events$events_var_base;}(Abstract$$module$build$src$core$events$events_abstract),module$build$src$core$events$events_var_base={};module$build$src$core$events$events_var_base.VarBase=VarBase$$module$build$src$core$events$events_var_base;var VarCreate$$module$build$src$core$events$events_var_create=/*#__PURE__*/function(_VarBase$$module$buil){"use strict";_inherits(VarCreate$$module$build$src$core$events$events_var_create,_VarBase$$module$buil);function VarCreate$$module$build$src$core$events$events_var_create(a){var _this5;_classCallCheck(this,VarCreate$$module$build$src$core$events$events_var_create);_this5=_callSuper(this,VarCreate$$module$build$src$core$events$events_var_create,[a]);_this5.type=VAR_CREATE$$module$build$src$core$events$utils;a&&(_this5.varType=a.type,_this5.varName=a.name);return _this5;}_createClass(VarCreate$$module$build$src$core$events$events_var_create,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(VarCreate$$module$build$src$core$events$events_var_create.prototype),"toJson",this).call(this);if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");a.varType=this.varType;a.varName=this.varName;return a;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");a?b.createVariable(this.varName,this.varType,this.varId):b.deleteVariableById(this.varId);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(VarCreate$$module$build$src$core$events$events_var_create),"fromJson",this).call(this,a,b,null!=c?c:new VarCreate$$module$build$src$core$events$events_var_create());b.varType=a.varType;b.varName=a.varName;return b;}}]);return VarCreate$$module$build$src$core$events$events_var_create;}(VarBase$$module$build$src$core$events$events_var_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,VAR_CREATE$$module$build$src$core$events$utils,VarCreate$$module$build$src$core$events$events_var_create);var module$build$src$core$events$events_var_create={};module$build$src$core$events$events_var_create.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;var VariableModel$$module$build$src$core$variable_model=/*#__PURE__*/function(){"use strict";function VariableModel$$module$build$src$core$variable_model(a,b,c,d){_classCallCheck(this,VariableModel$$module$build$src$core$variable_model);this.workspace=a;this.name=b;this.type=c||"";this.id_=d||genUid$$module$build$src$core$utils$idgenerator();}_createClass(VariableModel$$module$build$src$core$variable_model,[{key:"getId",value:function getId(){return this.id_;}}],[{key:"compareByName",value:function compareByName(a,b){return a.name.localeCompare(b.name,void 0,{sensitivity:"base"});}}]);return VariableModel$$module$build$src$core$variable_model;}(),module$build$src$core$variable_model={};module$build$src$core$variable_model.VariableModel=VariableModel$$module$build$src$core$variable_model;var CATEGORY_NAME$$module$build$src$core$variables="VARIABLE",VAR_LETTER_OPTIONS$$module$build$src$core$variables="ijkmnopqrstuvwxyzabcdefgh",TEST_ONLY$$module$build$src$core$variables={generateUniqueNameInternal:generateUniqueNameInternal$$module$build$src$core$variables},module$build$src$core$variables={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables,TEST_ONLY:TEST_ONLY$$module$build$src$core$variables,VAR_LETTER_OPTIONS:VAR_LETTER_OPTIONS$$module$build$src$core$variables};module$build$src$core$variables.allDeveloperVariables=$.allDeveloperVariables$$module$build$src$core$variables;module$build$src$core$variables.allUsedVarModels=$.allUsedVarModels$$module$build$src$core$variables;module$build$src$core$variables.createVariableButtonHandler=createVariableButtonHandler$$module$build$src$core$variables;module$build$src$core$variables.flyoutCategory=flyoutCategory$$module$build$src$core$variables;module$build$src$core$variables.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueName=generateUniqueName$$module$build$src$core$variables;module$build$src$core$variables.generateUniqueNameFromOptions=generateUniqueNameFromOptions$$module$build$src$core$variables;module$build$src$core$variables.generateVariableFieldDom=generateVariableFieldDom$$module$build$src$core$variables;module$build$src$core$variables.getAddedVariables=getAddedVariables$$module$build$src$core$variables;module$build$src$core$variables.getOrCreateVariablePackage=$.getOrCreateVariablePackage$$module$build$src$core$variables;module$build$src$core$variables.getVariable=$.getVariable$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithAnyType=nameUsedWithAnyType$$module$build$src$core$variables;module$build$src$core$variables.nameUsedWithConflictingParam=nameUsedWithConflictingParam$$module$build$src$core$variables;module$build$src$core$variables.promptName=promptName$$module$build$src$core$variables;module$build$src$core$variables.renameVariable=$.renameVariable$$module$build$src$core$variables;var WorkspaceComment$$module$build$src$core$workspace_comment=/*#__PURE__*/function(){"use strict";function WorkspaceComment$$module$build$src$core$workspace_comment(a,b,c,d,e){_classCallCheck(this,WorkspaceComment$$module$build$src$core$workspace_comment);this.workspace=a;this.editable=this.movable=this.deletable=!0;this.disposed_=!1;this.isComment=!0;this.id=e&&!a.getCommentById(e)?e:genUid$$module$build$src$core$utils$idgenerator();a.addTopComment(this);this.xy_=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.height_=c;this.width_=d;this.RTL=a.RTL;this.content_=b;WorkspaceComment$$module$build$src$core$workspace_comment.fireCreateEvent(this);}_createClass(WorkspaceComment$$module$build$src$core$workspace_comment,[{key:"dispose",value:function dispose(){this.disposed_||(isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(COMMENT_DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopComment(this),this.disposed_=!0);}},{key:"getHeight",value:function getHeight(){return this.height_;}},{key:"setHeight",value:function setHeight(a){this.height_=a;}},{key:"getWidth",value:function getWidth(){return this.width_;}},{key:"setWidth",value:function setWidth(a){this.width_=a;}},{key:"getRelativeToSurfaceXY",value:function getRelativeToSurfaceXY(){return new Coordinate$$module$build$src$core$utils$coordinate(this.xy_.x,this.xy_.y);}},{key:"moveBy",value:function moveBy(a,b){var c=new(get$$module$build$src$core$events$utils(COMMENT_MOVE$$module$build$src$core$events$utils))(this);this.xy_.translate(a,b);c.recordNew();fire$$module$build$src$core$events$utils(c);}},{key:"isDeletable",value:function isDeletable(){return this.deletable&&!(this.workspace&&this.workspace.options.readOnly);}},{key:"setDeletable",value:function setDeletable(a){this.deletable=a;}},{key:"isMovable",value:function isMovable(){return this.movable&&!(this.workspace&&this.workspace.options.readOnly);}},{key:"setMovable",value:function setMovable(a){this.movable=a;}},{key:"isEditable",value:function isEditable(){return this.editable&&!(this.workspace&&this.workspace.options.readOnly);}},{key:"setEditable",value:function setEditable(a){this.editable=a;}},{key:"getContent",value:function getContent(){return this.content_;}},{key:"setContent",value:function setContent(a){this.content_!==a&&(fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(COMMENT_CHANGE$$module$build$src$core$events$utils))(this,this.content_,a)),this.content_=a);}},{key:"toXmlWithXY",value:function toXmlWithXY(a){a=this.toXml(a);a.setAttribute("x",String(Math.round(this.xy_.x)));a.setAttribute("y",String(Math.round(this.xy_.y)));a.setAttribute("h",String(this.height_));a.setAttribute("w",String(this.width_));return a;}},{key:"toXml",value:function toXml(a){var b=$.createElement$$module$build$src$core$utils$xml("comment");a||(b.id=this.id);b.textContent=this.getContent();return b;}}],[{key:"fireCreateEvent",value:function fireCreateEvent(a){if(isEnabled$$module$build$src$core$events$utils()){var b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);try{fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(COMMENT_CREATE$$module$build$src$core$events$utils))(a));}finally{$.setGroup$$module$build$src$core$events$utils(b);}}}},{key:"fromXml",value:function fromXml(a,b){var c=WorkspaceComment$$module$build$src$core$workspace_comment.parseAttributes(a);b=new WorkspaceComment$$module$build$src$core$workspace_comment(b,c.content,c.h,c.w,c.id);c=a.getAttribute("x");a=a.getAttribute("y");c=c?parseInt(c,10):NaN;a=a?parseInt(a,10):NaN;isNaN(c)||isNaN(a)||b.moveBy(c,a);WorkspaceComment$$module$build$src$core$workspace_comment.fireCreateEvent(b);return b;}},{key:"parseAttributes",value:function parseAttributes(a){var b=a.getAttribute("h"),c=a.getAttribute("w"),d=a.getAttribute("x"),e=a.getAttribute("y"),f=a.getAttribute("id");if(!f)throw Error("No ID present in XML comment definition.");var g;return{id:f,h:b?parseInt(b):100,w:c?parseInt(c):100,x:d?parseInt(d):NaN,y:e?parseInt(e):NaN,content:null!=(g=a.textContent)?g:""};}}]);return WorkspaceComment$$module$build$src$core$workspace_comment;}(),module$build$src$core$workspace_comment={};module$build$src$core$workspace_comment.WorkspaceComment=WorkspaceComment$$module$build$src$core$workspace_comment;var Selected$$module$build$src$core$events$events_selected=/*#__PURE__*/function(_UiBase$$module$build2){"use strict";_inherits(Selected$$module$build$src$core$events$events_selected,_UiBase$$module$build2);function Selected$$module$build$src$core$events$events_selected(a,b,c){var _this6;_classCallCheck(this,Selected$$module$build$src$core$events$events_selected);_this6=_callSuper(this,Selected$$module$build$src$core$events$events_selected,[c]);_this6.type=SELECTED$$module$build$src$core$events$utils;_this6.oldElementId=null!=a?a:void 0;_this6.newElementId=null!=b?b:void 0;return _this6;}_createClass(Selected$$module$build$src$core$events$events_selected,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(Selected$$module$build$src$core$events$events_selected.prototype),"toJson",this).call(this);a.oldElementId=this.oldElementId;a.newElementId=this.newElementId;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(Selected$$module$build$src$core$events$events_selected),"fromJson",this).call(this,a,b,null!=c?c:new Selected$$module$build$src$core$events$events_selected());b.oldElementId=a.oldElementId;b.newElementId=a.newElementId;return b;}}]);return Selected$$module$build$src$core$events$events_selected;}(UiBase$$module$build$src$core$events$events_ui_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,SELECTED$$module$build$src$core$events$utils,Selected$$module$build$src$core$events$events_selected);var module$build$src$core$events$events_selected={};module$build$src$core$events$events_selected.Selected=Selected$$module$build$src$core$events$events_selected;var module$build$src$core$clipboard$registry={};module$build$src$core$clipboard$registry.register=register$$module$build$src$core$clipboard$registry;module$build$src$core$clipboard$registry.unregister=unregister$$module$build$src$core$clipboard$registry;var WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster=/*#__PURE__*/function(){"use strict";function WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster(){_classCallCheck(this,WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster);}_createClass(WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster,[{key:"paste",value:function paste(a,b,c){var d=a.commentState;if(c)d.setAttribute("x",`${c.x}`),d.setAttribute("y",`${c.y}`);else{var e;c=parseInt(null!=(e=d.getAttribute("x"))?e:"0")+50;var f;e=parseInt(null!=(f=d.getAttribute("y"))?f:"0")+50;d.setAttribute("x",`${c}`);d.setAttribute("y",`${e}`);}return WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.fromXmlRendered(a.commentState,b);}}]);return WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster;}();WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE="workspace-comment";register$$module$build$src$core$clipboard$registry(WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,new WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster());var module$build$src$core$clipboard$workspace_comment_paster={};module$build$src$core$clipboard$workspace_comment_paster.WorkspaceCommentPaster=WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster;var RESIZE_SIZE$$module$build$src$core$workspace_comment_svg=8,BORDER_RADIUS$$module$build$src$core$workspace_comment_svg=3,TEXTAREA_OFFSET$$module$build$src$core$workspace_comment_svg=2,WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg=/*#__PURE__*/function(_WorkspaceComment$$mo){"use strict";_inherits(WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg,_WorkspaceComment$$mo);function WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg(a,b,c,d,e){var _this7;_classCallCheck(this,WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg);_this7=_callSuper(this,WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg,[a,b,c,d,e]);_this7.onMouseMoveWrapper=_this7.onMouseUpWrapper=null;_this7.eventsInit=!1;_this7.deleteIconBorder=_this7.deleteGroup=_this7.resizeGroup=_this7.foreignObject=_this7.svgHandleTarget=_this7.svgRectTarget=_this7.textarea=null;_this7.rendered=_this7.autoLayout=_this7.focused=!1;_this7.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyComment"});_this7.workspace=a;_this7.svgRect_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyCommentRect",x:0,y:0,rx:BORDER_RADIUS$$module$build$src$core$workspace_comment_svg,ry:BORDER_RADIUS$$module$build$src$core$workspace_comment_svg});_this7.svgGroup.appendChild(_this7.svgRect_);_this7.render();return _this7;}_createClass(WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg,[{key:"dispose",value:function dispose(){this.disposed_||(getSelected$$module$build$src$core$common()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(COMMENT_DELETE$$module$build$src$core$events$utils))(this)),removeNode$$module$build$src$core$utils$dom(this.svgGroup),$.disable$$module$build$src$core$events$utils(),_get(_getPrototypeOf(WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.prototype),"dispose",this).call(this),$.enable$$module$build$src$core$events$utils());}},{key:"initSvg",value:function initSvg(a){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit||(conditionalBind$$module$build$src$core$browser_events(this.svgRectTarget,"pointerdown",this,this.pathMouseDown),conditionalBind$$module$build$src$core$browser_events(this.svgHandleTarget,"pointerdown",this,this.pathMouseDown));this.eventsInit=!0;this.updateMovable();this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot());!a&&this.textarea&&this.textarea.select();}},{key:"pathMouseDown",value:function pathMouseDown(a){var b=this.workspace.getGesture(a);b&&b.handleBubbleStart(a,this);}},{key:"showContextMenu",value:function showContextMenu(a){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts");}},{key:"select",value:function select(){if(getSelected$$module$build$src$core$common()!==this){var a=null;if(getSelected$$module$build$src$core$common()){a=getSelected$$module$build$src$core$common().id;$.disable$$module$build$src$core$events$utils();try{getSelected$$module$build$src$core$common().unselect();}finally{$.enable$$module$build$src$core$events$utils();}}a=new(get$$module$build$src$core$events$utils(SELECTED$$module$build$src$core$events$utils))(a,this.id,this.workspace.id);fire$$module$build$src$core$events$utils(a);setSelected$$module$build$src$core$common(this);this.addSelect();}}},{key:"unselect",value:function unselect(){if(getSelected$$module$build$src$core$common()===this){var a=new(get$$module$build$src$core$events$utils(SELECTED$$module$build$src$core$events$utils))(this.id,null,this.workspace.id);fire$$module$build$src$core$events$utils(a);setSelected$$module$build$src$core$common(null);this.removeSelect();this.blurFocus();}}},{key:"addSelect",value:function addSelect(){addClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklySelected");this.setFocus();}},{key:"removeSelect",value:function removeSelect(){addClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklySelected");this.blurFocus();}},{key:"addFocus",value:function addFocus(){addClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklyFocused");}},{key:"removeFocus",value:function removeFocus(){removeClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklyFocused");}},{key:"getRelativeToSurfaceXY",value:function getRelativeToSurfaceXY(){var a=this.workspace.getLayerManager();if(!a)throw Error("Cannot calculate position because the workspace has not been appended");var b=0,c=0,d=this.getSvgRoot();if(d){do{var e=getRelativeXY$$module$build$src$core$utils$svg_math(d);b+=e.x;c+=e.y;d=d.parentNode;}while(d&&!a.hasLayer(d)&&null!==d);}return this.xy_=new Coordinate$$module$build$src$core$utils$coordinate(b,c);}},{key:"moveBy",value:function moveBy(a,b){var c=new(get$$module$build$src$core$events$utils(COMMENT_MOVE$$module$build$src$core$events$utils))(this),d=this.getRelativeToSurfaceXY();this.translate(d.x+a,d.y+b);this.xy_=new Coordinate$$module$build$src$core$utils$coordinate(d.x+a,d.y+b);c.recordNew();fire$$module$build$src$core$events$utils(c);this.workspace.resizeContents();}},{key:"translate",value:function translate(a,b){this.xy_=new Coordinate$$module$build$src$core$utils$coordinate(a,b);this.getSvgRoot().setAttribute("transform","translate("+a+","+b+")");}},{key:"moveDuringDrag",value:function moveDuringDrag(a){a=`translate(${a.x}, ${a.y})`;this.getSvgRoot().setAttribute("transform",a);}},{key:"moveTo",value:function moveTo(a,b){this.translate(a,b);}},{key:"clearTransformAttributes",value:function clearTransformAttributes(){this.getSvgRoot().removeAttribute("transform");}},{key:"getBoundingRectangle",value:function getBoundingRectangle(){var a=this.getRelativeToSurfaceXY();var b=this.getHeightWidth(),c=a.y,d=a.y+b.height;var e;this.RTL?(e=a.x-b.width,a=a.x):(e=a.x,a=a.x+b.width);return new Rect$$module$build$src$core$utils$rect(c,d,e,a);}},{key:"updateMovable",value:function updateMovable(){this.isMovable()?addClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklyDraggable"):removeClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklyDraggable");}},{key:"setMovable",value:function setMovable(a){_get(_getPrototypeOf(WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.prototype),"setMovable",this).call(this,a);this.updateMovable();}},{key:"setEditable",value:function setEditable(a){_get(_getPrototypeOf(WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.prototype),"setEditable",this).call(this,a);this.textarea&&(this.textarea.readOnly=!a);}},{key:"setDragging",value:function setDragging(a){a?addClass$$module$build$src$core$utils$dom(this.getSvgRoot(),"blocklyDragging"):removeClass$$module$build$src$core$utils$dom(this.getSvgRoot(),"blocklyDragging");}},{key:"getSvgRoot",value:function getSvgRoot(){return this.svgGroup;}},{key:"getContent",value:function getContent(){return this.textarea?this.textarea.value:this.content_;}},{key:"setContent",value:function setContent(a){_get(_getPrototypeOf(WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.prototype),"setContent",this).call(this,a);this.textarea&&(this.textarea.value=a);}},{key:"setDeleteStyle",value:function setDeleteStyle(a){a?addClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklyDraggingDelete"):removeClass$$module$build$src$core$utils$dom(this.svgGroup,"blocklyDraggingDelete");}},{key:"setAutoLayout",value:function setAutoLayout(a){}},{key:"toXmlWithXY",value:function toXmlWithXY(a){var b=0;this.workspace.RTL&&(b=this.workspace.getWidth());a=this.toXml(a);var c=this.getRelativeToSurfaceXY();a.setAttribute("x",String(Math.round(this.workspace.RTL?b-c.x:c.x)));a.setAttribute("y",String(Math.round(c.y)));a.setAttribute("h",String(this.getHeight()));a.setAttribute("w",String(this.getWidth()));return a;}},{key:"toCopyData",value:function toCopyData(){return{paster:WorkspaceCommentPaster$$module$build$src$core$clipboard$workspace_comment_paster.TYPE,commentState:this.toXmlWithXY()};}},{key:"getHeightWidth",value:function getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()};}},{key:"render",value:function render(){if(!this.rendered){var a=this.getHeightWidth(),b=this.createEditor();this.svgGroup.appendChild(b);this.svgHandleTarget=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyCommentHandleTarget",x:0,y:0});this.svgGroup.appendChild(this.svgHandleTarget);this.svgRectTarget=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyCommentTarget",x:0,y:0,rx:BORDER_RADIUS$$module$build$src$core$workspace_comment_svg,ry:BORDER_RADIUS$$module$build$src$core$workspace_comment_svg});this.svgGroup.appendChild(this.svgRectTarget);this.addResizeDom();this.isDeletable()&&this.addDeleteDom();this.setSize(a.width,a.height);this.textarea.value=this.content_;this.rendered=!0;this.resizeGroup&&conditionalBind$$module$build$src$core$browser_events(this.resizeGroup,"pointerdown",this,this.resizeMouseDown);this.isDeletable()&&(conditionalBind$$module$build$src$core$browser_events(this.deleteGroup,"pointerdown",this,this.deleteMouseDown),conditionalBind$$module$build$src$core$browser_events(this.deleteGroup,"pointerout",this,this.deleteMouseOut),conditionalBind$$module$build$src$core$browser_events(this.deleteGroup,"pointerup",this,this.deleteMouseUp));}}},{key:"createEditor",value:function createEditor(){this.foreignObject=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT,{x:0,y:WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.TOP_OFFSET,"class":"blocklyCommentForeignObject"});var a=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,"body");a.setAttribute("xmlns",HTML_NS$$module$build$src$core$utils$dom);a.className="blocklyMinimalBody";var b=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.RTL?"RTL":"LTR");b.readOnly=!this.isEditable();a.appendChild(b);this.textarea=b;this.foreignObject.appendChild(a);conditionalBind$$module$build$src$core$browser_events(b,"wheel",this,function(c){c.stopPropagation();});conditionalBind$$module$build$src$core$browser_events(b,"change",this,function(c){this.setContent(b.value);});return this.foreignObject;}},{key:"addResizeDom",value:function addResizeDom(){this.resizeGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.POLYGON,{points:`0,${RESIZE_SIZE$$module$build$src$core$workspace_comment_svg} ${RESIZE_SIZE$$module$build$src$core$workspace_comment_svg},${RESIZE_SIZE$$module$build$src$core$workspace_comment_svg} ${RESIZE_SIZE$$module$build$src$core$workspace_comment_svg},0`},this.resizeGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{"class":"blocklyResizeLine",x1:RESIZE_SIZE$$module$build$src$core$workspace_comment_svg/3,y1:RESIZE_SIZE$$module$build$src$core$workspace_comment_svg-1,x2:RESIZE_SIZE$$module$build$src$core$workspace_comment_svg-1,y2:RESIZE_SIZE$$module$build$src$core$workspace_comment_svg/3},this.resizeGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{"class":"blocklyResizeLine",x1:2*RESIZE_SIZE$$module$build$src$core$workspace_comment_svg/3,y1:RESIZE_SIZE$$module$build$src$core$workspace_comment_svg-1,x2:RESIZE_SIZE$$module$build$src$core$workspace_comment_svg-1,y2:2*RESIZE_SIZE$$module$build$src$core$workspace_comment_svg/3},this.resizeGroup);}},{key:"addDeleteDom",value:function addDeleteDom(){this.deleteGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyCommentDeleteIcon"},this.svgGroup);this.deleteIconBorder=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup);}},{key:"resizeMouseDown",value:function resizeMouseDown(a){this.unbindDragEvents();isRightButton$$module$build$src$core$browser_events(a)||(this.workspace.startDrag(a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper=conditionalBind$$module$build$src$core$browser_events(document,"pointerup",this,this.resizeMouseUp),this.onMouseMoveWrapper=conditionalBind$$module$build$src$core$browser_events(document,"pointermove",this,this.resizeMouseMove),this.workspace.hideChaff());a.stopPropagation();}},{key:"deleteMouseDown",value:function deleteMouseDown(a){this.deleteIconBorder&&addClass$$module$build$src$core$utils$dom(this.deleteIconBorder,"blocklyDeleteIconHighlighted");a.stopPropagation();}},{key:"deleteMouseOut",value:function deleteMouseOut(a){this.deleteIconBorder&&removeClass$$module$build$src$core$utils$dom(this.deleteIconBorder,"blocklyDeleteIconHighlighted");}},{key:"deleteMouseUp",value:function deleteMouseUp(a){this.dispose();a.stopPropagation();}},{key:"unbindDragEvents",value:function unbindDragEvents(){this.onMouseUpWrapper&&(unbind$$module$build$src$core$browser_events(this.onMouseUpWrapper),this.onMouseUpWrapper=null);this.onMouseMoveWrapper&&(unbind$$module$build$src$core$browser_events(this.onMouseMoveWrapper),this.onMouseMoveWrapper=null);}},{key:"resizeMouseUp",value:function resizeMouseUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.unbindDragEvents();}},{key:"resizeMouseMove",value:function resizeMouseMove(a){this.autoLayout=!1;a=this.workspace.moveDrag(a);this.setSize(this.RTL?-a.x:a.x,a.y);}},{key:"resizeComment",value:function resizeComment(){var a=this.getHeightWidth(),b=WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.TOP_OFFSET,c=2*TEXTAREA_OFFSET$$module$build$src$core$workspace_comment_svg;var d;null==(d=this.foreignObject)||d.setAttribute("width",String(a.width));var e;null==(e=this.foreignObject)||e.setAttribute("height",String(a.height-b));if(this.RTL){var f;null==(f=this.foreignObject)||f.setAttribute("x",String(-a.width));}this.textarea&&(this.textarea.style.width=a.width-c+"px",this.textarea.style.height=a.height-c-b+"px");}},{key:"setSize",value:function setSize(a,b){a=Math.max(a,45);b=Math.max(b,20+WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.TOP_OFFSET);this.width_=a;this.height_=b;this.svgRect_.setAttribute("width",`${a}`);this.svgRect_.setAttribute("height",`${b}`);var c;null==(c=this.svgRectTarget)||c.setAttribute("width",`${a}`);var d;null==(d=this.svgRectTarget)||d.setAttribute("height",`${b}`);var e;null==(e=this.svgHandleTarget)||e.setAttribute("width",`${a}`);var f;null==(f=this.svgHandleTarget)||f.setAttribute("height",String(WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.TOP_OFFSET));if(this.RTL){this.svgRect_.setAttribute("transform","scale(-1 1)");var g;null==(g=this.svgRectTarget)||g.setAttribute("transform","scale(-1 1)");}if(this.resizeGroup)if(this.RTL){this.resizeGroup.setAttribute("transform","translate("+(-a+RESIZE_SIZE$$module$build$src$core$workspace_comment_svg)+","+(b-RESIZE_SIZE$$module$build$src$core$workspace_comment_svg)+") scale(-1 1)");var _g4;null==(_g4=this.deleteGroup)||_g4.setAttribute("transform","translate("+(-a+RESIZE_SIZE$$module$build$src$core$workspace_comment_svg)+","+-RESIZE_SIZE$$module$build$src$core$workspace_comment_svg+") scale(-1 1)");}else{this.resizeGroup.setAttribute("transform","translate("+(a-RESIZE_SIZE$$module$build$src$core$workspace_comment_svg)+","+(b-RESIZE_SIZE$$module$build$src$core$workspace_comment_svg)+")");var _g5;null==(_g5=this.deleteGroup)||_g5.setAttribute("transform","translate("+(a-RESIZE_SIZE$$module$build$src$core$workspace_comment_svg)+","+-RESIZE_SIZE$$module$build$src$core$workspace_comment_svg+")");}this.resizeComment();}},{key:"setFocus",value:function setFocus(){var _this8=this;this.focused=!0;setTimeout(function(){_this8.disposed_||(_this8.textarea.focus(),_this8.addFocus(),_this8.svgRectTarget&&addClass$$module$build$src$core$utils$dom(_this8.svgRectTarget,"blocklyCommentTargetFocused"),_this8.svgHandleTarget&&addClass$$module$build$src$core$utils$dom(_this8.svgHandleTarget,"blocklyCommentHandleTargetFocused"));},0);}},{key:"blurFocus",value:function blurFocus(){var _this9=this;this.focused=!1;setTimeout(function(){_this9.disposed_||(_this9.textarea.blur(),_this9.removeFocus(),_this9.svgRectTarget&&removeClass$$module$build$src$core$utils$dom(_this9.svgRectTarget,"blocklyCommentTargetFocused"),_this9.svgHandleTarget&&removeClass$$module$build$src$core$utils$dom(_this9.svgHandleTarget,"blocklyCommentHandleTargetFocused"));},0);}}],[{key:"fromXmlRendered",value:function fromXmlRendered(a,b,c){$.disable$$module$build$src$core$events$utils();var d;try{var e=WorkspaceComment$$module$build$src$core$workspace_comment.parseAttributes(a);d=new WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg(b,e.content,e.h,e.w,e.id);b.rendered&&(d.initSvg(!0),d.render());if(!isNaN(e.x)&&!isNaN(e.y))if(b.RTL){var f=c||b.getWidth();d.moveBy(f-e.x,e.y);}else d.moveBy(e.x,e.y);}finally{$.enable$$module$build$src$core$events$utils();}WorkspaceComment$$module$build$src$core$workspace_comment.fireCreateEvent(d);return d;}}]);return WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg;}(WorkspaceComment$$module$build$src$core$workspace_comment);WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.DEFAULT_SIZE=100;WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.TOP_OFFSET=10;register$$module$build$src$core$css("\n.blocklyCommentForeignObject {\n  position: relative;\n  z-index: 0;\n}\n\n.blocklyCommentRect {\n  fill: #E7DE8E;\n  stroke: #bcA903;\n  stroke-width: 1px;\n}\n\n.blocklyCommentTarget {\n  fill: transparent;\n  stroke: #bcA903;\n}\n\n.blocklyCommentTargetFocused {\n  fill: none;\n}\n\n.blocklyCommentHandleTarget {\n  fill: none;\n}\n\n.blocklyCommentHandleTargetFocused {\n  fill: transparent;\n}\n\n.blocklyFocused>.blocklyCommentRect {\n  fill: #B9B272;\n  stroke: #B9B272;\n}\n\n.blocklySelected>.blocklyCommentTarget {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCommentDeleteIcon {\n  cursor: pointer;\n  fill: #000;\n  display: none;\n}\n\n.blocklySelected > .blocklyCommentDeleteIcon {\n  display: block;\n}\n\n.blocklyDeleteIconShape {\n  fill: #000;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\n  stroke: #fc3;\n}\n");var module$build$src$core$workspace_comment_svg={};module$build$src$core$workspace_comment_svg.WorkspaceCommentSvg=WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg;var rootBlocks$$module$build$src$core$render_management=new Set(),dirtyBlocks$$module$build$src$core$render_management=new WeakSet(),afterRendersPromise$$module$build$src$core$render_management=null,afterRendersResolver$$module$build$src$core$render_management=null,animationRequestId$$module$build$src$core$render_management=0,module$build$src$core$render_management={};module$build$src$core$render_management.finishQueuedRenders=finishQueuedRenders$$module$build$src$core$render_management;module$build$src$core$render_management.queueRender=queueRender$$module$build$src$core$render_management;module$build$src$core$render_management.triggerQueuedRenders=triggerQueuedRenders$$module$build$src$core$render_management;var module$build$src$core$xml={};module$build$src$core$xml.appendDomToWorkspace=appendDomToWorkspace$$module$build$src$core$xml;module$build$src$core$xml.blockToDom=_blockToDom$$module$build$src$core$xml;module$build$src$core$xml.blockToDomWithXY=blockToDomWithXY$$module$build$src$core$xml;module$build$src$core$xml.clearWorkspaceAndLoadFromXml=clearWorkspaceAndLoadFromXml$$module$build$src$core$xml;module$build$src$core$xml.deleteNext=deleteNext$$module$build$src$core$xml;module$build$src$core$xml.domToBlock=$.domToBlock$$module$build$src$core$xml;module$build$src$core$xml.domToBlockInternal=domToBlockInternal$$module$build$src$core$xml;module$build$src$core$xml.domToPrettyText=domToPrettyText$$module$build$src$core$xml;module$build$src$core$xml.domToText=domToText$$module$build$src$core$xml;module$build$src$core$xml.domToVariables=domToVariables$$module$build$src$core$xml;module$build$src$core$xml.domToWorkspace=$.domToWorkspace$$module$build$src$core$xml;module$build$src$core$xml.variablesToDom=variablesToDom$$module$build$src$core$xml;module$build$src$core$xml.workspaceToDom=workspaceToDom$$module$build$src$core$xml;var module$build$src$core$interfaces$i_serializable={};module$build$src$core$interfaces$i_serializable.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;var DeserializationError$$module$build$src$core$serialization$exceptions=/*#__PURE__*/function(_Error){"use strict";_inherits(DeserializationError$$module$build$src$core$serialization$exceptions,_Error);function DeserializationError$$module$build$src$core$serialization$exceptions(){_classCallCheck(this,DeserializationError$$module$build$src$core$serialization$exceptions);return _callSuper(this,DeserializationError$$module$build$src$core$serialization$exceptions,arguments);}return _createClass(DeserializationError$$module$build$src$core$serialization$exceptions);}(/*#__PURE__*/_wrapNativeSuper(Error)),MissingBlockType$$module$build$src$core$serialization$exceptions=/*#__PURE__*/function(_DeserializationError){"use strict";_inherits(MissingBlockType$$module$build$src$core$serialization$exceptions,_DeserializationError);function MissingBlockType$$module$build$src$core$serialization$exceptions(a){var _this10;_classCallCheck(this,MissingBlockType$$module$build$src$core$serialization$exceptions);_this10=_callSuper(this,MissingBlockType$$module$build$src$core$serialization$exceptions,["Expected to find a 'type' property, defining the block type"]);_this10.state=a;return _this10;}return _createClass(MissingBlockType$$module$build$src$core$serialization$exceptions);}(DeserializationError$$module$build$src$core$serialization$exceptions),MissingConnection$$module$build$src$core$serialization$exceptions=/*#__PURE__*/function(_DeserializationError2){"use strict";_inherits(MissingConnection$$module$build$src$core$serialization$exceptions,_DeserializationError2);function MissingConnection$$module$build$src$core$serialization$exceptions(a,b,c){var _this11;_classCallCheck(this,MissingConnection$$module$build$src$core$serialization$exceptions);_this11=_callSuper(this,MissingConnection$$module$build$src$core$serialization$exceptions,[`The block ${b.toDevString()} is missing a(n) ${a}
connection`]);_this11.block=b;_this11.state=c;return _this11;}return _createClass(MissingConnection$$module$build$src$core$serialization$exceptions);}(DeserializationError$$module$build$src$core$serialization$exceptions),BadConnectionCheck$$module$build$src$core$serialization$exceptions=/*#__PURE__*/function(_DeserializationError3){"use strict";_inherits(BadConnectionCheck$$module$build$src$core$serialization$exceptions,_DeserializationError3);function BadConnectionCheck$$module$build$src$core$serialization$exceptions(a,b,c,d){var _this12;_classCallCheck(this,BadConnectionCheck$$module$build$src$core$serialization$exceptions);_this12=_callSuper(this,BadConnectionCheck$$module$build$src$core$serialization$exceptions,[`The block ${c.toDevString()} could not connect its
${b} to its parent, because: ${a}`]);_this12.childBlock=c;_this12.childState=d;return _this12;}return _createClass(BadConnectionCheck$$module$build$src$core$serialization$exceptions);}(DeserializationError$$module$build$src$core$serialization$exceptions),RealChildOfShadow$$module$build$src$core$serialization$exceptions=/*#__PURE__*/function(_DeserializationError4){"use strict";_inherits(RealChildOfShadow$$module$build$src$core$serialization$exceptions,_DeserializationError4);function RealChildOfShadow$$module$build$src$core$serialization$exceptions(a){var _this13;_classCallCheck(this,RealChildOfShadow$$module$build$src$core$serialization$exceptions);_this13=_callSuper(this,RealChildOfShadow$$module$build$src$core$serialization$exceptions,["Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"]);_this13.state=a;return _this13;}return _createClass(RealChildOfShadow$$module$build$src$core$serialization$exceptions);}(DeserializationError$$module$build$src$core$serialization$exceptions),UnregisteredIcon$$module$build$src$core$serialization$exceptions=/*#__PURE__*/function(_DeserializationError5){"use strict";_inherits(UnregisteredIcon$$module$build$src$core$serialization$exceptions,_DeserializationError5);function UnregisteredIcon$$module$build$src$core$serialization$exceptions(a,b,c){var _this14;_classCallCheck(this,UnregisteredIcon$$module$build$src$core$serialization$exceptions);_this14=_callSuper(this,UnregisteredIcon$$module$build$src$core$serialization$exceptions,[`Cannot add an icon of type '${a}' to the block `+`${b.toDevString()}, because there is no icon registered with `+`type '${a}'. Make sure that all of your icons have been `+"registered."]);_this14.block=b;_this14.state=c;return _this14;}return _createClass(UnregisteredIcon$$module$build$src$core$serialization$exceptions);}(DeserializationError$$module$build$src$core$serialization$exceptions),module$build$src$core$serialization$exceptions={};module$build$src$core$serialization$exceptions.BadConnectionCheck=BadConnectionCheck$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.DeserializationError=DeserializationError$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.MissingBlockType=MissingBlockType$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.MissingConnection=MissingConnection$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.RealChildOfShadow=RealChildOfShadow$$module$build$src$core$serialization$exceptions;module$build$src$core$serialization$exceptions.UnregisteredIcon=UnregisteredIcon$$module$build$src$core$serialization$exceptions;var VARIABLES$$module$build$src$core$serialization$priorities=100,PROCEDURES$$module$build$src$core$serialization$priorities=75,BLOCKS$$module$build$src$core$serialization$priorities=50,module$build$src$core$serialization$priorities={BLOCKS:BLOCKS$$module$build$src$core$serialization$priorities,PROCEDURES:PROCEDURES$$module$build$src$core$serialization$priorities,VARIABLES:VARIABLES$$module$build$src$core$serialization$priorities};var module$build$src$core$serialization$registry={};module$build$src$core$serialization$registry.register=register$$module$build$src$core$serialization$registry;module$build$src$core$serialization$registry.unregister=unregister$$module$build$src$core$serialization$registry;var saveBlock$$module$build$src$core$serialization$blocks=save$$module$build$src$core$serialization$blocks,BlockSerializer$$module$build$src$core$serialization$blocks=/*#__PURE__*/function(){"use strict";function BlockSerializer$$module$build$src$core$serialization$blocks(){_classCallCheck(this,BlockSerializer$$module$build$src$core$serialization$blocks);this.priority=BLOCKS$$module$build$src$core$serialization$priorities;}_createClass(BlockSerializer$$module$build$src$core$serialization$blocks,[{key:"save",value:function save(a){var b=[];var _iterator22=_createForOfIteratorHelper(a.getTopBlocks(!1)),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var c=_step22.value;(a=save$$module$build$src$core$serialization$blocks(c,{addCoordinates:!0,doFullSerialization:!1}))&&b.push(a);}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return b.length?{languageVersion:0,blocks:b}:null;}},{key:"load",value:function load(a,b){a=a.blocks;var _iterator23=_createForOfIteratorHelper(a),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var c=_step23.value;append$$module$build$src$core$serialization$blocks(c,b,{recordUndo:getRecordUndo$$module$build$src$core$events$utils()});}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}}},{key:"clear",value:function clear(a){var _iterator24=_createForOfIteratorHelper(a.getTopBlocks(!1)),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var b=_step24.value;b.dispose(!1);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}}}]);return BlockSerializer$$module$build$src$core$serialization$blocks;}();register$$module$build$src$core$serialization$registry("blocks",new BlockSerializer$$module$build$src$core$serialization$blocks());var module$build$src$core$serialization$blocks={};module$build$src$core$serialization$blocks.BlockSerializer=BlockSerializer$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.append=append$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.appendInternal=appendInternal$$module$build$src$core$serialization$blocks;module$build$src$core$serialization$blocks.save=save$$module$build$src$core$serialization$blocks;var BlockBase$$module$build$src$core$events$events_block_base=/*#__PURE__*/function(_Abstract$$module$bui3){"use strict";_inherits(BlockBase$$module$build$src$core$events$events_block_base,_Abstract$$module$bui3);function BlockBase$$module$build$src$core$events$events_block_base(a){var _this15;_classCallCheck(this,BlockBase$$module$build$src$core$events$events_block_base);_this15=_callSuper(this,BlockBase$$module$build$src$core$events$events_block_base);_this15.isBlank=!a;a&&(_this15.blockId=a.id,_this15.workspaceId=a.workspace.id);return _this15;}_createClass(BlockBase$$module$build$src$core$events$events_block_base,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BlockBase$$module$build$src$core$events$events_block_base.prototype),"toJson",this).call(this);if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");a.blockId=this.blockId;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BlockBase$$module$build$src$core$events$events_block_base),"fromJson",this).call(this,a,b,null!=c?c:new BlockBase$$module$build$src$core$events$events_block_base());b.blockId=a.blockId;return b;}}]);return BlockBase$$module$build$src$core$events$events_block_base;}(Abstract$$module$build$src$core$events$events_abstract),module$build$src$core$events$events_block_base={};module$build$src$core$events$events_block_base.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;var BlockCreate$$module$build$src$core$events$events_block_create=/*#__PURE__*/function(_BlockBase$$module$bu){"use strict";_inherits(BlockCreate$$module$build$src$core$events$events_block_create,_BlockBase$$module$bu);function BlockCreate$$module$build$src$core$events$events_block_create(a){var _this16;_classCallCheck(this,BlockCreate$$module$build$src$core$events$events_block_create);_this16=_callSuper(this,BlockCreate$$module$build$src$core$events$events_block_create,[a]);_this16.type=$.CREATE$$module$build$src$core$events$utils;a&&(a.isShadow()&&(_this16.recordUndo=!1),_this16.xml=blockToDomWithXY$$module$build$src$core$xml(a),_this16.ids=getDescendantIds$$module$build$src$core$events$utils(a),_this16.json=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0}));return _this16;}_createClass(BlockCreate$$module$build$src$core$events$events_block_create,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BlockCreate$$module$build$src$core$events$events_block_create.prototype),"toJson",this).call(this);if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");a.xml=domToText$$module$build$src$core$xml(this.xml);a.ids=this.ids;a.json=this.json;this.recordUndo||(a.recordUndo=this.recordUndo);return a;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!allShadowBlocks$$module$build$src$core$events$events_block_create(b,this.ids))if(a)append$$module$build$src$core$serialization$blocks(this.json,b);else for(a=0;a<this.ids.length;a++){var c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn("Can't uncreate non-existent block: "+c);}}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BlockCreate$$module$build$src$core$events$events_block_create),"fromJson",this).call(this,a,b,null!=c?c:new BlockCreate$$module$build$src$core$events$events_block_create());b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);b.ids=a.ids;b.json=a.json;void 0!==a.recordUndo&&(b.recordUndo=a.recordUndo);return b;}}]);return BlockCreate$$module$build$src$core$events$events_block_create;}(BlockBase$$module$build$src$core$events$events_block_base),allShadowBlocks$$module$build$src$core$events$events_block_create=function allShadowBlocks$$module$build$src$core$events$events_block_create(a,b){return b.map(function(c){return a.getBlockById(c);}).filter(function(c){return c&&c.isShadow();}).length===b.length;};register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,$.CREATE$$module$build$src$core$events$utils,BlockCreate$$module$build$src$core$events$events_block_create);var module$build$src$core$events$events_block_create={};module$build$src$core$events$events_block_create.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;var ThemeChange$$module$build$src$core$events$events_theme_change=/*#__PURE__*/function(_UiBase$$module$build3){"use strict";_inherits(ThemeChange$$module$build$src$core$events$events_theme_change,_UiBase$$module$build3);function ThemeChange$$module$build$src$core$events$events_theme_change(a,b){var _this17;_classCallCheck(this,ThemeChange$$module$build$src$core$events$events_theme_change);_this17=_callSuper(this,ThemeChange$$module$build$src$core$events$events_theme_change,[b]);_this17.type=THEME_CHANGE$$module$build$src$core$events$utils;_this17.themeName=a;return _this17;}_createClass(ThemeChange$$module$build$src$core$events$events_theme_change,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(ThemeChange$$module$build$src$core$events$events_theme_change.prototype),"toJson",this).call(this);if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");a.themeName=this.themeName;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(ThemeChange$$module$build$src$core$events$events_theme_change),"fromJson",this).call(this,a,b,null!=c?c:new ThemeChange$$module$build$src$core$events$events_theme_change());b.themeName=a.themeName;return b;}}]);return ThemeChange$$module$build$src$core$events$events_theme_change;}(UiBase$$module$build$src$core$events$events_ui_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,THEME_CHANGE$$module$build$src$core$events$utils,ThemeChange$$module$build$src$core$events$events_theme_change);var module$build$src$core$events$events_theme_change={};module$build$src$core$events$events_theme_change.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;var ViewportChange$$module$build$src$core$events$events_viewport=/*#__PURE__*/function(_UiBase$$module$build4){"use strict";_inherits(ViewportChange$$module$build$src$core$events$events_viewport,_UiBase$$module$build4);function ViewportChange$$module$build$src$core$events$events_viewport(a,b,c,d,e){var _this18;_classCallCheck(this,ViewportChange$$module$build$src$core$events$events_viewport);_this18=_callSuper(this,ViewportChange$$module$build$src$core$events$events_viewport,[d]);_this18.type=VIEWPORT_CHANGE$$module$build$src$core$events$utils;_this18.viewTop=a;_this18.viewLeft=b;_this18.scale=c;_this18.oldScale=e;return _this18;}_createClass(ViewportChange$$module$build$src$core$events$events_viewport,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(ViewportChange$$module$build$src$core$events$events_viewport.prototype),"toJson",this).call(this);if(void 0===this.viewTop)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.viewLeft)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.scale)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.oldScale)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");a.viewTop=this.viewTop;a.viewLeft=this.viewLeft;a.scale=this.scale;a.oldScale=this.oldScale;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(ViewportChange$$module$build$src$core$events$events_viewport),"fromJson",this).call(this,a,b,null!=c?c:new ViewportChange$$module$build$src$core$events$events_viewport());b.viewTop=a.viewTop;b.viewLeft=a.viewLeft;b.scale=a.scale;b.oldScale=a.oldScale;return b;}}]);return ViewportChange$$module$build$src$core$events$events_viewport;}(UiBase$$module$build$src$core$events$events_ui_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,VIEWPORT_CHANGE$$module$build$src$core$events$utils,ViewportChange$$module$build$src$core$events$events_viewport);var module$build$src$core$events$events_viewport={};module$build$src$core$events$events_viewport.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;var DEFAULT_SNAP_RADIUS$$module$build$src$core$config,module$build$src$core$config;DEFAULT_SNAP_RADIUS$$module$build$src$core$config=28;$.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,connectingSnapRadius:DEFAULT_SNAP_RADIUS$$module$build$src$core$config,currentConnectionPreference:8,bumpDelay:250};module$build$src$core$config={config:$.config$$module$build$src$core$config};var ConnectionType$$module$build$src$core$connection_type;(function(a){a[a.INPUT_VALUE=1]="INPUT_VALUE";a[a.OUTPUT_VALUE=2]="OUTPUT_VALUE";a[a.NEXT_STATEMENT=3]="NEXT_STATEMENT";a[a.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT";})(ConnectionType$$module$build$src$core$connection_type||(ConnectionType$$module$build$src$core$connection_type={}));var module$build$src$core$connection_type={};module$build$src$core$connection_type.ConnectionType=ConnectionType$$module$build$src$core$connection_type;var ConnectionDB$$module$build$src$core$connection_db=/*#__PURE__*/function(){"use strict";function ConnectionDB$$module$build$src$core$connection_db(a){_classCallCheck(this,ConnectionDB$$module$build$src$core$connection_db);this.connectionChecker=a;this.connections=[];}_createClass(ConnectionDB$$module$build$src$core$connection_db,[{key:"addConnection",value:function addConnection(a,b){b=this.calculateIndexForYPos(b);this.connections.splice(b,0,a);}},{key:"findIndexOfConnection",value:function findIndexOfConnection(a,b){if(!this.connections.length)return-1;var c=this.calculateIndexForYPos(b);if(c>=this.connections.length)return-1;b=a.y;var d=c;for(;0<=d&&this.connections[d].y===b;){if(this.connections[d]===a)return d;d--;}for(d=c;d<this.connections.length&&this.connections[d].y===b;){if(this.connections[d]===a)return d;d++;}return-1;}},{key:"calculateIndexForYPos",value:function calculateIndexForYPos(a){if(!this.connections.length)return 0;var b=0,c=this.connections.length;for(;b<c;){var d=Math.floor((b+c)/2);if(this.connections[d].y<a)b=d+1;else if(this.connections[d].y>a)c=d;else{b=d;break;}}return b;}},{key:"removeConnection",value:function removeConnection(a,b){a=this.findIndexOfConnection(a,b);if(-1===a)throw Error("Unable to find connection in connectionDB.");this.connections.splice(a,1);}},{key:"getNeighbours",value:function getNeighbours(a,b){function c(l){var m=e-d[l].x,n=f-d[l].y;Math.sqrt(m*m+n*n)<=b&&k.push(d[l]);return n<b;}var d=this.connections,e=a.x,f=a.y;a=0;var g=d.length-2,h=g;for(;a<h;)d[h].y<f?a=h:g=h,h=Math.floor((a+g)/2);var k=[];g=a=h;if(d.length){for(;0<=a&&c(a);)a--;do g++;while(g<d.length&&c(g));}return k;}},{key:"isInYRange",value:function isInYRange(a,b,c){return Math.abs(this.connections[a].y-b)<=c;}},{key:"searchForClosest",value:function searchForClosest(a,b,c){if(!this.connections.length)return{connection:null,radius:b};var d=a.y,e=a.x;a.x=e+c.x;a.y=d+c.y;var f=this.calculateIndexForYPos(a.y);c=null;var g=b,h,k=f-1;for(;0<=k&&this.isInYRange(k,a.y,b);)h=this.connections[k],this.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),k--;for(;f<this.connections.length&&this.isInYRange(f,a.y,b);)h=this.connections[f],this.connectionChecker.canConnect(a,h,!0,g)&&(c=h,g=h.distanceFrom(a)),f++;a.x=e;a.y=d;return{connection:c,radius:g};}}],[{key:"init",value:function init(a){var b=[];b[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);b[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=new ConnectionDB$$module$build$src$core$connection_db(a);return b;}}]);return ConnectionDB$$module$build$src$core$connection_db;}(),module$build$src$core$connection_db={};module$build$src$core$connection_db.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;var BlockPaster$$module$build$src$core$clipboard$block_paster=/*#__PURE__*/function(){"use strict";function BlockPaster$$module$build$src$core$clipboard$block_paster(){_classCallCheck(this,BlockPaster$$module$build$src$core$clipboard$block_paster);}_createClass(BlockPaster$$module$build$src$core$clipboard$block_paster,[{key:"paste",value:function paste(a,b,c){if(!b.isCapacityAvailable(a.typeCounts))return null;c&&(a.blockState.x=c.x,a.blockState.y=c.y);$.disable$$module$build$src$core$events$utils();var d;try{d=append$$module$build$src$core$serialization$blocks(a.blockState,b),moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster(d);}finally{$.enable$$module$build$src$core$events$utils();}if(!d)return d;isEnabled$$module$build$src$core$events$utils()&&!d.isShadow()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CREATE$$module$build$src$core$events$utils))(d));d.select();return d;}}]);return BlockPaster$$module$build$src$core$clipboard$block_paster;}();BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE="block";register$$module$build$src$core$clipboard$registry(BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,new BlockPaster$$module$build$src$core$clipboard$block_paster());var module$build$src$core$clipboard$block_paster={};module$build$src$core$clipboard$block_paster.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard$block_paster.moveBlockToNotConflict=moveBlockToNotConflict$$module$build$src$core$clipboard$block_paster;var stashedCopyData$$module$build$src$core$clipboard=null,stashedWorkspace$$module$build$src$core$clipboard=null,TEST_ONLY$$module$build$src$core$clipboard={duplicateInternal:duplicateInternal$$module$build$src$core$clipboard,copyInternal:copyInternal$$module$build$src$core$clipboard},module$build$src$core$clipboard={};module$build$src$core$clipboard.BlockPaster=BlockPaster$$module$build$src$core$clipboard$block_paster;module$build$src$core$clipboard.TEST_ONLY=TEST_ONLY$$module$build$src$core$clipboard;module$build$src$core$clipboard.copy=copy$$module$build$src$core$clipboard;module$build$src$core$clipboard.duplicate=duplicate$$module$build$src$core$clipboard;module$build$src$core$clipboard.paste=paste$$module$build$src$core$clipboard;module$build$src$core$clipboard.registry=module$build$src$core$clipboard$registry;var ARIA_PREFIX$$module$build$src$core$utils$aria="aria-",ROLE_ATTRIBUTE$$module$build$src$core$utils$aria="role",Role$$module$build$src$core$utils$aria;(function(a){a.GRID="grid";a.GRIDCELL="gridcell";a.GROUP="group";a.LISTBOX="listbox";a.MENU="menu";a.MENUITEM="menuitem";a.MENUITEMCHECKBOX="menuitemcheckbox";a.OPTION="option";a.PRESENTATION="presentation";a.ROW="row";a.TREE="tree";a.TREEITEM="treeitem";})(Role$$module$build$src$core$utils$aria||(Role$$module$build$src$core$utils$aria={}));var State$$module$build$src$core$utils$aria;(function(a){a.ACTIVEDESCENDANT="activedescendant";a.COLCOUNT="colcount";a.DISABLED="disabled";a.EXPANDED="expanded";a.INVALID="invalid";a.LABEL="label";a.LABELLEDBY="labelledby";a.LEVEL="level";a.ORIENTATION="orientation";a.POSINSET="posinset";a.ROWCOUNT="rowcount";a.SELECTED="selected";a.SETSIZE="setsize";a.VALUEMAX="valuemax";a.VALUEMIN="valuemin";})(State$$module$build$src$core$utils$aria||(State$$module$build$src$core$utils$aria={}));var module$build$src$core$utils$aria={};module$build$src$core$utils$aria.Role=Role$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.State=State$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setRole=setRole$$module$build$src$core$utils$aria;module$build$src$core$utils$aria.setState=setState$$module$build$src$core$utils$aria;var Menu$$module$build$src$core$menu=/*#__PURE__*/function(){"use strict";function Menu$$module$build$src$core$menu(){_classCallCheck(this,Menu$$module$build$src$core$menu);this.menuItems=[];this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null;}_createClass(Menu$$module$build$src$core$menu,[{key:"addChild",value:function addChild(a){this.menuItems.push(a);}},{key:"render",value:function render(a){var b=document.createElement("div");b.className="blocklyMenu goog-menu blocklyNonSelectable";b.tabIndex=0;this.roleName&&setRole$$module$build$src$core$utils$aria(b,this.roleName);this.element=b;for(var c=0,d;d=this.menuItems[c];c++)b.appendChild(d.createDom());this.mouseOverHandler=conditionalBind$$module$build$src$core$browser_events(b,"pointerover",this,this.handleMouseOver,!0);this.clickHandler=conditionalBind$$module$build$src$core$browser_events(b,"pointerup",this,this.handleClick,!0);this.mouseEnterHandler=conditionalBind$$module$build$src$core$browser_events(b,"pointerenter",this,this.handleMouseEnter,!0);this.mouseLeaveHandler=conditionalBind$$module$build$src$core$browser_events(b,"pointerleave",this,this.handleMouseLeave,!0);this.onKeyDownHandler=conditionalBind$$module$build$src$core$browser_events(b,"keydown",this,this.handleKeyEvent);a.appendChild(b);return b;}},{key:"getElement",value:function getElement(){return this.element;}},{key:"focus",value:function focus(){var a=this.getElement();a&&(a.focus({preventScroll:!0}),addClass$$module$build$src$core$utils$dom(a,"blocklyFocused"));}},{key:"blur",value:function blur(){var a=this.getElement();a&&(a.blur(),removeClass$$module$build$src$core$utils$dom(a,"blocklyFocused"));}},{key:"setRole",value:function setRole(a){this.roleName=a;}},{key:"dispose",value:function dispose(){this.mouseOverHandler&&(unbind$$module$build$src$core$browser_events(this.mouseOverHandler),this.mouseOverHandler=null);this.clickHandler&&(unbind$$module$build$src$core$browser_events(this.clickHandler),this.clickHandler=null);this.mouseEnterHandler&&(unbind$$module$build$src$core$browser_events(this.mouseEnterHandler),this.mouseEnterHandler=null);this.mouseLeaveHandler&&(unbind$$module$build$src$core$browser_events(this.mouseLeaveHandler),this.mouseLeaveHandler=null);this.onKeyDownHandler&&(unbind$$module$build$src$core$browser_events(this.onKeyDownHandler),this.onKeyDownHandler=null);for(var a=0,b;b=this.menuItems[a];a++)b.dispose();this.element=null;}},{key:"getMenuItem",value:function getMenuItem(a){var b=this.getElement();for(;a&&a!==b;){if(a.classList.contains("blocklyMenuItem"))for(var c=0,d;d=this.menuItems[c];c++)if(d.getElement()===a)return d;a=a.parentElement;}return null;}},{key:"setHighlighted",value:function setHighlighted(a){var b=this.highlightedItem;b&&(b.setHighlighted(!1),this.highlightedItem=null);a&&(a.setHighlighted(!0),this.highlightedItem=a,b=this.getElement(),scrollIntoContainerView$$module$build$src$core$utils$style(a.getElement(),b),setState$$module$build$src$core$utils$aria(b,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,a.getId()));}},{key:"highlightNext",value:function highlightNext(){var a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(a,1);}},{key:"highlightPrevious",value:function highlightPrevious(){var a=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>a?this.menuItems.length:a,-1);}},{key:"highlightFirst",value:function highlightFirst(){this.highlightHelper(-1,1);}},{key:"highlightLast",value:function highlightLast(){this.highlightHelper(this.menuItems.length,-1);}},{key:"highlightHelper",value:function highlightHelper(a,b){a+=b;var c;for(;c=this.menuItems[a];){if(c.isEnabled()){this.setHighlighted(c);break;}a+=b;}}},{key:"handleMouseOver",value:function handleMouseOver(a){(a=this.getMenuItem(a.target))&&(a.isEnabled()?this.highlightedItem!==a&&this.setHighlighted(a):this.setHighlighted(null));}},{key:"handleClick",value:function handleClick(a){var b=this.openingCoords;this.openingCoords=null;if(b&&"number"===typeof a.clientX){var c=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);if(1>Coordinate$$module$build$src$core$utils$coordinate.distance(b,c))return;}(a=this.getMenuItem(a.target))&&a.performAction();}},{key:"handleMouseEnter",value:function handleMouseEnter(a){this.focus();}},{key:"handleMouseLeave",value:function handleMouseLeave(a){this.getElement()&&(this.blur(),this.setHighlighted(null));}},{key:"handleKeyEvent",value:function handleKeyEvent(a){if(this.menuItems.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var b=this.highlightedItem;switch(a.key){case"Enter":case" ":b&&b.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return;}a.preventDefault();a.stopPropagation();}}},{key:"getSize",value:function getSize(){var a=this.getElement(),b=getSize$$module$build$src$core$utils$style(a);b.height=a.scrollHeight;return b;}}]);return Menu$$module$build$src$core$menu;}(),module$build$src$core$menu={};module$build$src$core$menu.Menu=Menu$$module$build$src$core$menu;var MenuItem$$module$build$src$core$menuitem=/*#__PURE__*/function(){"use strict";function MenuItem$$module$build$src$core$menuitem(a,b){_classCallCheck(this,MenuItem$$module$build$src$core$menuitem);this.content=a;this.opt_value=b;this.enabled=!0;this.element=null;this.rightToLeft=!1;this.roleName=null;this.highlight=this.checked=this.checkable=!1;this.actionHandler=null;}_createClass(MenuItem$$module$build$src$core$menuitem,[{key:"createDom",value:function createDom(){var a=document.createElement("div");a.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();this.element=a;a.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var b=document.createElement("div");b.className="blocklyMenuItemContent goog-menuitem-content";if(this.checkable){var c=document.createElement("div");c.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";b.appendChild(c);}c=this.content;"string"===typeof this.content&&(c=document.createTextNode(this.content));b.appendChild(c);a.appendChild(b);this.roleName&&setRole$$module$build$src$core$utils$aria(a,this.roleName);setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.SELECTED,this.checkable&&this.checked||!1);setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.DISABLED,!this.enabled);return a;}},{key:"dispose",value:function dispose(){this.element=null;}},{key:"getElement",value:function getElement(){return this.element;}},{key:"getId",value:function getId(){return this.element.id;}},{key:"getValue",value:function getValue(){var a;return null!=(a=this.opt_value)?a:null;}},{key:"setRightToLeft",value:function setRightToLeft(a){this.rightToLeft=a;}},{key:"setRole",value:function setRole(a){this.roleName=a;}},{key:"setCheckable",value:function setCheckable(a){this.checkable=a;}},{key:"setChecked",value:function setChecked(a){this.checked=a;}},{key:"setHighlighted",value:function setHighlighted(a){this.highlight=a;var b=this.getElement();b&&this.isEnabled()&&(a?(addClass$$module$build$src$core$utils$dom(b,"blocklyMenuItemHighlight"),addClass$$module$build$src$core$utils$dom(b,"goog-menuitem-highlight")):(removeClass$$module$build$src$core$utils$dom(b,"blocklyMenuItemHighlight"),removeClass$$module$build$src$core$utils$dom(b,"goog-menuitem-highlight")));}},{key:"isEnabled",value:function isEnabled(){return this.enabled;}},{key:"setEnabled",value:function setEnabled(a){this.enabled=a;}},{key:"performAction",value:function performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this);}},{key:"onAction",value:function onAction(a,b){this.actionHandler=a.bind(b);}}]);return MenuItem$$module$build$src$core$menuitem;}(),module$build$src$core$menuitem={};module$build$src$core$menuitem.MenuItem=MenuItem$$module$build$src$core$menuitem;var owner$$module$build$src$core$widgetdiv=null,dispose$$module$build$src$core$widgetdiv=null,containerClassName$$module$build$src$core$widgetdiv="blocklyWidgetDiv",rendererClassName$$module$build$src$core$widgetdiv="",themeClassName$$module$build$src$core$widgetdiv="",containerDiv$$module$build$src$core$widgetdiv,module$build$src$core$widgetdiv={};module$build$src$core$widgetdiv.createDom=createDom$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.getDiv=getDiv$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hide=hide$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.hideIfOwner=hideIfOwner$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.isVisible=isVisible$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.positionWithAnchor=positionWithAnchor$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.show=show$$module$build$src$core$widgetdiv;module$build$src$core$widgetdiv.testOnly_setDiv=testOnly_setDiv$$module$build$src$core$widgetdiv;var currentBlock$$module$build$src$core$contextmenu=null,dummyOwner$$module$build$src$core$contextmenu={},menu_$$module$build$src$core$contextmenu=null,module$build$src$core$contextmenu={};module$build$src$core$contextmenu.callbackFactory=$.callbackFactory$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.commentDeleteOption=commentDeleteOption$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.commentDuplicateOption=commentDuplicateOption$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.dispose=dispose$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.getCurrentBlock=getCurrentBlock$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.hide=hide$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.setCurrentBlock=setCurrentBlock$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.show=show$$module$build$src$core$contextmenu;module$build$src$core$contextmenu.workspaceCommentOption=workspaceCommentOption$$module$build$src$core$contextmenu;var ContextMenuRegistry$$module$build$src$core$contextmenu_registry=/*#__PURE__*/function(){"use strict";function ContextMenuRegistry$$module$build$src$core$contextmenu_registry(){_classCallCheck(this,ContextMenuRegistry$$module$build$src$core$contextmenu_registry);this.registry_=new Map();this.reset();}_createClass(ContextMenuRegistry$$module$build$src$core$contextmenu_registry,[{key:"reset",value:function reset(){this.registry_.clear();}},{key:"register",value:function register(a){if(this.registry_.has(a.id))throw Error('Menu item with ID "'+a.id+'" is already registered.');this.registry_.set(a.id,a);}},{key:"unregister",value:function unregister(a){if(!this.registry_.has(a))throw Error('Menu item with ID "'+a+'" not found.');this.registry_.delete(a);}},{key:"getItem",value:function getItem(a){var b;return null!=(b=this.registry_.get(a))?b:null;}},{key:"getContextMenuOptions",value:function getContextMenuOptions(a,b){var c=[];var _iterator25=_createForOfIteratorHelper(this.registry_.values()),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var e=_step25.value;if(a===e.scopeType){var d=e.preconditionFn(b);"hidden"!==d&&(d={text:"function"===typeof e.displayText?e.displayText(b):e.displayText,enabled:"enabled"===d,callback:e.callback,scope:b,weight:e.weight},c.push(d));}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}c.sort(function(e,f){return e.weight-f.weight;});return c;}}]);return ContextMenuRegistry$$module$build$src$core$contextmenu_registry;}();(function(a){var b=a.ScopeType||(a.ScopeType={});b.BLOCK="block";b.WORKSPACE="workspace";a.registry=new a();})(ContextMenuRegistry$$module$build$src$core$contextmenu_registry||(ContextMenuRegistry$$module$build$src$core$contextmenu_registry={}));var ScopeType$$module$build$src$core$contextmenu_registry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType,module$build$src$core$contextmenu_registry={};module$build$src$core$contextmenu_registry.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$contextmenu_registry.ScopeType=ScopeType$$module$build$src$core$contextmenu_registry;var module$build$src$core$utils$math={};module$build$src$core$utils$math.clamp=clamp$$module$build$src$core$utils$math;module$build$src$core$utils$math.toDegrees=toDegrees$$module$build$src$core$utils$math;module$build$src$core$utils$math.toRadians=toRadians$$module$build$src$core$utils$math;var ARROW_SIZE$$module$build$src$core$dropdowndiv=16,BORDER_SIZE$$module$build$src$core$dropdowndiv=1,ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv=12,PADDING_Y$$module$build$src$core$dropdowndiv=16,ANIMATION_TIME$$module$build$src$core$dropdowndiv=.25,animateOutTimer$$module$build$src$core$dropdowndiv=null,onHide$$module$build$src$core$dropdowndiv=null,renderedClassName$$module$build$src$core$dropdowndiv="",themeClassName$$module$build$src$core$dropdowndiv="",div$$module$build$src$core$dropdowndiv,content$$module$build$src$core$dropdowndiv,arrow$$module$build$src$core$dropdowndiv,boundsElement$$module$build$src$core$dropdowndiv=null,owner$$module$build$src$core$dropdowndiv=null,positionToField$$module$build$src$core$dropdowndiv=null,internal$$module$build$src$core$dropdowndiv={getBoundsInfo:function getBoundsInfo(){var a=getPageOffset$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv),b=getSize$$module$build$src$core$utils$style(boundsElement$$module$build$src$core$dropdowndiv);return{left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height};},getPositionMetrics:function getPositionMetrics(a,b,c,d){var e=internal$$module$build$src$core$dropdowndiv.getBoundsInfo(),f=getSize$$module$build$src$core$utils$style(div$$module$build$src$core$dropdowndiv);return b+f.height<e.bottom?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>e.top?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,d,e,f):b+f.height<document.documentElement.clientHeight?getPositionBelowMetrics$$module$build$src$core$dropdowndiv(a,b,e,f):d-f.height>document.documentElement.clientTop?getPositionAboveMetrics$$module$build$src$core$dropdowndiv(c,d,e,f):getPositionTopOfPageMetrics$$module$build$src$core$dropdowndiv(a,e,f);}},TEST_ONLY$$module$build$src$core$dropdowndiv=internal$$module$build$src$core$dropdowndiv,module$build$src$core$dropdowndiv={ANIMATION_TIME:ANIMATION_TIME$$module$build$src$core$dropdowndiv,ARROW_HORIZONTAL_PADDING:ARROW_HORIZONTAL_PADDING$$module$build$src$core$dropdowndiv,ARROW_SIZE:ARROW_SIZE$$module$build$src$core$dropdowndiv,BORDER_SIZE:BORDER_SIZE$$module$build$src$core$dropdowndiv,PADDING_Y:PADDING_Y$$module$build$src$core$dropdowndiv,TEST_ONLY:internal$$module$build$src$core$dropdowndiv};module$build$src$core$dropdowndiv.clearContent=clearContent$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.createDom=createDom$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getContentDiv=getContentDiv$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getOwner=getOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.getPositionX=getPositionX$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hide=hide$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideIfOwner=hideIfOwner$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.hideWithoutAnimation=hideWithoutAnimation$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.isVisible=isVisible$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.repositionForWindowResize=repositionForWindowResize$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setBoundsElement=setBoundsElement$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.setColour=setColour$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.show=show$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.showPositionedByBlock=showPositionedByBlock$$module$build$src$core$dropdowndiv;module$build$src$core$dropdowndiv.showPositionedByField=showPositionedByField$$module$build$src$core$dropdowndiv;var disconnectPid$$module$build$src$core$block_animations=null,wobblingBlock$$module$build$src$core$block_animations=null,module$build$src$core$block_animations={};module$build$src$core$block_animations.connectionUiEffect=connectionUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiEffect=disconnectUiEffect$$module$build$src$core$block_animations;module$build$src$core$block_animations.disconnectUiStop=disconnectUiStop$$module$build$src$core$block_animations;module$build$src$core$block_animations.disposeUiEffect=disposeUiEffect$$module$build$src$core$block_animations;var BLOCK$$module$build$src$core$layers=50,BUBBLE$$module$build$src$core$layers=100,module$build$src$core$layers={BLOCK:BLOCK$$module$build$src$core$layers,BUBBLE:BUBBLE$$module$build$src$core$layers};var BubbleDragger$$module$build$src$core$bubble_dragger=/*#__PURE__*/function(){"use strict";function BubbleDragger$$module$build$src$core$bubble_dragger(a,b){_classCallCheck(this,BubbleDragger$$module$build$src$core$bubble_dragger);this.bubble=a;this.workspace=b;this.dragTarget_=null;this.wouldDeleteBubble_=!1;this.startXY_=this.bubble.getRelativeToSurfaceXY();}_createClass(BubbleDragger$$module$build$src$core$bubble_dragger,[{key:"startBubbleDrag",value:function startBubbleDrag(){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);this.workspace.setResizesEnabled(!1);this.bubble.setAutoLayout&&this.bubble.setAutoLayout(!1);var a;null==(a=this.workspace.getLayerManager())||a.moveToDragLayer(this.bubble);this.bubble.setDragging&&this.bubble.setDragging(!0);}},{key:"dragBubble",value:function dragBubble(a,b){b=this.pixelsToWorkspaceUnits_(b);b=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startXY_,b);this.bubble.moveDuringDrag(b);b=this.dragTarget_;this.dragTarget_=this.workspace.getDragTarget(a);a=this.wouldDeleteBubble_;this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_);a!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_();this.dragTarget_!==b&&(b&&b.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble));this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble);}},{key:"shouldDelete_",value:function shouldDelete_(a){return a&&this.workspace.getComponentManager().hasCapability(a.id,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA)?a.wouldDelete(this.bubble,!1):!1;}},{key:"updateCursorDuringBubbleDrag_",value:function updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_);}},{key:"endBubbleDrag",value:function endBubbleDrag(a,b){this.dragBubble(a,b);this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?a=this.startXY_:(a=this.pixelsToWorkspaceUnits_(b),a=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startXY_,a));this.bubble.moveTo(a.x,a.y);if(this.dragTarget_)this.dragTarget_.onDrop(this.bubble);if(this.wouldDeleteBubble_)this.fireMoveEvent_(),this.bubble.dispose();else{if(this.bubble.setDragging){this.bubble.setDragging(!1);var c;null==(c=this.workspace.getLayerManager())||c.moveOffDragLayer(this.bubble,BUBBLE$$module$build$src$core$layers);}this.fireMoveEvent_();}this.workspace.setResizesEnabled(!0);$.setGroup$$module$build$src$core$events$utils(!1);}},{key:"fireMoveEvent_",value:function fireMoveEvent_(){if(this.bubble instanceof WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg){var a=new(get$$module$build$src$core$events$utils(COMMENT_MOVE$$module$build$src$core$events$utils))(this.bubble);a.setOldCoordinate(this.startXY_);a.recordNew();fire$$module$build$src$core$events$utils(a);}}},{key:"pixelsToWorkspaceUnits_",value:function pixelsToWorkspaceUnits_(a){a=new Coordinate$$module$build$src$core$utils$coordinate(a.x/this.workspace.scale,a.y/this.workspace.scale);this.workspace.isMutator&&a.scale(1/this.workspace.options.parentWorkspace.scale);return a;}}]);return BubbleDragger$$module$build$src$core$bubble_dragger;}(),module$build$src$core$bubble_dragger={};module$build$src$core$bubble_dragger.BubbleDragger=BubbleDragger$$module$build$src$core$bubble_dragger;var COLLAPSE_CHARS$$module$build$src$core$internal_constants=30,DRAG_STACK$$module$build$src$core$internal_constants=!0,OPPOSITE_TYPE$$module$build$src$core$internal_constants=[];OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE]=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT;OPPOSITE_TYPE$$module$build$src$core$internal_constants[ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT]=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT;var RENAME_VARIABLE_ID$$module$build$src$core$internal_constants="RENAME_VARIABLE_ID",DELETE_VARIABLE_ID$$module$build$src$core$internal_constants="DELETE_VARIABLE_ID",module$build$src$core$internal_constants={COLLAPSE_CHARS:COLLAPSE_CHARS$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID:DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,DRAG_STACK:DRAG_STACK$$module$build$src$core$internal_constants,OPPOSITE_TYPE:OPPOSITE_TYPE$$module$build$src$core$internal_constants,RENAME_VARIABLE_ID:RENAME_VARIABLE_ID$$module$build$src$core$internal_constants};var module$build$src$core$utils$string={};module$build$src$core$utils$string.commonWordPrefix=commonWordPrefix$$module$build$src$core$utils$string;module$build$src$core$utils$string.commonWordSuffix=commonWordSuffix$$module$build$src$core$utils$string;module$build$src$core$utils$string.isNumber=$.isNumber$$module$build$src$core$utils$string;module$build$src$core$utils$string.shortestStringLength=shortestStringLength$$module$build$src$core$utils$string;module$build$src$core$utils$string.startsWith=startsWith$$module$build$src$core$utils$string;module$build$src$core$utils$string.wrap=$.wrap$$module$build$src$core$utils$string;var customTooltip$$module$build$src$core$tooltip=void 0,visible$$module$build$src$core$tooltip=!1,blocked$$module$build$src$core$tooltip=!1,LIMIT$$module$build$src$core$tooltip=50,mouseOutPid$$module$build$src$core$tooltip=0,showPid$$module$build$src$core$tooltip=0,lastX$$module$build$src$core$tooltip=0,lastY$$module$build$src$core$tooltip=0,element$$module$build$src$core$tooltip=null,poisonedElement$$module$build$src$core$tooltip=null,OFFSET_X$$module$build$src$core$tooltip=0,OFFSET_Y$$module$build$src$core$tooltip=10,RADIUS_OK$$module$build$src$core$tooltip=10,HOVER_MS$$module$build$src$core$tooltip=750,MARGINS$$module$build$src$core$tooltip=5,containerDiv$$module$build$src$core$tooltip=null,module$build$src$core$tooltip={HOVER_MS:HOVER_MS$$module$build$src$core$tooltip,LIMIT:LIMIT$$module$build$src$core$tooltip,MARGINS:MARGINS$$module$build$src$core$tooltip,OFFSET_X:OFFSET_X$$module$build$src$core$tooltip,OFFSET_Y:OFFSET_Y$$module$build$src$core$tooltip,RADIUS_OK:RADIUS_OK$$module$build$src$core$tooltip};module$build$src$core$tooltip.bindMouseEvents=bindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.block=block$$module$build$src$core$tooltip;module$build$src$core$tooltip.createDom=createDom$$module$build$src$core$tooltip;module$build$src$core$tooltip.dispose=dispose$$module$build$src$core$tooltip;module$build$src$core$tooltip.getCustomTooltip=getCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.getDiv=getDiv$$module$build$src$core$tooltip;module$build$src$core$tooltip.getTooltipOfObject=getTooltipOfObject$$module$build$src$core$tooltip;module$build$src$core$tooltip.hide=hide$$module$build$src$core$tooltip;module$build$src$core$tooltip.isVisible=isVisible$$module$build$src$core$tooltip;module$build$src$core$tooltip.setCustomTooltip=setCustomTooltip$$module$build$src$core$tooltip;module$build$src$core$tooltip.unbindMouseEvents=unbindMouseEvents$$module$build$src$core$tooltip;module$build$src$core$tooltip.unblock=unblock$$module$build$src$core$tooltip;var WorkspaceDragger$$module$build$src$core$workspace_dragger=/*#__PURE__*/function(){"use strict";function WorkspaceDragger$$module$build$src$core$workspace_dragger(a){_classCallCheck(this,WorkspaceDragger$$module$build$src$core$workspace_dragger);this.workspace=a;this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally();this.verticalScrollEnabled_=this.workspace.isMovableVertically();this.startScrollXY_=new Coordinate$$module$build$src$core$utils$coordinate(a.scrollX,a.scrollY);}_createClass(WorkspaceDragger$$module$build$src$core$workspace_dragger,[{key:"dispose",value:function dispose(){this.workspace=null;}},{key:"startDrag",value:function startDrag(){getSelected$$module$build$src$core$common()&&getSelected$$module$build$src$core$common().unselect();}},{key:"endDrag",value:function endDrag(a){this.drag(a);}},{key:"drag",value:function drag(a){a=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startScrollXY_,a);if(this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(a.x,a.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(a.x,this.workspace.scrollY);else if(this.verticalScrollEnabled_)this.workspace.scroll(this.workspace.scrollX,a.y);else throw new TypeError("Invalid state.");}}]);return WorkspaceDragger$$module$build$src$core$workspace_dragger;}(),module$build$src$core$workspace_dragger={};module$build$src$core$workspace_dragger.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;var ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture=5,ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture=6,Gesture$$module$build$src$core$gesture=/*#__PURE__*/function(){"use strict";function Gesture$$module$build$src$core$gesture(a,b){_classCallCheck(this,Gesture$$module$build$src$core$gesture);this.creatorWorkspace=b;this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.startWorkspace_=this.targetBlock=this.startBlock=this.startIcon=this.startField=this.startBubble=null;this.hasExceededDragRadius=!1;this.boundEvents=[];this.flyout=this.workspaceDragger=this.blockDragger=this.bubbleDragger=null;this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1;this.cachedPoints=new Map();this.startDistance=this.previousScale=0;this.currentDropdownOwner=this.isPinchZoomEnabled=null;this.mostRecentEvent=a;this.currentDragDeltaXY=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.healStack=!DRAG_STACK$$module$build$src$core$internal_constants;}_createClass(Gesture$$module$build$src$core$gesture,[{key:"dispose",value:function dispose(){clearTouchIdentifier$$module$build$src$core$touch();unblock$$module$build$src$core$tooltip();this.creatorWorkspace.clearGesture();var _iterator26=_createForOfIteratorHelper(this.boundEvents),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var a=_step26.value;unbind$$module$build$src$core$browser_events(a);}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}this.boundEvents.length=0;this.blockDragger&&this.blockDragger.dispose();this.workspaceDragger&&this.workspaceDragger.dispose();}},{key:"updateFromEvent",value:function updateFromEvent(a){var b=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY);this.updateDragDelta(b)&&(this.updateIsDragging(),longStop$$module$build$src$core$touch());this.mostRecentEvent=a;}},{key:"updateDragDelta",value:function updateDragDelta(a){this.currentDragDeltaXY=Coordinate$$module$build$src$core$utils$coordinate.difference(a,this.mouseDownXY);return this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Coordinate$$module$build$src$core$utils$coordinate.magnitude(this.currentDragDeltaXY)>(this.flyout?$.config$$module$build$src$core$config.flyoutDragRadius:$.config$$module$build$src$core$config.dragRadius);}},{key:"updateIsDraggingFromFlyout",value:function updateIsDraggingFromFlyout(){var a;if(!this.targetBlock||null==(a=this.flyout)||!a.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error("Cannot update dragging from the flyout because the ' +\n          'flyout's target workspace is undefined");return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),this.targetBlock.select(),!0):!1;}},{key:"updateIsDraggingBubble",value:function updateIsDraggingBubble(){if(!this.startBubble)return!1;this.startDraggingBubble();return!0;}},{key:"updateIsDraggingBlock",value:function updateIsDraggingBlock(){if(!this.targetBlock)return!1;if(this.flyout){if(this.updateIsDraggingFromFlyout())return this.startDraggingBlock(),!0;}else if(this.targetBlock.isMovable())return this.startDraggingBlock(),!0;return!1;}},{key:"updateIsDraggingWorkspace",value:function updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");if(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())this.workspaceDragger=new WorkspaceDragger$$module$build$src$core$workspace_dragger(this.startWorkspace_),this.workspaceDragger.startDrag();}},{key:"updateIsDragging",value:function updateIsDragging(){if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0;this.updateIsDraggingBubble()||this.updateIsDraggingBlock()||this.updateIsDraggingWorkspace();}},{key:"startDraggingBlock",value:function startDraggingBlock(){this.blockDragger=new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock,this.startWorkspace_);this.blockDragger.startDrag(this.currentDragDeltaXY,this.healStack);this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY);}},{key:"startDraggingBubble",value:function startDraggingBubble(){if(!this.startBubble)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger=new BubbleDragger$$module$build$src$core$bubble_dragger(this.startBubble,this.startWorkspace_);this.bubbleDragger.startBubbleDrag();this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY);}},{key:"doStart",value:function doStart(a){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch;isTargetInput$$module$build$src$core$browser_events(a)?this.cancel():(this.gestureHasStarted=!0,disconnectUiStop$$module$build$src$core$block_animations(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=getOwner$$module$build$src$core$dropdowndiv(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=a,block$$module$build$src$core$tooltip(),this.targetBlock&&this.targetBlock.select(),isRightButton$$module$build$src$core$browser_events(a)?this.handleRightClick(a):("pointerdown"===a.type.toLowerCase()&&"mouse"!==a.pointerType&&longStart$$module$build$src$core$touch(a,this),this.mouseDownXY=new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY),this.healStack=a.altKey||a.ctrlKey||a.metaKey,this.bindMouseEvents(a),this.isEnding_||this.handleTouchStart(a)));}},{key:"bindMouseEvents",value:function bindMouseEvents(a){this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,"pointerdown",null,this.handleStart.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,"pointermove",null,this.handleMove.bind(this),!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(document,"pointerup",null,this.handleUp.bind(this),!0));a.preventDefault();a.stopPropagation();}},{key:"handleStart",value:function handleStart(a){this.isDragging()||(this.handleTouchStart(a),this.isMultiTouch()&&longStop$$module$build$src$core$touch());}},{key:"handleMove",value:function handleMove(a){this.isDragging()&&shouldHandleEvent$$module$build$src$core$touch(a)||!this.isMultiTouch()?(this.updateFromEvent(a),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.blockDragger?this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY):this.bubbleDragger&&this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY),a.preventDefault(),a.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(a),longStop$$module$build$src$core$touch());}},{key:"handleUp",value:function handleUp(a){this.isDragging()||this.handleTouchEnd(a);if(!this.isMultiTouch()||this.isDragging()){if(!shouldHandleEvent$$module$build$src$core$touch(a))return;this.updateFromEvent(a);longStop$$module$build$src$core$touch();if(this.isEnding_){console.log("Trying to end a gesture recursively.");return;}this.isEnding_=!0;this.bubbleDragger?this.bubbleDragger.endBubbleDrag(a,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(a,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()?this.doBubbleClick():this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(a);}a.preventDefault();a.stopPropagation();this.dispose();}},{key:"handleTouchStart",value:function handleTouchStart(a){var b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));var c=Array.from(this.cachedPoints.keys());2===c.length&&(b=this.cachedPoints.get(c[0]),c=this.cachedPoints.get(c[1]),this.startDistance=Coordinate$$module$build$src$core$utils$coordinate.distance(b,c),this.isMultiTouch_=!0,a.preventDefault());}},{key:"handleTouchMove",value:function handleTouchMove(a){var b=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.set(b,this.getTouchPoint(a));this.isPinchZoomEnabled&&2===this.cachedPoints.size?this.handlePinch(a):this.handleMove(a);}},{key:"handlePinch",value:function handlePinch(a){var b=Array.from(this.cachedPoints.keys()),c=this.cachedPoints.get(b[0]);b=this.cachedPoints.get(b[1]);c=Coordinate$$module$build$src$core$utils$coordinate.distance(c,b)/this.startDistance;if(0<this.previousScale&&Infinity>this.previousScale){b=c-this.previousScale;b=0<b?b*ZOOM_IN_MULTIPLIER$$module$build$src$core$gesture:b*ZOOM_OUT_MULTIPLIER$$module$build$src$core$gesture;if(!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");var d=this.startWorkspace_,e=mouseToSvg$$module$build$src$core$browser_events(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,b);}this.previousScale=c;a.preventDefault();}},{key:"handleTouchEnd",value:function handleTouchEnd(a){a=getTouchIdentifierFromEvent$$module$build$src$core$touch(a);this.cachedPoints.has(a)&&this.cachedPoints.delete(a);2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0);}},{key:"getTouchPoint",value:function getTouchPoint(a){return this.startWorkspace_?new Coordinate$$module$build$src$core$utils$coordinate(a.pageX,a.pageY):null;}},{key:"isMultiTouch",value:function isMultiTouch(){return this.isMultiTouch_;}},{key:"cancel",value:function cancel(){this.isEnding_||(longStop$$module$build$src$core$touch(),this.bubbleDragger?this.bubbleDragger.endBubbleDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose());}},{key:"handleRightClick",value:function handleRightClick(a){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(a)):this.startBubble?this.startBubble.showContextMenu(a):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(a));a.preventDefault();a.stopPropagation();this.dispose();}},{key:"handleWsStart",value:function handleWsStart(a,b){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(b);this.mostRecentEvent=a;this.doStart(a);}},{key:"fireWorkspaceClick",value:function fireWorkspaceClick(a){fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(CLICK$$module$build$src$core$events$utils))(null,a.id,"workspace"));}},{key:"handleFlyoutStart",value:function handleFlyoutStart(a,b){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(b);this.handleWsStart(a,b.getWorkspace());}},{key:"handleBlockStart",value:function handleBlockStart(a,b){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(b);this.mostRecentEvent=a;}},{key:"handleBubbleStart",value:function handleBubbleStart(a,b){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(b);this.mostRecentEvent=a;}},{key:"doBubbleClick",value:function doBubbleClick(){this.startBubble instanceof WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg&&(this.startBubble.setFocus(),this.startBubble.select());}},{key:"doFieldClick",value:function doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent);this.bringBlockToFront();}},{key:"doIconClick",value:function doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront();this.startIcon.onClick();}},{key:"doBlockClick",value:function doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock.isEnabled()&&($.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0),this.flyout.createBlock(this.targetBlock).scheduleSnapAndBump());}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");var a=new(get$$module$build$src$core$events$utils(CLICK$$module$build$src$core$events$utils))(this.startBlock,this.startWorkspace_.id,"block");fire$$module$build$src$core$events$utils(a);}this.bringBlockToFront();$.setGroup$$module$build$src$core$events$utils(!1);}},{key:"doWorkspaceClick",value:function doWorkspaceClick(a){a=this.creatorWorkspace;getSelected$$module$build$src$core$common()&&getSelected$$module$build$src$core$common().unselect();this.fireWorkspaceClick(this.startWorkspace_||a);}},{key:"bringBlockToFront",value:function bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront();}},{key:"setStartField",value:function setStartField(a){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=a);}},{key:"setStartIcon",value:function setStartIcon(a){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=a);}},{key:"setStartBubble",value:function setStartBubble(a){this.startBubble||(this.startBubble=a);}},{key:"setStartBlock",value:function setStartBlock(a){this.startBlock||this.startBubble||(this.startBlock=a,a.isInFlyout&&a!==a.getRootBlock()?this.setTargetBlock(a.getRootBlock()):this.setTargetBlock(a));}},{key:"setTargetBlock",value:function setTargetBlock(a){a.isShadow()?this.setTargetBlock(a.getParent()):this.targetBlock=a;}},{key:"setStartWorkspace",value:function setStartWorkspace(a){this.startWorkspace_||(this.startWorkspace_=a);}},{key:"setStartFlyout",value:function setStartFlyout(a){this.flyout||(this.flyout=a);}},{key:"isBubbleClick",value:function isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius;}},{key:"isBlockClick",value:function isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick();}},{key:"isFieldClick",value:function isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1;}},{key:"isIconClick",value:function isIconClick(){if(!this.startIcon)return!1;var a=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&a;}},{key:"isWorkspaceClick",value:function isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius;}},{key:"isDragging",value:function isDragging(){return!!this.workspaceDragger||!!this.blockDragger||!!this.bubbleDragger;}},{key:"hasStarted",value:function hasStarted(){return this.gestureHasStarted;}},{key:"getInsertionMarkers",value:function getInsertionMarkers(){return this.blockDragger?this.blockDragger.getInsertionMarkers():[];}},{key:"getCurrentDragger",value:function getCurrentDragger(){var a,b;return null!=(b=null!=(a=this.blockDragger)?a:this.workspaceDragger)?b:this.bubbleDragger;}}],[{key:"inProgress",value:function inProgress(){var a=getAllWorkspaces$$module$build$src$core$common();for(var b=0,c;c=a[b];b++)if(c.currentGesture_)return!0;return!1;}}]);return Gesture$$module$build$src$core$gesture;}(),module$build$src$core$gesture={};module$build$src$core$gesture.Gesture=Gesture$$module$build$src$core$gesture;var Grid$$module$build$src$core$grid=/*#__PURE__*/function(){"use strict";function Grid$$module$build$src$core$grid(a,b){_classCallCheck(this,Grid$$module$build$src$core$grid);this.pattern=a;var c;this.spacing=null!=(c=b.spacing)?c:0;var d;this.length=null!=(d=b.length)?d:1;this.line2=(this.line1=a.firstChild)&&this.line1.nextSibling;var e;this.snapToGrid=null!=(e=b.snap)?e:!1;}_createClass(Grid$$module$build$src$core$grid,[{key:"shouldSnap",value:function shouldSnap(){return this.snapToGrid;}},{key:"getSpacing",value:function getSpacing(){return this.spacing;}},{key:"getPatternId",value:function getPatternId(){return this.pattern.id;}},{key:"update",value:function update(a){var b=this.spacing*a;this.pattern.setAttribute("width",`${b}`);this.pattern.setAttribute("height",`${b}`);b=Math.floor(this.spacing/2)+.5;var c=b-this.length/2,d=b+this.length/2;b*=a;c*=a;d*=a;this.setLineAttributes(this.line1,a,c,d,b,b);this.setLineAttributes(this.line2,a,b,b,c,d);}},{key:"setLineAttributes",value:function setLineAttributes(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",`${b}`),a.setAttribute("x1",`${c}`),a.setAttribute("y1",`${e}`),a.setAttribute("x2",`${d}`),a.setAttribute("y2",`${f}`));}},{key:"moveTo",value:function moveTo(a,b){this.pattern.setAttribute("x",`${a}`);this.pattern.setAttribute("y",`${b}`);}}],[{key:"createDom",value:function createDom(a,b,c){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},c);var d,e;if(0<(null!=(d=b.length)?d:1)&&0<(null!=(e=b.spacing)?e:0)){createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a);var f;null!=(f=b.length)&&f&&createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{stroke:b.colour},a);}else createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{},a);return a;}}]);return Grid$$module$build$src$core$grid;}(),module$build$src$core$grid={};module$build$src$core$grid.Grid=Grid$$module$build$src$core$grid;var MarkerManager$$module$build$src$core$marker_manager=/*#__PURE__*/function(){"use strict";function MarkerManager$$module$build$src$core$marker_manager(a){_classCallCheck(this,MarkerManager$$module$build$src$core$marker_manager);this.workspace=a;this.cursorSvg_=this.cursor_=null;this.markers=new Map();this.markerSvg_=null;}_createClass(MarkerManager$$module$build$src$core$marker_manager,[{key:"registerMarker",value:function registerMarker(a,b){this.markers.has(a)&&this.unregisterMarker(a);b.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,b));this.setMarkerSvg(b.getDrawer().createDom());this.markers.set(a,b);}},{key:"unregisterMarker",value:function unregisterMarker(a){var b=this.markers.get(a);if(b)b.dispose(),this.markers.delete(a);else throw Error("Marker with ID "+a+" does not exist. Can only unregister markers that exist.");}},{key:"getCursor",value:function getCursor(){return this.cursor_;}},{key:"getMarker",value:function getMarker(a){return this.markers.get(a)||null;}},{key:"setCursor",value:function setCursor(a){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose();if(this.cursor_=a)a=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(a),this.setCursorSvg(this.cursor_.getDrawer().createDom());}},{key:"setCursorSvg",value:function setCursorSvg(a){a?(this.workspace.getBlockCanvas().appendChild(a),this.cursorSvg_=a):this.cursorSvg_=null;}},{key:"setMarkerSvg",value:function setMarkerSvg(a){a?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(a,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(a)):this.markerSvg_=null;}},{key:"updateMarkers",value:function updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw();}},{key:"dispose",value:function dispose(){var a=Object.keys(this.markers);for(var b=0,c;c=a[b];b++)this.unregisterMarker(c);this.markers.clear();this.cursor_&&(this.cursor_.dispose(),this.cursor_=null);}}]);return MarkerManager$$module$build$src$core$marker_manager;}();MarkerManager$$module$build$src$core$marker_manager.LOCAL_MARKER="local_marker_1";var module$build$src$core$marker_manager={};module$build$src$core$marker_manager.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;var module$build$src$core$utils$object={};module$build$src$core$utils$object.deepMerge=_deepMerge$$module$build$src$core$utils$object;var Theme$$module$build$src$core$theme=/*#__PURE__*/function(){"use strict";function Theme$$module$build$src$core$theme(a,b,c,d){_classCallCheck(this,Theme$$module$build$src$core$theme);this.name=a;this.startHats=!1;this.blockStyles=b||Object.create(null);this.categoryStyles=c||Object.create(null);this.componentStyles=d||Object.create(null);this.fontStyle=Object.create(null);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a,this,!0);}_createClass(Theme$$module$build$src$core$theme,[{key:"getClassName",value:function getClassName(){return this.name+"-theme";}},{key:"setBlockStyle",value:function setBlockStyle(a,b){this.blockStyles[a]=b;}},{key:"setCategoryStyle",value:function setCategoryStyle(a,b){this.categoryStyles[a]=b;}},{key:"getComponentStyle",value:function getComponentStyle(a){a=this.componentStyles[a];if(!a)return null;if("string"===typeof a){var b=this.getComponentStyle(a);if(b)return b;}return`${a}`;}},{key:"setComponentStyle",value:function setComponentStyle(a,b){this.componentStyles[a]=b;}},{key:"setFontStyle",value:function setFontStyle(a){this.fontStyle=a;}},{key:"setStartHats",value:function setStartHats(a){this.startHats=a;}}],[{key:"defineTheme",value:function defineTheme(a,b){a=a.toLowerCase();var c=new Theme$$module$build$src$core$theme(a);var d=b.base;if(d){if("string"===typeof d){var e;d=null!=(e=getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,d))?e:void 0;}d instanceof Theme$$module$build$src$core$theme&&(_deepMerge$$module$build$src$core$utils$object(c,d),c.name=a);}_deepMerge$$module$build$src$core$utils$object(c.blockStyles,b.blockStyles);_deepMerge$$module$build$src$core$utils$object(c.categoryStyles,b.categoryStyles);_deepMerge$$module$build$src$core$utils$object(c.componentStyles,b.componentStyles);_deepMerge$$module$build$src$core$utils$object(c.fontStyle,b.fontStyle);null!==b.startHats&&(c.startHats=b.startHats);return c;}}]);return Theme$$module$build$src$core$theme;}(),module$build$src$core$theme={};module$build$src$core$theme.Theme=Theme$$module$build$src$core$theme;var defaultBlockStyles$$module$build$src$core$theme$classic={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},categoryStyles$$module$build$src$core$theme$classic={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Classic$$module$build$src$core$theme$classic=new Theme$$module$build$src$core$theme("classic",defaultBlockStyles$$module$build$src$core$theme$classic,categoryStyles$$module$build$src$core$theme$classic),module$build$src$core$theme$classic={Classic:Classic$$module$build$src$core$theme$classic};var Options$$module$build$src$core$options=/*#__PURE__*/function(){"use strict";function Options$$module$build$src$core$options(a){_classCallCheck(this,Options$$module$build$src$core$options);this.gridPattern=null;this.getMetrics=this.setMetrics=void 0;var b=null,c=!1;var d=!1,e=!1,f=!1,g=!1,h=!1;var k=!!a.readOnly;if(!k){var l;b=convertToolboxDefToJson$$module$build$src$core$utils$toolbox(null!=(l=a.toolbox)?l:null);c=hasCategories$$module$build$src$core$utils$toolbox(b);d=a.trashcan;d=void 0===d?c:d;e=a.collapse;e=void 0===e?c:e;f=a.comments;f=void 0===f?c:f;g=a.disable;g=void 0===g?c:g;h=a.sounds;h=void 0===h?!0:h;}l=a.maxTrashcanContents;d?void 0===l&&(l=32):l=0;var m=!!a.rtl;var n=a.horizontalLayout;void 0===n&&(n=!1);var p="end"!==a.toolboxPosition;p=n?p?Position$$module$build$src$core$utils$toolbox.TOP:Position$$module$build$src$core$utils$toolbox.BOTTOM:p===m?Position$$module$build$src$core$utils$toolbox.RIGHT:Position$$module$build$src$core$utils$toolbox.LEFT;var q=a.css;void 0===q&&(q=!0);var r="https://blockly-demo.appspot.com/static/media/";a.media?r=a.media.endsWith("/")?a.media:a.media+"/":"path"in a&&(warn$$module$build$src$core$utils$deprecation("path","Nov 2014","Jul 2023","media"),r=a.path+"media/");var u=a.oneBasedIndex,y=a.renderer||"geras",z=a.plugins||{};var t=a.modalInputs;void 0===t&&(t=!0);this.RTL=m;this.oneBasedIndex=void 0===u?!0:u;this.collapse=e;this.comments=f;this.disable=g;this.readOnly=k;this.maxBlocks=a.maxBlocks||Infinity;var v;this.maxInstances=null!=(v=a.maxInstances)?v:null;this.modalInputs=t;this.pathToMedia=r;this.hasCategories=c;this.moveOptions=Options$$module$build$src$core$options.parseMoveOptions_(a,c);this.hasScrollbars=!!this.moveOptions.scrollbars;this.hasTrashcan=d;this.maxTrashcanContents=l;this.hasSounds=h;this.hasCss=q;this.horizontalLayout=n;this.languageTree=b;this.gridOptions=Options$$module$build$src$core$options.parseGridOptions_(a);this.zoomOptions=Options$$module$build$src$core$options.parseZoomOptions_(a);this.toolboxPosition=p;this.theme=Options$$module$build$src$core$options.parseThemeOptions_(a);this.renderer=y;var w;this.rendererOverrides=null!=(w=a.rendererOverrides)?w:null;var x;this.parentWorkspace=null!=(x=a.parentWorkspace)?x:null;this.plugins=z;}_createClass(Options$$module$build$src$core$options,null,[{key:"parseMoveOptions_",value:function parseMoveOptions_(a,b){var c=a.move||{},d={};void 0===c.scrollbars&&void 0===a.scrollbars?d.scrollbars=b:"object"===typeof c.scrollbars?(d.scrollbars={horizontal:!!c.scrollbars.horizontal,vertical:!!c.scrollbars.vertical},d.scrollbars.horizontal&&d.scrollbars.vertical?d.scrollbars=!0:d.scrollbars.horizontal||d.scrollbars.vertical||(d.scrollbars=!1)):d.scrollbars=!!c.scrollbars||!!a.scrollbars;d.wheel=d.scrollbars&&void 0!==c.wheel?!!c.wheel:"object"===typeof d.scrollbars;d.drag=d.scrollbars?void 0===c.drag?!0:!!c.drag:!1;return d;}},{key:"parseZoomOptions_",value:function parseZoomOptions_(a){a=a.zoom||{};var b={};b.controls=void 0===a.controls?!1:!!a.controls;b.wheel=void 0===a.wheel?!1:!!a.wheel;b.startScale=void 0===a.startScale?1:Number(a.startScale);b.maxScale=void 0===a.maxScale?3:Number(a.maxScale);b.minScale=void 0===a.minScale?.3:Number(a.minScale);b.scaleSpeed=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);b.pinch=void 0===a.pinch?b.wheel||b.controls:!!a.pinch;return b;}},{key:"parseGridOptions_",value:function parseGridOptions_(a){a=a.grid||{};var b={};b.spacing=Number(a.spacing)||0;b.colour=a.colour||"#888";b.length=void 0===a.length?1:Number(a.length);b.snap=0<b.spacing&&!!a.snap;return b;}},{key:"parseThemeOptions_",value:function parseThemeOptions_(a){a=a.theme||Classic$$module$build$src$core$theme$classic;return"string"===typeof a?getObject$$module$build$src$core$registry(Type$$module$build$src$core$registry.THEME,a):a instanceof Theme$$module$build$src$core$theme?a:Theme$$module$build$src$core$theme.defineTheme(a.name||"builtin"+getNextUniqueId$$module$build$src$core$utils$idgenerator(),a);}}]);return Options$$module$build$src$core$options;}(),module$build$src$core$options={};module$build$src$core$options.Options=Options$$module$build$src$core$options;var module$build$src$core$interfaces$i_has_bubble={};module$build$src$core$interfaces$i_has_bubble.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;var BlockChange$$module$build$src$core$events$events_block_change=/*#__PURE__*/function(_BlockBase$$module$bu2){"use strict";_inherits(BlockChange$$module$build$src$core$events$events_block_change,_BlockBase$$module$bu2);function BlockChange$$module$build$src$core$events$events_block_change(a,b,c,d,e){var _this19;_classCallCheck(this,BlockChange$$module$build$src$core$events$events_block_change);_this19=_callSuper(this,BlockChange$$module$build$src$core$events$events_block_change,[a]);_this19.type=$.CHANGE$$module$build$src$core$events$utils;a&&(_this19.element=b,_this19.name=c||void 0,_this19.oldValue=d,_this19.newValue=e);return _this19;}_createClass(BlockChange$$module$build$src$core$events$events_block_change,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BlockChange$$module$build$src$core$events$events_block_change.prototype),"toJson",this).call(this);if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");a.element=this.element;a.name=this.name;a.oldValue=this.oldValue;a.newValue=this.newValue;return a;}},{key:"isNull",value:function isNull(){return this.oldValue===this.newValue;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");b=b.getBlockById(this.blockId);if(!b)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");var c=b.getIcon(IconType$$module$build$src$core$icons$icon_types.MUTATOR);c&&hasBubble$$module$build$src$core$interfaces$i_has_bubble(c)&&c.bubbleIsVisible()&&c.setBubbleVisible(!1);a=a?this.newValue:this.oldValue;switch(this.element){case"field":(b=b.getField(this.name))?b.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case"comment":b.setCommentText(a||null);break;case"collapsed":b.setCollapsed(!!a);break;case"disabled":b.setEnabled(!a);break;case"inline":b.setInputsInline(!!a);break;case"mutation":c=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(b);b.loadExtraState?b.loadExtraState(JSON.parse(a||"{}")):b.domToMutation&&b.domToMutation($.textToDom$$module$build$src$core$utils$xml(a||"<mutation/>"));fire$$module$build$src$core$events$utils(new BlockChange$$module$build$src$core$events$events_block_change(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element);}}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BlockChange$$module$build$src$core$events$events_block_change),"fromJson",this).call(this,a,b,null!=c?c:new BlockChange$$module$build$src$core$events$events_block_change());b.element=a.element;b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;return b;}},{key:"getExtraBlockState_",value:function getExtraBlockState_(a){return a.saveExtraState?(a=a.saveExtraState(!0))?JSON.stringify(a):"":a.mutationToDom?(a=a.mutationToDom())?domToText$$module$build$src$core$xml(a):"":"";}}]);return BlockChange$$module$build$src$core$events$events_block_change;}(BlockBase$$module$build$src$core$events$events_block_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,$.CHANGE$$module$build$src$core$events$utils,BlockChange$$module$build$src$core$events$events_block_change);var module$build$src$core$events$events_block_change={};module$build$src$core$events$events_block_change.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;var hsvSaturation$$module$build$src$core$utils$colour=.45,hsvValue$$module$build$src$core$utils$colour=.65,names$$module$build$src$core$utils$colour={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},module$build$src$core$utils$colour={};module$build$src$core$utils$colour.blend=blend$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.getHsvSaturation=getHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.getHsvValue=getHsvValue$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hexToRgb=hexToRgb$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hsvToHex=hsvToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.hueToHex=hueToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.names=names$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.parse=parse$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.rgbToHex=rgbToHex$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvSaturation=setHsvSaturation$$module$build$src$core$utils$colour;module$build$src$core$utils$colour.setHsvValue=setHsvValue$$module$build$src$core$utils$colour;var module$build$src$core$utils$parsing={};module$build$src$core$utils$parsing.checkMessageReferences=checkMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.parseBlockColour=parseBlockColour$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.replaceMessageReferences=replaceMessageReferences$$module$build$src$core$utils$parsing;module$build$src$core$utils$parsing.tokenizeInterpolation=tokenizeInterpolation$$module$build$src$core$utils$parsing;var Field$$module$build$src$core$field=/*#__PURE__*/function(){"use strict";function Field$$module$build$src$core$field(a,b,c){_classCallCheck(this,Field$$module$build$src$core$field);this.DEFAULT_VALUE=null;this.name=void 0;this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null;this.disposed=!1;this.maxDisplayLength=50;this.sourceBlock_=null;this.enabled_=this.visible_=this.isDirty_=!0;this.suffixField=this.prefixField=this.clickTarget_=null;this.EDITABLE=!0;this.SERIALIZABLE=!1;this.CURSOR="";this.value_="DEFAULT_VALUE"in(this instanceof Field$$module$build$src$core$field?this.constructor:void 0).prototype?(this instanceof Field$$module$build$src$core$field?this.constructor:void 0).prototype.DEFAULT_VALUE:this.DEFAULT_VALUE;this.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&this.configure_(c),this.setValue(a),b&&this.setValidator(b));}_createClass(Field$$module$build$src$core$field,[{key:"configure_",value:function configure_(a){a.tooltip&&this.setTooltip(replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip));}},{key:"setSourceBlock",value:function setSourceBlock(a){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=a;}},{key:"getConstants",value:function getConstants(){!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants());return this.constants_;}},{key:"getSourceBlock",value:function getSourceBlock(){return this.sourceBlock_;}},{key:"init",value:function init(){this.fieldGroup_||(this.fieldGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel());}},{key:"initView",value:function initView(){this.createBorderRect_();this.createTextElement_();}},{key:"initModel",value:function initModel(){}},{key:"isFullBlockField",value:function isFullBlockField(){return!this.borderRect_;}},{key:"createBorderRect_",value:function createBorderRect_(){this.borderRect_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,"class":"blocklyFieldRect"},this.fieldGroup_);}},{key:"createTextElement_",value:function createTextElement_(){this.textElement_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{"class":"blocklyText"},this.fieldGroup_);this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central");this.textContent_=document.createTextNode("");this.textElement_.appendChild(this.textContent_);}},{key:"bindEvents_",value:function bindEvents_(){var a=this.getClickTarget_();if(!a)throw Error("A click target has not been set.");bindMouseEvents$$module$build$src$core$tooltip(a);this.mouseDownWrapper_=conditionalBind$$module$build$src$core$browser_events(a,"pointerdown",this,this.onMouseDown_);}},{key:"fromXml",value:function fromXml(a){this.setValue(a.textContent);}},{key:"toXml",value:function toXml(a){a.textContent=this.getValue();return a;}},{key:"saveState",value:function saveState(a){a=this.saveLegacyState(Field$$module$build$src$core$field);return null!==a?a:this.getValue();}},{key:"loadState",value:function loadState(a){this.loadLegacyState(Field$$module$build$src$core$field,a)||this.setValue(a);}},{key:"saveLegacyState",value:function saveLegacyState(a){return a.prototype.saveState===this.saveState&&a.prototype.toXml!==this.toXml?(a=$.createElement$$module$build$src$core$utils$xml("field"),a.setAttribute("name",this.name||""),domToText$$module$build$src$core$utils$xml(this.toXml(a)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null;}},{key:"loadLegacyState",value:function loadLegacyState(a,b){return a.prototype.loadState===this.loadState&&a.prototype.fromXml!==this.fromXml?(this.fromXml($.textToDom$$module$build$src$core$utils$xml(b)),!0):!1;}},{key:"dispose",value:function dispose(){hideIfOwner$$module$build$src$core$dropdowndiv(this);hideIfOwner$$module$build$src$core$widgetdiv(this);var a;(null==(a=this.getSourceBlock())?0:a.isDeadOrDying())||removeNode$$module$build$src$core$utils$dom(this.fieldGroup_);this.disposed=!0;}},{key:"updateEditable",value:function updateEditable(){var a=this.fieldGroup_,b=this.getSourceBlock();this.EDITABLE&&a&&b&&(this.enabled_&&b.isEditable()?(addClass$$module$build$src$core$utils$dom(a,"blocklyEditableText"),removeClass$$module$build$src$core$utils$dom(a,"blocklyNonEditableText"),a.style.cursor=this.CURSOR):(addClass$$module$build$src$core$utils$dom(a,"blocklyNonEditableText"),removeClass$$module$build$src$core$utils$dom(a,"blocklyEditableText"),a.style.cursor=""));}},{key:"setEnabled",value:function setEnabled(a){this.enabled_=a;this.updateEditable();}},{key:"isEnabled",value:function isEnabled(){return this.enabled_;}},{key:"isClickable",value:function isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Field$$module$build$src$core$field.prototype.showEditor_;}},{key:"isClickableInFlyout",value:function isClickableInFlyout(a){return!a;}},{key:"isCurrentlyEditable",value:function isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable();}},{key:"isSerializable",value:function isSerializable(){var a=!1;this.name&&(this.SERIALIZABLE?a=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),a=!0));return a;}},{key:"isVisible",value:function isVisible(){return this.visible_;}},{key:"setVisible",value:function setVisible(a){if(this.visible_!==a){this.visible_=a;var b=this.fieldGroup_;b&&(b.style.display=a?"block":"none");}}},{key:"setValidator",value:function setValidator(a){this.validator_=a;}},{key:"getValidator",value:function getValidator(){return this.validator_;}},{key:"getSvgRoot",value:function getSvgRoot(){return this.fieldGroup_;}},{key:"getBorderRect",value:function getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_;}},{key:"getTextElement",value:function getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_;}},{key:"getTextContent",value:function getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_;}},{key:"applyColour",value:function applyColour(){}},{key:"render_",value:function render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_();}},{key:"showEditor",value:function showEditor(a){this.isClickable()&&this.showEditor_(a);}},{key:"showEditor_",value:function showEditor_(a){}},{key:"repositionForWindowResize",value:function repositionForWindowResize(){return!1;}},{key:"updateSize_",value:function updateSize_(a){var b=this.getConstants();a=void 0!==a?a:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;var c=2*a,d=b.FIELD_TEXT_HEIGHT,e=0;this.textElement_&&(e=getFastTextWidth$$module$build$src$core$utils$dom(this.textElement_,b.FIELD_TEXT_FONTSIZE,b.FIELD_TEXT_FONTWEIGHT,b.FIELD_TEXT_FONTFAMILY),c+=e);this.isFullBlockField()||(d=Math.max(d,b.FIELD_BORDER_RECT_HEIGHT));this.size_.height=d;this.size_.width=c;this.positionTextElement_(a,e);this.positionBorderRect_();}},{key:"positionTextElement_",value:function positionTextElement_(a,b){if(this.textElement_){var c=this.getConstants(),d=this.size_.height/2,e;this.textElement_.setAttribute("x",String((null==(e=this.getSourceBlock())?0:e.RTL)?this.size_.width-b-a:a));this.textElement_.setAttribute("y",String(c.FIELD_TEXT_BASELINE_CENTER?d:d-c.FIELD_TEXT_HEIGHT/2+c.FIELD_TEXT_BASELINE));}}},{key:"positionBorderRect_",value:function positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)));}},{key:"getSize",value:function getSize(){if(!this.isVisible())return new Size$$module$build$src$core$utils$size(0,0);this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(this.render_(),0!==this.size_.width&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."));return this.size_;}},{key:"getScaledBBox",value:function getScaledBBox(){var a;var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();if(this.isFullBlockField()){var c=this.sourceBlock_.getHeightWidth();var d=b.workspace.scale;a=this.getAbsoluteXY_();b=(c.width+1)*d;c=(c.height+1)*d;GECKO$$module$build$src$core$utils$useragent?(a.x+=1.5*d,a.y+=1.5*d):(a.x-=.5*d,a.y-=.5*d);}else c=this.borderRect_.getBoundingClientRect(),a=getPageOffset$$module$build$src$core$utils$style(this.borderRect_),b=c.width,c=c.height;return new Rect$$module$build$src$core$utils$rect(a.y,a.y+c,a.x,a.x+b);}},{key:"onLocationChange",value:function onLocationChange(a){}},{key:"getDisplayText_",value:function getDisplayText_(){var a=this.getText();if(!a)return Field$$module$build$src$core$field.NBSP;a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+"\u2026");a=a.replace(/\s/g,Field$$module$build$src$core$field.NBSP);this.sourceBlock_&&this.sourceBlock_.RTL&&(a+="\u200f");return a;}},{key:"getText",value:function getText(){var a=this.getText_();return null!==a?String(a):String(this.getValue());}},{key:"getText_",value:function getText_(){return null;}},{key:"markDirty",value:function markDirty(){this.isDirty_=!0;this.constants_=null;}},{key:"forceRerender",value:function forceRerender(){this.isDirty_=!0;this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.queueRender(),this.sourceBlock_.bumpNeighbours());}},{key:"setValue",value:function setValue(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(null!==a){var c=this.doClassValidation_(a);a=this.processValidation_(a,c);if(!(a instanceof Error)){var d;c=null==(d=this.getValidator())?void 0:d.call(this,a);d=this.processValidation_(a,c);d instanceof Error||(a=this.sourceBlock_,a&&a.disposed||(c=this.getValue(),c===d?this.doValueUpdate_(d):(this.doValueUpdate_(d),b&&a&&isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(a,"field",this.name||null,c,d)),this.isDirty_&&this.forceRerender())));}}}},{key:"processValidation_",value:function processValidation_(a,b){return null===b?(this.doValueInvalid_(a),this.isDirty_&&this.forceRerender(),Error()):void 0===b?a:b;}},{key:"getValue",value:function getValue(){return this.value_;}},{key:"doClassValidation_",value:function doClassValidation_(a){return null===a||void 0===a?null:a;}},{key:"doValueUpdate_",value:function doValueUpdate_(a){this.value_=a;this.isDirty_=!0;}},{key:"doValueInvalid_",value:function doValueInvalid_(a){}},{key:"onMouseDown_",value:function onMouseDown_(a){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(a=this.sourceBlock_.workspace.getGesture(a))&&a.setStartField(this);}},{key:"setTooltip",value:function setTooltip(a){a||""===a||(a=this.sourceBlock_);var b=this.getClickTarget_();b?b.tooltip=a:this.tooltip_=a;}},{key:"getTooltip",value:function getTooltip(){var a=this.getClickTarget_();return a?getTooltipOfObject$$module$build$src$core$tooltip(a):getTooltipOfObject$$module$build$src$core$tooltip({tooltip:this.tooltip_});}},{key:"getClickTarget_",value:function getClickTarget_(){return this.clickTarget_||this.getSvgRoot();}},{key:"getAbsoluteXY_",value:function getAbsoluteXY_(){return getPageOffset$$module$build$src$core$utils$style(this.getClickTarget_());}},{key:"referencesVariables",value:function referencesVariables(){return!1;}},{key:"refreshVariableName",value:function refreshVariableName(){}},{key:"getParentInput",value:function getParentInput(){var a=null;var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();var c=b.inputList;for(var d=0;d<b.inputList.length;d++){var e=c[d],f=e.fieldRow;for(var g=0;g<f.length;g++)if(f[g]===this){a=e;break;}}return a;}},{key:"getFlipRtl",value:function getFlipRtl(){return!1;}},{key:"isTabNavigable",value:function isTabNavigable(){return!1;}},{key:"onShortcut",value:function onShortcut(a){return!1;}},{key:"setCursorSvg",value:function setCursorSvg(a){if(a){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(a);this.cursorSvg_=a;}else this.cursorSvg_=null;}},{key:"setMarkerSvg",value:function setMarkerSvg(a){if(a){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(a);this.markerSvg_=a;}else this.markerSvg_=null;}},{key:"updateMarkers_",value:function updateMarkers_(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();a=a.workspace;a.keyboardAccessibilityMode&&this.cursorSvg_&&a.getCursor().draw();a.keyboardAccessibilityMode&&this.markerSvg_&&a.getMarker(MarkerManager$$module$build$src$core$marker_manager.LOCAL_MARKER).draw();}}]);return Field$$module$build$src$core$field;}();Field$$module$build$src$core$field.NBSP="\u00a0";Field$$module$build$src$core$field.SKIP_SETUP=Symbol("SKIP_SETUP");var UnattachedFieldError$$module$build$src$core$field=/*#__PURE__*/function(_Error2){"use strict";_inherits(UnattachedFieldError$$module$build$src$core$field,_Error2);function UnattachedFieldError$$module$build$src$core$field(){_classCallCheck(this,UnattachedFieldError$$module$build$src$core$field);return _callSuper(this,UnattachedFieldError$$module$build$src$core$field,["The field has not yet been attached to its input. Call appendField to attach it."]);}return _createClass(UnattachedFieldError$$module$build$src$core$field);}(/*#__PURE__*/_wrapNativeSuper(Error)),module$build$src$core$field={};module$build$src$core$field.Field=Field$$module$build$src$core$field;module$build$src$core$field.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;$.Names$$module$build$src$core$names=/*#__PURE__*/function(){"use strict";function _class(a,b){_classCallCheck(this,_class);this.db=new Map();this.dbReverse=new Set();this.variableMap=null;this.variablePrefix=b||"";this.reservedWords=new Set(a?a.split(","):[]);}_createClass(_class,[{key:"reset",value:function reset(){this.db.clear();this.dbReverse.clear();this.variableMap=null;}},{key:"setVariableMap",value:function setVariableMap(a){this.variableMap=a;}},{key:"getNameForUserVariable",value:function getNameForUserVariable(a){return this.variableMap?(a=this.variableMap.getVariableById(a))?a.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null);}},{key:"populateVariables",value:function populateVariables(a){a=$.allUsedVarModels$$module$build$src$core$variables(a);for(var b=0;b<a.length;b++)this.getName(a[b].getId(),$.NameType$$module$build$src$core$names.VARIABLE);}},{key:"populateProcedures",value:function populateProcedures(a){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts");}},{key:"getName",value:function getName(a,b){var c=a;b===$.NameType$$module$build$src$core$names.VARIABLE&&(a=this.getNameForUserVariable(a))&&(c=a);a=c.toLowerCase();var d=b===$.NameType$$module$build$src$core$names.VARIABLE||b===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(b)||this.db.set(b,new Map());var e=this.db.get(b);if(e.has(a))return d+e.get(a);b=this.getDistinctName(c,b);e.set(a,b.substr(d.length));return b;}},{key:"getUserNames",value:function getUserNames(a){var b;return(a=null==(b=this.db.get(a))?void 0:b.keys())?Array.from(a):[];}},{key:"getDistinctName",value:function getDistinctName(a,b){a=this.safeName(a);var c=null,d,e;for(;this.dbReverse.has(a+(null!=(d=c)?d:""))||this.reservedWords.has(a+(null!=(e=c)?e:""));)c=c?c+1:2;var f;a+=null!=(f=c)?f:"";this.dbReverse.add(a);return(b===$.NameType$$module$build$src$core$names.VARIABLE||b===$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+a;}},{key:"safeName",value:function safeName(a){a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=="0123456789".indexOf(a[0])&&(a="my_"+a)):a=$.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";return a;}}],[{key:"equals",value:function equals(a,b){return a.toLowerCase()===b.toLowerCase();}}]);return _class;}();(function(a){a=a.NameType||(a.NameType={});a.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE";a.VARIABLE="VARIABLE";a.PROCEDURE="PROCEDURE";})($.Names$$module$build$src$core$names||($.Names$$module$build$src$core$names={}));$.NameType$$module$build$src$core$names=$.Names$$module$build$src$core$names.NameType;$.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=$.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE;var module$build$src$core$names={NameType:$.NameType$$module$build$src$core$names};module$build$src$core$names.Names=$.Names$$module$build$src$core$names;var module$build$src$core$interfaces$i_procedure_block={};module$build$src$core$interfaces$i_procedure_block.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;var module$build$src$core$interfaces$i_observable={};module$build$src$core$interfaces$i_observable.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;var ObservableProcedureMap$$module$build$src$core$observable_procedure_map=/*#__PURE__*/function(_Map){"use strict";_inherits(ObservableProcedureMap$$module$build$src$core$observable_procedure_map,_Map);function ObservableProcedureMap$$module$build$src$core$observable_procedure_map(){_classCallCheck(this,ObservableProcedureMap$$module$build$src$core$observable_procedure_map);return _callSuper(this,ObservableProcedureMap$$module$build$src$core$observable_procedure_map);}_createClass(ObservableProcedureMap$$module$build$src$core$observable_procedure_map,[{key:"set",value:function set(a,b){if(this.get(a)===b)return this;_get(_getPrototypeOf(ObservableProcedureMap$$module$build$src$core$observable_procedure_map.prototype),"set",this).call(this,a,b);isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.startPublishing();return this;}},{key:"delete",value:function _delete(a){var b=this.get(a);a=_get(_getPrototypeOf(ObservableProcedureMap$$module$build$src$core$observable_procedure_map.prototype),"delete",this).call(this,a);if(!a)return a;isObservable$$module$build$src$core$interfaces$i_observable(b)&&b.stopPublishing();return a;}},{key:"clear",value:function clear(){if(this.size){var _iterator27=_createForOfIteratorHelper(this.keys()),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var a=_step27.value;this.delete(a);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}}}},{key:"add",value:function add(a){return this.set(a.getId(),a);}},{key:"getProcedures",value:function getProcedures(){return _toConsumableArray(this.values());}}]);return ObservableProcedureMap$$module$build$src$core$observable_procedure_map;}(/*#__PURE__*/_wrapNativeSuper(Map)),module$build$src$core$observable_procedure_map={};module$build$src$core$observable_procedure_map.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;var Icon$$module$build$src$core$icons$icon=/*#__PURE__*/function(){"use strict";function Icon$$module$build$src$core$icons$icon(a){_classCallCheck(this,Icon$$module$build$src$core$icons$icon);this.sourceBlock=a;this.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.workspaceLocation=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.svgRoot=null;this.tooltip=a;}_createClass(Icon$$module$build$src$core$icons$icon,[{key:"getType",value:function getType(){throw Error("Icons must implement getType");}},{key:"initView",value:function initView(a){if(!this.svgRoot){var b=this.sourceBlock;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyIconGroup"});b.getSvgRoot().appendChild(this.svgRoot);this.updateSvgRootOffset();conditionalBind$$module$build$src$core$browser_events(this.svgRoot,"pointerdown",this,a);this.svgRoot.tooltip=this;bindMouseEvents$$module$build$src$core$tooltip(this.svgRoot);}}},{key:"dispose",value:function dispose(){unbindMouseEvents$$module$build$src$core$tooltip(this.svgRoot);removeNode$$module$build$src$core$utils$dom(this.svgRoot);}},{key:"getWeight",value:function getWeight(){return-1;}},{key:"getSize",value:function getSize(){return new Size$$module$build$src$core$utils$size(0,0);}},{key:"setTooltip",value:function setTooltip(a){this.tooltip=null!=a?a:this.sourceBlock;}},{key:"getTooltip",value:function getTooltip(){return this.tooltip;}},{key:"applyColour",value:function applyColour(){}},{key:"updateEditable",value:function updateEditable(){}},{key:"updateCollapsed",value:function updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",hasBubble$$module$build$src$core$interfaces$i_has_bubble(this)&&this.setBubbleVisible(!1));}},{key:"hideForInsertionMarker",value:function hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none");}},{key:"isShownWhenCollapsed",value:function isShownWhenCollapsed(){return!1;}},{key:"setOffsetInBlock",value:function setOffsetInBlock(a){this.offsetInBlock=a;this.updateSvgRootOffset();}},{key:"updateSvgRootOffset",value:function updateSvgRootOffset(){var a;null==(a=this.svgRoot)||a.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`);}},{key:"onLocationChange",value:function onLocationChange(a){this.workspaceLocation=Coordinate$$module$build$src$core$utils$coordinate.sum(a,this.offsetInBlock);}},{key:"onClick",value:function onClick(){}},{key:"isClickableInFlyout",value:function isClickableInFlyout(a){return!0;}},{key:"setVisible",value:function setVisible(a){warn$$module$build$src$core$utils$deprecation("setVisible","v10","v11","setBubbleVisible");hasBubble$$module$build$src$core$interfaces$i_has_bubble(this)&&this.setBubbleVisible(a);}}]);return Icon$$module$build$src$core$icons$icon;}(),module$build$src$core$icons$icon={};module$build$src$core$icons$icon.Icon=Icon$$module$build$src$core$icons$icon;var TEST_ONLY$$module$build$src$core$field_registry={fromJsonInternal:fromJsonInternal$$module$build$src$core$field_registry},module$build$src$core$field_registry={TEST_ONLY:TEST_ONLY$$module$build$src$core$field_registry};module$build$src$core$field_registry.fromJson=$.fromJson$$module$build$src$core$field_registry;module$build$src$core$field_registry.register=register$$module$build$src$core$field_registry;module$build$src$core$field_registry.unregister=unregister$$module$build$src$core$field_registry;var FieldDropdown$$module$build$src$core$field_dropdown=/*#__PURE__*/function(_Field$$module$build$){"use strict";_inherits(FieldDropdown$$module$build$src$core$field_dropdown,_Field$$module$build$);function FieldDropdown$$module$build$src$core$field_dropdown(a,b,c){var _this20;_classCallCheck(this,FieldDropdown$$module$build$src$core$field_dropdown);_this20=_callSuper(this,FieldDropdown$$module$build$src$core$field_dropdown,[Field$$module$build$src$core$field.SKIP_SETUP]);_this20.svgArrow=_this20.arrow=_this20.imageElement=_this20.menu_=_this20.selectedMenuItem=null;_this20.SERIALIZABLE=!0;_this20.CURSOR="default";_this20.clickTarget_=_this20.suffixField=_this20.prefixField=_this20.generatedOptions=null;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(Array.isArray(a)?(validateOptions$$module$build$src$core$field_dropdown(a),a=trimOptions$$module$build$src$core$field_dropdown(a),_this20.menuGenerator_=a.options,_this20.prefixField=a.prefix||null,_this20.suffixField=a.suffix||null):_this20.menuGenerator_=a,_this20.selectedOption=_this20.getOptions(!1)[0],c&&_this20.configure_(c),_this20.setValue(_this20.selectedOption[1]),b&&_this20.setValidator(b));return _this20;}_createClass(FieldDropdown$$module$build$src$core$field_dropdown,[{key:"fromXml",value:function fromXml(a){this.isOptionListDynamic()&&this.getOptions(!1);this.setValue(a.textContent);}},{key:"loadState",value:function loadState(a){this.loadLegacyState(FieldDropdown$$module$build$src$core$field_dropdown,a)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(a));}},{key:"initView",value:function initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot();this.createTextElement_();this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{},this.fieldGroup_);this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_();this.borderRect_&&addClass$$module$build$src$core$utils$dom(this.borderRect_,"blocklyDropdownRect");}},{key:"shouldAddBorderRect_",value:function shouldAddBorderRect_(){var a;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!(null==(a=this.getSourceBlock())?0:a.isShadow());}},{key:"createTextArrow_",value:function createTextArrow_(){this.arrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TSPAN,{},this.textElement_);var a;this.arrow.appendChild(document.createTextNode((null==(a=this.getSourceBlock())?0:a.RTL)?FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR+" ":" "+FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR));var b;(null==(b=this.getSourceBlock())?0:b.RTL)?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow);}},{key:"createSVGArrow_",value:function createSVGArrow_(){this.svgArrow=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_);this.svgArrow.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI);}},{key:"showEditor_",value:function showEditor_(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();this.dropdownCreate();this.menu_.openingCoords=a&&"number"===typeof a.clientX?new Coordinate$$module$build$src$core$utils$coordinate(a.clientX,a.clientY):null;clearContent$$module$build$src$core$dropdowndiv();a=this.menu_.render(getContentDiv$$module$build$src$core$dropdowndiv());addClass$$module$build$src$core$utils$dom(a,"blocklyDropdownMenu");this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(b=b.getColour(),setColour$$module$build$src$core$dropdowndiv(b,this.sourceBlock_.style.colourTertiary));showPositionedByField$$module$build$src$core$dropdowndiv(this,this.dropdownDispose_.bind(this));this.menu_.focus();this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),scrollIntoContainerView$$module$build$src$core$utils$style(this.selectedMenuItem.getElement(),getContentDiv$$module$build$src$core$dropdowndiv(),!0));this.applyColour();}},{key:"dropdownCreate",value:function dropdownCreate(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();var b=new Menu$$module$build$src$core$menu();b.setRole(Role$$module$build$src$core$utils$aria.LISTBOX);this.menu_=b;var c=this.getOptions(!1);this.selectedMenuItem=null;for(var e=0;e<c.length;e++){var _c$e=_slicedToArray(c[e],2),f=_c$e[0],g=_c$e[1];if("object"===typeof f){var d=new Image(f.width,f.height);d.src=f.src;d.alt=f.alt||"";}else d=f;d=new MenuItem$$module$build$src$core$menuitem(d,g);d.setRole(Role$$module$build$src$core$utils$aria.OPTION);d.setRightToLeft(a.RTL);d.setCheckable(!0);b.addChild(d);d.setChecked(g===this.value_);g===this.value_&&(this.selectedMenuItem=d);d.onAction(this.handleMenuActionEvent,this);}}},{key:"dropdownDispose_",value:function dropdownDispose_(){this.menu_&&this.menu_.dispose();this.selectedMenuItem=this.menu_=null;this.applyColour();}},{key:"handleMenuActionEvent",value:function handleMenuActionEvent(a){hideIfOwner$$module$build$src$core$dropdowndiv(this,!0);this.onItemSelected_(this.menu_,a);}},{key:"onItemSelected_",value:function onItemSelected_(a,b){this.setValue(b.getValue());}},{key:"isOptionListDynamic",value:function isOptionListDynamic(){return"function"===typeof this.menuGenerator_;}},{key:"getOptions",value:function getOptions(a){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");if(Array.isArray(this.menuGenerator_))return this.menuGenerator_;if(a&&this.generatedOptions)return this.generatedOptions;this.generatedOptions=this.menuGenerator_();validateOptions$$module$build$src$core$field_dropdown(this.generatedOptions);return this.generatedOptions;}},{key:"doClassValidation_",value:function doClassValidation_(a){return this.getOptions(!0).some(function(b){return b[1]===a;})?a:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+a),null);}},{key:"doValueUpdate_",value:function doValueUpdate_(a){_get(_getPrototypeOf(FieldDropdown$$module$build$src$core$field_dropdown.prototype),"doValueUpdate_",this).call(this,a);a=this.getOptions(!0);for(var b=0,c;c=a[b];b++)c[1]===this.value_&&(this.selectedOption=c);}},{key:"applyColour",value:function applyColour(){var a=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",a.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",a.colourTertiary):this.borderRect_.setAttribute("fill","transparent"));this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=a.colourSecondary:this.arrow.style.fill=a.colourPrimary);}},{key:"render_",value:function render_(){this.getTextContent().nodeValue="";this.imageElement.style.display="none";var a=this.selectedOption&&this.selectedOption[0];a&&"object"===typeof a?this.renderSelectedImage(a):this.renderSelectedText();this.positionBorderRect_();}},{key:"renderSelectedImage",value:function renderSelectedImage(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();this.imageElement.style.display="";this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",a.src);this.imageElement.setAttribute("height",String(a.height));this.imageElement.setAttribute("width",String(a.width));var c=Number(a.height);a=Number(a.width);var d=!!this.borderRect_;var e=Math.max(d?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,c+IMAGE_Y_PADDING$$module$build$src$core$field_dropdown);d=d?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var f;f=this.svgArrow?this.positionSVGArrow(a+d,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):getFastTextWidth$$module$build$src$core$utils$dom(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=a+f+2*d;this.size_.height=e;var g=0;b.RTL?this.imageElement.setAttribute("x",`${d+f}`):(g=a+f,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${d}`));this.imageElement.setAttribute("y",String(e/2-c/2));this.positionTextElement_(g+d,a+f);}},{key:"renderSelectedText",value:function renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var a=this.getTextElement();addClass$$module$build$src$core$utils$dom(a,"blocklyDropdownText");a.setAttribute("text-anchor","start");var b=!!this.borderRect_;a=Math.max(b?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);var c=getFastTextWidth$$module$build$src$core$utils$dom(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);b=b?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var d=0;this.svgArrow&&(d=this.positionSVGArrow(c+b,a/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2));this.size_.width=c+d+2*b;this.size_.height=a;this.positionTextElement_(b,c);}},{key:"positionSVGArrow",value:function positionSVGArrow(a,b){if(!this.svgArrow)return 0;var c=this.getSourceBlock();if(!c)throw new UnattachedFieldError$$module$build$src$core$field();var d=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,e=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,f=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;this.svgArrow.setAttribute("transform","translate("+(c.RTL?d:a+e)+","+b+")");return f+e;}},{key:"getText_",value:function getText_(){if(!this.selectedOption)return null;var a=this.selectedOption[0];return"object"===typeof a?a.alt:a;}}],[{key:"fromJson",value:function fromJson(a){if(!a.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(a.options,void 0,a);}}]);return FieldDropdown$$module$build$src$core$field_dropdown;}(Field$$module$build$src$core$field);FieldDropdown$$module$build$src$core$field_dropdown.CHECKMARK_OVERHANG=25;FieldDropdown$$module$build$src$core$field_dropdown.MAX_MENU_HEIGHT_VH=.45;FieldDropdown$$module$build$src$core$field_dropdown.ARROW_CHAR="\u25be";var IMAGE_Y_OFFSET$$module$build$src$core$field_dropdown=5,IMAGE_Y_PADDING$$module$build$src$core$field_dropdown=2*IMAGE_Y_OFFSET$$module$build$src$core$field_dropdown;register$$module$build$src$core$field_registry("field_dropdown",FieldDropdown$$module$build$src$core$field_dropdown);var module$build$src$core$field_dropdown={};module$build$src$core$field_dropdown.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;var _a$$module$build$src$core$bubbles$bubble,Bubble$$module$build$src$core$bubbles$bubble=/*#__PURE__*/function(){"use strict";function Bubble$$module$build$src$core$bubbles$bubble(a,b,c){_classCallCheck(this,Bubble$$module$build$src$core$bubbles$bubble);this.workspace=a;this.anchor=b;this.ownerRect=c;this.size=new Size$$module$build$src$core$utils$size(0,0);this.colour="#ffffff";this.disposed=!1;this.relativeLeft=this.relativeTop=0;this.svgRoot=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},a.getBubbleCanvas());a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot);this.tail=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{},a);this.background=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyDraggable",x:0,y:0,rx:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,ry:_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);this.contentContainer=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},this.svgRoot);conditionalBind$$module$build$src$core$browser_events(this.background,"pointerdown",this,this.onMouseDown);}_createClass(Bubble$$module$build$src$core$bubbles$bubble,[{key:"dispose",value:function dispose(){removeNode$$module$build$src$core$utils$dom(this.svgRoot);this.disposed=!0;}},{key:"setAnchorLocation",value:function setAnchorLocation(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;this.anchor=a;b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail();}},{key:"setPositionRelativeToAnchor",value:function setPositionRelativeToAnchor(a,b){this.relativeLeft=a;this.relativeTop=b;this.positionRelativeToAnchor();this.renderTail();}},{key:"getSize",value:function getSize(){return this.size;}},{key:"setSize",value:function setSize(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;a.width=Math.max(a.width,_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);a.height=Math.max(a.height,_a$$module$build$src$core$bubbles$bubble.MIN_SIZE);this.size=a;this.background.setAttribute("width",`${a.width}`);this.background.setAttribute("height",`${a.height}`);b?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor();this.renderTail();}},{key:"getColour",value:function getColour(){return this.colour;}},{key:"setColour",value:function setColour(a){this.colour=a;this.tail.setAttribute("fill",a);this.background.setAttribute("fill",a);}},{key:"onMouseDown",value:function onMouseDown(a){var b;null==(b=this.workspace.getGesture(a))||b.handleBubbleStart(a,this);}},{key:"positionRelativeToAnchor",value:function positionRelativeToAnchor(){var a=this.anchor.x;a=this.workspace.RTL?a-(this.relativeLeft+this.size.width):a+this.relativeLeft;this.moveTo(a,this.relativeTop+this.anchor.y);}},{key:"moveTo",value:function moveTo(a,b){this.svgRoot.setAttribute("transform",`translate(${a}, ${b})`);}},{key:"positionByRect",value:function positionByRect(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Rect$$module$build$src$core$utils$rect(0,0,0,0);var b=this.workspace.getMetricsManager().getViewMetrics(!0),c=this.getOptimalRelativeLeft(b),d=this.getOptimalRelativeTop(b);var e={x:c,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},f={x:-this.size.width-30,y:d};d={x:a.getWidth(),y:d};var g={x:c,y:a.getHeight()};c=a.getWidth()<a.getHeight()?d:g;a=a.getWidth()<a.getHeight()?g:d;d=this.getOverlap(e,b);g=this.getOverlap(f,b);var h=this.getOverlap(c,b);b=this.getOverlap(a,b);b=Math.max(d,g,h,b);d===b?(this.relativeLeft=e.x,this.relativeTop=e.y):g===b?(this.relativeLeft=f.x,this.relativeTop=f.y):h===b?(this.relativeLeft=c.x,this.relativeTop=c.y):(this.relativeLeft=a.x,this.relativeTop=a.y);this.positionRelativeToAnchor();}},{key:"getOverlap",value:function getOverlap(a,b){var c=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x+this.anchor.x;a=a.y+this.anchor.y;return Math.max(0,Math.min(1,(Math.min(c+this.size.width,b.left+b.width)-Math.max(c,b.left))*(Math.min(a+this.size.height,b.top+b.height)-Math.max(a,b.top))/(this.size.width*this.size.height)));}},{key:"getOptimalRelativeLeft",value:function getOptimalRelativeLeft(a){var b=-this.size.width/4;if(this.size.width>a.width)return b;a=this.getWorkspaceViewRect(a);if(this.workspace.RTL){var c=this.anchor.x-b;c-this.size.width<a.left?b=-(a.left-this.anchor.x+this.size.width):c>a.right&&(b=-(a.right-this.anchor.x));}else{c=b+this.anchor.x;var d=c+this.size.width;c<a.left?b=a.left-this.anchor.x:d>a.right&&(b=a.right-this.anchor.x-this.size.width);}return b;}},{key:"getOptimalRelativeTop",value:function getOptimalRelativeTop(a){var b=-this.size.height/4;if(this.size.height>a.height)return b;var c=this.anchor.y+b,d=c+this.size.height;a=this.getWorkspaceViewRect(a);c<a.top?b=a.top-this.anchor.y:d>a.bottom&&(b=a.bottom-this.anchor.y-this.size.height);return b;}},{key:"getWorkspaceViewRect",value:function getWorkspaceViewRect(a){var b=a.top;var c=a.top+a.height,d=a.left;a=a.left+a.width;c-=this.getScrollbarThickness();this.workspace.RTL?d-=this.getScrollbarThickness():a-=this.getScrollbarThickness();return new Rect$$module$build$src$core$utils$rect(b,c,d,a);}},{key:"getScrollbarThickness",value:function getScrollbarThickness(){return Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness/this.workspace.scale;}},{key:"renderTail",value:function renderTail(){var a=[];var b=this.size.width/2,c=this.size.height/2,d=-this.relativeLeft,e=-this.relativeTop;if(b===d&&c===e)a.push("M "+b+","+c);else{e-=c;d-=b;this.workspace.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);0>e&&(g=2*Math.PI-g);var h=g+Math.PI/2;h>2*Math.PI&&(h-=2*Math.PI);var k=Math.sin(h);var m=Math.cos(h);var n=(this.size.width+this.size.height)/_a$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS;n=Math.min(n,this.size.width,this.size.height)/4;h=1-_a$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS/f;d=b+h*d;e=c+h*e;h=b+n*m;var p=c+n*k;b-=n*m;c-=n*k;k=toRadians$$module$build$src$core$utils$math(this.workspace.RTL?-_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE:_a$$module$build$src$core$bubbles$bubble.TAIL_ANGLE);k=g+k;k>2*Math.PI&&(k-=2*Math.PI);g=Math.sin(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;f=Math.cos(k)*f/_a$$module$build$src$core$bubbles$bubble.TAIL_BEND;a.push("M"+h+","+p);a.push("C"+(h+f)+","+(p+g)+" "+d+","+e+" "+d+","+e);a.push("C"+d+","+e+" "+(b+f)+","+(c+g)+" "+b+","+c);}a.push("z");var l;null==(l=this.tail)||l.setAttribute("d",a.join(" "));}},{key:"bringToFront",value:function bringToFront(){var a;var b=null==(a=this.svgRoot)?void 0:a.parentNode;return this.svgRoot&&(null==b?void 0:b.lastChild)!==this.svgRoot?(null==b||b.appendChild(this.svgRoot),!0):!1;}},{key:"getRelativeToSurfaceXY",value:function getRelativeToSurfaceXY(){return new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop);}},{key:"getSvgRoot",value:function getSvgRoot(){return this.svgRoot;}},{key:"moveDuringDrag",value:function moveDuringDrag(a){this.moveTo(a.x,a.y);this.relativeLeft=this.workspace.RTL?this.anchor.x-a.x-this.size.width:a.x-this.anchor.x;this.relativeTop=a.y-this.anchor.y;this.renderTail();}},{key:"setDragging",value:function setDragging(a){}},{key:"setDeleteStyle",value:function setDeleteStyle(a){}},{key:"isDeletable",value:function isDeletable(){return!1;}},{key:"showContextMenu",value:function showContextMenu(a){}}]);return Bubble$$module$build$src$core$bubbles$bubble;}();_a$$module$build$src$core$bubbles$bubble=Bubble$$module$build$src$core$bubbles$bubble;Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH=6;Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER=2*_a$$module$build$src$core$bubbles$bubble.BORDER_WIDTH;Bubble$$module$build$src$core$bubbles$bubble.MIN_SIZE=_a$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;Bubble$$module$build$src$core$bubbles$bubble.TAIL_THICKNESS=1;Bubble$$module$build$src$core$bubbles$bubble.TAIL_ANGLE=20;Bubble$$module$build$src$core$bubbles$bubble.TAIL_BEND=4;Bubble$$module$build$src$core$bubbles$bubble.ANCHOR_RADIUS=8;var module$build$src$core$bubbles$bubble={};module$build$src$core$bubbles$bubble.Bubble=Bubble$$module$build$src$core$bubbles$bubble;var MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble=/*#__PURE__*/function(_Bubble$$module$build){"use strict";_inherits(MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble,_Bubble$$module$build);function MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble(a,b,c,d){var _this21;_classCallCheck(this,MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble);_this21=_callSuper(this,MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble,[b,c,d]);_this21.workspace=b;_this21.anchor=c;_this21.ownerRect=d;_this21.autoLayout=!0;b=new Options$$module$build$src$core$options(a);_this21.validateWorkspaceOptions(b);_this21.svgDialog=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,y:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},_this21.contentContainer);a.parentWorkspace=_this21.workspace;_this21.miniWorkspace=_this21.newWorkspaceSvg(new Options$$module$build$src$core$options(a));_this21.miniWorkspace.internalIsMutator=!0;a=_this21.miniWorkspace.createDom("blocklyMutatorBackground");_this21.svgDialog.appendChild(a);b.languageTree&&(a.insertBefore(_this21.miniWorkspace.addFlyout(Svg$$module$build$src$core$utils$svg.G),_this21.miniWorkspace.getCanvas()),a=_this21.miniWorkspace.getFlyout(),null==a||a.init(_this21.miniWorkspace),null==a||a.show(b.languageTree));_this21.miniWorkspace.addChangeListener(_this21.onWorkspaceChange.bind(_assertThisInitialized(_this21)));var e,f;null==(e=_this21.miniWorkspace.getFlyout())||null==(f=e.getWorkspace())||f.addChangeListener(_this21.onWorkspaceChange.bind(_assertThisInitialized(_this21)));_this21.updateBubbleSize();return _this21;}_createClass(MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble,[{key:"dispose",value:function dispose(){this.miniWorkspace.dispose();_get(_getPrototypeOf(MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.prototype),"dispose",this).call(this);}},{key:"getWorkspace",value:function getWorkspace(){return this.miniWorkspace;}},{key:"addWorkspaceChangeListener",value:function addWorkspaceChangeListener(a){this.miniWorkspace.addChangeListener(a);}},{key:"validateWorkspaceOptions",value:function validateWorkspaceOptions(a){if(a.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(a.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(a.zoomOptions.controls||a.zoomOptions.wheel||a.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(a.moveOptions.scrollbars||a.moveOptions.wheel||a.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(a.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts");}},{key:"onWorkspaceChange",value:function onWorkspaceChange(){this.bumpBlocksIntoBounds();this.updateBubbleSize();}},{key:"bumpBlocksIntoBounds",value:function bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging()){var _iterator28=_createForOfIteratorHelper(this.miniWorkspace.getTopBlocks(!1)),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var a=_step28.value;var b=a.getRelativeToSurfaceXY();20>b.y&&a.moveBy(0,20-b.y);if(a.RTL){var c=-20;var d=this.miniWorkspace.getFlyout();d&&(c-=d.getWidth());b.x>c&&a.moveBy(c-b.x,0);}else 20>b.x&&a.moveBy(20-b.x,0);}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}}}},{key:"updateBubbleSize",value:function updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var a=this.getSize(),b=this.calculateWorkspaceSize();Math.abs(a.width-b.width)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE&&Math.abs(a.height-b.height)<MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${b.width}px`),this.svgDialog.setAttribute("height",`${b.height}px`),this.miniWorkspace.setCachedParentSvgSize(b.width,b.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${b.width}, 0)`),this.setSize(new Size$$module$build$src$core$utils$size(b.width+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,b.height+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets());}}},{key:"calculateWorkspaceSize",value:function calculateWorkspaceSize(){var a=this.miniWorkspace.getCanvas().getBBox();var b=a.width+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;a=a.height+MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN;var c=this.miniWorkspace.getFlyout();if(c){var d=c.getWorkspace().getMetricsManager().getScrollMetrics();a=Math.max(a,d.height+20);b+=c.getWidth();}return new Size$$module$build$src$core$utils$size(b,a);}},{key:"updateBlockStyles",value:function updateBlockStyles(){var _iterator29=_createForOfIteratorHelper(this.miniWorkspace.getAllBlocks(!1)),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var a=_step29.value;a.setStyle(a.getStyleName());}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}var b;if(a=null==(b=this.miniWorkspace.getFlyout())?void 0:b.getWorkspace()){var _iterator30=_createForOfIteratorHelper(a.getAllBlocks(!1)),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var c=_step30.value;c.setStyle(c.getStyleName());}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}}}},{key:"moveDuringDrag",value:function moveDuringDrag(a){_get(_getPrototypeOf(MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.prototype),"moveDuringDrag",this).call(this,a);this.autoLayout=!1;}},{key:"moveTo",value:function moveTo(a,b){_get(_getPrototypeOf(MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.prototype),"moveTo",this).call(this,a,b);this.miniWorkspace.recordDragTargets();}},{key:"newWorkspaceSvg",value:function newWorkspaceSvg(a){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts");}}]);return MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;}(Bubble$$module$build$src$core$bubbles$bubble);MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MINIMUM_VIEW_CHANGE=10;MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.MARGIN=3*Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;var module$build$src$core$bubbles$mini_workspace_bubble={};module$build$src$core$bubbles$mini_workspace_bubble.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;var SIZE$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon;SIZE$$module$build$src$core$icons$mutator_icon=17;WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon=16;$.MutatorIcon$$module$build$src$core$icons$mutator_icon=/*#__PURE__*/function(_Icon$$module$build$s){"use strict";_inherits(_class2,_Icon$$module$build$s);function _class2(a,b){var _this22;_classCallCheck(this,_class2);_this22=_callSuper(this,_class2,[b]);_this22.flyoutBlockTypes=a;_this22.sourceBlock=b;_this22.saveConnectionsListener=_this22.updateWorkspacePid=_this22.rootBlock=_this22.miniWorkspaceBubble=null;return _this22;}_createClass(_class2,[{key:"getType",value:function getType(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE;}},{key:"initView",value:function initView(a){this.svgRoot||(_get(_getPrototypeOf(_class2.prototype),"initView",this).call(this,a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,"blockly-icon-mutator"));}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(_class2.prototype),"dispose",this).call(this);var a;null==(a=this.miniWorkspaceBubble)||a.dispose();}},{key:"getWeight",value:function getWeight(){return $.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT;}},{key:"getSize",value:function getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$mutator_icon,SIZE$$module$build$src$core$icons$mutator_icon);}},{key:"applyColour",value:function applyColour(){_get(_getPrototypeOf(_class2.prototype),"applyColour",this).call(this);var a;null==(a=this.miniWorkspaceBubble)||a.setColour(this.sourceBlock.style.colourPrimary);var b;null==(b=this.miniWorkspaceBubble)||b.updateBlockStyles();}},{key:"updateCollapsed",value:function updateCollapsed(){_get(_getPrototypeOf(_class2.prototype),"updateCollapsed",this).call(this);this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1);}},{key:"onLocationChange",value:function onLocationChange(a){_get(_getPrototypeOf(_class2.prototype),"onLocationChange",this).call(this,a);var b;null==(b=this.miniWorkspaceBubble)||b.setAnchorLocation(this.getAnchorLocation());}},{key:"onClick",value:function onClick(){_get(_getPrototypeOf(_class2.prototype),"onClick",this).call(this);this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible());}},{key:"isClickableInFlyout",value:function isClickableInFlyout(){return!1;}},{key:"bubbleIsVisible",value:function bubbleIsVisible(){return!!this.miniWorkspaceBubble;}},{key:"setBubbleVisible",value:function setBubbleVisible(a){if(this.bubbleIsVisible()!==a){if(a){this.miniWorkspaceBubble=new MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble(this.getMiniWorkspaceConfig(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect());this.applyColour();this.createRootBlock();this.addSaveConnectionsListener();var b;null==(b=this.miniWorkspaceBubble)||b.addWorkspaceChangeListener(this.createMiniWorkspaceChangeListener());}else{var _b;null==(_b=this.miniWorkspaceBubble)||_b.dispose();this.miniWorkspaceBubble=null;this.saveConnectionsListener&&this.sourceBlock.workspace.removeChangeListener(this.saveConnectionsListener);this.saveConnectionsListener=null;}fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(BUBBLE_OPEN$$module$build$src$core$events$utils))(this.sourceBlock,a,"mutator"));}}},{key:"getMiniWorkspaceConfig",value:function getMiniWorkspaceConfig(){var a;var b={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:null!=(a=this.sourceBlock.workspace.options.rendererOverrides)?a:void 0};this.flyoutBlockTypes.length&&(b.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(function(c){return{kind:"block",type:c};})});return b;}},{key:"getAnchorLocation",value:function getAnchorLocation(){var a=SIZE$$module$build$src$core$icons$mutator_icon/2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a));}},{key:"getBubbleOwnerRect",value:function getBubbleOwnerRect(){var a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width);}},{key:"createRootBlock",value:function createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());var _iterator31=_createForOfIteratorHelper(this.rootBlock.getDescendants(!1)),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var a=_step31.value;a.queueRender();}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}this.rootBlock.setMovable(!1);this.rootBlock.setDeletable(!1);var b,c,d,e;a=null!=(e=null==(b=this.miniWorkspaceBubble)?void 0:null==(c=b.getWorkspace())?void 0:null==(d=c.getFlyout())?void 0:d.getWidth())?e:0;this.rootBlock.moveBy(this.rootBlock.RTL?-(a+WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon):WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon,WORKSPACE_MARGIN$$module$build$src$core$icons$mutator_icon);}},{key:"addSaveConnectionsListener",value:function addSaveConnectionsListener(){var _this23=this;this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=function(){_this23.sourceBlock.saveConnections&&_this23.rootBlock&&_this23.sourceBlock.saveConnections(_this23.rootBlock);},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener));}},{key:"createMiniWorkspaceChangeListener",value:function createMiniWorkspaceChangeListener(){var _this24=this;return function(a){$.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(a)||_this24.updateWorkspacePid||(_this24.updateWorkspacePid=setTimeout(function(){_this24.updateWorkspacePid=null;_this24.recomposeSourceBlock();},0));};}},{key:"recomposeSourceBlock",value:function recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var c=BlockChange$$module$build$src$core$events$events_block_change.getExtraBlockState_(this.sourceBlock);b!==c&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,b,c));$.setGroup$$module$build$src$core$events$utils(a);}}},{key:"getWorkspace",value:function getWorkspace(){var a;return null==(a=this.miniWorkspaceBubble)?void 0:a.getWorkspace();}}],[{key:"isIgnorableMutatorEvent",value:function isIgnorableMutatorEvent(a){return a.isUiEvent||a.type===$.CREATE$$module$build$src$core$events$utils||a.type===$.CHANGE$$module$build$src$core$events$utils&&"disabled"===a.element;}},{key:"reconnect",value:function reconnect(a,b,c){warn$$module$build$src$core$utils$deprecation("MutatorIcon.reconnect","v10","v11","connection.reconnect");return a?a.reconnect(b,c):!1;}},{key:"findParentWs",value:function findParentWs(a){warn$$module$build$src$core$utils$deprecation("MutatorIcon.findParentWs","v10","v11","workspace.getRootWorkspace");return a.getRootWorkspace();}}]);return _class2;}(Icon$$module$build$src$core$icons$icon);$.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.MUTATOR;$.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1;var module$build$src$core$icons$mutator_icon={};module$build$src$core$icons$mutator_icon.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;var allExtensions$$module$build$src$core$extensions=Object.create(null),TEST_ONLY$$module$build$src$core$extensions={allExtensions:allExtensions$$module$build$src$core$extensions};$.register$$module$build$src$core$extensions("parent_tooltip_when_inline",extensionParentTooltip$$module$build$src$core$extensions);var module$build$src$core$extensions={TEST_ONLY:TEST_ONLY$$module$build$src$core$extensions};module$build$src$core$extensions.apply=apply$$module$build$src$core$extensions;module$build$src$core$extensions.buildTooltipForDropdown=$.buildTooltipForDropdown$$module$build$src$core$extensions;module$build$src$core$extensions.buildTooltipWithFieldText=$.buildTooltipWithFieldText$$module$build$src$core$extensions;module$build$src$core$extensions.isRegistered=isRegistered$$module$build$src$core$extensions;module$build$src$core$extensions.register=$.register$$module$build$src$core$extensions;module$build$src$core$extensions.registerMixin=$.registerMixin$$module$build$src$core$extensions;module$build$src$core$extensions.registerMutator=$.registerMutator$$module$build$src$core$extensions;module$build$src$core$extensions.runAfterPageLoad=runAfterPageLoad$$module$build$src$core$extensions;module$build$src$core$extensions.unregister=unregister$$module$build$src$core$extensions;var KeyCodes$$module$build$src$core$utils$keycodes;(function(a){a[a.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX";a[a.MAC_ENTER=3]="MAC_ENTER";a[a.BACKSPACE=8]="BACKSPACE";a[a.TAB=9]="TAB";a[a.NUM_CENTER=12]="NUM_CENTER";a[a.ENTER=13]="ENTER";a[a.SHIFT=16]="SHIFT";a[a.CTRL=17]="CTRL";a[a.ALT=18]="ALT";a[a.PAUSE=19]="PAUSE";a[a.CAPS_LOCK=20]="CAPS_LOCK";a[a.ESC=27]="ESC";a[a.SPACE=32]="SPACE";a[a.PAGE_UP=33]="PAGE_UP";a[a.PAGE_DOWN=34]="PAGE_DOWN";a[a.END=35]="END";a[a.HOME=36]="HOME";a[a.LEFT=37]="LEFT";a[a.UP=38]="UP";a[a.RIGHT=39]="RIGHT";a[a.DOWN=40]="DOWN";a[a.PLUS_SIGN=43]="PLUS_SIGN";a[a.PRINT_SCREEN=44]="PRINT_SCREEN";a[a.INSERT=45]="INSERT";a[a.DELETE=46]="DELETE";a[a.ZERO=48]="ZERO";a[a.ONE=49]="ONE";a[a.TWO=50]="TWO";a[a.THREE=51]="THREE";a[a.FOUR=52]="FOUR";a[a.FIVE=53]="FIVE";a[a.SIX=54]="SIX";a[a.SEVEN=55]="SEVEN";a[a.EIGHT=56]="EIGHT";a[a.NINE=57]="NINE";a[a.FF_SEMICOLON=59]="FF_SEMICOLON";a[a.FF_EQUALS=61]="FF_EQUALS";a[a.FF_DASH=173]="FF_DASH";a[a.FF_HASH=163]="FF_HASH";a[a.QUESTION_MARK=63]="QUESTION_MARK";a[a.AT_SIGN=64]="AT_SIGN";a[a.A=65]="A";a[a.B=66]="B";a[a.C=67]="C";a[a.D=68]="D";a[a.E=69]="E";a[a.F=70]="F";a[a.G=71]="G";a[a.H=72]="H";a[a.I=73]="I";a[a.J=74]="J";a[a.K=75]="K";a[a.L=76]="L";a[a.M=77]="M";a[a.N=78]="N";a[a.O=79]="O";a[a.P=80]="P";a[a.Q=81]="Q";a[a.R=82]="R";a[a.S=83]="S";a[a.T=84]="T";a[a.U=85]="U";a[a.V=86]="V";a[a.W=87]="W";a[a.X=88]="X";a[a.Y=89]="Y";a[a.Z=90]="Z";a[a.META=91]="META";a[a.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT";a[a.CONTEXT_MENU=93]="CONTEXT_MENU";a[a.NUM_ZERO=96]="NUM_ZERO";a[a.NUM_ONE=97]="NUM_ONE";a[a.NUM_TWO=98]="NUM_TWO";a[a.NUM_THREE=99]="NUM_THREE";a[a.NUM_FOUR=100]="NUM_FOUR";a[a.NUM_FIVE=101]="NUM_FIVE";a[a.NUM_SIX=102]="NUM_SIX";a[a.NUM_SEVEN=103]="NUM_SEVEN";a[a.NUM_EIGHT=104]="NUM_EIGHT";a[a.NUM_NINE=105]="NUM_NINE";a[a.NUM_MULTIPLY=106]="NUM_MULTIPLY";a[a.NUM_PLUS=107]="NUM_PLUS";a[a.NUM_MINUS=109]="NUM_MINUS";a[a.NUM_PERIOD=110]="NUM_PERIOD";a[a.NUM_DIVISION=111]="NUM_DIVISION";a[a.F1=112]="F1";a[a.F2=113]="F2";a[a.F3=114]="F3";a[a.F4=115]="F4";a[a.F5=116]="F5";a[a.F6=117]="F6";a[a.F7=118]="F7";a[a.F8=119]="F8";a[a.F9=120]="F9";a[a.F10=121]="F10";a[a.F11=122]="F11";a[a.F12=123]="F12";a[a.NUMLOCK=144]="NUMLOCK";a[a.SCROLL_LOCK=145]="SCROLL_LOCK";a[a.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY";a[a.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY";a[a.SEMICOLON=186]="SEMICOLON";a[a.DASH=189]="DASH";a[a.EQUALS=187]="EQUALS";a[a.COMMA=188]="COMMA";a[a.PERIOD=190]="PERIOD";a[a.SLASH=191]="SLASH";a[a.APOSTROPHE=192]="APOSTROPHE";a[a.TILDE=192]="TILDE";a[a.SINGLE_QUOTE=222]="SINGLE_QUOTE";a[a.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET";a[a.BACKSLASH=220]="BACKSLASH";a[a.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET";a[a.WIN_KEY=224]="WIN_KEY";a[a.MAC_FF_META=224]="MAC_FF_META";a[a.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT";a[a.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT";a[a.WIN_IME=229]="WIN_IME";a[a.VK_NONAME=252]="VK_NONAME";a[a.PHANTOM=255]="PHANTOM";})(KeyCodes$$module$build$src$core$utils$keycodes||(KeyCodes$$module$build$src$core$utils$keycodes={}));var module$build$src$core$utils$keycodes={};module$build$src$core$utils$keycodes.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;var module$build$src$core$utils$svg_paths={};module$build$src$core$utils$svg_paths.arc=arc$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.curve=curve$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.line=line$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineOnAxis=lineOnAxis$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.lineTo=lineTo$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.moveBy=moveBy$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.moveTo=moveTo$$module$build$src$core$utils$svg_paths;module$build$src$core$utils$svg_paths.point=point$$module$build$src$core$utils$svg_paths;var module$build$src$core$utils={};module$build$src$core$utils.Coordinate=Coordinate$$module$build$src$core$utils$coordinate;module$build$src$core$utils.KeyCodes=KeyCodes$$module$build$src$core$utils$keycodes;module$build$src$core$utils.Rect=Rect$$module$build$src$core$utils$rect;module$build$src$core$utils.Size=Size$$module$build$src$core$utils$size;module$build$src$core$utils.Svg=Svg$$module$build$src$core$utils$svg;module$build$src$core$utils.aria=module$build$src$core$utils$aria;module$build$src$core$utils.array=module$build$src$core$utils$array;module$build$src$core$utils.browserEvents=module$build$src$core$browser_events;module$build$src$core$utils.colour=module$build$src$core$utils$colour;module$build$src$core$utils.deprecation=module$build$src$core$utils$deprecation;module$build$src$core$utils.dom=module$build$src$core$utils$dom;module$build$src$core$utils.extensions=module$build$src$core$extensions;module$build$src$core$utils.idGenerator=module$build$src$core$utils$idgenerator;module$build$src$core$utils.math=module$build$src$core$utils$math;module$build$src$core$utils.object=module$build$src$core$utils$object;module$build$src$core$utils.parsing=module$build$src$core$utils$parsing;module$build$src$core$utils.string=module$build$src$core$utils$string;module$build$src$core$utils.style=module$build$src$core$utils$style;module$build$src$core$utils.svgMath=module$build$src$core$utils$svg_math;module$build$src$core$utils.svgPaths=module$build$src$core$utils$svg_paths;module$build$src$core$utils.toolbox=module$build$src$core$utils$toolbox;module$build$src$core$utils.userAgent=module$build$src$core$utils$useragent;module$build$src$core$utils.xml=module$build$src$core$utils$xml;var module$build$src$core$icons$registry={};module$build$src$core$icons$registry.register=register$$module$build$src$core$icons$registry;module$build$src$core$icons$registry.unregister=unregister$$module$build$src$core$icons$registry;var TextBubble$$module$build$src$core$bubbles$text_bubble=/*#__PURE__*/function(_Bubble$$module$build2){"use strict";_inherits(TextBubble$$module$build$src$core$bubbles$text_bubble,_Bubble$$module$build2);function TextBubble$$module$build$src$core$bubbles$text_bubble(a,b,c,d){var _this25;_classCallCheck(this,TextBubble$$module$build$src$core$bubbles$text_bubble);_this25=_callSuper(this,TextBubble$$module$build$src$core$bubbles$text_bubble,[b,c,d]);_this25.text=a;_this25.workspace=b;_this25.anchor=c;_this25.ownerRect=d;_this25.paragraph=_this25.stringToSvg(a,_this25.contentContainer);_this25.updateBubbleSize();return _this25;}_createClass(TextBubble$$module$build$src$core$bubbles$text_bubble,[{key:"getText",value:function getText(){return this.text;}},{key:"setText",value:function setText(a){this.text=a;removeNode$$module$build$src$core$utils$dom(this.paragraph);this.paragraph=this.stringToSvg(a,this.contentContainer);this.updateBubbleSize();}},{key:"stringToSvg",value:function stringToSvg(a,b){b=this.createParagraph(b);a=this.createSpans(b,a);this.workspace.RTL&&this.rightAlignSpans(b.getBBox().width,a);return b;}},{key:"createParagraph",value:function createParagraph(a){return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);}},{key:"createSpans",value:function createSpans(a,b){return b.split("\n").map(function(c){var d=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TSPAN,{dy:"1em",x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);c=document.createTextNode(c);d.appendChild(c);return d;});}},{key:"rightAlignSpans",value:function rightAlignSpans(a,b){var _iterator32=_createForOfIteratorHelper(b),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var c=_step32.value;c.setAttribute("text-anchor","end"),c.setAttribute("x",`${a+Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH}`);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}}},{key:"updateBubbleSize",value:function updateBubbleSize(){var a=this.paragraph.getBBox();this.setSize(new Size$$module$build$src$core$utils$size(a.width+2*Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,a.height+2*Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH),!0);}}]);return TextBubble$$module$build$src$core$bubbles$text_bubble;}(Bubble$$module$build$src$core$bubbles$bubble),module$build$src$core$bubbles$text_bubble={};module$build$src$core$bubbles$text_bubble.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;var TextInputBubble$$module$build$src$core$bubbles$textinput_bubble=/*#__PURE__*/function(_Bubble$$module$build3){"use strict";_inherits(TextInputBubble$$module$build$src$core$bubbles$textinput_bubble,_Bubble$$module$build3);function TextInputBubble$$module$build$src$core$bubbles$textinput_bubble(a,b,c){var _this26;_classCallCheck(this,TextInputBubble$$module$build$src$core$bubbles$textinput_bubble);_this26=_callSuper(this,TextInputBubble$$module$build$src$core$bubbles$textinput_bubble,[a,b,c]);_this26.workspace=a;_this26.anchor=b;_this26.ownerRect=c;_this26.resizePointerMoveListener=_this26.resizePointerUpListener=null;_this26.textChangeListeners=[];_this26.sizeChangeListeners=[];_this26.text="";_this26.DEFAULT_SIZE=new Size$$module$build$src$core$utils$size(160+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,80+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);_this26.MIN_SIZE=new Size$$module$build$src$core$utils$size(45+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,20+Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER);var _this26$createEditor=_this26.createEditor(_this26.contentContainer);_this26.inputRoot=_this26$createEditor.inputRoot;_this26.textArea=_this26$createEditor.textArea;_this26.resizeGroup=_this26.createResizeHandle(_this26.svgRoot);_this26.setSize(_this26.DEFAULT_SIZE,!0);return _this26;}_createClass(TextInputBubble$$module$build$src$core$bubbles$textinput_bubble,[{key:"getText",value:function getText(){return this.text;}},{key:"setText",value:function setText(a){this.text=a;this.textArea.value=a;this.onTextChange();}},{key:"addTextChangeListener",value:function addTextChangeListener(a){this.textChangeListeners.push(a);}},{key:"addSizeChangeListener",value:function addSizeChangeListener(a){this.sizeChangeListeners.push(a);}},{key:"createEditor",value:function createEditor(a){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FOREIGNOBJECT,{x:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH,y:Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH},a);var b=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,"body");b.setAttribute("xmlns",HTML_NS$$module$build$src$core$utils$dom);b.className="blocklyMinimalBody";var c=document.createElementNS(HTML_NS$$module$build$src$core$utils$dom,"textarea");c.className="blocklyCommentTextarea";c.setAttribute("dir",this.workspace.RTL?"RTL":"LTR");b.appendChild(c);a.appendChild(b);this.bindTextAreaEvents(c);setTimeout(function(){c.focus();},0);return{inputRoot:a,textArea:c};}},{key:"bindTextAreaEvents",value:function bindTextAreaEvents(a){conditionalBind$$module$build$src$core$browser_events(a,"wheel",this,function(b){b.stopPropagation();});conditionalBind$$module$build$src$core$browser_events(a,"focus",this,this.onStartEdit,!0);conditionalBind$$module$build$src$core$browser_events(a,"change",this,this.onTextChange);}},{key:"createResizeHandle",value:function createResizeHandle(a){a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":this.workspace.RTL?"blocklyResizeSW":"blocklyResizeSE"},a);var b=2*Bubble$$module$build$src$core$bubbles$bubble.BORDER_WIDTH;createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.POLYGON,{points:`0,${b} ${b},${b} ${b},0`},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},a);conditionalBind$$module$build$src$core$browser_events(a,"pointerdown",this,this.onResizePointerDown);return a;}},{key:"setSize",value:function setSize(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;a.width=Math.max(a.width,this.MIN_SIZE.width);a.height=Math.max(a.height,this.MIN_SIZE.height);var c=a.width-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER,d=a.height-Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${c}`);this.inputRoot.setAttribute("height",`${d}`);this.textArea.style.width=`${c-4}px`;this.textArea.style.height=`${d-4}px`;this.workspace.RTL?this.resizeGroup.setAttribute("transform",`translate(${Bubble$$module$build$src$core$bubbles$bubble.DOUBLE_BORDER}, ${d}) scale(-1 1)`):this.resizeGroup.setAttribute("transform",`translate(${c}, ${d})`);_get(_getPrototypeOf(TextInputBubble$$module$build$src$core$bubbles$textinput_bubble.prototype),"setSize",this).call(this,a,b);this.onSizeChange();}},{key:"getSize",value:function getSize(){return _get(_getPrototypeOf(TextInputBubble$$module$build$src$core$bubbles$textinput_bubble.prototype),"getSize",this).call(this);}},{key:"onResizePointerDown",value:function onResizePointerDown(a){this.bringToFront();isRightButton$$module$build$src$core$browser_events(a)||(this.workspace.startDrag(a,new Coordinate$$module$build$src$core$utils$coordinate(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=conditionalBind$$module$build$src$core$browser_events(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=conditionalBind$$module$build$src$core$browser_events(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff());a.stopPropagation();}},{key:"onResizePointerUp",value:function onResizePointerUp(a){clearTouchIdentifier$$module$build$src$core$touch();this.resizePointerUpListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerUpListener),this.resizePointerUpListener=null);this.resizePointerMoveListener&&(unbind$$module$build$src$core$browser_events(this.resizePointerMoveListener),this.resizePointerMoveListener=null);}},{key:"onResizePointerMove",value:function onResizePointerMove(a){a=this.workspace.moveDrag(a);this.setSize(new Size$$module$build$src$core$utils$size(this.workspace.RTL?-a.x:a.x,a.y),!1);this.onSizeChange();}},{key:"onStartEdit",value:function onStartEdit(){this.bringToFront()&&this.textArea.focus();}},{key:"onTextChange",value:function onTextChange(){this.text=this.textArea.value;var _iterator33=_createForOfIteratorHelper(this.textChangeListeners),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var a=_step33.value;a();}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}}},{key:"onSizeChange",value:function onSizeChange(){var _iterator34=_createForOfIteratorHelper(this.sizeChangeListeners),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var a=_step34.value;a();}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}}}]);return TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;}(Bubble$$module$build$src$core$bubbles$bubble);register$$module$build$src$core$css("\n.blocklyCommentTextarea {\n  background-color: #fef49c;\n  border: 0;\n  display: block;\n  margin: 0;\n  outline: 0;\n  padding: 3px;\n  resize: none;\n  text-overflow: hidden;\n}\n");var module$build$src$core$bubbles$textinput_bubble={};module$build$src$core$bubbles$textinput_bubble.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var SIZE$$module$build$src$core$icons$comment_icon=17,DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon=160,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon=80,CommentIcon$$module$build$src$core$icons$comment_icon=/*#__PURE__*/function(_Icon$$module$build$s2){"use strict";_inherits(CommentIcon$$module$build$src$core$icons$comment_icon,_Icon$$module$build$s2);function CommentIcon$$module$build$src$core$icons$comment_icon(a){var _this27;_classCallCheck(this,CommentIcon$$module$build$src$core$icons$comment_icon);_this27=_callSuper(this,CommentIcon$$module$build$src$core$icons$comment_icon,[a]);_this27.sourceBlock=a;_this27.textBubble=_this27.textInputBubble=null;_this27.text="";_this27.bubbleSize=new Size$$module$build$src$core$utils$size(DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);_this27.bubbleVisiblity=!1;return _this27;}_createClass(CommentIcon$$module$build$src$core$icons$comment_icon,[{key:"getType",value:function getType(){return CommentIcon$$module$build$src$core$icons$comment_icon.TYPE;}},{key:"initView",value:function initView(a){this.svgRoot||(_get(_getPrototypeOf(CommentIcon$$module$build$src$core$icons$comment_icon.prototype),"initView",this).call(this,a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,"blockly-icon-comment"));}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(CommentIcon$$module$build$src$core$icons$comment_icon.prototype),"dispose",this).call(this);var a;null==(a=this.textInputBubble)||a.dispose();var b;null==(b=this.textBubble)||b.dispose();}},{key:"getWeight",value:function getWeight(){return CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT;}},{key:"getSize",value:function getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$comment_icon,SIZE$$module$build$src$core$icons$comment_icon);}},{key:"applyColour",value:function applyColour(){_get(_getPrototypeOf(CommentIcon$$module$build$src$core$icons$comment_icon.prototype),"applyColour",this).call(this);var a=this.sourceBlock.style.colourPrimary;var b;null==(b=this.textInputBubble)||b.setColour(a);var c;null==(c=this.textBubble)||c.setColour(a);}},{key:"updateEditable",value:function updateEditable(){_get(_getPrototypeOf(CommentIcon$$module$build$src$core$icons$comment_icon.prototype),"updateEditable",this).call(this);this.bubbleIsVisible()&&(this.setBubbleVisible(!1),this.setBubbleVisible(!0));}},{key:"onLocationChange",value:function onLocationChange(a){_get(_getPrototypeOf(CommentIcon$$module$build$src$core$icons$comment_icon.prototype),"onLocationChange",this).call(this,a);a=this.getAnchorLocation();var b;null==(b=this.textInputBubble)||b.setAnchorLocation(a);var c;null==(c=this.textBubble)||c.setAnchorLocation(a);}},{key:"setText",value:function setText(a){var b=this.text;fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,b,a));this.text=a;var c;null==(c=this.textInputBubble)||c.setText(this.text);var d;null==(d=this.textBubble)||d.setText(this.text);}},{key:"getText",value:function getText(){return this.text;}},{key:"setBubbleSize",value:function setBubbleSize(a){this.bubbleSize=a;var b;null==(b=this.textInputBubble)||b.setSize(this.bubbleSize,!0);}},{key:"getBubbleSize",value:function getBubbleSize(){return this.bubbleSize;}},{key:"saveState",value:function saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null;}},{key:"loadState",value:function loadState(a){var _this28=this;var b;this.text=null!=(b=a.text)?b:"";var c,d;this.bubbleSize=new Size$$module$build$src$core$utils$size(null!=(c=a.width)?c:DEFAULT_BUBBLE_WIDTH$$module$build$src$core$icons$comment_icon,null!=(d=a.height)?d:DEFAULT_BUBBLE_HEIGHT$$module$build$src$core$icons$comment_icon);var e;this.bubbleVisiblity=null!=(e=a.pinned)?e:!1;setTimeout(function(){return _this28.setBubbleVisible(_this28.bubbleVisiblity);},1);}},{key:"onClick",value:function onClick(){_get(_getPrototypeOf(CommentIcon$$module$build$src$core$icons$comment_icon.prototype),"onClick",this).call(this);this.setBubbleVisible(!this.bubbleIsVisible());}},{key:"isClickableInFlyout",value:function isClickableInFlyout(){return!1;}},{key:"onTextChange",value:function onTextChange(){if(this.textInputBubble){var a=this.textInputBubble.getText();this.text!==a&&(fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,this.text,a)),this.text=a);}}},{key:"onSizeChange",value:function onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize());}},{key:"bubbleIsVisible",value:function bubbleIsVisible(){return this.bubbleVisiblity;}},{key:"setBubbleVisible",value:function setBubbleVisible(a){if(!a||!this.textBubble&&!this.textInputBubble)if(a||this.textBubble||this.textInputBubble)this.bubbleVisiblity=a,this.sourceBlock.rendered&&!this.sourceBlock.isInFlyout&&(a?(this.sourceBlock.isEditable()?this.showEditableBubble():this.showNonEditableBubble(),this.applyColour()):this.hideBubble(),fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(BUBBLE_OPEN$$module$build$src$core$events$utils))(this.sourceBlock,a,"comment")));}},{key:"showEditableBubble",value:function showEditableBubble(){var _this29=this;this.textInputBubble=new TextInputBubble$$module$build$src$core$bubbles$textinput_bubble(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect());this.textInputBubble.setText(this.getText());this.textInputBubble.setSize(this.bubbleSize,!0);this.textInputBubble.addTextChangeListener(function(){return _this29.onTextChange();});this.textInputBubble.addSizeChangeListener(function(){return _this29.onSizeChange();});}},{key:"showNonEditableBubble",value:function showNonEditableBubble(){this.textBubble=new TextBubble$$module$build$src$core$bubbles$text_bubble(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect());}},{key:"hideBubble",value:function hideBubble(){var a;null==(a=this.textInputBubble)||a.dispose();this.textInputBubble=null;var b;null==(b=this.textBubble)||b.dispose();this.textBubble=null;}},{key:"getAnchorLocation",value:function getAnchorLocation(){var a=SIZE$$module$build$src$core$icons$comment_icon/2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a));}},{key:"getBubbleOwnerRect",value:function getBubbleOwnerRect(){var a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width);}}]);return CommentIcon$$module$build$src$core$icons$comment_icon;}(Icon$$module$build$src$core$icons$icon);CommentIcon$$module$build$src$core$icons$comment_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.COMMENT;CommentIcon$$module$build$src$core$icons$comment_icon.WEIGHT=3;register$$module$build$src$core$icons$registry(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE,CommentIcon$$module$build$src$core$icons$comment_icon);var module$build$src$core$icons$comment_icon={};module$build$src$core$icons$comment_icon.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;var SIZE$$module$build$src$core$icons$warning_icon=17,WarningIcon$$module$build$src$core$icons$warning_icon=/*#__PURE__*/function(_Icon$$module$build$s3){"use strict";_inherits(WarningIcon$$module$build$src$core$icons$warning_icon,_Icon$$module$build$s3);function WarningIcon$$module$build$src$core$icons$warning_icon(a){var _this30;_classCallCheck(this,WarningIcon$$module$build$src$core$icons$warning_icon);_this30=_callSuper(this,WarningIcon$$module$build$src$core$icons$warning_icon,[a]);_this30.sourceBlock=a;_this30.textMap=new Map();_this30.textBubble=null;return _this30;}_createClass(WarningIcon$$module$build$src$core$icons$warning_icon,[{key:"getType",value:function getType(){return WarningIcon$$module$build$src$core$icons$warning_icon.TYPE;}},{key:"initView",value:function initView(a){this.svgRoot||(_get(_getPrototypeOf(WarningIcon$$module$build$src$core$icons$warning_icon.prototype),"initView",this).call(this,a),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),addClass$$module$build$src$core$utils$dom(this.svgRoot,"blockly-icon-warning"));}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(WarningIcon$$module$build$src$core$icons$warning_icon.prototype),"dispose",this).call(this);var a;null==(a=this.textBubble)||a.dispose();}},{key:"getWeight",value:function getWeight(){return WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT;}},{key:"getSize",value:function getSize(){return new Size$$module$build$src$core$utils$size(SIZE$$module$build$src$core$icons$warning_icon,SIZE$$module$build$src$core$icons$warning_icon);}},{key:"applyColour",value:function applyColour(){_get(_getPrototypeOf(WarningIcon$$module$build$src$core$icons$warning_icon.prototype),"applyColour",this).call(this);var a;null==(a=this.textBubble)||a.setColour(this.sourceBlock.style.colourPrimary);}},{key:"updateCollapsed",value:function updateCollapsed(){}},{key:"isShownWhenCollapsed",value:function isShownWhenCollapsed(){return!0;}},{key:"onLocationChange",value:function onLocationChange(a){_get(_getPrototypeOf(WarningIcon$$module$build$src$core$icons$warning_icon.prototype),"onLocationChange",this).call(this,a);var b;null==(b=this.textBubble)||b.setAnchorLocation(this.getAnchorLocation());}},{key:"addMessage",value:function addMessage(a,b){if(this.textMap.get(b)===a)return this;a?this.textMap.set(b,a):this.textMap.delete(b);var c;null==(c=this.textBubble)||c.setText(this.getText());return this;}},{key:"getText",value:function getText(){return _toConsumableArray(this.textMap.values()).join("\n");}},{key:"onClick",value:function onClick(){_get(_getPrototypeOf(WarningIcon$$module$build$src$core$icons$warning_icon.prototype),"onClick",this).call(this);this.setBubbleVisible(!this.bubbleIsVisible());}},{key:"isClickableInFlyout",value:function isClickableInFlyout(){return!1;}},{key:"bubbleIsVisible",value:function bubbleIsVisible(){return!!this.textBubble;}},{key:"setBubbleVisible",value:function setBubbleVisible(a){if(this.bubbleIsVisible()!==a){if(a)this.textBubble=new TextBubble$$module$build$src$core$bubbles$text_bubble(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour();else{var b;null==(b=this.textBubble)||b.dispose();this.textBubble=null;}fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(BUBBLE_OPEN$$module$build$src$core$events$utils))(this.sourceBlock,a,"warning"));}}},{key:"getAnchorLocation",value:function getAnchorLocation(){var a=SIZE$$module$build$src$core$icons$warning_icon/2;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.workspaceLocation,new Coordinate$$module$build$src$core$utils$coordinate(a,a));}},{key:"getBubbleOwnerRect",value:function getBubbleOwnerRect(){var a=this.sourceBlock.getSvgRoot().getBBox();return new Rect$$module$build$src$core$utils$rect(a.y,a.y+a.height,a.x,a.x+a.width);}}]);return WarningIcon$$module$build$src$core$icons$warning_icon;}(Icon$$module$build$src$core$icons$icon);WarningIcon$$module$build$src$core$icons$warning_icon.TYPE=IconType$$module$build$src$core$icons$icon_types.WARNING;WarningIcon$$module$build$src$core$icons$warning_icon.WEIGHT=2;var module$build$src$core$icons$warning_icon={};module$build$src$core$icons$warning_icon.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;var DuplicateIconType$$module$build$src$core$icons$exceptions=/*#__PURE__*/function(_Error3){"use strict";_inherits(DuplicateIconType$$module$build$src$core$icons$exceptions,_Error3);function DuplicateIconType$$module$build$src$core$icons$exceptions(a){var _this31;_classCallCheck(this,DuplicateIconType$$module$build$src$core$icons$exceptions);_this31=_callSuper(this,DuplicateIconType$$module$build$src$core$icons$exceptions,[`Tried to append an icon of type ${a.getType()} when an icon of `+"that type already exists on the block. Use getIcon to access the existing icon."]);_this31.icon=a;return _this31;}return _createClass(DuplicateIconType$$module$build$src$core$icons$exceptions);}(/*#__PURE__*/_wrapNativeSuper(Error)),module$build$src$core$icons$exceptions={};module$build$src$core$icons$exceptions.DuplicateIconType=DuplicateIconType$$module$build$src$core$icons$exceptions;var module$build$src$core$icons={};module$build$src$core$icons.CommentIcon=CommentIcon$$module$build$src$core$icons$comment_icon;module$build$src$core$icons.Icon=Icon$$module$build$src$core$icons$icon;module$build$src$core$icons.IconType=IconType$$module$build$src$core$icons$icon_types;module$build$src$core$icons.MutatorIcon=$.MutatorIcon$$module$build$src$core$icons$mutator_icon;module$build$src$core$icons.WarningIcon=WarningIcon$$module$build$src$core$icons$warning_icon;module$build$src$core$icons.exceptions=module$build$src$core$icons$exceptions;module$build$src$core$icons.registry=module$build$src$core$icons$registry;var CATEGORY_NAME$$module$build$src$core$procedures,module$build$src$core$procedures;CATEGORY_NAME$$module$build$src$core$procedures="PROCEDURE";$.DEFAULT_ARG$$module$build$src$core$procedures="x";module$build$src$core$procedures={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$procedures,DEFAULT_ARG:$.DEFAULT_ARG$$module$build$src$core$procedures};module$build$src$core$procedures.ObservableProcedureMap=ObservableProcedureMap$$module$build$src$core$observable_procedure_map;module$build$src$core$procedures.allProcedures=allProcedures$$module$build$src$core$procedures;module$build$src$core$procedures.findLegalName=$.findLegalName$$module$build$src$core$procedures;module$build$src$core$procedures.flyoutCategory=flyoutCategory$$module$build$src$core$procedures;module$build$src$core$procedures.getCallers=getCallers$$module$build$src$core$procedures;module$build$src$core$procedures.getDefinition=$.getDefinition$$module$build$src$core$procedures;module$build$src$core$procedures.isNameUsed=isNameUsed$$module$build$src$core$procedures;module$build$src$core$procedures.isProcedureBlock=isProcedureBlock$$module$build$src$core$interfaces$i_procedure_block;module$build$src$core$procedures.mutateCallers=$.mutateCallers$$module$build$src$core$procedures;module$build$src$core$procedures.mutatorOpenListener=mutatorOpenListener$$module$build$src$core$procedures;module$build$src$core$procedures.rename=$.rename$$module$build$src$core$procedures;var TypesContainer$$module$build$src$core$renderers$measurables$types=/*#__PURE__*/function(){"use strict";function TypesContainer$$module$build$src$core$renderers$measurables$types(){_classCallCheck(this,TypesContainer$$module$build$src$core$renderers$measurables$types);this.NONE=0;this.FIELD=1;this.HAT=2;this.ICON=4;this.SPACER=8;this.BETWEEN_ROW_SPACER=16;this.IN_ROW_SPACER=32;this.EXTERNAL_VALUE_INPUT=64;this.INPUT=128;this.INLINE_INPUT=256;this.STATEMENT_INPUT=512;this.CONNECTION=1024;this.PREVIOUS_CONNECTION=2048;this.NEXT_CONNECTION=4096;this.OUTPUT_CONNECTION=8192;this.CORNER=16384;this.LEFT_SQUARE_CORNER=32768;this.LEFT_ROUND_CORNER=65536;this.RIGHT_SQUARE_CORNER=131072;this.RIGHT_ROUND_CORNER=262144;this.JAGGED_EDGE=524288;this.ROW=1048576;this.TOP_ROW=2097152;this.BOTTOM_ROW=4194304;this.INPUT_ROW=8388608;this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER;this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER;this.nextTypeValue_=16777216;}_createClass(TypesContainer$$module$build$src$core$renderers$measurables$types,[{key:"getType",value:function getType(a){Object.prototype.hasOwnProperty.call(this,a)||(this[a]=this.nextTypeValue_,this.nextTypeValue_<<=1);return this[a];}},{key:"isField",value:function isField(a){return a.type&this.FIELD;}},{key:"isHat",value:function isHat(a){return a.type&this.HAT;}},{key:"isIcon",value:function isIcon(a){return a.type&this.ICON;}},{key:"isSpacer",value:function isSpacer(a){return a.type&this.SPACER;}},{key:"isInRowSpacer",value:function isInRowSpacer(a){return a.type&this.IN_ROW_SPACER;}},{key:"isInput",value:function isInput(a){return a.type&this.INPUT;}},{key:"isExternalInput",value:function isExternalInput(a){return a.type&this.EXTERNAL_VALUE_INPUT;}},{key:"isInlineInput",value:function isInlineInput(a){return a.type&this.INLINE_INPUT;}},{key:"isStatementInput",value:function isStatementInput(a){return a.type&this.STATEMENT_INPUT;}},{key:"isPreviousConnection",value:function isPreviousConnection(a){return a.type&this.PREVIOUS_CONNECTION;}},{key:"isNextConnection",value:function isNextConnection(a){return a.type&this.NEXT_CONNECTION;}},{key:"isPreviousOrNextConnection",value:function isPreviousOrNextConnection(a){return a.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION);}},{key:"isLeftRoundedCorner",value:function isLeftRoundedCorner(a){return a.type&this.LEFT_ROUND_CORNER;}},{key:"isRightRoundedCorner",value:function isRightRoundedCorner(a){return a.type&this.RIGHT_ROUND_CORNER;}},{key:"isLeftSquareCorner",value:function isLeftSquareCorner(a){return a.type&this.LEFT_SQUARE_CORNER;}},{key:"isRightSquareCorner",value:function isRightSquareCorner(a){return a.type&this.RIGHT_SQUARE_CORNER;}},{key:"isCorner",value:function isCorner(a){return a.type&this.CORNER;}},{key:"isJaggedEdge",value:function isJaggedEdge(a){return a.type&this.JAGGED_EDGE;}},{key:"isRow",value:function isRow(a){return a.type&this.ROW;}},{key:"isBetweenRowSpacer",value:function isBetweenRowSpacer(a){return a.type&this.BETWEEN_ROW_SPACER;}},{key:"isTopRow",value:function isTopRow(a){return a.type&this.TOP_ROW;}},{key:"isBottomRow",value:function isBottomRow(a){return a.type&this.BOTTOM_ROW;}},{key:"isTopOrBottomRow",value:function isTopOrBottomRow(a){return a.type&(this.TOP_ROW|this.BOTTOM_ROW);}},{key:"isInputRow",value:function isInputRow(a){return a.type&this.INPUT_ROW;}}]);return TypesContainer$$module$build$src$core$renderers$measurables$types;}(),Types$$module$build$src$core$renderers$measurables$types=new TypesContainer$$module$build$src$core$renderers$measurables$types(),module$build$src$core$renderers$measurables$types={Types:Types$$module$build$src$core$renderers$measurables$types};var Measurable$$module$build$src$core$renderers$measurables$base=/*#__PURE__*/_createClass(function Measurable$$module$build$src$core$renderers$measurables$base(a){"use strict";_classCallCheck(this,Measurable$$module$build$src$core$renderers$measurables$base);this.centerline=this.xPos=this.height=this.width=0;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.NONE;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT;}),module$build$src$core$renderers$measurables$base={};module$build$src$core$renderers$measurables$base.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;var Row$$module$build$src$core$renderers$measurables$row=/*#__PURE__*/function(){"use strict";function Row$$module$build$src$core$renderers$measurables$row(a){_classCallCheck(this,Row$$module$build$src$core$renderers$measurables$row);this.elements=[];this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0;this.hasStatement=this.hasExternalInput=!1;this.statementEdge=0;this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1;this.align=null;this.constants_=a;this.type=Types$$module$build$src$core$renderers$measurables$types.ROW;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT;}_createClass(Row$$module$build$src$core$renderers$measurables$row,[{key:"getLastInput",value:function getLastInput(){for(var a=this.elements.length-1;0<=a;a--){var b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isInput(b))return b;}return null;}},{key:"measure",value:function measure(){throw Error("Unexpected attempt to measure a base Row.");}},{key:"startsWithElemSpacer",value:function startsWithElemSpacer(){return!0;}},{key:"endsWithElemSpacer",value:function endsWithElemSpacer(){return!0;}},{key:"getFirstSpacer",value:function getFirstSpacer(){for(var a=0;a<this.elements.length;a++){var b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return b;}return null;}},{key:"getLastSpacer",value:function getLastSpacer(){for(var a=this.elements.length-1;0<=a;a--){var b=this.elements[a];if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return b;}return null;}}]);return Row$$module$build$src$core$renderers$measurables$row;}(),module$build$src$core$renderers$measurables$row={};module$build$src$core$renderers$measurables$row.Row=Row$$module$build$src$core$renderers$measurables$row;var BottomRow$$module$build$src$core$renderers$measurables$bottom_row=/*#__PURE__*/function(_Row$$module$build$sr){"use strict";_inherits(BottomRow$$module$build$src$core$renderers$measurables$bottom_row,_Row$$module$build$sr);function BottomRow$$module$build$src$core$renderers$measurables$bottom_row(a){var _this32;_classCallCheck(this,BottomRow$$module$build$src$core$renderers$measurables$bottom_row);_this32=_callSuper(this,BottomRow$$module$build$src$core$renderers$measurables$bottom_row,[a]);_this32.hasNextConnection=!1;_this32.connection=null;_this32.baseline=_this32.descenderHeight=0;_this32.type|=Types$$module$build$src$core$renderers$measurables$types.BOTTOM_ROW;return _this32;}_createClass(BottomRow$$module$build$src$core$renderers$measurables$bottom_row,[{key:"hasLeftSquareCorner",value:function hasLeftSquareCorner(a){return!!a.outputConnection||!!a.getNextBlock();}},{key:"hasRightSquareCorner",value:function hasRightSquareCorner(a){return!0;}},{key:"measure",value:function measure(){var a=0,b=0,c=0;for(var d=0;d<this.elements.length;d++){var e=this.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(e)?c=Math.max(c,e.height):a=Math.max(a,e.height));}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.descenderHeight=c;this.widthWithConnectedBlocks=this.width;}},{key:"startsWithElemSpacer",value:function startsWithElemSpacer(){return!1;}},{key:"endsWithElemSpacer",value:function endsWithElemSpacer(){return!1;}}]);return BottomRow$$module$build$src$core$renderers$measurables$bottom_row;}(Row$$module$build$src$core$renderers$measurables$row),module$build$src$core$renderers$measurables$bottom_row={};module$build$src$core$renderers$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;var Connection$$module$build$src$core$renderers$measurables$connection=/*#__PURE__*/function(_Measurable$$module$b){"use strict";_inherits(Connection$$module$build$src$core$renderers$measurables$connection,_Measurable$$module$b);function Connection$$module$build$src$core$renderers$measurables$connection(a,b){var _this33;_classCallCheck(this,Connection$$module$build$src$core$renderers$measurables$connection);_this33=_callSuper(this,Connection$$module$build$src$core$renderers$measurables$connection,[a]);_this33.connectionModel=b;_this33.shape=_this33.constants_.shapeFor(b);_this33.isDynamicShape="isDynamic"in _this33.shape&&_this33.shape.isDynamic;_this33.type|=Types$$module$build$src$core$renderers$measurables$types.CONNECTION;return _this33;}return _createClass(Connection$$module$build$src$core$renderers$measurables$connection);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$connection={};module$build$src$core$renderers$measurables$connection.Connection=Connection$$module$build$src$core$renderers$measurables$connection;var InputConnection$$module$build$src$core$renderers$measurables$input_connection=/*#__PURE__*/function(_Connection$$module$b){"use strict";_inherits(InputConnection$$module$build$src$core$renderers$measurables$input_connection,_Connection$$module$b);function InputConnection$$module$build$src$core$renderers$measurables$input_connection(a,b){var _this34;_classCallCheck(this,InputConnection$$module$build$src$core$renderers$measurables$input_connection);_this34=_callSuper(this,InputConnection$$module$build$src$core$renderers$measurables$input_connection,[a,b.connection]);_this34.input=b;_this34.connectionOffsetY=_this34.connectionOffsetX=0;_this34.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT;_this34.align=b.align;(_this34.connectedBlock=b.connection&&b.connection.targetBlock()?b.connection.targetBlock():null)?(a=_this34.connectedBlock.getHeightWidth(),_this34.connectedBlockWidth=a.width,_this34.connectedBlockHeight=a.height):_this34.connectedBlockHeight=_this34.connectedBlockWidth=0;return _this34;}return _createClass(InputConnection$$module$build$src$core$renderers$measurables$input_connection);}(Connection$$module$build$src$core$renderers$measurables$connection),module$build$src$core$renderers$measurables$input_connection={};module$build$src$core$renderers$measurables$input_connection.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;var ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input=/*#__PURE__*/function(_InputConnection$$mod){"use strict";_inherits(ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input,_InputConnection$$mod);function ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(a,b){var _this35;_classCallCheck(this,ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input);_this35=_callSuper(this,ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input,[a,b]);_this35.height=0;_this35.type|=Types$$module$build$src$core$renderers$measurables$types.EXTERNAL_VALUE_INPUT;_this35.height=_this35.connectedBlock?_this35.connectedBlockHeight-_this35.constants_.TAB_OFFSET_FROM_TOP-_this35.constants_.MEDIUM_PADDING:_this35.shape.height;_this35.width=_this35.shape.width+_this35.constants_.EXTERNAL_VALUE_INPUT_PADDING;_this35.connectionOffsetY=_this35.constants_.TAB_OFFSET_FROM_TOP;_this35.connectionHeight=_this35.shape.height;_this35.connectionWidth=_this35.shape.width;return _this35;}return _createClass(ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input);}(InputConnection$$module$build$src$core$renderers$measurables$input_connection),module$build$src$core$renderers$measurables$external_value_input={};module$build$src$core$renderers$measurables$external_value_input.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;var Field$$module$build$src$core$renderers$measurables$field=/*#__PURE__*/function(_Measurable$$module$b2){"use strict";_inherits(Field$$module$build$src$core$renderers$measurables$field,_Measurable$$module$b2);function Field$$module$build$src$core$renderers$measurables$field(a,b,c){var _this36;_classCallCheck(this,Field$$module$build$src$core$renderers$measurables$field);_this36=_callSuper(this,Field$$module$build$src$core$renderers$measurables$field,[a]);_this36.field=b;_this36.parentInput=c;_this36.isEditable=b.EDITABLE;_this36.flipRtl=b.getFlipRtl();_this36.type|=Types$$module$build$src$core$renderers$measurables$types.FIELD;a=_this36.field.getSize();_this36.height=a.height;_this36.width=a.width;return _this36;}return _createClass(Field$$module$build$src$core$renderers$measurables$field);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$field={};module$build$src$core$renderers$measurables$field.Field=Field$$module$build$src$core$renderers$measurables$field;var Hat$$module$build$src$core$renderers$measurables$hat=/*#__PURE__*/function(_Measurable$$module$b3){"use strict";_inherits(Hat$$module$build$src$core$renderers$measurables$hat,_Measurable$$module$b3);function Hat$$module$build$src$core$renderers$measurables$hat(a){var _this37;_classCallCheck(this,Hat$$module$build$src$core$renderers$measurables$hat);_this37=_callSuper(this,Hat$$module$build$src$core$renderers$measurables$hat,[a]);_this37.type|=Types$$module$build$src$core$renderers$measurables$types.HAT;_this37.height=_this37.constants_.START_HAT.height;_this37.width=_this37.constants_.START_HAT.width;_this37.ascenderHeight=_this37.height;return _this37;}return _createClass(Hat$$module$build$src$core$renderers$measurables$hat);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$hat={};module$build$src$core$renderers$measurables$hat.Hat=Hat$$module$build$src$core$renderers$measurables$hat;var Icon$$module$build$src$core$renderers$measurables$icon=/*#__PURE__*/function(_Measurable$$module$b4){"use strict";_inherits(Icon$$module$build$src$core$renderers$measurables$icon,_Measurable$$module$b4);function Icon$$module$build$src$core$renderers$measurables$icon(a,b){var _this38;_classCallCheck(this,Icon$$module$build$src$core$renderers$measurables$icon);_this38=_callSuper(this,Icon$$module$build$src$core$renderers$measurables$icon,[a]);_this38.icon=b;_this38.flipRtl=!1;_this38.isVisible=hasBubble$$module$build$src$core$interfaces$i_has_bubble(b)&&b.bubbleIsVisible();_this38.type|=Types$$module$build$src$core$renderers$measurables$types.ICON;a=b.getSize();_this38.height=a.height;_this38.width=a.width;return _this38;}return _createClass(Icon$$module$build$src$core$renderers$measurables$icon);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$icon={};module$build$src$core$renderers$measurables$icon.Icon=Icon$$module$build$src$core$renderers$measurables$icon;var InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer=/*#__PURE__*/function(_Measurable$$module$b5){"use strict";_inherits(InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer,_Measurable$$module$b5);function InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(a,b){var _this39;_classCallCheck(this,InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer);_this39=_callSuper(this,InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer,[a]);_this39.type=_this39.type|Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.IN_ROW_SPACER;_this39.width=b;_this39.height=_this39.constants_.SPACER_DEFAULT_HEIGHT;return _this39;}return _createClass(InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$in_row_spacer={};module$build$src$core$renderers$measurables$in_row_spacer.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;var InlineInput$$module$build$src$core$renderers$measurables$inline_input=/*#__PURE__*/function(_InputConnection$$mod2){"use strict";_inherits(InlineInput$$module$build$src$core$renderers$measurables$inline_input,_InputConnection$$mod2);function InlineInput$$module$build$src$core$renderers$measurables$inline_input(a,b){var _this40;_classCallCheck(this,InlineInput$$module$build$src$core$renderers$measurables$inline_input);_this40=_callSuper(this,InlineInput$$module$build$src$core$renderers$measurables$inline_input,[a,b]);_this40.type|=Types$$module$build$src$core$renderers$measurables$types.INLINE_INPUT;_this40.connectedBlock?(_this40.width=_this40.connectedBlockWidth,_this40.height=_this40.connectedBlockHeight):(_this40.height=_this40.constants_.EMPTY_INLINE_INPUT_HEIGHT,_this40.width=_this40.constants_.EMPTY_INLINE_INPUT_PADDING);_this40.connectionHeight=_this40.isDynamicShape?_this40.shape.height(_this40.height):_this40.shape.height;_this40.connectionWidth=_this40.isDynamicShape?_this40.shape.width(_this40.height):_this40.shape.width;_this40.connectedBlock||(_this40.width+=_this40.connectionWidth*(_this40.isDynamicShape?2:1));_this40.connectionOffsetY="connectionOffsetY"in _this40.shape?_this40.shape.connectionOffsetY(_this40.connectionHeight):_this40.constants_.TAB_OFFSET_FROM_TOP;_this40.connectionOffsetX="connectionOffsetX"in _this40.shape?_this40.shape.connectionOffsetX(_this40.connectionWidth):0;return _this40;}return _createClass(InlineInput$$module$build$src$core$renderers$measurables$inline_input);}(InputConnection$$module$build$src$core$renderers$measurables$input_connection),module$build$src$core$renderers$measurables$inline_input={};module$build$src$core$renderers$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;var StatementInput$$module$build$src$core$renderers$measurables$statement_input=/*#__PURE__*/function(_InputConnection$$mod3){"use strict";_inherits(StatementInput$$module$build$src$core$renderers$measurables$statement_input,_InputConnection$$mod3);function StatementInput$$module$build$src$core$renderers$measurables$statement_input(a,b){var _this41;_classCallCheck(this,StatementInput$$module$build$src$core$renderers$measurables$statement_input);_this41=_callSuper(this,StatementInput$$module$build$src$core$renderers$measurables$statement_input,[a,b]);_this41.type|=Types$$module$build$src$core$renderers$measurables$types.STATEMENT_INPUT;_this41.height=_this41.connectedBlock?_this41.connectedBlockHeight+_this41.constants_.STATEMENT_BOTTOM_SPACER:_this41.constants_.EMPTY_STATEMENT_INPUT_HEIGHT;_this41.width=_this41.constants_.STATEMENT_INPUT_NOTCH_OFFSET+_this41.shape.width;return _this41;}return _createClass(StatementInput$$module$build$src$core$renderers$measurables$statement_input);}(InputConnection$$module$build$src$core$renderers$measurables$input_connection),module$build$src$core$renderers$measurables$statement_input={};module$build$src$core$renderers$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;var InputRow$$module$build$src$core$renderers$measurables$input_row=/*#__PURE__*/function(_Row$$module$build$sr2){"use strict";_inherits(InputRow$$module$build$src$core$renderers$measurables$input_row,_Row$$module$build$sr2);function InputRow$$module$build$src$core$renderers$measurables$input_row(a){var _this42;_classCallCheck(this,InputRow$$module$build$src$core$renderers$measurables$input_row);_this42=_callSuper(this,InputRow$$module$build$src$core$renderers$measurables$input_row,[a]);_this42.connectedBlockWidths=0;_this42.type|=Types$$module$build$src$core$renderers$measurables$types.INPUT_ROW;return _this42;}_createClass(InputRow$$module$build$src$core$renderers$measurables$input_row,[{key:"measure",value:function measure(){this.width=this.minWidth;this.height=this.minHeight;var a=0;for(var b=0;b<this.elements.length;b++){var c=this.elements[b];this.width+=c.width;Types$$module$build$src$core$renderers$measurables$types.isInput(c)&&c instanceof InputConnection$$module$build$src$core$renderers$measurables$input_connection&&(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(c)&&c instanceof StatementInput$$module$build$src$core$renderers$measurables$statement_input?a+=c.connectedBlockWidth:Types$$module$build$src$core$renderers$measurables$types.isExternalInput(c)&&c instanceof ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input&&0!==c.connectedBlockWidth&&(a+=c.connectedBlockWidth-c.connectionWidth));Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)||(this.height=Math.max(this.height,c.height));}this.connectedBlockWidths=a;this.widthWithConnectedBlocks=this.width+a;}},{key:"endsWithElemSpacer",value:function endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement;}}]);return InputRow$$module$build$src$core$renderers$measurables$input_row;}(Row$$module$build$src$core$renderers$measurables$row),module$build$src$core$renderers$measurables$input_row={};module$build$src$core$renderers$measurables$input_row.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;var JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge=/*#__PURE__*/function(_Measurable$$module$b6){"use strict";_inherits(JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge,_Measurable$$module$b6);function JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge(a){var _this43;_classCallCheck(this,JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge);_this43=_callSuper(this,JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge,[a]);_this43.type|=Types$$module$build$src$core$renderers$measurables$types.JAGGED_EDGE;_this43.height=_this43.constants_.JAGGED_TEETH.height;_this43.width=_this43.constants_.JAGGED_TEETH.width;return _this43;}return _createClass(JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$jagged_edge={};module$build$src$core$renderers$measurables$jagged_edge.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;var NextConnection$$module$build$src$core$renderers$measurables$next_connection=/*#__PURE__*/function(_Connection$$module$b2){"use strict";_inherits(NextConnection$$module$build$src$core$renderers$measurables$next_connection,_Connection$$module$b2);function NextConnection$$module$build$src$core$renderers$measurables$next_connection(a,b){var _this44;_classCallCheck(this,NextConnection$$module$build$src$core$renderers$measurables$next_connection);_this44=_callSuper(this,NextConnection$$module$build$src$core$renderers$measurables$next_connection,[a,b]);_this44.type|=Types$$module$build$src$core$renderers$measurables$types.NEXT_CONNECTION;_this44.height=_this44.shape.height;_this44.width=_this44.shape.width;return _this44;}return _createClass(NextConnection$$module$build$src$core$renderers$measurables$next_connection);}(Connection$$module$build$src$core$renderers$measurables$connection),module$build$src$core$renderers$measurables$next_connection={};module$build$src$core$renderers$measurables$next_connection.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;var OutputConnection$$module$build$src$core$renderers$measurables$output_connection=/*#__PURE__*/function(_Connection$$module$b3){"use strict";_inherits(OutputConnection$$module$build$src$core$renderers$measurables$output_connection,_Connection$$module$b3);function OutputConnection$$module$build$src$core$renderers$measurables$output_connection(a,b){var _this45;_classCallCheck(this,OutputConnection$$module$build$src$core$renderers$measurables$output_connection);_this45=_callSuper(this,OutputConnection$$module$build$src$core$renderers$measurables$output_connection,[a,b]);_this45.connectionOffsetX=0;_this45.type|=Types$$module$build$src$core$renderers$measurables$types.OUTPUT_CONNECTION;_this45.height=_this45.isDynamicShape?0:_this45.shape.height;_this45.startX=_this45.width=_this45.isDynamicShape?0:_this45.shape.width;_this45.connectionOffsetY=_this45.constants_.TAB_OFFSET_FROM_TOP;return _this45;}return _createClass(OutputConnection$$module$build$src$core$renderers$measurables$output_connection);}(Connection$$module$build$src$core$renderers$measurables$connection),module$build$src$core$renderers$measurables$output_connection={};module$build$src$core$renderers$measurables$output_connection.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;var PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection=/*#__PURE__*/function(_Connection$$module$b4){"use strict";_inherits(PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection,_Connection$$module$b4);function PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection(a,b){var _this46;_classCallCheck(this,PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection);_this46=_callSuper(this,PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection,[a,b]);_this46.type|=Types$$module$build$src$core$renderers$measurables$types.PREVIOUS_CONNECTION;_this46.height=_this46.shape.height;_this46.width=_this46.shape.width;return _this46;}return _createClass(PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection);}(Connection$$module$build$src$core$renderers$measurables$connection),module$build$src$core$renderers$measurables$previous_connection={};module$build$src$core$renderers$measurables$previous_connection.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;var RoundCorner$$module$build$src$core$renderers$measurables$round_corner=/*#__PURE__*/function(_Measurable$$module$b7){"use strict";_inherits(RoundCorner$$module$build$src$core$renderers$measurables$round_corner,_Measurable$$module$b7);function RoundCorner$$module$build$src$core$renderers$measurables$round_corner(a,b){var _this47;_classCallCheck(this,RoundCorner$$module$build$src$core$renderers$measurables$round_corner);_this47=_callSuper(this,RoundCorner$$module$build$src$core$renderers$measurables$round_corner,[a]);_this47.type=(b&&"left"!==b?Types$$module$build$src$core$renderers$measurables$types.RIGHT_ROUND_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_ROUND_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;_this47.width=_this47.constants_.CORNER_RADIUS;_this47.height=_this47.constants_.CORNER_RADIUS/2;return _this47;}return _createClass(RoundCorner$$module$build$src$core$renderers$measurables$round_corner);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$round_corner={};module$build$src$core$renderers$measurables$round_corner.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;var SpacerRow$$module$build$src$core$renderers$measurables$spacer_row=/*#__PURE__*/function(_Row$$module$build$sr3){"use strict";_inherits(SpacerRow$$module$build$src$core$renderers$measurables$spacer_row,_Row$$module$build$sr3);function SpacerRow$$module$build$src$core$renderers$measurables$spacer_row(a,b,c){var _this48;_classCallCheck(this,SpacerRow$$module$build$src$core$renderers$measurables$spacer_row);_this48=_callSuper(this,SpacerRow$$module$build$src$core$renderers$measurables$spacer_row,[a]);_this48.height=b;_this48.width=c;_this48.precedesStatement=_this48.followsStatement=!1;_this48.widthWithConnectedBlocks=0;_this48.type=_this48.type|Types$$module$build$src$core$renderers$measurables$types.SPACER|Types$$module$build$src$core$renderers$measurables$types.BETWEEN_ROW_SPACER;_this48.elements=[new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(_this48.constants_,c)];return _this48;}_createClass(SpacerRow$$module$build$src$core$renderers$measurables$spacer_row,[{key:"measure",value:function measure(){}}]);return SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;}(Row$$module$build$src$core$renderers$measurables$row),module$build$src$core$renderers$measurables$spacer_row={};module$build$src$core$renderers$measurables$spacer_row.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;var SquareCorner$$module$build$src$core$renderers$measurables$square_corner=/*#__PURE__*/function(_Measurable$$module$b8){"use strict";_inherits(SquareCorner$$module$build$src$core$renderers$measurables$square_corner,_Measurable$$module$b8);function SquareCorner$$module$build$src$core$renderers$measurables$square_corner(a,b){var _this49;_classCallCheck(this,SquareCorner$$module$build$src$core$renderers$measurables$square_corner);_this49=_callSuper(this,SquareCorner$$module$build$src$core$renderers$measurables$square_corner,[a]);_this49.type=(b&&"left"!==b?Types$$module$build$src$core$renderers$measurables$types.RIGHT_SQUARE_CORNER:Types$$module$build$src$core$renderers$measurables$types.LEFT_SQUARE_CORNER)|Types$$module$build$src$core$renderers$measurables$types.CORNER;_this49.width=_this49.height=_this49.constants_.NO_PADDING;return _this49;}return _createClass(SquareCorner$$module$build$src$core$renderers$measurables$square_corner);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$measurables$square_corner={};module$build$src$core$renderers$measurables$square_corner.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;var TopRow$$module$build$src$core$renderers$measurables$top_row=/*#__PURE__*/function(_Row$$module$build$sr4){"use strict";_inherits(TopRow$$module$build$src$core$renderers$measurables$top_row,_Row$$module$build$sr4);function TopRow$$module$build$src$core$renderers$measurables$top_row(a){var _this50;_classCallCheck(this,TopRow$$module$build$src$core$renderers$measurables$top_row);_this50=_callSuper(this,TopRow$$module$build$src$core$renderers$measurables$top_row,[a]);_this50.ascenderHeight=_this50.capline=0;_this50.hasPreviousConnection=!1;_this50.connection=null;_this50.type|=Types$$module$build$src$core$renderers$measurables$types.TOP_ROW;return _this50;}_createClass(TopRow$$module$build$src$core$renderers$measurables$top_row,[{key:"hasLeftSquareCorner",value:function hasLeftSquareCorner(a){var b=(a.hat?"cap"===a.hat:this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection,c=a.getPreviousBlock();return!!a.outputConnection||b||(c?c.getNextBlock()===a:!1);}},{key:"hasRightSquareCorner",value:function hasRightSquareCorner(a){return!0;}},{key:"measure",value:function measure(){var a=0,b=0,c=0;for(var d=0;d<this.elements.length;d++){var e=this.elements[d];b+=e.width;Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)||(Types$$module$build$src$core$renderers$measurables$types.isHat(e)&&e instanceof Hat$$module$build$src$core$renderers$measurables$hat?c=Math.max(c,e.ascenderHeight):a=Math.max(a,e.height));}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.capline=this.ascenderHeight=c;this.widthWithConnectedBlocks=this.width;}},{key:"startsWithElemSpacer",value:function startsWithElemSpacer(){return!1;}},{key:"endsWithElemSpacer",value:function endsWithElemSpacer(){return!1;}}]);return TopRow$$module$build$src$core$renderers$measurables$top_row;}(Row$$module$build$src$core$renderers$measurables$row),module$build$src$core$renderers$measurables$top_row={};module$build$src$core$renderers$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;var ConstantProvider$$module$build$src$core$renderers$common$constants=/*#__PURE__*/function(){"use strict";function ConstantProvider$$module$build$src$core$renderers$common$constants(){_classCallCheck(this,ConstantProvider$$module$build$src$core$renderers$common$constants);this.NO_PADDING=0;this.SMALL_PADDING=3;this.MEDIUM_PADDING=5;this.MEDIUM_LARGE_PADDING=8;this.LARGE_PADDING=10;this.TAB_HEIGHT=15;this.TAB_OFFSET_FROM_TOP=5;this.TAB_VERTICAL_OVERLAP=2.5;this.TAB_WIDTH=8;this.NOTCH_WIDTH=15;this.NOTCH_HEIGHT=4;this.MIN_BLOCK_WIDTH=12;this.EMPTY_BLOCK_SPACER_HEIGHT=16;this.CORNER_RADIUS=8;this.NOTCH_OFFSET_LEFT=15;this.STATEMENT_BOTTOM_SPACER=0;this.STATEMENT_INPUT_PADDING_LEFT=20;this.BETWEEN_STATEMENT_PADDING_Y=4;this.ADD_START_HATS=!1;this.START_HAT_HEIGHT=15;this.START_HAT_WIDTH=100;this.SPACER_DEFAULT_HEIGHT=15;this.MIN_BLOCK_HEIGHT=24;this.EMPTY_INLINE_INPUT_PADDING=14.5;this.EXTERNAL_VALUE_INPUT_PADDING=2;this.JAGGED_TEETH_HEIGHT=12;this.JAGGED_TEETH_WIDTH=6;this.FIELD_TEXT_FONTSIZE=11;this.FIELD_TEXT_FONTWEIGHT="normal";this.FIELD_TEXT_FONTFAMILY="sans-serif";this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1;this.FIELD_BORDER_RECT_RADIUS=4;this.FIELD_BORDER_RECT_HEIGHT=16;this.FIELD_BORDER_RECT_X_PADDING=5;this.FIELD_BORDER_RECT_Y_PADDING=3;this.FIELD_BORDER_RECT_COLOUR="#fff";this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1;this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12;this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1;this.FIELD_COLOUR_DEFAULT_WIDTH=26;this.defs=null;this.embossFilterId="";this.embossFilter=null;this.disabledPatternId="";this.disabledPattern=null;this.debugFilterId="";this.cssNode=this.debugFilter=null;this.CURSOR_COLOUR="#cc0a0a";this.MARKER_COLOUR="#4286f4";this.CURSOR_WS_WIDTH=100;this.WS_CURSOR_HEIGHT=5;this.CURSOR_STACK_PADDING=10;this.CURSOR_BLOCK_PADDING=2;this.CURSOR_STROKE_WIDTH=4;this.FULL_BLOCK_FIELDS=!1;this.INSERTION_MARKER_COLOUR="#000000";this.INSERTION_MARKER_OPACITY=.2;this.SHAPES={PUZZLE:1,NOTCH:2};this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT;this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT;this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11;this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(0,0);this.FIELD_TEXT_BASELINE_CENTER=!0;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3;this.randomIdentifier=String(Math.random()).substring(2);}_createClass(ConstantProvider$$module$build$src$core$renderers$common$constants,[{key:"init",value:function init(){this.JAGGED_TEETH=this.makeJaggedTeeth();this.NOTCH=this.makeNotch();this.START_HAT=this.makeStartHat();this.PUZZLE_TAB=this.makePuzzleTab();this.INSIDE_CORNERS=this.makeInsideCorners();this.OUTSIDE_CORNERS=this.makeOutsideCorners();}},{key:"setTheme",value:function setTheme(a){this.blockStyles=Object.create(null);var b=a.blockStyles;for(var c in b)this.blockStyles[c]=this.validatedBlockStyle_(b[c]);this.setDynamicProperties_(a);}},{key:"setDynamicProperties_",value:function setDynamicProperties_(a){this.setFontConstants_(a);this.setComponentConstants_(a);this.ADD_START_HATS=void 0!==a.startHats?a.startHats:this.ADD_START_HATS;}},{key:"setFontConstants_",value:function setFontConstants_(a){a.fontStyle&&a.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=a.fontStyle.family);a.fontStyle&&a.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=a.fontStyle.weight);a.fontStyle&&a.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=a.fontStyle.size);a=measureFontMetrics$$module$build$src$core$utils$dom("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY);this.FIELD_TEXT_HEIGHT=a.height;this.FIELD_TEXT_BASELINE=a.baseline;}},{key:"setComponentConstants_",value:function setComponentConstants_(a){this.CURSOR_COLOUR=a.getComponentStyle("cursorColour")||this.CURSOR_COLOUR;this.MARKER_COLOUR=a.getComponentStyle("markerColour")||this.MARKER_COLOUR;this.INSERTION_MARKER_COLOUR=a.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR;this.INSERTION_MARKER_OPACITY=Number(a.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY;}},{key:"getBlockStyleForColour",value:function getBlockStyleForColour(a){var b="auto_"+a;this.blockStyles[b]||(this.blockStyles[b]=this.createBlockStyle_(a));return{style:this.blockStyles[b],name:b};}},{key:"getBlockStyle",value:function getBlockStyle(a){return this.blockStyles[a||""]||(a&&0===a.indexOf("auto_")?this.getBlockStyleForColour(a.substring(5)).style:this.createBlockStyle_("#000000"));}},{key:"createBlockStyle_",value:function createBlockStyle_(a){return this.validatedBlockStyle_({colourPrimary:a});}},{key:"validatedBlockStyle_",value:function validatedBlockStyle_(a){var b={};a&&Object.assign(b,a);a=parseBlockColour$$module$build$src$core$utils$parsing(b.colourPrimary||"#000");b.colourPrimary=a.hex;b.colourSecondary=b.colourSecondary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourSecondary).hex:this.generateSecondaryColour_(b.colourPrimary);b.colourTertiary=b.colourTertiary?parseBlockColour$$module$build$src$core$utils$parsing(b.colourTertiary).hex:this.generateTertiaryColour_(b.colourPrimary);b.hat=b.hat||"";return b;}},{key:"generateSecondaryColour_",value:function generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour("#fff",a,.6)||a;}},{key:"generateTertiaryColour_",value:function generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour("#fff",a,.3)||a;}},{key:"dispose",value:function dispose(){this.embossFilter&&removeNode$$module$build$src$core$utils$dom(this.embossFilter);this.disabledPattern&&removeNode$$module$build$src$core$utils$dom(this.disabledPattern);this.debugFilter&&removeNode$$module$build$src$core$utils$dom(this.debugFilter);this.cssNode=null;}},{key:"makeJaggedTeeth",value:function makeJaggedTeeth(){var a=this.JAGGED_TEETH_HEIGHT,b=this.JAGGED_TEETH_WIDTH,c=line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(b,a/4),point$$module$build$src$core$utils$svg_paths(2*-b,a/2),point$$module$build$src$core$utils$svg_paths(b,a/4)]);return{height:a,width:b,path:c};}},{key:"makeStartHat",value:function makeStartHat(){var a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(30,-a),point$$module$build$src$core$utils$svg_paths(70,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a,width:b,path:c};}},{key:"makePuzzleTab",value:function makePuzzleTab(){function a(f){f=f?-1:1;var g=-f;var h=c/2;var k=h+2.5,l=h+.5,m=point$$module$build$src$core$utils$svg_paths(-b,f*h);h=point$$module$build$src$core$utils$svg_paths(b,f*h);return curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(0,f*k),point$$module$build$src$core$utils$svg_paths(-b,g*l),m])+curve$$module$build$src$core$utils$svg_paths("s",[point$$module$build$src$core$utils$svg_paths(b,2.5*g),h]);}var b=this.TAB_WIDTH,c=this.TAB_HEIGHT,d=a(!0),e=a(!1);return{type:this.SHAPES.PUZZLE,width:b,height:c,pathDown:e,pathUp:d};}},{key:"makeNotch",value:function makeNotch(){function a(g){return line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(g*d,c),point$$module$build$src$core$utils$svg_paths(3*g,0),point$$module$build$src$core$utils$svg_paths(g*d,-c)]);}var b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:e,pathRight:f};}},{key:"makeInsideCorners",value:function makeInsideCorners(){var a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths("a","0 0,0",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths("a","0 0,0",a,point$$module$build$src$core$utils$svg_paths(a,a));return{width:a,height:a,pathTop:b,pathBottom:c};}},{key:"makeOutsideCorners",value:function makeOutsideCorners(){var a=this.CORNER_RADIUS,b=moveBy$$module$build$src$core$utils$svg_paths(0,a)+arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a,point$$module$build$src$core$utils$svg_paths(a,-a)),c=arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a,point$$module$build$src$core$utils$svg_paths(a,a)),d=arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a,point$$module$build$src$core$utils$svg_paths(-a,-a)),e=arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a,point$$module$build$src$core$utils$svg_paths(-a,a));return{topLeft:b,topRight:c,bottomRight:e,bottomLeft:d,rightHeight:a};}},{key:"shapeFor",value:function shapeFor(a){switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:return this.PUZZLE_TAB;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type");}}},{key:"createDom",value:function createDom(a,b,c){this.injectCSS_(b,c);this.defs=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,{},a);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FESPECULARLIGHTING,{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEPOINTLIGHT,{x:-5E3,y:-1E4,z:2E4},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},a);this.embossFilterId=a.id;this.embossFilter=a;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:10,height:10,fill:"#aaa"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.disabledPatternId=a.id;this.disabledPattern=a;this.createDebugFilter();}},{key:"createDebugFilter",value:function createDebugFilter(){if(!this.debugFilter){var a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:"outBlur"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a);this.debugFilterId=a.id;this.debugFilter=a;}}},{key:"injectCSS_",value:function injectCSS_(a,b){b=this.getCSS_(b);a="blockly-renderer-style-"+a;this.cssNode=document.getElementById(a);var c=b.join("\n");this.cssNode?this.cssNode.firstChild.textContent=c:(b=document.createElement("style"),b.id=a,a=document.createTextNode(c),b.appendChild(a),document.head.insertBefore(b,document.head.firstChild),this.cssNode=b);}},{key:"getCSS_",value:function getCSS_(a){return[`${a} .blocklyText, `,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} `+`${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${a} .blocklyText {`,"fill: #fff;","}",`${a} .blocklyNonEditableText>rect,`,`${a} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${a} .blocklyNonEditableText>text,`,`${a} .blocklyEditableText>text {`,"fill: #000;","}",`${a} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${a} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${a} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${a} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${a} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${a} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${a} .blocklyReplaceable .blocklyPathLight,`,`${a} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"];}}]);return ConstantProvider$$module$build$src$core$renderers$common$constants;}(),module$build$src$core$renderers$common$constants={};module$build$src$core$renderers$common$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$constants.isDynamicShape=isDynamicShape$$module$build$src$core$renderers$common$constants;var Drawer$$module$build$src$core$renderers$common$drawer=/*#__PURE__*/function(){"use strict";function Drawer$$module$build$src$core$renderers$common$drawer(a,b){_classCallCheck(this,Drawer$$module$build$src$core$renderers$common$drawer);this.inlinePath_=this.outlinePath_="";this.block_=a;this.info_=b;this.topLeft_=a.getRelativeToSurfaceXY();this.constants_=b.getRenderer().getConstants();}_createClass(Drawer$$module$build$src$core$renderers$common$drawer,[{key:"draw",value:function draw(){this.drawOutline_();this.drawInternals_();this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_);this.info_.RTL&&this.block_.pathObject.flipRTL();this.recordSizeOnBlock_();}},{key:"hideHiddenIcons_",value:function hideHiddenIcons_(){warn$$module$build$src$core$utils$deprecation("hideHiddenIcons_","v10","v11");}},{key:"recordSizeOnBlock_",value:function recordSizeOnBlock_(){this.block_.height=this.info_.height;this.block_.width=this.info_.widthWithChildren;}},{key:"drawOutline_",value:function drawOutline_(){this.drawTop_();for(var a=1;a<this.info_.rows.length-1;a++){var b=this.info_.rows[a];b.hasJaggedEdge?this.drawJaggedEdge_(b):b.hasStatement?this.drawStatementInput_(b):b.hasExternalInput?this.drawValueInput_(b):this.drawRightSideRow_(b);}this.drawBottom_();this.drawLeft_();}},{key:"drawTop_",value:function drawTop_(){var a=this.info_.topRow,b=a.elements;this.positionPreviousConnection_();this.outlinePath_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(var c=0,d;d=b[c];c++)Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Types$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(d)&&d instanceof Connection$$module$build$src$core$renderers$measurables$connection?this.outlinePath_+=d.shape.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(d)?this.outlinePath_+=this.constants_.START_HAT.path:Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("h",d.width));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("v",a.height);}},{key:"drawJaggedEdge_",value:function drawJaggedEdge_(a){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+lineOnAxis$$module$build$src$core$utils$svg_paths("v",a.height-this.constants_.JAGGED_TEETH.height);}},{key:"drawValueInput_",value:function drawValueInput_(a){var b=a.getLastInput();this.positionExternalValueConnection_(a);var c=isDynamicShape$$module$build$src$core$renderers$common$constants(b.shape)?b.shape.pathDown(b.height):b.shape.pathDown;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",b.xPos+b.width)+c+lineOnAxis$$module$build$src$core$utils$svg_paths("v",a.height-b.connectionHeight);}},{key:"drawStatementInput_",value:function drawStatementInput_(a){var b=a.getLastInput();if(b){var c=b.xPos+b.notchOffset+b.shape.width;b=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths("h",-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=a.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",c)+b+lineOnAxis$$module$build$src$core$utils$svg_paths("v",d)+this.constants_.INSIDE_CORNERS.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths("H",a.xPos+a.width);this.positionStatementInputConnection_(a);}}},{key:"drawRightSideRow_",value:function drawRightSideRow_(a){this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.yPos+a.height);}},{key:"drawBottom_",value:function drawBottom_(){var a=this.info_.bottomRow,b=a.elements;this.positionNextConnection_();var c=0,d="";for(var e=b.length-1,f;f=b[e];e--)Types$$module$build$src$core$renderers$measurables$types.isNextConnection(f)&&f instanceof Connection$$module$build$src$core$renderers$measurables$connection?d+=f.shape.pathRight:Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(f)?d+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",a.xPos):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(f)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Types$$module$build$src$core$renderers$measurables$types.isRightRoundedCorner(f)?(d+=this.constants_.OUTSIDE_CORNERS.bottomRight,c=this.constants_.OUTSIDE_CORNERS.rightHeight):Types$$module$build$src$core$renderers$measurables$types.isSpacer(f)&&(d+=lineOnAxis$$module$build$src$core$utils$svg_paths("h",-1*f.width));this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.baseline-c);this.outlinePath_+=d;}},{key:"drawLeft_",value:function drawLeft_(){var a=this.info_.outputConnection;this.positionOutputConnection_();if(a){var b=a.connectionOffsetY+a.height;a=isDynamicShape$$module$build$src$core$renderers$common$constants(a.shape)?a.shape.pathUp(a.height):a.shape.pathUp;this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",b)+a;}this.outlinePath_+="z";}},{key:"drawInternals_",value:function drawInternals_(){for(var a=0,b;b=this.info_.rows[a];a++)for(var c=0,d;d=b.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isInlineInput(d)?this.drawInlineInput_(d):(Types$$module$build$src$core$renderers$measurables$types.isIcon(d)||Types$$module$build$src$core$renderers$measurables$types.isField(d))&&this.layoutField_(d);}},{key:"layoutField_",value:function layoutField_(a){var b=a.centerline-a.height/2;var c=a.xPos;var d="";this.info_.RTL&&(c=-(c+a.width),a.flipRtl&&(c+=a.width,d="scale(-1 1)"));Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?(d=a.icon,d.setOffsetInBlock(new Coordinate$$module$build$src$core$utils$coordinate(c,b)),this.info_.isInsertionMarker&&d.hideForInsertionMarker()):(a=a.field.getSvgRoot(),a.setAttribute("transform","translate("+c+","+b+")"+d),this.info_.isInsertionMarker&&a.setAttribute("display","none"));}},{key:"drawInlineInput_",value:function drawInlineInput_(a){var b=a.width,c=a.height,d=a.connectionOffsetY,e=a.connectionHeight+d;this.inlinePath_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.connectionWidth,a.centerline-c/2)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",d)+a.shape.pathDown+lineOnAxis$$module$build$src$core$utils$svg_paths("v",c-e)+lineOnAxis$$module$build$src$core$utils$svg_paths("h",b-a.connectionWidth)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",-c)+"z";this.positionInlineInputConnection_(a);}},{key:"positionInlineInputConnection_",value:function positionInlineInputConnection_(a){var b=a.centerline-a.height/2;if(a.connectionModel){var c=a.xPos+a.connectionWidth+a.connectionOffsetX;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY);}}},{key:"positionStatementInputConnection_",value:function positionStatementInputConnection_(a){var b=a.getLastInput();if(null==b?0:b.connectionModel){var c=a.xPos+a.statementEdge+b.notchOffset;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos);}}},{key:"positionExternalValueConnection_",value:function positionExternalValueConnection_(a){var b=a.getLastInput();if(b&&b.connectionModel){var c=a.xPos+a.width;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos);}}},{key:"positionPreviousConnection_",value:function positionPreviousConnection_(){var a=this.info_.topRow;if(a.connection){var b=a.xPos+a.notchOffset;a.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-b:b,0);}}},{key:"positionNextConnection_",value:function positionNextConnection_(){var a=this.info_.bottomRow;if(a.connection){var b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock(this.info_.RTL?-c:c,a.baseline);}}},{key:"positionOutputConnection_",value:function positionOutputConnection_(){if(this.info_.outputConnection){var a=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-a:a,this.info_.outputConnection.connectionOffsetY);}}}]);return Drawer$$module$build$src$core$renderers$common$drawer;}(),module$build$src$core$renderers$common$drawer={};module$build$src$core$renderers$common$drawer.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;(function(a){a[a.LEFT=-1]="LEFT";a[a.CENTRE=0]="CENTRE";a[a.RIGHT=1]="RIGHT";})($.Align$$module$build$src$core$inputs$align||($.Align$$module$build$src$core$inputs$align={}));var module$build$src$core$inputs$align={};module$build$src$core$inputs$align.Align=$.Align$$module$build$src$core$inputs$align;var FieldLabel$$module$build$src$core$field_label=/*#__PURE__*/function(_Field$$module$build$2){"use strict";_inherits(FieldLabel$$module$build$src$core$field_label,_Field$$module$build$2);function FieldLabel$$module$build$src$core$field_label(a,b,c){var _this51;_classCallCheck(this,FieldLabel$$module$build$src$core$field_label);_this51=_callSuper(this,FieldLabel$$module$build$src$core$field_label,[Field$$module$build$src$core$field.SKIP_SETUP]);_this51.class=null;_this51.EDITABLE=!1;_this51.maxDisplayLength=Infinity;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c?_this51.configure_(c):_this51.class=b||null,_this51.setValue(a));return _this51;}_createClass(FieldLabel$$module$build$src$core$field_label,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldLabel$$module$build$src$core$field_label.prototype),"configure_",this).call(this,a);a.class&&(this.class=a.class);}},{key:"initView",value:function initView(){this.createTextElement_();this.class&&addClass$$module$build$src$core$utils$dom(this.getTextElement(),this.class);}},{key:"doClassValidation_",value:function doClassValidation_(a){return null===a||void 0===a?null:`${a}`;}},{key:"setClass",value:function setClass(a){this.textElement_&&(this.class&&removeClass$$module$build$src$core$utils$dom(this.textElement_,this.class),a&&addClass$$module$build$src$core$utils$dom(this.textElement_,a));this.class=a;}}],[{key:"fromJson",value:function fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a);}}]);return FieldLabel$$module$build$src$core$field_label;}(Field$$module$build$src$core$field);register$$module$build$src$core$field_registry("field_label",FieldLabel$$module$build$src$core$field_label);FieldLabel$$module$build$src$core$field_label.prototype.DEFAULT_VALUE="";var module$build$src$core$field_label={};module$build$src$core$field_label.FieldLabel=FieldLabel$$module$build$src$core$field_label;var Input$$module$build$src$core$inputs$input=/*#__PURE__*/function(){"use strict";function Input$$module$build$src$core$inputs$input(a,b){_classCallCheck(this,Input$$module$build$src$core$inputs$input);this.name=a;this.sourceBlock=b;this.fieldRow=[];this.align=$.Align$$module$build$src$core$inputs$input.LEFT;this.visible=!0;this.type=$.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM;this.connection=null;}_createClass(Input$$module$build$src$core$inputs$input,[{key:"getSourceBlock",value:function getSourceBlock(){return this.sourceBlock;}},{key:"appendField",value:function appendField(a,b){this.insertFieldAt(this.fieldRow.length,a,b);return this;}},{key:"insertFieldAt",value:function insertFieldAt(a,b,c){if(0>a||a>this.fieldRow.length)throw Error("index "+a+" out of bounds.");if(!(b||""===b&&c))return a;"string"===typeof b&&(b=$.fromJson$$module$build$src$core$field_registry({type:"field_label",text:b}));b.setSourceBlock(this.sourceBlock);this.sourceBlock.rendered&&(b.init(),b.applyColour());b.name=c;b.setVisible(this.isVisible());b.prefixField&&(a=this.insertFieldAt(a,b.prefixField));this.fieldRow.splice(a,0,b);a++;b.suffixField&&(a=this.insertFieldAt(a,b.suffixField));this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours());return a;}},{key:"removeField",value:function removeField(a,b){for(var c=0,d;d=this.fieldRow[c];c++)if(d.name===a)return d.dispose(),this.fieldRow.splice(c,1),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),!0;if(b)return!1;throw Error('Field "'+a+'" not found.');}},{key:"isVisible",value:function isVisible(){return this.visible;}},{key:"setVisible",value:function setVisible(a){var b=[];if(this.visible===a)return b;this.visible=a;for(var d=0,e;e=this.fieldRow[d];d++)e.setVisible(a);if(this.connection){var c=this.connection;a?b=c.startTrackingAll():c.stopTrackingAll();if(c=c.targetBlock())c.getSvgRoot().style.display=a?"block":"none";}return b;}},{key:"markDirty",value:function markDirty(){for(var a=0,b;b=this.fieldRow[a];a++)b.markDirty();}},{key:"setCheck",value:function setCheck(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.setCheck(a);return this;}},{key:"setAlign",value:function setAlign(a){this.align=a;this.sourceBlock.rendered&&this.sourceBlock.queueRender();return this;}},{key:"setShadowDom",value:function setShadowDom(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.setShadowDom(a);return this;}},{key:"getShadowDom",value:function getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom();}},{key:"init",value:function init(){if(this.sourceBlock.workspace.rendered)for(var a=0;a<this.fieldRow.length;a++)this.fieldRow[a].init();}},{key:"dispose",value:function dispose(){for(var a=0,b;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose();}},{key:"makeConnection",value:function makeConnection(a){return this.sourceBlock.makeConnection_(a);}}]);return Input$$module$build$src$core$inputs$input;}(),module$build$src$core$inputs$input;(function(a){a=a.Align||(a.Align={});a[a.LEFT=-1]="LEFT";a[a.CENTRE=0]="CENTRE";a[a.RIGHT=1]="RIGHT";})(Input$$module$build$src$core$inputs$input||(Input$$module$build$src$core$inputs$input={}));$.Align$$module$build$src$core$inputs$input=Input$$module$build$src$core$inputs$input.Align;module$build$src$core$inputs$input={Align:$.Align$$module$build$src$core$inputs$input};module$build$src$core$inputs$input.Input=Input$$module$build$src$core$inputs$input;var DummyInput$$module$build$src$core$inputs$dummy_input=/*#__PURE__*/function(_Input$$module$build$){"use strict";_inherits(DummyInput$$module$build$src$core$inputs$dummy_input,_Input$$module$build$);function DummyInput$$module$build$src$core$inputs$dummy_input(a,b){var _this52;_classCallCheck(this,DummyInput$$module$build$src$core$inputs$dummy_input);_this52=_callSuper(this,DummyInput$$module$build$src$core$inputs$dummy_input,[a,b]);_this52.name=a;_this52.type=$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY;return _this52;}return _createClass(DummyInput$$module$build$src$core$inputs$dummy_input);}(Input$$module$build$src$core$inputs$input),module$build$src$core$inputs$dummy_input={};module$build$src$core$inputs$dummy_input.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;var EndRowInput$$module$build$src$core$inputs$end_row_input=/*#__PURE__*/function(_Input$$module$build$2){"use strict";_inherits(EndRowInput$$module$build$src$core$inputs$end_row_input,_Input$$module$build$2);function EndRowInput$$module$build$src$core$inputs$end_row_input(a,b){var _this53;_classCallCheck(this,EndRowInput$$module$build$src$core$inputs$end_row_input);_this53=_callSuper(this,EndRowInput$$module$build$src$core$inputs$end_row_input,[a,b]);_this53.name=a;_this53.type=$.inputTypes$$module$build$src$core$inputs$input_types.END_ROW;return _this53;}return _createClass(EndRowInput$$module$build$src$core$inputs$end_row_input);}(Input$$module$build$src$core$inputs$input),module$build$src$core$inputs$end_row_input={};module$build$src$core$inputs$end_row_input.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;var StatementInput$$module$build$src$core$inputs$statement_input=/*#__PURE__*/function(_Input$$module$build$3){"use strict";_inherits(StatementInput$$module$build$src$core$inputs$statement_input,_Input$$module$build$3);function StatementInput$$module$build$src$core$inputs$statement_input(a,b){var _this54;_classCallCheck(this,StatementInput$$module$build$src$core$inputs$statement_input);if(!a)throw Error("Statement inputs must have a non-empty name");_this54=_callSuper(this,StatementInput$$module$build$src$core$inputs$statement_input,[a,b]);_this54.name=a;_this54.type=$.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT;_this54.connection=_this54.makeConnection(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT);return _this54;}return _createClass(StatementInput$$module$build$src$core$inputs$statement_input);}(Input$$module$build$src$core$inputs$input),module$build$src$core$inputs$statement_input={};module$build$src$core$inputs$statement_input.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;var module$build$src$core$inputs$value_input;$.ValueInput$$module$build$src$core$inputs$value_input=/*#__PURE__*/function(_Input$$module$build$4){"use strict";_inherits(_class3,_Input$$module$build$4);function _class3(a,b){var _this55;_classCallCheck(this,_class3);if(!a)throw Error("Value inputs must have a non-empty name");_this55=_callSuper(this,_class3,[a,b]);_this55.name=a;_this55.type=$.inputTypes$$module$build$src$core$inputs$input_types.VALUE;_this55.connection=_this55.makeConnection(ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE);return _this55;}return _createClass(_class3);}(Input$$module$build$src$core$inputs$input);module$build$src$core$inputs$value_input={};module$build$src$core$inputs$value_input.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;var RenderInfo$$module$build$src$core$renderers$common$info=/*#__PURE__*/function(){"use strict";function RenderInfo$$module$build$src$core$renderers$common$info(a,b){_classCallCheck(this,RenderInfo$$module$build$src$core$renderers$common$info);this.statementEdge=this.width=this.widthWithChildren=this.height=0;this.rows=[];this.inputRows=[];this.startY=this.startX=0;this.renderer_=a;this.block_=b;this.constants_=this.renderer_.getConstants();this.outputConnection=b.outputConnection?new OutputConnection$$module$build$src$core$renderers$measurables$output_connection(this.constants_,b.outputConnection):null;this.isInline=b.getInputsInline()&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.isInsertionMarker=b.isInsertionMarker();this.RTL=b.RTL;this.topRow=new TopRow$$module$build$src$core$renderers$measurables$top_row(this.constants_);this.bottomRow=new BottomRow$$module$build$src$core$renderers$measurables$bottom_row(this.constants_);}_createClass(RenderInfo$$module$build$src$core$renderers$common$info,[{key:"getRenderer",value:function getRenderer(){return this.renderer_;}},{key:"measure",value:function measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.computeBounds_();this.alignRowElements_();this.finalize_();}},{key:"createRows_",value:function createRows_(){this.populateTopRow_();this.rows.push(this.topRow);var a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_);this.inputRows.push(a);var b=this.block_.getIcons();for(var c=0,d;d=b[c];c++){var e=new Icon$$module$build$src$core$renderers$measurables$icon(this.constants_,d);this.isCollapsed&&!d.isShownWhenCollapsed()||a.elements.push(e);}b=void 0;for(var _c3=0,_d5;_d5=this.block_.inputList[_c3];_c3++)if(_d5.isVisible()){this.shouldStartNewRow_(_d5,b)&&(this.rows.push(a),a=new InputRow$$module$build$src$core$renderers$measurables$input_row(this.constants_),this.inputRows.push(a));for(var _e4=0,f;f=_d5.fieldRow[_e4];_e4++)a.elements.push(new Field$$module$build$src$core$renderers$measurables$field(this.constants_,f,_d5));this.addInput_(_d5,a);b=_d5;}this.isCollapsed&&(a.hasJaggedEdge=!0,a.elements.push(new JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge(this.constants_)));(a.elements.length||a.hasDummyInput)&&this.rows.push(a);this.populateBottomRow_();this.rows.push(this.bottomRow);}},{key:"populateTopRow_",value:function populateTopRow_(){var a=!!this.block_.previousConnection;var b=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!a;var c=this.topRow.hasLeftSquareCorner(this.block_)?SquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_));b?(a=new Hat$$module$build$src$core$renderers$measurables$hat(this.constants_),this.topRow.elements.push(a),this.topRow.capline=a.ascenderHeight):a&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection));this.block_.inputList.length&&this.block_.inputList[0]instanceof StatementInput$$module$build$src$core$inputs$statement_input&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT;c=this.topRow.hasRightSquareCorner(this.block_)?SquareCorner$$module$build$src$core$renderers$measurables$square_corner:RoundCorner$$module$build$src$core$renderers$measurables$round_corner;this.topRow.elements.push(new c(this.constants_,"right"));}},{key:"populateBottomRow_",value:function populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection;this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT;this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_)):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_));this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new NextConnection$$module$build$src$core$renderers$measurables$next_connection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection));this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new SquareCorner$$module$build$src$core$renderers$measurables$square_corner(this.constants_,"right")):this.bottomRow.elements.push(new RoundCorner$$module$build$src$core$renderers$measurables$round_corner(this.constants_,"right"));}},{key:"addInput_",value:function addInput_(a,b){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$measurables$inline_input(this.constants_,a)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,a)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,a.getSourceBlock()&&a.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;null===b.align&&(b.align=a.align);}},{key:"shouldStartNewRow_",value:function shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||a instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||b instanceof $.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1;}},{key:"addElemSpacing_",value:function addElemSpacing_(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.startsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++){b.elements.push(c[d]);var e=this.getInRowSpacing_(c[d],c[d+1]);b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,e));}b.elements.push(c[c.length-1]);b.endsWithElemSpacer()&&b.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(c[c.length-1],null)));}}}},{key:"getInRowSpacing_",value:function getInRowSpacing_(a,b){if(!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(a&&Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING;}return a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING;}},{key:"computeBounds_",value:function computeBounds_(){var a=0,b=0,c=0;for(var e=0,f;f=this.rows[e];e++){f.measure();b=Math.max(b,f.width);if(f.hasStatement){var d=f.getLastInput();var g=void 0,h=void 0;d=f.width-(null!=(h=null==(g=d)?void 0:g.width)?h:0);a=Math.max(a,d);}c=Math.max(c,f.widthWithConnectedBlocks);}this.statementEdge=a;this.width=b;for(var _e5=0,_f3;_f3=this.rows[_e5];_e5++)_f3.hasStatement&&(_f3.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(b,c);this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width);}},{key:"alignRowElements_",value:function alignRowElements_(){for(var b=0,c;c=this.rows[b];b++)if(c.hasStatement)this.alignStatementRow_(c);else{var a=c.width;a=this.getDesiredRowWidth_(c)-a;0<a&&this.addAlignmentPadding_(c,a);Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.widthWithConnectedBlocks=c.width);}}},{key:"getDesiredRowWidth_",value:function getDesiredRowWidth_(a){return this.width-this.startX;}},{key:"addAlignmentPadding_",value:function addAlignmentPadding_(a,b){var c=a.getFirstSpacer(),d=a.getLastSpacer();if(a.hasExternalInput||a.hasStatement)a.widthWithConnectedBlocks+=b;if(a.align===$.Align$$module$build$src$core$inputs$align.LEFT&&d)d.width+=b;else if(a.align===$.Align$$module$build$src$core$inputs$align.CENTRE&&c&&d)c.width+=b/2,d.width+=b/2;else if(a.align===$.Align$$module$build$src$core$inputs$align.RIGHT&&c)c.width+=b;else if(d)d.width+=b;else return;a.width+=b;}},{key:"alignStatementRow_",value:function alignStatementRow_(a){var b=a.getLastInput();if(b){var c=a.width-b.width,d=this.statementEdge;c=d-c;0<c&&this.addAlignmentPadding_(a,c);c=a.width;d=this.getDesiredRowWidth_(a);b.width+=d-c;b.height=Math.max(b.height,a.height);a.width+=d-c;a.widthWithConnectedBlocks=Math.max(a.width,this.statementEdge+a.connectedBlockWidths);}}},{key:"addRowSpacing_",value:function addRowSpacing_(){var a=this.rows;this.rows=[];for(var b=0;b<a.length;b++)this.rows.push(a[b]),b!==a.length-1&&this.rows.push(this.makeSpacerRow_(a[b],a[b+1]));}},{key:"makeSpacerRow_",value:function makeSpacerRow_(a,b){var c=this.getSpacerRowHeight_(a,b);var d=this.getSpacerRowWidth_(a,b);c=new SpacerRow$$module$build$src$core$renderers$measurables$spacer_row(this.constants_,c,d);a.hasStatement&&(c.followsStatement=!0);b.hasStatement&&(c.precedesStatement=!0);return c;}},{key:"getSpacerRowWidth_",value:function getSpacerRowWidth_(a,b){return this.width-this.startX;}},{key:"getSpacerRowHeight_",value:function getSpacerRowHeight_(a,b){return this.constants_.MEDIUM_PADDING;}},{key:"getElemCenterline_",value:function getElemCenterline_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)?a.yPos+b.height/2:Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a)?(a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2:a.yPos+a.height/2;}},{key:"recordElemPositions_",value:function recordElemPositions_(a){var b=a.xPos;for(var c=0,d;d=a.elements[c];c++)Types$$module$build$src$core$renderers$measurables$types.isSpacer(d)&&(d.height=a.height),d.xPos=b,d.centerline=this.getElemCenterline_(a,d),b+=d.width;}},{key:"finalize_",value:function finalize_(){var a=0,b=0;for(var c=0,d;d=this.rows[c];c++)d.yPos=b,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks),this.recordElemPositions_(d);if(this.outputConnection&&this.block_.nextConnection){var _c4=this.block_.nextConnection.targetBlock();_c4&&(a=Math.max(a,_c4.getHeightWidth().width));}this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline;this.bottomRow.baseline=b-this.bottomRow.descenderHeight;}}]);return RenderInfo$$module$build$src$core$renderers$common$info;}(),module$build$src$core$renderers$common$info={};module$build$src$core$renderers$common$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;var _ASTNode$$module$build$src$core$keyboard_nav$ast_node=/*#__PURE__*/function(){"use strict";function ASTNode$$module$build$src$core$keyboard_nav$ast_node(a,b,c){_classCallCheck(this,ASTNode$$module$build$src$core$keyboard_nav$ast_node);this.wsCoordinate=null;if(!b)throw Error("Cannot create a node without a location.");this.type=a;this.isConnectionLocation=_ASTNode$$module$build$src$core$keyboard_nav$ast_node.isConnectionType(a);this.location=b;this.processParams(c||null);}_createClass(ASTNode$$module$build$src$core$keyboard_nav$ast_node,[{key:"processParams",value:function processParams(a){a&&a.wsCoordinate&&(this.wsCoordinate=a.wsCoordinate);}},{key:"getLocation",value:function getLocation(){return this.location;}},{key:"getType",value:function getType(){return this.type;}},{key:"getWsCoordinate",value:function getWsCoordinate(){return this.wsCoordinate;}},{key:"isConnection",value:function isConnection(){return this.isConnectionLocation;}},{key:"findNextForInput",value:function findNextForInput(){var a=this.location.getParentInput();var b=a.getSourceBlock();a=b.inputList.indexOf(a);for(a+=1;a<b.inputList.length;a++){var c=b.inputList[a],d=c.fieldRow;for(var e=0;e<d.length;e++){var f=d[e];if(f.isClickable()||_ASTNode$$module$build$src$core$keyboard_nav$ast_node.NAVIGATE_ALL_FIELDS)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createFieldNode(f);}if(c.connection)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createInputNode(c);}return null;}},{key:"findNextForField",value:function findNextForField(){var a=this.location,b=a.getParentInput();var c=a.getSourceBlock();if(!c)throw Error("The current AST location is not associated with a block");var d=c.inputList.indexOf(b);for(a=b.fieldRow.indexOf(a)+1;d<c.inputList.length;d++){b=c.inputList[d];var e=b.fieldRow;for(;a<e.length;){if(e[a].isClickable()||_ASTNode$$module$build$src$core$keyboard_nav$ast_node.NAVIGATE_ALL_FIELDS)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createFieldNode(e[a]);a++;}a=0;if(b.connection)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createInputNode(b);}return null;}},{key:"findPrevForInput",value:function findPrevForInput(){var a=this.location.getParentInput(),b=a.getSourceBlock();for(var c=b.inputList.indexOf(a);0<=c;c--){var d=b.inputList[c];if(d.connection&&d!==a)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createInputNode(d);d=d.fieldRow;for(var e=d.length-1;0<=e;e--){var f=d[e];if(f.isClickable()||_ASTNode$$module$build$src$core$keyboard_nav$ast_node.NAVIGATE_ALL_FIELDS)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createFieldNode(f);}}return null;}},{key:"findPrevForField",value:function findPrevForField(){var a=this.location;var b=a.getParentInput(),c=a.getSourceBlock();if(!c)throw Error("The current AST location is not associated with a block");var d=c.inputList.indexOf(b);for(a=b.fieldRow.indexOf(a)-1;0<=d;d--){var e=c.inputList[d];if(e.connection&&e!==b)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createInputNode(e);for(e=e.fieldRow;-1<a;){if(e[a].isClickable()||_ASTNode$$module$build$src$core$keyboard_nav$ast_node.NAVIGATE_ALL_FIELDS)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createFieldNode(e[a]);a--;}0<=d-1&&(a=c.inputList[d-1].fieldRow.length-1);}return null;}},{key:"navigateBetweenStacks",value:function navigateBetweenStacks(a){var b=this.getLocation();if(b.getSourceBlock){var c=b.getSourceBlock();c&&(b=c);}if(!b||b.isDeadOrDying())return null;c=b.getRootBlock();b=c.workspace.getTopBlocks(!0);for(var d=0;d<b.length;d++)if(c.id===b[d].id)return a=d+(a?1:-1),-1===a||a===b.length?null:_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createStackNode(b[a]);throw Error("Couldn't find "+(a?"next":"previous")+" stack?!");}},{key:"findTopASTNodeForBlock",value:function findTopASTNodeForBlock(a){var b=getParentConnection$$module$build$src$core$keyboard_nav$ast_node(a);return b?_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(b):_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createBlockNode(a);}},{key:"getOutAstNodeForBlock",value:function getOutAstNodeForBlock(a){if(!a)return null;a=a.getTopStackBlock();var b=getParentConnection$$module$build$src$core$keyboard_nav$ast_node(a);return b&&b.targetConnection&&b.targetConnection.getParentInput()?_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createInputNode(b.targetConnection.getParentInput()):_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createStackNode(a);}},{key:"findFirstFieldOrInput",value:function findFirstFieldOrInput(a){a=a.inputList;for(var b=0;b<a.length;b++){var c=a[b],d=c.fieldRow;for(var e=0;e<d.length;e++){var f=d[e];if(f.isClickable()||_ASTNode$$module$build$src$core$keyboard_nav$ast_node.NAVIGATE_ALL_FIELDS)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createFieldNode(f);}if(c.connection)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createInputNode(c);}return null;}},{key:"getSourceBlock",value:function getSourceBlock(){return this.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK?this.getLocation():this.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.STACK?this.getLocation():this.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.WORKSPACE?null:this.getLocation().getSourceBlock();}},{key:"next",value:function next(){switch(this.type){case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.STACK:return this.navigateBetweenStacks(!0);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.OUTPUT:return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createBlockNode(this.location.getSourceBlock());case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.FIELD:return this.findNextForField();case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.INPUT:return this.findNextForInput();case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK:var a=this.location.nextConnection;if(!a)break;return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(a);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS:return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createBlockNode(this.location.getSourceBlock());case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT:return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(this.location.targetConnection);}return null;}},{key:"in",value:function _in(){switch(this.type){case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.WORKSPACE:var a=this.location.getTopBlocks(!0);if(0<a.length)return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createStackNode(a[0]);break;case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.STACK:return this.findTopASTNodeForBlock(this.location);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK:return this.findFirstFieldOrInput(this.location);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.INPUT:return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(this.location.targetConnection);}return null;}},{key:"prev",value:function prev(){switch(this.type){case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.STACK:return this.navigateBetweenStacks(!1);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.FIELD:return this.findPrevForField();case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.INPUT:return this.findPrevForInput();case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK:var a=getParentConnection$$module$build$src$core$keyboard_nav$ast_node(this.location);if(!a)break;return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(a);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS:if((a=this.location.targetConnection)&&!a.getParentInput())return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(a);break;case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT:return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createBlockNode(this.location.getSourceBlock());}return null;}},{key:"out",value:function out(){switch(this.type){case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.STACK:var a=this.location,b=a.getRelativeToSurfaceXY();b=new Coordinate$$module$build$src$core$utils$coordinate(b.x,b.y+_ASTNode$$module$build$src$core$keyboard_nav$ast_node.DEFAULT_OFFSET_Y);return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createWorkspaceNode(a.workspace,b);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.OUTPUT:return a=this.location,(b=a.targetConnection)?_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(b):_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createStackNode(a.getSourceBlock());case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.FIELD:a=this.location.getSourceBlock();if(!a)throw Error("The current AST location is not associated with a block");return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createBlockNode(a);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.INPUT:return _ASTNode$$module$build$src$core$keyboard_nav$ast_node.createBlockNode(this.location.getSourceBlock());case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock());}return null;}}],[{key:"isConnectionType",value:function isConnectionType(a){switch(a){case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS:case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT:case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.INPUT:case _ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.OUTPUT:return!0;}return!1;}},{key:"createFieldNode",value:function createFieldNode(a){return a?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.FIELD,a):null;}},{key:"createConnectionNode",value:function createConnectionNode(a){if(!a)return null;var b=a.type;return b===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||b===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT&&a.getParentInput()?_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createInputNode(a.getParentInput()):b===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT,a):b===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.OUTPUT,a):b===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS,a):null;}},{key:"createInputNode",value:function createInputNode(a){return a&&a.connection?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.INPUT,a.connection):null;}},{key:"createBlockNode",value:function createBlockNode(a){return a?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK,a):null;}},{key:"createStackNode",value:function createStackNode(a){return a?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.STACK,a):null;}},{key:"createWorkspaceNode",value:function createWorkspaceNode(a,b){return b&&a?new _ASTNode$$module$build$src$core$keyboard_nav$ast_node(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.WORKSPACE,a,{wsCoordinate:b}):null;}},{key:"createTopNode",value:function createTopNode(a){var b=getParentConnection$$module$build$src$core$keyboard_nav$ast_node(a);return b?_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createConnectionNode(b):_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createBlockNode(a);}}]);return ASTNode$$module$build$src$core$keyboard_nav$ast_node;}();_ASTNode$$module$build$src$core$keyboard_nav$ast_node.NAVIGATE_ALL_FIELDS=!1;_ASTNode$$module$build$src$core$keyboard_nav$ast_node.DEFAULT_OFFSET_Y=-20;(function(a){a=a.types||(a.types={});a.FIELD="field";a.BLOCK="block";a.INPUT="input";a.OUTPUT="output";a.NEXT="next";a.PREVIOUS="previous";a.STACK="stack";a.WORKSPACE="workspace";})(_ASTNode$$module$build$src$core$keyboard_nav$ast_node||(_ASTNode$$module$build$src$core$keyboard_nav$ast_node={}));var module$build$src$core$keyboard_nav$ast_node={};module$build$src$core$keyboard_nav$ast_node.ASTNode=_ASTNode$$module$build$src$core$keyboard_nav$ast_node;var MarkerMove$$module$build$src$core$events$events_marker_move=/*#__PURE__*/function(_UiBase$$module$build5){"use strict";_inherits(MarkerMove$$module$build$src$core$events$events_marker_move,_UiBase$$module$build5);function MarkerMove$$module$build$src$core$events$events_marker_move(a,b,c,d){var _this56;_classCallCheck(this,MarkerMove$$module$build$src$core$events$events_marker_move);var e=a?a.workspace.id:void 0;d&&d.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.WORKSPACE&&(e=d.getLocation().id);_this56=_callSuper(this,MarkerMove$$module$build$src$core$events$events_marker_move,[e]);_this56.type=MARKER_MOVE$$module$build$src$core$events$utils;_this56.blockId=null==a?void 0:a.id;_this56.oldNode=c||void 0;_this56.newNode=d;_this56.isCursor=b;return _this56;}_createClass(MarkerMove$$module$build$src$core$events$events_marker_move,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(MarkerMove$$module$build$src$core$events$events_marker_move.prototype),"toJson",this).call(this);if(void 0===this.isCursor)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");a.isCursor=this.isCursor;a.blockId=this.blockId;a.oldNode=this.oldNode;a.newNode=this.newNode;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(MarkerMove$$module$build$src$core$events$events_marker_move),"fromJson",this).call(this,a,b,null!=c?c:new MarkerMove$$module$build$src$core$events$events_marker_move());b.isCursor=a.isCursor;b.blockId=a.blockId;b.oldNode=a.oldNode;b.newNode=a.newNode;return b;}}]);return MarkerMove$$module$build$src$core$events$events_marker_move;}(UiBase$$module$build$src$core$events$events_ui_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,MARKER_MOVE$$module$build$src$core$events$utils,MarkerMove$$module$build$src$core$events$events_marker_move);var module$build$src$core$events$events_marker_move={};module$build$src$core$events$events_marker_move.MarkerMove=MarkerMove$$module$build$src$core$events$events_marker_move;var CURSOR_CLASS$$module$build$src$core$renderers$common$marker_svg="blocklyCursor",MARKER_CLASS$$module$build$src$core$renderers$common$marker_svg="blocklyMarker",HEIGHT_MULTIPLIER$$module$build$src$core$renderers$common$marker_svg=.75,MarkerSvg$$module$build$src$core$renderers$common$marker_svg=/*#__PURE__*/function(){"use strict";function MarkerSvg$$module$build$src$core$renderers$common$marker_svg(a,b,c){_classCallCheck(this,MarkerSvg$$module$build$src$core$renderers$common$marker_svg);this.workspace=a;this.marker=c;this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null;this.constants_=b;a=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=c.colour||a;}_createClass(MarkerSvg$$module$build$src$core$renderers$common$marker_svg,[{key:"getSvgRoot",value:function getSvgRoot(){return this.svgGroup_;}},{key:"getMarker",value:function getMarker(){return this.marker;}},{key:"isCursor",value:function isCursor(){return"cursor"===this.marker.type;}},{key:"createDom",value:function createDom(){var a=this.isCursor()?CURSOR_CLASS$$module$build$src$core$renderers$common$marker_svg:MARKER_CLASS$$module$build$src$core$renderers$common$marker_svg;this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":a});this.createDomInternal_();return this.svgGroup_;}},{key:"setParent_",value:function setParent_(a){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),a.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),a.setMarkerSvg(this.getSvgRoot()));this.parent=a;}},{key:"draw",value:function draw(a,b){if(b){this.constants_=this.workspace.getRenderer().getConstants();var c=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||c;this.applyColour_(b);this.showAtLocation_(b);this.fireMarkerEvent(a,b);a=this.currentMarkerSvg.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement();}else this.hide();}},{key:"showAtLocation_",value:function showAtLocation_(a){var b=a.getLocation().type;a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK?this.showWithBlock_(a):a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.OUTPUT?this.showWithOutput_(a):b===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE?this.showWithInput_(a):b===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT?this.showWithNext_(a):a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS?this.showWithPrevious_(a):a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.FIELD?this.showWithField_(a):a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.WORKSPACE?this.showWithCoordinates_(a):a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.STACK&&this.showWithStack_(a);}},{key:"showWithBlockPrevOutput",value:function showWithBlockPrevOutput(a){a=a.getSourceBlock();var b=a.width;var c=a.height,d=c*HEIGHT_MULTIPLIER$$module$build$src$core$renderers$common$marker_svg;var e=this.constants_.CURSOR_BLOCK_PADDING;a.previousConnection?(c=this.constants_.shapeFor(a.previousConnection),this.positionPrevious_(b,e,d,c)):a.outputConnection?(d=this.constants_.shapeFor(a.outputConnection),this.positionOutput_(b,c,d)):this.positionBlock_(b,e,d);this.setParent_(a);this.showCurrent_();}},{key:"showWithBlock_",value:function showWithBlock_(a){this.showWithBlockPrevOutput(a);}},{key:"showWithPrevious_",value:function showWithPrevious_(a){this.showWithBlockPrevOutput(a);}},{key:"showWithOutput_",value:function showWithOutput_(a){this.showWithBlockPrevOutput(a);}},{key:"showWithCoordinates_",value:function showWithCoordinates_(a){var b=a.getWsCoordinate();a=b.x;b=b.y;this.workspace.RTL&&(a-=this.constants_.CURSOR_WS_WIDTH);this.positionLine_(a,b,this.constants_.CURSOR_WS_WIDTH);this.setParent_(this.workspace);this.showCurrent_();}},{key:"showWithField_",value:function showWithField_(a){a=a.getLocation();var b=a.getSize().width,c=a.getSize().height;this.positionRect_(0,0,b,c);this.setParent_(a);this.showCurrent_();}},{key:"showWithInput_",value:function showWithInput_(a){a=a.getLocation();var b=a.getSourceBlock();this.positionInput_(a);this.setParent_(b);this.showCurrent_();}},{key:"showWithNext_",value:function showWithNext_(a){var b=a.getLocation();a=b.getSourceBlock();var c=0;b=b.getOffsetInBlock().y;var d=a.getHeightWidth().width;this.workspace.RTL&&(c=-d);this.positionLine_(c,b,d);this.setParent_(a);this.showCurrent_();}},{key:"showWithStack_",value:function showWithStack_(a){a=a.getLocation();var b=a.getHeightWidth();var c=b.width+this.constants_.CURSOR_STACK_PADDING;b=b.height+this.constants_.CURSOR_STACK_PADDING;var d=-this.constants_.CURSOR_STACK_PADDING/2,e=-this.constants_.CURSOR_STACK_PADDING/2;var f=d;this.workspace.RTL&&(f=-(c+d));this.positionRect_(f,e,c,b);this.setParent_(a);this.showCurrent_();}},{key:"showCurrent_",value:function showCurrent_(){this.hide();this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="");}},{key:"positionBlock_",value:function positionBlock_(a,b,c){a=moveBy$$module$build$src$core$utils$svg_paths(-b,c)+lineOnAxis$$module$build$src$core$utils$svg_paths("V",-b)+lineOnAxis$$module$build$src$core$utils$svg_paths("H",a+2*b)+lineOnAxis$$module$build$src$core$utils$svg_paths("V",c);if(!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",a);this.workspace.RTL&&this.flipRtl(this.markerBlock_);this.currentMarkerSvg=this.markerBlock_;}},{key:"positionInput_",value:function positionInput_(a){var b=a.getOffsetInBlock().x,c=a.getOffsetInBlock().y;a=moveTo$$module$build$src$core$utils$svg_paths(0,0)+this.constants_.shapeFor(a).pathDown;this.markerInput_.setAttribute("d",a);this.markerInput_.setAttribute("transform","translate("+b+","+c+")"+(this.workspace.RTL?" scale(-1 1)":""));this.currentMarkerSvg=this.markerInput_;}},{key:"positionLine_",value:function positionLine_(a,b,c){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${a}`);this.markerSvgLine_.setAttribute("y",`${b}`);this.markerSvgLine_.setAttribute("width",`${c}`);this.currentMarkerSvg=this.markerSvgLine_;}},{key:"positionOutput_",value:function positionOutput_(a,b,c){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");a=moveBy$$module$build$src$core$utils$svg_paths(a,0)+lineOnAxis$$module$build$src$core$utils$svg_paths("h",-(a-c.width))+lineOnAxis$$module$build$src$core$utils$svg_paths("v",this.constants_.TAB_OFFSET_FROM_TOP)+c.pathDown+lineOnAxis$$module$build$src$core$utils$svg_paths("V",b)+lineOnAxis$$module$build$src$core$utils$svg_paths("H",a);this.markerBlock_.setAttribute("d",a);this.workspace.RTL&&this.flipRtl(this.markerBlock_);this.currentMarkerSvg=this.markerBlock_;}},{key:"positionPrevious_",value:function positionPrevious_(a,b,c,d){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");a=moveBy$$module$build$src$core$utils$svg_paths(-b,c)+lineOnAxis$$module$build$src$core$utils$svg_paths("V",-b)+lineOnAxis$$module$build$src$core$utils$svg_paths("H",this.constants_.NOTCH_OFFSET_LEFT)+d.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths("H",a+2*b)+lineOnAxis$$module$build$src$core$utils$svg_paths("V",c);this.markerBlock_.setAttribute("d",a);this.workspace.RTL&&this.flipRtl(this.markerBlock_);this.currentMarkerSvg=this.markerBlock_;}},{key:"positionRect_",value:function positionRect_(a,b,c,d){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${a}`);this.markerSvgRect_.setAttribute("y",`${b}`);this.markerSvgRect_.setAttribute("width",`${c}`);this.markerSvgRect_.setAttribute("height",`${d}`);this.currentMarkerSvg=this.markerSvgRect_;}},{key:"flipRtl",value:function flipRtl(a){a.setAttribute("transform","scale(-1 1)");}},{key:"hide",value:function hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none";this.markerSvgRect_.style.display="none";this.markerInput_.style.display="none";this.markerBlock_.style.display="none";}},{key:"fireMarkerEvent",value:function fireMarkerEvent(a,b){var c=b.getSourceBlock();a=new(get$$module$build$src$core$events$utils(MARKER_MOVE$$module$build$src$core$events$utils))(c,this.isCursor(),a,b);fire$$module$build$src$core$events$utils(a);}},{key:"getBlinkProperties_",value:function getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"};}},{key:"createDomInternal_",value:function createDomInternal_(){this.markerSvg_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_);this.markerSvgLine_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_);this.markerSvgRect_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_);this.markerInput_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{transform:""},this.markerSvg_);this.markerBlock_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_);this.hide();if(this.isCursor()){var a=this.getBlinkProperties_();createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,a,this.markerSvgLine_);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,a,this.markerInput_);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,Object.assign({},a,{attributeName:"stroke"}),this.markerBlock_);}return this.markerSvg_;}},{key:"applyColour_",value:function applyColour_(a){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_);this.markerSvgRect_.setAttribute("stroke",this.colour_);this.markerInput_.setAttribute("fill",this.colour_);this.markerBlock_.setAttribute("stroke",this.colour_);this.isCursor()&&(a=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",a),this.markerInput_.firstElementChild.setAttribute("values",a),this.markerBlock_.firstElementChild.setAttribute("values",a));}},{key:"dispose",value:function dispose(){this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_);}}]);return MarkerSvg$$module$build$src$core$renderers$common$marker_svg;}(),module$build$src$core$renderers$common$marker_svg={};module$build$src$core$renderers$common$marker_svg.MarkerSvg=MarkerSvg$$module$build$src$core$renderers$common$marker_svg;var PathObject$$module$build$src$core$renderers$common$path_object=/*#__PURE__*/function(){"use strict";function PathObject$$module$build$src$core$renderers$common$path_object(a,b,c){_classCallCheck(this,PathObject$$module$build$src$core$renderers$common$path_object);this.markerSvg=this.cursorSvg=null;this.constants=c;this.style=b;this.svgRoot=a;this.svgPath=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyPath"},this.svgRoot);}_createClass(PathObject$$module$build$src$core$renderers$common$path_object,[{key:"setPath",value:function setPath(a){this.svgPath.setAttribute("d",a);}},{key:"flipRTL",value:function flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)");}},{key:"setCursorSvg",value:function setCursorSvg(a){a?(this.svgRoot.appendChild(a),this.cursorSvg=a):this.cursorSvg=null;}},{key:"setMarkerSvg",value:function setMarkerSvg(a){a?(this.cursorSvg?this.svgRoot.insertBefore(a,this.cursorSvg):this.svgRoot.appendChild(a),this.markerSvg=a):this.markerSvg=null;}},{key:"applyColour",value:function applyColour(a){this.svgPath.setAttribute("stroke",this.style.colourTertiary);this.svgPath.setAttribute("fill",this.style.colourPrimary);this.updateShadow_(a.isShadow());this.updateDisabled_(!a.isEnabled()||a.getInheritedDisabled());}},{key:"setStyle",value:function setStyle(a){this.style=a;}},{key:"setClass_",value:function setClass_(a,b){a&&(b?addClass$$module$build$src$core$utils$dom(this.svgRoot,a):removeClass$$module$build$src$core$utils$dom(this.svgRoot,a));}},{key:"updateHighlighted",value:function updateHighlighted(a){a?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none");}},{key:"updateShadow_",value:function updateShadow_(a){a&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary));}},{key:"updateDisabled_",value:function updateDisabled_(a){this.setClass_("blocklyDisabled",a);a&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")");}},{key:"updateSelected",value:function updateSelected(a){this.setClass_("blocklySelected",a);}},{key:"updateDraggingDelete",value:function updateDraggingDelete(a){this.setClass_("blocklyDraggingDelete",a);}},{key:"updateInsertionMarker",value:function updateInsertionMarker(a){this.setClass_("blocklyInsertionMarker",a);}},{key:"updateMovable",value:function updateMovable(a){this.setClass_("blocklyDraggable",a);}},{key:"updateReplacementFade",value:function updateReplacementFade(a){this.setClass_("blocklyReplaceable",a);}},{key:"updateShapeForInputHighlight",value:function updateShapeForInputHighlight(a,b){}}]);return PathObject$$module$build$src$core$renderers$common$path_object;}(),module$build$src$core$renderers$common$path_object={};module$build$src$core$renderers$common$path_object.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;var Connection$$module$build$src$core$connection=/*#__PURE__*/function(){"use strict";function Connection$$module$build$src$core$connection(a,b){_classCallCheck(this,Connection$$module$build$src$core$connection);this.type=b;this.targetConnection=null;this.disposed=!1;this.shadowDom=this.check=null;this.y=this.x=0;this.shadowState=null;this.sourceBlock_=a;}_createClass(Connection$$module$build$src$core$connection,[{key:"connect_",value:function connect_(a){var b=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,c=this.getSourceBlock();var d=a.getSourceBlock();a.isConnected()&&a.disconnectInternal(!1);var e;if(this.isConnected()){var g=this.stashShadowState(),h=this.targetBlock();h.isShadow()?h.dispose(!1):(this.disconnectInternal(),e=h);this.applyShadowState(g);}var f;isEnabled$$module$build$src$core$events$utils()&&(f=new(get$$module$build$src$core$events$utils($.MOVE$$module$build$src$core$events$utils))(d),f.setReason(["connect"]));connectReciprocally$$module$build$src$core$connection(this,a);d.setParent(c);f&&(f.recordNew(),fire$$module$build$src$core$events$utils(f));if(e&&(a=this.type===b?e.outputConnection:e.previousConnection))if(d=Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(d,a))a.connect(d);else a.onFailedConnect(this);}},{key:"dispose",value:function dispose(){if(this.isConnected()){this.setShadowStateInternal();var a=this.targetBlock();a&&!a.isDeadOrDying()&&a.unplug();}this.disposed=!0;}},{key:"getSourceBlock",value:function getSourceBlock(){return this.sourceBlock_;}},{key:"isSuperior",value:function isSuperior(){return this.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT;}},{key:"isConnected",value:function isConnected(){return!!this.targetConnection;}},{key:"getConnectionChecker",value:function getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker;}},{key:"onFailedConnect",value:function onFailedConnect(a){}},{key:"connect",value:function connect(a){if(this.targetConnection===a)return!0;if(this.getConnectionChecker().canConnect(this,a,!1)){var b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);this.isSuperior()?this.connect_(a):a.connect_(this);$.setGroup$$module$build$src$core$events$utils(b);}return this.isConnected();}},{key:"disconnect",value:function disconnect(){this.disconnectInternal();}},{key:"disconnectInternal",value:function disconnectInternal(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var _this$getParentAndChi=this.getParentAndChildConnections(),b=_this$getParentAndChi.parentConnection,c=_this$getParentAndChi.childConnection;if(!b||!c)throw Error("Source connection not connected.");var d=$.getGroup$$module$build$src$core$events$utils();d||$.setGroup$$module$build$src$core$events$utils(!0);var e;isEnabled$$module$build$src$core$events$utils()&&(e=new(get$$module$build$src$core$events$utils($.MOVE$$module$build$src$core$events$utils))(c.getSourceBlock()),e.setReason(["disconnect"]));var f=this.targetConnection;f&&(f.targetConnection=null);this.targetConnection=null;a&&c.getSourceBlock().setParent(null);e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));c.getSourceBlock().isShadow()||b.respawnShadow_();$.setGroup$$module$build$src$core$events$utils(d);}},{key:"getParentAndChildConnections",value:function getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{};}},{key:"respawnShadow_",value:function respawnShadow_(){this.createShadowBlock(!0);}},{key:"reconnect",value:function reconnect(a,b){if(this.getSourceBlock().isDeadOrDying())return!1;var c;b=null==(c=a.getInput(b))?void 0:c.connection;c=this.targetBlock();return c&&c!==a||!b||b.targetConnection===this?!1:(b.isConnected()&&b.disconnect(),b.connect(this),!0);}},{key:"targetBlock",value:function targetBlock(){if(this.isConnected()){var a,b;return null!=(b=null==(a=this.targetConnection)?void 0:a.getSourceBlock())?b:null;}return null;}},{key:"onCheckChanged_",value:function onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug();}},{key:"setCheck",value:function setCheck(a){a?(Array.isArray(a)||(a=[a]),this.check=a,this.onCheckChanged_()):this.check=null;return this;}},{key:"getCheck",value:function getCheck(){return this.check;}},{key:"setShadowDom",value:function setShadowDom(a){this.setShadowStateInternal({shadowDom:a});}},{key:"getShadowDom",value:function getShadowDom(a){return a&&this.targetBlock().isShadow()?_blockToDom$$module$build$src$core$xml(this.targetBlock()):this.shadowDom;}},{key:"setShadowState",value:function setShadowState(a){this.setShadowStateInternal({shadowState:a});}},{key:"getShadowState",value:function getShadowState(a){return a&&this.targetBlock()&&this.targetBlock().isShadow()?save$$module$build$src$core$serialization$blocks(this.targetBlock()):this.shadowState;}},{key:"neighbours",value:function neighbours(a){return[];}},{key:"getParentInput",value:function getParentInput(){var a=null;var b=this.sourceBlock_.inputList;for(var c=0;c<b.length;c++)if(b[c].connection===this){a=b[c];break;}return a;}},{key:"toString",value:function toString(){var a=this.sourceBlock_;if(!a)return"Orphan Connection";if(a.outputConnection===this)var b="Output Connection of ";else if(a.previousConnection===this)b="Previous Connection of ";else if(a.nextConnection===this)b="Next Connection of ";else{b=null;for(var c=0,d;d=a.inputList[c];c++)if(d.connection===this){b=d;break;}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";}return b+a.toDevString();}},{key:"stashShadowState",value:function stashShadowState(){var a=this.getShadowDom(!0),b=this.getShadowState(!0);this.shadowState=this.shadowDom=null;return{shadowDom:a,shadowState:b};}},{key:"applyShadowState",value:function applyShadowState(_ref12){var a=_ref12.shadowDom,b=_ref12.shadowState;this.shadowDom=a;this.shadowState=b;}},{key:"setShadowStateInternal",value:function setShadowStateInternal(){var _ref13=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref13$shadowDom=_ref13.shadowDom,a=_ref13$shadowDom===void 0?null:_ref13$shadowDom,_ref13$shadowState=_ref13.shadowState,b=_ref13$shadowState===void 0?null:_ref13$shadowState;this.shadowDom=a;this.shadowState=b;(a=this.targetBlock())?a.isShadow()?(a.dispose(!1),this.getSourceBlock().isDeadOrDying()||(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))):(a=this.createShadowBlock(!1),this.serializeShadow(a),a&&a.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()));}},{key:"createShadowBlock",value:function createShadowBlock(a){var b=this.getSourceBlock();var c=this.getShadowState(),d=this.getShadowDom();if(b.isDeadOrDying()||!c&&!d)return null;if(c)return b=appendInternal$$module$build$src$core$serialization$blocks(c,b.workspace,{parentConnection:a?this:void 0,isShadow:!0,recordUndo:!1});if(d){b=domToBlockInternal$$module$build$src$core$xml(d,b.workspace);if(a)if(this.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){if(!b.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(b.outputConnection))throw Error("Could not connect shadow block to connection");}else if(this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT){if(!b.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(b.previousConnection))throw Error("Could not connect shadow block to connection");}else throw Error("Cannot connect a shadow block to a previous/output connection");return b;}return null;}},{key:"serializeShadow",value:function serializeShadow(a){a&&(this.shadowDom=_blockToDom$$module$build$src$core$xml(a),this.shadowState=save$$module$build$src$core$serialization$blocks(a));}}],[{key:"getConnectionForOrphanedConnection",value:function getConnectionForOrphanedConnection(a,b){if(b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)return getConnectionForOrphanedOutput$$module$build$src$core$connection(a,b.getSourceBlock());a=a.lastConnectionInStack(!0);var c=b.getConnectionChecker();return a&&c.canConnect(b,a,!1)?a:null;}}]);return Connection$$module$build$src$core$connection;}();Connection$$module$build$src$core$connection.CAN_CONNECT=0;Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION=1;Connection$$module$build$src$core$connection.REASON_WRONG_TYPE=2;Connection$$module$build$src$core$connection.REASON_TARGET_NULL=3;Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED=4;Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES=5;Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT=6;Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED=7;Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT=8;var module$build$src$core$connection={};module$build$src$core$connection.Connection=Connection$$module$build$src$core$connection;var COLLAPSED_INPUT_NAME$$module$build$src$core$constants="_TEMP_COLLAPSED_INPUT",COLLAPSED_FIELD_NAME$$module$build$src$core$constants="_TEMP_COLLAPSED_FIELD",module$build$src$core$constants={COLLAPSED_FIELD_NAME:COLLAPSED_FIELD_NAME$$module$build$src$core$constants,COLLAPSED_INPUT_NAME:COLLAPSED_INPUT_NAME$$module$build$src$core$constants};var DUPLICATE_BLOCK_ERROR$$module$build$src$core$insertion_marker_manager="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager=/*#__PURE__*/function(){"use strict";function InsertionMarkerManager$$module$build$src$core$insertion_marker_manager(a){_classCallCheck(this,InsertionMarkerManager$$module$build$src$core$insertion_marker_manager);this.activeCandidate=this.lastMarker=this.lastOnStack=null;this.wouldDeleteBlock=!1;this.fadedBlock=this.highlightedBlock=this.markerConnection=null;setSelected$$module$build$src$core$common(a);this.topBlock=a;this.workspace=a.workspace;this.firstMarker=this.createMarkerBlock(this.topBlock);this.availableConnections=this.initAvailableConnections();this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()));}_createClass(InsertionMarkerManager$$module$build$src$core$insertion_marker_manager,[{key:"dispose",value:function dispose(){this.availableConnections.length=0;this.disposeInsertionMarker(this.firstMarker);this.disposeInsertionMarker(this.lastMarker);}},{key:"updateAvailableConnections",value:function updateAvailableConnections(){this.availableConnections=this.initAvailableConnections();}},{key:"wouldConnectBlock",value:function wouldConnectBlock(){return!!this.activeCandidate;}},{key:"applyConnections",value:function applyConnections(){if(this.activeCandidate){$.disable$$module$build$src$core$events$utils();this.hidePreview();$.enable$$module$build$src$core$events$utils();var _this$activeCandidate=this.activeCandidate,a=_this$activeCandidate.local,b=_this$activeCandidate.closest;a.connect(b);if(this.topBlock.rendered){var c=a.isSuperior()?b:a,d=this.topBlock.getRootBlock();finishQueuedRenders$$module$build$src$core$render_management().then(function(){connectionUiEffect$$module$build$src$core$block_animations(c.getSourceBlock());setTimeout(function(){d.bringToFront();},0);});}}}},{key:"update",value:function update(a,b){var c=this.getCandidate(a);if((this.wouldDeleteBlock=this.shouldDelete(!!c,b))||this.shouldUpdatePreviews(c,a))$.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(c),this.maybeShowPreview(c),$.enable$$module$build$src$core$events$utils();}},{key:"createMarkerBlock",value:function createMarkerBlock(a){var b=a.type;$.disable$$module$build$src$core$events$utils();var c;try{c=this.workspace.newBlock(b);c.setInsertionMarker(!0);if(a.saveExtraState){var d=a.saveExtraState(!0);d&&c.loadExtraState&&c.loadExtraState(d);}else if(a.mutationToDom){var e=a.mutationToDom();e&&c.domToMutation&&c.domToMutation(e);}for(b=0;b<a.inputList.length;b++){var _e6=a.inputList[b];if(_e6.name===COLLAPSED_INPUT_NAME$$module$build$src$core$constants)continue;var f=c.inputList[b];if(!f)throw Error(DUPLICATE_BLOCK_ERROR$$module$build$src$core$insertion_marker_manager.replace("%1","an input"));for(d=0;d<_e6.fieldRow.length;d++){var g=_e6.fieldRow[d],h=f.fieldRow[d];if(!h)throw Error(DUPLICATE_BLOCK_ERROR$$module$build$src$core$insertion_marker_manager.replace("%1","a field"));h.setValue(g.getValue());}}var _iterator35=_createForOfIteratorHelper(c.getDescendants(!1)),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _e7=_step35.value;_e7.setInsertionMarker(!0);}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}c.setCollapsed(a.isCollapsed());c.setInputsInline(a.getInputsInline());c.initSvg();c.getSvgRoot().setAttribute("visibility","hidden");}finally{$.enable$$module$build$src$core$events$utils();}return c;}},{key:"initAvailableConnections",value:function initAvailableConnections(){var a=this.topBlock.getConnections_(!1),b=this.topBlock.lastConnectionInStack(!0);b&&b!==this.topBlock.nextConnection&&(a.push(b),this.lastOnStack=b);return a;}},{key:"shouldUpdatePreviews",value:function shouldUpdatePreviews(a,b){if(!a)return!!this.activeCandidate;if(!this.activeCandidate)return!0;var _this$activeCandidate2=this.activeCandidate,c=_this$activeCandidate2.local,d=_this$activeCandidate2.closest;if(d===a.closest&&c===a.local)return!1;var e=c.x+b.x-d.x;b=c.y+b.y-d.y;return a.radius<Math.sqrt(e*e+b*b)-$.config$$module$build$src$core$config.currentConnectionPreference;}},{key:"getCandidate",value:function getCandidate(a){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();var b=this.getStartRadius(),c=null;for(var d=0;d<this.availableConnections.length;d++){var e=this.availableConnections[d],f=e.closest(b,a);f.connection&&(c={closest:f.connection,local:e,radius:f.radius},b=f.radius);}return c;}},{key:"getStartRadius",value:function getStartRadius(){return this.activeCandidate?$.config$$module$build$src$core$config.connectingSnapRadius:$.config$$module$build$src$core$config.snapRadius;}},{key:"shouldDelete",value:function shouldDelete(a,b){return b&&this.workspace.getComponentManager().hasCapability(b.id,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA)?b.wouldDelete(this.topBlock,a):!1;}},{key:"maybeShowPreview",value:function maybeShowPreview(a){if(!this.wouldDeleteBlock&&a){var b=a.closest,c;b===(null==(c=this.activeCandidate)?void 0:c.closest)||b.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=a,this.showPreview(this.activeCandidate));}}},{key:"showPreview",value:function showPreview(a){var b=this.workspace.getRenderer();switch(b.getConnectionPreviewMethod(a.closest,a.local,this.topBlock)){case _InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(a);break;case _InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(a);break;case _InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(a);}b.shouldHighlightConnection(a.closest)&&a.closest.highlight();}},{key:"maybeHidePreview",value:function maybeHidePreview(a){if(!a)this.hidePreview();else if(this.activeCandidate){var b=this.activeCandidate.local!==a.local;(this.activeCandidate.closest!==a.closest||b||this.wouldDeleteBlock)&&this.hidePreview();}this.activeCandidate=this.markerConnection=null;}},{key:"hidePreview",value:function hidePreview(){var a;var b=null==(a=this.activeCandidate)?void 0:a.closest;b&&b.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(b)&&b.unhighlight();this.hideReplacementFade();this.hideInsertionInputOutline();this.hideInsertionMarker();}},{key:"showInsertionMarker",value:function showInsertionMarker(a){var _a2=a,b=_a2.local,c=_a2.closest;var d=(a=this.lastOnStack&&b===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!d)throw Error("Cannot show the insertion marker because there is no insertion marker block");var e;try{e=d.getMatchingConnection(b.getSourceBlock(),b);}catch(k){a&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),d=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),d=this.firstMarker=this.createMarkerBlock(this.topBlock));if(!d)throw Error("Cannot show the insertion marker because there is no insertion marker block");e=d.getMatchingConnection(b.getSourceBlock(),b);}if(!e)throw Error("Cannot show the insertion marker because there is no associated connection");if(e===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.queueRender();triggerQueuedRenders$$module$build$src$core$render_management();e.connect(c);var f={x:c.x-e.x,y:c.y-e.y},g=e.getOffsetInBlock().clone(),h=e;finishQueuedRenders$$module$build$src$core$render_management().then(function(){var k;null==(k=d)||k.positionNearConnection(h,f,g);var l;null==(l=d)||l.getSvgRoot().setAttribute("visibility","visible");});this.markerConnection=e;}},{key:"hideInsertionMarker",value:function hideInsertionMarker(){if(this.markerConnection){var a=this.markerConnection,b=a.getSourceBlock(),c=b.outputConnection,d;if((null==(d=b.previousConnection)?0:d.targetConnection)||(null==c?0:c.targetConnection))b.unplug(!0);else{var e;null==(e=a.targetBlock())||e.unplug(!1);}if(a.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null;(a=b.getSvgRoot())&&a.setAttribute("visibility","hidden");}}},{key:"showInsertionInputOutline",value:function showInsertionInputOutline(a){a=a.closest;this.highlightedBlock=a.getSourceBlock();this.highlightedBlock.highlightShapeForInput(a,!0);}},{key:"hideInsertionInputOutline",value:function hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1);this.highlightedBlock=null;}}},{key:"showReplacementFade",value:function showReplacementFade(a){this.fadedBlock=a.closest.targetBlock();if(!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0);}},{key:"hideReplacementFade",value:function hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null);}},{key:"getInsertionMarkers",value:function getInsertionMarkers(){var a=[];this.firstMarker&&a.push(this.firstMarker);this.lastMarker&&a.push(this.lastMarker);return a;}},{key:"disposeInsertionMarker",value:function disposeInsertionMarker(a){if(a){$.disable$$module$build$src$core$events$utils();try{a.dispose();}finally{$.enable$$module$build$src$core$events$utils();}}}}]);return InsertionMarkerManager$$module$build$src$core$insertion_marker_manager;}();(function(a){a=a.PREVIEW_TYPE||(a.PREVIEW_TYPE={});a[a.INSERTION_MARKER=0]="INSERTION_MARKER";a[a.INPUT_OUTLINE=1]="INPUT_OUTLINE";a[a.REPLACEMENT_FADE=2]="REPLACEMENT_FADE";})(_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager||(_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager={}));var PreviewType$$module$build$src$core$insertion_marker_manager=_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE,module$build$src$core$insertion_marker_manager={};module$build$src$core$insertion_marker_manager.InsertionMarkerManager=_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager;module$build$src$core$insertion_marker_manager.PreviewType=PreviewType$$module$build$src$core$insertion_marker_manager;var Renderer$$module$build$src$core$renderers$common$renderer=/*#__PURE__*/function(){"use strict";function Renderer$$module$build$src$core$renderers$common$renderer(a){_classCallCheck(this,Renderer$$module$build$src$core$renderers$common$renderer);this.overrides=null;this.name=a;}_createClass(Renderer$$module$build$src$core$renderers$common$renderer,[{key:"getClassName",value:function getClassName(){return this.name+"-renderer";}},{key:"init",value:function init(a,b){this.constants_=this.makeConstants_();b&&(this.overrides=b,Object.assign(this.constants_,b));this.constants_.setTheme(a);this.constants_.init();}},{key:"createDom",value:function createDom(a,b){this.constants_.createDom(a,this.name+"-"+b.name,"."+this.getClassName()+"."+b.getClassName());}},{key:"refreshDom",value:function refreshDom(a,b){var c=this.getConstants();c.dispose();this.constants_=this.makeConstants_();this.overrides&&Object.assign(this.constants_,this.overrides);this.constants_.randomIdentifier=c.randomIdentifier;this.constants_.setTheme(b);this.constants_.init();this.createDom(a,b);}},{key:"dispose",value:function dispose(){this.constants_&&this.constants_.dispose();}},{key:"makeConstants_",value:function makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$common$constants();}},{key:"makeRenderInfo_",value:function makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$common$info(this,a);}},{key:"makeDrawer_",value:function makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$common$drawer(a,b);}},{key:"makeMarkerDrawer",value:function makeMarkerDrawer(a,b){return new MarkerSvg$$module$build$src$core$renderers$common$marker_svg(a,this.getConstants(),b);}},{key:"makePathObject",value:function makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$common$path_object(a,b,this.constants_);}},{key:"getConstants",value:function getConstants(){return this.constants_;}},{key:"shouldHighlightConnection",value:function shouldHighlightConnection(a){return!0;}},{key:"orphanCanConnectAtEnd",value:function orphanCanConnectAtEnd(a,b,c){return!!Connection$$module$build$src$core$connection.getConnectionForOrphanedConnection(a,c===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?b.outputConnection:b.previousConnection);}},{key:"getConnectionPreviewMethod",value:function getConnectionPreviewMethod(a,b,c){return b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE||b.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT?!a.isConnected()||this.orphanCanConnectAtEnd(c,a.targetBlock(),b.type)?_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.INSERTION_MARKER:_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.REPLACEMENT_FADE:_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.INSERTION_MARKER;}},{key:"render",value:function render(a){var b=this.makeRenderInfo_(a);b.measure();this.makeDrawer_(a,b).draw();}}]);return Renderer$$module$build$src$core$renderers$common$renderer;}(),module$build$src$core$renderers$common$renderer={};module$build$src$core$renderers$common$renderer.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;var module$build$src$core$renderers$common$block_rendering={};module$build$src$core$renderers$common$block_rendering.BottomRow=BottomRow$$module$build$src$core$renderers$measurables$bottom_row;module$build$src$core$renderers$common$block_rendering.Connection=Connection$$module$build$src$core$renderers$measurables$connection;module$build$src$core$renderers$common$block_rendering.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$common$constants;module$build$src$core$renderers$common$block_rendering.Drawer=Drawer$$module$build$src$core$renderers$common$drawer;module$build$src$core$renderers$common$block_rendering.ExternalValueInput=ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input;module$build$src$core$renderers$common$block_rendering.Field=Field$$module$build$src$core$renderers$measurables$field;module$build$src$core$renderers$common$block_rendering.Hat=Hat$$module$build$src$core$renderers$measurables$hat;module$build$src$core$renderers$common$block_rendering.Icon=Icon$$module$build$src$core$renderers$measurables$icon;module$build$src$core$renderers$common$block_rendering.InRowSpacer=InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer;module$build$src$core$renderers$common$block_rendering.InlineInput=InlineInput$$module$build$src$core$renderers$measurables$inline_input;module$build$src$core$renderers$common$block_rendering.InputConnection=InputConnection$$module$build$src$core$renderers$measurables$input_connection;module$build$src$core$renderers$common$block_rendering.InputRow=InputRow$$module$build$src$core$renderers$measurables$input_row;module$build$src$core$renderers$common$block_rendering.JaggedEdge=JaggedEdge$$module$build$src$core$renderers$measurables$jagged_edge;module$build$src$core$renderers$common$block_rendering.MarkerSvg=MarkerSvg$$module$build$src$core$renderers$common$marker_svg;module$build$src$core$renderers$common$block_rendering.Measurable=Measurable$$module$build$src$core$renderers$measurables$base;module$build$src$core$renderers$common$block_rendering.NextConnection=NextConnection$$module$build$src$core$renderers$measurables$next_connection;module$build$src$core$renderers$common$block_rendering.OutputConnection=OutputConnection$$module$build$src$core$renderers$measurables$output_connection;module$build$src$core$renderers$common$block_rendering.PathObject=PathObject$$module$build$src$core$renderers$common$path_object;module$build$src$core$renderers$common$block_rendering.PreviousConnection=PreviousConnection$$module$build$src$core$renderers$measurables$previous_connection;module$build$src$core$renderers$common$block_rendering.RenderInfo=RenderInfo$$module$build$src$core$renderers$common$info;module$build$src$core$renderers$common$block_rendering.Renderer=Renderer$$module$build$src$core$renderers$common$renderer;module$build$src$core$renderers$common$block_rendering.RoundCorner=RoundCorner$$module$build$src$core$renderers$measurables$round_corner;module$build$src$core$renderers$common$block_rendering.Row=Row$$module$build$src$core$renderers$measurables$row;module$build$src$core$renderers$common$block_rendering.SpacerRow=SpacerRow$$module$build$src$core$renderers$measurables$spacer_row;module$build$src$core$renderers$common$block_rendering.SquareCorner=SquareCorner$$module$build$src$core$renderers$measurables$square_corner;module$build$src$core$renderers$common$block_rendering.StatementInput=StatementInput$$module$build$src$core$renderers$measurables$statement_input;module$build$src$core$renderers$common$block_rendering.TopRow=TopRow$$module$build$src$core$renderers$measurables$top_row;module$build$src$core$renderers$common$block_rendering.Types=Types$$module$build$src$core$renderers$measurables$types;module$build$src$core$renderers$common$block_rendering.init=init$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.register=register$$module$build$src$core$renderers$common$block_rendering;module$build$src$core$renderers$common$block_rendering.unregister=unregister$$module$build$src$core$renderers$common$block_rendering;var ThemeManager$$module$build$src$core$theme_manager=/*#__PURE__*/function(){"use strict";function ThemeManager$$module$build$src$core$theme_manager(a,b){_classCallCheck(this,ThemeManager$$module$build$src$core$theme_manager);this.workspace=a;this.theme=b;this.subscribedWorkspaces_=[];this.componentDB=new Map();}_createClass(ThemeManager$$module$build$src$core$theme_manager,[{key:"getTheme",value:function getTheme(){return this.theme;}},{key:"setTheme",value:function setTheme(a){var b=this.theme;this.theme=a;if(a=this.workspace.getInjectionDiv())b&&(b=b.getClassName())&&removeClass$$module$build$src$core$utils$dom(a,b),(b=this.theme.getClassName())&&addClass$$module$build$src$core$utils$dom(a,b);for(var c=0,d;d=this.subscribedWorkspaces_[c];c++)d.refreshTheme();var _iterator36=_createForOfIteratorHelper(this.componentDB),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _step36$value=_slicedToArray(_step36.value,2),_c5=_step36$value[0],_d6=_step36$value[1];var _iterator38=_createForOfIteratorHelper(_d6),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var e=_step38.value;a=e.element;b=e.propertyName;var f=this.theme&&this.theme.getComponentStyle(_c5);a.style.setProperty(b,f||"");}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}var _iterator37=_createForOfIteratorHelper(this.subscribedWorkspaces_),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _c6=_step37.value;_c6.hideChaff();}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}}},{key:"subscribeWorkspace",value:function subscribeWorkspace(a){this.subscribedWorkspaces_.push(a);}},{key:"unsubscribeWorkspace",value:function unsubscribeWorkspace(a){if(!removeElem$$module$build$src$core$utils$array(this.subscribedWorkspaces_,a))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");}},{key:"subscribe",value:function subscribe(a,b,c){this.componentDB.has(b)||this.componentDB.set(b,[]);this.componentDB.get(b).push({element:a,propertyName:c});b=this.theme&&this.theme.getComponentStyle(b);a.style.setProperty(c,b||"");}},{key:"unsubscribe",value:function unsubscribe(a){if(a){var _iterator39=_createForOfIteratorHelper(this.componentDB),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _step39$value=_slicedToArray(_step39.value,2),b=_step39$value[0],c=_step39$value[1];for(var d=c.length-1;0<=d;d--)c[d].element===a&&c.splice(d,1);c.length||this.componentDB.delete(b);}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}}}},{key:"dispose",value:function dispose(){this.subscribedWorkspaces_.length=0;this.componentDB.clear();}}]);return ThemeManager$$module$build$src$core$theme_manager;}(),module$build$src$core$theme_manager={};module$build$src$core$theme_manager.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;var CATEGORY_NAME$$module$build$src$core$variables_dynamic="VARIABLE_DYNAMIC",onCreateVariableButtonClick_String$$module$build$src$core$variables_dynamic=stringButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Number$$module$build$src$core$variables_dynamic=numberButtonClickHandler$$module$build$src$core$variables_dynamic,onCreateVariableButtonClick_Colour$$module$build$src$core$variables_dynamic=colourButtonClickHandler$$module$build$src$core$variables_dynamic,module$build$src$core$variables_dynamic={CATEGORY_NAME:CATEGORY_NAME$$module$build$src$core$variables_dynamic};module$build$src$core$variables_dynamic.flyoutCategory=flyoutCategory$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.flyoutCategoryBlocks=flyoutCategoryBlocks$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_Colour=colourButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_Number=numberButtonClickHandler$$module$build$src$core$variables_dynamic;module$build$src$core$variables_dynamic.onCreateVariableButtonClick_String=stringButtonClickHandler$$module$build$src$core$variables_dynamic;var ConnectionChecker$$module$build$src$core$connection_checker=/*#__PURE__*/function(){"use strict";function ConnectionChecker$$module$build$src$core$connection_checker(){_classCallCheck(this,ConnectionChecker$$module$build$src$core$connection_checker);}_createClass(ConnectionChecker$$module$build$src$core$connection_checker,[{key:"canConnect",value:function canConnect(a,b,c,d){return this.canConnectWithReason(a,b,c,d)===Connection$$module$build$src$core$connection.CAN_CONNECT;}},{key:"canConnectWithReason",value:function canConnectWithReason(a,b,c,d){var e=this.doSafetyChecks(a,b);return e!==Connection$$module$build$src$core$connection.CAN_CONNECT?e:this.doTypeChecks(a,b)?c&&!this.doDragChecks(a,b,d||0)?Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:Connection$$module$build$src$core$connection.CAN_CONNECT:Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED;}},{key:"getErrorMessage",value:function getErrorMessage(a,b,c){switch(a){case Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Connection$$module$build$src$core$connection.REASON_TARGET_NULL:return"Target connection is null.";case Connection$$module$build$src$core$connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+(b+" expected "+b.getCheck()+", found "+c.getCheck());case Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Connection$$module$build$src$core$connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!";}}},{key:"doSafetyChecks",value:function doSafetyChecks(a,b){if(!a||!b)return Connection$$module$build$src$core$connection.REASON_TARGET_NULL;var c,d,e;a.isSuperior()?(c=a.getSourceBlock(),d=b.getSourceBlock(),e=b):(d=a.getSourceBlock(),c=b.getSourceBlock(),e=a,a=b);return c===d?Connection$$module$build$src$core$connection.REASON_SELF_CONNECTION:e.type!==OPPOSITE_TYPE$$module$build$src$core$internal_constants[a.type]?Connection$$module$build$src$core$connection.REASON_WRONG_TYPE:c.workspace!==d.workspace?Connection$$module$build$src$core$connection.REASON_DIFFERENT_WORKSPACES:c.isShadow()&&!d.isShadow()?Connection$$module$build$src$core$connection.REASON_SHADOW_PARENT:e.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE&&d.previousConnection&&d.previousConnection.isConnected()||e.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&d.outputConnection&&d.outputConnection.isConnected()?Connection$$module$build$src$core$connection.REASON_PREVIOUS_AND_OUTPUT:Connection$$module$build$src$core$connection.CAN_CONNECT;}},{key:"doTypeChecks",value:function doTypeChecks(a,b){a=a.getCheck();b=b.getCheck();if(!a||!b)return!0;for(var c=0;c<a.length;c++)if(-1!==b.indexOf(a[c]))return!0;return!1;}},{key:"doDragChecks",value:function doDragChecks(a,b,c){if(a.distanceFrom(b)>c||b.getSourceBlock().isInsertionMarker())return!1;switch(b.type){case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(a,b);case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:if(b.isConnected()&&!b.targetBlock().isInsertionMarker()||a.isConnected())return!1;break;case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:if(b.isConnected()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;break;case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:if(b.isConnected()&&!a.getSourceBlock().nextConnection&&!b.targetBlock().isShadow()&&b.targetBlock().nextConnection||b.targetBlock()&&!b.targetBlock().isMovable()&&!b.targetBlock().isShadow())return!1;break;default:return!1;}return-1!==draggingConnections$$module$build$src$core$common.indexOf(b)?!1:!0;}},{key:"canConnectToPrevious_",value:function canConnectToPrevious_(a,b){if(a.targetConnection||-1!==draggingConnections$$module$build$src$core$common.indexOf(b))return!1;if(!b.targetConnection)return!0;a=b.targetBlock();return a.isInsertionMarker()?!a.getPreviousBlock():!1;}}]);return ConnectionChecker$$module$build$src$core$connection_checker;}();register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,DEFAULT$$module$build$src$core$registry,ConnectionChecker$$module$build$src$core$connection_checker);var module$build$src$core$connection_checker={};module$build$src$core$connection_checker.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;var VarDelete$$module$build$src$core$events$events_var_delete=/*#__PURE__*/function(_VarBase$$module$buil2){"use strict";_inherits(VarDelete$$module$build$src$core$events$events_var_delete,_VarBase$$module$buil2);function VarDelete$$module$build$src$core$events$events_var_delete(a){var _this57;_classCallCheck(this,VarDelete$$module$build$src$core$events$events_var_delete);_this57=_callSuper(this,VarDelete$$module$build$src$core$events$events_var_delete,[a]);_this57.type=VAR_DELETE$$module$build$src$core$events$utils;a&&(_this57.varType=a.type,_this57.varName=a.name);return _this57;}_createClass(VarDelete$$module$build$src$core$events$events_var_delete,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(VarDelete$$module$build$src$core$events$events_var_delete.prototype),"toJson",this).call(this);if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");a.varType=this.varType;a.varName=this.varName;return a;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");a?b.deleteVariableById(this.varId):b.createVariable(this.varName,this.varType,this.varId);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(VarDelete$$module$build$src$core$events$events_var_delete),"fromJson",this).call(this,a,b,null!=c?c:new VarDelete$$module$build$src$core$events$events_var_delete());b.varType=a.varType;b.varName=a.varName;return b;}}]);return VarDelete$$module$build$src$core$events$events_var_delete;}(VarBase$$module$build$src$core$events$events_var_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,VAR_DELETE$$module$build$src$core$events$utils,VarDelete$$module$build$src$core$events$events_var_delete);var module$build$src$core$events$events_var_delete={};module$build$src$core$events$events_var_delete.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;var VarRename$$module$build$src$core$events$events_var_rename=/*#__PURE__*/function(_VarBase$$module$buil3){"use strict";_inherits(VarRename$$module$build$src$core$events$events_var_rename,_VarBase$$module$buil3);function VarRename$$module$build$src$core$events$events_var_rename(a,b){var _this58;_classCallCheck(this,VarRename$$module$build$src$core$events$events_var_rename);_this58=_callSuper(this,VarRename$$module$build$src$core$events$events_var_rename,[a]);_this58.type=VAR_RENAME$$module$build$src$core$events$utils;a&&(_this58.oldName=a.name,_this58.newName="undefined"===typeof b?"":b);return _this58;}_createClass(VarRename$$module$build$src$core$events$events_var_rename,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(VarRename$$module$build$src$core$events$events_var_rename.prototype),"toJson",this).call(this);if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");a.oldName=this.oldName;a.newName=this.newName;return a;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");a?b.renameVariableById(this.varId,this.newName):b.renameVariableById(this.varId,this.oldName);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(VarRename$$module$build$src$core$events$events_var_rename),"fromJson",this).call(this,a,b,null!=c?c:new VarRename$$module$build$src$core$events$events_var_rename());b.oldName=a.oldName;b.newName=a.newName;return b;}}]);return VarRename$$module$build$src$core$events$events_var_rename;}(VarBase$$module$build$src$core$events$events_var_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,VAR_RENAME$$module$build$src$core$events$utils,VarRename$$module$build$src$core$events$events_var_rename);var module$build$src$core$events$events_var_rename={};module$build$src$core$events$events_var_rename.VarRename=VarRename$$module$build$src$core$events$events_var_rename;var VariableMap$$module$build$src$core$variable_map=/*#__PURE__*/function(){"use strict";function VariableMap$$module$build$src$core$variable_map(a){_classCallCheck(this,VariableMap$$module$build$src$core$variable_map);this.workspace=a;this.variableMap=new Map();}_createClass(VariableMap$$module$build$src$core$variable_map,[{key:"clear",value:function clear(){var _iterator40=_createForOfIteratorHelper(this.variableMap.values()),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var a=_step40.value;for(;0<a.length;)this.deleteVariable(a[0]);}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}if(0!==this.variableMap.size)throw Error("Non-empty variable map");}},{key:"renameVariable",value:function renameVariable(a,b){if(a.name!==b){var c=this.getVariable(b,a.type),d=this.workspace.getAllBlocks(!1),e=$.getGroup$$module$build$src$core$events$utils();e||$.setGroup$$module$build$src$core$events$utils(!0);try{c&&c.getId()!==a.getId()?this.renameVariableWithConflict_(a,b,c,d):this.renameVariableAndUses_(a,b,d);}finally{$.setGroup$$module$build$src$core$events$utils(e);}}}},{key:"renameVariableById",value:function renameVariableById(a,b){var c=this.getVariableById(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.renameVariable(c,b);}},{key:"renameVariableAndUses_",value:function renameVariableAndUses_(a,b,c){fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(VAR_RENAME$$module$build$src$core$events$utils))(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].updateVarName(a);}},{key:"renameVariableWithConflict_",value:function renameVariableWithConflict_(a,b,c,d){var e=a.type;b!==c.name&&this.renameVariableAndUses_(c,b,d);for(b=0;b<d.length;b++)d[b].renameVarById(a.getId(),c.getId());fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(VAR_DELETE$$module$build$src$core$events$utils))(a));removeElem$$module$build$src$core$utils$array(this.variableMap.get(e),a);}},{key:"createVariable",value:function createVariable(a,b,c){var d=this.getVariable(a,b);if(d){if(c&&d.getId()!==c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.getId()+'" which conflicts with the passed in id, "'+c+'".');return d;}if(c&&this.getVariableById(c))throw Error('Variable id, "'+c+'", is already in use.');d=c||genUid$$module$build$src$core$utils$idgenerator();b=b||"";d=new VariableModel$$module$build$src$core$variable_model(this.workspace,a,b,d);a=this.variableMap.get(b)||[];a.push(d);this.variableMap.delete(b);this.variableMap.set(b,a);fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(VAR_CREATE$$module$build$src$core$events$utils))(d));return d;}},{key:"deleteVariable",value:function deleteVariable(a){var b=a.getId(),c=this.variableMap.get(a.type);if(c)for(var d=0;d<c.length;d++)if(c[d].getId()===b){c.splice(d,1);fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(VAR_DELETE$$module$build$src$core$events$utils))(a));0===c.length&&this.variableMap.delete(a.type);break;}}},{key:"deleteVariableById",value:function deleteVariableById(a){var _this59=this;var b=this.getVariableById(a);if(b){var c=b.name;var d=this.getVariableUsesById(a);for(var e=0,f;f=d[e];e++)if("procedures_defnoreturn"===f.type||"procedures_defreturn"===f.type){a=String(f.getFieldValue("NAME"));c=$.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);alert$$module$build$src$core$dialog(c);return;}1<d.length?(c=$.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),confirm$$module$build$src$core$dialog(c,function(e){e&&b&&_this59.deleteVariableInternal(b,d);})):this.deleteVariableInternal(b,d);}else console.warn("Can't delete non-existent variable: "+a);}},{key:"deleteVariableInternal",value:function deleteVariableInternal(a,b){var c=$.getGroup$$module$build$src$core$events$utils();c||$.setGroup$$module$build$src$core$events$utils(!0);try{for(var d=0;d<b.length;d++)b[d].dispose(!0);this.deleteVariable(a);}finally{$.setGroup$$module$build$src$core$events$utils(c);}}},{key:"getVariable",value:function getVariable(a,b){if(b=this.variableMap.get(b||""))for(var c=0,d;d=b[c];c++)if($.Names$$module$build$src$core$names.equals(d.name,a))return d;return null;}},{key:"getVariableById",value:function getVariableById(a){var _iterator41=_createForOfIteratorHelper(this.variableMap.values()),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var b=_step41.value;var _iterator42=_createForOfIteratorHelper(b),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var c=_step42.value;if(c.getId()===a)return c;}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}return null;}},{key:"getVariablesOfType",value:function getVariablesOfType(a){return(a=this.variableMap.get(a||""))?a.slice():[];}},{key:"getVariableTypes",value:function getVariableTypes(a){var b=new Set(this.variableMap.keys());if(a&&a.getPotentialVariableMap()){var _iterator43=_createForOfIteratorHelper(a.getPotentialVariableMap().variableMap.keys()),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var c=_step43.value;b.add(c);}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}}b.has("")||b.add("");return Array.from(b.values());}},{key:"getAllVariables",value:function getAllVariables(){var a=[];var _iterator44=_createForOfIteratorHelper(this.variableMap.values()),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var b=_step44.value;a=a.concat(b);}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}return a;}},{key:"getAllVariableNames",value:function getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(function(a){return a.name;});}},{key:"getVariableUsesById",value:function getVariableUsesById(a){var b=[],c=this.workspace.getAllBlocks(!1);for(var d=0;d<c.length;d++){var e=c[d].getVarModels();if(e)for(var f=0;f<e.length;f++)e[f].getId()===a&&b.push(c[d]);}return b;}}]);return VariableMap$$module$build$src$core$variable_map;}(),module$build$src$core$variable_map={};module$build$src$core$variable_map.VariableMap=VariableMap$$module$build$src$core$variable_map;var Workspace$$module$build$src$core$workspace=/*#__PURE__*/function(){"use strict";function Workspace$$module$build$src$core$workspace(a){_classCallCheck(this,Workspace$$module$build$src$core$workspace);this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1;this.MAX_UNDO=1024;this.connectionDBList=[];this.topBlocks=[];this.topComments=[];this.commentDB=new Map();this.listeners=[];this.undoStack_=[];this.redoStack_=[];this.blockDB=new Map();this.typedBlocksDB=new Map();this.procedureMap=new ObservableProcedureMap$$module$build$src$core$observable_procedure_map();this.potentialVariableMap=null;this.id=genUid$$module$build$src$core$utils$idgenerator();registerWorkspace$$module$build$src$core$common(this);this.options=a||new Options$$module$build$src$core$options({});this.RTL=!!this.options.RTL;this.horizontalLayout=!!this.options.horizontalLayout;this.toolboxPosition=this.options.toolboxPosition;this.connectionChecker=new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CONNECTION_CHECKER,this.options,!0))(this);this.variableMap=new VariableMap$$module$build$src$core$variable_map(this);}_createClass(Workspace$$module$build$src$core$workspace,[{key:"isFlyout",get:function get(){return this.internalIsFlyout;}},{key:"isMutator",get:function get(){return this.internalIsMutator;}},{key:"dispose",value:function dispose(){this.listeners.length=0;this.clear();unregisterWorkpace$$module$build$src$core$common(this);}},{key:"sortObjects_",value:function sortObjects_(a,b){var c=Math.sin(toRadians$$module$build$src$core$utils$math(Workspace$$module$build$src$core$workspace.SCAN_ANGLE))*(this.RTL?-1:1);a=a.getRelativeToSurfaceXY();b=b.getRelativeToSurfaceXY();return a.y+c*a.x-(b.y+c*b.x);}},{key:"addTopBlock",value:function addTopBlock(a){this.topBlocks.push(a);}},{key:"removeTopBlock",value:function removeTopBlock(a){if(!removeElem$$module$build$src$core$utils$array(this.topBlocks,a))throw Error("Block not present in workspace's list of top-most blocks.");}},{key:"getTopBlocks",value:function getTopBlocks(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var b=[].concat(this.topBlocks);a&&1<b.length&&b.sort(this.sortObjects_.bind(this));return b;}},{key:"addTypedBlock",value:function addTypedBlock(a){this.typedBlocksDB.has(a.type)||this.typedBlocksDB.set(a.type,[]);this.typedBlocksDB.get(a.type).push(a);}},{key:"removeTypedBlock",value:function removeTypedBlock(a){removeElem$$module$build$src$core$utils$array(this.typedBlocksDB.get(a.type),a);this.typedBlocksDB.get(a.type).length||this.typedBlocksDB.delete(a.type);}},{key:"getBlocksByType",value:function getBlocksByType(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;if(!this.typedBlocksDB.has(a))return[];a=this.typedBlocksDB.get(a).slice(0);b&&a&&1<a.length&&a.sort(this.sortObjects_.bind(this));return a.filter(function(c){return!c.isInsertionMarker();});}},{key:"addTopComment",value:function addTopComment(a){this.topComments.push(a);this.commentDB.has(a.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+a.id+'"');this.commentDB.set(a.id,a);}},{key:"removeTopComment",value:function removeTopComment(a){if(!removeElem$$module$build$src$core$utils$array(this.topComments,a))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(a.id);}},{key:"getTopComments",value:function getTopComments(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var b=[].concat(this.topComments);a&&1<b.length&&b.sort(this.sortObjects_.bind(this));return b;}},{key:"getAllBlocks",value:function getAllBlocks(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;if(a){var b=this.getTopBlocks(!0);a=[];for(var c=0;c<b.length;c++){var _a3;(_a3=a).push.apply(_a3,_toConsumableArray(b[c].getDescendants(!0)));}}else for(a=this.getTopBlocks(!1),b=0;b<a.length;b++){var _a4;(_a4=a).push.apply(_a4,_toConsumableArray(a[b].getChildren(!1)));}return a.filter(function(c){return!c.isInsertionMarker();});}},{key:"clear",value:function clear(){this.isClearing=!0;try{var a=$.getGroup$$module$build$src$core$events$utils();for(a||$.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();$.setGroup$$module$build$src$core$events$utils(a);this.variableMap.clear();this.potentialVariableMap&&this.potentialVariableMap.clear();}finally{this.isClearing=!1;}}},{key:"renameVariableById",value:function renameVariableById(a,b){this.variableMap.renameVariableById(a,b);}},{key:"createVariable",value:function createVariable(a,b,c){return this.variableMap.createVariable(a,b,c);}},{key:"getVariableUsesById",value:function getVariableUsesById(a){return this.variableMap.getVariableUsesById(a);}},{key:"deleteVariableById",value:function deleteVariableById(a){this.variableMap.deleteVariableById(a);}},{key:"getVariable",value:function getVariable(a,b){return this.variableMap.getVariable(a,b);}},{key:"getVariableById",value:function getVariableById(a){return this.variableMap.getVariableById(a);}},{key:"getVariablesOfType",value:function getVariablesOfType(a){return this.variableMap.getVariablesOfType(a);}},{key:"getVariableTypes",value:function getVariableTypes(){return this.variableMap.getVariableTypes(this);}},{key:"getAllVariables",value:function getAllVariables(){return this.variableMap.getAllVariables();}},{key:"getAllVariableNames",value:function getAllVariableNames(){return this.variableMap.getAllVariableNames();}},{key:"getWidth",value:function getWidth(){return 0;}},{key:"newBlock",value:function newBlock(a,b){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts");}},{key:"remainingCapacity",value:function remainingCapacity(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks(!1).length;}},{key:"remainingCapacityOfType",value:function remainingCapacityOfType(a){return this.options.maxInstances?(void 0!==this.options.maxInstances[a]?this.options.maxInstances[a]:Infinity)-this.getBlocksByType(a,!1).length:Infinity;}},{key:"isCapacityAvailable",value:function isCapacityAvailable(a){if(!this.hasBlockLimits())return!0;var b=0;for(var c in a){if(a[c]>this.remainingCapacityOfType(c))return!1;b+=a[c];}return b>this.remainingCapacity()?!1:!0;}},{key:"hasBlockLimits",value:function hasBlockLimits(){return Infinity!==this.options.maxBlocks||!!this.options.maxInstances;}},{key:"getUndoStack",value:function getUndoStack(){return this.undoStack_;}},{key:"getRedoStack",value:function getRedoStack(){return this.redoStack_;}},{key:"undo",value:function undo(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_;var d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group===b[b.length-1].group;){var f=b.pop();f&&e.push(f);}for(b=0;b<e.length;b++)c.push(e[b]);e=filter$$module$build$src$core$events$utils(e,a);setRecordUndo$$module$build$src$core$events$utils(!1);try{for(c=0;c<e.length;c++)e[c].run(a);}finally{setRecordUndo$$module$build$src$core$events$utils(!0);}}}},{key:"clearUndo",value:function clearUndo(){this.undoStack_.length=0;this.redoStack_.length=0;clearPendingUndo$$module$build$src$core$events$utils();}},{key:"addChangeListener",value:function addChangeListener(a){this.listeners.push(a);return a;}},{key:"removeChangeListener",value:function removeChangeListener(a){removeElem$$module$build$src$core$utils$array(this.listeners,a);}},{key:"fireChangeListener",value:function fireChangeListener(a){if(a.recordUndo)for(this.undoStack_.push(a),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var b=0;b<this.listeners.length;b++)(0,this.listeners[b])(a);}},{key:"getBlockById",value:function getBlockById(a){return this.blockDB.get(a)||null;}},{key:"setBlockById",value:function setBlockById(a,b){this.blockDB.set(a,b);}},{key:"removeBlockById",value:function removeBlockById(a){this.blockDB.delete(a);}},{key:"getCommentById",value:function getCommentById(a){var b;return null!=(b=this.commentDB.get(a))?b:null;}},{key:"allInputsFilled",value:function allInputsFilled(a){var b=this.getTopBlocks(!1);for(var c=0;c<b.length;c++)if(!b[c].allInputsFilled(a))return!1;return!0;}},{key:"getPotentialVariableMap",value:function getPotentialVariableMap(){return this.potentialVariableMap;}},{key:"createPotentialVariableMap",value:function createPotentialVariableMap(){this.potentialVariableMap=new VariableMap$$module$build$src$core$variable_map(this);}},{key:"getVariableMap",value:function getVariableMap(){return this.variableMap;}},{key:"setVariableMap",value:function setVariableMap(a){this.variableMap=a;}},{key:"getProcedureMap",value:function getProcedureMap(){return this.procedureMap;}},{key:"getRootWorkspace",value:function getRootWorkspace(){var a=null;var b=this.options.parentWorkspace;this.isFlyout?b&&b.options&&(a=b.options.parentWorkspace):b&&(a=b);return a;}}],[{key:"getById",value:function getById(a){return getWorkspaceById$$module$build$src$core$common(a);}},{key:"getAll",value:function getAll(){return getAllWorkspaces$$module$build$src$core$common();}}]);return Workspace$$module$build$src$core$workspace;}();Workspace$$module$build$src$core$workspace.SCAN_ANGLE=3;var module$build$src$core$workspace={};module$build$src$core$workspace.Workspace=Workspace$$module$build$src$core$workspace;var SOUND_LIMIT$$module$build$src$core$workspace_audio=100,WorkspaceAudio$$module$build$src$core$workspace_audio=/*#__PURE__*/function(){"use strict";function WorkspaceAudio$$module$build$src$core$workspace_audio(a){_classCallCheck(this,WorkspaceAudio$$module$build$src$core$workspace_audio);this.parentWorkspace=a;this.sounds=new Map();this.lastSound_=null;}_createClass(WorkspaceAudio$$module$build$src$core$workspace_audio,[{key:"dispose",value:function dispose(){this.sounds.clear();}},{key:"load",value:function load(a,b){if(a.length){try{var c=new globalThis.Audio();}catch(e){return;}for(var e=0;e<a.length;e++){var f=a[e],g=f.match(/\.(\w+)$/);if(g&&c.canPlayType("audio/"+g[1])){var d=new globalThis.Audio(f);break;}}d&&this.sounds.set(b,d);}}},{key:"preload",value:function preload(){var _iterator45=_createForOfIteratorHelper(this.sounds.values()),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var a=_step45.value;a.volume=.01;var b=a.play();void 0!==b?b.then(a.pause).catch(function(){}):a.pause();if(IPAD$$module$build$src$core$utils$useragent||IPHONE$$module$build$src$core$utils$useragent)break;}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}}},{key:"play",value:function play(a,b){var c=this.sounds.get(a);c?(a=new Date(),null!==this.lastSound_&&a.getTime()-this.lastSound_.getTime()<SOUND_LIMIT$$module$build$src$core$workspace_audio||(this.lastSound_=a,c=IPAD$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(a,b);}}]);return WorkspaceAudio$$module$build$src$core$workspace_audio;}(),module$build$src$core$workspace_audio={};module$build$src$core$workspace_audio.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;var LayerManager$$module$build$src$core$layer_manager=/*#__PURE__*/function(){"use strict";function LayerManager$$module$build$src$core$layer_manager(a){_classCallCheck(this,LayerManager$$module$build$src$core$layer_manager);this.workspace=a;this.layers=new Map();if(a=a.getInjectionDiv())this.dragLayer=this.createDragLayer(a);a=this.createLayer(BLOCK$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,"blocklyBlockCanvas");a=this.createLayer(BUBBLE$$module$build$src$core$layers);addClass$$module$build$src$core$utils$dom(a,"blocklyBubbleCanvas");}_createClass(LayerManager$$module$build$src$core$layer_manager,[{key:"createDragLayer",value:function createDragLayer(a){var b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{"class":"blocklyBlockDragSurface",xmlns:SVG_NS$$module$build$src$core$utils$dom,"xmlns:html":HTML_NS$$module$build$src$core$utils$dom,"xmlns:xlink":XLINK_NS$$module$build$src$core$utils$dom,version:"1.1"});a.append(b);return createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{},b);}},{key:"translateLayers",value:function translateLayers(a,b){a=`translate(${a.x}, ${a.y}) scale(${b})`;var c;null==(c=this.dragLayer)||c.setAttribute("transform",a);var _iterator46=_createForOfIteratorHelper(this.layers),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _step46$value=_slicedToArray(_step46.value,2),d=_step46$value[1];d.setAttribute("transform",a);}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}}},{key:"moveToDragLayer",value:function moveToDragLayer(a){var b;null==(b=this.dragLayer)||b.appendChild(a.getSvgRoot());}},{key:"moveOffDragLayer",value:function moveOffDragLayer(a,b){this.append(a,b);}},{key:"append",value:function append(a,b){this.layers.has(b)||this.createLayer(b);var c;null==(c=this.layers.get(b))||c.appendChild(a.getSvgRoot());}},{key:"createLayer",value:function createLayer(a){var b=this.workspace.getSvgGroup(),c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});var d=!1;var e=_toConsumableArray(this.layers).sort(function(f,g){return f[0]-g[0];});var _iterator47=_createForOfIteratorHelper(e),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _step47$value=_slicedToArray(_step47.value,2),f=_step47$value[0],g=_step47$value[1];if(a<f){b.insertBefore(c,g);d=!0;break;}}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}d||b.appendChild(c);this.layers.set(a,c);return c;}},{key:"hasLayer",value:function hasLayer(a){return a===this.dragLayer||new Set(this.layers.values()).has(a);}},{key:"getBlockLayer",value:function getBlockLayer(){return this.layers.get(BLOCK$$module$build$src$core$layers);}},{key:"getBubbleLayer",value:function getBubbleLayer(){return this.layers.get(BUBBLE$$module$build$src$core$layers);}}]);return LayerManager$$module$build$src$core$layer_manager;}(),module$build$src$core$layer_manager={};module$build$src$core$layer_manager.LayerManager=LayerManager$$module$build$src$core$layer_manager;var ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg=20,WorkspaceSvg$$module$build$src$core$workspace_svg=/*#__PURE__*/function(_Workspace$$module$bu){"use strict";_inherits(WorkspaceSvg$$module$build$src$core$workspace_svg,_Workspace$$module$bu);function WorkspaceSvg$$module$build$src$core$workspace_svg(a){var _this60;_classCallCheck(this,WorkspaceSvg$$module$build$src$core$workspace_svg);_this60=_callSuper(this,WorkspaceSvg$$module$build$src$core$workspace_svg,[a]);_this60.resizeHandlerWrapper=null;_this60.resizesEnabled=_this60.isVisible_=_this60.rendered=!0;_this60.startScrollY=_this60.startScrollX=_this60.scrollY=_this60.scrollX=0;_this60.dragDeltaXY=null;_this60.oldScale=_this60.scale=1;_this60.oldLeft=_this60.oldTop=0;_this60.inverseScreenCTM=_this60.targetWorkspace=_this60.dummyWheelListener=_this60.configureContextMenu=_this60.lastRecordedPageScroll=_this60.injectionDiv=_this60.currentGesture_=_this60.toolbox_=_this60.flyout=_this60.scrollbar=_this60.trashcan=null;_this60.inverseScreenCTMDirty=!0;_this60.highlightedBlocks=[];_this60.toolboxCategoryCallbacks=new Map();_this60.flyoutButtonCallbacks=new Map();_this60.cachedParentSvg=null;_this60.keyboardAccessibilityMode=!1;_this60.topBoundedElements=[];_this60.dragTargetAreas=[];_this60.zoomControls_=_this60.layerManager=null;_this60.metricsManager=new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,a,!0))(_assertThisInitialized(_this60));_this60.getMetrics=a.getMetrics||_this60.metricsManager.getMetrics.bind(_this60.metricsManager);_this60.setMetrics=a.setMetrics||WorkspaceSvg$$module$build$src$core$workspace_svg.setTopLevelWorkspaceMetrics_;_this60.componentManager=new ComponentManager$$module$build$src$core$component_manager();_this60.connectionDBList=ConnectionDB$$module$build$src$core$connection_db.init(_this60.connectionChecker);_this60.audioManager=new WorkspaceAudio$$module$build$src$core$workspace_audio(a.parentWorkspace);_this60.grid=_this60.options.gridPattern?new Grid$$module$build$src$core$grid(_this60.options.gridPattern,a.gridOptions):null;_this60.markerManager=new MarkerManager$$module$build$src$core$marker_manager(_assertThisInitialized(_this60));module$build$src$core$variables&&flyoutCategory$$module$build$src$core$variables&&_this60.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables,flyoutCategory$$module$build$src$core$variables);module$build$src$core$variables_dynamic&&flyoutCategory$$module$build$src$core$variables_dynamic&&_this60.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$variables_dynamic,flyoutCategory$$module$build$src$core$variables_dynamic);module$build$src$core$procedures&&flyoutCategory$$module$build$src$core$procedures&&(_this60.registerToolboxCategoryCallback(CATEGORY_NAME$$module$build$src$core$procedures,flyoutCategory$$module$build$src$core$procedures),_this60.addChangeListener(mutatorOpenListener$$module$build$src$core$procedures));_this60.themeManager_=_this60.options.parentWorkspace?_this60.options.parentWorkspace.getThemeManager():new ThemeManager$$module$build$src$core$theme_manager(_assertThisInitialized(_this60),_this60.options.theme||Classic$$module$build$src$core$theme$classic);_this60.themeManager_.subscribeWorkspace(_assertThisInitialized(_this60));var b;_this60.renderer=init$$module$build$src$core$renderers$common$block_rendering(_this60.options.renderer||"geras",_this60.getTheme(),null!=(b=_this60.options.rendererOverrides)?b:void 0);_this60.cachedParentSvgSize=new Size$$module$build$src$core$utils$size(0,0);return _this60;}_createClass(WorkspaceSvg$$module$build$src$core$workspace_svg,[{key:"getMarkerManager",value:function getMarkerManager(){return this.markerManager;}},{key:"getMetricsManager",value:function getMetricsManager(){return this.metricsManager;}},{key:"setMetricsManager",value:function setMetricsManager(a){this.metricsManager=a;this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager);}},{key:"getComponentManager",value:function getComponentManager(){return this.componentManager;}},{key:"setCursorSvg",value:function setCursorSvg(a){this.markerManager.setCursorSvg(a);}},{key:"setMarkerSvg",value:function setMarkerSvg(a){this.markerManager.setMarkerSvg(a);}},{key:"getMarker",value:function getMarker(a){return this.markerManager?this.markerManager.getMarker(a):null;}},{key:"getCursor",value:function getCursor(){return this.markerManager?this.markerManager.getCursor():null;}},{key:"getRenderer",value:function getRenderer(){return this.renderer;}},{key:"getThemeManager",value:function getThemeManager(){return this.themeManager_;}},{key:"getTheme",value:function getTheme(){return this.themeManager_.getTheme();}},{key:"setTheme",value:function setTheme(a){a||(a=Classic$$module$build$src$core$theme$classic);this.themeManager_.setTheme(a);}},{key:"refreshTheme",value:function refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme());this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(b){return!!b.getStyleName();}));this.refreshToolboxSelection();this.toolbox_&&this.toolbox_.refreshTheme();this.isVisible()&&this.setVisible(!0);var a=new(get$$module$build$src$core$events$utils(THEME_CHANGE$$module$build$src$core$events$utils))(this.getTheme().name,this.id);fire$$module$build$src$core$events$utils(a);}},{key:"updateBlockStyles_",value:function updateBlockStyles_(a){for(var b=0,c;c=a[b];b++){var d=c.getStyleName();d&&c.setStyle(d);}}},{key:"getInverseScreenCTM",value:function getInverseScreenCTM(){if(this.inverseScreenCTMDirty){var a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM=a.inverse(),this.inverseScreenCTMDirty=!1);}return this.inverseScreenCTM;}},{key:"updateInverseScreenCTM",value:function updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0;}},{key:"isVisible",value:function isVisible(){return this.isVisible_;}},{key:"getSvgXY",value:function getSvgXY(a){var b=0,c=0,d=1;if(this.getCanvas().contains(a)||this.getBubbleCanvas().contains(a))d=this.scale;do{var e=getRelativeXY$$module$build$src$core$utils$svg_math(a);if(a===this.getCanvas()||a===this.getBubbleCanvas())d=1;b+=e.x*d;c+=e.y*d;a=a.parentNode;}while(a&&a!==this.getParentSvg()&&a!==this.getInjectionDiv());return new Coordinate$$module$build$src$core$utils$coordinate(b,c);}},{key:"getCachedParentSvgSize",value:function getCachedParentSvgSize(){var a=this.cachedParentSvgSize;return new Size$$module$build$src$core$utils$size(a.width,a.height);}},{key:"getOriginOffsetInPixels",value:function getOriginOffsetInPixels(){return getInjectionDivXY$$module$build$src$core$utils$svg_math(this.getCanvas());}},{key:"getInjectionDiv",value:function getInjectionDiv(){if(!this.injectionDiv){var a=this.svgGroup_;for(;a;){if(-1!==(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv=a;break;}a=a.parentNode;}}return this.injectionDiv;}},{key:"getSvgGroup",value:function getSvgGroup(){return this.svgGroup_;}},{key:"getBlockCanvas",value:function getBlockCanvas(){return this.getCanvas();}},{key:"setResizeHandlerWrapper",value:function setResizeHandlerWrapper(a){this.resizeHandlerWrapper=a;}},{key:"createDom",value:function createDom(a,b){this.injectionDiv||(this.injectionDiv=null!=b?b:null);this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyWorkspace"});a&&(this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:"100%",width:"100%","class":a},this.svgGroup_),"blocklyMainBackground"===a&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill"));this.layerManager=new LayerManager$$module$build$src$core$layer_manager(this);this.svgBlockCanvas_=this.layerManager.getBlockLayer();this.svgBubbleCanvas_=this.layerManager.getBubbleLayer();this.isFlyout||(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),this.dummyWheelListener=function(){},document.body.addEventListener("wheel",this.dummyWheelListener),conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,"wheel",this,this.onMouseWheel_));this.options.hasCategories&&(this.toolbox_=new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,this.options,!0))(this));this.grid&&this.grid.update(this.scale);this.recordDragTargets();(a=getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,this.options))&&this.markerManager.setCursor(new a());this.renderer.createDom(this.svgGroup_,this.getTheme());return this.svgGroup_;}},{key:"dispose",value:function dispose(){this.rendered=!1;this.currentGesture_&&this.currentGesture_.cancel();this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_);this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null);this.flyout&&(this.flyout.dispose(),this.flyout=null);this.trashcan&&(this.trashcan.dispose(),this.trashcan=null);this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null);this.zoomControls_&&this.zoomControls_.dispose();this.audioManager&&this.audioManager.dispose();this.grid&&(this.grid=null);this.renderer.dispose();this.markerManager&&this.markerManager.dispose();_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"dispose",this).call(this);this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose());this.connectionDBList.length=0;this.toolboxCategoryCallbacks.clear();this.flyoutButtonCallbacks.clear();if(!this.options.parentWorkspace){var a=this.getParentSvg();a&&a.parentNode&&removeNode$$module$build$src$core$utils$dom(a.parentNode);}this.resizeHandlerWrapper&&(unbind$$module$build$src$core$browser_events(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null);this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null);}},{key:"addTrashcan",value:function addTrashcan(){this.trashcan=WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan(this);var a=this.trashcan.createDom();this.svgGroup_.insertBefore(a,this.getCanvas());}},{key:"addZoomControls",value:function addZoomControls(){this.zoomControls_=new ZoomControls$$module$build$src$core$zoom_controls(this);var a=this.zoomControls_.createDom();this.svgGroup_.appendChild(a);}},{key:"addFlyout",value:function addFlyout(a){var b=new Options$$module$build$src$core$options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});b.toolboxPosition=this.options.toolboxPosition;this.flyout=this.horizontalLayout?new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(b):new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(b);this.flyout.autoClose=!1;this.flyout.getWorkspace().setVisible(!0);return this.flyout.createDom(a);}},{key:"getFlyout",value:function getFlyout(a){return this.flyout||a?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null;}},{key:"getToolbox",value:function getToolbox(){return this.toolbox_;}},{key:"updateScreenCalculations_",value:function updateScreenCalculations_(){this.updateInverseScreenCTM();this.recordDragTargets();}},{key:"resizeContents",value:function resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM());}},{key:"resize",value:function resize(){this.toolbox_&&this.toolbox_.position();this.flyout&&this.flyout.position();var a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE,!0),b=this.getMetricsManager().getUiMetrics(),c=[];for(var d=0,e;e=a[d];d++){e.position(b,c);var f=e.getBoundingRectangle();f&&c.push(f);}this.scrollbar&&this.scrollbar.resize();this.updateScreenCalculations_();}},{key:"updateScreenCalculationsIfScrolled",value:function updateScreenCalculationsIfScrolled(){var a=getDocumentScroll$$module$build$src$core$utils$svg_math();Coordinate$$module$build$src$core$utils$coordinate.equals(this.lastRecordedPageScroll,a)||(this.lastRecordedPageScroll=a,this.updateScreenCalculations_());}},{key:"getLayerManager",value:function getLayerManager(){return this.layerManager;}},{key:"getCanvas",value:function getCanvas(){return this.layerManager.getBlockLayer();}},{key:"setCachedParentSvgSize",value:function setCachedParentSvgSize(a,b){var c=this.getParentSvg();null!=a&&(this.cachedParentSvgSize.width=a,c.setAttribute("data-cached-width",`${a}`));null!=b&&(this.cachedParentSvgSize.height=b,c.setAttribute("data-cached-height",`${b}`));}},{key:"getBubbleCanvas",value:function getBubbleCanvas(){return this.layerManager.getBubbleLayer();}},{key:"getParentSvg",value:function getParentSvg(){if(!this.cachedParentSvg){var a=this.svgGroup_;for(;a;){if("svg"===a.tagName){this.cachedParentSvg=a;break;}a=a.parentNode;}}return this.cachedParentSvg;}},{key:"maybeFireViewportChangeEvent",value:function maybeFireViewportChangeEvent(){if(isEnabled$$module$build$src$core$events$utils()){var a=this.scale,b=-this.scrollY,c=-this.scrollX;if(!(a===this.oldScale&&1>Math.abs(b-this.oldTop)&&1>Math.abs(c-this.oldLeft))){var d=new(get$$module$build$src$core$events$utils(VIEWPORT_CHANGE$$module$build$src$core$events$utils))(b,c,a,this.id,this.oldScale);this.oldScale=a;this.oldTop=b;this.oldLeft=c;fire$$module$build$src$core$events$utils(d);}}}},{key:"translate",value:function translate(a,b){var c;null==(c=this.layerManager)||c.translateLayers(new Coordinate$$module$build$src$core$utils$coordinate(a,b),this.scale);var d;null==(d=this.grid)||d.moveTo(a,b);this.maybeFireViewportChangeEvent();}},{key:"getWidth",value:function getWidth(){var a=this.getMetrics();return a?a.viewWidth/this.scale:0;}},{key:"setVisible",value:function setVisible(a){this.isVisible_=a;this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(a),this.getFlyout()&&this.getFlyout().setContainerVisible(a),this.getParentSvg().style.display=a?"block":"none",this.toolbox_&&this.toolbox_.setVisible(a),a||this.hideChaff(!0));}},{key:"render",value:function render(){var _this61=this;var a=this.getAllBlocks(!1);for(var b=a.length-1;0<=b;b--)a[b].queueRender();if(this.currentGesture_)for(a=this.currentGesture_.getInsertionMarkers(),b=0;b<a.length;b++)a[b].queueRender();finishQueuedRenders$$module$build$src$core$render_management().then(function(){return void _this61.markerManager.updateMarkers();});}},{key:"highlightBlock",value:function highlightBlock(a,b){if(void 0===b){for(var c=0,d;d=this.highlightedBlocks[c];c++)d.setHighlighted(!1);this.highlightedBlocks.length=0;}if(a=a?this.getBlockById(a):null)(b=void 0===b||b)?-1===this.highlightedBlocks.indexOf(a)&&this.highlightedBlocks.push(a):removeElem$$module$build$src$core$utils$array(this.highlightedBlocks,a),a.setHighlighted(b);}},{key:"paste",value:function paste(a){warn$$module$build$src$core$utils$deprecation("Blockly.WorkspaceSvg.prototype.paste","v10","v11","Blockly.clipboard.paste");if(!this.rendered||!a.type&&!a.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();var b=$.getGroup$$module$build$src$core$events$utils();b||$.setGroup$$module$build$src$core$events$utils(!0);var c;try{c=a.type?this.pasteBlock_(null,a):"comment"===a.tagName.toLowerCase()?this.pasteWorkspaceComment_(a):this.pasteBlock_(a,null);}finally{$.setGroup$$module$build$src$core$events$utils(b);}return c;}},{key:"pasteBlock_",value:function pasteBlock_(a,b){$.disable$$module$build$src$core$events$utils();var c;try{var d=0,e=0;if(a){c=domToBlockInternal$$module$build$src$core$xml(a,this);var f;d=parseInt(null!=(f=a.getAttribute("x"))?f:"0");this.RTL&&(d=-d);var g;e=parseInt(null!=(g=a.getAttribute("y"))?g:"0");}else b&&(c=append$$module$build$src$core$serialization$blocks(b,this),d=b.x||10,this.RTL&&(d=this.getWidth()-d),e=b.y||10);if(!isNaN(d)&&!isNaN(e)){var _f4;do{_f4=!1;var _g6=this.getAllBlocks(!1);for(var h=0,k;k=_g6[h];h++){var l=k.getRelativeToSurfaceXY();if(1>=Math.abs(d-l.x)&&1>=Math.abs(e-l.y)){_f4=!0;break;}}if(!_f4){var _h2=c.getConnections_(!1);for(var _k=0,_l;_l=_h2[_k];_k++)if(_l.closest($.config$$module$build$src$core$config.snapRadius,new Coordinate$$module$build$src$core$utils$coordinate(d,e)).connection){_f4=!0;break;}}_f4&&(d=this.RTL?d-$.config$$module$build$src$core$config.snapRadius:d+$.config$$module$build$src$core$config.snapRadius,e+=2*$.config$$module$build$src$core$config.snapRadius);}while(_f4);c.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(d,e));}}finally{$.enable$$module$build$src$core$events$utils();}isEnabled$$module$build$src$core$events$utils()&&!c.isShadow()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CREATE$$module$build$src$core$events$utils))(c));c.select();return c;}},{key:"pasteWorkspaceComment_",value:function pasteWorkspaceComment_(a){$.disable$$module$build$src$core$events$utils();var b;try{b=WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.fromXmlRendered(a,this);var c,d=parseInt(null!=(c=a.getAttribute("x"))?c:"0"),e,f=parseInt(null!=(e=a.getAttribute("y"))?e:"0");isNaN(d)||isNaN(f)||(this.RTL&&(d=-d),b.moveBy(d+50,f+50));}finally{$.enable$$module$build$src$core$events$utils();}isEnabled$$module$build$src$core$events$utils()&&WorkspaceComment$$module$build$src$core$workspace_comment.fireCreateEvent(b);b.select();return b;}},{key:"refreshToolboxSelection",value:function refreshToolboxSelection(){var a=this.isFlyout?this.targetWorkspace:this;a&&!a.currentGesture_&&a.toolbox_&&a.toolbox_.getFlyout()&&a.toolbox_.refreshSelection();}},{key:"renameVariableById",value:function renameVariableById(a,b){_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"renameVariableById",this).call(this,a,b);this.refreshToolboxSelection();}},{key:"deleteVariableById",value:function deleteVariableById(a){_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"deleteVariableById",this).call(this,a);this.refreshToolboxSelection();}},{key:"createVariable",value:function createVariable(a,b,c){a=_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"createVariable",this).call(this,a,b,c);this.refreshToolboxSelection();return a;}},{key:"recordDragTargets",value:function recordDragTargets(){var a=this.componentManager.getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(var b=0,c;c=a[b];b++){var d=c.getClientRect();d&&this.dragTargetAreas.push({component:c,clientRect:d});}}},{key:"newBlock",value:function newBlock(a,b){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts");}},{key:"getDragTarget",value:function getDragTarget(a){for(var b=0,c;c=this.dragTargetAreas[b];b++)if(c.clientRect.contains(a.clientX,a.clientY))return c.component;return null;}},{key:"onMouseDown_",value:function onMouseDown_(a){var b=this.getGesture(a);b&&b.handleWsStart(a,this);}},{key:"startDrag",value:function startDrag(a,b){a=mouseToSvg$$module$build$src$core$browser_events(a,this.getParentSvg(),this.getInverseScreenCTM());a.x/=this.scale;a.y/=this.scale;this.dragDeltaXY=Coordinate$$module$build$src$core$utils$coordinate.difference(b,a);}},{key:"moveDrag",value:function moveDrag(a){a=mouseToSvg$$module$build$src$core$browser_events(a,this.getParentSvg(),this.getInverseScreenCTM());a.x/=this.scale;a.y/=this.scale;return Coordinate$$module$build$src$core$utils$coordinate.sum(this.dragDeltaXY,a);}},{key:"isDragging",value:function isDragging(){return null!==this.currentGesture_&&this.currentGesture_.isDragging();}},{key:"isDraggable",value:function isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag;}},{key:"isMovable",value:function isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch;}},{key:"isMovableHorizontally",value:function isMovableHorizontally(){var a=!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollHorizontally());}},{key:"isMovableVertically",value:function isMovableVertically(){var a=!!this.scrollbar;return this.isMovable()&&(!a||a&&this.scrollbar.canScrollVertically());}},{key:"onMouseWheel_",value:function onMouseWheel_(a){if(Gesture$$module$build$src$core$gesture.inProgress())a.preventDefault(),a.stopPropagation();else{var b=this.options.zoomOptions&&this.options.zoomOptions.wheel,c=this.options.moveOptions&&this.options.moveOptions.wheel;if(b||c){var d=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(MAC$$module$build$src$core$utils$useragent)var e=a.metaKey;b&&(a.ctrlKey||e||!c)?(d=-d.y/50,b=mouseToSvg$$module$build$src$core$browser_events(a,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(b.x,b.y,d)):(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c));a.preventDefault();}}}},{key:"getBlocksBoundingBox",value:function getBlocksBoundingBox(){var a=this.getTopBoundedElements();if(!a.length)return new Rect$$module$build$src$core$utils$rect(0,0,0,0);var b=a[0].getBoundingRectangle();for(var d=1;d<a.length;d++){var c=a[d];c.isInsertionMarker&&c.isInsertionMarker()||(c=c.getBoundingRectangle(),c.top<b.top&&(b.top=c.top),c.bottom>b.bottom&&(b.bottom=c.bottom),c.left<b.left&&(b.left=c.left),c.right>b.right&&(b.right=c.right));}return b;}},{key:"cleanUp",value:function cleanUp(){this.setResizesEnabled(!1);$.setGroup$$module$build$src$core$events$utils(!0);var a=this.getTopBlocks(!0);var b=0;for(var c=0,d;d=a[c];c++){if(!d.isMovable())continue;var e=d.getRelativeToSurfaceXY();d.moveBy(-e.x,b-e.y,["cleanup"]);d.snapToGrid();b=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT;}$.setGroup$$module$build$src$core$events$utils(!1);this.setResizesEnabled(!0);}},{key:"showContextMenu",value:function showContextMenu(a){if(!this.options.readOnly&&!this.isFlyout){var b=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions(ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(b,a);show$$module$build$src$core$contextmenu(a,b,this.RTL);}}},{key:"updateToolbox",value:function updateToolbox(a){if(a=convertToolboxDefToJson$$module$build$src$core$utils$toolbox(a)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(hasCategories$$module$build$src$core$utils$toolbox(a)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=a;this.toolbox_.render(a);}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=a;this.flyout.show(a);}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.");}},{key:"markFocused",value:function markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(setMainWorkspace$$module$build$src$core$common(this),this.getParentSvg().focus({preventScroll:!0}));}},{key:"zoom",value:function zoom(a,b,c){c=Math.pow(this.options.zoomOptions.scaleSpeed,c);var d=this.scale*c;if(this.scale!==d){d>this.options.zoomOptions.maxScale?c=this.options.zoomOptions.maxScale/this.scale:d<this.options.zoomOptions.minScale&&(c=this.options.zoomOptions.minScale/this.scale);var e=this.getCanvas().getCTM(),f=this.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=e.f;this.setScale(d);}}},{key:"zoomCenter",value:function zoomCenter(a){var b=this.getMetrics();var c;this.flyout?(c=b.svgWidth?b.svgWidth/2:0,b=b.svgHeight?b.svgHeight/2:0):(c=b.viewWidth/2+b.absoluteLeft,b=b.viewHeight/2+b.absoluteTop);this.zoom(c,b,a);}},{key:"zoomToFit",value:function zoomToFit(){if(this.isMovable()){var a=this.getMetrics(),b=a.viewWidth;a=a.viewHeight;var c=this.getBlocksBoundingBox(),d=2*ZOOM_TO_FIT_MARGIN$$module$build$src$core$workspace_svg,e=c.right-c.left+d;c=c.bottom-c.top+d;if(e){this.flyout&&(this.horizontalLayout?(a+=this.flyout.getHeight(),c+=this.flyout.getHeight()/this.scale):(b+=this.flyout.getWidth(),e+=this.flyout.getWidth()/this.scale));b/=e;a/=c;$.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(b,a)),this.scrollCenter();}finally{$.enable$$module$build$src$core$events$utils();}this.maybeFireViewportChangeEvent();}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");}},{key:"beginCanvasTransition",value:function beginCanvasTransition(){addClass$$module$build$src$core$utils$dom(this.getCanvas(),"blocklyCanvasTransitioning");addClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),"blocklyCanvasTransitioning");}},{key:"endCanvasTransition",value:function endCanvasTransition(){removeClass$$module$build$src$core$utils$dom(this.getCanvas(),"blocklyCanvasTransitioning");removeClass$$module$build$src$core$utils$dom(this.getBubbleCanvas(),"blocklyCanvasTransitioning");}},{key:"scrollCenter",value:function scrollCenter(){if(this.isMovable()){var a=this.getMetrics(),b=(a.scrollWidth-a.viewWidth)/2,c=(a.scrollHeight-a.viewHeight)/2;b=-b-a.scrollLeft;c=-c-a.scrollTop;this.scroll(b,c);}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");}},{key:"centerOnBlock",value:function centerOnBlock(a,b){if(this.isMovable()){var c=a?this.getBlockById(a):null;if(c){a=c.getRelativeToSurfaceXY();c=b?{height:c.height,width:c.width}:c.getHeightWidth();var d=this.scale;b=(a.x+(this.RTL?-1:1)*c.width/2)*d;a=(a.y+c.height/2)*d;c=this.getMetrics();this.scroll(-(b-c.viewWidth/2),-(a-c.viewHeight/2));}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");}},{key:"setScale",value:function setScale(a){this.options.zoomOptions.maxScale&&a>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale);this.scale=a;this.hideChaff(!1);(a=this.getFlyout(!1))&&a.isVisible()&&(a.reflow(),this.recordDragTargets());this.grid&&this.grid.update(this.scale);a=this.getMetrics();this.scrollX-=a.absoluteLeft;this.scrollY-=a.absoluteTop;a.viewLeft+=a.absoluteLeft;a.viewTop+=a.absoluteTop;this.scroll(this.scrollX,this.scrollY);this.scrollbar&&(this.flyout?this.scrollbar.resizeView(a):this.scrollbar.resizeContent(a));}},{key:"getScale",value:function getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale;}},{key:"scroll",value:function scroll(a,b){this.hideChaff(!0);var c=this.getMetrics();a=Math.min(a,-c.scrollLeft);b=Math.min(b,-c.scrollTop);var d=c.scrollTop+Math.max(0,c.scrollHeight-c.viewHeight);a=Math.max(a,-(c.scrollLeft+Math.max(0,c.scrollWidth-c.viewWidth)));b=Math.max(b,-d);this.scrollX=a;this.scrollY=b;this.scrollbar&&this.scrollbar.set(-(a+c.scrollLeft),-(b+c.scrollTop),!1);a+=c.absoluteLeft;b+=c.absoluteTop;this.translate(a,b);}},{key:"getBlockById",value:function getBlockById(a){return _get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"getBlockById",this).call(this,a);}},{key:"getAllBlocks",value:function getAllBlocks(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return _get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"getAllBlocks",this).call(this,a);}},{key:"getTopBlocks",value:function getTopBlocks(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return _get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"getTopBlocks",this).call(this,a);}},{key:"addTopBlock",value:function addTopBlock(a){this.addTopBoundedElement(a);_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"addTopBlock",this).call(this,a);}},{key:"removeTopBlock",value:function removeTopBlock(a){this.removeTopBoundedElement(a);_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"removeTopBlock",this).call(this,a);}},{key:"addTopComment",value:function addTopComment(a){this.addTopBoundedElement(a);_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"addTopComment",this).call(this,a);}},{key:"removeTopComment",value:function removeTopComment(a){this.removeTopBoundedElement(a);_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"removeTopComment",this).call(this,a);}},{key:"getRootWorkspace",value:function getRootWorkspace(){return _get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"getRootWorkspace",this).call(this);}},{key:"addTopBoundedElement",value:function addTopBoundedElement(a){this.topBoundedElements.push(a);}},{key:"removeTopBoundedElement",value:function removeTopBoundedElement(a){removeElem$$module$build$src$core$utils$array(this.topBoundedElements,a);}},{key:"getTopBoundedElements",value:function getTopBoundedElements(){return[].concat(this.topBoundedElements);}},{key:"setResizesEnabled",value:function setResizesEnabled(a){var b=!this.resizesEnabled&&a;this.resizesEnabled=a;b&&this.resizeContents();}},{key:"clear",value:function clear(){this.setResizesEnabled(!1);_get(_getPrototypeOf(WorkspaceSvg$$module$build$src$core$workspace_svg.prototype),"clear",this).call(this);this.topBoundedElements=[];this.setResizesEnabled(!0);}},{key:"registerButtonCallback",value:function registerButtonCallback(a,b){if("function"!==typeof b)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(a,b);}},{key:"getButtonCallback",value:function getButtonCallback(a){var b;return null!=(b=this.flyoutButtonCallbacks.get(a))?b:null;}},{key:"removeButtonCallback",value:function removeButtonCallback(a){this.flyoutButtonCallbacks.delete(a);}},{key:"registerToolboxCategoryCallback",value:function registerToolboxCategoryCallback(a,b){if("function"!==typeof b)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(a,b);}},{key:"getToolboxCategoryCallback",value:function getToolboxCategoryCallback(a){return this.toolboxCategoryCallbacks.get(a)||null;}},{key:"removeToolboxCategoryCallback",value:function removeToolboxCategoryCallback(a){this.toolboxCategoryCallbacks.delete(a);}},{key:"getGesture",value:function getGesture(a){var b="pointerdown"===a.type,c=this.currentGesture_;return c?b&&c.hasStarted()?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.currentGesture_=new Gesture$$module$build$src$core$gesture(a,this):null;}},{key:"clearGesture",value:function clearGesture(){this.currentGesture_=null;}},{key:"cancelCurrentGesture",value:function cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel();}},{key:"getAudioManager",value:function getAudioManager(){return this.audioManager;}},{key:"getGrid",value:function getGrid(){return this.grid;}},{key:"hideChaff",value:function hideChaff(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;hide$$module$build$src$core$tooltip();hide$$module$build$src$core$widgetdiv();hideWithoutAnimation$$module$build$src$core$dropdowndiv();this.hideComponents(a);}},{key:"hideComponents",value:function hideComponents(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;this.getComponentManager().getComponents(ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,!0).forEach(function(b){return b.autoHide(a);});}}],[{key:"newTrashcan",value:function newTrashcan(a){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts");}},{key:"setTopLevelWorkspaceMetrics_",value:function setTopLevelWorkspaceMetrics_(a){var b=this.getMetrics();"number"===typeof a.x&&(this.scrollX=-(b.scrollLeft+(b.scrollWidth-b.viewWidth)*a.x));"number"===typeof a.y&&(this.scrollY=-(b.scrollTop+(b.scrollHeight-b.viewHeight)*a.y));this.translate(this.scrollX+b.absoluteLeft,this.scrollY+b.absoluteTop);}}]);return WorkspaceSvg$$module$build$src$core$workspace_svg;}(Workspace$$module$build$src$core$workspace),module$build$src$core$workspace_svg={};module$build$src$core$workspace_svg.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;module$build$src$core$workspace_svg.resizeSvgContents=resizeSvgContents$$module$build$src$core$workspace_svg;var TrashcanOpen$$module$build$src$core$events$events_trashcan_open=/*#__PURE__*/function(_UiBase$$module$build6){"use strict";_inherits(TrashcanOpen$$module$build$src$core$events$events_trashcan_open,_UiBase$$module$build6);function TrashcanOpen$$module$build$src$core$events$events_trashcan_open(a,b){var _this62;_classCallCheck(this,TrashcanOpen$$module$build$src$core$events$events_trashcan_open);_this62=_callSuper(this,TrashcanOpen$$module$build$src$core$events$events_trashcan_open,[b]);_this62.type=TRASHCAN_OPEN$$module$build$src$core$events$utils;_this62.isOpen=a;return _this62;}_createClass(TrashcanOpen$$module$build$src$core$events$events_trashcan_open,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(TrashcanOpen$$module$build$src$core$events$events_trashcan_open.prototype),"toJson",this).call(this);if(void 0===this.isOpen)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");a.isOpen=this.isOpen;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(TrashcanOpen$$module$build$src$core$events$events_trashcan_open),"fromJson",this).call(this,a,b,null!=c?c:new TrashcanOpen$$module$build$src$core$events$events_trashcan_open());b.isOpen=a.isOpen;return b;}}]);return TrashcanOpen$$module$build$src$core$events$events_trashcan_open;}(UiBase$$module$build$src$core$events$events_ui_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,TRASHCAN_OPEN$$module$build$src$core$events$utils,TrashcanOpen$$module$build$src$core$events$events_trashcan_open);var module$build$src$core$events$events_trashcan_open={};module$build$src$core$events$events_trashcan_open.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;var BlockDelete$$module$build$src$core$events$events_block_delete=/*#__PURE__*/function(_BlockBase$$module$bu3){"use strict";_inherits(BlockDelete$$module$build$src$core$events$events_block_delete,_BlockBase$$module$bu3);function BlockDelete$$module$build$src$core$events$events_block_delete(a){var _this63;_classCallCheck(this,BlockDelete$$module$build$src$core$events$events_block_delete);_this63=_callSuper(this,BlockDelete$$module$build$src$core$events$events_block_delete,[a]);_this63.type=$.DELETE$$module$build$src$core$events$utils;if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.isShadow()&&(_this63.recordUndo=!1);_this63.oldXml=blockToDomWithXY$$module$build$src$core$xml(a);_this63.ids=getDescendantIds$$module$build$src$core$events$utils(a);_this63.wasShadow=a.isShadow();_this63.oldJson=save$$module$build$src$core$serialization$blocks(a,{addCoordinates:!0});}return _this63;}_createClass(BlockDelete$$module$build$src$core$events$events_block_delete,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BlockDelete$$module$build$src$core$events$events_block_delete.prototype),"toJson",this).call(this);if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(void 0===this.wasShadow)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");a.oldXml=domToText$$module$build$src$core$xml(this.oldXml);a.ids=this.ids;a.wasShadow=this.wasShadow;a.oldJson=this.oldJson;this.recordUndo||(a.recordUndo=this.recordUndo);return a;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(a)for(a=0;a<this.ids.length;a++){var c=this.ids[a],d=b.getBlockById(c);d?d.dispose(!1):c===this.blockId&&console.warn("Can't delete non-existent block: "+c);}else append$$module$build$src$core$serialization$blocks(this.oldJson,b);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BlockDelete$$module$build$src$core$events$events_block_delete),"fromJson",this).call(this,a,b,null!=c?c:new BlockDelete$$module$build$src$core$events$events_block_delete());b.oldXml=$.textToDom$$module$build$src$core$utils$xml(a.oldXml);b.ids=a.ids;b.wasShadow=a.wasShadow||"shadow"===b.oldXml.tagName.toLowerCase();b.oldJson=a.oldJson;void 0!==a.recordUndo&&(b.recordUndo=a.recordUndo);return b;}}]);return BlockDelete$$module$build$src$core$events$events_block_delete;}(BlockBase$$module$build$src$core$events$events_block_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,$.DELETE$$module$build$src$core$events$utils,BlockDelete$$module$build$src$core$events$events_block_delete);var module$build$src$core$events$events_block_delete={};module$build$src$core$events$events_block_delete.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;var Block$$module$build$src$core$block=/*#__PURE__*/function(){"use strict";function Block$$module$build$src$core$block(a,b,c){_classCallCheck(this,Block$$module$build$src$core$block);this.data=null;this.disposed=!1;this.hue_=null;this.colour_="#000000";this.styleName_="";this.suppressPrefixSuffix=!1;this.previousConnection=this.nextConnection=this.outputConnection=null;this.inputList=[];this.icons=[];this.disabled=!1;this.tooltip="";this.contextMenu=!0;this.parentBlock_=null;this.childBlocks_=[];this.editable_=this.movable_=this.deletable_=!0;this.collapsed_=this.isShadow_=!1;this.outputShape_=null;this.isInsertionMarker_=this.disposing=!1;this.onchangeWrapper_=this.helpUrl=this.rendered=null;this.statementInputCount=0;this.workspace=a;this.id=c&&!a.getBlockById(c)?c:genUid$$module$build$src$core$utils$idgenerator();a.setBlockById(this.id,this);this.xy_=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.isInFlyout=a.isFlyout;this.isInMutator=a.isMutator;this.RTL=a.RTL;if(b){this.type=b;c=Blocks$$module$build$src$core$blocks[b];if(!c||"object"!==typeof c)throw TypeError("Invalid block definition for type: "+b);Object.assign(this,c);}a.addTopBlock(this);a.addTypedBlock(this);(this instanceof Block$$module$build$src$core$block?this.constructor:void 0)===Block$$module$build$src$core$block&&this.doInit_();}_createClass(Block$$module$build$src$core$block,[{key:"doInit_",value:function doInit_(){var a=$.getGroup$$module$build$src$core$events$utils();a||$.setGroup$$module$build$src$core$events$utils(!0);var b=getRecordUndo$$module$build$src$core$events$utils();try{"function"===typeof this.init&&(setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),setRecordUndo$$module$build$src$core$events$utils(b)),isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CREATE$$module$build$src$core$events$utils))(this));}finally{$.setGroup$$module$build$src$core$events$utils(a),setRecordUndo$$module$build$src$core$events$utils(b);}this.inputsInlineDefault=this.inputsInline;"function"===typeof this.onchange&&this.setOnChange(this.onchange);}},{key:"dispose",value:function dispose(a){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(a),isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal());}},{key:"disposeInternal",value:function disposeInternal(){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0,"function"===typeof this.destroy&&this.destroy(),this.childBlocks_.forEach(function(a){return a.disposeInternal();}),this.inputList.forEach(function(a){return a.dispose();}),this.inputList.length=0,this.getConnections_(!0).forEach(function(a){return a.dispose();}),this.disposed=!0);}},{key:"isDeadOrDying",value:function isDeadOrDying(){return this.disposing||this.disposed;}},{key:"initModel",value:function initModel(){var _iterator48=_createForOfIteratorHelper(this.inputList),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var a=_step48.value;var _iterator49=_createForOfIteratorHelper(a.fieldRow),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var b=_step49.value;b.initModel&&b.initModel();}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}}},{key:"unplug",value:function unplug(a){this.outputConnection&&this.unplugFromRow_(a);this.previousConnection&&this.unplugFromStack_(a);}},{key:"unplugFromRow_",value:function unplugFromRow_(a){var b=null,c;if(null==(c=this.outputConnection)?0:c.isConnected())b=this.outputConnection.targetConnection,this.outputConnection.disconnect();b&&a&&(a=this.getOnlyValueConnection_())&&a.isConnected()&&!a.targetBlock().isShadow()&&(a=a.targetConnection,null==a||a.disconnect(),this.workspace.connectionChecker.canConnect(a,b,!1)?b.connect(a):null==a||a.onFailedConnect(b));}},{key:"getOnlyValueConnection_",value:function getOnlyValueConnection_(){var a=null;for(var b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;if(c&&c.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&c.targetConnection){if(a)return null;a=c;}}return a;}},{key:"unplugFromStack_",value:function unplugFromStack_(a){var b=null;var c;if(null==(c=this.previousConnection)?0:c.isConnected())b=this.previousConnection.targetConnection,this.previousConnection.disconnect();c=this.getNextBlock();if(a&&c&&!c.isShadow()){var d,e;a=null!=(e=null==(d=this.nextConnection)?void 0:d.targetConnection)?e:null;null==a||a.disconnect();b&&this.workspace.connectionChecker.canConnect(b,a,!1)&&b.connect(a);}}},{key:"getConnections_",value:function getConnections_(a){a=[];this.outputConnection&&a.push(this.outputConnection);this.previousConnection&&a.push(this.previousConnection);this.nextConnection&&a.push(this.nextConnection);for(var b=0,c;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a;}},{key:"lastConnectionInStack",value:function lastConnectionInStack(a){var b=this.nextConnection;for(;b;){var c=b.targetBlock();if(!c||a&&c.isShadow())return b;b=c.nextConnection;}return null;}},{key:"bumpNeighbours",value:function bumpNeighbours(){}},{key:"getParent",value:function getParent(){return this.parentBlock_;}},{key:"getInputWithBlock",value:function getInputWithBlock(a){for(var b=0,c;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()===a)return c;return null;}},{key:"getSurroundParent",value:function getSurroundParent(){var a=this,b;do if(b=a,a=a.getParent(),!a)return null;while(a.getNextBlock()===b);return a;}},{key:"getNextBlock",value:function getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock();}},{key:"getPreviousBlock",value:function getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock();}},{key:"getRootBlock",value:function getRootBlock(){var a,b=this;do a=b,b=a.parentBlock_;while(b);return a;}},{key:"getTopStackBlock",value:function getTopStackBlock(){var a=this,b;do b=a.getPreviousBlock();while(b&&b.getNextBlock()===a&&(a=b));return a;}},{key:"getChildren",value:function getChildren(a){if(!a)return this.childBlocks_;a=[];for(var c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();b&&a.push(b);}(b=this.getNextBlock())&&a.push(b);return a;}},{key:"setParent",value:function setParent(a){if(a!==this.parentBlock_){var b=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),c=!!b;if(c&&a&&b!==a)throw Error("Block connected to superior one that is not new parent.");if(!c&&a)throw Error("Block not connected to new parent.");if(c&&!a)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?removeElem$$module$build$src$core$utils$array(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this);(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this);}}},{key:"getDescendants",value:function getDescendants(a){var b=[this],c=this.getChildren(a);for(var d,e=0;d=c[e];e++)b.push.apply(b,_toConsumableArray(d.getDescendants(a)));return b;}},{key:"isDeletable",value:function isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly;}},{key:"isOwnDeletable",value:function isOwnDeletable(){return this.deletable_;}},{key:"setDeletable",value:function setDeletable(a){this.deletable_=a;}},{key:"isMovable",value:function isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly;}},{key:"isOwnMovable",value:function isOwnMovable(){return this.movable_;}},{key:"setMovable",value:function setMovable(a){this.movable_=a;}},{key:"isDuplicatable",value:function isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(this,!0)):!0;}},{key:"isShadow",value:function isShadow(){return this.isShadow_;}},{key:"setShadow",value:function setShadow(a){this.isShadow_=a;}},{key:"isInsertionMarker",value:function isInsertionMarker(){return this.isInsertionMarker_;}},{key:"setInsertionMarker",value:function setInsertionMarker(a){this.isInsertionMarker_=a;}},{key:"isEditable",value:function isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly;}},{key:"isOwnEditable",value:function isOwnEditable(){return this.editable_;}},{key:"setEditable",value:function setEditable(a){this.editable_=a;for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.updateEditable();}},{key:"isDisposed",value:function isDisposed(){return this.disposed;}},{key:"isSimpleReporter",value:function isSimpleReporter(){if(!this.outputConnection)return!1;var _iterator50=_createForOfIteratorHelper(this.inputList),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var a=_step50.value;if(a.connection||1<a.fieldRow.length)return!1;}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}return!0;}},{key:"getMatchingConnection",value:function getMatchingConnection(a,b){var c=this.getConnections_(!0);a=a.getConnections_(!0);if(c.length!==a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]===b)return c[d];return null;}},{key:"setHelpUrl",value:function setHelpUrl(a){this.helpUrl=a;}},{key:"setTooltip",value:function setTooltip(a){this.tooltip=a;}},{key:"getTooltip",value:function getTooltip(){return getTooltipOfObject$$module$build$src$core$tooltip(this);}},{key:"getColour",value:function getColour(){return this.colour_;}},{key:"getStyleName",value:function getStyleName(){return this.styleName_;}},{key:"getHue",value:function getHue(){return this.hue_;}},{key:"setColour",value:function setColour(a){a=parseBlockColour$$module$build$src$core$utils$parsing(a);this.hue_=a.hue;this.colour_=a.hex;}},{key:"setStyle",value:function setStyle(a){this.styleName_=a;}},{key:"setOnChange",value:function setOnChange(a){if(a&&"function"!==typeof a)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_);this.onchange=a;this.onchangeWrapper_=a.bind(this);this.workspace.addChangeListener(this.onchangeWrapper_);}},{key:"getField",value:function getField(a){if("string"!==typeof a)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===a?"nothing":a+" of type "+typeof a)+" instead");for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)if(e.name===a)return e;return null;}},{key:"getVars",value:function getVars(){var a=[];for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&a.push(e.getValue());return a;}},{key:"getVarModels",value:function getVarModels(){var a=[];for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)if(e.referencesVariables()){var f=this.workspace.getVariableById(e.getValue());f&&a.push(f);}return a;}},{key:"updateVarName",value:function updateVarName(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&a.getId()===e.getValue()&&e.refreshVariableName();}},{key:"renameVarById",value:function renameVarById(a,b){for(var c=0,d;d=this.inputList[c];c++)for(var e=0,f;f=d.fieldRow[e];e++)f.referencesVariables()&&a===f.getValue()&&f.setValue(b);}},{key:"getFieldValue",value:function getFieldValue(a){return(a=this.getField(a))?a.getValue():null;}},{key:"setFieldValue",value:function setFieldValue(a,b){var c=this.getField(b);if(!c)throw Error('Field "'+b+'" not found.');c.setValue(a);}},{key:"setPreviousStatement",value:function setPreviousStatement(a,b){if(a)void 0===b&&(b=null),this.previousConnection||(this.previousConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(b);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose();this.previousConnection=null;}}},{key:"setNextStatement",value:function setNextStatement(a,b){if(a)void 0===b&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)),this.nextConnection.setCheck(b);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose();this.nextConnection=null;}}},{key:"setOutput",value:function setOutput(a,b){if(a)void 0===b&&(b=null),this.outputConnection||(this.outputConnection=this.makeConnection_(ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE)),this.outputConnection.setCheck(b);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose();this.outputConnection=null;}}},{key:"setInputsInline",value:function setInputsInline(a){this.inputsInline!==a&&(fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,a)),this.inputsInline=a);}},{key:"getInputsInline",value:function getInputsInline(){if(void 0!==this.inputsInline)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof DummyInput$$module$build$src$core$inputs$dummy_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!1;for(a=1;a<this.inputList.length;a++)if(this.inputList[a-1]instanceof $.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[a]instanceof DummyInput$$module$build$src$core$inputs$dummy_input)return!0;for(a=0;a<this.inputList.length;a++)if(this.inputList[a]instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)return!0;return!1;}},{key:"setOutputShape",value:function setOutputShape(a){this.outputShape_=a;}},{key:"getOutputShape",value:function getOutputShape(){return this.outputShape_;}},{key:"isEnabled",value:function isEnabled(){return!this.disabled;}},{key:"setEnabled",value:function setEnabled(a){if(this.isEnabled()!==a){var b=this.disabled;this.disabled=!a;fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,b,!a));}}},{key:"getInheritedDisabled",value:function getInheritedDisabled(){var a=this.getSurroundParent();for(;a;){if(a.disabled)return!0;a=a.getSurroundParent();}return!1;}},{key:"isCollapsed",value:function isCollapsed(){return this.collapsed_;}},{key:"setCollapsed",value:function setCollapsed(a){this.collapsed_!==a&&(fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,a)),this.collapsed_=a);}},{key:"toString",value:function toString(a,b){b=this.toTokens(b);for(var d=2;d<b.length;d++)"("===b[d-2]&&")"===b[d]&&(b[d-2]=b[d-1],b.splice(d-1,2));var c="";b=b.reduce(function(d,e){d=d+("("===c||")"===e?"":" ")+e;c=e[e.length-1];return d;},"");b=b.trim()||"???";a&&b.length>a&&(b=b.substring(0,a-3)+"...");return b;}},{key:"toTokens",value:function toTokens(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"?";var b=[];var _iterator51=_createForOfIteratorHelper(this.inputList),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var d=_step51.value;if(d.name!=COLLAPSED_INPUT_NAME$$module$build$src$core$constants){var _iterator52=_createForOfIteratorHelper(d.fieldRow),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _e8=_step52.value;b.push(_e8.getText());}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}if(d.connection){var e=d.connection.targetBlock();if(e){var c=d.connection;var f=c.getCheck();!f&&c.targetConnection&&(f=c.targetConnection.getCheck());(c=!!f&&(-1!==f.indexOf("Boolean")||-1!==f.indexOf("Number")))&&b.push("(");b.push.apply(b,_toConsumableArray(e.toTokens(a)));c&&b.push(")");}else b.push(a);}}}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}return b;}},{key:"appendValueInput",value:function appendValueInput(a){return this.appendInput(new $.ValueInput$$module$build$src$core$inputs$value_input(a,this));}},{key:"appendStatementInput",value:function appendStatementInput(a){this.statementInputCount++;return this.appendInput(new StatementInput$$module$build$src$core$inputs$statement_input(a,this));}},{key:"appendDummyInput",value:function appendDummyInput(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return this.appendInput(new DummyInput$$module$build$src$core$inputs$dummy_input(a,this));}},{key:"appendEndRowInput",value:function appendEndRowInput(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return this.appendInput(new EndRowInput$$module$build$src$core$inputs$end_row_input(a,this));}},{key:"appendInput",value:function appendInput(a){this.inputList.push(a);return a;}},{key:"appendInputFromRegistry",value:function appendInputFromRegistry(a,b){return(a=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a,!1))?this.appendInput(new a(b,this)):null;}},{key:"jsonInit",value:function jsonInit(a){var b=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(b+"Must not have both an output and a previousStatement.");for(var c=0;a["args"+c];){if(void 0===a["message"+c])throw Error(b+`args${c} must have a corresponding message (message${c}).`);c++;}a.style&&a.style.hat&&(this.hat=a.style.hat,a.style=null);if(a.style&&a.colour)throw Error(b+"Must not have both a colour and a style.");a.style?this.jsonInitStyle_(a,b):this.jsonInitColour_(a,b);for(c=0;void 0!==a["message"+c];)this.interpolate_(a["message"+c],a["args"+c]||[],a["implicitAlign"+c]||a["lastDummyAlign"+c],b),c++;void 0!==a.inputsInline&&($.disable$$module$build$src$core$events$utils(),this.setInputsInline(a.inputsInline),$.enable$$module$build$src$core$events$utils());void 0!==a.output&&this.setOutput(!0,a.output);void 0!==a.outputShape&&this.setOutputShape(a.outputShape);void 0!==a.previousStatement&&this.setPreviousStatement(!0,a.previousStatement);void 0!==a.nextStatement&&this.setNextStatement(!0,a.nextStatement);void 0!==a.tooltip&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.tooltip),this.setTooltip(c));void 0!==a.enableContextMenu&&(this.contextMenu=!!a.enableContextMenu);void 0!==a.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!a.suppressPrefixSuffix);void 0!==a.helpUrl&&(c=replaceMessageReferences$$module$build$src$core$utils$parsing(a.helpUrl),this.setHelpUrl(c));"string"===typeof a.extensions&&(console.warn(b+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&apply$$module$build$src$core$extensions(a.mutator,this,!0);a=a.extensions;if(Array.isArray(a))for(b=0;b<a.length;b++)apply$$module$build$src$core$extensions(a[b],this,!1);}},{key:"jsonInitColour_",value:function jsonInitColour_(a,b){if("colour"in a)if(void 0===a.colour)console.warn(b+"Undefined colour value.");else{a=a.colour;try{this.setColour(a);}catch(c){console.warn(b+"Illegal colour value: ",a);}}}},{key:"jsonInitStyle_",value:function jsonInitStyle_(a,b){a=a.style;try{this.setStyle(a);}catch(c){console.warn(b+"Style does not exist: ",a);}}},{key:"mixin",value:function mixin(a,b){if(void 0!==b&&"boolean"!==typeof b)throw Error("opt_disableCheck must be a boolean if provided");if(!b){b=[];for(var c in a)void 0!==this[c]&&b.push(c);if(b.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(b));}Object.assign(this,a);}},{key:"interpolate_",value:function interpolate_(a,b,c,d){a=tokenizeInterpolation$$module$build$src$core$utils$parsing(a);this.validateTokens_(a,b.length);b=this.interpolateArguments_(a,b,c);c=[];for(var e=0,f;f=b[e];e++)if(this.isInputKeyword_(f.type)){if(a=this.inputFromJson_(f,d)){for(var g=0,h;h=c[g];g++)a.appendField(h[0],h[1]);c.length=0;}}else(a=this.fieldFromJson_(f))&&c.push([a,f.name]);}},{key:"validateTokens_",value:function validateTokens_(a,b){var c=[];var d=0;for(var e=0;e<a.length;e++){var f=a[e];if("number"===typeof f){if(1>f||f>b)throw Error('Block "'+this.type+'": Message index %'+f+" out of range.");if(c[f])throw Error('Block "'+this.type+'": Message index %'+f+" duplicated.");c[f]=!0;d++;}}if(d!==b)throw Error('Block "'+this.type+'": Message does not reference all '+b+" arg(s).");}},{key:"interpolateArguments_",value:function interpolateArguments_(a,b,c){var d=[];for(var f=0;f<a.length;f++){var e=a[f];"number"===typeof e&&(e=b[e-1]);if("string"===typeof e)if("\n"===e)e={type:"input_end_row"},c&&(e.align=c);else if(e=this.stringToFieldJson_(e),!e)continue;d.push(e);}(a=d.length)&&!this.isInputKeyword_(d[a-1].type)&&(a={type:"input_dummy"},c&&(a.align=c),d.push(a));return d;}},{key:"fieldFromJson_",value:function fieldFromJson_(a){var b=$.fromJson$$module$build$src$core$field_registry(a);return!b&&a.alt?"string"===typeof a.alt?(a=this.stringToFieldJson_(a.alt))?this.fieldFromJson_(a):null:this.fieldFromJson_(a.alt):b;}},{key:"inputFromJson_",value:function inputFromJson_(a,b){var c={LEFT:$.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:$.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:$.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:$.Align$$module$build$src$core$inputs$align.CENTRE};var d;switch(a.type){case"input_value":d=this.appendValueInput(a.name);break;case"input_statement":d=this.appendStatementInput(a.name);break;case"input_dummy":d=this.appendDummyInput(a.name);break;case"input_end_row":d=this.appendEndRowInput(a.name);break;default:d=this.appendInputFromRegistry(a.type,a.name);}if(!d)return null;a.check&&d.setCheck(a.check);a.align&&(c=c[a.align.toUpperCase()],void 0===c?console.warn(b+"Illegal align value: ",a.align):d.setAlign(c));return d;}},{key:"isInputKeyword_",value:function isInputKeyword_(a){return"input_value"===a||"input_statement"===a||"input_dummy"===a||"input_end_row"===a||hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.INPUT,a);}},{key:"stringToFieldJson_",value:function stringToFieldJson_(a){return(a=a.trim())?{type:"field_label",text:a}:null;}},{key:"moveInputBefore",value:function moveInputBefore(a,b){if(a!==b){var c=-1,d=b?-1:this.inputList.length;for(var e=0,f;f=this.inputList[e];e++)if(f.name===a){if(c=e,-1!==d)break;}else if(b&&f.name===b&&(d=e,-1!==c))break;if(-1===c)throw Error('Named input "'+a+'" not found.');if(-1===d)throw Error('Reference input "'+b+'" not found.');this.moveNumberedInputBefore(c,d);}}},{key:"moveNumberedInputBefore",value:function moveNumberedInputBefore(a,b){if(a===b)throw Error("Can't move input to itself.");if(a>=this.inputList.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.inputList.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.inputList[a];this.inputList.splice(a,1);a<b&&b--;this.inputList.splice(b,0,c);}},{key:"removeInput",value:function removeInput(a,b){for(var c=0,d;d=this.inputList[c];c++)if(d.name===a)return d instanceof StatementInput$$module$build$src$core$inputs$statement_input&&this.statementInputCount--,d.dispose(),this.inputList.splice(c,1),!0;if(b)return!1;throw Error("Input not found: "+a);}},{key:"getInput",value:function getInput(a){for(var b=0,c;c=this.inputList[b];b++)if(c.name===a)return c;return null;}},{key:"getInputTargetBlock",value:function getInputTargetBlock(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock();}},{key:"getCommentText",value:function getCommentText(){var a,b;return null!=(b=null==(a=this.getIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE))?void 0:a.getText())?b:null;}},{key:"setCommentText",value:function setCommentText(a){var b;var c;var d=null!=(c=null==(b=this.getIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE))?void 0:b.getText())?c:null;d!==a&&(null!==a?((b=this.getIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE))||(b=this.addIcon(new CommentIcon$$module$build$src$core$icons$comment_icon(this))),$.disable$$module$build$src$core$events$utils(),b.setText(a),$.enable$$module$build$src$core$events$utils()):this.removeIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE),fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,d,a)));}},{key:"setWarningText",value:function setWarningText(a,b){}},{key:"setMutator",value:function setMutator(a){}},{key:"addIcon",value:function addIcon(a){if(this.hasIcon(a.getType()))throw new DuplicateIconType$$module$build$src$core$icons$exceptions(a);this.icons.push(a);this.icons.sort(function(b,c){return b.getWeight()-c.getWeight();});return a;}},{key:"removeIcon",value:function removeIcon(a){if(!this.hasIcon(a))return!1;var b;null==(b=this.getIcon(a))||b.dispose();this.icons=this.icons.filter(function(c){return!c.getType().equals(a);});return!0;}},{key:"hasIcon",value:function hasIcon(a){return this.icons.some(function(b){return b.getType().equals(a);});}},{key:"getIcon",value:function getIcon(a){return a instanceof IconType$$module$build$src$core$icons$icon_types?this.icons.find(function(b){return b.getType().equals(a);}):this.icons.find(function(b){return b.getType().toString()===a;});}},{key:"getIcons",value:function getIcons(){return _toConsumableArray(this.icons);}},{key:"getRelativeToSurfaceXY",value:function getRelativeToSurfaceXY(){return this.xy_;}},{key:"moveBy",value:function moveBy(a,b,c){if(this.parentBlock_)throw Error("Block has parent");var d=new(get$$module$build$src$core$events$utils($.MOVE$$module$build$src$core$events$utils))(this);c&&d.setReason(c);this.xy_.translate(a,b);d.recordNew();fire$$module$build$src$core$events$utils(d);}},{key:"makeConnection_",value:function makeConnection_(a){return new Connection$$module$build$src$core$connection(this,a);}},{key:"allInputsFilled",value:function allInputsFilled(a){void 0===a&&(a=!0);if(!a&&this.isShadow())return!1;for(var c=0,d;d=this.inputList[c];c++)if(d.connection){var b=d.connection.targetBlock();if(!b||!b.allInputsFilled(a))return!1;}return(b=this.getNextBlock())?b.allInputsFilled(a):!0;}},{key:"toDevString",value:function toDevString(){var a=this.type?'"'+this.type+'" block':"Block";this.id&&(a+=' (id="'+this.id+'")');return a;}}]);return Block$$module$build$src$core$block;}();Block$$module$build$src$core$block.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;Block$$module$build$src$core$block.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;var module$build$src$core$block={};module$build$src$core$block.Block=Block$$module$build$src$core$block;var Marker$$module$build$src$core$keyboard_nav$marker=/*#__PURE__*/function(){"use strict";function Marker$$module$build$src$core$keyboard_nav$marker(){_classCallCheck(this,Marker$$module$build$src$core$keyboard_nav$marker);this.drawer=this.curNode=this.colour=null;this.type="marker";}_createClass(Marker$$module$build$src$core$keyboard_nav$marker,[{key:"setDrawer",value:function setDrawer(a){this.drawer=a;}},{key:"getDrawer",value:function getDrawer(){return this.drawer;}},{key:"getCurNode",value:function getCurNode(){return this.curNode;}},{key:"setCurNode",value:function setCurNode(a){var b=this.curNode;this.curNode=a;this.drawer&&this.drawer.draw(b,this.curNode);}},{key:"draw",value:function draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode);}},{key:"hide",value:function hide(){this.drawer&&this.drawer.hide();}},{key:"dispose",value:function dispose(){this.getDrawer()&&this.getDrawer().dispose();}}]);return Marker$$module$build$src$core$keyboard_nav$marker;}(),module$build$src$core$keyboard_nav$marker={};module$build$src$core$keyboard_nav$marker.Marker=Marker$$module$build$src$core$keyboard_nav$marker;var Cursor$$module$build$src$core$keyboard_nav$cursor=/*#__PURE__*/function(_Marker$$module$build){"use strict";_inherits(Cursor$$module$build$src$core$keyboard_nav$cursor,_Marker$$module$build);function Cursor$$module$build$src$core$keyboard_nav$cursor(){var _this64;_classCallCheck(this,Cursor$$module$build$src$core$keyboard_nav$cursor);_this64=_callSuper(this,Cursor$$module$build$src$core$keyboard_nav$cursor);_this64.type="cursor";return _this64;}_createClass(Cursor$$module$build$src$core$keyboard_nav$cursor,[{key:"next",value:function next(){var a=this.getCurNode();if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT||a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK);)a=a.next();a&&this.setCurNode(a);return a;}},{key:"in",value:function _in(){var a=this.getCurNode();if(!a)return null;if(a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS||a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.OUTPUT)a=a.next();var b,c;(a=null!=(c=null==(b=a)?void 0:b.in())?c:null)&&this.setCurNode(a);return a;}},{key:"prev",value:function prev(){var a=this.getCurNode();if(!a)return null;for(a=a.prev();a&&a.prev()&&(a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT||a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK);)a=a.prev();a&&this.setCurNode(a);return a;}},{key:"out",value:function out(){var a=this.getCurNode();if(!a)return null;(a=a.out())&&a.getType()===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.BLOCK&&(a=a.prev()||a);a&&this.setCurNode(a);return a;}}]);return Cursor$$module$build$src$core$keyboard_nav$cursor;}(Marker$$module$build$src$core$keyboard_nav$marker);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,DEFAULT$$module$build$src$core$registry,Cursor$$module$build$src$core$keyboard_nav$cursor);var module$build$src$core$keyboard_nav$cursor={};module$build$src$core$keyboard_nav$cursor.Cursor=Cursor$$module$build$src$core$keyboard_nav$cursor;var BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor=/*#__PURE__*/function(_Cursor$$module$build){"use strict";_inherits(BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor,_Cursor$$module$build);function BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor(){_classCallCheck(this,BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor);return _callSuper(this,BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor);}_createClass(BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor,[{key:"next",value:function next(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode_(a,this.validNode_))&&this.setCurNode(a);return a;}},{key:"in",value:function _in(){return this.next();}},{key:"prev",value:function prev(){var a=this.getCurNode();if(!a)return null;(a=this.getPreviousNode_(a,this.validNode_))&&this.setCurNode(a);return a;}},{key:"out",value:function out(){return this.prev();}},{key:"getNextNode_",value:function getNextNode_(a,b){if(!a)return null;var c=a.in()||a.next();if(b(c))return c;if(c)return this.getNextNode_(c,b);a=this.findSiblingOrParent(a.out());return b(a)?a:a?this.getNextNode_(a,b):null;}},{key:"getPreviousNode_",value:function getPreviousNode_(a,b){if(!a)return null;var c=a.prev();c=c?this.getRightMostChild(c):a.out();return b(c)?c:c?this.getPreviousNode_(c,b):null;}},{key:"validNode_",value:function validNode_(a){var b=!1;a=a&&a.getType();if(a===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.OUTPUT||a===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.INPUT||a===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.FIELD||a===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.NEXT||a===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.PREVIOUS||a===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.WORKSPACE)b=!0;return b;}},{key:"findSiblingOrParent",value:function findSiblingOrParent(a){if(!a)return null;var b=a.next();return b?b:this.findSiblingOrParent(a.out());}},{key:"getRightMostChild",value:function getRightMostChild(a){if(!a.in())return a;for(a=a.in();a&&a.next();)a=a.next();return this.getRightMostChild(a);}}]);return BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor;}(Cursor$$module$build$src$core$keyboard_nav$cursor);BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor.registrationName="basicCursor";register$$module$build$src$core$registry(Type$$module$build$src$core$registry.CURSOR,BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor.registrationName,BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor);var module$build$src$core$keyboard_nav$basic_cursor={};module$build$src$core$keyboard_nav$basic_cursor.BasicCursor=BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor;var TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor=/*#__PURE__*/function(_BasicCursor$$module$){"use strict";_inherits(TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor,_BasicCursor$$module$);function TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor(){_classCallCheck(this,TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor);return _callSuper(this,TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor,arguments);}_createClass(TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor,[{key:"validNode_",value:function validNode_(a){var b=!1;var c=a&&a.getType();a&&(a=a.getLocation(),c===_ASTNode$$module$build$src$core$keyboard_nav$ast_node.types.FIELD&&a&&a.isTabNavigable()&&a.isClickable()&&(b=!0));return b;}}]);return TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor;}(BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor),module$build$src$core$keyboard_nav$tab_navigate_cursor={};module$build$src$core$keyboard_nav$tab_navigate_cursor.TabNavigateCursor=TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor;var BUMP_RANDOMNESS$$module$build$src$core$rendered_connection=10,_RenderedConnection$$module$build$src$core$rendered_connection=/*#__PURE__*/function(_Connection$$module$b5){"use strict";_inherits(RenderedConnection$$module$build$src$core$rendered_connection,_Connection$$module$b5);function RenderedConnection$$module$build$src$core$rendered_connection(a,b){var _this65;_classCallCheck(this,RenderedConnection$$module$build$src$core$rendered_connection);_this65=_callSuper(this,RenderedConnection$$module$build$src$core$rendered_connection,[a,b]);_this65.targetConnection=_this65.highlightPath=null;_this65.db=a.workspace.connectionDBList[b];_this65.dbOpposite=a.workspace.connectionDBList[OPPOSITE_TYPE$$module$build$src$core$internal_constants[b]];_this65.offsetInBlock=new Coordinate$$module$build$src$core$utils$coordinate(0,0);_this65.trackedState=_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK;return _this65;}_createClass(RenderedConnection$$module$build$src$core$rendered_connection,[{key:"dispose",value:function dispose(){_get(_getPrototypeOf(RenderedConnection$$module$build$src$core$rendered_connection.prototype),"dispose",this).call(this);this.trackedState===_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);this.highlightPath&&(removeNode$$module$build$src$core$utils$dom(this.highlightPath),this.highlightPath=null);}},{key:"getSourceBlock",value:function getSourceBlock(){return _get(_getPrototypeOf(RenderedConnection$$module$build$src$core$rendered_connection.prototype),"getSourceBlock",this).call(this);}},{key:"targetBlock",value:function targetBlock(){return _get(_getPrototypeOf(RenderedConnection$$module$build$src$core$rendered_connection.prototype),"targetBlock",this).call(this);}},{key:"distanceFrom",value:function distanceFrom(a){var b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*b+a*a);}},{key:"bumpAwayFrom",value:function bumpAwayFrom(a){if(!this.sourceBlock_.workspace.isDragging()){var b=this.sourceBlock_.getRootBlock();if(!b.isInFlyout){var c=!1;if(!b.isMovable()){b=a.getSourceBlock().getRootBlock();if(!b.isMovable())return;a=this;c=!0;}var d=getSelected$$module$build$src$core$common()==b;d||b.addSelect();var e=a.x+$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection)-this.x,f=a.y+$.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection)-this.y;c&&(f=-f);b.RTL&&(e=a.x-$.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*BUMP_RANDOMNESS$$module$build$src$core$rendered_connection)-this.x);b.moveBy(e,f,["bump"]);d||b.removeSelect();}}}},{key:"moveTo",value:function moveTo(a,b){var c=!1;this.trackedState===_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.WILL_TRACK?(this.db.addConnection(this,b),this.trackedState=_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED,c=!0):this.trackedState===_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,b),c=!0);this.x=a;this.y=b;return c;}},{key:"moveBy",value:function moveBy(a,b){return this.moveTo(this.x+a,this.y+b);}},{key:"moveToOffset",value:function moveToOffset(a){return this.moveTo(a.x+this.offsetInBlock.x,a.y+this.offsetInBlock.y);}},{key:"setOffsetInBlock",value:function setOffsetInBlock(a,b){this.offsetInBlock.x=a;this.offsetInBlock.y=b;}},{key:"getOffsetInBlock",value:function getOffsetInBlock(){return this.offsetInBlock;}},{key:"tightenEfficiently",value:function tightenEfficiently(){var a=this.targetConnection;var b=this.targetBlock();a&&b&&(a=Coordinate$$module$build$src$core$utils$coordinate.difference(this.offsetInBlock,a.offsetInBlock),b.translate(a.x,a.y));}},{key:"closest",value:function closest(a,b){return this.dbOpposite.searchForClosest(this,a,b);}},{key:"highlight",value:function highlight(){if(!this.highlightPath){var a=this.sourceBlock_.workspace.getRenderer().getConstants();var b=a.shapeFor(this);this.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE||this.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?(a=a.TAB_OFFSET_FROM_TOP,b=moveBy$$module$build$src$core$utils$svg_paths(0,-a)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",a)+b.pathDown+lineOnAxis$$module$build$src$core$utils$svg_paths("v",a)):(a=a.NOTCH_OFFSET_LEFT-a.CORNER_RADIUS,b=moveBy$$module$build$src$core$utils$svg_paths(-a,0)+lineOnAxis$$module$build$src$core$utils$svg_paths("h",a)+b.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths("h",a));a=this.offsetInBlock;this.highlightPath=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyHighlightedConnectionPath",d:b,transform:`translate(${a.x}, ${a.y})`+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot());}}},{key:"unhighlight",value:function unhighlight(){this.highlightPath&&(removeNode$$module$build$src$core$utils$dom(this.highlightPath),this.highlightPath=null);}},{key:"setTracking",value:function setTracking(a){a&&this.trackedState===_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED||!a&&this.trackedState===_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(a?(this.db.addConnection(this,this.y),this.trackedState=_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED):(this.trackedState===_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState.UNTRACKED));}},{key:"stopTrackingAll",value:function stopTrackingAll(){this.setTracking(!1);if(this.targetConnection){var a=this.targetBlock().getDescendants(!1);for(var b=0;b<a.length;b++){var c=a[b],d=c.getConnections_(!0);for(var e=0;e<d.length;e++)d[e].setTracking(!1);var _iterator53=_createForOfIteratorHelper(c.getIcons()),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _e9=_step53.value;hasBubble$$module$build$src$core$interfaces$i_has_bubble(_e9)&&_e9.setBubbleVisible(!1);}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}}}}},{key:"startTrackingAll",value:function startTrackingAll(){this.setTracking(!0);var a=[];if(this.type!==ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&this.type!==ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT)return a;var b=this.targetBlock();if(b){var c;b.isCollapsed()?(c=[],b.outputConnection&&c.push(b.outputConnection),b.nextConnection&&c.push(b.nextConnection),b.previousConnection&&c.push(b.previousConnection)):c=b.getConnections_(!0);for(var d=0;d<c.length;d++){var _a5;(_a5=a).push.apply(_a5,_toConsumableArray(c[d].startTrackingAll()));}a.length||(a=[b]);}return a;}},{key:"onFailedConnect",value:function onFailedConnect(a){var b=this.getSourceBlock();if(getRecordUndo$$module$build$src$core$events$utils()){var c=$.getGroup$$module$build$src$core$events$utils();setTimeout(function(){b.isDisposed()||b.getParent()||($.setGroup$$module$build$src$core$events$utils(c),this.bumpAwayFrom(a),$.setGroup$$module$build$src$core$events$utils(!1));}.bind(this),$.config$$module$build$src$core$config.bumpDelay);}}},{key:"disconnectInternal",value:function disconnectInternal(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var _this$getParentAndChi2=this.getParentAndChildConnections(),b=_this$getParentAndChi2.parentConnection,c=_this$getParentAndChi2.childConnection;if(b&&c){var d=b.getSourceBlock(),e=c.getSourceBlock();_get(_getPrototypeOf(RenderedConnection$$module$build$src$core$rendered_connection.prototype),"disconnectInternal",this).call(this,a);d.rendered&&d.queueRender();e.rendered&&(e.updateDisabled(),e.queueRender(),e.getSvgRoot().style.display="block");}}},{key:"respawnShadow_",value:function respawnShadow_(){_get(_getPrototypeOf(RenderedConnection$$module$build$src$core$rendered_connection.prototype),"respawnShadow_",this).call(this);var a=this.targetBlock();a&&(a.initSvg(),a.queueRender());}},{key:"neighbours",value:function neighbours(a){return this.dbOpposite.getNeighbours(this,a);}},{key:"connect_",value:function connect_(a){_get(_getPrototypeOf(RenderedConnection$$module$build$src$core$rendered_connection.prototype),"connect_",this).call(this,a);var b=this.getSourceBlock();a=a.getSourceBlock();var c=b.rendered,d=a.rendered;c&&b.updateDisabled();d&&a.updateDisabled();c&&d&&(this.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||this.type===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT?a.queueRender():b.queueRender());if(b=b.getInputWithBlock(a))b=b.isVisible(),a.getSvgRoot().style.display=b?"block":"none";}},{key:"onCheckChanged_",value:function onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours());}},{key:"setCheck",value:function setCheck(a){_get(_getPrototypeOf(RenderedConnection$$module$build$src$core$rendered_connection.prototype),"setCheck",this).call(this,a);this.sourceBlock_.rendered&&this.sourceBlock_.queueRender();return this;}}]);return RenderedConnection$$module$build$src$core$rendered_connection;}(Connection$$module$build$src$core$connection);(function(a){a=a.TrackedState||(a.TrackedState={});a[a.WILL_TRACK=-1]="WILL_TRACK";a[a.UNTRACKED=0]="UNTRACKED";a[a.TRACKED=1]="TRACKED";})(_RenderedConnection$$module$build$src$core$rendered_connection||(_RenderedConnection$$module$build$src$core$rendered_connection={}));var TrackedState$$module$build$src$core$rendered_connection=_RenderedConnection$$module$build$src$core$rendered_connection.TrackedState,module$build$src$core$rendered_connection={};module$build$src$core$rendered_connection.RenderedConnection=_RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$rendered_connection.TrackedState=TrackedState$$module$build$src$core$rendered_connection;var BlockSvg$$module$build$src$core$block_svg=/*#__PURE__*/function(_Block$$module$build$){"use strict";_inherits(BlockSvg$$module$build$src$core$block_svg,_Block$$module$build$);function BlockSvg$$module$build$src$core$block_svg(a,b,c){var _this66;_classCallCheck(this,BlockSvg$$module$build$src$core$block_svg);_this66=_callSuper(this,BlockSvg$$module$build$src$core$block_svg,[a,b,c]);_this66.width=_this66.height=0;_this66.warningTextDb=new Map();_this66.warning=_this66.mutator=null;_this66.eventsInit_=_this66.renderIsInProgress_=_this66.visuallyDisabled=_this66.rendered=!1;_this66.translation="";_this66.bumpNeighboursPid=0;_this66.dragging=!1;_this66.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(0,0);_this66.workspace=a;_this66.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{});_this66.style=a.getRenderer().getConstants().getBlockStyle(null);_this66.pathObject=a.getRenderer().makePathObject(_this66.svgGroup_,_this66.style);a=_this66.pathObject.svgPath;a.tooltip=_assertThisInitialized(_this66);bindMouseEvents$$module$build$src$core$tooltip(a);_this66.svgGroup_.setAttribute("data-id",_this66.id);_this66.doInit_();return _this66;}_createClass(BlockSvg$$module$build$src$core$block_svg,[{key:"initSvg",value:function initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var b=0,c;c=this.inputList[b];b++)c.init();var _iterator54=_createForOfIteratorHelper(this.getIcons()),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var a=_step54.value;a.initView(this.createIconPointerDownListener(a)),a.updateEditable();}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}this.applyColour();this.pathObject.updateMovable(this.isMovable());a=this.getSvgRoot();this.workspace.options.readOnly||this.eventsInit_||!a||conditionalBind$$module$build$src$core$browser_events(a,"pointerdown",this,this.onMouseDown_);this.eventsInit_=!0;a.parentNode||this.workspace.getCanvas().appendChild(a);}},{key:"getColourSecondary",value:function getColourSecondary(){return this.style.colourSecondary;}},{key:"getColourTertiary",value:function getColourTertiary(){return this.style.colourTertiary;}},{key:"select",value:function select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(getSelected$$module$build$src$core$common()!==this){var a=null;if(getSelected$$module$build$src$core$common()){a=getSelected$$module$build$src$core$common().id;$.disable$$module$build$src$core$events$utils();try{getSelected$$module$build$src$core$common().unselect();}finally{$.enable$$module$build$src$core$events$utils();}}a=new(get$$module$build$src$core$events$utils(SELECTED$$module$build$src$core$events$utils))(a,this.id,this.workspace.id);fire$$module$build$src$core$events$utils(a);setSelected$$module$build$src$core$common(this);this.addSelect();}}},{key:"unselect",value:function unselect(){if(getSelected$$module$build$src$core$common()===this){var a=new(get$$module$build$src$core$events$utils(SELECTED$$module$build$src$core$events$utils))(this.id,null,this.workspace.id);a.workspaceId=this.workspace.id;fire$$module$build$src$core$events$utils(a);setSelected$$module$build$src$core$common(null);this.removeSelect();}}},{key:"setParent",value:function setParent(a){var b=this.parentBlock_;if(a!==b){startTextWidthCache$$module$build$src$core$utils$dom();_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setParent",this).call(this,a);stopTextWidthCache$$module$build$src$core$utils$dom();var c=this.getSvgRoot();if(!this.workspace.isClearing&&c){var d=this.getRelativeToSurfaceXY();a?a.getSvgRoot().appendChild(c):b&&((a=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(c,a):this.workspace.getCanvas().appendChild(c),this.translate(d.x,d.y));this.applyColour();}}}},{key:"getRelativeToSurfaceXY",value:function getRelativeToSurfaceXY(){var a=this.workspace.getLayerManager();if(!a)throw Error("Cannot calculate position because the workspace has not been appended");var b=0,c=0,d=this.getSvgRoot();if(d){do{var e=getRelativeXY$$module$build$src$core$utils$svg_math(d);b+=e.x;c+=e.y;d=d.parentNode;}while(d&&!a.hasLayer(d));}return new Coordinate$$module$build$src$core$utils$coordinate(b,c);}},{key:"moveBy",value:function moveBy(a,b,c){if(this.parentBlock_)throw Error("Block has parent");var d=isEnabled$$module$build$src$core$events$utils();var e=null;d&&(e=new(get$$module$build$src$core$events$utils($.MOVE$$module$build$src$core$events$utils))(this),c&&e.setReason(c));a=new Coordinate$$module$build$src$core$utils$coordinate(a,b);b=this.getRelativeToSurfaceXY();a=Coordinate$$module$build$src$core$utils$coordinate.sum(b,a);this.translate(a.x,a.y);this.updateComponentLocations(a);d&&e&&(e.recordNew(),fire$$module$build$src$core$events$utils(e));this.workspace.resizeContents();}},{key:"translate",value:function translate(a,b){this.translation=`translate(${a}, ${b})`;this.relativeCoords=new Coordinate$$module$build$src$core$utils$coordinate(a,b);this.getSvgRoot().setAttribute("transform",this.getTranslation());}},{key:"getTranslation",value:function getTranslation(){return this.translation;}},{key:"moveTo",value:function moveTo(a,b){var c=this.getRelativeToSurfaceXY();this.moveBy(a.x-c.x,a.y-c.y,b);}},{key:"moveDuringDrag",value:function moveDuringDrag(a){this.translate(a.x,a.y);this.getSvgRoot().setAttribute("transform",this.getTranslation());this.updateComponentLocations(a);}},{key:"snapToGrid",value:function snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var a=this.workspace.getGrid();if(a&&a.shouldSnap()){var b=a.getSpacing(),c=b/2,d=this.getRelativeToSurfaceXY();a=Math.round(Math.round((d.x-c)/b)*b+c-d.x);b=Math.round(Math.round((d.y-c)/b)*b+c-d.y);(a||b)&&this.moveBy(a,b,["snap"]);}}}},{key:"getBoundingRectangle",value:function getBoundingRectangle(){var a=this.getRelativeToSurfaceXY(),b=this.getHeightWidth();var c,d;this.RTL?(c=a.x-b.width,d=a.x):(c=a.x,d=a.x+b.width);return new Rect$$module$build$src$core$utils$rect(a.y,a.y+b.height,c,d);}},{key:"markDirty",value:function markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var a=0,b;b=this.inputList[a];a++)b.markDirty();}},{key:"setCollapsed",value:function setCollapsed(a){this.collapsed_!==a&&(_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setCollapsed",this).call(this,a),this.updateCollapsed_());}},{key:"updateCollapsed_",value:function updateCollapsed_(){var a=this.isCollapsed();var b=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,c=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;for(var e=0,f;f=this.inputList[e];e++)f.name!==b&&f.setVisible(!a);var _iterator55=_createForOfIteratorHelper(this.getIcons()),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var d=_step55.value;d.updateCollapsed();}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}a?(a=this.toString(COLLAPSE_CHARS$$module$build$src$core$internal_constants),(d=this.getField(c))?d.setValue(a):(this.getInput(b)||this.appendDummyInput(b)).appendField(new FieldLabel$$module$build$src$core$field_label(a),c)):(this.updateDisabled(),this.removeInput(b));}},{key:"tab",value:function tab(a,b){var c=new TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor();c.setCurNode(_ASTNode$$module$build$src$core$keyboard_nav$ast_node.createFieldNode(a));a=c.getCurNode();b?c.next():c.prev();(b=c.getCurNode())&&b!==a&&(b.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(b));}},{key:"onMouseDown_",value:function onMouseDown_(a){var b=this.workspace.getGesture(a);b&&b.handleBlockStart(a,this);}},{key:"showHelp",value:function showHelp(){var a="function"===typeof this.helpUrl?this.helpUrl():this.helpUrl;a&&window.open(a);}},{key:"generateContextMenu",value:function generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var a=ContextMenuRegistry$$module$build$src$core$contextmenu_registry.registry.getContextMenuOptions(ContextMenuRegistry$$module$build$src$core$contextmenu_registry.ScopeType.BLOCK,{block:this});this.customContextMenu&&this.customContextMenu(a);return a;}},{key:"showContextMenu",value:function showContextMenu(a){var b=this.generateContextMenu();b&&b.length&&(show$$module$build$src$core$contextmenu(a,b,this.RTL),setCurrentBlock$$module$build$src$core$contextmenu(this));}},{key:"updateComponentLocations",value:function updateComponentLocations(a){if(this.rendered){this.dragging||this.updateConnectionLocations(a);this.updateIconLocations(a);this.updateFieldLocations(a);var _iterator56=_createForOfIteratorHelper(this.getChildren(!1)),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var b=_step56.value;b.updateComponentLocations(Coordinate$$module$build$src$core$utils$coordinate.sum(a,b.relativeCoords));}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}}}},{key:"updateConnectionLocations",value:function updateConnectionLocations(a){var _iterator57=_createForOfIteratorHelper(this.getConnections_(!1)),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var b=_step57.value;b.moveToOffset(a);}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}}},{key:"updateIconLocations",value:function updateIconLocations(a){var _iterator58=_createForOfIteratorHelper(this.getIcons()),_step58;try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var b=_step58.value;b.onLocationChange(a);}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}}},{key:"updateFieldLocations",value:function updateFieldLocations(a){var _iterator59=_createForOfIteratorHelper(this.inputList),_step59;try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var b=_step59.value;var _iterator60=_createForOfIteratorHelper(b.fieldRow),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var c=_step60.value;c.onLocationChange(a);}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}}},{key:"setDragging",value:function setDragging(a){(this.dragging=a)?(this.translation="",draggingConnections$$module$build$src$core$common.push.apply(draggingConnections$$module$build$src$core$common,_toConsumableArray(this.getConnections_(!0))),addClass$$module$build$src$core$utils$dom(this.svgGroup_,"blocklyDragging")):(draggingConnections$$module$build$src$core$common.length=0,removeClass$$module$build$src$core$utils$dom(this.svgGroup_,"blocklyDragging"));for(var b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging(a);}},{key:"setMovable",value:function setMovable(a){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setMovable",this).call(this,a);this.pathObject.updateMovable(a);}},{key:"setEditable",value:function setEditable(a){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setEditable",this).call(this,a);a=this.getIcons();for(var b=0;b<a.length;b++)a[b].updateEditable();}},{key:"setShadow",value:function setShadow(a){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setShadow",this).call(this,a);this.applyColour();}},{key:"setInsertionMarker",value:function setInsertionMarker(a){this.isInsertionMarker_!==a&&(this.isInsertionMarker_=a)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0));}},{key:"getSvgRoot",value:function getSvgRoot(){return this.svgGroup_;}},{key:"dispose",value:function dispose(a,b){this.isDeadOrDying()||(dispose$$module$build$src$core$tooltip(),hide$$module$build$src$core$contextmenu(),b&&this.rendered&&(this.unplug(a),disposeUiEffect$$module$build$src$core$block_animations(this)),_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"dispose",this).call(this,!!a),removeNode$$module$build$src$core$utils$dom(this.svgGroup_));}},{key:"disposeInternal",value:function disposeInternal(){this.isDeadOrDying()||(_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"disposeInternal",this).call(this),this.rendered=!1,getSelected$$module$build$src$core$common()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),_toConsumableArray(this.warningTextDb.values()).forEach(function(a){return clearTimeout(a);}),this.warningTextDb.clear(),this.getIcons().forEach(function(a){return a.dispose();}));}},{key:"checkAndDelete",value:function checkAndDelete(){this.workspace.isFlyout||($.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),$.setGroup$$module$build$src$core$events$utils(!1));}},{key:"toCopyData",value:function toCopyData(){return this.isInsertionMarker_?null:{paster:BlockPaster$$module$build$src$core$clipboard$block_paster.TYPE,blockState:save$$module$build$src$core$serialization$blocks(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:getBlockTypeCounts$$module$build$src$core$common(this,!0)};}},{key:"applyColour",value:function applyColour(){this.pathObject.applyColour(this);var a=this.getIcons();for(var b=0;b<a.length;b++)a[b].applyColour();for(var _b2=0,c;c=this.inputList[_b2];_b2++)for(var d=0,e;e=c.fieldRow[d];d++)e.applyColour();}},{key:"updateDisabled",value:function updateDisabled(){var a=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===a){var b;null==(b=this.getNextBlock())||b.updateDisabled();}else{this.applyColour();this.visuallyDisabled=a;var _iterator61=_createForOfIteratorHelper(this.getChildren(!1)),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _b3=_step61.value;_b3.updateDisabled();}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}}}},{key:"getCommentIcon",value:function getCommentIcon(){warn$$module$build$src$core$utils$deprecation("getCommentIcon","v10","v11","getIcon");var a;return null!=(a=this.getIcon(CommentIcon$$module$build$src$core$icons$comment_icon.TYPE))?a:null;}},{key:"setWarningText",value:function setWarningText(a){var _this67=this;var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(b)this.warningTextDb.has(b)&&(clearTimeout(this.warningTextDb.get(b)),this.warningTextDb.delete(b));else{var _iterator62=_createForOfIteratorHelper(this.warningTextDb.values()),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var c=_step62.value;clearTimeout(c);}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}this.warningTextDb.clear();}if(this.workspace.isDragging())this.warningTextDb.set(b,setTimeout(function(){_this67.isDeadOrDying()||(_this67.warningTextDb.delete(b),_this67.setWarningText(a,b));},100));else if(this.isInFlyout&&(a=null),c=this.getIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE),a){var d=this.getSurroundParent(),e=null;for(;d;)d.isCollapsed()&&(e=d),d=d.getSurroundParent();e&&e.setWarningText($.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID);c?c.addMessage(a,b):this.addIcon(new WarningIcon$$module$build$src$core$icons$warning_icon(this).addMessage(a,b));}else c&&(b?(c.addMessage("",b),c.getText()||this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)):this.removeIcon(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE));}},{key:"setMutator",value:function setMutator(a){this.removeIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);a&&this.addIcon(a);}},{key:"addIcon",value:function addIcon(a){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"addIcon",this).call(this,a);a instanceof WarningIcon$$module$build$src$core$icons$warning_icon&&(this.warning=a);a instanceof $.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=a);this.rendered&&(a.initView(this.createIconPointerDownListener(a)),a.applyColour(),a.updateEditable(),this.queueRender(),triggerQueuedRenders$$module$build$src$core$render_management(),this.bumpNeighbours());return a;}},{key:"createIconPointerDownListener",value:function createIconPointerDownListener(a){var _this68=this;return function(b){_this68.isDeadOrDying()||(b=_this68.workspace.getGesture(b))&&b.setStartIcon(a);};}},{key:"removeIcon",value:function removeIcon(a){var b=_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"removeIcon",this).call(this,a);a.equals(WarningIcon$$module$build$src$core$icons$warning_icon.TYPE)&&(this.warning=null);a.equals($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null);this.rendered&&(this.queueRender(),triggerQueuedRenders$$module$build$src$core$render_management(),this.bumpNeighbours());return b;}},{key:"setEnabled",value:function setEnabled(a){this.isEnabled()!==a&&(_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setEnabled",this).call(this,a),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled());}},{key:"setHighlighted",value:function setHighlighted(a){this.rendered&&this.pathObject.updateHighlighted(a);}},{key:"addSelect",value:function addSelect(){this.pathObject.updateSelected(!0);}},{key:"removeSelect",value:function removeSelect(){this.pathObject.updateSelected(!1);}},{key:"setDeleteStyle",value:function setDeleteStyle(a){this.pathObject.updateDraggingDelete(a);}},{key:"getColour",value:function getColour(){return this.style.colourPrimary;}},{key:"setColour",value:function setColour(a){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setColour",this).call(this,a);a=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);this.pathObject.setStyle(a.style);this.style=a.style;this.styleName_=a.name;this.applyColour();}},{key:"setStyle",value:function setStyle(a){var b=this.workspace.getRenderer().getConstants().getBlockStyle(a);this.styleName_=a;if(b)this.hat=b.hat,this.pathObject.setStyle(b),this.colour_=b.colourPrimary,this.style=b,this.applyColour();else throw Error("Invalid style name: "+a);}},{key:"bringToFront",value:function bringToFront(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var b=this;if(!b.isDeadOrDying()){do{var c=b.getSvgRoot(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);if(a)break;b=b.getParent();}while(b);}}},{key:"setPreviousStatement",value:function setPreviousStatement(a,b){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setPreviousStatement",this).call(this,a,b);this.rendered&&(this.queueRender(),this.bumpNeighbours());}},{key:"setNextStatement",value:function setNextStatement(a,b){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setNextStatement",this).call(this,a,b);this.rendered&&(this.queueRender(),this.bumpNeighbours());}},{key:"setOutput",value:function setOutput(a,b){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setOutput",this).call(this,a,b);this.rendered&&(this.queueRender(),this.bumpNeighbours());}},{key:"setInputsInline",value:function setInputsInline(a){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"setInputsInline",this).call(this,a);this.rendered&&(this.queueRender(),this.bumpNeighbours());}},{key:"removeInput",value:function removeInput(a,b){a=_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"removeInput",this).call(this,a,b);this.rendered&&(this.queueRender(),this.bumpNeighbours());return a;}},{key:"moveNumberedInputBefore",value:function moveNumberedInputBefore(a,b){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"moveNumberedInputBefore",this).call(this,a,b);this.rendered&&(this.queueRender(),this.bumpNeighbours());}},{key:"appendInput",value:function appendInput(a){_get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"appendInput",this).call(this,a);this.rendered&&(this.queueRender(),this.bumpNeighbours());return a;}},{key:"setConnectionTracking",value:function setConnectionTracking(a){this.previousConnection&&this.previousConnection.setTracking(a);this.outputConnection&&this.outputConnection.setTracking(a);if(this.nextConnection){this.nextConnection.setTracking(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionTracking(a);}if(!this.collapsed_)for(b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.setTracking(a),(c=c.targetBlock())&&c.setConnectionTracking(a));}}},{key:"getConnections_",value:function getConnections_(a){var b=[];if(a||this.rendered)if(this.outputConnection&&b.push(this.outputConnection),this.previousConnection&&b.push(this.previousConnection),this.nextConnection&&b.push(this.nextConnection),a||!this.collapsed_)for(var c=0,d;d=this.inputList[c];c++)d.connection&&b.push(d.connection);return b;}},{key:"lastConnectionInStack",value:function lastConnectionInStack(a){return _get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"lastConnectionInStack",this).call(this,a);}},{key:"getMatchingConnection",value:function getMatchingConnection(a,b){return _get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"getMatchingConnection",this).call(this,a,b);}},{key:"makeConnection_",value:function makeConnection_(a){return new _RenderedConnection$$module$build$src$core$rendered_connection(this,a);}},{key:"getNextBlock",value:function getNextBlock(){return _get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"getNextBlock",this).call(this);}},{key:"getPreviousBlock",value:function getPreviousBlock(){return _get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"getPreviousBlock",this).call(this);}},{key:"bumpNeighbours",value:function bumpNeighbours(){var _this69=this;if(!this.bumpNeighboursPid){var a=$.getGroup$$module$build$src$core$events$utils();this.bumpNeighboursPid=setTimeout(function(){var b=$.getGroup$$module$build$src$core$events$utils();$.setGroup$$module$build$src$core$events$utils(a);_this69.getRootBlock().bumpNeighboursInternal();$.setGroup$$module$build$src$core$events$utils(b);_this69.bumpNeighboursPid=0;},$.config$$module$build$src$core$config.bumpDelay);}}},{key:"bumpNeighboursInternal",value:function bumpNeighboursInternal(){var a=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||a.isInFlyout)){var _iterator63=_createForOfIteratorHelper(this.getConnections_(!1)),_step63;try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var b=_step63.value;if(b.isSuperior()){var c=void 0;null==(c=b.targetBlock())||c.bumpNeighboursInternal();}var _iterator64=_createForOfIteratorHelper(b.neighbours($.config$$module$build$src$core$config.snapRadius)),_step64;try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var _c7=_step64.value;_c7.getSourceBlock().getRootBlock()!==a&&(b.isConnected()&&_c7.isConnected()||(b.isSuperior()?_c7.bumpAwayFrom(b):b.bumpAwayFrom(_c7)));}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}}}},{key:"scheduleSnapAndBump",value:function scheduleSnapAndBump(){var _this70=this;var a=$.getGroup$$module$build$src$core$events$utils();setTimeout(function(){$.setGroup$$module$build$src$core$events$utils(a);_this70.snapToGrid();$.setGroup$$module$build$src$core$events$utils(!1);},$.config$$module$build$src$core$config.bumpDelay/2);this.bumpNeighbours();}},{key:"positionNearConnection",value:function positionNearConnection(a,b,c){if(a.type===ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT||a.type===ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE){var d=b.x;b=b.y;d+=c.x-a.getOffsetInBlock().x;b+=c.y-a.getOffsetInBlock().y;this.moveBy(d,b);}}},{key:"getChildren",value:function getChildren(a){return _get(_getPrototypeOf(BlockSvg$$module$build$src$core$block_svg.prototype),"getChildren",this).call(this,a);}},{key:"queueRender",value:function queueRender(){return queueRender$$module$build$src$core$render_management(this);}},{key:"render",value:function render(){this.queueRender();triggerQueuedRenders$$module$build$src$core$render_management();}},{key:"renderEfficiently",value:function renderEfficiently(){this.rendered=!0;startTextWidthCache$$module$build$src$core$utils$dom();this.isCollapsed()&&this.updateCollapsed_();this.isEnabled()||this.updateDisabled();this.workspace.getRenderer().render(this);this.tightenChildrenEfficiently();stopTextWidthCache$$module$build$src$core$utils$dom();this.updateMarkers_();}},{key:"tightenChildrenEfficiently",value:function tightenChildrenEfficiently(){var _iterator65=_createForOfIteratorHelper(this.inputList),_step65;try{for(_iterator65.s();!(_step65=_iterator65.n()).done;){var a=_step65.value;var b=a.connection;b&&b.tightenEfficiently();}}catch(err){_iterator65.e(err);}finally{_iterator65.f();}this.nextConnection&&this.nextConnection.tightenEfficiently();}},{key:"updateMarkers_",value:function updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw();this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(MarkerManager$$module$build$src$core$marker_manager.LOCAL_MARKER).draw();var _iterator66=_createForOfIteratorHelper(this.inputList),_step66;try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){var a=_step66.value;var _iterator67=_createForOfIteratorHelper(a.fieldRow),_step67;try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){var b=_step67.value;b.updateMarkers_();}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}}}catch(err){_iterator66.e(err);}finally{_iterator66.f();}}},{key:"setCursorSvg",value:function setCursorSvg(a){this.pathObject.setCursorSvg(a);}},{key:"setMarkerSvg",value:function setMarkerSvg(a){this.pathObject.setMarkerSvg(a);}},{key:"getHeightWidth",value:function getHeightWidth(){var a=this.height,b=this.width;var c=this.getNextBlock();if(c){c=c.getHeightWidth();var d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;a+=c.height-d;b=Math.max(b,c.width);}return{height:a,width:b};}},{key:"fadeForReplacement",value:function fadeForReplacement(a){this.pathObject.updateReplacementFade(a);}},{key:"highlightShapeForInput",value:function highlightShapeForInput(a,b){this.pathObject.updateShapeForInputHighlight(a,b);}}]);return BlockSvg$$module$build$src$core$block_svg;}(Block$$module$build$src$core$block);BlockSvg$$module$build$src$core$block_svg.INLINE=-1;BlockSvg$$module$build$src$core$block_svg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var module$build$src$core$block_svg={};module$build$src$core$block_svg.BlockSvg=BlockSvg$$module$build$src$core$block_svg;var DragTarget$$module$build$src$core$drag_target=/*#__PURE__*/function(){"use strict";function DragTarget$$module$build$src$core$drag_target(){_classCallCheck(this,DragTarget$$module$build$src$core$drag_target);}_createClass(DragTarget$$module$build$src$core$drag_target,[{key:"onDragEnter",value:function onDragEnter(a){}},{key:"onDragOver",value:function onDragOver(a){}},{key:"onDragExit",value:function onDragExit(a){}},{key:"onDrop",value:function onDrop(a){}},{key:"getClientRect",value:function getClientRect(){return null;}},{key:"shouldPreventMove",value:function shouldPreventMove(a){return!1;}}]);return DragTarget$$module$build$src$core$drag_target;}(),module$build$src$core$drag_target={};module$build$src$core$drag_target.DragTarget=DragTarget$$module$build$src$core$drag_target;var DeleteArea$$module$build$src$core$delete_area=/*#__PURE__*/function(_DragTarget$$module$b){"use strict";_inherits(DeleteArea$$module$build$src$core$delete_area,_DragTarget$$module$b);function DeleteArea$$module$build$src$core$delete_area(){var _this71;_classCallCheck(this,DeleteArea$$module$build$src$core$delete_area);_this71=_callSuper(this,DeleteArea$$module$build$src$core$delete_area);_this71.wouldDelete_=!1;return _this71;}_createClass(DeleteArea$$module$build$src$core$delete_area,[{key:"wouldDelete",value:function wouldDelete(a,b){a instanceof BlockSvg$$module$build$src$core$block_svg?(a=!a.getParent()&&a.isDeletable(),this.updateWouldDelete_(a&&!b)):this.updateWouldDelete_(a.isDeletable());return this.wouldDelete_;}},{key:"updateWouldDelete_",value:function updateWouldDelete_(a){this.wouldDelete_=a;}}]);return DeleteArea$$module$build$src$core$delete_area;}(DragTarget$$module$build$src$core$drag_target),module$build$src$core$delete_area={};module$build$src$core$delete_area.DeleteArea=DeleteArea$$module$build$src$core$delete_area;var Trashcan$$module$build$src$core$trashcan=/*#__PURE__*/function(_DeleteArea$$module$b){"use strict";_inherits(Trashcan$$module$build$src$core$trashcan,_DeleteArea$$module$b);function Trashcan$$module$build$src$core$trashcan(a){var _this72;_classCallCheck(this,Trashcan$$module$build$src$core$trashcan);_this72=_callSuper(this,Trashcan$$module$build$src$core$trashcan);_this72.workspace=a;_this72.id="trashcan";_this72.contents=[];_this72.flyout=null;_this72.isLidOpen=!1;_this72.minOpenness=0;_this72.lidTask=_this72.svgLid=_this72.svgGroup=null;_this72.top=_this72.left=_this72.lidOpen=0;_this72.initialized=!1;0>=_this72.workspace.options.maxTrashcanContents||(a=new Options$$module$build$src$core$options({scrollbars:!0,parentWorkspace:_this72.workspace,rtl:_this72.workspace.RTL,oneBasedIndex:_this72.workspace.options.oneBasedIndex,renderer:_this72.workspace.options.renderer,rendererOverrides:_this72.workspace.options.rendererOverrides,move:{scrollbars:!0}}),_this72.workspace.horizontalLayout?(a.toolboxPosition=_this72.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?Position$$module$build$src$core$utils$toolbox.BOTTOM:Position$$module$build$src$core$utils$toolbox.TOP,_this72.flyout=new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,_this72.workspace.options,!0))(a)):(a.toolboxPosition=_this72.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?Position$$module$build$src$core$utils$toolbox.LEFT:Position$$module$build$src$core$utils$toolbox.RIGHT,_this72.flyout=new(getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,_this72.workspace.options,!0))(a)),_this72.workspace.addChangeListener(_this72.onDelete.bind(_assertThisInitialized(_this72))));return _this72;}_createClass(Trashcan$$module$build$src$core$trashcan,[{key:"createDom",value:function createDom(){this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyTrash"});var a;var b=String(Math.random()).substring(2);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,height:BODY_HEIGHT$$module$build$src$core$trashcan,y:LID_HEIGHT$$module$build$src$core$trashcan},a);var c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,y:-SPRITE_TOP$$module$build$src$core$trashcan,"clip-path":"url(#blocklyTrashBodyClipPath"+b+")"},this.svgGroup);c.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+b},this.svgGroup);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{width:WIDTH$$module$build$src$core$trashcan,height:LID_HEIGHT$$module$build$src$core$trashcan},a);this.svgLid=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{width:SPRITE$$module$build$src$core$sprites.width,x:-SPRITE_LEFT$$module$build$src$core$trashcan,height:SPRITE$$module$build$src$core$sprites.height,y:-SPRITE_TOP$$module$build$src$core$trashcan,"clip-path":"url(#blocklyTrashLidClipPath"+b+")"},this.svgGroup);this.svgLid.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.workspace.options.pathToMedia+SPRITE$$module$build$src$core$sprites.url);bind$$module$build$src$core$browser_events(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable);bind$$module$build$src$core$browser_events(this.svgGroup,"pointerup",this,this.click);bind$$module$build$src$core$browser_events(c,"pointerover",this,this.mouseOver);bind$$module$build$src$core$browser_events(c,"pointerout",this,this.mouseOut);this.animateLid();return this.svgGroup;}},{key:"init",value:function init(){0<this.workspace.options.maxTrashcanContents&&(insertAfter$$module$build$src$core$utils$dom(this.flyout.createDom(Svg$$module$build$src$core$utils$svg.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace));this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET,ComponentManager$$module$build$src$core$component_manager.Capability.POSITIONABLE]});this.initialized=!0;this.setLidOpen(!1);}},{key:"dispose",value:function dispose(){this.workspace.getComponentManager().removeComponent("trashcan");this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.lidTask&&clearTimeout(this.lidTask);}},{key:"hasContents",value:function hasContents(){return!!this.contents.length;}},{key:"contentsIsOpen",value:function contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible();}},{key:"openFlyout",value:function openFlyout(){var _this73=this;if(!this.contentsIsOpen()){var a=this.contents.map(function(c){return JSON.parse(c);}),b=this.workspace.getParentSvg().style;b.cursor="wait";setTimeout(function(){var c;null==(c=_this73.flyout)||c.show(a);b.cursor="";var d;null==(d=_this73.workspace.scrollbar)||d.setVisible(!1);},10);this.fireUiEvent(!0);}}},{key:"closeFlyout",value:function closeFlyout(){if(this.contentsIsOpen()){var a;null==(a=this.flyout)||a.hide();var b;null==(b=this.workspace.scrollbar)||b.setVisible(!0);this.fireUiEvent(!1);this.workspace.recordDragTargets();}}},{key:"autoHide",value:function autoHide(a){!a&&this.flyout&&this.closeFlyout();}},{key:"emptyContents",value:function emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout());}},{key:"position",value:function position(a,b){if(this.initialized){var c=getCornerOppositeToolbox$$module$build$src$core$positionable_helpers(this.workspace,a);a=getStartPositionRect$$module$build$src$core$positionable_helpers(c,new Size$$module$build$src$core$utils$size(WIDTH$$module$build$src$core$trashcan,BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan),MARGIN_HORIZONTAL$$module$build$src$core$trashcan,MARGIN_VERTICAL$$module$build$src$core$trashcan,a,this.workspace);b=bumpPositionRect$$module$build$src$core$positionable_helpers(a,MARGIN_VERTICAL$$module$build$src$core$trashcan,c.vertical===verticalPosition$$module$build$src$core$positionable_helpers.TOP?bumpDirection$$module$build$src$core$positionable_helpers.DOWN:bumpDirection$$module$build$src$core$positionable_helpers.UP,b);this.top=b.top;this.left=b.left;var d;null==(d=this.svgGroup)||d.setAttribute("transform","translate("+this.left+","+this.top+")");}}},{key:"getBoundingRectangle",value:function getBoundingRectangle(){return new Rect$$module$build$src$core$utils$rect(this.top,this.top+BODY_HEIGHT$$module$build$src$core$trashcan+LID_HEIGHT$$module$build$src$core$trashcan,this.left,this.left+WIDTH$$module$build$src$core$trashcan);}},{key:"getClientRect",value:function getClientRect(){if(!this.svgGroup)return null;var a=this.svgGroup.getBoundingClientRect();var b=a.top+SPRITE_TOP$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;a=a.left+SPRITE_LEFT$$module$build$src$core$trashcan-MARGIN_HOTSPOT$$module$build$src$core$trashcan;return new Rect$$module$build$src$core$utils$rect(b,b+LID_HEIGHT$$module$build$src$core$trashcan+BODY_HEIGHT$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan,a,a+WIDTH$$module$build$src$core$trashcan+2*MARGIN_HOTSPOT$$module$build$src$core$trashcan);}},{key:"onDragOver",value:function onDragOver(a){this.setLidOpen(this.wouldDelete_);}},{key:"onDragExit",value:function onDragExit(a){this.setLidOpen(!1);}},{key:"onDrop",value:function onDrop(a){setTimeout(this.setLidOpen.bind(this,!1),100);}},{key:"setLidOpen",value:function setLidOpen(a){this.isLidOpen!==a&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=a,this.animateLid());}},{key:"animateLid",value:function animateLid(){var a=ANIMATION_FRAMES$$module$build$src$core$trashcan;var b=1/(a+1);this.lidOpen+=this.isLidOpen?b:-b;this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1);this.setLidAngle(this.lidOpen*MAX_LID_ANGLE$$module$build$src$core$trashcan);b=OPACITY_MIN$$module$build$src$core$trashcan+this.lidOpen*(OPACITY_MAX$$module$build$src$core$trashcan-OPACITY_MIN$$module$build$src$core$trashcan);this.svgGroup&&(this.svgGroup.style.opacity=`${b}`);this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),ANIMATION_LENGTH$$module$build$src$core$trashcan/a));}},{key:"setLidAngle",value:function setLidAngle(a){var b=this.workspace.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;var c;null==(c=this.svgLid)||c.setAttribute("transform","rotate("+(b?-a:a)+","+(b?4:WIDTH$$module$build$src$core$trashcan-4)+","+(LID_HEIGHT$$module$build$src$core$trashcan-2)+")");}},{key:"setMinOpenness",value:function setMinOpenness(a){this.minOpenness=a;this.isLidOpen||this.setLidAngle(a*MAX_LID_ANGLE$$module$build$src$core$trashcan);}},{key:"closeLid",value:function closeLid(){this.setLidOpen(!1);}},{key:"click",value:function click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout();}},{key:"fireUiEvent",value:function fireUiEvent(a){a=new(get$$module$build$src$core$events$utils(TRASHCAN_OPEN$$module$build$src$core$events$utils))(a,this.workspace.id);fire$$module$build$src$core$events$utils(a);}},{key:"blockMouseDownWhenOpenable",value:function blockMouseDownWhenOpenable(a){!this.contentsIsOpen()&&this.hasContents()&&a.stopPropagation();}},{key:"mouseOver",value:function mouseOver(){this.hasContents()&&this.setLidOpen(!0);}},{key:"mouseOut",value:function mouseOut(){this.setLidOpen(!1);}},{key:"onDelete",value:function onDelete(a){if(!(0>=this.workspace.options.maxTrashcanContents||a.type!==$.DELETE$$module$build$src$core$events$utils||a.type!==$.DELETE$$module$build$src$core$events$utils||a.wasShadow)){if(!a.oldJson)throw Error("Encountered a delete event without proper oldJson");a=JSON.stringify(this.cleanBlockJson(a.oldJson));if(-1===this.contents.indexOf(a)){for(this.contents.unshift(a);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan);}}}},{key:"cleanBlockJson",value:function cleanBlockJson(a){function b(c){if(c){delete c.id;delete c.x;delete c.y;delete c.enabled;if(c.icons&&c.icons.comment){var d=c.icons.comment;delete d.height;delete d.width;delete d.pinned;}d=c.inputs;for(var e in d){var f=d[e];var g=f.block;f=f.shadow;g&&b(g);f&&b(f);}c.next&&(e=c.next,c=e.block,e=e.shadow,c&&b(c),e&&b(e));}}a=JSON.parse(JSON.stringify(a));b(a);return Object.assign({},{kind:"BLOCK"},a);}}]);return Trashcan$$module$build$src$core$trashcan;}(DeleteArea$$module$build$src$core$delete_area),WIDTH$$module$build$src$core$trashcan=47,BODY_HEIGHT$$module$build$src$core$trashcan=44,LID_HEIGHT$$module$build$src$core$trashcan=16,MARGIN_VERTICAL$$module$build$src$core$trashcan=20,MARGIN_HORIZONTAL$$module$build$src$core$trashcan=20,MARGIN_HOTSPOT$$module$build$src$core$trashcan=10,SPRITE_LEFT$$module$build$src$core$trashcan=0,SPRITE_TOP$$module$build$src$core$trashcan=32,HAS_BLOCKS_LID_ANGLE$$module$build$src$core$trashcan=.1,ANIMATION_LENGTH$$module$build$src$core$trashcan=80,ANIMATION_FRAMES$$module$build$src$core$trashcan=4,OPACITY_MIN$$module$build$src$core$trashcan=.4,OPACITY_MAX$$module$build$src$core$trashcan=.8,MAX_LID_ANGLE$$module$build$src$core$trashcan=45,module$build$src$core$trashcan={};module$build$src$core$trashcan.Trashcan=Trashcan$$module$build$src$core$trashcan;var _ShortcutRegistry$$module$build$src$core$shortcut_registry=/*#__PURE__*/function(){"use strict";function ShortcutRegistry$$module$build$src$core$shortcut_registry(){_classCallCheck(this,ShortcutRegistry$$module$build$src$core$shortcut_registry);this.shortcuts=new Map();this.keyMap=new Map();this.reset();}_createClass(ShortcutRegistry$$module$build$src$core$shortcut_registry,[{key:"reset",value:function reset(){this.shortcuts.clear();this.keyMap.clear();}},{key:"register",value:function register(a,b){if(this.shortcuts.get(a.name)&&!b)throw Error(`Shortcut named "${a.name}" already exists.`);this.shortcuts.set(a.name,a);if((b=a.keyCodes)&&0<b.length)for(var c=0;c<b.length;c++)this.addKeyMapping(b[c],a.name,!!a.allowCollision);}},{key:"unregister",value:function unregister(a){if(!this.shortcuts.get(a))return console.warn(`Keyboard shortcut named "${a}" not found.`),!1;this.removeAllKeyMappings(a);this.shortcuts.delete(a);return!0;}},{key:"addKeyMapping",value:function addKeyMapping(a,b,c){a=`${a}`;var d=this.keyMap.get(a);if(d&&!c)throw Error(`Shortcut named "${b}" collides with shortcuts "${d}"`);d&&c?d.unshift(b):this.keyMap.set(a,[b]);}},{key:"removeKeyMapping",value:function removeKeyMapping(a,b,c){var d=this.keyMap.get(a);if(!d)return c||console.warn(`No keyboard shortcut named "${b}" registered with key code "${a}"`),!1;var e=d.indexOf(b);if(-1<e)return d.splice(e,1),0===d.length&&this.keyMap.delete(a),!0;c||console.warn(`No keyboard shortcut named "${b}" registered with key code "${a}"`);return!1;}},{key:"removeAllKeyMappings",value:function removeAllKeyMappings(a){var _iterator68=_createForOfIteratorHelper(this.keyMap.keys()),_step68;try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var b=_step68.value;this.removeKeyMapping(b,a,!0);}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}}},{key:"setKeyMap",value:function setKeyMap(a){this.keyMap.clear();for(var b in a)this.keyMap.set(b,a[b]);}},{key:"getKeyMap",value:function getKeyMap(){var a=Object.create(null);var _iterator69=_createForOfIteratorHelper(this.keyMap),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _step69$value=_slicedToArray(_step69.value,2),b=_step69$value[0],c=_step69$value[1];a[b]=c;}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}return a;}},{key:"getRegistry",value:function getRegistry(){var a=Object.create(null);var _iterator70=_createForOfIteratorHelper(this.shortcuts),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _step70$value=_slicedToArray(_step70.value,2),b=_step70$value[0],c=_step70$value[1];a[b]=c;}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}return _deepMerge$$module$build$src$core$utils$object(Object.create(null),a);}},{key:"onKeyDown",value:function onKeyDown(a,b){var c=this.serializeKeyEvent_(b);c=this.getShortcutNamesByKeyCode(c);if(!c)return!1;for(var d=0,e;e=c[d];d++){var f=this.shortcuts.get(e);var g=void 0,h=void 0;if(null==(g=f)||!g.preconditionFn||(null==(h=f)?0:h.preconditionFn(a))){var k=void 0,l=void 0;if((null==(k=f)?0:k.callback)&&(null==(l=f)?0:l.callback(a,b,f)))return!0;}}return!1;}},{key:"getShortcutNamesByKeyCode",value:function getShortcutNamesByKeyCode(a){return this.keyMap.get(a)||[];}},{key:"getKeyCodesByShortcutName",value:function getKeyCodesByShortcutName(a){var b=[];var _iterator71=_createForOfIteratorHelper(this.keyMap),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _step71$value=_slicedToArray(_step71.value,2),c=_step71$value[0],d=_step71$value[1];-1<d.indexOf(a)&&b.push(c);}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}return b;}},{key:"serializeKeyEvent_",value:function serializeKeyEvent_(a){var b="";for(var c in _ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)a.getModifierState(c)&&(""!==b&&(b+="+"),b+=c);""!==b&&a.keyCode?b=b+"+"+a.keyCode:a.keyCode&&(b=String(a.keyCode));return b;}},{key:"checkModifiers_",value:function checkModifiers_(a){for(var b=0,c;c=a[b];b++)if(!(c in _ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys))throw Error(c+" is not a valid modifier key.");}},{key:"createSerializedKey",value:function createSerializedKey(a,b){var c="";if(b){this.checkModifiers_(b);for(var d in _ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys)-1<b.indexOf(_ShortcutRegistry$$module$build$src$core$shortcut_registry.modifierKeys[d])&&(""!==c&&(c+="+"),c+=d);}""!==c&&a?c=c+"+"+a:a&&(c=`${a}`);return c;}}]);return ShortcutRegistry$$module$build$src$core$shortcut_registry;}();_ShortcutRegistry$$module$build$src$core$shortcut_registry.registry=new _ShortcutRegistry$$module$build$src$core$shortcut_registry();(function(a){a=a.modifierKeys||(a.modifierKeys={});a[a.Shift=16]="Shift";a[a.Control=17]="Control";a[a.Alt=18]="Alt";a[a.Meta=91]="Meta";})(_ShortcutRegistry$$module$build$src$core$shortcut_registry||(_ShortcutRegistry$$module$build$src$core$shortcut_registry={}));var module$build$src$core$shortcut_registry={};module$build$src$core$shortcut_registry.ShortcutRegistry=_ShortcutRegistry$$module$build$src$core$shortcut_registry;var module$build$src$core$interfaces$i_copyable={};module$build$src$core$interfaces$i_copyable.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;var names$$module$build$src$core$shortcut_items;(function(a){a.ESCAPE="escape";a.DELETE="delete";a.COPY="copy";a.CUT="cut";a.PASTE="paste";a.UNDO="undo";a.REDO="redo";})(names$$module$build$src$core$shortcut_items||(names$$module$build$src$core$shortcut_items={}));var copyData$$module$build$src$core$shortcut_items=null,copyWorkspace$$module$build$src$core$shortcut_items=null;registerDefaultShortcuts$$module$build$src$core$shortcut_items();var module$build$src$core$shortcut_items={};module$build$src$core$shortcut_items.names=names$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerCopy=registerCopy$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerCut=registerCut$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDefaultShortcuts=registerDefaultShortcuts$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerDelete=registerDelete$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerEscape=registerEscape$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerPaste=registerPaste$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerRedo=registerRedo$$module$build$src$core$shortcut_items;module$build$src$core$shortcut_items.registerUndo=registerUndo$$module$build$src$core$shortcut_items;var ProcedureSerializer$$module$build$src$core$serialization$procedures=/*#__PURE__*/function(){"use strict";function ProcedureSerializer$$module$build$src$core$serialization$procedures(a,b){_classCallCheck(this,ProcedureSerializer$$module$build$src$core$serialization$procedures);this.procedureModelClass=a;this.parameterModelClass=b;this.priority=PROCEDURES$$module$build$src$core$serialization$priorities;}_createClass(ProcedureSerializer$$module$build$src$core$serialization$procedures,[{key:"save",value:function save(a){a=a.getProcedureMap().getProcedures().map(function(b){return saveProcedure$$module$build$src$core$serialization$procedures(b);});return a.length?a:null;}},{key:"load",value:function load(a,b){var c=b.getProcedureMap();var _iterator72=_createForOfIteratorHelper(a),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var d=_step72.value;c.add(loadProcedure$$module$build$src$core$serialization$procedures(this.procedureModelClass,this.parameterModelClass,d,b));}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}}},{key:"clear",value:function clear(a){a.getProcedureMap().clear();}}]);return ProcedureSerializer$$module$build$src$core$serialization$procedures;}(),module$build$src$core$serialization$procedures={};module$build$src$core$serialization$procedures.ProcedureSerializer=ProcedureSerializer$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.loadParameter=loadParameter$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.loadProcedure=loadProcedure$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.saveParameter=saveParameter$$module$build$src$core$serialization$procedures;module$build$src$core$serialization$procedures.saveProcedure=saveProcedure$$module$build$src$core$serialization$procedures;var VariableSerializer$$module$build$src$core$serialization$variables=/*#__PURE__*/function(){"use strict";function VariableSerializer$$module$build$src$core$serialization$variables(){_classCallCheck(this,VariableSerializer$$module$build$src$core$serialization$variables);this.priority=VARIABLES$$module$build$src$core$serialization$priorities;}_createClass(VariableSerializer$$module$build$src$core$serialization$variables,[{key:"save",value:function save(a){var b=[];var _iterator73=_createForOfIteratorHelper(a.getAllVariables()),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var c=_step73.value;a={name:c.name,id:c.getId()},c.type&&(a.type=c.type),b.push(a);}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}return b.length?b:null;}},{key:"load",value:function load(a,b){var _iterator74=_createForOfIteratorHelper(a),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var c=_step74.value;b.createVariable(c.name,c.type,c.id);}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}}},{key:"clear",value:function clear(a){a.getVariableMap().clear();}}]);return VariableSerializer$$module$build$src$core$serialization$variables;}();register$$module$build$src$core$serialization$registry("variables",new VariableSerializer$$module$build$src$core$serialization$variables());var module$build$src$core$serialization$variables={};module$build$src$core$serialization$variables.VariableSerializer=VariableSerializer$$module$build$src$core$serialization$variables;var module$build$src$core$serialization$workspaces={};module$build$src$core$serialization$workspaces.load=load$$module$build$src$core$serialization$workspaces;module$build$src$core$serialization$workspaces.save=save$$module$build$src$core$serialization$workspaces;var module$build$src$core$serialization={blocks:module$build$src$core$serialization$blocks,exceptions:module$build$src$core$serialization$exceptions,priorities:module$build$src$core$serialization$priorities,procedures:module$build$src$core$serialization$procedures,registry:module$build$src$core$serialization$registry,variables:module$build$src$core$serialization$variables,workspaces:module$build$src$core$serialization$workspaces};var ScrollbarPair$$module$build$src$core$scrollbar_pair=/*#__PURE__*/function(){"use strict";function ScrollbarPair$$module$build$src$core$scrollbar_pair(a,b,c,d,e){_classCallCheck(this,ScrollbarPair$$module$build$src$core$scrollbar_pair);this.workspace=a;this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null;b=void 0===b?!0:b;c=void 0===c?!0:c;var f=b&&c;b&&(this.hScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!0,f,d,e));c&&(this.vScroll=new Scrollbar$$module$build$src$core$scrollbar(a,!1,f,d,e));f&&(this.corner_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{height:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,width:Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness,"class":"blocklyScrollbarBackground"}),insertAfter$$module$build$src$core$utils$dom(this.corner_,a.getBubbleCanvas()));}_createClass(ScrollbarPair$$module$build$src$core$scrollbar_pair,[{key:"dispose",value:function dispose(){removeNode$$module$build$src$core$utils$dom(this.corner_);this.oldHostMetrics_=this.corner_=null;this.hScroll&&(this.hScroll.dispose(),this.hScroll=null);this.vScroll&&(this.vScroll.dispose(),this.vScroll=null);}},{key:"resize",value:function resize(){var a=this.workspace.getMetrics();if(a){var b=!1,c=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===a.viewWidth&&this.oldHostMetrics_.viewHeight===a.viewHeight&&this.oldHostMetrics_.absoluteTop===a.absoluteTop&&this.oldHostMetrics_.absoluteLeft===a.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===a.scrollWidth&&this.oldHostMetrics_.viewLeft===a.viewLeft&&this.oldHostMetrics_.scrollLeft===a.scrollLeft||(b=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===a.scrollHeight&&this.oldHostMetrics_.viewTop===a.viewTop&&this.oldHostMetrics_.scrollTop===a.scrollTop||(c=!0)):c=b=!0;if(b||c){try{$.disable$$module$build$src$core$events$utils(),this.hScroll&&b&&this.hScroll.resize(a),this.vScroll&&c&&this.vScroll.resize(a);}finally{$.enable$$module$build$src$core$events$utils();}this.workspace.maybeFireViewportChangeEvent();}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==a.viewWidth||this.oldHostMetrics_.absoluteLeft!==a.absoluteLeft){var d;null==(d=this.corner_)||d.setAttribute("x",String(this.vScroll.position.x));}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==a.viewHeight||this.oldHostMetrics_.absoluteTop!==a.absoluteTop){var _d7;null==(_d7=this.corner_)||_d7.setAttribute("y",String(this.hScroll.position.y));}}this.oldHostMetrics_=a;}}},{key:"canScrollHorizontally",value:function canScrollHorizontally(){return!!this.hScroll;}},{key:"canScrollVertically",value:function canScrollVertically(){return!!this.vScroll;}},{key:"setOrigin",value:function setOrigin(a,b){this.hScroll&&this.hScroll.setOrigin(a,b);this.vScroll&&this.vScroll.setOrigin(a,b);}},{key:"set",value:function set(a,b,c){this.hScroll&&this.hScroll.set(a,!1);this.vScroll&&this.vScroll.set(b,!1);if(c||void 0===c)a={},this.hScroll&&(a.x=this.hScroll.getRatio_()),this.vScroll&&(a.y=this.vScroll.getRatio_()),this.workspace.setMetrics(a);}},{key:"setX",value:function setX(a){this.hScroll&&this.hScroll.set(a,!0);}},{key:"setY",value:function setY(a){this.vScroll&&this.vScroll.set(a,!0);}},{key:"setContainerVisible",value:function setContainerVisible(a){this.hScroll&&this.hScroll.setContainerVisible(a);this.vScroll&&this.vScroll.setContainerVisible(a);}},{key:"isVisible",value:function isVisible(){var a=!1;this.hScroll&&(a=this.hScroll.isVisible());this.vScroll&&(a=a||this.vScroll.isVisible());return a;}},{key:"setVisible",value:function setVisible(a){this.hScroll&&this.hScroll.setVisibleInternal(a);this.vScroll&&this.vScroll.setVisibleInternal(a);}},{key:"resizeContent",value:function resizeContent(a){this.hScroll&&this.hScroll.resizeContentHorizontal(a);this.vScroll&&this.vScroll.resizeContentVertical(a);}},{key:"resizeView",value:function resizeView(a){this.hScroll&&this.hScroll.resizeViewHorizontal(a);this.vScroll&&this.vScroll.resizeViewVertical(a);}}]);return ScrollbarPair$$module$build$src$core$scrollbar_pair;}(),module$build$src$core$scrollbar_pair={};module$build$src$core$scrollbar_pair.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;var MetricsManager$$module$build$src$core$metrics_manager=/*#__PURE__*/function(){"use strict";function MetricsManager$$module$build$src$core$metrics_manager(a){_classCallCheck(this,MetricsManager$$module$build$src$core$metrics_manager);this.workspace_=a;}_createClass(MetricsManager$$module$build$src$core$metrics_manager,[{key:"getDimensionsPx_",value:function getDimensionsPx_(a){var b=0,c=0;a&&(b=a.getWidth(),c=a.getHeight());return new Size$$module$build$src$core$utils$size(b,c);}},{key:"getFlyoutMetrics",value:function getFlyoutMetrics(a){a=this.getDimensionsPx_(this.workspace_.getFlyout(a));return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition};}},{key:"getToolboxMetrics",value:function getToolboxMetrics(){var a=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:a.width,height:a.height,position:this.workspace_.toolboxPosition};}},{key:"getSvgMetrics",value:function getSvgMetrics(){return this.workspace_.getCachedParentSvgSize();}},{key:"getAbsoluteMetrics",value:function getAbsoluteMetrics(){var a=0,b=0;var c=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;var g=!(null==(f=this.workspace_.getFlyout())?0:f.autoClose);f=e?c.position:d.position;var h=f===Position$$module$build$src$core$utils$toolbox.TOP;f===Position$$module$build$src$core$utils$toolbox.LEFT&&(e&&(a+=c.width),g&&(a+=d.width));h&&(e&&(b+=c.height),g&&(b+=d.height));return{top:b,left:a};}},{key:"getViewMetrics",value:function getViewMetrics(a){a=a?this.workspace_.scale:1;var b=this.getSvgMetrics(),c=this.getToolboxMetrics(),d=this.getFlyoutMetrics(),e=!!this.workspace_.getToolbox();var f;var g=!(null==(f=this.workspace_.getFlyout())?0:f.autoClose);f=e?c.position:d.position;var h=f===Position$$module$build$src$core$utils$toolbox.LEFT||f===Position$$module$build$src$core$utils$toolbox.RIGHT;if(f===Position$$module$build$src$core$utils$toolbox.TOP||f===Position$$module$build$src$core$utils$toolbox.BOTTOM)e&&(b.height-=c.height),g&&(b.height-=d.height);h&&(e&&(b.width-=c.width),g&&(b.width-=d.width));return{height:b.height/a,width:b.width/a,top:-this.workspace_.scrollY/a,left:-this.workspace_.scrollX/a};}},{key:"getContentMetrics",value:function getContentMetrics(a){a=a?1:this.workspace_.scale;var b=this.workspace_.getBlocksBoundingBox();return{height:(b.bottom-b.top)*a,width:(b.right-b.left)*a,top:b.top*a,left:b.left*a};}},{key:"hasFixedEdges",value:function hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically();}},{key:"getComputedFixedEdges_",value:function getComputedFixedEdges_(a){if(!this.hasFixedEdges())return{};var b=this.workspace_.isMovableHorizontally(),c=this.workspace_.isMovableVertically();a=a||this.getViewMetrics(!1);var d={};c||(d.top=a.top,d.bottom=a.top+a.height);b||(d.left=a.left,d.right=a.left+a.width);return d;}},{key:"getPaddedContent_",value:function getPaddedContent_(a,b){var c=b.top+b.height,d=b.left+b.width,e=a.width;a=a.height;var f=e/2,g=a/2;return{top:Math.min(b.top-g,c-a),bottom:Math.max(c+g,b.top+a),left:Math.min(b.left-f,d-e),right:Math.max(d+f,b.left+e)};}},{key:"getScrollMetrics",value:function getScrollMetrics(a,b,c){a=a?this.workspace_.scale:1;b=b||this.getViewMetrics(!1);var d=c||this.getContentMetrics();c=this.getComputedFixedEdges_(b);b=this.getPaddedContent_(b,d);d=void 0!==c.top?c.top:b.top;var e=void 0!==c.left?c.left:b.left;return{top:d/a,left:e/a,width:((void 0!==c.right?c.right:b.right)-e)/a,height:((void 0!==c.bottom?c.bottom:b.bottom)-d)/a};}},{key:"getUiMetrics",value:function getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()};}},{key:"getMetrics",value:function getMetrics(){var a=this.getToolboxMetrics(),b=this.getFlyoutMetrics(!0),c=this.getSvgMetrics(),d=this.getAbsoluteMetrics(),e=this.getViewMetrics(),f=this.getContentMetrics(),g=this.getScrollMetrics(!1,e,f);return{contentHeight:f.height,contentWidth:f.width,contentTop:f.top,contentLeft:f.left,scrollHeight:g.height,scrollWidth:g.width,scrollTop:g.top,scrollLeft:g.left,viewHeight:e.height,viewWidth:e.width,viewTop:e.top,viewLeft:e.left,absoluteTop:d.top,absoluteLeft:d.left,svgHeight:c.height,svgWidth:c.width,toolboxWidth:a.width,toolboxHeight:a.height,toolboxPosition:a.position,flyoutWidth:b.width,flyoutHeight:b.height};}}]);return MetricsManager$$module$build$src$core$metrics_manager;}();register$$module$build$src$core$registry(Type$$module$build$src$core$registry.METRICS_MANAGER,DEFAULT$$module$build$src$core$registry,MetricsManager$$module$build$src$core$metrics_manager);var module$build$src$core$metrics_manager={};module$build$src$core$metrics_manager.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;var FinishedLoading$$module$build$src$core$events$workspace_events=/*#__PURE__*/function(_Abstract$$module$bui4){"use strict";_inherits(FinishedLoading$$module$build$src$core$events$workspace_events,_Abstract$$module$bui4);function FinishedLoading$$module$build$src$core$events$workspace_events(a){var _this74;_classCallCheck(this,FinishedLoading$$module$build$src$core$events$workspace_events);_this74=_callSuper(this,FinishedLoading$$module$build$src$core$events$workspace_events);_this74.isBlank=!0;_this74.recordUndo=!1;_this74.type=FINISHED_LOADING$$module$build$src$core$events$utils;_this74.isBlank=!!a;a&&(_this74.workspaceId=a.id);return _this74;}return _createClass(FinishedLoading$$module$build$src$core$events$workspace_events);}(Abstract$$module$build$src$core$events$events_abstract);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,FINISHED_LOADING$$module$build$src$core$events$utils,FinishedLoading$$module$build$src$core$events$workspace_events);var module$build$src$core$events$workspace_events={};module$build$src$core$events$workspace_events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;var BlockDrag$$module$build$src$core$events$events_block_drag=/*#__PURE__*/function(_UiBase$$module$build7){"use strict";_inherits(BlockDrag$$module$build$src$core$events$events_block_drag,_UiBase$$module$build7);function BlockDrag$$module$build$src$core$events$events_block_drag(a,b,c){var _this75;_classCallCheck(this,BlockDrag$$module$build$src$core$events$events_block_drag);_this75=_callSuper(this,BlockDrag$$module$build$src$core$events$events_block_drag,[a?a.workspace.id:void 0]);_this75.type=BLOCK_DRAG$$module$build$src$core$events$utils;a&&(_this75.blockId=a.id,_this75.isStart=b,_this75.blocks=c);return _this75;}_createClass(BlockDrag$$module$build$src$core$events$events_block_drag,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BlockDrag$$module$build$src$core$events$events_block_drag.prototype),"toJson",this).call(this);if(void 0===this.isStart)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(void 0===this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");a.isStart=this.isStart;a.blockId=this.blockId;a.blocks=this.blocks;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BlockDrag$$module$build$src$core$events$events_block_drag),"fromJson",this).call(this,a,b,null!=c?c:new BlockDrag$$module$build$src$core$events$events_block_drag());b.isStart=a.isStart;b.blockId=a.blockId;b.blocks=a.blocks;return b;}}]);return BlockDrag$$module$build$src$core$events$events_block_drag;}(UiBase$$module$build$src$core$events$events_ui_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,BLOCK_DRAG$$module$build$src$core$events$utils,BlockDrag$$module$build$src$core$events$events_block_drag);var module$build$src$core$events$events_block_drag={};module$build$src$core$events$events_block_drag.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;var bumpIntoBounds$$module$build$src$core$bump_objects=bumpObjectIntoBounds$$module$build$src$core$bump_objects,module$build$src$core$bump_objects={};module$build$src$core$bump_objects.bumpIntoBounds=bumpObjectIntoBounds$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpIntoBoundsHandler=bumpIntoBoundsHandler$$module$build$src$core$bump_objects;module$build$src$core$bump_objects.bumpTopObjectsIntoBounds=bumpTopObjectsIntoBounds$$module$build$src$core$bump_objects;var BlockDragger$$module$build$src$core$block_dragger=/*#__PURE__*/function(){"use strict";function BlockDragger$$module$build$src$core$block_dragger(a,b){_classCallCheck(this,BlockDragger$$module$build$src$core$block_dragger);this.dragTarget_=null;this.wouldDeleteBlock_=!1;this.dragIconData_=[];this.draggingBlock_=a;this.draggedConnectionManager_=new _InsertionMarkerManager$$module$build$src$core$insertion_marker_manager(this.draggingBlock_);this.workspace_=b;this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY();this.dragIconData_=_initIconData$$module$build$src$core$block_dragger(a,this.startXY_);}_createClass(BlockDragger$$module$build$src$core$block_dragger,[{key:"dispose",value:function dispose(){this.dragIconData_.length=0;this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose();}},{key:"startDrag",value:function startDrag(a,b){$.getGroup$$module$build$src$core$events$utils()||$.setGroup$$module$build$src$core$events$utils(!0);this.fireDragStartEvent_();this.draggingBlock_.bringToFront(!0);startTextWidthCache$$module$build$src$core$utils$dom();this.workspace_.setResizesEnabled(!1);disconnectUiStop$$module$build$src$core$block_animations();this.shouldDisconnect_(b)&&this.disconnectBlock_(b,a);this.draggingBlock_.setDragging(!0);var c;null==(c=this.workspace_.getLayerManager())||c.moveToDragLayer(this.draggingBlock_);}},{key:"shouldDisconnect_",value:function shouldDisconnect_(a){return!!(this.draggingBlock_.getParent()||a&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock());}},{key:"disconnectBlock_",value:function disconnectBlock_(a,b){this.draggingBlock_.unplug(a);a=this.pixelsToWorkspaceUnits_(b);a=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startXY_,a);this.draggingBlock_.translate(a.x,a.y);disconnectUiEffect$$module$build$src$core$block_animations(this.draggingBlock_);this.draggedConnectionManager_.updateAvailableConnections();}},{key:"fireDragStartEvent_",value:function fireDragStartEvent_(){var a=new(get$$module$build$src$core$events$utils(BLOCK_DRAG$$module$build$src$core$events$utils))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));fire$$module$build$src$core$events$utils(a);}},{key:"drag",value:function drag(a,b){b=this.pixelsToWorkspaceUnits_(b);var c=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startXY_,b);this.draggingBlock_.moveDuringDrag(c);c=this.dragTarget_;this.dragTarget_=this.workspace_.getDragTarget(a);this.draggedConnectionManager_.update(b,this.dragTarget_);a=this.wouldDeleteBlock_;this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock;a!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_();this.dragTarget_!==c&&(c&&c.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_));this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_);}},{key:"endDrag",value:function endDrag(a,b){this.drag(a,b);this.fireDragEndEvent_();stopTextWidthCache$$module$build$src$core$utils$dom();disconnectUiStop$$module$build$src$core$block_animations();a=null;this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)||(a=this.getNewLocationAfterDrag_(b).delta);if(this.dragTarget_)this.dragTarget_.onDrop(this.draggingBlock_);if(!this.maybeDeleteBlock_()){var c;null==(c=this.workspace_.getLayerManager())||c.moveOffDragLayer(this.draggingBlock_,BLOCK$$module$build$src$core$layers);this.draggingBlock_.setDragging(!1);a?this.updateBlockAfterMove_():bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_);}this.workspace_.setResizesEnabled(!0);$.setGroup$$module$build$src$core$events$utils(!1);}},{key:"getNewLocationAfterDrag_",value:function getNewLocationAfterDrag_(a){a=this.pixelsToWorkspaceUnits_(a);var b=Coordinate$$module$build$src$core$utils$coordinate.sum(this.startXY_,a);return{delta:a,newLocation:b};}},{key:"maybeDeleteBlock_",value:function maybeDeleteBlock_(){return this.wouldDeleteBlock_?(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),draggingConnections$$module$build$src$core$common.length=0,!0):!1;}},{key:"updateBlockAfterMove_",value:function updateBlockAfterMove_(){this.fireMoveEvent_();this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.queueRender();this.draggingBlock_.scheduleSnapAndBump();}},{key:"fireDragEndEvent_",value:function fireDragEndEvent_(){var a=new(get$$module$build$src$core$events$utils(BLOCK_DRAG$$module$build$src$core$events$utils))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));fire$$module$build$src$core$events$utils(a);}},{key:"updateToolboxStyle_",value:function updateToolboxStyle_(a){var b=this.workspace_.getToolbox();if(b){var c=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";a&&"function"===typeof b.removeStyle?b.removeStyle(c):a||"function"!==typeof b.addStyle||b.addStyle(c);}}},{key:"fireMoveEvent_",value:function fireMoveEvent_(){if(!this.draggingBlock_.isDeadOrDying()){var a=new(get$$module$build$src$core$events$utils($.MOVE$$module$build$src$core$events$utils))(this.draggingBlock_);a.setReason(["drag"]);a.oldCoordinate=this.startXY_;a.recordNew();fire$$module$build$src$core$events$utils(a);}}},{key:"updateCursorDuringBlockDrag_",value:function updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_);}},{key:"pixelsToWorkspaceUnits_",value:function pixelsToWorkspaceUnits_(a){a=new Coordinate$$module$build$src$core$utils$coordinate(a.x/this.workspace_.scale,a.y/this.workspace_.scale);this.workspace_.isMutator&&a.scale(1/this.workspace_.options.parentWorkspace.scale);return a;}},{key:"dragIcons_",value:function dragIcons_(){warn$$module$build$src$core$utils$deprecation("Blockly.BlockDragger.prototype.dragIcons_","v10","v11");}},{key:"getInsertionMarkers",value:function getInsertionMarkers(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[];}}]);return BlockDragger$$module$build$src$core$block_dragger;}();register$$module$build$src$core$registry(Type$$module$build$src$core$registry.BLOCK_DRAGGER,DEFAULT$$module$build$src$core$registry,BlockDragger$$module$build$src$core$block_dragger);var module$build$src$core$block_dragger={};module$build$src$core$block_dragger.BlockDragger=BlockDragger$$module$build$src$core$block_dragger;var module$build$src$core$bubbles={};module$build$src$core$bubbles.Bubble=Bubble$$module$build$src$core$bubbles$bubble;module$build$src$core$bubbles.MiniWorkspaceBubble=MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble;module$build$src$core$bubbles.TextBubble=TextBubble$$module$build$src$core$bubbles$text_bubble;module$build$src$core$bubbles.TextInputBubble=TextInputBubble$$module$build$src$core$bubbles$textinput_bubble;var BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change=/*#__PURE__*/function(_BlockBase$$module$bu4){"use strict";_inherits(BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change,_BlockBase$$module$bu4);function BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change(a,b,c,d){var _this76;_classCallCheck(this,BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);_this76=_callSuper(this,BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change,[a]);_this76.type=BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils;_this76.recordUndo=!1;a&&(_this76.name=b,_this76.oldValue=c,_this76.newValue=d);return _this76;}_createClass(BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change.prototype),"toJson",this).call(this);if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");a.name=this.name;a.oldValue=this.oldValue;a.newValue=this.newValue;return a;}},{key:"isNull",value:function isNull(){return this.oldValue===this.newValue;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");b=b.getBlockById(this.blockId);if(!b)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");a=a?this.newValue:this.oldValue;(b=b.getField(this.name))?b.setValue(a):console.warn("Can't set non-existent field: "+this.name);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change),"fromJson",this).call(this,a,b,null!=c?c:new BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change());b.name=a.name;b.oldValue=a.oldValue;b.newValue=a.newValue;return b;}}]);return BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;}(BlockBase$$module$build$src$core$events$events_block_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils,BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change);var module$build$src$core$events$events_block_field_intermediate_change={};module$build$src$core$events$events_block_field_intermediate_change.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;var BlockMove$$module$build$src$core$events$events_block_move=/*#__PURE__*/function(_BlockBase$$module$bu5){"use strict";_inherits(BlockMove$$module$build$src$core$events$events_block_move,_BlockBase$$module$bu5);function BlockMove$$module$build$src$core$events$events_block_move(a){var _this77;_classCallCheck(this,BlockMove$$module$build$src$core$events$events_block_move);_this77=_callSuper(this,BlockMove$$module$build$src$core$events$events_block_move,[a]);_this77.type=$.MOVE$$module$build$src$core$events$utils;a&&(a.isShadow()&&(_this77.recordUndo=!1),a=_this77.currentLocation_(),_this77.oldParentId=a.parentId,_this77.oldInputName=a.inputName,_this77.oldCoordinate=a.coordinate);return _this77;}_createClass(BlockMove$$module$build$src$core$events$events_block_move,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BlockMove$$module$build$src$core$events$events_block_move.prototype),"toJson",this).call(this);a.oldParentId=this.oldParentId;a.oldInputName=this.oldInputName;this.oldCoordinate&&(a.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, `+`${Math.round(this.oldCoordinate.y)}`);a.newParentId=this.newParentId;a.newInputName=this.newInputName;this.newCoordinate&&(a.newCoordinate=`${Math.round(this.newCoordinate.x)}, `+`${Math.round(this.newCoordinate.y)}`);this.reason&&(a.reason=this.reason);this.recordUndo||(a.recordUndo=this.recordUndo);return a;}},{key:"recordNew",value:function recordNew(){var a=this.currentLocation_();this.newParentId=a.parentId;this.newInputName=a.inputName;this.newCoordinate=a.coordinate;}},{key:"setReason",value:function setReason(a){this.reason=a;}},{key:"currentLocation_",value:function currentLocation_(){var a=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var b=a.getBlockById(this.blockId);if(!b)throw Error("The block associated with the block move event could not be found");a={};var c=b.getParent();if(c){if(a.parentId=c.id,b=c.getInputWithBlock(b))a.inputName=b.name;}else a.coordinate=b.getRelativeToSurfaceXY();return a;}},{key:"isNull",value:function isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate,this.newCoordinate);}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;a=a?this.newCoordinate:this.oldCoordinate;if(d){var f=b.getBlockById(d);if(!f){console.warn("Can't connect to non-existent block: "+d);return;}}c.getParent()&&c.unplug();if(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y,this.reason);else{b=c.outputConnection;if(!b||c.previousConnection&&c.previousConnection.isConnected())b=c.previousConnection;var g,h;c=null==(h=b)?void 0:h.type;if(e){if(c=f.getInput(e))g=c.connection;}else c===ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT&&(g=f.nextConnection);g&&b?b.connect(g):console.warn("Can't connect to non-existent input: "+e);}}else console.warn("Can't move non-existent block: "+this.blockId);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BlockMove$$module$build$src$core$events$events_block_move),"fromJson",this).call(this,a,b,null!=c?c:new BlockMove$$module$build$src$core$events$events_block_move());b.oldParentId=a.oldParentId;b.oldInputName=a.oldInputName;a.oldCoordinate&&(c=a.oldCoordinate.split(","),b.oldCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));b.newParentId=a.newParentId;b.newInputName=a.newInputName;a.newCoordinate&&(c=a.newCoordinate.split(","),b.newCoordinate=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1])));void 0!==a.reason&&(b.reason=a.reason);void 0!==a.recordUndo&&(b.recordUndo=a.recordUndo);return b;}}]);return BlockMove$$module$build$src$core$events$events_block_move;}(BlockBase$$module$build$src$core$events$events_block_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,$.MOVE$$module$build$src$core$events$utils,BlockMove$$module$build$src$core$events$events_block_move);var module$build$src$core$events$events_block_move={};module$build$src$core$events$events_block_move.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;var BubbleOpen$$module$build$src$core$events$events_bubble_open=/*#__PURE__*/function(_UiBase$$module$build8){"use strict";_inherits(BubbleOpen$$module$build$src$core$events$events_bubble_open,_UiBase$$module$build8);function BubbleOpen$$module$build$src$core$events$events_bubble_open(a,b,c){var _this78;_classCallCheck(this,BubbleOpen$$module$build$src$core$events$events_bubble_open);_this78=_callSuper(this,BubbleOpen$$module$build$src$core$events$events_bubble_open,[a?a.workspace.id:void 0]);_this78.type=BUBBLE_OPEN$$module$build$src$core$events$utils;a&&(_this78.blockId=a.id,_this78.isOpen=b,_this78.bubbleType=c);return _this78;}_createClass(BubbleOpen$$module$build$src$core$events$events_bubble_open,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(BubbleOpen$$module$build$src$core$events$events_bubble_open.prototype),"toJson",this).call(this);if(void 0===this.isOpen)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");a.isOpen=this.isOpen;a.bubbleType=this.bubbleType;a.blockId=this.blockId||"";return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(BubbleOpen$$module$build$src$core$events$events_bubble_open),"fromJson",this).call(this,a,b,null!=c?c:new BubbleOpen$$module$build$src$core$events$events_bubble_open());b.isOpen=a.isOpen;b.bubbleType=a.bubbleType;b.blockId=a.blockId;return b;}}]);return BubbleOpen$$module$build$src$core$events$events_bubble_open;}(UiBase$$module$build$src$core$events$events_ui_base),BubbleType$$module$build$src$core$events$events_bubble_open;(function(a){a.MUTATOR="mutator";a.COMMENT="comment";a.WARNING="warning";})(BubbleType$$module$build$src$core$events$events_bubble_open||(BubbleType$$module$build$src$core$events$events_bubble_open={}));register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,BUBBLE_OPEN$$module$build$src$core$events$utils,BubbleOpen$$module$build$src$core$events$events_bubble_open);var module$build$src$core$events$events_bubble_open={};module$build$src$core$events$events_bubble_open.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events_bubble_open.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;var CommentBase$$module$build$src$core$events$events_comment_base=/*#__PURE__*/function(_Abstract$$module$bui5){"use strict";_inherits(CommentBase$$module$build$src$core$events$events_comment_base,_Abstract$$module$bui5);function CommentBase$$module$build$src$core$events$events_comment_base(a){var _this79;_classCallCheck(this,CommentBase$$module$build$src$core$events$events_comment_base);_this79=_callSuper(this,CommentBase$$module$build$src$core$events$events_comment_base);_this79.isBlank=!a;a&&(_this79.commentId=a.id,_this79.workspaceId=a.workspace.id,_this79.group=$.getGroup$$module$build$src$core$events$utils(),_this79.recordUndo=getRecordUndo$$module$build$src$core$events$utils());return _this79;}_createClass(CommentBase$$module$build$src$core$events$events_comment_base,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(CommentBase$$module$build$src$core$events$events_comment_base.prototype),"toJson",this).call(this);if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");a.commentId=this.commentId;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(CommentBase$$module$build$src$core$events$events_comment_base),"fromJson",this).call(this,a,b,null!=c?c:new CommentBase$$module$build$src$core$events$events_comment_base());b.commentId=a.commentId;return b;}},{key:"CommentCreateDeleteHelper",value:function CommentCreateDeleteHelper(a,b){var c=a.getEventWorkspace_();if(b){b=$.createElement$$module$build$src$core$utils$xml("xml");if(!a.xml)throw Error("Ecountered a comment event without proper xml");b.appendChild(a.xml);$.domToWorkspace$$module$build$src$core$xml(b,c);}else{if(!a.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(c=c.getCommentById(a.commentId))?c.dispose():console.warn("Can't uncreate non-existent comment: "+a.commentId);}}}]);return CommentBase$$module$build$src$core$events$events_comment_base;}(Abstract$$module$build$src$core$events$events_abstract),module$build$src$core$events$events_comment_base={};module$build$src$core$events$events_comment_base.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;var CommentChange$$module$build$src$core$events$events_comment_change=/*#__PURE__*/function(_CommentBase$$module$){"use strict";_inherits(CommentChange$$module$build$src$core$events$events_comment_change,_CommentBase$$module$);function CommentChange$$module$build$src$core$events$events_comment_change(a,b,c){var _this80;_classCallCheck(this,CommentChange$$module$build$src$core$events$events_comment_change);_this80=_callSuper(this,CommentChange$$module$build$src$core$events$events_comment_change,[a]);_this80.type=COMMENT_CHANGE$$module$build$src$core$events$utils;a&&(_this80.oldContents_="undefined"===typeof b?"":b,_this80.newContents_="undefined"===typeof c?"":c);return _this80;}_createClass(CommentChange$$module$build$src$core$events$events_comment_change,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(CommentChange$$module$build$src$core$events$events_comment_change.prototype),"toJson",this).call(this);if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");a.oldContents=this.oldContents_;a.newContents=this.newContents_;return a;}},{key:"isNull",value:function isNull(){return this.oldContents_===this.newContents_;}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(b=b.getCommentById(this.commentId)){var c=a?this.newContents_:this.oldContents_;if(!c){if(a)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");}b.setContent(c);}else console.warn("Can't change non-existent comment: "+this.commentId);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(CommentChange$$module$build$src$core$events$events_comment_change),"fromJson",this).call(this,a,b,null!=c?c:new CommentChange$$module$build$src$core$events$events_comment_change());b.oldContents_=a.oldContents;b.newContents_=a.newContents;return b;}}]);return CommentChange$$module$build$src$core$events$events_comment_change;}(CommentBase$$module$build$src$core$events$events_comment_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,COMMENT_CHANGE$$module$build$src$core$events$utils,CommentChange$$module$build$src$core$events$events_comment_change);var module$build$src$core$events$events_comment_change={};module$build$src$core$events$events_comment_change.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;var CommentCreate$$module$build$src$core$events$events_comment_create=/*#__PURE__*/function(_CommentBase$$module$2){"use strict";_inherits(CommentCreate$$module$build$src$core$events$events_comment_create,_CommentBase$$module$2);function CommentCreate$$module$build$src$core$events$events_comment_create(a){var _this81;_classCallCheck(this,CommentCreate$$module$build$src$core$events$events_comment_create);_this81=_callSuper(this,CommentCreate$$module$build$src$core$events$events_comment_create,[a]);_this81.type=COMMENT_CREATE$$module$build$src$core$events$utils;a&&(_this81.xml=a.toXmlWithXY());return _this81;}_createClass(CommentCreate$$module$build$src$core$events$events_comment_create,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(CommentCreate$$module$build$src$core$events$events_comment_create.prototype),"toJson",this).call(this);if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");a.xml=domToText$$module$build$src$core$xml(this.xml);return a;}},{key:"run",value:function run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,a);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(CommentCreate$$module$build$src$core$events$events_comment_create),"fromJson",this).call(this,a,b,null!=c?c:new CommentCreate$$module$build$src$core$events$events_comment_create());b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);return b;}}]);return CommentCreate$$module$build$src$core$events$events_comment_create;}(CommentBase$$module$build$src$core$events$events_comment_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,COMMENT_CREATE$$module$build$src$core$events$utils,CommentCreate$$module$build$src$core$events$events_comment_create);var module$build$src$core$events$events_comment_create={};module$build$src$core$events$events_comment_create.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;var CommentDelete$$module$build$src$core$events$events_comment_delete=/*#__PURE__*/function(_CommentBase$$module$3){"use strict";_inherits(CommentDelete$$module$build$src$core$events$events_comment_delete,_CommentBase$$module$3);function CommentDelete$$module$build$src$core$events$events_comment_delete(a){var _this82;_classCallCheck(this,CommentDelete$$module$build$src$core$events$events_comment_delete);_this82=_callSuper(this,CommentDelete$$module$build$src$core$events$events_comment_delete,[a]);_this82.type=COMMENT_DELETE$$module$build$src$core$events$utils;a&&(_this82.xml=a.toXmlWithXY());return _this82;}_createClass(CommentDelete$$module$build$src$core$events$events_comment_delete,[{key:"run",value:function run(a){CommentBase$$module$build$src$core$events$events_comment_base.CommentCreateDeleteHelper(this,!a);}},{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(CommentDelete$$module$build$src$core$events$events_comment_delete.prototype),"toJson",this).call(this);if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");a.xml=domToText$$module$build$src$core$xml(this.xml);return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(CommentDelete$$module$build$src$core$events$events_comment_delete),"fromJson",this).call(this,a,b,null!=c?c:new CommentDelete$$module$build$src$core$events$events_comment_delete());b.xml=$.textToDom$$module$build$src$core$utils$xml(a.xml);return b;}}]);return CommentDelete$$module$build$src$core$events$events_comment_delete;}(CommentBase$$module$build$src$core$events$events_comment_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,COMMENT_DELETE$$module$build$src$core$events$utils,CommentDelete$$module$build$src$core$events$events_comment_delete);var module$build$src$core$events$events_comment_delete={};module$build$src$core$events$events_comment_delete.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;var CommentMove$$module$build$src$core$events$events_comment_move=/*#__PURE__*/function(_CommentBase$$module$4){"use strict";_inherits(CommentMove$$module$build$src$core$events$events_comment_move,_CommentBase$$module$4);function CommentMove$$module$build$src$core$events$events_comment_move(a){var _this83;_classCallCheck(this,CommentMove$$module$build$src$core$events$events_comment_move);_this83=_callSuper(this,CommentMove$$module$build$src$core$events$events_comment_move,[a]);_this83.type=COMMENT_MOVE$$module$build$src$core$events$utils;a&&(_this83.comment_=a,_this83.oldCoordinate_=a.getRelativeToSurfaceXY());return _this83;}_createClass(CommentMove$$module$build$src$core$events$events_comment_move,[{key:"recordNew",value:function recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY();}},{key:"setOldCoordinate",value:function setOldCoordinate(a){this.oldCoordinate_=a;}},{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(CommentMove$$module$build$src$core$events$events_comment_move.prototype),"toJson",this).call(this);if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");a.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, `+`${Math.round(this.oldCoordinate_.y)}`;a.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y);return a;}},{key:"isNull",value:function isNull(){return Coordinate$$module$build$src$core$utils$coordinate.equals(this.oldCoordinate_,this.newCoordinate_);}},{key:"run",value:function run(a){var b=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(b=b.getCommentById(this.commentId)){a=a?this.newCoordinate_:this.oldCoordinate_;if(!a)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var c=b.getRelativeToSurfaceXY();b.moveBy(a.x-c.x,a.y-c.y);}else console.warn("Can't move non-existent comment: "+this.commentId);}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(CommentMove$$module$build$src$core$events$events_comment_move),"fromJson",this).call(this,a,b,null!=c?c:new CommentMove$$module$build$src$core$events$events_comment_move());c=a.oldCoordinate.split(",");b.oldCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));c=a.newCoordinate.split(",");b.newCoordinate_=new Coordinate$$module$build$src$core$utils$coordinate(Number(c[0]),Number(c[1]));return b;}}]);return CommentMove$$module$build$src$core$events$events_comment_move;}(CommentBase$$module$build$src$core$events$events_comment_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,COMMENT_MOVE$$module$build$src$core$events$utils,CommentMove$$module$build$src$core$events$events_comment_move);var module$build$src$core$events$events_comment_move={};module$build$src$core$events$events_comment_move.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;var ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select=/*#__PURE__*/function(_UiBase$$module$build9){"use strict";_inherits(ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select,_UiBase$$module$build9);function ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select(a,b,c){var _this84;_classCallCheck(this,ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);_this84=_callSuper(this,ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select,[c]);_this84.type=TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils;_this84.oldItem=null!=a?a:void 0;_this84.newItem=null!=b?b:void 0;return _this84;}_createClass(ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select,[{key:"toJson",value:function toJson(){var a=_get(_getPrototypeOf(ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select.prototype),"toJson",this).call(this);a.oldItem=this.oldItem;a.newItem=this.newItem;return a;}}],[{key:"fromJson",value:function fromJson(a,b,c){b=_get(_getPrototypeOf(ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select),"fromJson",this).call(this,a,b,null!=c?c:new ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select());b.oldItem=a.oldItem;b.newItem=a.newItem;return b;}}]);return ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;}(UiBase$$module$build$src$core$events$events_ui_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.EVENT,TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils,ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select);var module$build$src$core$events$events_toolbox_item_select={};module$build$src$core$events$events_toolbox_item_select.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;var BLOCK_CHANGE$$module$build$src$core$events$events=$.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE$$module$build$src$core$events$events=$.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE$$module$build$src$core$events$events=$.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG$$module$build$src$core$events$events=BLOCK_DRAG$$module$build$src$core$events$utils,BLOCK_MOVE$$module$build$src$core$events$events=$.MOVE$$module$build$src$core$events$utils,BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$events=BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils,BUBBLE_OPEN$$module$build$src$core$events$events=BUBBLE_OPEN$$module$build$src$core$events$utils,BUMP_EVENTS$$module$build$src$core$events$events=BUMP_EVENTS$$module$build$src$core$events$utils,CHANGE$$module$build$src$core$events$events=$.CHANGE$$module$build$src$core$events$utils,CLICK$$module$build$src$core$events$events=CLICK$$module$build$src$core$events$utils,COMMENT_CHANGE$$module$build$src$core$events$events=COMMENT_CHANGE$$module$build$src$core$events$utils,COMMENT_CREATE$$module$build$src$core$events$events=COMMENT_CREATE$$module$build$src$core$events$utils,COMMENT_DELETE$$module$build$src$core$events$events=COMMENT_DELETE$$module$build$src$core$events$utils,COMMENT_MOVE$$module$build$src$core$events$events=COMMENT_MOVE$$module$build$src$core$events$utils,CREATE$$module$build$src$core$events$events=$.CREATE$$module$build$src$core$events$utils,DELETE$$module$build$src$core$events$events=$.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING$$module$build$src$core$events$events=FINISHED_LOADING$$module$build$src$core$events$utils,MARKER_MOVE$$module$build$src$core$events$events=MARKER_MOVE$$module$build$src$core$events$utils,MOVE$$module$build$src$core$events$events=$.MOVE$$module$build$src$core$events$utils,SELECTED$$module$build$src$core$events$events=SELECTED$$module$build$src$core$events$utils,THEME_CHANGE$$module$build$src$core$events$events=THEME_CHANGE$$module$build$src$core$events$utils,TOOLBOX_ITEM_SELECT$$module$build$src$core$events$events=TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils,TRASHCAN_OPEN$$module$build$src$core$events$events=TRASHCAN_OPEN$$module$build$src$core$events$utils,UI$$module$build$src$core$events$events=UI$$module$build$src$core$events$utils,VAR_CREATE$$module$build$src$core$events$events=VAR_CREATE$$module$build$src$core$events$utils,VAR_DELETE$$module$build$src$core$events$events=VAR_DELETE$$module$build$src$core$events$utils,VAR_RENAME$$module$build$src$core$events$events=VAR_RENAME$$module$build$src$core$events$utils,VIEWPORT_CHANGE$$module$build$src$core$events$events=VIEWPORT_CHANGE$$module$build$src$core$events$utils,clearPendingUndo$$module$build$src$core$events$events=clearPendingUndo$$module$build$src$core$events$utils,disable$$module$build$src$core$events$events=$.disable$$module$build$src$core$events$utils,enable$$module$build$src$core$events$events=$.enable$$module$build$src$core$events$utils,filter$$module$build$src$core$events$events=filter$$module$build$src$core$events$utils,fire$$module$build$src$core$events$events=fire$$module$build$src$core$events$utils,fromJson$$module$build$src$core$events$events=fromJson$$module$build$src$core$events$utils,getDescendantIds$$module$build$src$core$events$events=getDescendantIds$$module$build$src$core$events$utils,get$$module$build$src$core$events$events=get$$module$build$src$core$events$utils,getGroup$$module$build$src$core$events$events=$.getGroup$$module$build$src$core$events$utils,getRecordUndo$$module$build$src$core$events$events=getRecordUndo$$module$build$src$core$events$utils,isEnabled$$module$build$src$core$events$events=isEnabled$$module$build$src$core$events$utils,setGroup$$module$build$src$core$events$events=$.setGroup$$module$build$src$core$events$utils,setRecordUndo$$module$build$src$core$events$events=setRecordUndo$$module$build$src$core$events$utils,disableOrphans$$module$build$src$core$events$events=disableOrphans$$module$build$src$core$events$utils,module$build$src$core$events$events={};module$build$src$core$events$events.Abstract=Abstract$$module$build$src$core$events$events_abstract;module$build$src$core$events$events.BLOCK_CHANGE=$.CHANGE$$module$build$src$core$events$utils;module$build$src$core$events$events.BLOCK_CREATE=$.CREATE$$module$build$src$core$events$utils;module$build$src$core$events$events.BLOCK_DELETE=$.DELETE$$module$build$src$core$events$utils;module$build$src$core$events$events.BLOCK_DRAG=BLOCK_DRAG$$module$build$src$core$events$utils;module$build$src$core$events$events.BLOCK_FIELD_INTERMEDIATE_CHANGE=BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils;module$build$src$core$events$events.BLOCK_MOVE=$.MOVE$$module$build$src$core$events$utils;module$build$src$core$events$events.BUBBLE_OPEN=BUBBLE_OPEN$$module$build$src$core$events$utils;module$build$src$core$events$events.BUMP_EVENTS=BUMP_EVENTS$$module$build$src$core$events$utils;module$build$src$core$events$events.BlockBase=BlockBase$$module$build$src$core$events$events_block_base;module$build$src$core$events$events.BlockChange=BlockChange$$module$build$src$core$events$events_block_change;module$build$src$core$events$events.BlockCreate=BlockCreate$$module$build$src$core$events$events_block_create;module$build$src$core$events$events.BlockDelete=BlockDelete$$module$build$src$core$events$events_block_delete;module$build$src$core$events$events.BlockDrag=BlockDrag$$module$build$src$core$events$events_block_drag;module$build$src$core$events$events.BlockFieldIntermediateChange=BlockFieldIntermediateChange$$module$build$src$core$events$events_block_field_intermediate_change;module$build$src$core$events$events.BlockMove=BlockMove$$module$build$src$core$events$events_block_move;module$build$src$core$events$events.BubbleOpen=BubbleOpen$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events.BubbleType=BubbleType$$module$build$src$core$events$events_bubble_open;module$build$src$core$events$events.CHANGE=$.CHANGE$$module$build$src$core$events$utils;module$build$src$core$events$events.CLICK=CLICK$$module$build$src$core$events$utils;module$build$src$core$events$events.COMMENT_CHANGE=COMMENT_CHANGE$$module$build$src$core$events$utils;module$build$src$core$events$events.COMMENT_CREATE=COMMENT_CREATE$$module$build$src$core$events$utils;module$build$src$core$events$events.COMMENT_DELETE=COMMENT_DELETE$$module$build$src$core$events$utils;module$build$src$core$events$events.COMMENT_MOVE=COMMENT_MOVE$$module$build$src$core$events$utils;module$build$src$core$events$events.CREATE=$.CREATE$$module$build$src$core$events$utils;module$build$src$core$events$events.Click=Click$$module$build$src$core$events$events_click;module$build$src$core$events$events.ClickTarget=ClickTarget$$module$build$src$core$events$events_click;module$build$src$core$events$events.CommentBase=CommentBase$$module$build$src$core$events$events_comment_base;module$build$src$core$events$events.CommentChange=CommentChange$$module$build$src$core$events$events_comment_change;module$build$src$core$events$events.CommentCreate=CommentCreate$$module$build$src$core$events$events_comment_create;module$build$src$core$events$events.CommentDelete=CommentDelete$$module$build$src$core$events$events_comment_delete;module$build$src$core$events$events.CommentMove=CommentMove$$module$build$src$core$events$events_comment_move;module$build$src$core$events$events.DELETE=$.DELETE$$module$build$src$core$events$utils;module$build$src$core$events$events.FINISHED_LOADING=FINISHED_LOADING$$module$build$src$core$events$utils;module$build$src$core$events$events.FinishedLoading=FinishedLoading$$module$build$src$core$events$workspace_events;module$build$src$core$events$events.MARKER_MOVE=MARKER_MOVE$$module$build$src$core$events$utils;module$build$src$core$events$events.MOVE=$.MOVE$$module$build$src$core$events$utils;module$build$src$core$events$events.MarkerMove=MarkerMove$$module$build$src$core$events$events_marker_move;module$build$src$core$events$events.SELECTED=SELECTED$$module$build$src$core$events$utils;module$build$src$core$events$events.Selected=Selected$$module$build$src$core$events$events_selected;module$build$src$core$events$events.THEME_CHANGE=THEME_CHANGE$$module$build$src$core$events$utils;module$build$src$core$events$events.TOOLBOX_ITEM_SELECT=TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils;module$build$src$core$events$events.TRASHCAN_OPEN=TRASHCAN_OPEN$$module$build$src$core$events$utils;module$build$src$core$events$events.ThemeChange=ThemeChange$$module$build$src$core$events$events_theme_change;module$build$src$core$events$events.ToolboxItemSelect=ToolboxItemSelect$$module$build$src$core$events$events_toolbox_item_select;module$build$src$core$events$events.TrashcanOpen=TrashcanOpen$$module$build$src$core$events$events_trashcan_open;module$build$src$core$events$events.UI=UI$$module$build$src$core$events$utils;module$build$src$core$events$events.UiBase=UiBase$$module$build$src$core$events$events_ui_base;module$build$src$core$events$events.VAR_CREATE=VAR_CREATE$$module$build$src$core$events$utils;module$build$src$core$events$events.VAR_DELETE=VAR_DELETE$$module$build$src$core$events$utils;module$build$src$core$events$events.VAR_RENAME=VAR_RENAME$$module$build$src$core$events$utils;module$build$src$core$events$events.VIEWPORT_CHANGE=VIEWPORT_CHANGE$$module$build$src$core$events$utils;module$build$src$core$events$events.VarBase=VarBase$$module$build$src$core$events$events_var_base;module$build$src$core$events$events.VarCreate=VarCreate$$module$build$src$core$events$events_var_create;module$build$src$core$events$events.VarDelete=VarDelete$$module$build$src$core$events$events_var_delete;module$build$src$core$events$events.VarRename=VarRename$$module$build$src$core$events$events_var_rename;module$build$src$core$events$events.ViewportChange=ViewportChange$$module$build$src$core$events$events_viewport;module$build$src$core$events$events.clearPendingUndo=clearPendingUndo$$module$build$src$core$events$utils;module$build$src$core$events$events.disable=$.disable$$module$build$src$core$events$utils;module$build$src$core$events$events.disableOrphans=disableOrphans$$module$build$src$core$events$utils;module$build$src$core$events$events.enable=$.enable$$module$build$src$core$events$utils;module$build$src$core$events$events.filter=filter$$module$build$src$core$events$utils;module$build$src$core$events$events.fire=fire$$module$build$src$core$events$utils;module$build$src$core$events$events.fromJson=fromJson$$module$build$src$core$events$utils;module$build$src$core$events$events.get=get$$module$build$src$core$events$utils;module$build$src$core$events$events.getDescendantIds=getDescendantIds$$module$build$src$core$events$utils;module$build$src$core$events$events.getGroup=$.getGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.getRecordUndo=getRecordUndo$$module$build$src$core$events$utils;module$build$src$core$events$events.isEnabled=isEnabled$$module$build$src$core$events$utils;module$build$src$core$events$events.setGroup=$.setGroup$$module$build$src$core$events$utils;module$build$src$core$events$events.setRecordUndo=setRecordUndo$$module$build$src$core$events$utils;var ConstantProvider$$module$build$src$core$renderers$zelos$constants=/*#__PURE__*/function(_ConstantProvider$$mo){"use strict";_inherits(ConstantProvider$$module$build$src$core$renderers$zelos$constants,_ConstantProvider$$mo);function ConstantProvider$$module$build$src$core$renderers$zelos$constants(){var _this85;_classCallCheck(this,ConstantProvider$$module$build$src$core$renderers$zelos$constants);_this85=_callSuper(this,ConstantProvider$$module$build$src$core$renderers$zelos$constants);_this85.GRID_UNIT=4;_this85.CURSOR_COLOUR="#ffa200";_this85.CURSOR_RADIUS=5;_this85.JAGGED_TEETH_WIDTH=_this85.JAGGED_TEETH_HEIGHT=0;_this85.START_HAT_HEIGHT=22;_this85.START_HAT_WIDTH=96;_this85.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5};_this85.SHAPE_IN_SHAPE_PADDING={1:{0:5*_this85.GRID_UNIT,1:2*_this85.GRID_UNIT,2:5*_this85.GRID_UNIT,3:5*_this85.GRID_UNIT},2:{0:3*_this85.GRID_UNIT,1:3*_this85.GRID_UNIT,2:1*_this85.GRID_UNIT,3:2*_this85.GRID_UNIT},3:{0:2*_this85.GRID_UNIT,1:2*_this85.GRID_UNIT,2:2*_this85.GRID_UNIT,3:2*_this85.GRID_UNIT}};_this85.FULL_BLOCK_FIELDS=!0;_this85.FIELD_TEXT_FONTWEIGHT="bold";_this85.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif';_this85.FIELD_COLOUR_FULL_BLOCK=_this85.FIELD_TEXTINPUT_BOX_SHADOW=_this85.FIELD_DROPDOWN_SVG_ARROW=_this85.FIELD_DROPDOWN_COLOURED_DIV=_this85.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0;_this85.SELECTED_GLOW_COLOUR="#fff200";_this85.SELECTED_GLOW_SIZE=.5;_this85.REPLACEMENT_GLOW_COLOUR="#fff200";_this85.REPLACEMENT_GLOW_SIZE=2;_this85.selectedGlowFilterId="";_this85.selectedGlowFilter=null;_this85.replacementGlowFilterId="";_this85.SQUARED=_this85.ROUNDED=_this85.HEXAGONAL=_this85.replacementGlowFilter=null;_this85.SMALL_PADDING=_this85.GRID_UNIT;_this85.MEDIUM_PADDING=2*_this85.GRID_UNIT;_this85.MEDIUM_LARGE_PADDING=3*_this85.GRID_UNIT;_this85.LARGE_PADDING=4*_this85.GRID_UNIT;_this85.CORNER_RADIUS=1*_this85.GRID_UNIT;_this85.NOTCH_WIDTH=9*_this85.GRID_UNIT;_this85.NOTCH_HEIGHT=2*_this85.GRID_UNIT;_this85.STATEMENT_INPUT_NOTCH_OFFSET=_this85.NOTCH_OFFSET_LEFT=3*_this85.GRID_UNIT;_this85.MIN_BLOCK_WIDTH=2*_this85.GRID_UNIT;_this85.MIN_BLOCK_HEIGHT=12*_this85.GRID_UNIT;_this85.EMPTY_STATEMENT_INPUT_HEIGHT=6*_this85.GRID_UNIT;_this85.TOP_ROW_MIN_HEIGHT=_this85.CORNER_RADIUS;_this85.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=_this85.LARGE_PADDING;_this85.BOTTOM_ROW_MIN_HEIGHT=_this85.CORNER_RADIUS;_this85.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*_this85.GRID_UNIT;_this85.STATEMENT_BOTTOM_SPACER=-_this85.NOTCH_HEIGHT;_this85.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*_this85.GRID_UNIT;_this85.STATEMENT_INPUT_PADDING_LEFT=4*_this85.GRID_UNIT;_this85.EMPTY_INLINE_INPUT_PADDING=4*_this85.GRID_UNIT;_this85.EMPTY_INLINE_INPUT_HEIGHT=8*_this85.GRID_UNIT;_this85.DUMMY_INPUT_MIN_HEIGHT=8*_this85.GRID_UNIT;_this85.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*_this85.GRID_UNIT;_this85.CURSOR_WS_WIDTH=20*_this85.GRID_UNIT;_this85.FIELD_TEXT_FONTSIZE=3*_this85.GRID_UNIT;_this85.FIELD_BORDER_RECT_RADIUS=_this85.CORNER_RADIUS;_this85.FIELD_BORDER_RECT_X_PADDING=2*_this85.GRID_UNIT;_this85.FIELD_BORDER_RECT_Y_PADDING=1.625*_this85.GRID_UNIT;_this85.FIELD_BORDER_RECT_HEIGHT=8*_this85.GRID_UNIT;_this85.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*_this85.GRID_UNIT;_this85.FIELD_DROPDOWN_SVG_ARROW_PADDING=_this85.FIELD_BORDER_RECT_X_PADDING;_this85.FIELD_COLOUR_DEFAULT_WIDTH=6*_this85.GRID_UNIT;_this85.FIELD_COLOUR_DEFAULT_HEIGHT=8*_this85.GRID_UNIT;_this85.FIELD_CHECKBOX_X_OFFSET=1*_this85.GRID_UNIT;_this85.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*_this85.GRID_UNIT;return _this85;}_createClass(ConstantProvider$$module$build$src$core$renderers$zelos$constants,[{key:"setFontConstants_",value:function setFontConstants_(a){_get(_getPrototypeOf(ConstantProvider$$module$build$src$core$renderers$zelos$constants.prototype),"setFontConstants_",this).call(this,a);this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING;}},{key:"init",value:function init(){_get(_getPrototypeOf(ConstantProvider$$module$build$src$core$renderers$zelos$constants.prototype),"init",this).call(this);this.HEXAGONAL=this.makeHexagonal();this.ROUNDED=this.makeRounded();this.SQUARED=this.makeSquared();this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth;}},{key:"setDynamicProperties_",value:function setDynamicProperties_(a){_get(_getPrototypeOf(ConstantProvider$$module$build$src$core$renderers$zelos$constants.prototype),"setDynamicProperties_",this).call(this,a);this.SELECTED_GLOW_COLOUR=a.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var b=Number(a.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=b&&!isNaN(b)?b:this.SELECTED_GLOW_SIZE;this.REPLACEMENT_GLOW_COLOUR=a.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR;this.REPLACEMENT_GLOW_SIZE=(a=Number(a.getComponentStyle("replacementGlowSize")))&&!isNaN(a)?a:this.REPLACEMENT_GLOW_SIZE;}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(ConstantProvider$$module$build$src$core$renderers$zelos$constants.prototype),"dispose",this).call(this);this.selectedGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.selectedGlowFilter);this.replacementGlowFilter&&removeNode$$module$build$src$core$utils$dom(this.replacementGlowFilter);}},{key:"makeStartHat",value:function makeStartHat(){var a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(25,-a),point$$module$build$src$core$utils$svg_paths(71,-a),point$$module$build$src$core$utils$svg_paths(b,0)]);return{height:a,width:b,path:c};}},{key:"makeHexagonal",value:function makeHexagonal(){function a(c,d,e){var f=c/2;f=f>b?b:f;e=e?-1:1;c=(d?-1:1)*c/2;return lineTo$$module$build$src$core$utils$svg_paths(-e*f,c)+lineTo$$module$build$src$core$utils$svg_paths(e*f,c);}var b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(c){c/=2;return c>b?b:c;},height(c){return c;},connectionOffsetY(c){return c/2;},connectionOffsetX(c){return-c;},pathDown(c){return a(c,!1,!1);},pathUp(c){return a(c,!0,!1);},pathRightDown(c){return a(c,!1,!0);},pathRightUp(c){return a(c,!1,!0);}};}},{key:"makeRounded",value:function makeRounded(){function a(d,e,f){var g=d>c?d-c:0;d=(d>c?c:d)/2;return arc$$module$build$src$core$utils$svg_paths("a","0 0,1",d,point$$module$build$src$core$utils$svg_paths((e?-1:1)*d,(e?-1:1)*d))+lineOnAxis$$module$build$src$core$utils$svg_paths("v",(f?1:-1)*g)+arc$$module$build$src$core$utils$svg_paths("a","0 0,1",d,point$$module$build$src$core$utils$svg_paths((e?1:-1)*d,(e?-1:1)*d));}var b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=2*b;return{type:this.SHAPES.ROUND,isDynamic:!0,width(d){d/=2;return d>b?b:d;},height(d){return d;},connectionOffsetY(d){return d/2;},connectionOffsetX(d){return-d;},pathDown(d){return a(d,!1,!1);},pathUp(d){return a(d,!0,!1);},pathRightDown(d){return a(d,!1,!0);},pathRightUp(d){return a(d,!1,!0);}};}},{key:"makeSquared",value:function makeSquared(){function a(c,d,e){c-=2*b;return arc$$module$build$src$core$utils$svg_paths("a","0 0,1",b,point$$module$build$src$core$utils$svg_paths((d?-1:1)*b,(d?-1:1)*b))+lineOnAxis$$module$build$src$core$utils$svg_paths("v",(e?1:-1)*c)+arc$$module$build$src$core$utils$svg_paths("a","0 0,1",b,point$$module$build$src$core$utils$svg_paths((d?1:-1)*b,(d?-1:1)*b));}var b=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(c){return b;},height(c){return c;},connectionOffsetY(c){return c/2;},connectionOffsetX(c){return-c;},pathDown(c){return a(c,!1,!1);},pathUp(c){return a(c,!0,!1);},pathRightDown(c){return a(c,!1,!0);},pathRightUp(c){return a(c,!1,!0);}};}},{key:"shapeFor",value:function shapeFor(a){var b=a.getCheck();!b&&a.targetConnection&&(b=a.targetConnection.getCheck());switch(a.type){case ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE:case ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE:a=a.getSourceBlock().getOutputShape();if(null!==a)switch(a){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED;}if(b&&-1!==b.indexOf("Boolean"))return this.HEXAGONAL;if(b&&-1!==b.indexOf("Number"))return this.ROUNDED;b&&b.indexOf("String");return this.ROUNDED;case ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT:case ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type");}}},{key:"makeNotch",value:function makeNotch(){function a(l){return curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e,g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,f)])+curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(l*e/4,g/2),point$$module$build$src$core$utils$svg_paths(l*e/2,g),point$$module$build$src$core$utils$svg_paths(l*e,g)])+lineOnAxis$$module$build$src$core$utils$svg_paths("h",l*d)+curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(l*e/2,0),point$$module$build$src$core$utils$svg_paths(l*e*3/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e,-g)])+line$$module$build$src$core$utils$svg_paths([point$$module$build$src$core$utils$svg_paths(l*e,-f)])+curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(l*e/4,-(g/2)),point$$module$build$src$core$utils$svg_paths(l*e/2,-g),point$$module$build$src$core$utils$svg_paths(l*e,-g)]);}var b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=b/3,e=d/3,f=c/2,g=f/2,h=a(1),k=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:h,pathRight:k};}},{key:"makeInsideCorners",value:function makeInsideCorners(){var a=this.CORNER_RADIUS,b=arc$$module$build$src$core$utils$svg_paths("a","0 0,0",a,point$$module$build$src$core$utils$svg_paths(-a,a)),c=arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a,point$$module$build$src$core$utils$svg_paths(-a,a)),d=arc$$module$build$src$core$utils$svg_paths("a","0 0,0",a,point$$module$build$src$core$utils$svg_paths(a,a)),e=arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a,point$$module$build$src$core$utils$svg_paths(a,a));return{width:a,height:a,pathTop:b,pathBottom:d,rightWidth:a,rightHeight:a,pathTopRight:c,pathBottomRight:e};}},{key:"generateSecondaryColour_",value:function generateSecondaryColour_(a){return blend$$module$build$src$core$utils$colour("#000",a,.15)||a;}},{key:"generateTertiaryColour_",value:function generateTertiaryColour_(a){return blend$$module$build$src$core$utils$colour("#000",a,.25)||a;}},{key:"createDom",value:function createDom(a,b,c){_get(_getPrototypeOf(ConstantProvider$$module$build$src$core$renderers$zelos$constants.prototype),"createDom",this).call(this,a,b,c);a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.DEFS,{},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{"in":"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},b);c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:"outBlur"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},b);this.selectedGlowFilterId=b.id;this.selectedGlowFilter=b;a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEGAUSSIANBLUR,{"in":"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},a);b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPONENTTRANSFER,{result:"outBlur"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},b);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a);createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.FECOMPOSITE,{"in":"SourceGraphic",in2:"outGlow",operator:"over"},a);this.replacementGlowFilterId=a.id;this.replacementGlowFilter=a;}},{key:"getCSS_",value:function getCSS_(a){return[`${a} .blocklyText,`,`${a} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}`+`pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${a} .blocklyText {`,"fill: #fff;","}",`${a} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${a} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${a} .blocklyNonEditableText>text,`,`${a} .blocklyEditableText>text,`,`${a} .blocklyNonEditableText>g>text,`,`${a} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${a} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${a} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${a} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${a} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${a} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${a} .blocklyDropdownText {`,"fill: #fff !important;","}",`${a}.blocklyWidgetDiv .goog-menuitem,`,`${a}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${a}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${a} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${a} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${a} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"];}}]);return ConstantProvider$$module$build$src$core$renderers$zelos$constants;}(ConstantProvider$$module$build$src$core$renderers$common$constants),module$build$src$core$renderers$zelos$constants={};module$build$src$core$renderers$zelos$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;var Drawer$$module$build$src$core$renderers$zelos$drawer=/*#__PURE__*/function(_Drawer$$module$build){"use strict";_inherits(Drawer$$module$build$src$core$renderers$zelos$drawer,_Drawer$$module$build);function Drawer$$module$build$src$core$renderers$zelos$drawer(a,b){_classCallCheck(this,Drawer$$module$build$src$core$renderers$zelos$drawer);return _callSuper(this,Drawer$$module$build$src$core$renderers$zelos$drawer,[a,b]);}_createClass(Drawer$$module$build$src$core$renderers$zelos$drawer,[{key:"draw",value:function draw(){var a=this.block_.pathObject;a.beginDrawing();this.drawOutline_();this.drawInternals_();a.setPath(this.outlinePath_+"\n"+this.inlinePath_);this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_();this.info_.outputConnection&&(a.outputShapeType=this.info_.outputConnection.shape.type);a.endDrawing();}},{key:"drawOutline_",value:function drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$zelos$drawer.prototype),"drawOutline_",this).call(this);}},{key:"drawLeft_",value:function drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$zelos$drawer.prototype),"drawLeft_",this).call(this);}},{key:"drawRightSideRow_",value:function drawRightSideRow_(a){if(!(0>=a.height)){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(a)){var d=a.precedesStatement;var b=a.followsStatement;if(d||b){var e=this.constants_.INSIDE_CORNERS;var c=e.rightHeight;c=a.height-(d?c:0);b=b?e.pathBottomRight:"";a=0<c?lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.yPos+c):"";this.outlinePath_+=b+a+(d?e.pathTopRight:"");return;}}this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.yPos+a.height);}}},{key:"drawRightDynamicConnection_",value:function drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height);}},{key:"drawLeftDynamicConnection_",value:function drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_();this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height);this.outlinePath_+="z";}},{key:"drawFlatTop_",value:function drawFlatTop_(){var a=this.info_.topRow;this.positionPreviousConnection_();this.outlinePath_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("h",a.width);}},{key:"drawFlatBottom_",value:function drawFlatBottom_(){var a=this.info_.bottomRow;this.positionNextConnection_();this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.baseline);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("h",-a.width);}},{key:"drawInlineInput_",value:function drawInlineInput_(a){this.positionInlineInputConnection_(a);var b=a.input.name;if(!a.connectedBlock&&!this.info_.isInsertionMarker){var c=a.width-2*a.connectionWidth;a=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.connectionWidth,a.centerline-a.height/2)+lineOnAxis$$module$build$src$core$utils$svg_paths("h",c)+a.shape.pathRightDown(a.height)+lineOnAxis$$module$build$src$core$utils$svg_paths("h",-c)+a.shape.pathUp(a.height)+"z";this.block_.pathObject.setOutlinePath(b,a);}}},{key:"drawStatementInput_",value:function drawStatementInput_(a){var b=a.getLastInput();var c=b.xPos+b.notchOffset+b.shape.width,d=this.constants_.INSIDE_CORNERS,e=b.shape.pathRight+lineOnAxis$$module$build$src$core$utils$svg_paths("h",-(b.notchOffset-d.width))+d.pathTop,f=a.height-2*d.height;b=d.pathBottom+lineOnAxis$$module$build$src$core$utils$svg_paths("h",b.notchOffset-d.width)+(b.connectedBottomNextConnection?"":b.shape.pathLeft);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",c)+e+lineOnAxis$$module$build$src$core$utils$svg_paths("v",f)+b+lineOnAxis$$module$build$src$core$utils$svg_paths("H",a.xPos+a.width);this.positionStatementInputConnection_(a);}}]);return Drawer$$module$build$src$core$renderers$zelos$drawer;}(Drawer$$module$build$src$core$renderers$common$drawer),module$build$src$core$renderers$zelos$drawer={};module$build$src$core$renderers$zelos$drawer.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;var FieldImage$$module$build$src$core$field_image=/*#__PURE__*/function(_Field$$module$build$3){"use strict";_inherits(FieldImage$$module$build$src$core$field_image,_Field$$module$build$3);function FieldImage$$module$build$src$core$field_image(a,b,c,d,e,f,g){var _this86;_classCallCheck(this,FieldImage$$module$build$src$core$field_image);_this86=_callSuper(this,FieldImage$$module$build$src$core$field_image,[Field$$module$build$src$core$field.SKIP_SETUP]);_this86.imageElement=_this86.clickHandler=null;_this86.flipRtl=_this86.isDirty_=_this86.EDITABLE=!1;_this86.altText="";c=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(c));b=Number(replaceMessageReferences$$module$build$src$core$utils$parsing(b));if(isNaN(c)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");if(0>=c||0>=b)throw Error("Height and width values of an image field must be greater than 0.");_this86.size_=new Size$$module$build$src$core$utils$size(b,c+FieldImage$$module$build$src$core$field_image.Y_PADDING);_this86.imageHeight=c;"function"===typeof e&&(_this86.clickHandler=e);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(g?_this86.configure_(g):(_this86.flipRtl=!!f,_this86.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(d)||""),_this86.setValue(replaceMessageReferences$$module$build$src$core$utils$parsing(a)));return _this86;}_createClass(FieldImage$$module$build$src$core$field_image,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldImage$$module$build$src$core$field_image.prototype),"configure_",this).call(this,a);a.flipRtl&&(this.flipRtl=a.flipRtl);a.alt&&(this.altText=replaceMessageReferences$$module$build$src$core$utils$parsing(a.alt));}},{key:"initView",value:function initView(){this.imageElement=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_);this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.value_);this.clickHandler&&(this.imageElement.style.cursor="pointer");}},{key:"updateSize_",value:function updateSize_(){}},{key:"doClassValidation_",value:function doClassValidation_(a){return"string"!==typeof a?null:a;}},{key:"doValueUpdate_",value:function doValueUpdate_(a){this.value_=a;this.imageElement&&this.imageElement.setAttributeNS(XLINK_NS$$module$build$src$core$utils$dom,"xlink:href",this.value_);}},{key:"getFlipRtl",value:function getFlipRtl(){return this.flipRtl;}},{key:"setAlt",value:function setAlt(a){a!==this.altText&&(this.altText=a||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText));}},{key:"showEditor_",value:function showEditor_(){this.clickHandler&&this.clickHandler(this);}},{key:"setOnClickHandler",value:function setOnClickHandler(a){this.clickHandler=a;}},{key:"getText_",value:function getText_(){return this.altText;}}],[{key:"fromJson",value:function fromJson(a){if(!a.src||!a.width||!a.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(a.src,a.width,a.height,void 0,void 0,void 0,a);}}]);return FieldImage$$module$build$src$core$field_image;}(Field$$module$build$src$core$field);FieldImage$$module$build$src$core$field_image.Y_PADDING=1;register$$module$build$src$core$field_registry("field_image",FieldImage$$module$build$src$core$field_image);FieldImage$$module$build$src$core$field_image.prototype.DEFAULT_VALUE="";var module$build$src$core$field_image={};module$build$src$core$field_image.FieldImage=FieldImage$$module$build$src$core$field_image;var FieldInput$$module$build$src$core$field_input=/*#__PURE__*/function(_Field$$module$build$4){"use strict";_inherits(FieldInput$$module$build$src$core$field_input,_Field$$module$build$4);function FieldInput$$module$build$src$core$field_input(a,b,c){var _this87;_classCallCheck(this,FieldInput$$module$build$src$core$field_input);_this87=_callSuper(this,FieldInput$$module$build$src$core$field_input,[Field$$module$build$src$core$field.SKIP_SETUP]);_this87.spellcheck_=!0;_this87.htmlInput_=null;_this87.isTextValid_=_this87.isBeingEdited_=!1;_this87.onKeyInputWrapper_=_this87.onKeyDownWrapper_=_this87.valueWhenEditorWasOpened_=null;_this87.fullBlockClickTarget_=!1;_this87.workspace_=null;_this87.SERIALIZABLE=!0;_this87.CURSOR="text";a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&_this87.configure_(c),_this87.setValue(a),b&&_this87.setValidator(b));return _this87;}_createClass(FieldInput$$module$build$src$core$field_input,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldInput$$module$build$src$core$field_input.prototype),"configure_",this).call(this,a);void 0!==a.spellcheck&&(this.spellcheck_=a.spellcheck);}},{key:"initView",value:function initView(){if(!this.getSourceBlock())throw new UnattachedFieldError$$module$build$src$core$field();_get(_getPrototypeOf(FieldInput$$module$build$src$core$field_input.prototype),"initView",this).call(this);this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot());}},{key:"isFullBlockField",value:function isFullBlockField(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();var b;return this.fullBlockClickTarget_=!(null==(b=this.getConstants())||!b.FULL_BLOCK_FIELDS)&&a.isSimpleReporter();}},{key:"doValueInvalid_",value:function doValueInvalid_(a){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,a=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,a,this.value_)));}},{key:"doValueUpdate_",value:function doValueUpdate_(a){this.isTextValid_=this.isDirty_=!0;this.value_=a;}},{key:"applyColour",value:function applyColour(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",a.style.colourTertiary)):(this.borderRect_.style.display="none",a.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)));}},{key:"getSize",value:function getSize(){var a;if(null==(a=this.getConstants())?0:a.FULL_BLOCK_FIELDS)this.render_(),this.isDirty_=!1;return _get(_getPrototypeOf(FieldInput$$module$build$src$core$field_input.prototype),"getSize",this).call(this);}},{key:"onLocationChange",value:function onLocationChange(){this.isBeingEdited_&&this.resizeEditor_();}},{key:"render_",value:function render_(){_get(_getPrototypeOf(FieldInput$$module$build$src$core$field_input.prototype),"render_",this).call(this);if(this.isBeingEdited_){var a=this.htmlInput_;this.isTextValid_?(removeClass$$module$build$src$core$utils$dom(a,"blocklyInvalidInput"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!1)):(addClass$$module$build$src$core$utils$dom(a,"blocklyInvalidInput"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!0));}a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();this.getConstants().FULL_BLOCK_FIELDS&&a.applyColour();}},{key:"setSpellcheck",value:function setSpellcheck(a){a!==this.spellcheck_&&(this.spellcheck_=a,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_));}},{key:"showEditor_",value:function showEditor_(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;this.workspace_=this.sourceBlock_.workspace;!b&&this.workspace_.options.modalInputs&&(MOBILE$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent||IPAD$$module$build$src$core$utils$useragent)?this.showPromptEditor_():this.showInlineEditor_(b);}},{key:"showPromptEditor_",value:function showPromptEditor_(){var _this88=this;prompt$$module$build$src$core$dialog($.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),function(a){null!==a&&_this88.setValue(_this88.getValueFromEditorText_(a));_this88.onFinishEditing_(_this88.value_);});}},{key:"showInlineEditor_",value:function showInlineEditor_(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();show$$module$build$src$core$widgetdiv(this,b.RTL,this.widgetDispose_.bind(this));this.htmlInput_=this.widgetCreate_();this.isBeingEdited_=!0;this.valueWhenEditorWasOpened_=this.value_;a||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select());}},{key:"widgetCreate_",value:function widgetCreate_(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();$.setGroup$$module$build$src$core$events$utils(!0);var b=getDiv$$module$build$src$core$widgetdiv();var c=this.getClickTarget_();if(!c)throw Error("A click target has not been set.");addClass$$module$build$src$core$utils$dom(c,"editing");c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.spellcheck_);var d=this.workspace_.getScale();var e=this.getConstants().FIELD_TEXT_FONTSIZE*d+"pt";b.style.fontSize=e;c.style.fontSize=e;e=FieldInput$$module$build$src$core$field_input.BORDERRADIUS*d+"px";this.isFullBlockField()&&(e=this.getScaledBBox(),e=(e.bottom-e.top)/2+"px",a=a.getParent()?a.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,c.style.border=1*d+"px solid "+a,b.style.borderRadius=e,b.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(b.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*d+"px"));c.style.borderRadius=e;b.appendChild(c);c.value=c.defaultValue=this.getEditorText_(this.value_);c.setAttribute("data-untyped-default-value",String(this.value_));this.resizeEditor_();this.bindInputEvents_(c);return c;}},{key:"widgetDispose_",value:function widgetDispose_(){this.isBeingEdited_=!1;this.isTextValid_=!0;this.forceRerender();this.onFinishEditing_(this.value_);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&null!==this.valueWhenEditorWasOpened_&&this.valueWhenEditorWasOpened_!==this.value_&&(fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null);$.setGroup$$module$build$src$core$events$utils(!1);this.unbindInputEvents_();var a=getDiv$$module$build$src$core$widgetdiv().style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.htmlInput_=null;a=this.getClickTarget_();if(!a)throw Error("A click target has not been set.");removeClass$$module$build$src$core$utils$dom(a,"editing");}},{key:"onFinishEditing_",value:function onFinishEditing_(a){}},{key:"bindInputEvents_",value:function bindInputEvents_(a){this.onKeyDownWrapper_=conditionalBind$$module$build$src$core$browser_events(a,"keydown",this,this.onHtmlInputKeyDown_);this.onKeyInputWrapper_=conditionalBind$$module$build$src$core$browser_events(a,"input",this,this.onHtmlInputChange_);}},{key:"unbindInputEvents_",value:function unbindInputEvents_(){this.onKeyDownWrapper_&&(unbind$$module$build$src$core$browser_events(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null);this.onKeyInputWrapper_&&(unbind$$module$build$src$core$browser_events(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null);}},{key:"onHtmlInputKeyDown_",value:function onHtmlInputKeyDown_(a){"Enter"===a.key?(hide$$module$build$src$core$widgetdiv(),hideWithoutAnimation$$module$build$src$core$dropdowndiv()):"Escape"===a.key?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value")),hide$$module$build$src$core$widgetdiv(),hideWithoutAnimation$$module$build$src$core$dropdowndiv()):"Tab"===a.key&&(hide$$module$build$src$core$widgetdiv(),hideWithoutAnimation$$module$build$src$core$dropdowndiv(),this.sourceBlock_.tab(this,!a.shiftKey),a.preventDefault());}},{key:"onHtmlInputChange_",value:function onHtmlInputChange_(a){a=this.value_;this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.value_!==a&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,this.name||null,a,this.value_));}},{key:"setEditorValue_",value:function setEditorValue_(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;this.isDirty_=!0;this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(a));this.setValue(a,b);}},{key:"resizeEditor_",value:function resizeEditor_(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();var b=getDiv$$module$build$src$core$widgetdiv(),c=this.getScaledBBox();b.style.width=c.right-c.left+"px";b.style.height=c.bottom-c.top+"px";a=new Coordinate$$module$build$src$core$utils$coordinate(a.RTL?c.right-b.offsetWidth:c.left,c.top);b.style.left=a.x+"px";b.style.top=a.y+"px";}},{key:"repositionForWindowResize",value:function repositionForWindowResize(){var a=this.getSourceBlock();if(!(a instanceof BlockSvg$$module$build$src$core$block_svg))return!1;bumpObjectIntoBounds$$module$build$src$core$bump_objects(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),a)||this.resizeEditor_();return!0;}},{key:"isTabNavigable",value:function isTabNavigable(){return!0;}},{key:"getText_",value:function getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null;}},{key:"getEditorText_",value:function getEditorText_(a){return`${a}`;}},{key:"getValueFromEditorText_",value:function getValueFromEditorText_(a){return a;}}]);return FieldInput$$module$build$src$core$field_input;}(Field$$module$build$src$core$field);FieldInput$$module$build$src$core$field_input.BORDERRADIUS=4;var module$build$src$core$field_input={};module$build$src$core$field_input.FieldInput=FieldInput$$module$build$src$core$field_input;var FieldTextInput$$module$build$src$core$field_textinput=/*#__PURE__*/function(_FieldInput$$module$b){"use strict";_inherits(FieldTextInput$$module$build$src$core$field_textinput,_FieldInput$$module$b);function FieldTextInput$$module$build$src$core$field_textinput(a,b,c){_classCallCheck(this,FieldTextInput$$module$build$src$core$field_textinput);return _callSuper(this,FieldTextInput$$module$build$src$core$field_textinput,[a,b,c]);}_createClass(FieldTextInput$$module$build$src$core$field_textinput,[{key:"doClassValidation_",value:function doClassValidation_(a){return void 0===a?null:`${a}`;}}],[{key:"fromJson",value:function fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a);}}]);return FieldTextInput$$module$build$src$core$field_textinput;}(FieldInput$$module$build$src$core$field_input);register$$module$build$src$core$field_registry("field_input",FieldTextInput$$module$build$src$core$field_textinput);FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="";var module$build$src$core$field_textinput={};module$build$src$core$field_textinput.FieldTextInput=FieldTextInput$$module$build$src$core$field_textinput;var BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row=/*#__PURE__*/function(_BottomRow$$module$bu){"use strict";_inherits(BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row,_BottomRow$$module$bu);function BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row(a){_classCallCheck(this,BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row);return _callSuper(this,BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row,[a]);}_createClass(BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row,[{key:"endsWithElemSpacer",value:function endsWithElemSpacer(){return!1;}},{key:"hasLeftSquareCorner",value:function hasLeftSquareCorner(a){return!!a.outputConnection;}},{key:"hasRightSquareCorner",value:function hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection;}}]);return BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;}(BottomRow$$module$build$src$core$renderers$measurables$bottom_row),module$build$src$core$renderers$zelos$measurables$bottom_row={};module$build$src$core$renderers$zelos$measurables$bottom_row.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;var StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs=/*#__PURE__*/function(_StatementInput$$modu){"use strict";_inherits(StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs,_StatementInput$$modu);function StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs(a,b){var _this89;_classCallCheck(this,StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs);_this89=_callSuper(this,StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs,[a,b]);_this89.connectedBottomNextConnection=!1;if(_this89.connectedBlock){for(a=_this89.connectedBlock;b=a.getNextBlock();)a=b;a.nextConnection||(_this89.height=_this89.connectedBlockHeight,_this89.connectedBottomNextConnection=!0);}return _this89;}return _createClass(StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs);}(StatementInput$$module$build$src$core$renderers$measurables$statement_input),module$build$src$core$renderers$zelos$measurables$inputs={};module$build$src$core$renderers$zelos$measurables$inputs.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;var RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements=/*#__PURE__*/function(_Measurable$$module$b9){"use strict";_inherits(RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements,_Measurable$$module$b9);function RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements(a){var _this90;_classCallCheck(this,RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements);_this90=_callSuper(this,RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements,[a]);_this90.width=_this90.height=0;_this90.type|=Types$$module$build$src$core$renderers$measurables$types.getType("RIGHT_CONNECTION");return _this90;}return _createClass(RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements);}(Measurable$$module$build$src$core$renderers$measurables$base),module$build$src$core$renderers$zelos$measurables$row_elements={};module$build$src$core$renderers$zelos$measurables$row_elements.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;var TopRow$$module$build$src$core$renderers$zelos$measurables$top_row=/*#__PURE__*/function(_TopRow$$module$build){"use strict";_inherits(TopRow$$module$build$src$core$renderers$zelos$measurables$top_row,_TopRow$$module$build);function TopRow$$module$build$src$core$renderers$zelos$measurables$top_row(a){_classCallCheck(this,TopRow$$module$build$src$core$renderers$zelos$measurables$top_row);return _callSuper(this,TopRow$$module$build$src$core$renderers$zelos$measurables$top_row,[a]);}_createClass(TopRow$$module$build$src$core$renderers$zelos$measurables$top_row,[{key:"endsWithElemSpacer",value:function endsWithElemSpacer(){return!1;}},{key:"hasLeftSquareCorner",value:function hasLeftSquareCorner(a){var b=(a.hat?"cap"===a.hat:this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection;return!!a.outputConnection||b;}},{key:"hasRightSquareCorner",value:function hasRightSquareCorner(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection;}}]);return TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;}(TopRow$$module$build$src$core$renderers$measurables$top_row),module$build$src$core$renderers$zelos$measurables$top_row={};module$build$src$core$renderers$zelos$measurables$top_row.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;var RenderInfo$$module$build$src$core$renderers$zelos$info=/*#__PURE__*/function(_RenderInfo$$module$b){"use strict";_inherits(RenderInfo$$module$build$src$core$renderers$zelos$info,_RenderInfo$$module$b);function RenderInfo$$module$build$src$core$renderers$zelos$info(a,b){var _this91;_classCallCheck(this,RenderInfo$$module$build$src$core$renderers$zelos$info);_this91=_callSuper(this,RenderInfo$$module$build$src$core$renderers$zelos$info,[a,b]);_this91.isInline=!0;_this91.renderer_=a;_this91.constants_=_this91.renderer_.getConstants();_this91.topRow=new TopRow$$module$build$src$core$renderers$zelos$measurables$top_row(_this91.constants_);_this91.bottomRow=new BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row(_this91.constants_);_this91.isMultiRow=!b.getInputsInline()||b.isCollapsed();_this91.hasStatementInput=0<b.statementInputCount;_this91.rightSide=_this91.outputConnection?new RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements(_this91.constants_):null;_this91.rightAlignedDummyInputs=new WeakMap();return _this91;}_createClass(RenderInfo$$module$build$src$core$renderers$zelos$info,[{key:"getRenderer",value:function getRenderer(){return this.renderer_;}},{key:"measure",value:function measure(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.adjustXPosition_();this.computeBounds_();this.alignRowElements_();this.finalize_();}},{key:"shouldStartNewRow_",value:function shouldStartNewRow_(a,b){return b?b instanceof EndRowInput$$module$build$src$core$inputs$end_row_input||a instanceof StatementInput$$module$build$src$core$inputs$statement_input||b instanceof StatementInput$$module$build$src$core$inputs$statement_input?!0:a instanceof $.ValueInput$$module$build$src$core$inputs$value_input||a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input?!this.isInline||this.isMultiRow:!1:!1;}},{key:"getDesiredRowWidth_",value:function getDesiredRowWidth_(a){return a.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):_get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$zelos$info.prototype),"getDesiredRowWidth_",this).call(this,a);}},{key:"getInRowSpacing_",value:function getInRowSpacing_(a,b){return a&&b||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!a&&b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b&&(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:a&&Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isHat(b)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING;}},{key:"getSpacerRowHeight_",value:function getSpacerRowHeight_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var c=Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement,d=Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement;return d||c?(a=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&c?Math.max(a,this.constants_.DUMMY_INPUT_MIN_HEIGHT):a):Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)?a.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.outputConnection?!b.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING;}},{key:"getSpacerRowWidth_",value:function getSpacerRowWidth_(a,b){var c=this.width-this.startX;return Types$$module$build$src$core$renderers$measurables$types.isInputRow(a)&&a.hasStatement||Types$$module$build$src$core$renderers$measurables$types.isInputRow(b)&&b.hasStatement?Math.max(c,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):c;}},{key:"getElemCenterline_",value:function getElemCenterline_(a,b){if(a.hasStatement&&!Types$$module$build$src$core$renderers$measurables$types.isSpacer(b)&&!Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return a.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)&&b instanceof InputConnection$$module$build$src$core$renderers$measurables$input_connection){var c=b.connectedBlock;if(c&&c.outputConnection&&c.nextConnection)return a.yPos+c.height/2;}return _get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$zelos$info.prototype),"getElemCenterline_",this).call(this,a,b);}},{key:"addInput_",value:function addInput_(a,b){if((a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)&&b.hasDummyInput&&b.align===$.Align$$module$build$src$core$inputs$align.LEFT&&a.align===$.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(b,a);else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input){b.elements.push(new StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs(this.constants_,a));b.hasStatement=!0;null===b.align&&(b.align=a.align);return;}_get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$zelos$info.prototype),"addInput_",this).call(this,a,b);}},{key:"addAlignmentPadding_",value:function addAlignmentPadding_(a,b){if(this.rightAlignedDummyInputs.get(a)){var c;for(var d=0;d<a.elements.length;d++){var e=a.elements[d];Types$$module$build$src$core$renderers$measurables$types.isSpacer(e)&&(c=e);if(Types$$module$build$src$core$renderers$measurables$types.isField(e)&&e instanceof Field$$module$build$src$core$renderers$measurables$field&&e.parentInput===this.rightAlignedDummyInputs.get(a))break;}if(c){c.width+=b;a.width+=b;return;}}_get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$zelos$info.prototype),"addAlignmentPadding_",this).call(this,a,b);}},{key:"adjustXPosition_",value:function adjustXPosition_(){var a=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;var b=a;for(var e=2;e<this.rows.length-1;e+=2){var c=this.rows[e-1];var f=this.rows[e];var d=this.rows[e+1];c=2===e?!!this.topRow.hasPreviousConnection:!!c.followsStatement;d=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement;if(Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&f.hasStatement){f.measure();var g=void 0,h=void 0;b=f.width-(null!=(h=null==(g=f.getLastInput())?void 0:g.width)?h:0)+a;}else if(c&&(2===e||d)&&Types$$module$build$src$core$renderers$measurables$types.isInputRow(f)&&!f.hasStatement){d=f.xPos;c=null;for(var _g7=0;_g7<f.elements.length;_g7++){var _h3=f.elements[_g7];Types$$module$build$src$core$renderers$measurables$types.isSpacer(_h3)&&(c=_h3);c&&(Types$$module$build$src$core$renderers$measurables$types.isField(_h3)||Types$$module$build$src$core$renderers$measurables$types.isInput(_h3))&&d<b&&!(Types$$module$build$src$core$renderers$measurables$types.isField(_h3)&&_h3 instanceof Field$$module$build$src$core$renderers$measurables$field&&(_h3.field instanceof FieldLabel$$module$build$src$core$field_label||_h3.field instanceof FieldImage$$module$build$src$core$field_image))&&(c.width+=b-d);d+=_h3.width;}}}}},{key:"finalizeOutputConnection_",value:function finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var a=this.outputConnection.shape;if("isDynamic"in a&&a.isDynamic){var b=0;for(var c=0;c<this.rows.length;c++){var d=this.rows[c];d.yPos=b;b+=d.height;}this.height=b;c=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height;b=a.height(c);c=a.width(c);this.outputConnection.height=b;this.outputConnection.width=c;this.outputConnection.startX=c;this.outputConnection.connectionOffsetY=a.connectionOffsetY(b);this.outputConnection.connectionOffsetX=a.connectionOffsetX(c);a=0;this.hasStatementInput||this.bottomRow.hasNextConnection||(a=c,this.rightSide.height=b,this.rightSide.width=a,this.rightSide.centerline=b/2,this.rightSide.xPos=this.width+a);this.startX=c;this.width+=c+a;this.widthWithChildren+=c+a;}}}},{key:"finalizeHorizontalAlignment_",value:function finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){var a=0;for(var b=0;b<this.rows.length;b++){var c=this.rows[b];if(!Types$$module$build$src$core$renderers$measurables$types.isInputRow(c))continue;a=c.elements[c.elements.length-2];var d=this.getNegativeSpacing_(c.elements[1]),e=this.getNegativeSpacing_(a);a=d+e;var f=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-a<f&&(a=this.width-f,d=a/2,e=a/2);c.elements.unshift(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-d));c.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,-e));}if(a)for(this.width-=a,this.widthWithChildren-=a,this.rightSide.xPos-=a,b=0;b<this.rows.length;b++)c=this.rows[b],Types$$module$build$src$core$renderers$measurables$types.isTopOrBottomRow(c)&&(c.elements[1].width-=a),c.width-=a,c.widthWithConnectedBlocks-=a;}}},{key:"getNegativeSpacing_",value:function getNegativeSpacing_(a){if(!a||!this.outputConnection)return 0;var b=this.outputConnection.width;var c=this.outputConnection.shape.type;var d=this.constants_;if(1<this.inputRows.length)switch(c){case d.SHAPES.ROUND:return c=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=this.height/2>c?c:this.height/2,b-c*(1-Math.sin(Math.acos((c-this.constants_.SMALL_PADDING)/c)));default:return 0;}if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&a instanceof InputConnection$$module$build$src$core$renderers$measurables$input_connection){var e=a.connectedBlock;a=e?e.pathObject.outputShapeType:a.shape.type;return null==a||e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||c===d.SHAPES.HEXAGONAL&&c!==a?0:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][a];}return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a instanceof Field$$module$build$src$core$renderers$measurables$field?c===d.SHAPES.ROUND&&a.field instanceof FieldTextInput$$module$build$src$core$field_textinput?b-2.75*d.GRID_UNIT:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][0]:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?this.constants_.SMALL_PADDING:0;}},{key:"finalizeVerticalAlignment_",value:function finalizeVerticalAlignment_(){if(!this.outputConnection)for(var d=2;d<this.rows.length-1;d+=2){var e=this.rows[d-1],f=this.rows[d],g=this.rows[d+1];var a=2===d,b=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!g.precedesStatement;if(a?this.topRow.hasPreviousConnection:e.followsStatement){var c=f.elements[1];c=3===f.elements.length&&c instanceof Field$$module$build$src$core$renderers$measurables$field&&(c.field instanceof FieldLabel$$module$build$src$core$field_label||c.field instanceof FieldImage$$module$build$src$core$field_image);if(!a&&c)e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING,f.height-=this.constants_.MEDIUM_PADDING;else if(!a&&!b)e.height+=this.constants_.SMALL_PADDING;else if(b){a=!1;for(b=0;b<f.elements.length;b++)if(c=f.elements[b],c instanceof InputConnection$$module$build$src$core$renderers$measurables$input_connection&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(c)&&c.connectedBlock&&!c.connectedBlock.isShadow()&&40<=c.connectedBlock.getHeightWidth().height){a=!0;break;}a&&(e.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.SMALL_PADDING);}}}}},{key:"finalize_",value:function finalize_(){this.finalizeOutputConnection_();this.finalizeHorizontalAlignment_();this.finalizeVerticalAlignment_();_get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$zelos$info.prototype),"finalize_",this).call(this);this.rightSide&&(this.widthWithChildren+=this.rightSide.width);}}]);return RenderInfo$$module$build$src$core$renderers$zelos$info;}(RenderInfo$$module$build$src$core$renderers$common$info),module$build$src$core$renderers$zelos$info={};module$build$src$core$renderers$zelos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;var MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg=/*#__PURE__*/function(_MarkerSvg$$module$bu){"use strict";_inherits(MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg,_MarkerSvg$$module$bu);function MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg(a,b,c){var _this92;_classCallCheck(this,MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg);_this92=_callSuper(this,MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg,[a,b,c]);_this92.markerCircle=null;return _this92;}_createClass(MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg,[{key:"showWithInputOutput",value:function showWithInputOutput(a){var b=a.getSourceBlock();a=a.getLocation().getOffsetInBlock();this.positionCircle(a.x,a.y);this.setParent_(b);this.showCurrent_();}},{key:"showWithOutput_",value:function showWithOutput_(a){this.showWithInputOutput(a);}},{key:"showWithInput_",value:function showWithInput_(a){this.showWithInputOutput(a);}},{key:"showWithBlock_",value:function showWithBlock_(a){a=a.getLocation();var b=a.getHeightWidth();this.positionRect_(0,0,b.width,b.height);this.setParent_(a);this.showCurrent_();}},{key:"positionCircle",value:function positionCircle(a,b){var c;null==(c=this.markerCircle)||c.setAttribute("cx",`${a}`);var d;null==(d=this.markerCircle)||d.setAttribute("cy",`${b}`);this.currentMarkerSvg=this.markerCircle;}},{key:"hide",value:function hide(){_get(_getPrototypeOf(MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg.prototype),"hide",this).call(this);this.markerCircle&&(this.markerCircle.style.display="none");}},{key:"createDomInternal_",value:function createDomInternal_(){_get(_getPrototypeOf(MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg.prototype),"createDomInternal_",this).call(this);this.markerCircle=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_);this.hide();if(this.isCursor()){var a=this.getBlinkProperties_();createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.ANIMATE,a,this.markerCircle);}return this.markerSvg_;}},{key:"applyColour_",value:function applyColour_(a){_get(_getPrototypeOf(MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg.prototype),"applyColour_",this).call(this,a);var b;null==(b=this.markerCircle)||b.setAttribute("fill",this.colour_);var c;null==(c=this.markerCircle)||c.setAttribute("stroke",this.colour_);if(this.isCursor()){a=this.colour_+";transparent;transparent;";var d;null==(d=this.markerCircle)||d.firstElementChild.setAttribute("values",a);}}}]);return MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg;}(MarkerSvg$$module$build$src$core$renderers$common$marker_svg),module$build$src$core$renderers$zelos$marker_svg={};module$build$src$core$renderers$zelos$marker_svg.MarkerSvg=MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg;var PathObject$$module$build$src$core$renderers$zelos$path_object=/*#__PURE__*/function(_PathObject$$module$b){"use strict";_inherits(PathObject$$module$build$src$core$renderers$zelos$path_object,_PathObject$$module$b);function PathObject$$module$build$src$core$renderers$zelos$path_object(a,b,c){var _this93;_classCallCheck(this,PathObject$$module$build$src$core$renderers$zelos$path_object);_this93=_callSuper(this,PathObject$$module$build$src$core$renderers$zelos$path_object,[a,b,c]);_this93.svgPathSelected=null;_this93.outlines=new Map();_this93.remainingOutlines=new Set();_this93.outputShapeType=null;_this93.constants=c;return _this93;}_createClass(PathObject$$module$build$src$core$renderers$zelos$path_object,[{key:"setPath",value:function setPath(a){_get(_getPrototypeOf(PathObject$$module$build$src$core$renderers$zelos$path_object.prototype),"setPath",this).call(this,a);this.svgPathSelected&&this.svgPathSelected.setAttribute("d",a);}},{key:"applyColour",value:function applyColour(a){_get(_getPrototypeOf(PathObject$$module$build$src$core$renderers$zelos$path_object.prototype),"applyColour",this).call(this,a);var b=a.getParent();a.isShadow()&&b&&this.svgPath.setAttribute("stroke",b.style.colourTertiary);var _iterator75=_createForOfIteratorHelper(this.outlines.values()),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var c=_step75.value;c.setAttribute("fill",this.style.colourTertiary);}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}}},{key:"flipRTL",value:function flipRTL(){_get(_getPrototypeOf(PathObject$$module$build$src$core$renderers$zelos$path_object.prototype),"flipRTL",this).call(this);var _iterator76=_createForOfIteratorHelper(this.outlines.values()),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var a=_step76.value;a.setAttribute("transform","scale(-1 1)");}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}}},{key:"updateSelected",value:function updateSelected(a){this.setClass_("blocklySelected",a);a?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null);}},{key:"updateReplacementFade",value:function updateReplacementFade(a){this.setClass_("blocklyReplaceable",a);a?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter");}},{key:"updateShapeForInputHighlight",value:function updateShapeForInputHighlight(a,b){a=a.getParentInput().name;(a=this.getOutlinePath(a))&&(b?a.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):a.removeAttribute("filter"));}},{key:"beginDrawing",value:function beginDrawing(){this.remainingOutlines.clear();var _iterator77=_createForOfIteratorHelper(this.outlines.keys()),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var a=_step77.value;this.remainingOutlines.add(a);}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}}},{key:"endDrawing",value:function endDrawing(){if(this.remainingOutlines.size){var _iterator78=_createForOfIteratorHelper(this.remainingOutlines),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var a=_step78.value;this.removeOutlinePath(a);}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}}this.remainingOutlines.clear();}},{key:"setOutlinePath",value:function setOutlinePath(a,b){a=this.getOutlinePath(a);a.setAttribute("d",b);a.setAttribute("fill",this.style.colourTertiary);}},{key:"getOutlinePath",value:function getOutlinePath(a){this.outlines.has(a)||this.outlines.set(a,createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyOutlinePath",d:""},this.svgRoot));this.remainingOutlines.delete(a);return this.outlines.get(a);}},{key:"removeOutlinePath",value:function removeOutlinePath(a){var b,c;null==(b=this.outlines.get(a))||null==(c=b.parentNode)||c.removeChild(this.outlines.get(a));this.outlines.delete(a);}}]);return PathObject$$module$build$src$core$renderers$zelos$path_object;}(PathObject$$module$build$src$core$renderers$common$path_object),module$build$src$core$renderers$zelos$path_object={};module$build$src$core$renderers$zelos$path_object.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;var Renderer$$module$build$src$core$renderers$zelos$renderer=/*#__PURE__*/function(_Renderer$$module$bui){"use strict";_inherits(Renderer$$module$build$src$core$renderers$zelos$renderer,_Renderer$$module$bui);function Renderer$$module$build$src$core$renderers$zelos$renderer(a){_classCallCheck(this,Renderer$$module$build$src$core$renderers$zelos$renderer);return _callSuper(this,Renderer$$module$build$src$core$renderers$zelos$renderer,[a]);}_createClass(Renderer$$module$build$src$core$renderers$zelos$renderer,[{key:"makeConstants_",value:function makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$zelos$constants();}},{key:"makeRenderInfo_",value:function makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$zelos$info(this,a);}},{key:"makeDrawer_",value:function makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$zelos$drawer(a,b);}},{key:"makeMarkerDrawer",value:function makeMarkerDrawer(a,b){return new MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg(a,this.getConstants(),b);}},{key:"makePathObject",value:function makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$zelos$path_object(a,b,this.getConstants());}},{key:"getConstants",value:function getConstants(){return this.constants_;}},{key:"shouldHighlightConnection",value:function shouldHighlightConnection(a){return a.type!==ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE&&a.type!==ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE;}},{key:"getConnectionPreviewMethod",value:function getConnectionPreviewMethod(a,b,c){return b.type===ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE?a.isConnected()?_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.REPLACEMENT_FADE:_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager.PREVIEW_TYPE.INPUT_OUTLINE:_get(_getPrototypeOf(Renderer$$module$build$src$core$renderers$zelos$renderer.prototype),"getConnectionPreviewMethod",this).call(this,a,b,c);}}]);return Renderer$$module$build$src$core$renderers$zelos$renderer;}(Renderer$$module$build$src$core$renderers$common$renderer);register$$module$build$src$core$renderers$common$block_rendering("zelos",Renderer$$module$build$src$core$renderers$zelos$renderer);var module$build$src$core$renderers$zelos$renderer={};module$build$src$core$renderers$zelos$renderer.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;var module$build$src$core$renderers$zelos$zelos={};module$build$src$core$renderers$zelos$zelos.BottomRow=BottomRow$$module$build$src$core$renderers$zelos$measurables$bottom_row;module$build$src$core$renderers$zelos$zelos.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$zelos$constants;module$build$src$core$renderers$zelos$zelos.Drawer=Drawer$$module$build$src$core$renderers$zelos$drawer;module$build$src$core$renderers$zelos$zelos.MarkerSvg=MarkerSvg$$module$build$src$core$renderers$zelos$marker_svg;module$build$src$core$renderers$zelos$zelos.PathObject=PathObject$$module$build$src$core$renderers$zelos$path_object;module$build$src$core$renderers$zelos$zelos.RenderInfo=RenderInfo$$module$build$src$core$renderers$zelos$info;module$build$src$core$renderers$zelos$zelos.Renderer=Renderer$$module$build$src$core$renderers$zelos$renderer;module$build$src$core$renderers$zelos$zelos.RightConnectionShape=RightConnectionShape$$module$build$src$core$renderers$zelos$measurables$row_elements;module$build$src$core$renderers$zelos$zelos.StatementInput=StatementInput$$module$build$src$core$renderers$zelos$measurables$inputs;module$build$src$core$renderers$zelos$zelos.TopRow=TopRow$$module$build$src$core$renderers$zelos$measurables$top_row;registerDefaultOptions$$module$build$src$core$contextmenu_items();var module$build$src$core$contextmenu_items={};module$build$src$core$contextmenu_items.registerCleanup=registerCleanup$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapse=registerCollapse$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerCollapseExpandBlock=registerCollapseExpandBlock$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerComment=registerComment$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDefaultOptions=registerDefaultOptions$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDelete=registerDelete$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDeleteAll=registerDeleteAll$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDisable=registerDisable$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerDuplicate=registerDuplicate$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerExpand=registerExpand$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerHelp=registerHelp$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerInline=registerInline$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerRedo=registerRedo$$module$build$src$core$contextmenu_items;module$build$src$core$contextmenu_items.registerUndo=registerUndo$$module$build$src$core$contextmenu_items;var FieldAngle$$module$build$src$core$field_angle=/*#__PURE__*/function(_FieldInput$$module$b2){"use strict";_inherits(FieldAngle$$module$build$src$core$field_angle,_FieldInput$$module$b2);function FieldAngle$$module$build$src$core$field_angle(a,b,c){var _this94;_classCallCheck(this,FieldAngle$$module$build$src$core$field_angle);_this94=_callSuper(this,FieldAngle$$module$build$src$core$field_angle,[Field$$module$build$src$core$field.SKIP_SETUP]);_this94.clockwise=FieldAngle$$module$build$src$core$field_angle.CLOCKWISE;_this94.offset=FieldAngle$$module$build$src$core$field_angle.OFFSET;_this94.wrap=FieldAngle$$module$build$src$core$field_angle.WRAP;_this94.round=FieldAngle$$module$build$src$core$field_angle.ROUND;_this94.boundEvents=[];_this94.symbol_=_this94.gauge=_this94.line=null;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&_this94.configure_(c),_this94.setValue(a),b&&_this94.setValidator(b));return _this94;}_createClass(FieldAngle$$module$build$src$core$field_angle,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldAngle$$module$build$src$core$field_angle.prototype),"configure_",this).call(this,a);switch(a.mode){case Mode$$module$build$src$core$field_angle.COMPASS:this.clockwise=!0;this.offset=90;break;case Mode$$module$build$src$core$field_angle.PROTRACTOR:this.clockwise=!1,this.offset=0;}a.clockwise&&(this.clockwise=a.clockwise);a.offset&&(this.offset=a.offset);a.wrap&&(this.wrap=a.wrap);a.round&&(this.round=a.round);}},{key:"initView",value:function initView(){_get(_getPrototypeOf(FieldAngle$$module$build$src$core$field_angle.prototype),"initView",this).call(this);this.symbol_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TSPAN,{});this.symbol_.appendChild(document.createTextNode("\u00b0"));this.getTextElement().appendChild(this.symbol_);}},{key:"render_",value:function render_(){_get(_getPrototypeOf(FieldAngle$$module$build$src$core$field_angle.prototype),"render_",this).call(this);this.updateGraph();}},{key:"showEditor_",value:function showEditor_(a){_get(_getPrototypeOf(FieldAngle$$module$build$src$core$field_angle.prototype),"showEditor_",this).call(this,a,MOBILE$$module$build$src$core$utils$useragent||ANDROID$$module$build$src$core$utils$useragent||IPAD$$module$build$src$core$utils$useragent);a=this.dropdownCreate();getContentDiv$$module$build$src$core$dropdowndiv().appendChild(a);this.sourceBlock_ instanceof BlockSvg$$module$build$src$core$block_svg&&setColour$$module$build$src$core$dropdowndiv(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary);showPositionedByField$$module$build$src$core$dropdowndiv(this,this.dropdownDispose.bind(this));this.updateGraph();}},{key:"dropdownCreate",value:function dropdownCreate(){var a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.SVG,{xmlns:SVG_NS$$module$build$src$core$utils$dom,"xmlns:html":HTML_NS$$module$build$src$core$utils$dom,"xmlns:xlink":XLINK_NS$$module$build$src$core$utils$dom,version:"1.1",height:2*FieldAngle$$module$build$src$core$field_angle.HALF+"px",width:2*FieldAngle$$module$build$src$core$field_angle.HALF+"px"});a.style.touchAction="none";var b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.CIRCLE,{cx:FieldAngle$$module$build$src$core$field_angle.HALF,cy:FieldAngle$$module$build$src$core$field_angle.HALF,r:FieldAngle$$module$build$src$core$field_angle.RADIUS,"class":"blocklyAngleCircle"},a);this.gauge=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyAngleGauge"},a);this.line=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{x1:FieldAngle$$module$build$src$core$field_angle.HALF,y1:FieldAngle$$module$build$src$core$field_angle.HALF,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.LINE,{x1:FieldAngle$$module$build$src$core$field_angle.HALF+FieldAngle$$module$build$src$core$field_angle.RADIUS,y1:FieldAngle$$module$build$src$core$field_angle.HALF,x2:FieldAngle$$module$build$src$core$field_angle.HALF+FieldAngle$$module$build$src$core$field_angle.RADIUS-(0===c%45?10:5),y2:FieldAngle$$module$build$src$core$field_angle.HALF,"class":"blocklyAngleMarks",transform:"rotate("+c+","+FieldAngle$$module$build$src$core$field_angle.HALF+","+FieldAngle$$module$build$src$core$field_angle.HALF+")"},a);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(a,"click",this,this.hide));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(b,"pointerdown",this,this.onMouseMove_,!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(b,"pointermove",this,this.onMouseMove_,!0));return a;}},{key:"dropdownDispose",value:function dropdownDispose(){var _iterator79=_createForOfIteratorHelper(this.boundEvents),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var a=_step79.value;unbind$$module$build$src$core$browser_events(a);}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}this.boundEvents.length=0;this.line=this.gauge=null;}},{key:"hide",value:function hide(){hideIfOwner$$module$build$src$core$dropdowndiv(this);hide$$module$build$src$core$widgetdiv();}},{key:"onMouseMove_",value:function onMouseMove_(a){var b=this.gauge.ownerSVGElement.getBoundingClientRect();var c=a.clientX-b.left-FieldAngle$$module$build$src$core$field_angle.HALF;a=a.clientY-b.top-FieldAngle$$module$build$src$core$field_angle.HALF;b=Math.atan(-a/c);isNaN(b)||(b=toDegrees$$module$build$src$core$utils$math(b),0>c?b+=180:0<a&&(b+=360),b=this.clockwise?this.offset+360-b:360-(this.offset-b),this.displayMouseOrKeyboardValue(b));}},{key:"displayMouseOrKeyboardValue",value:function displayMouseOrKeyboardValue(a){this.round&&(a=Math.round(a/this.round)*this.round);a=this.wrapValue(a);if(a!==this.value_){var b=this.value_;this.setEditorValue_(a,!1);this.sourceBlock_&&isEnabled$$module$build$src$core$events$utils()&&this.value_!==b&&fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(BLOCK_FIELD_INTERMEDIATE_CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,this.name||null,b,this.value_));}}},{key:"updateGraph",value:function updateGraph(){if(this.gauge&&this.line){var a=Number(this.getText())+this.offset,b=toRadians$$module$build$src$core$utils$math(a%360);a=["M ",FieldAngle$$module$build$src$core$field_angle.HALF,",",FieldAngle$$module$build$src$core$field_angle.HALF];var c=FieldAngle$$module$build$src$core$field_angle.HALF,d=FieldAngle$$module$build$src$core$field_angle.HALF;if(!isNaN(b)){var e=Number(this.clockwise),f=toRadians$$module$build$src$core$utils$math(this.offset),g=Math.cos(f)*FieldAngle$$module$build$src$core$field_angle.RADIUS,h=Math.sin(f)*-FieldAngle$$module$build$src$core$field_angle.RADIUS;e&&(b=2*f-b);c+=Math.cos(b)*FieldAngle$$module$build$src$core$field_angle.RADIUS;d-=Math.sin(b)*FieldAngle$$module$build$src$core$field_angle.RADIUS;b=Math.abs(Math.floor((b-f)/Math.PI)%2);e&&(b=1-b);a.push(" l ",g,",",h," A ",FieldAngle$$module$build$src$core$field_angle.RADIUS,",",FieldAngle$$module$build$src$core$field_angle.RADIUS," 0 ",b," ",e," ",c,",",d," z");}this.gauge.setAttribute("d",a.join(""));this.line.setAttribute("x2",`${c}`);this.line.setAttribute("y2",`${d}`);}}},{key:"onHtmlInputKeyDown_",value:function onHtmlInputKeyDown_(a){_get(_getPrototypeOf(FieldAngle$$module$build$src$core$field_angle.prototype),"onHtmlInputKeyDown_",this).call(this,a);var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();var c=0;switch(a.key){case"ArrowLeft":c=b.RTL?1:-1;break;case"ArrowRight":c=b.RTL?-1:1;break;case"ArrowDown":c=-1;break;case"ArrowUp":c=1;}c&&(b=this.getValue(),this.displayMouseOrKeyboardValue(b+c*this.round),a.preventDefault(),a.stopPropagation());}},{key:"doClassValidation_",value:function doClassValidation_(a){a=Number(a);return isNaN(a)||!isFinite(a)?null:this.wrapValue(a);}},{key:"wrapValue",value:function wrapValue(a){a%=360;0>a&&(a+=360);a>this.wrap&&(a-=360);return a;}}],[{key:"fromJson",value:function fromJson(a){return new this(a.angle,void 0,a);}}]);return FieldAngle$$module$build$src$core$field_angle;}(FieldInput$$module$build$src$core$field_input);FieldAngle$$module$build$src$core$field_angle.HALF=50;FieldAngle$$module$build$src$core$field_angle.RADIUS=FieldAngle$$module$build$src$core$field_angle.HALF-1;FieldAngle$$module$build$src$core$field_angle.CLOCKWISE=!1;FieldAngle$$module$build$src$core$field_angle.OFFSET=0;FieldAngle$$module$build$src$core$field_angle.WRAP=360;FieldAngle$$module$build$src$core$field_angle.ROUND=15;register$$module$build$src$core$field_registry("field_angle",FieldAngle$$module$build$src$core$field_angle);FieldAngle$$module$build$src$core$field_angle.prototype.DEFAULT_VALUE=0;register$$module$build$src$core$css("\n.blocklyAngleCircle {\n  stroke: #444;\n  stroke-width: 1;\n  fill: #ddd;\n  fill-opacity: 0.8;\n}\n\n.blocklyAngleMarks {\n  stroke: #444;\n  stroke-width: 1;\n}\n\n.blocklyAngleGauge {\n  fill: #f88;\n  fill-opacity: 0.8;\n  pointer-events: none;\n}\n\n.blocklyAngleLine {\n  stroke: #f00;\n  stroke-width: 2;\n  stroke-linecap: round;\n  pointer-events: none;\n}\n");var Mode$$module$build$src$core$field_angle;(function(a){a.COMPASS="compass";a.PROTRACTOR="protractor";})(Mode$$module$build$src$core$field_angle||(Mode$$module$build$src$core$field_angle={}));var module$build$src$core$field_angle={};module$build$src$core$field_angle.FieldAngle=FieldAngle$$module$build$src$core$field_angle;module$build$src$core$field_angle.Mode=Mode$$module$build$src$core$field_angle;var FieldCheckbox$$module$build$src$core$field_checkbox=/*#__PURE__*/function(_Field$$module$build$5){"use strict";_inherits(FieldCheckbox$$module$build$src$core$field_checkbox,_Field$$module$build$5);function FieldCheckbox$$module$build$src$core$field_checkbox(a,b,c){var _this95;_classCallCheck(this,FieldCheckbox$$module$build$src$core$field_checkbox);_this95=_callSuper(this,FieldCheckbox$$module$build$src$core$field_checkbox,[Field$$module$build$src$core$field.SKIP_SETUP]);_this95.SERIALIZABLE=!0;_this95.CURSOR="default";_this95.value_=_this95.value_;_this95.checkChar=FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&_this95.configure_(c),_this95.setValue(a),b&&_this95.setValidator(b));return _this95;}_createClass(FieldCheckbox$$module$build$src$core$field_checkbox,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldCheckbox$$module$build$src$core$field_checkbox.prototype),"configure_",this).call(this,a);a.checkCharacter&&(this.checkChar=a.checkCharacter);}},{key:"saveState",value:function saveState(){var a=this.saveLegacyState(FieldCheckbox$$module$build$src$core$field_checkbox);return null!==a?a:this.getValueBoolean();}},{key:"initView",value:function initView(){_get(_getPrototypeOf(FieldCheckbox$$module$build$src$core$field_checkbox.prototype),"initView",this).call(this);var a=this.getTextElement();addClass$$module$build$src$core$utils$dom(a,"blocklyCheckbox");a.style.display=this.value_?"block":"none";}},{key:"render_",value:function render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET);}},{key:"getDisplayText_",value:function getDisplayText_(){return this.checkChar;}},{key:"setCheckCharacter",value:function setCheckCharacter(a){this.checkChar=a||FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR;this.forceRerender();}},{key:"showEditor_",value:function showEditor_(){this.setValue(!this.value_);}},{key:"doClassValidation_",value:function doClassValidation_(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null;}},{key:"doValueUpdate_",value:function doValueUpdate_(a){this.value_=this.convertValueToBool_(a);this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none");}},{key:"getValue",value:function getValue(){return this.value_?"TRUE":"FALSE";}},{key:"getValueBoolean",value:function getValueBoolean(){return this.value_;}},{key:"getText",value:function getText(){return String(this.convertValueToBool_(this.value_));}},{key:"convertValueToBool_",value:function convertValueToBool_(a){return"string"===typeof a?"TRUE"===a:!!a;}}],[{key:"fromJson",value:function fromJson(a){return new this(a.checked,void 0,a);}}]);return FieldCheckbox$$module$build$src$core$field_checkbox;}(Field$$module$build$src$core$field);FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR="\u2713";register$$module$build$src$core$field_registry("field_checkbox",FieldCheckbox$$module$build$src$core$field_checkbox);FieldCheckbox$$module$build$src$core$field_checkbox.prototype.DEFAULT_VALUE=!1;var module$build$src$core$field_checkbox={};module$build$src$core$field_checkbox.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;var FieldColour$$module$build$src$core$field_colour=/*#__PURE__*/function(_Field$$module$build$6){"use strict";_inherits(FieldColour$$module$build$src$core$field_colour,_Field$$module$build$6);function FieldColour$$module$build$src$core$field_colour(a,b,c){var _this96;_classCallCheck(this,FieldColour$$module$build$src$core$field_colour);_this96=_callSuper(this,FieldColour$$module$build$src$core$field_colour,[Field$$module$build$src$core$field.SKIP_SETUP]);_this96.highlightedIndex=_this96.picker=null;_this96.boundEvents=[];_this96.SERIALIZABLE=!0;_this96.CURSOR="default";_this96.isDirty_=!1;_this96.titles=_this96.colours=null;_this96.columns=0;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&_this96.configure_(c),_this96.setValue(a),b&&_this96.setValidator(b));return _this96;}_createClass(FieldColour$$module$build$src$core$field_colour,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldColour$$module$build$src$core$field_colour.prototype),"configure_",this).call(this,a);a.colourOptions&&(this.colours=a.colourOptions);a.colourTitles&&(this.titles=a.colourTitles);a.columns&&(this.columns=a.columns);}},{key:"initView",value:function initView(){this.size_=new Size$$module$build$src$core$utils$size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT);this.createBorderRect_();this.getBorderRect().style.fillOpacity="1";this.getBorderRect().setAttribute("stroke","#fff");this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot());}},{key:"isFullBlockField",value:function isFullBlockField(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();var b=this.getConstants();return a.isSimpleReporter()&&!(null==b||!b.FIELD_COLOUR_FULL_BLOCK);}},{key:"applyColour",value:function applyColour(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();if(this.fieldGroup_){var b=this.borderRect_;if(!b)throw Error("The border rect has not been initialized");this.isFullBlockField()?(b.style.display="none",a.pathObject.svgPath.setAttribute("fill",this.getValue()),a.pathObject.svgPath.setAttribute("stroke","#fff")):(b.style.display="block",b.style.fill=this.getValue());}}},{key:"getSize",value:function getSize(){var a;if(null==(a=this.getConstants())?0:a.FIELD_COLOUR_FULL_BLOCK)this.render_(),this.isDirty_=!1;return _get(_getPrototypeOf(FieldColour$$module$build$src$core$field_colour.prototype),"getSize",this).call(this);}},{key:"render_",value:function render_(){_get(_getPrototypeOf(FieldColour$$module$build$src$core$field_colour.prototype),"render_",this).call(this);var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();a.applyColour();}},{key:"updateSize_",value:function updateSize_(a){var b=this.getConstants();this.isFullBlockField()?(a=2*(null!=a?a:0),b=b.FIELD_TEXT_HEIGHT):(a=b.FIELD_COLOUR_DEFAULT_WIDTH,b=b.FIELD_COLOUR_DEFAULT_HEIGHT);this.size_.height=b;this.size_.width=a;this.positionBorderRect_();}},{key:"doClassValidation_",value:function doClassValidation_(a){return"string"!==typeof a?null:parse$$module$build$src$core$utils$colour(a);}},{key:"getText",value:function getText(){var a=this.value_;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a;}},{key:"setColours",value:function setColours(a,b){this.colours=a;b&&(this.titles=b);return this;}},{key:"setColumns",value:function setColumns(a){this.columns=a;return this;}},{key:"showEditor_",value:function showEditor_(){this.dropdownCreate();getContentDiv$$module$build$src$core$dropdowndiv().appendChild(this.picker);showPositionedByField$$module$build$src$core$dropdowndiv(this,this.dropdownDispose.bind(this));this.picker.focus({preventScroll:!0});}},{key:"onClick",value:function onClick(a){a=(a=a.target)&&a.getAttribute("data-colour");null!==a&&(this.setValue(a),hideIfOwner$$module$build$src$core$dropdowndiv(this));}},{key:"onKeyDown",value:function onKeyDown(a){var b=!0;var c;switch(a.key){case"ArrowUp":this.moveHighlightBy(0,-1);break;case"ArrowDown":this.moveHighlightBy(0,1);break;case"ArrowLeft":this.moveHighlightBy(-1,0);break;case"ArrowRight":this.moveHighlightBy(1,0);break;case"Enter":if(c=this.getHighlighted())c=c.getAttribute("data-colour"),null!==c&&this.setValue(c);hideWithoutAnimation$$module$build$src$core$dropdowndiv();break;default:b=!1;}b&&a.stopPropagation();}},{key:"moveHighlightBy",value:function moveHighlightBy(a,b){if(this.highlightedIndex){var c=this.colours||FieldColour$$module$build$src$core$field_colour.COLOURS,d=this.columns||FieldColour$$module$build$src$core$field_colour.COLUMNS,e=this.highlightedIndex%d,f=Math.floor(this.highlightedIndex/d);e+=a;f+=b;0>a?0>e&&0<f?(e=d-1,f--):0>e&&(e=0):0<a?e>d-1&&f<Math.floor(c.length/d)-1?(e=0,f++):e>d-1&&e--:0>b?0>f&&(f=0):0<b&&f>Math.floor(c.length/d)-1&&(f=Math.floor(c.length/d)-1);this.setHighlightedCell(this.picker.childNodes[f].childNodes[e],f*d+e);}}},{key:"onMouseMove",value:function onMouseMove(a){var b=(a=a.target)&&Number(a.getAttribute("data-index"));null!==b&&b!==this.highlightedIndex&&this.setHighlightedCell(a,b);}},{key:"onMouseEnter",value:function onMouseEnter(){var a;null==(a=this.picker)||a.focus({preventScroll:!0});}},{key:"onMouseLeave",value:function onMouseLeave(){var a;null==(a=this.picker)||a.blur();(a=this.getHighlighted())&&removeClass$$module$build$src$core$utils$dom(a,"blocklyColourHighlighted");}},{key:"getHighlighted",value:function getHighlighted(){if(!this.highlightedIndex)return null;var a=this.columns||FieldColour$$module$build$src$core$field_colour.COLUMNS,b=this.picker.childNodes[Math.floor(this.highlightedIndex/a)];return b?b.childNodes[this.highlightedIndex%a]:null;}},{key:"setHighlightedCell",value:function setHighlightedCell(a,b){var c=this.getHighlighted();c&&removeClass$$module$build$src$core$utils$dom(c,"blocklyColourHighlighted");addClass$$module$build$src$core$utils$dom(a,"blocklyColourHighlighted");this.highlightedIndex=b;(a=a.getAttribute("id"))&&this.picker&&setState$$module$build$src$core$utils$aria(this.picker,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,a);}},{key:"dropdownCreate",value:function dropdownCreate(){var a=this.columns||FieldColour$$module$build$src$core$field_colour.COLUMNS,b=this.colours||FieldColour$$module$build$src$core$field_colour.COLOURS,c=this.titles||FieldColour$$module$build$src$core$field_colour.TITLES,d=this.getValue(),e=document.createElement("table");e.className="blocklyColourTable";e.tabIndex=0;e.dir="ltr";setRole$$module$build$src$core$utils$aria(e,Role$$module$build$src$core$utils$aria.GRID);setState$$module$build$src$core$utils$aria(e,State$$module$build$src$core$utils$aria.EXPANDED,!0);setState$$module$build$src$core$utils$aria(e,State$$module$build$src$core$utils$aria.ROWCOUNT,Math.floor(b.length/a));setState$$module$build$src$core$utils$aria(e,State$$module$build$src$core$utils$aria.COLCOUNT,a);var f;for(var g=0;g<b.length;g++){0===g%a&&(f=document.createElement("tr"),setRole$$module$build$src$core$utils$aria(f,Role$$module$build$src$core$utils$aria.ROW),e.appendChild(f));var h=document.createElement("td");f.appendChild(h);h.setAttribute("data-colour",b[g]);h.title=c[g]||b[g];h.id=getNextUniqueId$$module$build$src$core$utils$idgenerator();h.setAttribute("data-index",`${g}`);setRole$$module$build$src$core$utils$aria(h,Role$$module$build$src$core$utils$aria.GRIDCELL);setState$$module$build$src$core$utils$aria(h,State$$module$build$src$core$utils$aria.LABEL,b[g]);setState$$module$build$src$core$utils$aria(h,State$$module$build$src$core$utils$aria.SELECTED,b[g]===d);h.style.backgroundColor=b[g];b[g]===d&&(h.className="blocklyColourSelected",this.highlightedIndex=g);}this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(e,"pointerdown",this,this.onClick,!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(e,"pointermove",this,this.onMouseMove,!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(e,"pointerenter",this,this.onMouseEnter,!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(e,"pointerleave",this,this.onMouseLeave,!0));this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(e,"keydown",this,this.onKeyDown,!1));this.picker=e;}},{key:"dropdownDispose",value:function dropdownDispose(){var _iterator80=_createForOfIteratorHelper(this.boundEvents),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var a=_step80.value;unbind$$module$build$src$core$browser_events(a);}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}this.boundEvents.length=0;this.highlightedIndex=this.picker=null;}}],[{key:"fromJson",value:function fromJson(a){return new this(a.colour,void 0,a);}}]);return FieldColour$$module$build$src$core$field_colour;}(Field$$module$build$src$core$field);FieldColour$$module$build$src$core$field_colour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");FieldColour$$module$build$src$core$field_colour.TITLES=[];FieldColour$$module$build$src$core$field_colour.COLUMNS=7;FieldColour$$module$build$src$core$field_colour.prototype.DEFAULT_VALUE=FieldColour$$module$build$src$core$field_colour.COLOURS[0];register$$module$build$src$core$field_registry("field_colour",FieldColour$$module$build$src$core$field_colour);register$$module$build$src$core$css("\n.blocklyColourTable {\n  border-collapse: collapse;\n  display: block;\n  outline: none;\n  padding: 1px;\n}\n\n.blocklyColourTable>tr>td {\n  border: 0.5px solid #888;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-block;\n  height: 20px;\n  padding: 0;\n  width: 20px;\n}\n\n.blocklyColourTable>tr>td.blocklyColourHighlighted {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);\n  position: relative;\n}\n\n.blocklyColourSelected, .blocklyColourSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n");var module$build$src$core$field_colour={};module$build$src$core$field_colour.FieldColour=FieldColour$$module$build$src$core$field_colour;var FieldLabelSerializable$$module$build$src$core$field_label_serializable=/*#__PURE__*/function(_FieldLabel$$module$b){"use strict";_inherits(FieldLabelSerializable$$module$build$src$core$field_label_serializable,_FieldLabel$$module$b);function FieldLabelSerializable$$module$build$src$core$field_label_serializable(a,b,c){var _this97;_classCallCheck(this,FieldLabelSerializable$$module$build$src$core$field_label_serializable);_this97=_callSuper(this,FieldLabelSerializable$$module$build$src$core$field_label_serializable,[String(null!=a?a:""),b,c]);_this97.EDITABLE=!1;_this97.SERIALIZABLE=!0;return _this97;}_createClass(FieldLabelSerializable$$module$build$src$core$field_label_serializable,null,[{key:"fromJson",value:function fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a);}}]);return FieldLabelSerializable$$module$build$src$core$field_label_serializable;}(FieldLabel$$module$build$src$core$field_label);register$$module$build$src$core$field_registry("field_label_serializable",FieldLabelSerializable$$module$build$src$core$field_label_serializable);var module$build$src$core$field_label_serializable={};module$build$src$core$field_label_serializable.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;var FieldMultilineInput$$module$build$src$core$field_multilineinput=/*#__PURE__*/function(_FieldTextInput$$modu){"use strict";_inherits(FieldMultilineInput$$module$build$src$core$field_multilineinput,_FieldTextInput$$modu);function FieldMultilineInput$$module$build$src$core$field_multilineinput(a,b,c){var _this98;_classCallCheck(this,FieldMultilineInput$$module$build$src$core$field_multilineinput);_this98=_callSuper(this,FieldMultilineInput$$module$build$src$core$field_multilineinput,[Field$$module$build$src$core$field.SKIP_SETUP]);_this98.textGroup=null;_this98.maxLines_=Infinity;_this98.isOverflowedY_=!1;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(c&&_this98.configure_(c),_this98.setValue(a),b&&_this98.setValidator(b));return _this98;}_createClass(FieldMultilineInput$$module$build$src$core$field_multilineinput,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldMultilineInput$$module$build$src$core$field_multilineinput.prototype),"configure_",this).call(this,a);a.maxLines&&this.setMaxLines(a.maxLines);}},{key:"toXml",value:function toXml(a){a.textContent=this.getValue().replace(/\n/g,"&#10;");return a;}},{key:"fromXml",value:function fromXml(a){this.setValue(a.textContent.replace(/&#10;/g,"\n"));}},{key:"saveState",value:function saveState(){var a=this.saveLegacyState(FieldMultilineInput$$module$build$src$core$field_multilineinput);return null!==a?a:this.getValue();}},{key:"loadState",value:function loadState(a){this.loadLegacyState(Field$$module$build$src$core$field,a)||this.setValue(a);}},{key:"initView",value:function initView(){this.createBorderRect_();this.textGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":"blocklyEditableText"},this.fieldGroup_);}},{key:"getDisplayText_",value:function getDisplayText_(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();var b=this.getText();if(!b)return Field$$module$build$src$core$field.NBSP;var c=b.split("\n");b="";var d=this.isOverflowedY_?this.maxLines_:c.length;for(var e=0;e<d;e++){var f=c[e];f.length>this.maxDisplayLength?f=f.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&e===d-1&&(f=f.substring(0,f.length-3)+"...");f=f.replace(/\s/g,Field$$module$build$src$core$field.NBSP);b+=f;e!==d-1&&(b+="\n");}a.RTL&&(b+="\u200f");return b;}},{key:"doValueUpdate_",value:function doValueUpdate_(a){_get(_getPrototypeOf(FieldMultilineInput$$module$build$src$core$field_multilineinput.prototype),"doValueUpdate_",this).call(this,a);null!==this.value_&&(this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_);}},{key:"render_",value:function render_(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();for(var b,c=this.textGroup;b=c.firstChild;)c.removeChild(b);b=this.getDisplayText_().split("\n");var d=0;for(var e=0;e<b.length;e++){var f=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{"class":"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:d+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},c).appendChild(document.createTextNode(b[e]));d+=f;}this.isBeingEdited_&&(c=this.htmlInput_,this.isOverflowedY_?addClass$$module$build$src$core$utils$dom(c,"blocklyHtmlTextAreaInputOverflowedY"):removeClass$$module$build$src$core$utils$dom(c,"blocklyHtmlTextAreaInputOverflowedY"));this.updateSize_();this.isBeingEdited_&&(a.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),a=this.htmlInput_,this.isTextValid_?(removeClass$$module$build$src$core$utils$dom(a,"blocklyInvalidInput"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!1)):(addClass$$module$build$src$core$utils$dom(a,"blocklyInvalidInput"),setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.INVALID,!0)));}},{key:"updateSize_",value:function updateSize_(){var a=this.textGroup.childNodes;var b=this.getConstants().FIELD_TEXT_FONTSIZE,c=this.getConstants().FIELD_TEXT_FONTWEIGHT,d=this.getConstants().FIELD_TEXT_FONTFAMILY;var e=0,f=0;for(var g=0;g<a.length;g++){var h=getFastTextWidth$$module$build$src$core$utils$dom(a[g],b,c,d);h>e&&(e=h);f+=this.getConstants().FIELD_TEXT_HEIGHT+(0<g?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0);}if(this.isBeingEdited_){a=String(this.value_).split("\n");g=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{"class":"blocklyText blocklyMultilineText"});for(h=0;h<a.length;h++){a[h].length>this.maxDisplayLength&&(a[h]=a[h].substring(0,this.maxDisplayLength));g.textContent=a[h];var k=getFastTextWidth$$module$build$src$core$utils$dom(g,b,c,d);k>e&&(e=k);}e+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth;}this.borderRect_&&(f+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,e+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",`${e}`),this.borderRect_.setAttribute("height",`${f}`));this.size_.width=e;this.size_.height=f;this.positionBorderRect_();}},{key:"showEditor_",value:function showEditor_(a,b){_get(_getPrototypeOf(FieldMultilineInput$$module$build$src$core$field_multilineinput.prototype),"showEditor_",this).call(this,a,b);this.forceRerender();}},{key:"widgetCreate_",value:function widgetCreate_(){var a=getDiv$$module$build$src$core$widgetdiv(),b=this.workspace_.getScale(),c=document.createElement("textarea");c.className="blocklyHtmlInput blocklyHtmlTextAreaInput";c.setAttribute("spellcheck",String(this.spellcheck_));var d=this.getConstants().FIELD_TEXT_FONTSIZE*b+"pt";a.style.fontSize=d;c.style.fontSize=d;c.style.borderRadius=FieldTextInput$$module$build$src$core$field_textinput.BORDERRADIUS*b+"px";d=this.getConstants().FIELD_BORDER_RECT_X_PADDING*b;var e=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*b/2;c.style.padding=e+"px "+d+"px "+e+"px "+d+"px";d=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;c.style.lineHeight=d*b+"px";a.appendChild(c);c.value=c.defaultValue=this.getEditorText_(this.value_);c.setAttribute("data-untyped-default-value",String(this.value_));c.setAttribute("data-old-value","");GECKO$$module$build$src$core$utils$useragent?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_();this.bindInputEvents_(c);return c;}},{key:"setMaxLines",value:function setMaxLines(a){"number"===typeof a&&0<a&&a!==this.maxLines_&&(this.maxLines_=a,this.forceRerender());}},{key:"getMaxLines",value:function getMaxLines(){return this.maxLines_;}},{key:"onHtmlInputKeyDown_",value:function onHtmlInputKeyDown_(a){if("Enter"!==a.key)_get(_getPrototypeOf(FieldMultilineInput$$module$build$src$core$field_multilineinput.prototype),"onHtmlInputKeyDown_",this).call(this,a);}}],[{key:"fromJson",value:function fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.text),void 0,a);}}]);return FieldMultilineInput$$module$build$src$core$field_multilineinput;}(FieldTextInput$$module$build$src$core$field_textinput);register$$module$build$src$core$field_registry("field_multilinetext",FieldMultilineInput$$module$build$src$core$field_multilineinput);register$$module$build$src$core$css("\n.blocklyHtmlTextAreaInput {\n  font-family: monospace;\n  resize: none;\n  overflow: hidden;\n  height: 100%;\n  text-align: left;\n}\n\n.blocklyHtmlTextAreaInputOverflowedY {\n  overflow-y: scroll;\n}\n");var module$build$src$core$field_multilineinput={};module$build$src$core$field_multilineinput.FieldMultilineInput=FieldMultilineInput$$module$build$src$core$field_multilineinput;var FieldNumber$$module$build$src$core$field_number=/*#__PURE__*/function(_FieldInput$$module$b3){"use strict";_inherits(FieldNumber$$module$build$src$core$field_number,_FieldInput$$module$b3);function FieldNumber$$module$build$src$core$field_number(a,b,c,d,e,f){var _this99;_classCallCheck(this,FieldNumber$$module$build$src$core$field_number);_this99=_callSuper(this,FieldNumber$$module$build$src$core$field_number,[Field$$module$build$src$core$field.SKIP_SETUP]);_this99.min_=-Infinity;_this99.max_=Infinity;_this99.precision_=0;_this99.decimalPlaces=null;_this99.spellcheck_=!1;a!==Field$$module$build$src$core$field.SKIP_SETUP&&(f?_this99.configure_(f):_this99.setConstraints(b,c,d),_this99.setValue(a),e&&_this99.setValidator(e));return _this99;}_createClass(FieldNumber$$module$build$src$core$field_number,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldNumber$$module$build$src$core$field_number.prototype),"configure_",this).call(this,a);this.setMinInternal(a.min);this.setMaxInternal(a.max);this.setPrecisionInternal(a.precision);}},{key:"setConstraints",value:function setConstraints(a,b,c){this.setMinInternal(a);this.setMaxInternal(b);this.setPrecisionInternal(c);this.setValue(this.getValue());}},{key:"setMin",value:function setMin(a){this.setMinInternal(a);this.setValue(this.getValue());}},{key:"setMinInternal",value:function setMinInternal(a){null==a?this.min_=-Infinity:(a=Number(a),isNaN(a)||(this.min_=a));}},{key:"getMin",value:function getMin(){return this.min_;}},{key:"setMax",value:function setMax(a){this.setMaxInternal(a);this.setValue(this.getValue());}},{key:"setMaxInternal",value:function setMaxInternal(a){null==a?this.max_=Infinity:(a=Number(a),isNaN(a)||(this.max_=a));}},{key:"getMax",value:function getMax(){return this.max_;}},{key:"setPrecision",value:function setPrecision(a){this.setPrecisionInternal(a);this.setValue(this.getValue());}},{key:"setPrecisionInternal",value:function setPrecisionInternal(a){this.precision_=Number(a)||0;var b=String(this.precision_);-1!==b.indexOf("e")&&(b=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var c=b.indexOf(".");this.decimalPlaces=-1===c?a?0:null:b.length-c-1;}},{key:"getPrecision",value:function getPrecision(){return this.precision_;}},{key:"doClassValidation_",value:function doClassValidation_(a){if(null===a)return null;a=`${a}`.replace(/O/gi,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.min_),this.max_);this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_);null!==this.decimalPlaces&&(a=Number(a.toFixed(this.decimalPlaces)));return a;}},{key:"widgetCreate_",value:function widgetCreate_(){var a=_get(_getPrototypeOf(FieldNumber$$module$build$src$core$field_number.prototype),"widgetCreate_",this).call(this);-Infinity<this.min_&&(a.min=`${this.min_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMIN,this.min_));Infinity>this.max_&&(a.max=`${this.max_}`,setState$$module$build$src$core$utils$aria(a,State$$module$build$src$core$utils$aria.VALUEMAX,this.max_));return a;}}],[{key:"fromJson",value:function fromJson(a){return new this(a.value,void 0,void 0,void 0,void 0,a);}}]);return FieldNumber$$module$build$src$core$field_number;}(FieldInput$$module$build$src$core$field_input);register$$module$build$src$core$field_registry("field_number",FieldNumber$$module$build$src$core$field_number);FieldNumber$$module$build$src$core$field_number.prototype.DEFAULT_VALUE=0;var module$build$src$core$field_number={};module$build$src$core$field_number.FieldNumber=FieldNumber$$module$build$src$core$field_number;var FieldVariable$$module$build$src$core$field_variable=/*#__PURE__*/function(_FieldDropdown$$modul){"use strict";_inherits(FieldVariable$$module$build$src$core$field_variable,_FieldDropdown$$modul);function FieldVariable$$module$build$src$core$field_variable(a,b,c,d,e){var _this100;_classCallCheck(this,FieldVariable$$module$build$src$core$field_variable);_this100=_callSuper(this,FieldVariable$$module$build$src$core$field_variable,[Field$$module$build$src$core$field.SKIP_SETUP]);_this100.defaultType="";_this100.variableTypes=[];_this100.variable=null;_this100.SERIALIZABLE=!0;_this100.menuGenerator_=FieldVariable$$module$build$src$core$field_variable.dropdownCreate;_this100.defaultVariableName="string"===typeof a?a:"";_this100.size_=new Size$$module$build$src$core$utils$size(0,0);a!==Field$$module$build$src$core$field.SKIP_SETUP&&(e?_this100.configure_(e):_this100.setTypes(c,d),b&&_this100.setValidator(b));return _this100;}_createClass(FieldVariable$$module$build$src$core$field_variable,[{key:"configure_",value:function configure_(a){_get(_getPrototypeOf(FieldVariable$$module$build$src$core$field_variable.prototype),"configure_",this).call(this,a);this.setTypes(a.variableTypes,a.defaultType);}},{key:"initModel",value:function initModel(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();this.variable||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(a.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(a.getId()));}},{key:"shouldAddBorderRect_",value:function shouldAddBorderRect_(){var a=this.getSourceBlock();if(!a)throw new UnattachedFieldError$$module$build$src$core$field();return _get(_getPrototypeOf(FieldVariable$$module$build$src$core$field_variable.prototype),"shouldAddBorderRect_",this).call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==a.type);}},{key:"fromXml",value:function fromXml(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,c,d,e);if(null!==e&&e!==b.type)throw Error("Serialized variable type with id '"+b.getId()+"' had type "+b.type+", and does not match variable field that references it: "+domToText$$module$build$src$core$xml(a)+".");this.setValue(b.getId());}},{key:"toXml",value:function toXml(a){this.initModel();a.id=this.variable.getId();a.textContent=this.variable.name;this.variable.type&&a.setAttribute("variabletype",this.variable.type);return a;}},{key:"saveState",value:function saveState(a){var b=this.saveLegacyState(FieldVariable$$module$build$src$core$field_variable);if(null!==b)return b;this.initModel();b={id:this.variable.getId()};a&&(b.name=this.variable.name,b.type=this.variable.type);return b;}},{key:"loadState",value:function loadState(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();this.loadLegacyState(FieldVariable$$module$build$src$core$field_variable,a)||(a=$.getOrCreateVariablePackage$$module$build$src$core$variables(b.workspace,a.id||null,a.name,a.type||""),this.setValue(a.getId()));}},{key:"setSourceBlock",value:function setSourceBlock(a){if(a.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");_get(_getPrototypeOf(FieldVariable$$module$build$src$core$field_variable.prototype),"setSourceBlock",this).call(this,a);}},{key:"getValue",value:function getValue(){return this.variable?this.variable.getId():null;}},{key:"getText",value:function getText(){return this.variable?this.variable.name:"";}},{key:"getVariable",value:function getVariable(){return this.variable;}},{key:"getValidator",value:function getValidator(){return this.variable?this.validator_:null;}},{key:"doClassValidation_",value:function doClassValidation_(a){if(null===a)return null;var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();b=$.getVariable$$module$build$src$core$variables(b.workspace,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;return this.typeIsAllowed(b)?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null);}},{key:"doValueUpdate_",value:function doValueUpdate_(a){var b=this.getSourceBlock();if(!b)throw new UnattachedFieldError$$module$build$src$core$field();this.variable=$.getVariable$$module$build$src$core$variables(b.workspace,a);_get(_getPrototypeOf(FieldVariable$$module$build$src$core$field_variable.prototype),"doValueUpdate_",this).call(this,a);}},{key:"typeIsAllowed",value:function typeIsAllowed(a){var b=this.getVariableTypes();if(!b)return!0;for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1;}},{key:"getVariableTypes",value:function getVariableTypes(){var a=this.variableTypes;if(null===a&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();a=a||[""];if(0===a.length)throw a=this.getText(),Error("'variableTypes' of field variable "+a+" was an empty list");return a;}},{key:"setTypes",value:function setTypes(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(Array.isArray(a)){var c=!1;for(var d=0;d<a.length;d++)a[d]===b&&(c=!0);if(!c)throw Error("Invalid default type '"+b+"' in the definition of a FieldVariable");}else if(null!==a)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=b;this.variableTypes=a;}},{key:"refreshVariableName",value:function refreshVariableName(){this.forceRerender();}},{key:"onItemSelected_",value:function onItemSelected_(a,b){a=b.getValue();if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(a===RENAME_VARIABLE_ID$$module$build$src$core$internal_constants){$.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return;}if(a===DELETE_VARIABLE_ID$$module$build$src$core$internal_constants){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return;}}this.setValue(a);}},{key:"referencesVariables",value:function referencesVariables(){return!0;}}],[{key:"fromJson",value:function fromJson(a){return new this(replaceMessageReferences$$module$build$src$core$utils$parsing(a.variable),void 0,void 0,void 0,a);}},{key:"dropdownCreate",value:function dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.getText();var b=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){var c=this.getVariableTypes();for(var d=0;d<c.length;d++){var e=this.sourceBlock_.workspace.getVariablesOfType(c[d]);b=b.concat(e);}}b.sort(VariableModel$$module$build$src$core$variable_model.compareByName);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].getId()];c.push([$.Msg$$module$build$src$core$msg.RENAME_VARIABLE,RENAME_VARIABLE_ID$$module$build$src$core$internal_constants]);$.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&c.push([$.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",a),DELETE_VARIABLE_ID$$module$build$src$core$internal_constants]);return c;}}]);return FieldVariable$$module$build$src$core$field_variable;}(FieldDropdown$$module$build$src$core$field_dropdown);register$$module$build$src$core$field_registry("field_variable",FieldVariable$$module$build$src$core$field_variable);var module$build$src$core$field_variable={};module$build$src$core$field_variable.FieldVariable=FieldVariable$$module$build$src$core$field_variable;var FlyoutButton$$module$build$src$core$flyout_button=/*#__PURE__*/function(){"use strict";function FlyoutButton$$module$build$src$core$flyout_button(a,b,c,d){_classCallCheck(this,FlyoutButton$$module$build$src$core$flyout_button);this.workspace=a;this.targetWorkspace=b;this.isLabel_=d;this.onMouseUpWrapper=null;this.height=this.width=0;this.svgText=this.svgGroup=null;this.text=c.text;this.position=new Coordinate$$module$build$src$core$utils$coordinate(0,0);this.callbackKey=c.callbackKey||c.callbackkey;this.cssClass=c["web-class"]||null;this.info=c;}_createClass(FlyoutButton$$module$build$src$core$flyout_button,[{key:"createDom",value:function createDom(){var a=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(a+=" "+this.cssClass);this.svgGroup=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.G,{"class":a},this.workspace.getCanvas());var b;this.isLabel_||(b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":"blocklyFlyoutButtonShadow",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,x:1,y:1},this.svgGroup));a=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"class":this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS,ry:FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS},this.svgGroup);var c=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.TEXT,{"class":this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var d=replaceMessageReferences$$module$build$src$core$utils$parsing(this.text);this.workspace.RTL&&(d+="\u200f");c.textContent=d;this.isLabel_&&(this.svgText=c,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));var e=getComputedStyle$$module$build$src$core$utils$style(c,"fontSize"),f=getComputedStyle$$module$build$src$core$utils$style(c,"fontWeight"),g=getComputedStyle$$module$build$src$core$utils$style(c,"fontFamily");this.width=getFastTextWidthWithSizeString$$module$build$src$core$utils$dom(c,e,f,g);d=measureFontMetrics$$module$build$src$core$utils$dom(d,e,f,g);this.height=d.height;if(!this.isLabel_){this.width+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X;this.height+=2*FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y;var h;null==(h=b)||h.setAttribute("width",String(this.width));var k;null==(k=b)||k.setAttribute("height",String(this.height));}a.setAttribute("width",String(this.width));a.setAttribute("height",String(this.height));c.setAttribute("x",String(this.width/2));c.setAttribute("y",String(this.height/2-d.height/2+d.baseline));this.updateTransform();this.onMouseUpWrapper=conditionalBind$$module$build$src$core$browser_events(this.svgGroup,"pointerup",this,this.onMouseUp);return this.svgGroup;}},{key:"show",value:function show(){this.updateTransform();this.svgGroup.setAttribute("display","block");}},{key:"updateTransform",value:function updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")");}},{key:"moveTo",value:function moveTo(a,b){this.position.x=a;this.position.y=b;this.updateTransform();}},{key:"isLabel",value:function isLabel(){return this.isLabel_;}},{key:"getPosition",value:function getPosition(){return this.position;}},{key:"getButtonText",value:function getButtonText(){return this.text;}},{key:"getTargetWorkspace",value:function getTargetWorkspace(){return this.targetWorkspace;}},{key:"dispose",value:function dispose(){this.onMouseUpWrapper&&unbind$$module$build$src$core$browser_events(this.onMouseUpWrapper);this.svgGroup&&removeNode$$module$build$src$core$utils$dom(this.svgGroup);this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText);}},{key:"onMouseUp",value:function onMouseUp(a){(a=this.targetWorkspace.getGesture(a))&&a.cancel();this.isLabel_&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isLabel_||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isLabel_||(a=this.targetWorkspace.getButtonCallback(this.callbackKey))&&a(this):console.warn("Buttons should have callbacks. Button text: "+this.text);}}]);return FlyoutButton$$module$build$src$core$flyout_button;}();FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_X=5;FlyoutButton$$module$build$src$core$flyout_button.TEXT_MARGIN_Y=2;FlyoutButton$$module$build$src$core$flyout_button.BORDER_RADIUS=4;register$$module$build$src$core$css("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var module$build$src$core$flyout_button={};module$build$src$core$flyout_button.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;var FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager=/*#__PURE__*/function(_MetricsManager$$modu){"use strict";_inherits(FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager,_MetricsManager$$modu);function FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager(a,b){var _this101;_classCallCheck(this,FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager);_this101=_callSuper(this,FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager,[a]);_this101.flyout_=b;return _this101;}_createClass(FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager,[{key:"getBoundingBox_",value:function getBoundingBox_(){var a;try{a=this.workspace_.getCanvas().getBBox();}catch(b){a={height:0,y:0,width:0,x:0};}return a;}},{key:"getContentMetrics",value:function getContentMetrics(a){var b=this.getBoundingBox_();a=a?1:this.workspace_.scale;return{height:b.height*a,width:b.width*a,top:b.y*a,left:b.x*a};}},{key:"getScrollMetrics",value:function getScrollMetrics(a,b,c){b=c||this.getContentMetrics();c=this.flyout_.MARGIN*this.workspace_.scale;a=a?this.workspace_.scale:1;return{height:(b.height+2*c)/a,width:(b.width+b.left+c)/a,top:0,left:0};}}]);return FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;}(MetricsManager$$module$build$src$core$metrics_manager),module$build$src$core$flyout_metrics_manager={};module$build$src$core$flyout_metrics_manager.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;var FlyoutItemType$$module$build$src$core$flyout_base;(function(a){a.BLOCK="block";a.BUTTON="button";})(FlyoutItemType$$module$build$src$core$flyout_base||(FlyoutItemType$$module$build$src$core$flyout_base={}));var Flyout$$module$build$src$core$flyout_base=/*#__PURE__*/function(_DeleteArea$$module$b2){"use strict";_inherits(Flyout$$module$build$src$core$flyout_base,_DeleteArea$$module$b2);function Flyout$$module$build$src$core$flyout_base(a){var _this102;_classCallCheck(this,Flyout$$module$build$src$core$flyout_base);_this102=_callSuper(this,Flyout$$module$build$src$core$flyout_base);_this102.horizontalLayout=!1;_this102.boundEvents=[];_this102.filterWrapper=_this102.reflowWrapper=null;_this102.mats=[];_this102.buttons_=[];_this102.listeners=[];_this102.permanentlyDisabled=[];_this102.recycledBlocks=[];_this102.autoClose=!0;_this102.isVisible_=!1;_this102.containerVisible=!0;_this102.CORNER_RADIUS=8;_this102.SCROLLBAR_MARGIN=2.5;_this102.height_=_this102.width_=0;_this102.dragAngleRange_=70;_this102.svgGroup_=_this102.svgBackground_=null;a.setMetrics=_this102.setMetrics_.bind(_assertThisInitialized(_this102));_this102.workspace_=new WorkspaceSvg$$module$build$src$core$workspace_svg(a);_this102.workspace_.setMetricsManager(new FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager(_this102.workspace_,_assertThisInitialized(_this102)));_this102.workspace_.internalIsFlyout=!0;_this102.workspace_.setVisible(_this102.isVisible_);_this102.id=genUid$$module$build$src$core$utils$idgenerator();_this102.RTL=!!a.RTL;_this102.toolboxPosition_=a.toolboxPosition;_this102.tabWidth_=_this102.workspace_.getRenderer().getConstants().TAB_WIDTH;_this102.rectMap_=new WeakMap();_this102.MARGIN=_this102.CORNER_RADIUS;_this102.GAP_X=3*_this102.MARGIN;_this102.GAP_Y=3*_this102.MARGIN;return _this102;}_createClass(Flyout$$module$build$src$core$flyout_base,[{key:"createDom",value:function createDom(a){this.svgGroup_=createSvgElement$$module$build$src$core$utils$dom(a,{"class":"blocklyFlyout"});this.svgGroup_.style.display="none";this.svgBackground_=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyFlyoutBackground"},this.svgGroup_);this.svgGroup_.appendChild(this.workspace_.createDom());this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill");this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity");return this.svgGroup_;}},{key:"init",value:function init(a){this.targetWorkspace=a;this.workspace_.targetWorkspace=a;this.workspace_.scrollbar=new ScrollbarPair$$module$build$src$core$scrollbar_pair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN);this.hide();this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgGroup_,"wheel",this,this.wheel_));this.filterWrapper=this.filterForCapacity.bind(this);this.targetWorkspace.addChangeListener(this.filterWrapper);this.boundEvents.push(conditionalBind$$module$build$src$core$browser_events(this.svgBackground_,"pointerdown",this,this.onMouseDown));this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace);this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap());this.workspace_.createPotentialVariableMap();a.getComponentManager().addComponent({component:this,weight:1,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]});}},{key:"dispose",value:function dispose(){this.hide();this.targetWorkspace.getComponentManager().removeComponent(this.id);var _iterator81=_createForOfIteratorHelper(this.boundEvents),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var a=_step81.value;unbind$$module$build$src$core$browser_events(a);}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}this.boundEvents.length=0;this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper);this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose());this.svgGroup_&&removeNode$$module$build$src$core$utils$dom(this.svgGroup_);}},{key:"getWidth",value:function getWidth(){return this.width_;}},{key:"getHeight",value:function getHeight(){return this.height_;}},{key:"getFlyoutScale",value:function getFlyoutScale(){return this.targetWorkspace.scale;}},{key:"getWorkspace",value:function getWorkspace(){return this.workspace_;}},{key:"setAutoClose",value:function setAutoClose(a){this.autoClose=a;this.targetWorkspace.recordDragTargets();this.targetWorkspace.resizeContents();}},{key:"autoHide",value:function autoHide(a){!a&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide();}},{key:"isVisible",value:function isVisible(){return this.isVisible_;}},{key:"setVisible",value:function setVisible(a){var b=a!==this.isVisible();this.isVisible_=a;b&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay());}},{key:"setContainerVisible",value:function setContainerVisible(a){var b=a!==this.containerVisible;this.containerVisible=a;b&&this.updateDisplay();}},{key:"updateDisplay",value:function updateDisplay(){var a;a=this.containerVisible?this.isVisible():!1;this.svgGroup_&&(this.svgGroup_.style.display=a?"block":"none");var b;null==(b=this.workspace_.scrollbar)||b.setContainerVisible(a);}},{key:"positionAt_",value:function positionAt_(a,b,c,d){var e;null==(e=this.svgGroup_)||e.setAttribute("width",`${a}`);var f;null==(f=this.svgGroup_)||f.setAttribute("height",`${b}`);this.workspace_.setCachedParentSvgSize(a,b);this.svgGroup_&&setCssTransform$$module$build$src$core$utils$dom(this.svgGroup_,"translate("+c+"px,"+d+"px)");if(a=this.workspace_.scrollbar)a.setOrigin(c,d),a.resize(),a.hScroll&&a.hScroll.setPosition(a.hScroll.position.x,a.hScroll.position.y),a.vScroll&&a.vScroll.setPosition(a.vScroll.position.x,a.vScroll.position.y);}},{key:"hide",value:function hide(){if(this.isVisible()){this.setVisible(!1);var _iterator82=_createForOfIteratorHelper(this.listeners),_step82;try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){var a=_step82.value;unbind$$module$build$src$core$browser_events(a);}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}this.listeners.length=0;this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null);}}},{key:"show",value:function show(a){this.workspace_.setResizesEnabled(!1);this.hide();this.clearOldBlocks();"string"===typeof a&&(a=this.getDynamicCategoryContents(a));this.setVisible(!0);a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a);a=this.createFlyoutInfo(a);triggerQueuedRenders$$module$build$src$core$render_management(this.workspace_);this.layout_(a.contents,a.gaps);this.horizontalLayout?this.height_=0:this.width_=0;this.workspace_.setResizesEnabled(!0);this.reflow();this.filterForCapacity();this.position();this.reflowWrapper=this.reflow.bind(this);this.workspace_.addChangeListener(this.reflowWrapper);this.emptyRecycledBlocks();}},{key:"createFlyoutInfo",value:function createFlyoutInfo(a){var b=[],c=[];this.permanentlyDisabled.length=0;var d=this.horizontalLayout?this.GAP_X:this.GAP_Y;var _iterator83=_createForOfIteratorHelper(a),_step83;try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){var e=_step83.value;if("custom"in e){a=this.getDynamicCategoryContents(e.custom);a=convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a);var _this$createFlyoutInf=this.createFlyoutInfo(a),f=_this$createFlyoutInf.contents,g=_this$createFlyoutInf.gaps;b.push.apply(b,_toConsumableArray(f));c.push.apply(c,_toConsumableArray(g));}switch(e.kind.toUpperCase()){case"BLOCK":a=e;var _f5=this.createFlyoutBlock(a);b.push({type:FlyoutItemType$$module$build$src$core$flyout_base.BLOCK,block:_f5});this.addBlockGap(a,c,d);break;case"SEP":this.addSeparatorGap(e,c,d);break;case"LABEL":a=this.createButton(e,!0);b.push({type:FlyoutItemType$$module$build$src$core$flyout_base.BUTTON,button:a});c.push(d);break;case"BUTTON":a=this.createButton(e,!1),b.push({type:FlyoutItemType$$module$build$src$core$flyout_base.BUTTON,button:a}),c.push(d);}}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}return{contents:b,gaps:c};}},{key:"getDynamicCategoryContents",value:function getDynamicCategoryContents(a){a=this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);if("function"!==typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");return a(this.workspace_.targetWorkspace);}},{key:"createButton",value:function createButton(a,b){return new FlyoutButton$$module$build$src$core$flyout_button(this.workspace_,this.targetWorkspace,a,b);}},{key:"createFlyoutBlock",value:function createFlyoutBlock(a){var b;a.blockxml?(a="string"===typeof a.blockxml?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,(b=this.getRecycledBlock(a.getAttribute("type")))||(b=domToBlockInternal$$module$build$src$core$xml(a,this.workspace_))):(b=this.getRecycledBlock(a.type),b||(void 0===a.enabled&&(a.enabled="true"!==a.disabled&&!0!==a.disabled),b=appendInternal$$module$build$src$core$serialization$blocks(a,this.workspace_)));b.isEnabled()||this.permanentlyDisabled.push(b);return b;}},{key:"getRecycledBlock",value:function getRecycledBlock(a){var b=-1;for(var c=0;c<this.recycledBlocks.length;c++)if(this.recycledBlocks[c].type===a){b=c;break;}return-1===b?void 0:this.recycledBlocks.splice(b,1)[0];}},{key:"addBlockGap",value:function addBlockGap(a,b,c){var d;a.gap?d=parseInt(String(a.gap)):a.blockxml&&(a="string"===typeof a.blockxml?$.textToDom$$module$build$src$core$utils$xml(a.blockxml):a.blockxml,d=parseInt(a.getAttribute("gap")));b.push(!d||isNaN(d)?c:d);}},{key:"addSeparatorGap",value:function addSeparatorGap(a,b,c){a=parseInt(String(a.gap));!isNaN(a)&&0<b.length?b[b.length-1]=a:b.push(c);}},{key:"clearOldBlocks",value:function clearOldBlocks(){var a=this.workspace_.getTopBlocks(!1);for(var c=0,d;d=a[c];c++)this.blockIsRecyclable_(d)?this.recycleBlock(d):d.dispose(!1,!1);for(a=0;a<this.mats.length;a++){var _c8=this.mats[a];_c8&&(unbindMouseEvents$$module$build$src$core$tooltip(_c8),removeNode$$module$build$src$core$utils$dom(_c8));}this.mats.length=0;for(var _c9=0,_d8;_d8=this.buttons_[_c9];_c9++)_d8.dispose();this.buttons_.length=0;var b;null==(b=this.workspace_.getPotentialVariableMap())||b.clear();}},{key:"emptyRecycledBlocks",value:function emptyRecycledBlocks(){for(var a=0;a<this.recycledBlocks.length;a++)this.recycledBlocks[a].dispose();this.recycledBlocks=[];}},{key:"blockIsRecyclable_",value:function blockIsRecyclable_(a){return!1;}},{key:"recycleBlock",value:function recycleBlock(a){var b=a.getRelativeToSurfaceXY();a.moveBy(-b.x,-b.y);this.recycledBlocks.push(a);}},{key:"addBlockListeners_",value:function addBlockListeners_(a,b,c){this.listeners.push(conditionalBind$$module$build$src$core$browser_events(a,"pointerdown",null,this.blockMouseDown(b)));this.listeners.push(conditionalBind$$module$build$src$core$browser_events(c,"pointerdown",null,this.blockMouseDown(b)));this.listeners.push(bind$$module$build$src$core$browser_events(a,"pointerenter",b,b.addSelect));this.listeners.push(bind$$module$build$src$core$browser_events(a,"pointerleave",b,b.removeSelect));this.listeners.push(bind$$module$build$src$core$browser_events(c,"pointerenter",b,b.addSelect));this.listeners.push(bind$$module$build$src$core$browser_events(c,"pointerleave",b,b.removeSelect));}},{key:"blockMouseDown",value:function blockMouseDown(a){var _this103=this;return function(b){var c=_this103.targetWorkspace.getGesture(b);c&&(c.setStartBlock(a),c.handleFlyoutStart(b,_this103));};}},{key:"onMouseDown",value:function onMouseDown(a){var b=this.targetWorkspace.getGesture(a);b&&b.handleFlyoutStart(a,this);}},{key:"isBlockCreatable",value:function isBlockCreatable(a){return a.isEnabled();}},{key:"createBlock",value:function createBlock(a){var b=null;$.disable$$module$build$src$core$events$utils();var c=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{b=this.placeNewBlock(a);}finally{$.enable$$module$build$src$core$events$utils();}this.targetWorkspace.hideChaff();a=getAddedVariables$$module$build$src$core$variables(this.targetWorkspace,c);if(isEnabled$$module$build$src$core$events$utils()){$.setGroup$$module$build$src$core$events$utils(!0);for(c=0;c<a.length;c++){var d=a[c];fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils(VAR_CREATE$$module$build$src$core$events$utils))(d));}fire$$module$build$src$core$events$utils(new(get$$module$build$src$core$events$utils($.CREATE$$module$build$src$core$events$utils))(b));}this.autoClose?this.hide():this.filterForCapacity();return b;}},{key:"initFlyoutButton_",value:function initFlyoutButton_(a,b,c){var d=a.createDom();a.moveTo(b,c);a.show();this.listeners.push(conditionalBind$$module$build$src$core$browser_events(d,"pointerdown",this,this.onMouseDown));this.buttons_.push(a);}},{key:"createRect_",value:function createRect_(a,b,c,d,e){b=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.RECT,{"fill-opacity":0,x:b,y:c,height:d.height,width:d.width});b.tooltip=a;bindMouseEvents$$module$build$src$core$tooltip(b);this.workspace_.getCanvas().insertBefore(b,a.getSvgRoot());this.rectMap_.set(a,b);return this.mats[e]=b;}},{key:"moveRectToBlock_",value:function moveRectToBlock_(a,b){var c=b.getHeightWidth();a.setAttribute("width",String(c.width));a.setAttribute("height",String(c.height));b=b.getRelativeToSurfaceXY();a.setAttribute("y",String(b.y));a.setAttribute("x",String(this.RTL?b.x-c.width:b.x));}},{key:"filterForCapacity",value:function filterForCapacity(){var a=this.workspace_.getTopBlocks(!1);for(var b=0,c;c=a[b];b++)if(-1===this.permanentlyDisabled.indexOf(c)){var d=this.targetWorkspace.isCapacityAvailable(getBlockTypeCounts$$module$build$src$core$common(c));for(;c;)c.setEnabled(d),c=c.getNextBlock();}}},{key:"reflow",value:function reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper);this.reflowInternal_();this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper);}},{key:"isScrollable",value:function isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1;}},{key:"placeNewBlock",value:function placeNewBlock(a){var b=this.targetWorkspace;if(!a.getSvgRoot())throw Error("oldBlock is not rendered");var c=save$$module$build$src$core$serialization$blocks(a);b.setResizesEnabled(!1);b=append$$module$build$src$core$serialization$blocks(c,b);this.positionNewBlock(a,b);return b;}},{key:"positionNewBlock",value:function positionNewBlock(a,b){var c=this.targetWorkspace;var d=c.getOriginOffsetInPixels(),e=this.workspace_.getOriginOffsetInPixels();a=a.getRelativeToSurfaceXY();a.scale(this.workspace_.scale);e=Coordinate$$module$build$src$core$utils$coordinate.sum(e,a);d=Coordinate$$module$build$src$core$utils$coordinate.difference(e,d);d.scale(1/c.scale);b.moveTo(new Coordinate$$module$build$src$core$utils$coordinate(d.x,d.y));}}]);return Flyout$$module$build$src$core$flyout_base;}(DeleteArea$$module$build$src$core$delete_area);Flyout$$module$build$src$core$flyout_base.FlyoutItemType=FlyoutItemType$$module$build$src$core$flyout_base;var module$build$src$core$flyout_base={};module$build$src$core$flyout_base.Flyout=Flyout$$module$build$src$core$flyout_base;var HorizontalFlyout$$module$build$src$core$flyout_horizontal=/*#__PURE__*/function(_Flyout$$module$build){"use strict";_inherits(HorizontalFlyout$$module$build$src$core$flyout_horizontal,_Flyout$$module$build);function HorizontalFlyout$$module$build$src$core$flyout_horizontal(a){var _this104;_classCallCheck(this,HorizontalFlyout$$module$build$src$core$flyout_horizontal);_this104=_callSuper(this,HorizontalFlyout$$module$build$src$core$flyout_horizontal,[a]);_this104.horizontalLayout=!0;return _this104;}_createClass(HorizontalFlyout$$module$build$src$core$flyout_horizontal,[{key:"setMetrics_",value:function setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();"number"===typeof a.x&&(this.workspace_.scrollX=-(c.left+(c.width-d.width)*a.x));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top);}}},{key:"getX",value:function getX(){return 0;}},{key:"getY",value:function getY(){if(!this.isVisible())return 0;var a=this.targetWorkspace.getMetricsManager();var b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();var d=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?d?a.height:c.height-this.height_:d?0:c.height:d?0:c.height+b.top-this.height_;}},{key:"position",value:function position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=a.width;this.setBackgroundPath(a.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS);a=this.getX();var b=this.getY();this.positionAt_(this.width_,this.height_,a,b);}}},{key:"setBackgroundPath",value:function setBackgroundPath(a,b){var c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP,d=["M 0,"+(c?0:this.CORNER_RADIUS)];c?(d.push("h",a+2*this.CORNER_RADIUS),d.push("v",b),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),d.push("h",a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",b),d.push("h",-a-2*this.CORNER_RADIUS));d.push("z");this.svgBackground_.setAttribute("d",d.join(" "));}},{key:"scrollToStart",value:function scrollToStart(){var a;null==(a=this.workspace_.scrollbar)||a.setX(this.RTL?Infinity:0);}},{key:"wheel_",value:function wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b=b.x||b.y){var c=this.workspace_.getMetricsManager(),d=c.getScrollMetrics();b=c.getViewMetrics().left-d.left+b;var e;null==(e=this.workspace_.scrollbar)||e.setX(b);hide$$module$build$src$core$widgetdiv();hideWithoutAnimation$$module$build$src$core$dropdowndiv();}a.preventDefault();a.stopPropagation();}},{key:"layout_",value:function layout_(a,b){this.workspace_.scale=this.targetWorkspace.scale;var c=this.MARGIN;var d=c+this.tabWidth_;this.RTL&&(a=a.reverse());for(var h=0,k;k=a[h];h++)if("block"===k.type){var e=k.block,f=e.getDescendants(!1);for(var m=0,n;n=f[m];m++)n.isInFlyout=!0;f=e.getSvgRoot();var l=e.getHeightWidth();var g=e.outputConnection?this.tabWidth_:0;g=this.RTL?d+l.width:d-g;e.moveBy(g,c);g=this.createRect_(e,g,c,l,h);d+=l.width+b[h];this.addBlockListeners_(f,e,g);}else"button"===k.type&&(e=k.button,this.initFlyoutButton_(e,d,c),d+=e.width+b[h]);}},{key:"isDragTowardWorkspace",value:function isDragTowardWorkspace(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1;}},{key:"getClientRect",value:function getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.top;return this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E9,b+a.height,-1E9,1E9):new Rect$$module$build$src$core$utils$rect(b,1E9,-1E9,1E9);}},{key:"reflowInternal_",value:function reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();var a=0;var b=this.workspace_.getTopBlocks(!1);for(var d=0,e;e=b[d];d++)a=Math.max(a,e.getHeightWidth().height);var c=this.buttons_;for(var _d9=0,_e10;_e10=c[_d9];_d9++)a=Math.max(a,_e10.height);a+=1.5*this.MARGIN;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;if(this.height_!==a){for(var _d10=0,_e11;_e11=b[_d10];_d10++)this.rectMap_.has(_e11)&&this.moveRectToBlock_(this.rectMap_.get(_e11),_e11);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+a);this.height_=a;this.position();this.targetWorkspace.resizeContents();this.targetWorkspace.recordDragTargets();}}}]);return HorizontalFlyout$$module$build$src$core$flyout_horizontal;}(Flyout$$module$build$src$core$flyout_base);register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,HorizontalFlyout$$module$build$src$core$flyout_horizontal);var module$build$src$core$flyout_horizontal={};module$build$src$core$flyout_horizontal.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;var VerticalFlyout$$module$build$src$core$flyout_vertical=/*#__PURE__*/function(_Flyout$$module$build2){"use strict";_inherits(VerticalFlyout$$module$build$src$core$flyout_vertical,_Flyout$$module$build2);function VerticalFlyout$$module$build$src$core$flyout_vertical(a){_classCallCheck(this,VerticalFlyout$$module$build$src$core$flyout_vertical);return _callSuper(this,VerticalFlyout$$module$build$src$core$flyout_vertical,[a]);}_createClass(VerticalFlyout$$module$build$src$core$flyout_vertical,[{key:"setMetrics_",value:function setMetrics_(a){if(this.isVisible()){var b=this.workspace_.getMetricsManager(),c=b.getScrollMetrics(),d=b.getViewMetrics();b=b.getAbsoluteMetrics();"number"===typeof a.y&&(this.workspace_.scrollY=-(c.top+(c.height-d.height)*a.y));this.workspace_.translate(this.workspace_.scrollX+b.left,this.workspace_.scrollY+b.top);}}},{key:"getX",value:function getX(){if(!this.isVisible())return 0;var a=this.targetWorkspace.getMetricsManager();var b=a.getAbsoluteMetrics(),c=a.getViewMetrics();a=a.getToolboxMetrics();return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?a.width:c.width-this.width_:this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width:this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?0:c.width+b.left-this.width_;}},{key:"getY",value:function getY(){return 0;}},{key:"position",value:function position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var a=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=a.height;this.setBackgroundPath(this.width_-this.CORNER_RADIUS,a.height-2*this.CORNER_RADIUS);a=this.getX();var b=this.getY();this.positionAt_(this.width_,this.height_,a,b);}}},{key:"setBackgroundPath",value:function setBackgroundPath(a,b){var c=this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.RIGHT;var d=a+this.CORNER_RADIUS;d=["M "+(c?d:0)+",0"];d.push("h",c?-a:a);d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("v",Math.max(0,b));d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("h",c?a:-a);d.push("z");this.svgBackground_.setAttribute("d",d.join(" "));}},{key:"scrollToStart",value:function scrollToStart(){var a;null==(a=this.workspace_.scrollbar)||a.setY(0);}},{key:"wheel_",value:function wheel_(a){var b=getScrollDeltaPixels$$module$build$src$core$browser_events(a);if(b.y){var c=this.workspace_.getMetricsManager(),d=c.getScrollMetrics();b=c.getViewMetrics().top-d.top+b.y;var e;null==(e=this.workspace_.scrollbar)||e.setY(b);hide$$module$build$src$core$widgetdiv();hideWithoutAnimation$$module$build$src$core$dropdowndiv();}a.preventDefault();a.stopPropagation();}},{key:"layout_",value:function layout_(a,b){this.workspace_.scale=this.targetWorkspace.scale;var c=this.MARGIN;var d=this.RTL?c:c+this.tabWidth_;for(var h=0,k;k=a[h];h++)if("block"===k.type){var e=k.block,f=e.getDescendants(!1);for(var m=0,n;n=f[m];m++)n.isInFlyout=!0;f=e.getSvgRoot();var l=e.getHeightWidth();var g=e.outputConnection?d-this.tabWidth_:d;e.moveBy(g,c);g=this.createRect_(e,this.RTL?g-l.width:g,c,l,h);this.addBlockListeners_(f,e,g);c+=l.height+b[h];}else"button"===k.type&&(e=k.button,this.initFlyoutButton_(e,d,c),c+=e.height+b[h]);}},{key:"isDragTowardWorkspace",value:function isDragTowardWorkspace(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1;}},{key:"getClientRect",value:function getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.left;return this.toolboxPosition_===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E9,1E9,-1E9,b+a.width):new Rect$$module$build$src$core$utils$rect(-1E9,1E9,b,1E9);}},{key:"reflowInternal_",value:function reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();var a=0;var b=this.workspace_.getTopBlocks(!1);for(var d=0,e;e=b[d];d++){var c=e.getHeightWidth().width;e.outputConnection&&(c-=this.tabWidth_);a=Math.max(a,c);}for(var _d11=0,_e12;_e12=this.buttons_[_d11];_d11++)a=Math.max(a,_e12.width);a+=1.5*this.MARGIN+this.tabWidth_;a*=this.workspace_.scale;a+=Scrollbar$$module$build$src$core$scrollbar.scrollbarThickness;if(this.width_!==a){for(var _d12=0,_e13;_e13=b[_d12];_d12++){if(this.RTL){c=_e13.getRelativeToSurfaceXY().x;var f=a/this.workspace_.scale-this.MARGIN;_e13.outputConnection||(f-=this.tabWidth_);_e13.moveBy(f-c,0);}this.rectMap_.has(_e13)&&this.moveRectToBlock_(this.rectMap_.get(_e13),_e13);}if(this.RTL)for(var _d13=0,_e14;_e14=this.buttons_[_d13];_d13++)b=_e14.getPosition().y,_e14.moveTo(a/this.workspace_.scale-_e14.width-this.MARGIN-this.tabWidth_,b);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Position$$module$build$src$core$utils$toolbox.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+a,this.targetWorkspace.scrollY);this.width_=a;this.position();this.targetWorkspace.resizeContents();this.targetWorkspace.recordDragTargets();}}}]);return VerticalFlyout$$module$build$src$core$flyout_vertical;}(Flyout$$module$build$src$core$flyout_base);VerticalFlyout$$module$build$src$core$flyout_vertical.registryName="verticalFlyout";register$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,DEFAULT$$module$build$src$core$registry,VerticalFlyout$$module$build$src$core$flyout_vertical);var module$build$src$core$flyout_vertical={};module$build$src$core$flyout_vertical.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;var module$build$src$core$generator;$.CodeGenerator$$module$build$src$core$generator=/*#__PURE__*/function(){"use strict";function _class4(a){_classCallCheck(this,_class4);this.forBlock=Object.create(null);this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}";this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null;this.INDENT="  ";this.COMMENT_WRAP=60;this.ORDER_OVERRIDES=[];this.isInitialized=null;this.RESERVED_WORDS_="";this.definitions_=Object.create(null);this.functionNames_=Object.create(null);this.nameDB_=void 0;this.name_=a;this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g");}_createClass(_class4,[{key:"workspaceToCode",value:function workspaceToCode(a){a||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),a=getMainWorkspace$$module$build$src$core$common());var b=[];this.init(a);a=a.getTopBlocks(!0);for(var c=0,d;d=a[c];c++){var e=this.blockToCode(d);Array.isArray(e)&&(e=e[0]);e&&(d.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,d)+e),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,d))),b.push(e));}b=b.join("\n");b=this.finish(b);b=b.replace(/^\s+\n/,"");b=b.replace(/\n\s+$/,"\n");return b=b.replace(/[ \t]+\n/g,"\n");}},{key:"prefixLines",value:function prefixLines(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b);}},{key:"allNestedComments",value:function allNestedComments(a){var b=[];a=a.getDescendants(!0);for(var c=0;c<a.length;c++){var d=a[c].getCommentText();d&&b.push(d);}b.length&&b.push("");return b.join("\n");}},{key:"blockToCode",value:function blockToCode(a,b){!1===this.isInitialized&&console.warn("CodeGenerator init was not called before blockToCode was called.");if(!a)return"";if(!a.isEnabled())return b?"":this.blockToCode(a.getNextBlock());if(a.isInsertionMarker())return b?"":this.blockToCode(a.getChildren(!1)[0]);var c=this.forBlock[a.type];!c&&this[a.type]&&(warn$$module$build$src$core$utils$deprecation("block generator functions on CodeGenerator objects","10.0","11.0","the .forBlock[blockType] dictionary"),c=this[a.type]);if("function"!==typeof c)throw Error(`${this.name_} generator does not know how to generate code `+`for block type "${a.type}".`);c=c.call(a,a,this);if(Array.isArray(c)){if(!a.outputConnection)throw TypeError("Expecting string from statement block: "+a.type);return[this.scrub_(a,c[0],b),c[1]];}if("string"===typeof c)return this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&(c=this.injectId(this.STATEMENT_PREFIX,a)+c),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(c+=this.injectId(this.STATEMENT_SUFFIX,a)),this.scrub_(a,c,b);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);}},{key:"valueToCode",value:function valueToCode(a,b,c){if(isNaN(c))throw TypeError("Expecting valid order from block: "+a.type);var d=a.getInputTargetBlock(b);if(!d)return"";b=this.blockToCode(d);if(""===b)return"";if(!Array.isArray(b))throw TypeError(`Expecting tuple from value block: ${d.type} See `+"developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information");a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+d.type);if(!a)return"";d=!1;var e=Math.floor(c);var f=Math.floor(b);if(e<=f&&(e!==f||0!==e&&99!==e))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]===c&&this.ORDER_OVERRIDES[e][1]===b){d=!1;break;}d&&(a="("+a+")");return a;}},{key:"statementToCode",value:function statementToCode(a,b){a=a.getInputTargetBlock(b);b=this.blockToCode(a);if("string"!==typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=this.prefixLines(b,this.INDENT));return b;}},{key:"addLoopTrap",value:function addLoopTrap(a,b){this.INFINITE_LOOP_TRAP&&(a=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,b),this.INDENT)+a);this.STATEMENT_SUFFIX&&!b.suppressPrefixSuffix&&(a=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,b),this.INDENT)+a);this.STATEMENT_PREFIX&&!b.suppressPrefixSuffix&&(a+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,b),this.INDENT));return a;}},{key:"injectId",value:function injectId(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'");}},{key:"addReservedWords",value:function addReservedWords(a){this.RESERVED_WORDS_+=a+",";}},{key:"provideFunction_",value:function provideFunction_(a,b){if(!this.definitions_[a]){var c=this.nameDB_.getDistinctName(a,$.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[a]=c;Array.isArray(b)&&(b=b.join("\n"));b=b.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);var d;for(;d!==b;)d=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,this.INDENT);this.definitions_[a]=b;}return this.functionNames_[a];}},{key:"getVariableName",value:function getVariableName(a){return this.getName(a,$.NameType$$module$build$src$core$names.VARIABLE);}},{key:"getProcedureName",value:function getProcedureName(a){return this.getName(a,$.NameType$$module$build$src$core$names.PROCEDURE);}},{key:"getName",value:function getName(a,b){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(a,b);}},{key:"init",value:function init(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null);}},{key:"scrub_",value:function scrub_(a,b,c){return b;}},{key:"finish",value:function finish(a){this.definitions_=Object.create(null);this.functionNames_=Object.create(null);return a;}},{key:"scrubNakedValue",value:function scrubNakedValue(a){return a;}}]);return _class4;}();module$build$src$core$generator={};module$build$src$core$generator.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;var documentEventsBound$$module$build$src$core$inject=!1,module$build$src$core$inject={};module$build$src$core$inject.inject=inject$$module$build$src$core$inject;var module$build$src$core$inputs={};module$build$src$core$inputs.Align=$.Align$$module$build$src$core$inputs$align;module$build$src$core$inputs.DummyInput=DummyInput$$module$build$src$core$inputs$dummy_input;module$build$src$core$inputs.EndRowInput=EndRowInput$$module$build$src$core$inputs$end_row_input;module$build$src$core$inputs.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$inputs.StatementInput=StatementInput$$module$build$src$core$inputs$statement_input;module$build$src$core$inputs.ValueInput=$.ValueInput$$module$build$src$core$inputs$value_input;module$build$src$core$inputs.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;var module$build$src$core$interfaces$i_icon={};module$build$src$core$interfaces$i_icon.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;var module$build$src$core$interfaces$i_paster={};module$build$src$core$interfaces$i_paster.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;var ConstantProvider$$module$build$src$core$renderers$geras$constants=/*#__PURE__*/function(_ConstantProvider$$mo2){"use strict";_inherits(ConstantProvider$$module$build$src$core$renderers$geras$constants,_ConstantProvider$$mo2);function ConstantProvider$$module$build$src$core$renderers$geras$constants(){var _this105;_classCallCheck(this,ConstantProvider$$module$build$src$core$renderers$geras$constants);_this105=_callSuper(this,ConstantProvider$$module$build$src$core$renderers$geras$constants);_this105.FIELD_TEXT_BASELINE_CENTER=!1;_this105.DARK_PATH_OFFSET=1;_this105.MAX_BOTTOM_WIDTH=30;_this105.STATEMENT_BOTTOM_SPACER=-_this105.NOTCH_HEIGHT/2;return _this105;}_createClass(ConstantProvider$$module$build$src$core$renderers$geras$constants,[{key:"getCSS_",value:function getCSS_(a){return _get(_getPrototypeOf(ConstantProvider$$module$build$src$core$renderers$geras$constants.prototype),"getCSS_",this).call(this,a).concat([`${a} .blocklyInsertionMarker>.blocklyPathLight,`,`${a} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]);}}]);return ConstantProvider$$module$build$src$core$renderers$geras$constants;}(ConstantProvider$$module$build$src$core$renderers$common$constants),module$build$src$core$renderers$geras$constants={};module$build$src$core$renderers$geras$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;var Highlighter$$module$build$src$core$renderers$geras$highlighter=/*#__PURE__*/function(){"use strict";function Highlighter$$module$build$src$core$renderers$geras$highlighter(a){_classCallCheck(this,Highlighter$$module$build$src$core$renderers$geras$highlighter);this.inlineSteps_=this.steps_="";this.info_=a;this.RTL_=this.info_.RTL;a=a.getRenderer();this.constants_=a.getConstants();this.highlightConstants_=a.getHighlightConstants();this.highlightOffset=this.highlightConstants_.OFFSET;this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER;this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER;this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB;this.notchPaths_=this.highlightConstants_.NOTCH;this.startPaths_=this.highlightConstants_.START_HAT;this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH;}_createClass(Highlighter$$module$build$src$core$renderers$geras$highlighter,[{key:"getPath",value:function getPath(){return this.steps_+"\n"+this.inlineSteps_;}},{key:"drawTopCorner",value:function drawTopCorner(a){this.steps_+=moveBy$$module$build$src$core$utils$svg_paths(a.xPos,this.info_.startY);for(var b=0,c;c=a.elements[b];b++)Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(c)?this.steps_+=this.highlightConstants_.START_POINT:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(c)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(c)?this.steps_+=this.notchPaths_.pathLeft:Types$$module$build$src$core$renderers$measurables$types.isHat(c)?this.steps_+=this.startPaths_.path(this.RTL_):Types$$module$build$src$core$renderers$measurables$types.isSpacer(c)&&0!==c.width&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",c.xPos+c.width-this.highlightOffset));this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",a.xPos+a.width-this.highlightOffset);}},{key:"drawJaggedEdge_",value:function drawJaggedEdge_(a){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+lineOnAxis$$module$build$src$core$utils$svg_paths("v",a.height-this.jaggedTeethPaths_.height-this.highlightOffset));}},{key:"drawValueInput",value:function drawValueInput(a){var b=a.getLastInput();if(this.RTL_){var c=a.height-b.connectionHeight;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width-this.highlightOffset,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",c);}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos+b.width,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_);}},{key:"drawStatementInput",value:function drawStatementInput(a){var b=a.getLastInput();if(b)if(this.RTL_){var c=a.height-2*this.insideCornerPaths_.height;this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",c)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-b.xPos-this.insideCornerPaths_.width,0);}else this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(b.xPos,a.yPos+a.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+lineTo$$module$build$src$core$utils$svg_paths(a.width-b.xPos-this.insideCornerPaths_.width,0);}},{key:"drawRightSideRow",value:function drawRightSideRow(a){var b=a.xPos+a.width-this.highlightOffset;a instanceof SpacerRow$$module$build$src$core$renderers$measurables$spacer_row&&a.followsStatement&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",b));this.RTL_&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",b),a.height>this.highlightOffset&&(this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.yPos+a.height-this.highlightOffset)));}},{key:"drawBottomRow",value:function drawBottomRow(a){if(this.RTL_)this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.baseline-this.highlightOffset);else{var b=this.info_.bottomRow.elements[0];Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(b)?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+this.highlightOffset,a.baseline-this.highlightOffset):Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(b)&&(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos,a.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft());}}},{key:"drawLeft",value:function drawLeft(){var a=this.info_.outputConnection;a&&(a=a.connectionOffsetY+a.height,this.RTL_?this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX,a):(this.steps_+=moveTo$$module$build$src$core$utils$svg_paths(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_));this.RTL_||(a=this.info_.topRow,Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a.elements[0])?this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",this.outsideCornerPaths_.height):this.steps_+=lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.capline+this.highlightOffset));}},{key:"drawInlineInput",value:function drawInlineInput(a){var b=this.highlightOffset,c=a.xPos+a.connectionWidth;var d=a.centerline-a.height/2;var e=a.width-a.connectionWidth,f=d+b;this.RTL_?(d=a.connectionOffsetY-b,a=a.height-(a.connectionOffsetY+a.connectionHeight)+b,this.inlineSteps_+=moveTo$$module$build$src$core$utils$svg_paths(c-b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",a)+lineOnAxis$$module$build$src$core$utils$svg_paths("h",e)):this.inlineSteps_+=moveTo$$module$build$src$core$utils$svg_paths(a.xPos+a.width+b,f)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",a.height)+lineOnAxis$$module$build$src$core$utils$svg_paths("h",-e)+moveTo$$module$build$src$core$utils$svg_paths(c,d+a.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_);}}]);return Highlighter$$module$build$src$core$renderers$geras$highlighter;}(),module$build$src$core$renderers$geras$highlighter={};module$build$src$core$renderers$geras$highlighter.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;var Drawer$$module$build$src$core$renderers$geras$drawer=/*#__PURE__*/function(_Drawer$$module$build2){"use strict";_inherits(Drawer$$module$build$src$core$renderers$geras$drawer,_Drawer$$module$build2);function Drawer$$module$build$src$core$renderers$geras$drawer(a,b){var _this106;_classCallCheck(this,Drawer$$module$build$src$core$renderers$geras$drawer);_this106=_callSuper(this,Drawer$$module$build$src$core$renderers$geras$drawer,[a,b]);_this106.highlighter_=new Highlighter$$module$build$src$core$renderers$geras$highlighter(b);return _this106;}_createClass(Drawer$$module$build$src$core$renderers$geras$drawer,[{key:"draw",value:function draw(){this.drawOutline_();this.drawInternals_();var a=this.block_.pathObject;a.setPath(this.outlinePath_+"\n"+this.inlinePath_);a.setHighlightPath(this.highlighter_.getPath());this.info_.RTL&&a.flipRTL();this.recordSizeOnBlock_();}},{key:"drawTop_",value:function drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow);this.highlighter_.drawRightSideRow(this.info_.topRow);_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$geras$drawer.prototype),"drawTop_",this).call(this);}},{key:"drawJaggedEdge_",value:function drawJaggedEdge_(a){this.highlighter_.drawJaggedEdge_(a);_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$geras$drawer.prototype),"drawJaggedEdge_",this).call(this,a);}},{key:"drawValueInput_",value:function drawValueInput_(a){this.highlighter_.drawValueInput(a);_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$geras$drawer.prototype),"drawValueInput_",this).call(this,a);}},{key:"drawStatementInput_",value:function drawStatementInput_(a){this.highlighter_.drawStatementInput(a);_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$geras$drawer.prototype),"drawStatementInput_",this).call(this,a);}},{key:"drawRightSideRow_",value:function drawRightSideRow_(a){this.highlighter_.drawRightSideRow(a);this.outlinePath_+=lineOnAxis$$module$build$src$core$utils$svg_paths("H",a.xPos+a.width)+lineOnAxis$$module$build$src$core$utils$svg_paths("V",a.yPos+a.height);}},{key:"drawBottom_",value:function drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow);_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$geras$drawer.prototype),"drawBottom_",this).call(this);}},{key:"drawLeft_",value:function drawLeft_(){this.highlighter_.drawLeft();_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$geras$drawer.prototype),"drawLeft_",this).call(this);}},{key:"drawInlineInput_",value:function drawInlineInput_(a){this.highlighter_.drawInlineInput(a);_get(_getPrototypeOf(Drawer$$module$build$src$core$renderers$geras$drawer.prototype),"drawInlineInput_",this).call(this,a);}},{key:"positionInlineInputConnection_",value:function positionInlineInputConnection_(a){var b=a.centerline-a.height/2;if(a.connectionModel){var c=a.xPos+a.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY+this.constants_.DARK_PATH_OFFSET);}}},{key:"positionStatementInputConnection_",value:function positionStatementInputConnection_(a){var b=a.getLastInput();if(null==b?0:b.connectionModel){var c=a.xPos+a.statementEdge+b.notchOffset;c=this.info_.RTL?-1*c:c+this.constants_.DARK_PATH_OFFSET;b.connectionModel.setOffsetInBlock(c,a.yPos+this.constants_.DARK_PATH_OFFSET);}}},{key:"positionExternalValueConnection_",value:function positionExternalValueConnection_(a){var b=a.getLastInput();if(b&&b.connectionModel){var c=a.xPos+a.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos);}}},{key:"positionNextConnection_",value:function positionNextConnection_(){var a=this.info_.bottomRow;if(a.connection){var b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock((this.info_.RTL?-c:c)+this.constants_.DARK_PATH_OFFSET/2,a.baseline+this.constants_.DARK_PATH_OFFSET);}}}]);return Drawer$$module$build$src$core$renderers$geras$drawer;}(Drawer$$module$build$src$core$renderers$common$drawer),module$build$src$core$renderers$geras$drawer={};module$build$src$core$renderers$geras$drawer.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;var HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants=/*#__PURE__*/function(){"use strict";function HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants(a){_classCallCheck(this,HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants);this.OFFSET=.5;this.constantProvider=a;this.START_POINT=moveBy$$module$build$src$core$utils$svg_paths(this.OFFSET,this.OFFSET);}_createClass(HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants,[{key:"init",value:function init(){this.INSIDE_CORNER=this.makeInsideCorner();this.OUTSIDE_CORNER=this.makeOutsideCorner();this.PUZZLE_TAB=this.makePuzzleTab();this.NOTCH=this.makeNotch();this.JAGGED_TEETH=this.makeJaggedTeeth();this.START_HAT=this.makeStartHat();}},{key:"makeInsideCorner",value:function makeInsideCorner(){var a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a+b)-b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths("a","0 0,0",a,point$$module$build$src$core$utils$svg_paths(-c-b,a-c)),e=arc$$module$build$src$core$utils$svg_paths("a","0 0,0",a+b,point$$module$build$src$core$utils$svg_paths(a+b,a+b)),f=moveBy$$module$build$src$core$utils$svg_paths(c,-c)+arc$$module$build$src$core$utils$svg_paths("a","0 0,0",a+b,point$$module$build$src$core$utils$svg_paths(a-c,c+b));return{width:a+b,height:a,pathTop(g){return g?d:"";},pathBottom(g){return g?e:f;}};}},{key:"makeOutsideCorner",value:function makeOutsideCorner(){var a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a-b)+b,d=moveBy$$module$build$src$core$utils$svg_paths(c,c)+arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a-b,point$$module$build$src$core$utils$svg_paths(a-c,-c+b)),e=moveBy$$module$build$src$core$utils$svg_paths(b,a)+arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a-b,point$$module$build$src$core$utils$svg_paths(a,-a+b)),f=-c,g=moveBy$$module$build$src$core$utils$svg_paths(c,f)+arc$$module$build$src$core$utils$svg_paths("a","0 0,1",a-b,point$$module$build$src$core$utils$svg_paths(-c+b,-f-a));return{height:a,topLeft(h){return h?d:e;},bottomLeft(){return g;}};}},{key:"makePuzzleTab",value:function makePuzzleTab(){var a=this.constantProvider.TAB_WIDTH,b=this.constantProvider.TAB_HEIGHT,c=moveBy$$module$build$src$core$utils$svg_paths(-2,-b+3.4)+lineTo$$module$build$src$core$utils$svg_paths(-.45*a,-2.1),d=lineOnAxis$$module$build$src$core$utils$svg_paths("v",2.5)+moveBy$$module$build$src$core$utils$svg_paths(.97*-a,2.5)+curve$$module$build$src$core$utils$svg_paths("q",[point$$module$build$src$core$utils$svg_paths(.05*-a,10),point$$module$build$src$core$utils$svg_paths(.3*a,9.5)])+moveBy$$module$build$src$core$utils$svg_paths(.67*a,-1.9)+lineOnAxis$$module$build$src$core$utils$svg_paths("v",2.5),e=lineOnAxis$$module$build$src$core$utils$svg_paths("v",-1.5)+moveBy$$module$build$src$core$utils$svg_paths(-.92*a,-.5)+curve$$module$build$src$core$utils$svg_paths("q",[point$$module$build$src$core$utils$svg_paths(-.19*a,-5.5),point$$module$build$src$core$utils$svg_paths(0,-11)])+moveBy$$module$build$src$core$utils$svg_paths(.92*a,1),f=moveBy$$module$build$src$core$utils$svg_paths(-5,b-.7)+lineTo$$module$build$src$core$utils$svg_paths(.46*a,-2.1);return{width:a,height:b,pathUp(g){return g?c:e;},pathDown(g){return g?d:f;}};}},{key:"makeNotch",value:function makeNotch(){return{pathLeft:lineOnAxis$$module$build$src$core$utils$svg_paths("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft};}},{key:"makeJaggedTeeth",value:function makeJaggedTeeth(){return{pathLeft:lineTo$$module$build$src$core$utils$svg_paths(5.1,2.6)+moveBy$$module$build$src$core$utils$svg_paths(-10.2,6.8)+lineTo$$module$build$src$core$utils$svg_paths(5.1,2.6),height:12,width:10.2};}},{key:"makeStartHat",value:function makeStartHat(){var a=this.constantProvider.START_HAT.height,b=moveBy$$module$build$src$core$utils$svg_paths(25,-8.7)+curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(29.7,-6.2),point$$module$build$src$core$utils$svg_paths(57.2,-.5),point$$module$build$src$core$utils$svg_paths(75,8.7)]),c=curve$$module$build$src$core$utils$svg_paths("c",[point$$module$build$src$core$utils$svg_paths(17.8,-9.2),point$$module$build$src$core$utils$svg_paths(45.3,-14.9),point$$module$build$src$core$utils$svg_paths(75,-8.7)])+moveTo$$module$build$src$core$utils$svg_paths(100.5,a+.5);return{path(d){return d?b:c;}};}}]);return HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;}(),module$build$src$core$renderers$geras$highlight_constants={};module$build$src$core$renderers$geras$highlight_constants.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;var InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input=/*#__PURE__*/function(_InlineInput$$module$){"use strict";_inherits(InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input,_InlineInput$$module$);function InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input(a,b){var _this107;_classCallCheck(this,InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input);_this107=_callSuper(this,InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input,[a,b]);_this107.constants_=a;_this107.connectedBlock&&(_this107.width+=_this107.constants_.DARK_PATH_OFFSET,_this107.height+=_this107.constants_.DARK_PATH_OFFSET);return _this107;}return _createClass(InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input);}(InlineInput$$module$build$src$core$renderers$measurables$inline_input),module$build$src$core$renderers$geras$measurables$inline_input={};module$build$src$core$renderers$geras$measurables$inline_input.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;var StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input=/*#__PURE__*/function(_StatementInput$$modu2){"use strict";_inherits(StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input,_StatementInput$$modu2);function StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input(a,b){var _this108;_classCallCheck(this,StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input);_this108=_callSuper(this,StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input,[a,b]);_this108.constants_=a;_this108.connectedBlock&&(_this108.height+=_this108.constants_.DARK_PATH_OFFSET);return _this108;}return _createClass(StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input);}(StatementInput$$module$build$src$core$renderers$measurables$statement_input),module$build$src$core$renderers$geras$measurables$statement_input={};module$build$src$core$renderers$geras$measurables$statement_input.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var RenderInfo$$module$build$src$core$renderers$geras$info=/*#__PURE__*/function(_RenderInfo$$module$b2){"use strict";_inherits(RenderInfo$$module$build$src$core$renderers$geras$info,_RenderInfo$$module$b2);function RenderInfo$$module$build$src$core$renderers$geras$info(a,b){var _this109;_classCallCheck(this,RenderInfo$$module$build$src$core$renderers$geras$info);_this109=_callSuper(this,RenderInfo$$module$build$src$core$renderers$geras$info,[a,b]);_this109.renderer_=a;return _this109;}_createClass(RenderInfo$$module$build$src$core$renderers$geras$info,[{key:"getRenderer",value:function getRenderer(){return this.renderer_;}},{key:"populateBottomRow_",value:function populateBottomRow_(){_get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$geras$info.prototype),"populateBottomRow_",this).call(this);this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof StatementInput$$module$build$src$core$inputs$statement_input||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET);}},{key:"addInput_",value:function addInput_(a,b){if(this.isInline&&a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input(this.constants_,a)),b.hasInlineInput=!0;else if(a instanceof StatementInput$$module$build$src$core$inputs$statement_input)b.elements.push(new StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input(this.constants_,a)),b.hasStatement=!0;else if(a instanceof $.ValueInput$$module$build$src$core$inputs$value_input)b.elements.push(new ExternalValueInput$$module$build$src$core$renderers$measurables$external_value_input(this.constants_,a)),b.hasExternalInput=!0;else if(a instanceof DummyInput$$module$build$src$core$inputs$dummy_input||a instanceof EndRowInput$$module$build$src$core$inputs$end_row_input)b.minHeight=Math.max(b.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0;this.isInline||null!==b.align||(b.align=a.align);}},{key:"addElemSpacing_",value:function addElemSpacing_(){var a=!1;for(var c=0,d;d=this.rows[c];c++)d.hasExternalInput&&(a=!0);for(var _c10=0,_d14;_d14=this.rows[_c10];_c10++){var b=_d14.elements;_d14.elements=[];_d14.startsWithElemSpacer()&&_d14.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(null,b[0])));if(b.length){for(var e=0;e<b.length-1;e++){_d14.elements.push(b[e]);var f=this.getInRowSpacing_(b[e],b[e+1]);_d14.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f));}_d14.elements.push(b[b.length-1]);_d14.endsWithElemSpacer()&&(b=this.getInRowSpacing_(b[b.length-1],null),a&&_d14.hasDummyInput&&(b+=this.constants_.TAB_WIDTH),_d14.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,b)));}}}},{key:"getInRowSpacing_",value:function getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&(!b||Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)))return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable?this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?2*this.constants_.LARGE_PADDING+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING;}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING;}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING;}return this.constants_.LARGE_PADDING-1;}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2;}if(Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS;if(Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2;}return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable||b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING;}},{key:"getSpacerRowHeight_",value:function getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||!a.hasStatement&&b.hasDummyInput||a.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING;}},{key:"getElemCenterline_",value:function getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;var c=a.yPos;Types$$module$build$src$core$renderers$measurables$types.isField(b)||Types$$module$build$src$core$renderers$measurables$types.isIcon(b)?(c+=b.height/2,(a.hasInlineInput||a.hasStatement)&&b.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=a.height&&(c+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):c=Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?c+b.height/2:c+a.height/2;return c;}},{key:"alignRowElements_",value:function alignRowElements_(){if(this.isInline){var a=0,b=new WeakMap(),c=null;for(var d=this.rows.length-1,e;e=this.rows[d];d--)b.set(e,a),Types$$module$build$src$core$renderers$measurables$types.isInputRow(e)&&(e.hasStatement&&this.alignStatementRow_(e),c&&c.hasStatement&&e.width<c.width?b.set(e,c.width):a=e.hasStatement?e.width:Math.max(a,e.width),c=e);a=0;for(var _d15=0,_e15;_e15=this.rows[_d15];_d15++)_e15.hasStatement?a=this.getDesiredRowWidth_(_e15):Types$$module$build$src$core$renderers$measurables$types.isSpacer(_e15)?_e15.width=Math.max(a,b.get(_e15)):(c=_e15.width,a=Math.max(a,b.get(_e15))-c,0<a&&this.addAlignmentPadding_(_e15,a),a=_e15.width);}else _get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$geras$info.prototype),"alignRowElements_",this).call(this);}},{key:"getDesiredRowWidth_",value:function getDesiredRowWidth_(a){return this.isInline&&a.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:_get(_getPrototypeOf(RenderInfo$$module$build$src$core$renderers$geras$info.prototype),"getDesiredRowWidth_",this).call(this,a);}},{key:"finalize_",value:function finalize_(){var a=0,b=0;for(var d=0,e;e=this.rows[d];d++){e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var c=b-this.topRow.ascenderHeight;e===this.bottomRow&&c<this.constants_.MIN_BLOCK_HEIGHT&&(c=this.constants_.MIN_BLOCK_HEIGHT-c,this.bottomRow.height+=c,b+=c);this.recordElemPositions_(e);}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&(a=Math.max(a,c.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX+this.constants_.DARK_PATH_OFFSET;this.width+=this.constants_.DARK_PATH_OFFSET;this.height=b+this.constants_.DARK_PATH_OFFSET;this.startY=this.topRow.capline;}}]);return RenderInfo$$module$build$src$core$renderers$geras$info;}(RenderInfo$$module$build$src$core$renderers$common$info),module$build$src$core$renderers$geras$info={};module$build$src$core$renderers$geras$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;var PathObject$$module$build$src$core$renderers$geras$path_object=/*#__PURE__*/function(_PathObject$$module$b2){"use strict";_inherits(PathObject$$module$build$src$core$renderers$geras$path_object,_PathObject$$module$b2);function PathObject$$module$build$src$core$renderers$geras$path_object(a,b,c){var _this110;_classCallCheck(this,PathObject$$module$build$src$core$renderers$geras$path_object);_this110=_callSuper(this,PathObject$$module$build$src$core$renderers$geras$path_object,[a,b,c]);_this110.constants=c;_this110.colourDark="#000000";_this110.svgPathDark=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyPathDark",transform:"translate(1,1)"});_this110.svgRoot.insertBefore(_this110.svgPathDark,_this110.svgPath);_this110.svgPathLight=createSvgElement$$module$build$src$core$utils$dom(Svg$$module$build$src$core$utils$svg.PATH,{"class":"blocklyPathLight"},_this110.svgRoot);return _this110;}_createClass(PathObject$$module$build$src$core$renderers$geras$path_object,[{key:"setPath",value:function setPath(a){this.svgPath.setAttribute("d",a);this.svgPathDark.setAttribute("d",a);}},{key:"setHighlightPath",value:function setHighlightPath(a){this.svgPathLight.setAttribute("d",a);}},{key:"flipRTL",value:function flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)");this.svgPathLight.setAttribute("transform","scale(-1 1)");this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)");}},{key:"applyColour",value:function applyColour(a){this.svgPathLight.style.display="";this.svgPathDark.style.display="";if(!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary);this.svgPathDark.setAttribute("fill",this.colourDark);_get(_getPrototypeOf(PathObject$$module$build$src$core$renderers$geras$path_object.prototype),"applyColour",this).call(this,a);this.svgPath.setAttribute("stroke","none");}},{key:"setStyle",value:function setStyle(a){this.style=a;this.colourDark=blend$$module$build$src$core$utils$colour("#000",this.style.colourPrimary,.2)||this.colourDark;}},{key:"updateHighlighted",value:function updateHighlighted(a){a?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline");}},{key:"updateShadow_",value:function updateShadow_(a){if(a){this.svgPathLight.style.display="none";if(!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary);this.svgPath.setAttribute("stroke","none");this.svgPath.setAttribute("fill",this.style.colourSecondary);}}},{key:"updateDisabled_",value:function updateDisabled_(a){_get(_getPrototypeOf(PathObject$$module$build$src$core$renderers$geras$path_object.prototype),"updateDisabled_",this).call(this,a);a&&this.svgPath.setAttribute("stroke","none");}}]);return PathObject$$module$build$src$core$renderers$geras$path_object;}(PathObject$$module$build$src$core$renderers$common$path_object),module$build$src$core$renderers$geras$path_object={};module$build$src$core$renderers$geras$path_object.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;var Renderer$$module$build$src$core$renderers$geras$renderer=/*#__PURE__*/function(_Renderer$$module$bui2){"use strict";_inherits(Renderer$$module$build$src$core$renderers$geras$renderer,_Renderer$$module$bui2);function Renderer$$module$build$src$core$renderers$geras$renderer(a){var _this111;_classCallCheck(this,Renderer$$module$build$src$core$renderers$geras$renderer);_this111=_callSuper(this,Renderer$$module$build$src$core$renderers$geras$renderer,[a]);_this111.highlightConstants=null;return _this111;}_createClass(Renderer$$module$build$src$core$renderers$geras$renderer,[{key:"init",value:function init(a,b){_get(_getPrototypeOf(Renderer$$module$build$src$core$renderers$geras$renderer.prototype),"init",this).call(this,a,b);this.highlightConstants=this.makeHighlightConstants_();this.highlightConstants.init();}},{key:"refreshDom",value:function refreshDom(a,b){_get(_getPrototypeOf(Renderer$$module$build$src$core$renderers$geras$renderer.prototype),"refreshDom",this).call(this,a,b);this.getHighlightConstants().init();}},{key:"makeConstants_",value:function makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$geras$constants();}},{key:"makeRenderInfo_",value:function makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$geras$info(this,a);}},{key:"makeDrawer_",value:function makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$geras$drawer(a,b);}},{key:"makePathObject",value:function makePathObject(a,b){return new PathObject$$module$build$src$core$renderers$geras$path_object(a,b,this.getConstants());}},{key:"makeHighlightConstants_",value:function makeHighlightConstants_(){return new HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants(this.getConstants());}},{key:"getHighlightConstants",value:function getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants;}}]);return Renderer$$module$build$src$core$renderers$geras$renderer;}(Renderer$$module$build$src$core$renderers$common$renderer);register$$module$build$src$core$renderers$common$block_rendering("geras",Renderer$$module$build$src$core$renderers$geras$renderer);var module$build$src$core$renderers$geras$renderer={};module$build$src$core$renderers$geras$renderer.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;var module$build$src$core$renderers$geras$geras={};module$build$src$core$renderers$geras$geras.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$geras$constants;module$build$src$core$renderers$geras$geras.Drawer=Drawer$$module$build$src$core$renderers$geras$drawer;module$build$src$core$renderers$geras$geras.HighlightConstantProvider=HighlightConstantProvider$$module$build$src$core$renderers$geras$highlight_constants;module$build$src$core$renderers$geras$geras.Highlighter=Highlighter$$module$build$src$core$renderers$geras$highlighter;module$build$src$core$renderers$geras$geras.InlineInput=InlineInput$$module$build$src$core$renderers$geras$measurables$inline_input;module$build$src$core$renderers$geras$geras.PathObject=PathObject$$module$build$src$core$renderers$geras$path_object;module$build$src$core$renderers$geras$geras.RenderInfo=RenderInfo$$module$build$src$core$renderers$geras$info;module$build$src$core$renderers$geras$geras.Renderer=Renderer$$module$build$src$core$renderers$geras$renderer;module$build$src$core$renderers$geras$geras.StatementInput=StatementInput$$module$build$src$core$renderers$geras$measurables$statement_input;var ConstantProvider$$module$build$src$core$renderers$minimalist$constants=/*#__PURE__*/function(_ConstantProvider$$mo3){"use strict";_inherits(ConstantProvider$$module$build$src$core$renderers$minimalist$constants,_ConstantProvider$$mo3);function ConstantProvider$$module$build$src$core$renderers$minimalist$constants(){var _this112;_classCallCheck(this,ConstantProvider$$module$build$src$core$renderers$minimalist$constants);_this112=_callSuper(this,ConstantProvider$$module$build$src$core$renderers$minimalist$constants);warn$$module$build$src$core$utils$deprecation("Blockly.minimalist.ConstantProvider","v10","v11","Blockly.blockRendering.ConstantProvider");return _this112;}return _createClass(ConstantProvider$$module$build$src$core$renderers$minimalist$constants);}(ConstantProvider$$module$build$src$core$renderers$common$constants),module$build$src$core$renderers$minimalist$constants={};module$build$src$core$renderers$minimalist$constants.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$minimalist$constants;var Drawer$$module$build$src$core$renderers$minimalist$drawer=/*#__PURE__*/function(_Drawer$$module$build3){"use strict";_inherits(Drawer$$module$build$src$core$renderers$minimalist$drawer,_Drawer$$module$build3);function Drawer$$module$build$src$core$renderers$minimalist$drawer(a,b){var _this113;_classCallCheck(this,Drawer$$module$build$src$core$renderers$minimalist$drawer);_this113=_callSuper(this,Drawer$$module$build$src$core$renderers$minimalist$drawer,[a,b]);warn$$module$build$src$core$utils$deprecation("Blockly.minimalist.Drawer","v10","v11","Blockly.blockRendering.Drawer");return _this113;}return _createClass(Drawer$$module$build$src$core$renderers$minimalist$drawer);}(Drawer$$module$build$src$core$renderers$common$drawer),module$build$src$core$renderers$minimalist$drawer={};module$build$src$core$renderers$minimalist$drawer.Drawer=Drawer$$module$build$src$core$renderers$minimalist$drawer;var RenderInfo$$module$build$src$core$renderers$minimalist$info=/*#__PURE__*/function(_RenderInfo$$module$b3){"use strict";_inherits(RenderInfo$$module$build$src$core$renderers$minimalist$info,_RenderInfo$$module$b3);function RenderInfo$$module$build$src$core$renderers$minimalist$info(a,b){var _this114;_classCallCheck(this,RenderInfo$$module$build$src$core$renderers$minimalist$info);_this114=_callSuper(this,RenderInfo$$module$build$src$core$renderers$minimalist$info,[a,b]);warn$$module$build$src$core$utils$deprecation("Blockly.minimalist.RenderInfo","v10","v11","Blockly.blockRendering.RenderInfo");return _this114;}_createClass(RenderInfo$$module$build$src$core$renderers$minimalist$info,[{key:"getRenderer",value:function getRenderer(){return this.renderer_;}}]);return RenderInfo$$module$build$src$core$renderers$minimalist$info;}(RenderInfo$$module$build$src$core$renderers$common$info),module$build$src$core$renderers$minimalist$info={};module$build$src$core$renderers$minimalist$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$minimalist$info;var Renderer$$module$build$src$core$renderers$minimalist$renderer=/*#__PURE__*/function(_Renderer$$module$bui3){"use strict";_inherits(Renderer$$module$build$src$core$renderers$minimalist$renderer,_Renderer$$module$bui3);function Renderer$$module$build$src$core$renderers$minimalist$renderer(a){var _this115;_classCallCheck(this,Renderer$$module$build$src$core$renderers$minimalist$renderer);_this115=_callSuper(this,Renderer$$module$build$src$core$renderers$minimalist$renderer,[a]);warn$$module$build$src$core$utils$deprecation("Blockly.minimalist.Renderer","v10","v11","Blockly.blockRendering.Renderer");return _this115;}_createClass(Renderer$$module$build$src$core$renderers$minimalist$renderer,[{key:"makeConstants_",value:function makeConstants_(){return new ConstantProvider$$module$build$src$core$renderers$minimalist$constants();}},{key:"makeRenderInfo_",value:function makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$minimalist$info(this,a);}},{key:"makeDrawer_",value:function makeDrawer_(a,b){return new Drawer$$module$build$src$core$renderers$minimalist$drawer(a,b);}}]);return Renderer$$module$build$src$core$renderers$minimalist$renderer;}(Renderer$$module$build$src$core$renderers$common$renderer);register$$module$build$src$core$renderers$common$block_rendering("minimalist",Renderer$$module$build$src$core$renderers$minimalist$renderer);var module$build$src$core$renderers$minimalist$renderer={};module$build$src$core$renderers$minimalist$renderer.Renderer=Renderer$$module$build$src$core$renderers$minimalist$renderer;var module$build$src$core$renderers$minimalist$minimalist={};module$build$src$core$renderers$minimalist$minimalist.ConstantProvider=ConstantProvider$$module$build$src$core$renderers$minimalist$constants;module$build$src$core$renderers$minimalist$minimalist.Drawer=Drawer$$module$build$src$core$renderers$minimalist$drawer;module$build$src$core$renderers$minimalist$minimalist.RenderInfo=RenderInfo$$module$build$src$core$renderers$minimalist$info;module$build$src$core$renderers$minimalist$minimalist.Renderer=Renderer$$module$build$src$core$renderers$minimalist$renderer;var RenderInfo$$module$build$src$core$renderers$thrasos$info=/*#__PURE__*/function(_RenderInfo$$module$b4){"use strict";_inherits(RenderInfo$$module$build$src$core$renderers$thrasos$info,_RenderInfo$$module$b4);function RenderInfo$$module$build$src$core$renderers$thrasos$info(a,b){_classCallCheck(this,RenderInfo$$module$build$src$core$renderers$thrasos$info);return _callSuper(this,RenderInfo$$module$build$src$core$renderers$thrasos$info,[a,b]);}_createClass(RenderInfo$$module$build$src$core$renderers$thrasos$info,[{key:"getRenderer",value:function getRenderer(){return this.renderer_;}},{key:"addElemSpacing_",value:function addElemSpacing_(){var a=!1;for(var b=0;b<this.rows.length;b++)if(this.rows[b].hasExternalInput){a=!0;break;}for(b=0;b<this.rows.length;b++){var d=this.rows[b];var c=d.elements;d.elements=[];d.startsWithElemSpacer()&&d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,this.getInRowSpacing_(null,c[0])));if(c.length){for(var e=0;e<c.length-1;e++){d.elements.push(c[e]);var f=this.getInRowSpacing_(c[e],c[e+1]);d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,f));}d.elements.push(c[c.length-1]);d.endsWithElemSpacer()&&(c=this.getInRowSpacing_(c[c.length-1],null),a&&d.hasDummyInput&&(c+=this.constants_.TAB_WIDTH),d.elements.push(new InRowSpacer$$module$build$src$core$renderers$measurables$in_row_spacer(this.constants_,c)));}}}},{key:"getInRowSpacing_",value:function getInRowSpacing_(a,b){if(!a)return b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b)return Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable?this.constants_.MEDIUM_PADDING:Types$$module$build$src$core$renderers$measurables$types.isIcon(a)?2*this.constants_.LARGE_PADDING+1:Types$$module$build$src$core$renderers$measurables$types.isHat(a)?this.constants_.NO_PADDING:Types$$module$build$src$core$renderers$measurables$types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&!b){if(Types$$module$build$src$core$renderers$measurables$types.isExternalInput(a))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(a))return this.constants_.NO_PADDING;}if(!Types$$module$build$src$core$renderers$measurables$types.isInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isInput(b)){if(Types$$module$build$src$core$renderers$measurables$types.isField(a)&&a.isEditable){if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.SMALL_PADDING;}else{if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(b)||Types$$module$build$src$core$renderers$measurables$types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isStatementInput(b))return this.constants_.LARGE_PADDING;}return this.constants_.LARGE_PADDING-1;}if(Types$$module$build$src$core$renderers$measurables$types.isIcon(a)&&b&&!Types$$module$build$src$core$renderers$measurables$types.isInput(b))return this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isInlineInput(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isLeftSquareCorner(a)&&b){if(Types$$module$build$src$core$renderers$measurables$types.isHat(b))return this.constants_.NO_PADDING;if(Types$$module$build$src$core$renderers$measurables$types.isPreviousConnection(b)||Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b))return b.notchOffset;}return Types$$module$build$src$core$renderers$measurables$types.isLeftRoundedCorner(a)&&b?b.notchOffset-this.constants_.CORNER_RADIUS:Types$$module$build$src$core$renderers$measurables$types.isField(a)&&b&&Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.isEditable===b.isEditable||b&&Types$$module$build$src$core$renderers$measurables$types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING;}},{key:"getSpacerRowHeight_",value:function getSpacerRowHeight_(a,b){return Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)&&Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Types$$module$build$src$core$renderers$measurables$types.isTopRow(a)||Types$$module$build$src$core$renderers$measurables$types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||a.hasDummyInput||b.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING;}},{key:"getElemCenterline_",value:function getElemCenterline_(a,b){if(Types$$module$build$src$core$renderers$measurables$types.isSpacer(b))return a.yPos+b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Types$$module$build$src$core$renderers$measurables$types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Types$$module$build$src$core$renderers$measurables$types.isTopRow(a))return Types$$module$build$src$core$renderers$measurables$types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;var c=a.yPos;return c=Types$$module$build$src$core$renderers$measurables$types.isField(b)&&a.hasStatement?c+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+b.height/2):c+a.height/2;}},{key:"finalize_",value:function finalize_(){var a=0,b=0;for(var c=0;c<this.rows.length;c++){var e=this.rows[c];e.yPos=b;e.xPos=this.startX;b+=e.height;a=Math.max(a,e.widthWithConnectedBlocks);var d=b-this.topRow.ascenderHeight;e===this.bottomRow&&d<this.constants_.MIN_BLOCK_HEIGHT&&(d=this.constants_.MIN_BLOCK_HEIGHT-d,this.bottomRow.height+=d,b+=d);this.recordElemPositions_(e);}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(c=this.block_.nextConnection.targetBlock())&&(a=Math.max(a,c.getHeightWidth().width));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline;}}]);return RenderInfo$$module$build$src$core$renderers$thrasos$info;}(RenderInfo$$module$build$src$core$renderers$common$info),module$build$src$core$renderers$thrasos$info={};module$build$src$core$renderers$thrasos$info.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;var Renderer$$module$build$src$core$renderers$thrasos$renderer=/*#__PURE__*/function(_Renderer$$module$bui4){"use strict";_inherits(Renderer$$module$build$src$core$renderers$thrasos$renderer,_Renderer$$module$bui4);function Renderer$$module$build$src$core$renderers$thrasos$renderer(a){_classCallCheck(this,Renderer$$module$build$src$core$renderers$thrasos$renderer);return _callSuper(this,Renderer$$module$build$src$core$renderers$thrasos$renderer,[a]);}_createClass(Renderer$$module$build$src$core$renderers$thrasos$renderer,[{key:"makeRenderInfo_",value:function makeRenderInfo_(a){return new RenderInfo$$module$build$src$core$renderers$thrasos$info(this,a);}}]);return Renderer$$module$build$src$core$renderers$thrasos$renderer;}(Renderer$$module$build$src$core$renderers$common$renderer);register$$module$build$src$core$renderers$common$block_rendering("thrasos",Renderer$$module$build$src$core$renderers$thrasos$renderer);var module$build$src$core$renderers$thrasos$renderer={};module$build$src$core$renderers$thrasos$renderer.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var module$build$src$core$renderers$thrasos$thrasos={};module$build$src$core$renderers$thrasos$thrasos.RenderInfo=RenderInfo$$module$build$src$core$renderers$thrasos$info;module$build$src$core$renderers$thrasos$thrasos.Renderer=Renderer$$module$build$src$core$renderers$thrasos$renderer;var defaultBlockStyles$$module$build$src$core$theme$zelos={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},categoryStyles$$module$build$src$core$theme$zelos={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},Zelos$$module$build$src$core$theme$zelos=new Theme$$module$build$src$core$theme("zelos",defaultBlockStyles$$module$build$src$core$theme$zelos,categoryStyles$$module$build$src$core$theme$zelos),module$build$src$core$theme$zelos={Zelos:Zelos$$module$build$src$core$theme$zelos};var module$build$src$core$theme$themes={Classic:Classic$$module$build$src$core$theme$classic,Zelos:Zelos$$module$build$src$core$theme$zelos};var ToolboxItem$$module$build$src$core$toolbox$toolbox_item=/*#__PURE__*/function(){"use strict";function ToolboxItem$$module$build$src$core$toolbox$toolbox_item(a,b,c){_classCallCheck(this,ToolboxItem$$module$build$src$core$toolbox$toolbox_item);this.id_=a.toolboxitemid||getNextUniqueId$$module$build$src$core$utils$idgenerator();this.level_=(this.parent_=c||null)?this.parent_.getLevel()+1:0;this.toolboxItemDef_=a;this.parentToolbox_=b;this.workspace_=this.parentToolbox_.getWorkspace();}_createClass(ToolboxItem$$module$build$src$core$toolbox$toolbox_item,[{key:"init",value:function init(){}},{key:"getDiv",value:function getDiv(){return null;}},{key:"getClickTarget",value:function getClickTarget(){return null;}},{key:"getId",value:function getId(){return this.id_;}},{key:"getParent",value:function getParent(){return null;}},{key:"getLevel",value:function getLevel(){return this.level_;}},{key:"isSelectable",value:function isSelectable(){return!1;}},{key:"isCollapsible",value:function isCollapsible(){return!1;}},{key:"dispose",value:function dispose(){}},{key:"setVisible_",value:function setVisible_(a){}}]);return ToolboxItem$$module$build$src$core$toolbox$toolbox_item;}(),module$build$src$core$toolbox$toolbox_item={};module$build$src$core$toolbox$toolbox_item.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;var ToolboxCategory$$module$build$src$core$toolbox$category=/*#__PURE__*/function(_ToolboxItem$$module$){"use strict";_inherits(ToolboxCategory$$module$build$src$core$toolbox$category,_ToolboxItem$$module$);function ToolboxCategory$$module$build$src$core$toolbox$category(a,b,c){var _this116;_classCallCheck(this,ToolboxCategory$$module$build$src$core$toolbox$category);_this116=_callSuper(this,ToolboxCategory$$module$build$src$core$toolbox$category,[a,b,c]);_this116.colour_=_this116.name_="";_this116.labelDom_=_this116.iconDom_=_this116.rowContents_=_this116.rowDiv_=_this116.htmlDiv_=null;_this116.isDisabled_=_this116.isHidden_=!1;_this116.flyoutItems_=[];_this116.cssConfig_=_this116.makeDefaultCssConfig_();return _this116;}_createClass(ToolboxCategory$$module$build$src$core$toolbox$category,[{key:"init",value:function init(){this.parseCategoryDef_(this.toolboxItemDef_);this.parseContents_(this.toolboxItemDef_);this.createDom_();"true"===this.toolboxItemDef_.hidden&&this.hide();}},{key:"makeDefaultCssConfig_",value:function makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"};}},{key:"parseContents_",value:function parseContents_(a){if("custom"in a)this.flyoutItems_=a.custom;else if(a=a.contents)for(var b=0;b<a.length;b++){var c=a[b];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(c);}}},{key:"parseCategoryDef_",value:function parseCategoryDef_(a){this.name_="name"in a?replaceMessageReferences$$module$build$src$core$utils$parsing(a.name):"";this.colour_=this.getColour_(a);Object.assign(this.cssConfig_,a.cssconfig||a.cssConfig);}},{key:"createDom_",value:function createDom_(){this.htmlDiv_=this.createContainer_();setRole$$module$build$src$core$utils$aria(this.htmlDiv_,Role$$module$build$src$core$utils$aria.TREEITEM);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.SELECTED,!1);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LEVEL,this.level_+1);this.rowDiv_=this.createRowContainer_();this.rowDiv_.style.pointerEvents="auto";this.htmlDiv_.appendChild(this.rowDiv_);this.rowContents_=this.createRowContentsContainer_();this.rowContents_.style.pointerEvents="none";this.rowDiv_.appendChild(this.rowContents_);this.iconDom_=this.createIconDom_();setRole$$module$build$src$core$utils$aria(this.iconDom_,Role$$module$build$src$core$utils$aria.PRESENTATION);this.rowContents_.appendChild(this.iconDom_);this.labelDom_=this.createLabelDom_(this.name_);this.rowContents_.appendChild(this.labelDom_);var a=this.labelDom_.getAttribute("id");a&&setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.LABELLEDBY,a);this.addColourBorder_(this.colour_);return this.htmlDiv_;}},{key:"createContainer_",value:function createContainer_(){var a=document.createElement("div"),b=this.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return a;}},{key:"createRowContainer_",value:function createRowContainer_(){var a=document.createElement("div");var b=this.cssConfig_.row;b&&addClass$$module$build$src$core$utils$dom(a,b);b=`${ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding*this.getLevel()}px`;this.workspace_.RTL?a.style.paddingRight=b:a.style.paddingLeft=b;return a;}},{key:"createRowContentsContainer_",value:function createRowContentsContainer_(){var a=document.createElement("div"),b=this.cssConfig_.rowcontentcontainer;b&&addClass$$module$build$src$core$utils$dom(a,b);return a;}},{key:"createIconDom_",value:function createIconDom_(){var a=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){var b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b);}a.style.display="inline-block";return a;}},{key:"createLabelDom_",value:function createLabelDom_(a){var b=document.createElement("span");b.setAttribute("id",this.getId()+".label");b.textContent=a;(a=this.cssConfig_.label)&&addClass$$module$build$src$core$utils$dom(b,a);return b;}},{key:"refreshTheme",value:function refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_);this.addColourBorder_(this.colour_);}},{key:"addColourBorder_",value:function addColourBorder_(a){a&&(a=ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth+"px solid "+(a||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=a:this.rowDiv_.style.borderLeft=a);}},{key:"getColour_",value:function getColour_(a){var b=a.categorystyle||a.categoryStyle;if((a=a.colour)&&b)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(b)return this.getColourfromStyle_(b);if(a)return this.parseColour_(a);}return"";}},{key:"getColourfromStyle_",value:function getColourfromStyle_(a){var b=this.workspace_.getTheme();if(a&&b){if((b=b.categoryStyles[a])&&b.colour)return this.parseColour_(b.colour);console.warn('Style "'+a+'" must exist and contain a colour value');}return"";}},{key:"getClickTarget",value:function getClickTarget(){return this.rowDiv_;}},{key:"parseColour_",value:function parseColour_(a){a=replaceMessageReferences$$module$build$src$core$utils$parsing(a);if(null==a||""===a)return"";var b=Number(a);if(isNaN(b)){if(b=parse$$module$build$src$core$utils$colour(a))return b;console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+a);return"";}return hueToHex$$module$build$src$core$utils$colour(b);}},{key:"openIcon_",value:function openIcon_(a){if(a){var b=this.cssConfig_.closedicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.openicon)&&addClass$$module$build$src$core$utils$dom(a,b);}}},{key:"closeIcon_",value:function closeIcon_(a){if(a){var b=this.cssConfig_.openicon;b&&removeClasses$$module$build$src$core$utils$dom(a,b);(b=this.cssConfig_.closedicon)&&addClass$$module$build$src$core$utils$dom(a,b);}}},{key:"setVisible_",value:function setVisible_(a){this.htmlDiv_.style.display=a?"block":"none";this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection();}},{key:"hide",value:function hide(){this.setVisible_(!1);}},{key:"show",value:function show(){this.setVisible_(!0);}},{key:"isVisible",value:function isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_();}},{key:"allAncestorsExpanded_",value:function allAncestorsExpanded_(){var a=this;for(;a.getParent();)if(a=a.getParent(),!a.isExpanded())return!1;return!0;}},{key:"isSelectable",value:function isSelectable(){return this.isVisible()&&!this.isDisabled_;}},{key:"onClick",value:function onClick(a){}},{key:"setSelected",value:function setSelected(a){if(this.rowDiv_){var b=this.cssConfig_.selected;if(a){var c=this.parseColour_(ToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||c;b&&addClass$$module$build$src$core$utils$dom(this.rowDiv_,b);}else this.rowDiv_.style.backgroundColor="",b&&removeClass$$module$build$src$core$utils$dom(this.rowDiv_,b);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.SELECTED,a);}}},{key:"setDisabled",value:function setDisabled(a){this.isDisabled_=a;this.getDiv().setAttribute("disabled",`${a}`);a?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled");}},{key:"getName",value:function getName(){return this.name_;}},{key:"getParent",value:function getParent(){return this.parent_;}},{key:"getDiv",value:function getDiv(){return this.htmlDiv_;}},{key:"getContents",value:function getContents(){return this.flyoutItems_;}},{key:"updateFlyoutContents",value:function updateFlyoutContents(a){this.flyoutItems_=[];this.toolboxItemDef_="string"===typeof a?{kind:this.toolboxItemDef_.kind,custom:a,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:convertFlyoutDefToJsonArray$$module$build$src$core$utils$toolbox(a),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden};this.parseContents_(this.toolboxItemDef_);}},{key:"dispose",value:function dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv_);}}]);return ToolboxCategory$$module$build$src$core$toolbox$category;}(ToolboxItem$$module$build$src$core$toolbox$toolbox_item);ToolboxCategory$$module$build$src$core$toolbox$category.registrationName="category";ToolboxCategory$$module$build$src$core$toolbox$category.nestedPadding=19;ToolboxCategory$$module$build$src$core$toolbox$category.borderWidth=8;ToolboxCategory$$module$build$src$core$toolbox$category.defaultBackgroundColour="#57e";register$$module$build$src$core$css('\n.blocklyTreeRow:not(.blocklyTreeSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyTreeRow {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyTreeIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyTreeIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyTreeIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyTreeLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyTreeLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyTreeSelected .blocklyTreeLabel {\n  color: #fff;\n}\n');register$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxCategory$$module$build$src$core$toolbox$category.registrationName,ToolboxCategory$$module$build$src$core$toolbox$category);var module$build$src$core$toolbox$category={};module$build$src$core$toolbox$category.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;var ToolboxSeparator$$module$build$src$core$toolbox$separator=/*#__PURE__*/function(_ToolboxItem$$module$2){"use strict";_inherits(ToolboxSeparator$$module$build$src$core$toolbox$separator,_ToolboxItem$$module$2);function ToolboxSeparator$$module$build$src$core$toolbox$separator(a,b){var _this117;_classCallCheck(this,ToolboxSeparator$$module$build$src$core$toolbox$separator);_this117=_callSuper(this,ToolboxSeparator$$module$build$src$core$toolbox$separator,[a,b]);_this117.cssConfig_={container:"blocklyTreeSeparator"};_this117.htmlDiv_=null;Object.assign(_this117.cssConfig_,a.cssconfig||a.cssConfig);return _this117;}_createClass(ToolboxSeparator$$module$build$src$core$toolbox$separator,[{key:"init",value:function init(){this.createDom_();}},{key:"createDom_",value:function createDom_(){var a=document.createElement("div"),b=this.cssConfig_.container;b&&addClass$$module$build$src$core$utils$dom(a,b);return this.htmlDiv_=a;}},{key:"getDiv",value:function getDiv(){return this.htmlDiv_;}},{key:"dispose",value:function dispose(){removeNode$$module$build$src$core$utils$dom(this.htmlDiv_);}}]);return ToolboxSeparator$$module$build$src$core$toolbox$separator;}(ToolboxItem$$module$build$src$core$toolbox$toolbox_item);ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName="sep";register$$module$build$src$core$css('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n');register$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName,ToolboxSeparator$$module$build$src$core$toolbox$separator);var module$build$src$core$toolbox$separator={};module$build$src$core$toolbox$separator.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;var CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category=/*#__PURE__*/function(_ToolboxCategory$$mod){"use strict";_inherits(CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category,_ToolboxCategory$$mod);function CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category(a,b,c){var _this118;_classCallCheck(this,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category);_this118=_callSuper(this,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category,[a,b,c]);_this118.subcategoriesDiv_=null;_this118.expanded_=!1;_this118.toolboxItems_=[];return _this118;}_createClass(CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category,[{key:"makeDefaultCssConfig_",value:function makeDefaultCssConfig_(){var a=_get(_getPrototypeOf(CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.prototype),"makeDefaultCssConfig_",this).call(this);a.contents="blocklyToolboxContents";return a;}},{key:"parseContents_",value:function parseContents_(a){if("custom"in a)this.flyoutItems_=a.custom;else{var b=a.contents;if(b){this.flyoutItems_=[];a=!0;for(var c=0;c<b.length;c++){var d=b[c];!hasItem$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,d.kind)||d.kind.toLowerCase()===ToolboxSeparator$$module$build$src$core$toolbox$separator.registrationName&&a?(this.flyoutItems_.push(d),a=!0):(this.createToolboxItem_(d),a=!1);}}}}},{key:"createToolboxItem_",value:function createToolboxItem_(a){var b=a.kind;"CATEGORY"===b.toUpperCase()&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(b=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);a=new(getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,b))(a,this.parentToolbox_,this);this.toolboxItems_.push(a);}},{key:"init",value:function init(){_get(_getPrototypeOf(CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.prototype),"init",this).call(this);this.setExpanded("true"===this.toolboxItemDef_.expanded||!0===this.toolboxItemDef_.expanded);}},{key:"createDom_",value:function createDom_(){_get(_getPrototypeOf(CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.prototype),"createDom_",this).call(this);var a=this.getChildToolboxItems();this.subcategoriesDiv_=this.createSubCategoriesDom_(a);setRole$$module$build$src$core$utils$aria(this.subcategoriesDiv_,Role$$module$build$src$core$utils$aria.GROUP);this.htmlDiv_.appendChild(this.subcategoriesDiv_);this.closeIcon_(this.iconDom_);setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,!1);return this.htmlDiv_;}},{key:"createIconDom_",value:function createIconDom_(){var a=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){var b=this.cssConfig_.icon;b&&addClass$$module$build$src$core$utils$dom(a,b);a.style.visibility="visible";}a.style.display="inline-block";return a;}},{key:"createSubCategoriesDom_",value:function createSubCategoriesDom_(a){var b=document.createElement("div");b.style.display="none";var c=this.cssConfig_.contents;c&&addClass$$module$build$src$core$utils$dom(b,c);for(c=0;c<a.length;c++){var d=a[c];d.init();var e=d.getDiv();b.appendChild(e);if(d.getClickTarget){var f=void 0;null==(f=d.getClickTarget())||f.setAttribute("id",d.getId());}}return b;}},{key:"setExpanded",value:function setExpanded(a){if(this.expanded_!==a){if(this.expanded_=a)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{var b;null==(b=this.parentToolbox_.getFlyout())||b.setVisible(!1);this.subcategoriesDiv_.style.display="none";this.closeIcon_(this.iconDom_);}setState$$module$build$src$core$utils$aria(this.htmlDiv_,State$$module$build$src$core$utils$aria.EXPANDED,a);this.parentToolbox_.handleToolboxItemResize();}}},{key:"setVisible_",value:function setVisible_(a){this.htmlDiv_.style.display=a?"block":"none";var b=this.getChildToolboxItems();for(var c=0;c<b.length;c++)b[c].setVisible_(a);this.isHidden_=!a;this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection();}},{key:"isExpanded",value:function isExpanded(){return this.expanded_;}},{key:"isCollapsible",value:function isCollapsible(){return!0;}},{key:"onClick",value:function onClick(a){this.toggleExpanded();}},{key:"toggleExpanded",value:function toggleExpanded(){this.setExpanded(!this.expanded_);}},{key:"getDiv",value:function getDiv(){return this.htmlDiv_;}},{key:"getChildToolboxItems",value:function getChildToolboxItems(){return this.toolboxItems_;}}]);return CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;}(ToolboxCategory$$module$build$src$core$toolbox$category);CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName="collapsibleCategory";register$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName,CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category);var module$build$src$core$toolbox$collapsible_category={};module$build$src$core$toolbox$collapsible_category.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;var module$build$src$core$interfaces$i_selectable_toolbox_item={};module$build$src$core$interfaces$i_selectable_toolbox_item.isSelectableToolboxItem=isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item;var Toolbox$$module$build$src$core$toolbox$toolbox=/*#__PURE__*/function(_DeleteArea$$module$b3){"use strict";_inherits(Toolbox$$module$build$src$core$toolbox$toolbox,_DeleteArea$$module$b3);function Toolbox$$module$build$src$core$toolbox$toolbox(a){var _this119;_classCallCheck(this,Toolbox$$module$build$src$core$toolbox$toolbox);_this119=_callSuper(this,Toolbox$$module$build$src$core$toolbox$toolbox);_this119.id="toolbox";_this119.contentsDiv_=_this119.HtmlDiv=null;_this119.isVisible_=!1;_this119.contents_=[];_this119.height_=_this119.width_=0;_this119.previouslySelectedItem_=_this119.selectedItem_=_this119.flyout_=null;_this119.boundEvents_=[];_this119.workspace_=a;_this119.toolboxDef_=a.options.languageTree||{contents:[]};_this119.horizontalLayout_=a.options.horizontalLayout;_this119.RTL=a.options.RTL;_this119.contentMap_=Object.create(null);_this119.toolboxPosition=a.options.toolboxPosition;return _this119;}_createClass(Toolbox$$module$build$src$core$toolbox$toolbox,[{key:"onShortcut",value:function onShortcut(a){return!1;}},{key:"init",value:function init(){var a=this.workspace_;var b=a.getParentSvg();this.flyout_=this.createFlyout_();this.HtmlDiv=this.createDom_(this.workspace_);insertAfter$$module$build$src$core$utils$dom(this.flyout_.createDom("svg"),b);this.setVisible(!0);this.flyout_.init(a);this.render(this.toolboxDef_);a=a.getThemeManager();a.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color");a.subscribe(this.HtmlDiv,"toolboxForegroundColour","color");this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[ComponentManager$$module$build$src$core$component_manager.Capability.AUTOHIDEABLE,ComponentManager$$module$build$src$core$component_manager.Capability.DELETE_AREA,ComponentManager$$module$build$src$core$component_manager.Capability.DRAG_TARGET]});}},{key:"createDom_",value:function createDom_(a){a=a.getParentSvg();var b=this.createContainer_();this.contentsDiv_=this.createContentsContainer_();this.contentsDiv_.tabIndex=0;setRole$$module$build$src$core$utils$aria(this.contentsDiv_,Role$$module$build$src$core$utils$aria.TREE);b.appendChild(this.contentsDiv_);a.parentNode.insertBefore(b,a);this.attachEvents_(b,this.contentsDiv_);return b;}},{key:"createContainer_",value:function createContainer_(){var a=document.createElement("div");a.setAttribute("layout",this.isHorizontal()?"h":"v");addClass$$module$build$src$core$utils$dom(a,"blocklyToolboxDiv");addClass$$module$build$src$core$utils$dom(a,"blocklyNonSelectable");a.setAttribute("dir",this.RTL?"RTL":"LTR");return a;}},{key:"createContentsContainer_",value:function createContentsContainer_(){var a=document.createElement("div");addClass$$module$build$src$core$utils$dom(a,"blocklyToolboxContents");this.isHorizontal()&&(a.style.flexDirection="row");return a;}},{key:"attachEvents_",value:function attachEvents_(a,b){a=conditionalBind$$module$build$src$core$browser_events(a,"pointerdown",this,this.onClick_,!1);this.boundEvents_.push(a);b=conditionalBind$$module$build$src$core$browser_events(b,"keydown",this,this.onKeyDown_,!1);this.boundEvents_.push(b);}},{key:"onClick_",value:function onClick_(a){if(isRightButton$$module$build$src$core$browser_events(a)||a.target===this.HtmlDiv)getMainWorkspace$$module$build$src$core$common().hideChaff(!1);else{var b=a.target.getAttribute("id");b&&(b=this.getToolboxItemById(b),b.isSelectable()&&(this.setSelectedItem(b),b.onClick(a)));getMainWorkspace$$module$build$src$core$common().hideChaff(!0);}clearTouchIdentifier$$module$build$src$core$touch();}},{key:"onKeyDown_",value:function onKeyDown_(a){var b=!1;switch(a.key){case"ArrowDown":b=this.selectNext_();break;case"ArrowUp":b=this.selectPrevious_();break;case"ArrowLeft":b=this.selectParent_();break;case"ArrowRight":b=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),b=!0);break;default:b=!1;}!b&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(b=this.selectedItem_.onKeyDown(a));b&&a.preventDefault();}},{key:"createFlyout_",value:function createFlyout_(){var a=this.workspace_,b=new Options$$module$build$src$core$options({parentWorkspace:a,rtl:a.RTL,oneBasedIndex:a.options.oneBasedIndex,horizontalLayout:a.horizontalLayout,renderer:a.options.renderer,rendererOverrides:a.options.rendererOverrides,move:{scrollbars:!0}});b.toolboxPosition=a.options.toolboxPosition;return new(a.horizontalLayout?getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_HORIZONTAL_TOOLBOX,a.options,!0):getClassFromOptions$$module$build$src$core$registry(Type$$module$build$src$core$registry.FLYOUTS_VERTICAL_TOOLBOX,a.options,!0))(b);}},{key:"render",value:function render(a){this.toolboxDef_=a;for(var b=0;b<this.contents_.length;b++){var c=this.contents_[b];c&&c.dispose();}this.contents_=[];this.contentMap_=Object.create(null);this.renderContents_(a.contents);this.position();this.handleToolboxItemResize();}},{key:"renderContents_",value:function renderContents_(a){var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)this.createToolboxItem_(a[c],b);this.contentsDiv_.appendChild(b);}},{key:"createToolboxItem_",value:function createToolboxItem_(a,b){var c=a.kind;"CATEGORY"===c.toUpperCase()&&isCategoryCollapsible$$module$build$src$core$utils$toolbox(a)&&(c=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category.registrationName);if(c=getClass$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX_ITEM,c.toLowerCase()))a=new c(a,this),a.init(),this.addToolboxItem_(a),(c=a.getDiv())&&b.appendChild(c),a.getClickTarget()&&a.getClickTarget().setAttribute("id",a.getId());}},{key:"addToolboxItem_",value:function addToolboxItem_(a){this.contents_.push(a);this.contentMap_[a.getId()]=a;if(a.isCollapsible()){a=a.getChildToolboxItems();for(var b=0;b<a.length;b++)this.addToolboxItem_(a[b]);}}},{key:"getToolboxItems",value:function getToolboxItems(){return this.contents_;}},{key:"addStyle",value:function addStyle(a){a&&this.HtmlDiv&&addClass$$module$build$src$core$utils$dom(this.HtmlDiv,a);}},{key:"removeStyle",value:function removeStyle(a){a&&this.HtmlDiv&&removeClass$$module$build$src$core$utils$dom(this.HtmlDiv,a);}},{key:"getClientRect",value:function getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var a=this.HtmlDiv.getBoundingClientRect();var b=a.top,c=b+a.height,d=a.left;a=d+a.width;return this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?new Rect$$module$build$src$core$utils$rect(-1E7,c,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.BOTTOM?new Rect$$module$build$src$core$utils$rect(b,1E7,-1E7,1E7):this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?new Rect$$module$build$src$core$utils$rect(-1E7,1E7,-1E7,a):new Rect$$module$build$src$core$utils$rect(-1E7,1E7,d,1E7);}},{key:"wouldDelete",value:function wouldDelete(a,b){a instanceof BlockSvg$$module$build$src$core$block_svg?this.updateWouldDelete_(!a.getParent()&&a.isDeletable()):this.updateWouldDelete_(a.isDeletable());return this.wouldDelete_;}},{key:"onDragEnter",value:function onDragEnter(a){this.updateCursorDeleteStyle_(!0);}},{key:"onDragExit",value:function onDragExit(a){this.updateCursorDeleteStyle_(!1);}},{key:"onDrop",value:function onDrop(a){this.updateCursorDeleteStyle_(!1);}},{key:"updateWouldDelete_",value:function updateWouldDelete_(a){a!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=a,this.updateCursorDeleteStyle_(!0));}},{key:"updateCursorDeleteStyle_",value:function updateCursorDeleteStyle_(a){var b=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";a?this.addStyle(b):this.removeStyle(b);}},{key:"getToolboxItemById",value:function getToolboxItemById(a){return this.contentMap_[a]||null;}},{key:"getWidth",value:function getWidth(){return this.width_;}},{key:"getHeight",value:function getHeight(){return this.height_;}},{key:"getFlyout",value:function getFlyout(){return this.flyout_;}},{key:"getWorkspace",value:function getWorkspace(){return this.workspace_;}},{key:"getSelectedItem",value:function getSelectedItem(){return this.selectedItem_;}},{key:"getPreviouslySelectedItem",value:function getPreviouslySelectedItem(){return this.previouslySelectedItem_;}},{key:"isHorizontal",value:function isHorizontal(){return this.horizontalLayout_;}},{key:"position",value:function position(){var a=this.workspace_.getMetrics(),b=this.HtmlDiv;b&&(this.horizontalLayout_?(b.style.left="0",b.style.height="auto",b.style.width="100%",this.height_=b.offsetHeight,this.width_=a.viewWidth,this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?b.style.top="0":b.style.bottom="0"):(this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.RIGHT?b.style.right="0":b.style.left="0",b.style.height="100%",this.width_=b.offsetWidth,this.height_=a.viewHeight),this.flyout_.position());}},{key:"handleToolboxItemResize",value:function handleToolboxItemResize(){var a=this.workspace_,b=this.HtmlDiv.getBoundingClientRect();a.translate(this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.LEFT?a.scrollX+b.width:a.scrollX,this.toolboxPosition===Position$$module$build$src$core$utils$toolbox.TOP?a.scrollY+b.height:a.scrollY);svgResize$$module$build$src$core$common(a);}},{key:"clearSelection",value:function clearSelection(){this.setSelectedItem(null);}},{key:"refreshTheme",value:function refreshTheme(){for(var a=0;a<this.contents_.length;a++){var b=this.contents_[a];b.refreshTheme&&b.refreshTheme();}}},{key:"refreshSelection",value:function refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents());}},{key:"setVisible",value:function setVisible(a){this.isVisible_!==a&&(this.HtmlDiv.style.display=a?"block":"none",this.isVisible_=a,this.workspace_.recordDragTargets());}},{key:"autoHide",value:function autoHide(a){!a&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection();}},{key:"setSelectedItem",value:function setSelectedItem(a){var b=this.selectedItem_;!a&&!b||a&&!isSelectableToolboxItem$$module$build$src$core$interfaces$i_selectable_toolbox_item(a)||(this.shouldDeselectItem_(b,a)&&null!==b&&this.deselectItem_(b),this.shouldSelectItem_(b,a)&&null!==a&&this.selectItem_(b,a),this.updateFlyout_(b,a),this.fireSelectEvent_(b,a));}},{key:"shouldDeselectItem_",value:function shouldDeselectItem_(a,b){return null!==a&&(!a.isCollapsible()||a!==b);}},{key:"shouldSelectItem_",value:function shouldSelectItem_(a,b){return null!==b&&b!==a;}},{key:"deselectItem_",value:function deselectItem_(a){this.selectedItem_=null;this.previouslySelectedItem_=a;a.setSelected(!1);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,"");}},{key:"selectItem_",value:function selectItem_(a,b){this.selectedItem_=b;this.previouslySelectedItem_=a;b.setSelected(!0);setState$$module$build$src$core$utils$aria(this.contentsDiv_,State$$module$build$src$core$utils$aria.ACTIVEDESCENDANT,b.getId());}},{key:"selectItemByPosition",value:function selectItemByPosition(a){-1<a&&a<this.contents_.length&&(a=this.contents_[a],a.isSelectable()&&this.setSelectedItem(a));}},{key:"updateFlyout_",value:function updateFlyout_(a,b){b&&(a!==b||b.isCollapsible())&&b.getContents().length?(this.flyout_.show(b.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide();}},{key:"fireSelectEvent_",value:function fireSelectEvent_(a,b){var c=a&&a.getName();var d=b&&b.getName();a===b&&(d=null);a=new(get$$module$build$src$core$events$utils(TOOLBOX_ITEM_SELECT$$module$build$src$core$events$utils))(c,d,this.workspace_.id);fire$$module$build$src$core$events$utils(a);}},{key:"selectParent_",value:function selectParent_(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1;}},{key:"selectChild_",value:function selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var a=this.selectedItem_;a.isExpanded()?this.selectNext_():a.toggleExpanded();return!0;}},{key:"selectNext_",value:function selectNext_(){if(!this.selectedItem_)return!1;var a=this.contents_.indexOf(this.selectedItem_)+1;if(-1<a&&a<this.contents_.length){var b=this.contents_[a];for(;b&&!b.isSelectable();)b=this.contents_[++a];if(b&&b.isSelectable())return this.setSelectedItem(b),!0;}return!1;}},{key:"selectPrevious_",value:function selectPrevious_(){if(!this.selectedItem_)return!1;var a=this.contents_.indexOf(this.selectedItem_)-1;if(-1<a&&a<this.contents_.length){var b=this.contents_[a];for(;b&&!b.isSelectable();)b=this.contents_[--a];if(b&&b.isSelectable())return this.setSelectedItem(b),!0;}return!1;}},{key:"dispose",value:function dispose(){this.workspace_.getComponentManager().removeComponent("toolbox");this.flyout_.dispose();for(var a=0;a<this.contents_.length;a++)this.contents_[a].dispose();for(a=0;a<this.boundEvents_.length;a++)unbind$$module$build$src$core$browser_events(this.boundEvents_[a]);this.boundEvents_=[];this.contents_=[];this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),removeNode$$module$build$src$core$utils$dom(this.HtmlDiv));}}]);return Toolbox$$module$build$src$core$toolbox$toolbox;}(DeleteArea$$module$build$src$core$delete_area);register$$module$build$src$core$css('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolboxDiv {\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxContents {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxContents:focus {\n  outline: none;\n}\n');register$$module$build$src$core$registry(Type$$module$build$src$core$registry.TOOLBOX,DEFAULT$$module$build$src$core$registry,Toolbox$$module$build$src$core$toolbox$toolbox);var module$build$src$core$toolbox$toolbox={};module$build$src$core$toolbox$toolbox.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;var VERSION$$module$build$src$core$blockly="10.3.1",ALIGN_LEFT$$module$build$src$core$blockly=$.Align$$module$build$src$core$inputs$align.LEFT,ALIGN_CENTRE$$module$build$src$core$blockly=$.Align$$module$build$src$core$inputs$align.CENTRE,ALIGN_RIGHT$$module$build$src$core$blockly=$.Align$$module$build$src$core$inputs$align.RIGHT,INPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.INPUT_VALUE,OUTPUT_VALUE$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.OUTPUT_VALUE,NEXT_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.NEXT_STATEMENT,PREVIOUS_STATEMENT$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type.PREVIOUS_STATEMENT,DUMMY_INPUT$$module$build$src$core$blockly=$.inputTypes$$module$build$src$core$inputs$input_types.DUMMY,TOOLBOX_AT_TOP$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.TOP,TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.BOTTOM,TOOLBOX_AT_LEFT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.LEFT,TOOLBOX_AT_RIGHT$$module$build$src$core$blockly=Position$$module$build$src$core$utils$toolbox.RIGHT,svgResize$$module$build$src$core$blockly=svgResize$$module$build$src$core$common,getMainWorkspace$$module$build$src$core$blockly=getMainWorkspace$$module$build$src$core$common,getSelected$$module$build$src$core$blockly=getSelected$$module$build$src$core$common,defineBlocksWithJsonArray$$module$build$src$core$blockly=defineBlocksWithJsonArray$$module$build$src$core$common,setParentContainer$$module$build$src$core$blockly=setParentContainer$$module$build$src$core$common,COLLAPSE_CHARS$$module$build$src$core$blockly=COLLAPSE_CHARS$$module$build$src$core$internal_constants,DRAG_STACK$$module$build$src$core$blockly=DRAG_STACK$$module$build$src$core$internal_constants,OPPOSITE_TYPE$$module$build$src$core$blockly=OPPOSITE_TYPE$$module$build$src$core$internal_constants,RENAME_VARIABLE_ID$$module$build$src$core$blockly=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants,DELETE_VARIABLE_ID$$module$build$src$core$blockly=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants,COLLAPSED_INPUT_NAME$$module$build$src$core$blockly=COLLAPSED_INPUT_NAME$$module$build$src$core$constants,COLLAPSED_FIELD_NAME$$module$build$src$core$blockly=COLLAPSED_FIELD_NAME$$module$build$src$core$constants,VARIABLE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables,VARIABLE_DYNAMIC_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$variables_dynamic,PROCEDURE_CATEGORY_NAME$$module$build$src$core$blockly=CATEGORY_NAME$$module$build$src$core$procedures;Workspace$$module$build$src$core$workspace.prototype.newBlock=function(a,b){return new Block$$module$build$src$core$block(this,a,b);};WorkspaceSvg$$module$build$src$core$workspace_svg.prototype.newBlock=function(a,b){return new BlockSvg$$module$build$src$core$block_svg(this,a,b);};WorkspaceSvg$$module$build$src$core$workspace_svg.newTrashcan=function(a){return new Trashcan$$module$build$src$core$trashcan(a);};WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg.prototype.showContextMenu=function(a){if(!this.workspace.options.readOnly){var b=[];this.isDeletable()&&this.isMovable()&&(b.push(commentDuplicateOption$$module$build$src$core$contextmenu(this)),b.push(commentDeleteOption$$module$build$src$core$contextmenu(this)));show$$module$build$src$core$contextmenu(a,b,this.RTL);}};MiniWorkspaceBubble$$module$build$src$core$bubbles$mini_workspace_bubble.prototype.newWorkspaceSvg=function(a){return new WorkspaceSvg$$module$build$src$core$workspace_svg(a);};$.Names$$module$build$src$core$names.prototype.populateProcedures=function(a){a=allProcedures$$module$build$src$core$procedures(a);a=a[0].concat(a[1]);for(var b=0;b<a.length;b++)this.getName(a[b][0],$.Names$$module$build$src$core$names.NameType.PROCEDURE);};var DropDownDiv$$module$build$src$core$blockly=module$build$src$core$dropdowndiv,connectionTypes$$module$build$src$core$blockly=ConnectionType$$module$build$src$core$connection_type,module$build$src$core$blockly={ALIGN_CENTRE:ALIGN_CENTRE$$module$build$src$core$blockly,ALIGN_LEFT:ALIGN_LEFT$$module$build$src$core$blockly,ALIGN_RIGHT:ALIGN_RIGHT$$module$build$src$core$blockly};module$build$src$core$blockly.ASTNode=_ASTNode$$module$build$src$core$keyboard_nav$ast_node;module$build$src$core$blockly.BasicCursor=BasicCursor$$module$build$src$core$keyboard_nav$basic_cursor;module$build$src$core$blockly.Block=Block$$module$build$src$core$block;module$build$src$core$blockly.BlockDragger=BlockDragger$$module$build$src$core$block_dragger;module$build$src$core$blockly.BlockSvg=BlockSvg$$module$build$src$core$block_svg;module$build$src$core$blockly.Blocks=Blocks$$module$build$src$core$blocks;module$build$src$core$blockly.Bubble=Bubble$$module$build$src$core$bubbles$bubble;module$build$src$core$blockly.BubbleDragger=BubbleDragger$$module$build$src$core$bubble_dragger;module$build$src$core$blockly.COLLAPSED_FIELD_NAME=COLLAPSED_FIELD_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSED_INPUT_NAME=COLLAPSED_INPUT_NAME$$module$build$src$core$constants;module$build$src$core$blockly.COLLAPSE_CHARS=COLLAPSE_CHARS$$module$build$src$core$internal_constants;module$build$src$core$blockly.CodeGenerator=$.CodeGenerator$$module$build$src$core$generator;module$build$src$core$blockly.CollapsibleToolboxCategory=CollapsibleToolboxCategory$$module$build$src$core$toolbox$collapsible_category;module$build$src$core$blockly.ComponentManager=ComponentManager$$module$build$src$core$component_manager;module$build$src$core$blockly.Connection=Connection$$module$build$src$core$connection;module$build$src$core$blockly.ConnectionChecker=ConnectionChecker$$module$build$src$core$connection_checker;module$build$src$core$blockly.ConnectionDB=ConnectionDB$$module$build$src$core$connection_db;module$build$src$core$blockly.ConnectionType=ConnectionType$$module$build$src$core$connection_type;module$build$src$core$blockly.ContextMenu=module$build$src$core$contextmenu;module$build$src$core$blockly.ContextMenuItems=module$build$src$core$contextmenu_items;module$build$src$core$blockly.ContextMenuRegistry=ContextMenuRegistry$$module$build$src$core$contextmenu_registry;module$build$src$core$blockly.Css=module$build$src$core$css;module$build$src$core$blockly.Cursor=Cursor$$module$build$src$core$keyboard_nav$cursor;module$build$src$core$blockly.DELETE_VARIABLE_ID=DELETE_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.DRAG_STACK=DRAG_STACK$$module$build$src$core$internal_constants;module$build$src$core$blockly.DUMMY_INPUT=DUMMY_INPUT$$module$build$src$core$blockly;module$build$src$core$blockly.DeleteArea=DeleteArea$$module$build$src$core$delete_area;module$build$src$core$blockly.DragTarget=DragTarget$$module$build$src$core$drag_target;module$build$src$core$blockly.DropDownDiv=module$build$src$core$dropdowndiv;module$build$src$core$blockly.Events=module$build$src$core$events$events;module$build$src$core$blockly.Extensions=module$build$src$core$extensions;module$build$src$core$blockly.Field=Field$$module$build$src$core$field;module$build$src$core$blockly.FieldAngle=FieldAngle$$module$build$src$core$field_angle;module$build$src$core$blockly.FieldCheckbox=FieldCheckbox$$module$build$src$core$field_checkbox;module$build$src$core$blockly.FieldColour=FieldColour$$module$build$src$core$field_colour;module$build$src$core$blockly.FieldDropdown=FieldDropdown$$module$build$src$core$field_dropdown;module$build$src$core$blockly.FieldImage=FieldImage$$module$build$src$core$field_image;module$build$src$core$blockly.FieldLabel=FieldLabel$$module$build$src$core$field_label;module$build$src$core$blockly.FieldLabelSerializable=FieldLabelSerializable$$module$build$src$core$field_label_serializable;module$build$src$core$blockly.FieldMultilineInput=FieldMultilineInput$$module$build$src$core$field_multilineinput;module$build$src$core$blockly.FieldNumber=FieldNumber$$module$build$src$core$field_number;module$build$src$core$blockly.FieldTextInput=FieldTextInput$$module$build$src$core$field_textinput;module$build$src$core$blockly.FieldVariable=FieldVariable$$module$build$src$core$field_variable;module$build$src$core$blockly.Flyout=Flyout$$module$build$src$core$flyout_base;module$build$src$core$blockly.FlyoutButton=FlyoutButton$$module$build$src$core$flyout_button;module$build$src$core$blockly.FlyoutMetricsManager=FlyoutMetricsManager$$module$build$src$core$flyout_metrics_manager;module$build$src$core$blockly.Generator=$.CodeGenerator$$module$build$src$core$generator;module$build$src$core$blockly.Gesture=Gesture$$module$build$src$core$gesture;module$build$src$core$blockly.Grid=Grid$$module$build$src$core$grid;module$build$src$core$blockly.HorizontalFlyout=HorizontalFlyout$$module$build$src$core$flyout_horizontal;module$build$src$core$blockly.INPUT_VALUE=INPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Input=Input$$module$build$src$core$inputs$input;module$build$src$core$blockly.InsertionMarkerManager=_InsertionMarkerManager$$module$build$src$core$insertion_marker_manager;module$build$src$core$blockly.Marker=Marker$$module$build$src$core$keyboard_nav$marker;module$build$src$core$blockly.MarkerManager=MarkerManager$$module$build$src$core$marker_manager;module$build$src$core$blockly.Menu=Menu$$module$build$src$core$menu;module$build$src$core$blockly.MenuItem=MenuItem$$module$build$src$core$menuitem;module$build$src$core$blockly.MetricsManager=MetricsManager$$module$build$src$core$metrics_manager;module$build$src$core$blockly.Msg=$.Msg$$module$build$src$core$msg;module$build$src$core$blockly.NEXT_STATEMENT=NEXT_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.Names=$.Names$$module$build$src$core$names;module$build$src$core$blockly.OPPOSITE_TYPE=OPPOSITE_TYPE$$module$build$src$core$internal_constants;module$build$src$core$blockly.OUTPUT_VALUE=OUTPUT_VALUE$$module$build$src$core$blockly;module$build$src$core$blockly.Options=Options$$module$build$src$core$options;module$build$src$core$blockly.PREVIOUS_STATEMENT=PREVIOUS_STATEMENT$$module$build$src$core$blockly;module$build$src$core$blockly.PROCEDURE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$procedures;module$build$src$core$blockly.Procedures=module$build$src$core$procedures;module$build$src$core$blockly.RENAME_VARIABLE_ID=RENAME_VARIABLE_ID$$module$build$src$core$internal_constants;module$build$src$core$blockly.RenderedConnection=_RenderedConnection$$module$build$src$core$rendered_connection;module$build$src$core$blockly.Scrollbar=Scrollbar$$module$build$src$core$scrollbar;module$build$src$core$blockly.ScrollbarPair=ScrollbarPair$$module$build$src$core$scrollbar_pair;module$build$src$core$blockly.ShortcutItems=module$build$src$core$shortcut_items;module$build$src$core$blockly.ShortcutRegistry=_ShortcutRegistry$$module$build$src$core$shortcut_registry;module$build$src$core$blockly.TOOLBOX_AT_BOTTOM=TOOLBOX_AT_BOTTOM$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_LEFT=TOOLBOX_AT_LEFT$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_RIGHT=TOOLBOX_AT_RIGHT$$module$build$src$core$blockly;module$build$src$core$blockly.TOOLBOX_AT_TOP=TOOLBOX_AT_TOP$$module$build$src$core$blockly;module$build$src$core$blockly.TabNavigateCursor=TabNavigateCursor$$module$build$src$core$keyboard_nav$tab_navigate_cursor;module$build$src$core$blockly.Theme=Theme$$module$build$src$core$theme;module$build$src$core$blockly.ThemeManager=ThemeManager$$module$build$src$core$theme_manager;module$build$src$core$blockly.Themes=module$build$src$core$theme$themes;module$build$src$core$blockly.Toolbox=Toolbox$$module$build$src$core$toolbox$toolbox;module$build$src$core$blockly.ToolboxCategory=ToolboxCategory$$module$build$src$core$toolbox$category;module$build$src$core$blockly.ToolboxItem=ToolboxItem$$module$build$src$core$toolbox$toolbox_item;module$build$src$core$blockly.ToolboxSeparator=ToolboxSeparator$$module$build$src$core$toolbox$separator;module$build$src$core$blockly.Tooltip=module$build$src$core$tooltip;module$build$src$core$blockly.Touch=module$build$src$core$touch;module$build$src$core$blockly.Trashcan=Trashcan$$module$build$src$core$trashcan;module$build$src$core$blockly.UnattachedFieldError=UnattachedFieldError$$module$build$src$core$field;module$build$src$core$blockly.VARIABLE_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables;module$build$src$core$blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=CATEGORY_NAME$$module$build$src$core$variables_dynamic;module$build$src$core$blockly.VERSION=VERSION$$module$build$src$core$blockly;module$build$src$core$blockly.VariableMap=VariableMap$$module$build$src$core$variable_map;module$build$src$core$blockly.VariableModel=VariableModel$$module$build$src$core$variable_model;module$build$src$core$blockly.Variables=module$build$src$core$variables;module$build$src$core$blockly.VariablesDynamic=module$build$src$core$variables_dynamic;module$build$src$core$blockly.VerticalFlyout=VerticalFlyout$$module$build$src$core$flyout_vertical;module$build$src$core$blockly.WidgetDiv=module$build$src$core$widgetdiv;module$build$src$core$blockly.Workspace=Workspace$$module$build$src$core$workspace;module$build$src$core$blockly.WorkspaceAudio=WorkspaceAudio$$module$build$src$core$workspace_audio;module$build$src$core$blockly.WorkspaceComment=WorkspaceComment$$module$build$src$core$workspace_comment;module$build$src$core$blockly.WorkspaceCommentSvg=WorkspaceCommentSvg$$module$build$src$core$workspace_comment_svg;module$build$src$core$blockly.WorkspaceDragger=WorkspaceDragger$$module$build$src$core$workspace_dragger;module$build$src$core$blockly.WorkspaceSvg=WorkspaceSvg$$module$build$src$core$workspace_svg;module$build$src$core$blockly.Xml=module$build$src$core$xml;module$build$src$core$blockly.ZoomControls=ZoomControls$$module$build$src$core$zoom_controls;module$build$src$core$blockly.blockAnimations=module$build$src$core$block_animations;module$build$src$core$blockly.blockRendering=module$build$src$core$renderers$common$block_rendering;module$build$src$core$blockly.browserEvents=module$build$src$core$browser_events;module$build$src$core$blockly.bubbles=module$build$src$core$bubbles;module$build$src$core$blockly.bumpObjects=module$build$src$core$bump_objects;module$build$src$core$blockly.clipboard=module$build$src$core$clipboard;module$build$src$core$blockly.common=module$build$src$core$common;module$build$src$core$blockly.config=$.config$$module$build$src$core$config;module$build$src$core$blockly.connectionTypes=connectionTypes$$module$build$src$core$blockly;module$build$src$core$blockly.constants=module$build$src$core$constants;module$build$src$core$blockly.defineBlocksWithJsonArray=defineBlocksWithJsonArray$$module$build$src$core$common;module$build$src$core$blockly.dialog=module$build$src$core$dialog;module$build$src$core$blockly.fieldRegistry=module$build$src$core$field_registry;module$build$src$core$blockly.geras=module$build$src$core$renderers$geras$geras;module$build$src$core$blockly.getMainWorkspace=getMainWorkspace$$module$build$src$core$common;module$build$src$core$blockly.getSelected=getSelected$$module$build$src$core$common;module$build$src$core$blockly.hasBubble=hasBubble$$module$build$src$core$interfaces$i_has_bubble;module$build$src$core$blockly.hideChaff=hideChaff$$module$build$src$core$blockly;module$build$src$core$blockly.icons=module$build$src$core$icons;module$build$src$core$blockly.inject=inject$$module$build$src$core$inject;module$build$src$core$blockly.inputTypes=$.inputTypes$$module$build$src$core$inputs$input_types;module$build$src$core$blockly.inputs=module$build$src$core$inputs;module$build$src$core$blockly.isCopyable=isCopyable$$module$build$src$core$interfaces$i_copyable;module$build$src$core$blockly.isIcon=isIcon$$module$build$src$core$interfaces$i_icon;module$build$src$core$blockly.isObservable=isObservable$$module$build$src$core$interfaces$i_observable;module$build$src$core$blockly.isPaster=isPaster$$module$build$src$core$interfaces$i_paster;module$build$src$core$blockly.isSerializable=isSerializable$$module$build$src$core$interfaces$i_serializable;module$build$src$core$blockly.isVariableBackedParameterModel=isVariableBackedParameterModel$$module$build$src$core$interfaces$i_variable_backed_parameter_model;module$build$src$core$blockly.minimalist=module$build$src$core$renderers$minimalist$minimalist;module$build$src$core$blockly.procedures=module$build$src$core$procedures;module$build$src$core$blockly.registry=module$build$src$core$registry;module$build$src$core$blockly.renderManagement=module$build$src$core$render_management;module$build$src$core$blockly.serialization=module$build$src$core$serialization;module$build$src$core$blockly.setLocale=setLocale$$module$build$src$core$msg;module$build$src$core$blockly.setParentContainer=setParentContainer$$module$build$src$core$common;module$build$src$core$blockly.svgResize=svgResize$$module$build$src$core$common;module$build$src$core$blockly.thrasos=module$build$src$core$renderers$thrasos$thrasos;module$build$src$core$blockly.uiPosition=module$build$src$core$positionable_helpers;module$build$src$core$blockly.utils=module$build$src$core$utils;module$build$src$core$blockly.zelos=module$build$src$core$renderers$zelos$zelos;Object.defineProperties(module$build$src$core$blockly,{HSV_SATURATION:{get:function get(){warn$$module$build$src$core$utils$deprecation("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.getHsvSaturation()");return getHsvSaturation$$module$build$src$core$utils$colour();},set:function set(a){warn$$module$build$src$core$utils$deprecation("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.setHsvSaturation()");setHsvSaturation$$module$build$src$core$utils$colour(a);}},HSV_VALUE:{get:function get(){warn$$module$build$src$core$utils$deprecation("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.getHsvValue()");return getHsvValue$$module$build$src$core$utils$colour();},set:function set(a){warn$$module$build$src$core$utils$deprecation("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.setHsvValue()");setHsvValue$$module$build$src$core$utils$colour(a);}}});"Blockly"in globalThis||(globalThis.Blockly={Msg:module$build$src$core$msg});var module$build$src$core$main={};var module$build$src$core$blockly_options={};var module$build$src$core$utils$metrics={};var module$build$src$core$renderers$common$i_path_object={};var module$build$src$core$interfaces$i_toolbox_item={};var module$build$src$core$interfaces$i_toolbox={};var module$build$src$core$interfaces$i_styleable={};var module$build$src$core$interfaces$i_serializer={};var module$build$src$core$interfaces$i_selectable={};var module$build$src$core$interfaces$i_rendered_element={};module$build$src$core$interfaces$i_rendered_element.isRenderedElement=isRenderedElement$$module$build$src$core$interfaces$i_rendered_element;var module$build$src$core$interfaces$i_registrable={};var module$build$src$core$interfaces$i_procedure_model={};var module$build$src$core$interfaces$i_procedure_map={};var module$build$src$core$interfaces$i_positionable={};var module$build$src$core$interfaces$i_parameter_model={};var module$build$src$core$interfaces$i_movable={};var module$build$src$core$interfaces$i_metrics_manager={};var module$build$src$core$interfaces$i_keyboard_accessible={};var module$build$src$core$interfaces$i_flyout={};var module$build$src$core$interfaces$i_draggable={};var module$build$src$core$interfaces$i_drag_target={};var module$build$src$core$interfaces$i_delete_area={};var module$build$src$core$interfaces$i_deletable={};var module$build$src$core$interfaces$i_contextmenu={};var module$build$src$core$interfaces$i_connection_checker={};var module$build$src$core$interfaces$i_component={};var module$build$src$core$interfaces$i_collapsible_toolbox_item={};var module$build$src$core$interfaces$i_bubble={};var module$build$src$core$interfaces$i_bounded_element={};var module$build$src$core$interfaces$i_block_dragger={};var module$build$src$core$interfaces$i_autohideable={};var module$build$src$core$interfaces$i_ast_node_location_with_block={};var module$build$src$core$interfaces$i_ast_node_location_svg={};var module$build$src$core$interfaces$i_ast_node_location={};module$build$src$core$blockly.__namespace__=$;return module$build$src$core$blockly;});

/***/ }),

/***/ 34260:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;
(function (root, factory) {
  if (true) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(42083)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function (BlocklyBlocks) {
  /**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */

  /**
   * @fileoverview Blockly blocks module; just a wrapper for blocks_compressed.js.
   */

  return BlocklyBlocks;
});

/***/ }),

/***/ 42083:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__(70560);
__webpack_require__(64043);
__webpack_require__(57267);
__webpack_require__(91719);
__webpack_require__(21057);
__webpack_require__(34338);
__webpack_require__(48324);
__webpack_require__(752);
__webpack_require__(60228);
__webpack_require__(19649);
__webpack_require__(76265);
// Do not edit this file; automatically generated.

/* eslint-disable */
;
(function (root, factory) {
  if (true) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(22563)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function (__parent__) {
  var $ = __parent__.__namespace__;
  var blocks$$module$build$src$blocks$variables_dynamic = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
      type: "variables_get_dynamic",
      message0: "%1",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
      }],
      output: null,
      style: "variable_dynamic_blocks",
      helpUrl: "%{BKY_VARIABLES_GET_HELPURL}",
      tooltip: "%{BKY_VARIABLES_GET_TOOLTIP}",
      extensions: ["contextMenu_variableDynamicSetterGetter"]
    }, {
      type: "variables_set_dynamic",
      message0: "%{BKY_VARIABLES_SET}",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
      }, {
        type: "input_value",
        name: "VALUE"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "variable_dynamic_blocks",
      tooltip: "%{BKY_VARIABLES_SET_TOOLTIP}",
      helpUrl: "%{BKY_VARIABLES_SET_HELPURL}",
      extensions: ["contextMenu_variableDynamicSetterGetter"]
    }]),
    CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic = {
      customContextMenu: function customContextMenu(a) {
        if (!this.isInFlyout) {
          if ("variables_get_dynamic" === this.type) {
            var b = "variables_set_dynamic";
            var c = $.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;
          } else b = "variables_get_dynamic", c = $.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;
          var d = this.getField("VAR");
          b = {
            type: b,
            fields: {
              VAR: d.saveState(!0)
            }
          };
          a.push({
            enabled: 0 < this.workspace.remainingCapacity(),
            text: c.replace("%1", d.getText()),
            callback: $.callbackFactory$$module$build$src$core$contextmenu(this, b)
          });
        } else if ("variables_get_dynamic" === this.type || "variables_get_reporter_dynamic" === this.type) c = {
          text: $.Msg$$module$build$src$core$msg.RENAME_VARIABLE,
          enabled: !0,
          callback: renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)
        }, d = this.getField("VAR").getText(), d = {
          text: $.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1", d),
          enabled: !0,
          callback: deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(this)
        }, a.unshift(c), a.unshift(d);
      },
      onchange: function onchange(a) {
        a = this.getFieldValue("VAR");
        a = $.getVariable$$module$build$src$core$variables(this.workspace, a);
        "variables_get_dynamic" === this.type ? this.outputConnection.setCheck(a.type) : this.getInput("VALUE").connection.setCheck(a.type);
      }
    },
    renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic = function renameOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(a) {
      return function () {
        var b = a.workspace,
          c = a.getField("VAR").getVariable();
        $.renameVariable$$module$build$src$core$variables(b, c);
      };
    },
    deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic = function deleteOptionCallbackFactory$$module$build$src$blocks$variables_dynamic(a) {
      return function () {
        var b = a.workspace,
          c = a.getField("VAR").getVariable();
        b.deleteVariableById(c.getId());
        b.refreshToolboxSelection();
      };
    };
  $.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter", CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables_dynamic);
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables_dynamic);
  var module$build$src$blocks$variables_dynamic = {
    blocks: blocks$$module$build$src$blocks$variables_dynamic
  };
  var blocks$$module$build$src$blocks$variables = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
      type: "variables_get",
      message0: "%1",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
      }],
      output: null,
      style: "variable_blocks",
      helpUrl: "%{BKY_VARIABLES_GET_HELPURL}",
      tooltip: "%{BKY_VARIABLES_GET_TOOLTIP}",
      extensions: ["contextMenu_variableSetterGetter"]
    }, {
      type: "variables_set",
      message0: "%{BKY_VARIABLES_SET}",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: "%{BKY_VARIABLES_DEFAULT_NAME}"
      }, {
        type: "input_value",
        name: "VALUE"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "variable_blocks",
      tooltip: "%{BKY_VARIABLES_SET_TOOLTIP}",
      helpUrl: "%{BKY_VARIABLES_SET_HELPURL}",
      extensions: ["contextMenu_variableSetterGetter"]
    }]),
    CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables = {
      customContextMenu: function customContextMenu(a) {
        if (!this.isInFlyout) {
          if ("variables_get" === this.type) {
            var b = "variables_set";
            var c = $.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;
          } else b = "variables_get", c = $.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;
          var d = this.getField("VAR");
          b = {
            type: b,
            fields: {
              VAR: d.saveState(!0)
            }
          };
          a.push({
            enabled: 0 < this.workspace.remainingCapacity(),
            text: c.replace("%1", d.getText()),
            callback: $.callbackFactory$$module$build$src$core$contextmenu(this, b)
          });
        } else if ("variables_get" === this.type || "variables_get_reporter" === this.type) c = {
          text: $.Msg$$module$build$src$core$msg.RENAME_VARIABLE,
          enabled: !0,
          callback: renameOptionCallbackFactory$$module$build$src$blocks$variables(this)
        }, d = this.getField("VAR").getText(), d = {
          text: $.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1", d),
          enabled: !0,
          callback: deleteOptionCallbackFactory$$module$build$src$blocks$variables(this)
        }, a.unshift(c), a.unshift(d);
      }
    },
    renameOptionCallbackFactory$$module$build$src$blocks$variables = function renameOptionCallbackFactory$$module$build$src$blocks$variables(a) {
      return function () {
        var b = a.workspace,
          c = a.getField("VAR").getVariable();
        $.renameVariable$$module$build$src$core$variables(b, c);
      };
    },
    deleteOptionCallbackFactory$$module$build$src$blocks$variables = function deleteOptionCallbackFactory$$module$build$src$blocks$variables(a) {
      return function () {
        var b = a.workspace,
          c = a.getField("VAR").getVariable();
        b.deleteVariableById(c.getId());
        b.refreshToolboxSelection();
      };
    };
  $.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter", CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN$$module$build$src$blocks$variables);
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$variables);
  var module$build$src$blocks$variables = {
    blocks: blocks$$module$build$src$blocks$variables
  };
  var blocks$$module$build$src$blocks$text = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
      type: "text",
      message0: "%1",
      args0: [{
        type: "field_input",
        name: "TEXT",
        text: ""
      }],
      output: "String",
      style: "text_blocks",
      helpUrl: "%{BKY_TEXT_TEXT_HELPURL}",
      tooltip: "%{BKY_TEXT_TEXT_TOOLTIP}",
      extensions: ["text_quotes", "parent_tooltip_when_inline"]
    }, {
      type: "text_multiline",
      message0: "%1 %2",
      args0: [{
        type: "field_image",
        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",
        width: 12,
        height: 17,
        alt: "\u00b6"
      }, {
        type: "field_multilinetext",
        name: "TEXT",
        text: ""
      }],
      output: "String",
      style: "text_blocks",
      helpUrl: "%{BKY_TEXT_TEXT_HELPURL}",
      tooltip: "%{BKY_TEXT_TEXT_TOOLTIP}",
      extensions: ["parent_tooltip_when_inline"]
    }, {
      type: "text_join",
      message0: "",
      output: "String",
      style: "text_blocks",
      helpUrl: "%{BKY_TEXT_JOIN_HELPURL}",
      tooltip: "%{BKY_TEXT_JOIN_TOOLTIP}",
      mutator: "text_join_mutator"
    }, {
      type: "text_create_join_container",
      message0: "%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",
      args0: [{
        type: "input_dummy"
      }, {
        type: "input_statement",
        name: "STACK"
      }],
      style: "text_blocks",
      tooltip: "%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",
      enableContextMenu: !1
    }, {
      type: "text_create_join_item",
      message0: "%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",
      previousStatement: null,
      nextStatement: null,
      style: "text_blocks",
      tooltip: "%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",
      enableContextMenu: !1
    }, {
      type: "text_append",
      message0: "%{BKY_TEXT_APPEND_TITLE}",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: "%{BKY_TEXT_APPEND_VARIABLE}"
      }, {
        type: "input_value",
        name: "TEXT"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "text_blocks",
      extensions: ["text_append_tooltip"]
    }, {
      type: "text_length",
      message0: "%{BKY_TEXT_LENGTH_TITLE}",
      args0: [{
        type: "input_value",
        name: "VALUE",
        check: ["String", "Array"]
      }],
      output: "Number",
      style: "text_blocks",
      tooltip: "%{BKY_TEXT_LENGTH_TOOLTIP}",
      helpUrl: "%{BKY_TEXT_LENGTH_HELPURL}"
    }, {
      type: "text_isEmpty",
      message0: "%{BKY_TEXT_ISEMPTY_TITLE}",
      args0: [{
        type: "input_value",
        name: "VALUE",
        check: ["String", "Array"]
      }],
      output: "Boolean",
      style: "text_blocks",
      tooltip: "%{BKY_TEXT_ISEMPTY_TOOLTIP}",
      helpUrl: "%{BKY_TEXT_ISEMPTY_HELPURL}"
    }, {
      type: "text_indexOf",
      message0: "%{BKY_TEXT_INDEXOF_TITLE}",
      args0: [{
        type: "input_value",
        name: "VALUE",
        check: "String"
      }, {
        type: "field_dropdown",
        name: "END",
        options: [["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}", "FIRST"], ["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}", "LAST"]]
      }, {
        type: "input_value",
        name: "FIND",
        check: "String"
      }],
      output: "Number",
      style: "text_blocks",
      helpUrl: "%{BKY_TEXT_INDEXOF_HELPURL}",
      inputsInline: !0,
      extensions: ["text_indexOf_tooltip"]
    }, {
      type: "text_charAt",
      message0: "%{BKY_TEXT_CHARAT_TITLE}",
      args0: [{
        type: "input_value",
        name: "VALUE",
        check: "String"
      }, {
        type: "field_dropdown",
        name: "WHERE",
        options: [["%{BKY_TEXT_CHARAT_FROM_START}", "FROM_START"], ["%{BKY_TEXT_CHARAT_FROM_END}", "FROM_END"], ["%{BKY_TEXT_CHARAT_FIRST}", "FIRST"], ["%{BKY_TEXT_CHARAT_LAST}", "LAST"], ["%{BKY_TEXT_CHARAT_RANDOM}", "RANDOM"]]
      }],
      output: "String",
      style: "text_blocks",
      helpUrl: "%{BKY_TEXT_CHARAT_HELPURL}",
      inputsInline: !0,
      mutator: "text_charAt_mutator"
    }]),
    GET_SUBSTRING_BLOCK$$module$build$src$blocks$text = {
      init: function init() {
        this.WHERE_OPTIONS_1 = [[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START, "FROM_START"], [$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END, "FROM_END"], [$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST, "FIRST"]];
        this.WHERE_OPTIONS_2 = [[$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START, "FROM_START"], [$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END, "FROM_END"], [$.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST, "LAST"]];
        this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL);
        this.setStyle("text_blocks");
        this.appendValueInput("STRING").setCheck("String").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);
        this.appendDummyInput("AT1");
        this.appendDummyInput("AT2");
        $.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL && this.appendDummyInput("TAIL").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL);
        this.setInputsInline(!0);
        this.setOutput(!0, "String");
        this.updateAt_(1, !0);
        this.updateAt_(2, !0);
        this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP);
      },
      mutationToDom: function mutationToDom() {
        var a = $.createElement$$module$build$src$core$utils$xml("mutation");
        var b = this.getInput("AT1") instanceof $.ValueInput$$module$build$src$core$inputs$value_input;
        a.setAttribute("at1", `${b}`);
        b = this.getInput("AT2") instanceof $.ValueInput$$module$build$src$core$inputs$value_input;
        a.setAttribute("at2", `${b}`);
        return a;
      },
      domToMutation: function domToMutation(a) {
        var b = "true" === a.getAttribute("at1");
        a = "true" === a.getAttribute("at2");
        this.updateAt_(1, b);
        this.updateAt_(2, a);
      },
      updateAt_: function updateAt_(a, b) {
        this.removeInput("AT" + a);
        this.removeInput("ORDINAL" + a, !0);
        b ? (this.appendValueInput("AT" + a).setCheck("Number"), $.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL" + a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT" + a);
        2 === a && $.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL && (this.removeInput("TAIL", !0), this.appendDummyInput("TAIL").appendField($.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));
        var c = $.fromJson$$module$build$src$core$field_registry({
          type: "field_dropdown",
          options: this["WHERE_OPTIONS_" + a]
        });
        c.setValidator(function (d) {
          var e = "FROM_START" === d || "FROM_END" === d;
          if (e !== b) {
            var f = this.getSourceBlock();
            f.updateAt_(a, e);
            f.setFieldValue(d, "WHERE" + a);
            return null;
          }
        });
        this.getInput("AT" + a).appendField(c, "WHERE" + a);
        1 === a && (this.moveInputBefore("AT1", "AT2"), this.getInput("ORDINAL1") && this.moveInputBefore("ORDINAL1", "AT2"));
      }
    };
  blocks$$module$build$src$blocks$text.text_getSubstring = GET_SUBSTRING_BLOCK$$module$build$src$blocks$text;
  blocks$$module$build$src$blocks$text.text_changeCase = {
    init: function init() {
      var a = [[$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE, "UPPERCASE"], [$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE, "LOWERCASE"], [$.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE, "TITLECASE"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL);
      this.setStyle("text_blocks");
      this.appendValueInput("TEXT").setCheck("String").appendField($.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: a
      }), "CASE");
      this.setOutput(!0, "String");
      this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP);
    }
  };
  blocks$$module$build$src$blocks$text.text_trim = {
    init: function init() {
      var a = [[$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH, "BOTH"], [$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT, "LEFT"], [$.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT, "RIGHT"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL);
      this.setStyle("text_blocks");
      this.appendValueInput("TEXT").setCheck("String").appendField($.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: a
      }), "MODE");
      this.setOutput(!0, "String");
      this.setTooltip($.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP);
    }
  };
  blocks$$module$build$src$blocks$text.text_print = {
    init: function init() {
      this.jsonInit({
        message0: $.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,
        args0: [{
          type: "input_value",
          name: "TEXT"
        }],
        previousStatement: null,
        nextStatement: null,
        style: "text_blocks",
        tooltip: $.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,
        helpUrl: $.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL
      });
    }
  };
  var PROMPT_COMMON$$module$build$src$blocks$text = {
    updateType_: function updateType_(a) {
      this.outputConnection.setCheck("NUMBER" === a ? "Number" : "String");
    },
    mutationToDom: function mutationToDom() {
      var a = $.createElement$$module$build$src$core$utils$xml("mutation");
      a.setAttribute("type", this.getFieldValue("TYPE"));
      return a;
    },
    domToMutation: function domToMutation(a) {
      this.updateType_(a.getAttribute("type"));
    }
  };
  blocks$$module$build$src$blocks$text.text_prompt_ext = Object.assign({}, PROMPT_COMMON$$module$build$src$blocks$text, {
    init: function init() {
      var _this = this;
      var a = [[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT, "TEXT"], [$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER, "NUMBER"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);
      this.setStyle("text_blocks");
      a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: a
      });
      a.setValidator(function (b) {
        _this.updateType_(b);
      });
      this.appendValueInput("TEXT").appendField(a, "TYPE");
      this.setOutput(!0, "String");
      this.setTooltip(function () {
        return "TEXT" === _this.getFieldValue("TYPE") ? $.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT : $.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER;
      });
    }
  });
  var TEXT_PROMPT_BLOCK$$module$build$src$blocks$text = Object.assign({}, PROMPT_COMMON$$module$build$src$blocks$text, {
    init: function init() {
      var _this2 = this;
      this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);
      var a = [[$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT, "TEXT"], [$.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER, "NUMBER"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL);
      this.setStyle("text_blocks");
      a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: a
      });
      a.setValidator(function (b) {
        _this2.updateType_(b);
      });
      this.appendDummyInput().appendField(a, "TYPE").appendField(this.newQuote_(!0)).appendField($.fromJson$$module$build$src$core$field_registry({
        type: "field_input",
        text: ""
      }), "TEXT").appendField(this.newQuote_(!1));
      this.setOutput(!0, "String");
      this.setTooltip(function () {
        return "TEXT" === _this2.getFieldValue("TYPE") ? $.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT : $.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER;
      });
    }
  });
  blocks$$module$build$src$blocks$text.text_prompt = TEXT_PROMPT_BLOCK$$module$build$src$blocks$text;
  blocks$$module$build$src$blocks$text.text_count = {
    init: function init() {
      this.jsonInit({
        message0: $.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,
        args0: [{
          type: "input_value",
          name: "SUB",
          check: "String"
        }, {
          type: "input_value",
          name: "TEXT",
          check: "String"
        }],
        output: "Number",
        inputsInline: !0,
        style: "text_blocks",
        tooltip: $.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,
        helpUrl: $.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL
      });
    }
  };
  blocks$$module$build$src$blocks$text.text_replace = {
    init: function init() {
      this.jsonInit({
        message0: $.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,
        args0: [{
          type: "input_value",
          name: "FROM",
          check: "String"
        }, {
          type: "input_value",
          name: "TO",
          check: "String"
        }, {
          type: "input_value",
          name: "TEXT",
          check: "String"
        }],
        output: "String",
        inputsInline: !0,
        style: "text_blocks",
        tooltip: $.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,
        helpUrl: $.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL
      });
    }
  };
  blocks$$module$build$src$blocks$text.text_reverse = {
    init: function init() {
      this.jsonInit({
        message0: $.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,
        args0: [{
          type: "input_value",
          name: "TEXT",
          check: "String"
        }],
        output: "String",
        inputsInline: !0,
        style: "text_blocks",
        tooltip: $.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,
        helpUrl: $.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL
      });
    }
  };
  var QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text = {
      QUOTE_IMAGE_LEFT_DATAURI: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",
      QUOTE_IMAGE_RIGHT_DATAURI: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
      QUOTE_IMAGE_WIDTH: 12,
      QUOTE_IMAGE_HEIGHT: 12,
      quoteField_: function quoteField_(a) {
        for (var b = 0, c; c = this.inputList[b]; b++) for (var d = 0, e; e = c.fieldRow[d]; d++) if (a === e.name) {
          c.insertFieldAt(d, this.newQuote_(!0));
          c.insertFieldAt(d + 2, this.newQuote_(!1));
          return;
        }
        console.warn('field named "' + a + '" not found in ' + this.toDevString());
      },
      newQuote_: function newQuote_(a) {
        a = this.RTL ? !a : a;
        return $.fromJson$$module$build$src$core$field_registry({
          type: "field_image",
          src: a ? this.QUOTE_IMAGE_LEFT_DATAURI : this.QUOTE_IMAGE_RIGHT_DATAURI,
          width: this.QUOTE_IMAGE_WIDTH,
          height: this.QUOTE_IMAGE_HEIGHT,
          alt: a ? "\u201c" : "\u201d"
        });
      }
    },
    QUOTES_EXTENSION$$module$build$src$blocks$text = function QUOTES_EXTENSION$$module$build$src$blocks$text() {
      this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);
      this.quoteField_("TEXT");
    },
    JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text = {
      itemCount_: 0,
      mutationToDom: function mutationToDom() {
        var a = $.createElement$$module$build$src$core$utils$xml("mutation");
        a.setAttribute("items", `${this.itemCount_}`);
        return a;
      },
      domToMutation: function domToMutation(a) {
        this.itemCount_ = parseInt(a.getAttribute("items"), 10);
        this.updateShape_();
      },
      saveExtraState: function saveExtraState() {
        return {
          itemCount: this.itemCount_
        };
      },
      loadExtraState: function loadExtraState(a) {
        this.itemCount_ = a.itemCount;
        this.updateShape_();
      },
      decompose: function decompose(a) {
        var b = a.newBlock("text_create_join_container");
        b.initSvg();
        var c = b.getInput("STACK").connection;
        for (var d = 0; d < this.itemCount_; d++) {
          var e = a.newBlock("text_create_join_item");
          e.initSvg();
          c.connect(e.previousConnection);
          c = e.nextConnection;
        }
        return b;
      },
      compose: function compose(a) {
        var b = a.getInputTargetBlock("STACK");
        for (a = []; b;) b.isInsertionMarker() || a.push(b.valueConnection_), b = b.getNextBlock();
        for (b = 0; b < this.itemCount_; b++) {
          var c = this.getInput("ADD" + b).connection.targetConnection;
          c && -1 === a.indexOf(c) && c.disconnect();
        }
        this.itemCount_ = a.length;
        this.updateShape_();
        for (b = 0; b < this.itemCount_; b++) {
          var _c = void 0;
          null == (_c = a[b]) || _c.reconnect(this, "ADD" + b);
        }
      },
      saveConnections: function saveConnections(a) {
        a = a.getInputTargetBlock("STACK");
        var b = 0;
        for (; a;) {
          if (a.isInsertionMarker()) {
            a = a.getNextBlock();
            continue;
          }
          var c = this.getInput("ADD" + b);
          a.valueConnection_ = c && c.connection.targetConnection;
          a = a.getNextBlock();
          b++;
        }
      },
      updateShape_: function updateShape_() {
        this.itemCount_ && this.getInput("EMPTY") ? this.removeInput("EMPTY") : this.itemCount_ || this.getInput("EMPTY") || this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));
        for (var a = 0; a < this.itemCount_; a++) if (!this.getInput("ADD" + a)) {
          var b = this.appendValueInput("ADD" + a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);
          0 === a && b.appendField($.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH);
        }
        for (a = this.itemCount_; this.getInput("ADD" + a); a++) this.removeInput("ADD" + a);
      }
    },
    JOIN_EXTENSION$$module$build$src$blocks$text = function JOIN_EXTENSION$$module$build$src$blocks$text() {
      this.mixin(QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);
      this.itemCount_ = 2;
      this.updateShape_();
      this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"], this));
    };
  $.register$$module$build$src$core$extensions("text_append_tooltip", $.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}", "VAR"));
  var INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text = function INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text() {
      var _this3 = this;
      this.setTooltip(function () {
        return $.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1", _this3.workspace.options.oneBasedIndex ? "0" : "-1");
      });
    },
    CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text = {
      isAt_: !1,
      mutationToDom: function mutationToDom() {
        var a = $.createElement$$module$build$src$core$utils$xml("mutation");
        a.setAttribute("at", `${this.isAt_}`);
        return a;
      },
      domToMutation: function domToMutation(a) {
        a = "false" !== a.getAttribute("at");
        this.updateAt_(a);
      },
      updateAt_: function updateAt_(a) {
        this.removeInput("AT", !0);
        this.removeInput("ORDINAL", !0);
        a && (this.appendValueInput("AT").setCheck("Number"), $.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX));
        $.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL && (this.removeInput("TAIL", !0), this.appendDummyInput("TAIL").appendField($.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL));
        this.isAt_ = a;
      }
    },
    CHARAT_EXTENSION$$module$build$src$blocks$text = function CHARAT_EXTENSION$$module$build$src$blocks$text() {
      var _this4 = this;
      this.getField("WHERE").setValidator(function (a) {
        a = "FROM_START" === a || "FROM_END" === a;
        var b = this.getSourceBlock();
        a !== b.isAt_ && b.updateAt_(a);
      });
      this.updateAt_(!0);
      this.setTooltip(function () {
        var a = _this4.getFieldValue("WHERE");
        var b = $.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;
        ("FROM_START" === a || "FROM_END" === a) && (a = "FROM_START" === a ? $.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP : $.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP) && (b += "  " + a.replace("%1", _this4.workspace.options.oneBasedIndex ? "#1" : "#0"));
        return b;
      });
    };
  $.register$$module$build$src$core$extensions("text_indexOf_tooltip", INDEXOF_TOOLTIP_EXTENSION$$module$build$src$blocks$text);
  $.register$$module$build$src$core$extensions("text_quotes", QUOTES_EXTENSION$$module$build$src$blocks$text);
  $.registerMixin$$module$build$src$core$extensions("quote_image_mixin", QUOTE_IMAGE_MIXIN$$module$build$src$blocks$text);
  $.registerMutator$$module$build$src$core$extensions("text_join_mutator", JOIN_MUTATOR_MIXIN$$module$build$src$blocks$text, JOIN_EXTENSION$$module$build$src$blocks$text);
  $.registerMutator$$module$build$src$core$extensions("text_charAt_mutator", CHARAT_MUTATOR_MIXIN$$module$build$src$blocks$text, CHARAT_EXTENSION$$module$build$src$blocks$text);
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$text);
  var module$build$src$blocks$text = {
    blocks: blocks$$module$build$src$blocks$text
  };
  var blocks$$module$build$src$blocks$procedures = {},
    PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures = {
      setStatements_: function setStatements_(a) {
        this.hasStatements_ !== a && (a ? (this.appendStatementInput("STACK").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO), this.getInput("RETURN") && this.moveInputBefore("STACK", "RETURN")) : this.removeInput("STACK", !0), this.hasStatements_ = a);
      },
      updateParams_: function updateParams_() {
        var a = "";
        this.arguments_.length && (a = $.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS + " " + this.arguments_.join(", "));
        $.disable$$module$build$src$core$events$utils();
        try {
          this.setFieldValue(a, "PARAMS");
        } finally {
          $.enable$$module$build$src$core$events$utils();
        }
      },
      mutationToDom: function mutationToDom(a) {
        var b = $.createElement$$module$build$src$core$utils$xml("mutation");
        a && b.setAttribute("name", this.getFieldValue("NAME"));
        for (var c = 0; c < this.argumentVarModels_.length; c++) {
          var d = $.createElement$$module$build$src$core$utils$xml("arg"),
            e = this.argumentVarModels_[c];
          d.setAttribute("name", e.name);
          d.setAttribute("varid", e.getId());
          a && this.paramIds_ && d.setAttribute("paramId", this.paramIds_[c]);
          b.appendChild(d);
        }
        this.hasStatements_ || b.setAttribute("statements", "false");
        return b;
      },
      domToMutation: function domToMutation(a) {
        this.arguments_ = [];
        this.argumentVarModels_ = [];
        for (var c = 0, d; d = a.childNodes[c]; c++) if ("arg" === d.nodeName.toLowerCase()) {
          var b = d;
          var e = b.getAttribute("name");
          b = b.getAttribute("varid") || b.getAttribute("varId");
          this.arguments_.push(e);
          b = $.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace, b, e, "");
          null !== b ? this.argumentVarModels_.push(b) : console.log(`Failed to create a variable named "${e}", ignoring.`);
        }
        this.updateParams_();
        $.mutateCallers$$module$build$src$core$procedures(this);
        this.setStatements_("false" !== a.getAttribute("statements"));
      },
      saveExtraState: function saveExtraState() {
        if (!this.argumentVarModels_.length && this.hasStatements_) return null;
        var a = Object.create(null);
        if (this.argumentVarModels_.length) {
          a.params = [];
          for (var b = 0; b < this.argumentVarModels_.length; b++) a.params.push({
            name: this.argumentVarModels_[b].name,
            id: this.argumentVarModels_[b].getId()
          });
        }
        this.hasStatements_ || (a.hasStatements = !1);
        return a;
      },
      loadExtraState: function loadExtraState(a) {
        this.arguments_ = [];
        this.argumentVarModels_ = [];
        if (a.params) for (var c = 0; c < a.params.length; c++) {
          var b = a.params[c];
          b = $.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace, b.id, b.name, "");
          this.arguments_.push(b.name);
          this.argumentVarModels_.push(b);
        }
        this.updateParams_();
        $.mutateCallers$$module$build$src$core$procedures(this);
        this.setStatements_(!1 === a.hasStatements ? !1 : !0);
      },
      decompose: function decompose(a) {
        var b = $.createElement$$module$build$src$core$utils$xml("block");
        b.setAttribute("type", "procedures_mutatorcontainer");
        var c = $.createElement$$module$build$src$core$utils$xml("statement");
        c.setAttribute("name", "STACK");
        b.appendChild(c);
        for (var e = 0; e < this.arguments_.length; e++) {
          var f = $.createElement$$module$build$src$core$utils$xml("block");
          f.setAttribute("type", "procedures_mutatorarg");
          var d = $.createElement$$module$build$src$core$utils$xml("field");
          d.setAttribute("name", "NAME");
          var g = $.createTextNode$$module$build$src$core$utils$xml(this.arguments_[e]);
          d.appendChild(g);
          f.appendChild(d);
          d = $.createElement$$module$build$src$core$utils$xml("next");
          f.appendChild(d);
          c.appendChild(f);
          c = d;
        }
        a = $.domToBlock$$module$build$src$core$xml(b, a);
        "procedures_defreturn" === this.type ? a.setFieldValue(this.hasStatements_, "STATEMENTS") : a.removeInput("STATEMENT_INPUT");
        $.mutateCallers$$module$build$src$core$procedures(this);
        return a;
      },
      compose: function compose(a) {
        this.arguments_ = [];
        this.paramIds_ = [];
        this.argumentVarModels_ = [];
        var b = a.getInputTargetBlock("STACK");
        for (; b && !b.isInsertionMarker();) {
          var c = b.getFieldValue("NAME");
          this.arguments_.push(c);
          c = this.workspace.getVariable(c, "");
          this.argumentVarModels_.push(c);
          this.paramIds_.push(b.id);
          b = b.nextConnection && b.nextConnection.targetBlock();
        }
        this.updateParams_();
        $.mutateCallers$$module$build$src$core$procedures(this);
        a = a.getFieldValue("STATEMENTS");
        if (null !== a && (a = "TRUE" === a, this.hasStatements_ !== a)) if (a) {
          this.setStatements_(!0);
          var d;
          null == (d = this.statementConnection_) || d.reconnect(this, "STACK");
          this.statementConnection_ = null;
        } else {
          d = this.getInput("STACK").connection;
          if (this.statementConnection_ = d.targetConnection) d = d.targetBlock(), d.unplug(), d.bumpNeighbours();
          this.setStatements_(!1);
        }
      },
      getVars: function getVars() {
        return this.arguments_;
      },
      getVarModels: function getVarModels() {
        return this.argumentVarModels_;
      },
      renameVarById: function renameVarById(a, b) {
        var c = this.workspace.getVariableById(a);
        if ("" === c.type) {
          c = c.name;
          b = this.workspace.getVariableById(b);
          var d = !1;
          for (var e = 0; e < this.argumentVarModels_.length; e++) this.argumentVarModels_[e].getId() === a && (this.arguments_[e] = b.name, this.argumentVarModels_[e] = b, d = !0);
          d && (this.displayRenamedVar_(c, b.name), $.mutateCallers$$module$build$src$core$procedures(this));
        }
      },
      updateVarName: function updateVarName(a) {
        var b = a.name;
        var c = !1,
          d;
        for (var e = 0; e < this.argumentVarModels_.length; e++) this.argumentVarModels_[e].getId() === a.getId() && (d = this.arguments_[e], this.arguments_[e] = b, c = !0);
        c && (this.displayRenamedVar_(d, b), $.mutateCallers$$module$build$src$core$procedures(this));
      },
      displayRenamedVar_: function displayRenamedVar_(a, b) {
        this.updateParams_();
        var c = this.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);
        if (c && c.bubbleIsVisible()) {
          c = c.getWorkspace().getAllBlocks(!1);
          for (var d = 0, e; e = c[d]; d++) "procedures_mutatorarg" === e.type && $.Names$$module$build$src$core$names.equals(a, e.getFieldValue("NAME")) && e.setFieldValue(b, "NAME");
        }
      },
      customContextMenu: function customContextMenu(a) {
        if (!this.isInFlyout) {
          var b = this.getFieldValue("NAME"),
            c = {
              type: this.callType_,
              extraState: {
                name: b,
                params: this.arguments_
              }
            };
          a.push({
            enabled: !0,
            text: $.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1", b),
            callback: $.callbackFactory$$module$build$src$core$contextmenu(this, c)
          });
          if (!this.isCollapsed()) for (b = 0; b < this.argumentVarModels_.length; b++) {
            c = this.argumentVarModels_[b];
            var d = {
              type: "variables_get",
              fields: {
                VAR: {
                  name: c.name,
                  id: c.getId(),
                  type: c.type
                }
              }
            };
            a.push({
              enabled: !0,
              text: $.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1", c.name),
              callback: $.callbackFactory$$module$build$src$core$contextmenu(this, d)
            });
          }
        }
      }
    };
  blocks$$module$build$src$blocks$procedures.procedures_defnoreturn = Object.assign({}, PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures, {
    init: function init() {
      var a = $.findLegalName$$module$build$src$core$procedures("", this);
      a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_input",
        text: a
      });
      a.setValidator($.rename$$module$build$src$core$procedures);
      a.setSpellcheck(!1);
      this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a, "NAME").appendField("", "PARAMS");
      this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"], this));
      (this.workspace.options.comments || this.workspace.options.parentWorkspace && this.workspace.options.parentWorkspace.options.comments) && $.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT && this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT);
      this.setStyle("procedure_blocks");
      this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP);
      this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL);
      this.arguments_ = [];
      this.argumentVarModels_ = [];
      this.setStatements_(!0);
      this.statementConnection_ = null;
    },
    getProcedureDef: function getProcedureDef() {
      return [this.getFieldValue("NAME"), this.arguments_, !1];
    },
    callType_: "procedures_callnoreturn"
  });
  blocks$$module$build$src$blocks$procedures.procedures_defreturn = Object.assign({}, PROCEDURE_DEF_COMMON$$module$build$src$blocks$procedures, {
    init: function init() {
      var a = $.findLegalName$$module$build$src$core$procedures("", this);
      a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_input",
        text: a
      });
      a.setValidator($.rename$$module$build$src$core$procedures);
      a.setSpellcheck(!1);
      this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(a, "NAME").appendField("", "PARAMS");
      this.appendValueInput("RETURN").setAlign($.Align$$module$build$src$core$inputs$input.RIGHT).appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);
      this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"], this));
      (this.workspace.options.comments || this.workspace.options.parentWorkspace && this.workspace.options.parentWorkspace.options.comments) && $.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT && this.setCommentText($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT);
      this.setStyle("procedure_blocks");
      this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP);
      this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL);
      this.arguments_ = [];
      this.argumentVarModels_ = [];
      this.setStatements_(!0);
      this.statementConnection_ = null;
    },
    getProcedureDef: function getProcedureDef() {
      return [this.getFieldValue("NAME"), this.arguments_, !0];
    },
    callType_: "procedures_callreturn"
  });
  var PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures = {
    init: function init() {
      this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE);
      this.appendStatementInput("STACK");
      this.appendDummyInput("STATEMENT_INPUT").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField($.fromJson$$module$build$src$core$field_registry({
        type: "field_checkbox",
        checked: !0
      }), "STATEMENTS");
      this.setStyle("procedure_blocks");
      this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);
      this.contextMenu = !1;
    }
  };
  blocks$$module$build$src$blocks$procedures.procedures_mutatorcontainer = PROCEDURES_MUTATORCONTAINER$$module$build$src$blocks$procedures;
  var PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures = {
    init: function init() {
      var a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_input",
        text: $.DEFAULT_ARG$$module$build$src$core$procedures
      });
      a.setValidator(this.validator_);
      a.oldShowEditorFn_ = a.showEditor_;
      a.showEditor_ = function () {
        this.createdVariables_ = [];
        this.oldShowEditorFn_();
      };
      this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(a, "NAME");
      this.setPreviousStatement(!0);
      this.setNextStatement(!0);
      this.setStyle("procedure_blocks");
      this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP);
      this.contextMenu = !1;
      a.onFinishEditing_ = this.deleteIntermediateVars_;
      a.createdVariables_ = [];
      a.onFinishEditing_("x");
    },
    validator_: function validator_(a) {
      var b = this.getSourceBlock();
      var c = b.workspace.getRootWorkspace();
      a = a.replace(/[\s\xa0]+/g, " ").replace(/^ | $/g, "");
      if (!a) return null;
      var d = (b.workspace.targetWorkspace || b.workspace).getAllBlocks(!1),
        e = a.toLowerCase();
      for (var f = 0; f < d.length; f++) {
        if (d[f].id === this.getSourceBlock().id) continue;
        var g = d[f].getFieldValue("NAME");
        if (g && g.toLowerCase() === e) return null;
      }
      if (b.isInFlyout) return a;
      (b = c.getVariable(a, "")) && b.name !== a && c.renameVariableById(b.getId(), a);
      b || (b = c.createVariable(a, "")) && this.createdVariables_ && this.createdVariables_.push(b);
      return a;
    },
    deleteIntermediateVars_: function deleteIntermediateVars_(a) {
      var b = this.getSourceBlock().workspace.getRootWorkspace();
      if (b) for (var c = 0; c < this.createdVariables_.length; c++) {
        var d = this.createdVariables_[c];
        d.name !== a && b.deleteVariableById(d.getId());
      }
    }
  };
  blocks$$module$build$src$blocks$procedures.procedures_mutatorarg = PROCEDURES_MUTATORARGUMENT$$module$build$src$blocks$procedures;
  var PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures = {
    getProcedureCall: function getProcedureCall() {
      return this.getFieldValue("NAME");
    },
    renameProcedure: function renameProcedure(a, b) {
      $.Names$$module$build$src$core$names.equals(a, this.getProcedureCall()) && (this.setFieldValue(b, "NAME"), this.setTooltip((this.outputConnection ? $.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP : $.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1", b)));
    },
    setProcedureParameters_: function setProcedureParameters_(a, b) {
      var c = $.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(), this.workspace);
      (c = (c = c && c.getIcon($.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)) && c.bubbleIsVisible()) ? this.setCollapsed(!1) : (this.quarkConnections_ = {}, this.quarkIds_ = null);
      if (a.join("\n") === this.arguments_.join("\n")) this.quarkIds_ = b;else {
        if (b.length !== a.length) throw RangeError("paramNames and paramIds must be the same length.");
        this.quarkIds_ || (this.quarkConnections_ = {}, this.quarkIds_ = []);
        for (var e = 0; e < this.arguments_.length; e++) {
          var d = this.getInput("ARG" + e);
          d && (d = d.connection.targetConnection, this.quarkConnections_[this.quarkIds_[e]] = d, c && d && -1 === b.indexOf(this.quarkIds_[e]) && (d.disconnect(), d.getSourceBlock().bumpNeighbours()));
        }
        this.arguments_ = [].concat(a);
        this.argumentVarModels_ = [];
        for (a = 0; a < this.arguments_.length; a++) c = $.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace, null, this.arguments_[a], ""), this.argumentVarModels_.push(c);
        this.updateShape_();
        if (this.quarkIds_ = b) for (b = 0; b < this.arguments_.length; b++) if (a = this.quarkIds_[b], a in this.quarkConnections_) {
          var _e = void 0;
          (null == (_e = this.quarkConnections_[a]) ? 0 : _e.reconnect(this, "ARG" + b)) || delete this.quarkConnections_[a];
        }
      }
    },
    updateShape_: function updateShape_() {
      for (var a = 0; a < this.arguments_.length; a++) {
        var b = this.getField("ARGNAME" + a);
        if (b) {
          $.disable$$module$build$src$core$events$utils();
          try {
            b.setValue(this.arguments_[a]);
          } finally {
            $.enable$$module$build$src$core$events$utils();
          }
        } else b = $.fromJson$$module$build$src$core$field_registry({
          type: "field_label",
          text: this.arguments_[a]
        }), this.appendValueInput("ARG" + a).setAlign($.Align$$module$build$src$core$inputs$input.RIGHT).appendField(b, "ARGNAME" + a).init();
      }
      for (a = this.arguments_.length; this.getInput("ARG" + a); a++) this.removeInput("ARG" + a);
      if (a = this.getInput("TOPROW")) this.arguments_.length ? this.getField("WITH") || (a.appendField($.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS, "WITH"), a.init()) : this.getField("WITH") && a.removeField("WITH");
    },
    mutationToDom: function mutationToDom() {
      var a = $.createElement$$module$build$src$core$utils$xml("mutation");
      a.setAttribute("name", this.getProcedureCall());
      for (var b = 0; b < this.arguments_.length; b++) {
        var c = $.createElement$$module$build$src$core$utils$xml("arg");
        c.setAttribute("name", this.arguments_[b]);
        a.appendChild(c);
      }
      return a;
    },
    domToMutation: function domToMutation(a) {
      var b = a.getAttribute("name");
      this.renameProcedure(this.getProcedureCall(), b);
      b = [];
      var c = [];
      for (var d = 0, e; e = a.childNodes[d]; d++) "arg" === e.nodeName.toLowerCase() && (b.push(e.getAttribute("name")), c.push(e.getAttribute("paramId")));
      this.setProcedureParameters_(b, c);
    },
    saveExtraState: function saveExtraState() {
      var a = Object.create(null);
      a.name = this.getProcedureCall();
      this.arguments_.length && (a.params = this.arguments_);
      return a;
    },
    loadExtraState: function loadExtraState(a) {
      this.renameProcedure(this.getProcedureCall(), a.name);
      if (a = a.params) {
        var b = [];
        b.length = a.length;
        b.fill(null);
        this.setProcedureParameters_(a, b);
      }
    },
    getVars: function getVars() {
      return this.arguments_;
    },
    getVarModels: function getVarModels() {
      return this.argumentVarModels_;
    },
    onchange: function onchange(a) {
      if (this.workspace && !this.workspace.isFlyout && a.recordUndo) if (a.type === $.CREATE$$module$build$src$core$events$utils && -1 !== a.ids.indexOf(this.id)) {
        var b = this.getProcedureCall();
        b = $.getDefinition$$module$build$src$core$procedures(b, this.workspace);
        !b || b.type === this.defType_ && JSON.stringify(b.getVars()) === JSON.stringify(this.arguments_) || (b = null);
        if (!b) {
          $.setGroup$$module$build$src$core$events$utils(a.group);
          a = $.createElement$$module$build$src$core$utils$xml("xml");
          b = $.createElement$$module$build$src$core$utils$xml("block");
          b.setAttribute("type", this.defType_);
          var c = this.getRelativeToSurfaceXY(),
            d = c.y + 2 * $.config$$module$build$src$core$config.snapRadius;
          b.setAttribute("x", `${c.x + $.config$$module$build$src$core$config.snapRadius * (this.RTL ? -1 : 1)}`);
          b.setAttribute("y", `${d}`);
          c = this.mutationToDom();
          b.appendChild(c);
          c = $.createElement$$module$build$src$core$utils$xml("field");
          c.setAttribute("name", "NAME");
          d = this.getProcedureCall();
          var e = $.findLegalName$$module$build$src$core$procedures(d, this);
          d !== e && this.renameProcedure(d, e);
          c.appendChild($.createTextNode$$module$build$src$core$utils$xml(d));
          b.appendChild(c);
          a.appendChild(b);
          $.domToWorkspace$$module$build$src$core$xml(a, this.workspace);
          $.setGroup$$module$build$src$core$events$utils(!1);
        }
      } else a.type === $.DELETE$$module$build$src$core$events$utils ? (b = this.getProcedureCall(), $.getDefinition$$module$build$src$core$procedures(b, this.workspace) || ($.setGroup$$module$build$src$core$events$utils(a.group), this.dispose(!0), $.setGroup$$module$build$src$core$events$utils(!1))) : a.type === $.CHANGE$$module$build$src$core$events$utils && "disabled" === a.element && (b = this.getProcedureCall(), (b = $.getDefinition$$module$build$src$core$procedures(b, this.workspace)) && b.id === a.blockId && ((b = $.getGroup$$module$build$src$core$events$utils()) && console.log("Saw an existing group while responding to a definition change"), $.setGroup$$module$build$src$core$events$utils(a.group), a.newValue ? (this.previousEnabledState_ = this.isEnabled(), this.setEnabled(!1)) : this.setEnabled(this.previousEnabledState_), $.setGroup$$module$build$src$core$events$utils(b)));
    },
    customContextMenu: function customContextMenu(a) {
      if (this.workspace.isMovable()) {
        var b = this.getProcedureCall(),
          c = this.workspace;
        a.push({
          enabled: !0,
          text: $.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,
          callback: function callback() {
            var d = $.getDefinition$$module$build$src$core$procedures(b, c);
            d && (c.centerOnBlock(d.id), d.select());
          }
        });
      }
    }
  };
  blocks$$module$build$src$blocks$procedures.procedures_callnoreturn = Object.assign({}, PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures, {
    init: function init() {
      this.appendDummyInput("TOPROW").appendField("", "NAME");
      this.setPreviousStatement(!0);
      this.setNextStatement(!0);
      this.setStyle("procedure_blocks");
      this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL);
      this.arguments_ = [];
      this.argumentVarModels_ = [];
      this.quarkConnections_ = {};
      this.quarkIds_ = null;
      this.previousEnabledState_ = !0;
    },
    defType_: "procedures_defnoreturn"
  });
  blocks$$module$build$src$blocks$procedures.procedures_callreturn = Object.assign({}, PROCEDURE_CALL_COMMON$$module$build$src$blocks$procedures, {
    init: function init() {
      this.appendDummyInput("TOPROW").appendField("", "NAME");
      this.setOutput(!0);
      this.setStyle("procedure_blocks");
      this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL);
      this.arguments_ = [];
      this.argumentVarModels_ = [];
      this.quarkConnections_ = {};
      this.quarkIds_ = null;
      this.previousEnabledState_ = !0;
    },
    defType_: "procedures_defreturn"
  });
  var PROCEDURES_IFRETURN$$module$build$src$blocks$procedures = {
    init: function init() {
      this.appendValueInput("CONDITION").setCheck("Boolean").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF);
      this.appendValueInput("VALUE").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN);
      this.setInputsInline(!0);
      this.setPreviousStatement(!0);
      this.setNextStatement(!0);
      this.setStyle("procedure_blocks");
      this.setTooltip($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP);
      this.setHelpUrl($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL);
      this.hasReturnValue_ = !0;
    },
    mutationToDom: function mutationToDom() {
      var a = $.createElement$$module$build$src$core$utils$xml("mutation");
      a.setAttribute("value", String(Number(this.hasReturnValue_)));
      return a;
    },
    domToMutation: function domToMutation(a) {
      this.hasReturnValue_ = "1" === a.getAttribute("value");
      this.hasReturnValue_ || (this.removeInput("VALUE"), this.appendDummyInput("VALUE").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN));
    },
    onchange: function onchange(a) {
      if (!(this.workspace.isDragging && this.workspace.isDragging() || a.type !== $.MOVE$$module$build$src$core$events$utils)) {
        var b = !1,
          c = this;
        do {
          if (-1 !== this.FUNCTION_TYPES.indexOf(c.type)) {
            b = !0;
            break;
          }
          c = c.getSurroundParent();
        } while (c);
        b ? ("procedures_defnoreturn" === c.type && this.hasReturnValue_ ? (this.removeInput("VALUE"), this.appendDummyInput("VALUE").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN), this.hasReturnValue_ = !1) : "procedures_defreturn" !== c.type || this.hasReturnValue_ || (this.removeInput("VALUE"), this.appendValueInput("VALUE").appendField($.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN), this.hasReturnValue_ = !0), this.setWarningText(null)) : this.setWarningText($.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING);
        this.isInFlyout || (c = $.getGroup$$module$build$src$core$events$utils(), $.setGroup$$module$build$src$core$events$utils(a.group), this.setEnabled(b), $.setGroup$$module$build$src$core$events$utils(c));
      }
    },
    FUNCTION_TYPES: ["procedures_defnoreturn", "procedures_defreturn"]
  };
  blocks$$module$build$src$blocks$procedures.procedures_ifreturn = PROCEDURES_IFRETURN$$module$build$src$blocks$procedures;
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$procedures);
  var module$build$src$blocks$procedures = {
    blocks: blocks$$module$build$src$blocks$procedures
  };
  var blocks$$module$build$src$blocks$math = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
      type: "math_number",
      message0: "%1",
      args0: [{
        type: "field_number",
        name: "NUM",
        value: 0
      }],
      output: "Number",
      helpUrl: "%{BKY_MATH_NUMBER_HELPURL}",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_NUMBER_TOOLTIP}",
      extensions: ["parent_tooltip_when_inline"]
    }, {
      type: "math_arithmetic",
      message0: "%1 %2 %3",
      args0: [{
        type: "input_value",
        name: "A",
        check: "Number"
      }, {
        type: "field_dropdown",
        name: "OP",
        options: [["%{BKY_MATH_ADDITION_SYMBOL}", "ADD"], ["%{BKY_MATH_SUBTRACTION_SYMBOL}", "MINUS"], ["%{BKY_MATH_MULTIPLICATION_SYMBOL}", "MULTIPLY"], ["%{BKY_MATH_DIVISION_SYMBOL}", "DIVIDE"], ["%{BKY_MATH_POWER_SYMBOL}", "POWER"]]
      }, {
        type: "input_value",
        name: "B",
        check: "Number"
      }],
      inputsInline: !0,
      output: "Number",
      style: "math_blocks",
      helpUrl: "%{BKY_MATH_ARITHMETIC_HELPURL}",
      extensions: ["math_op_tooltip"]
    }, {
      type: "math_single",
      message0: "%1 %2",
      args0: [{
        type: "field_dropdown",
        name: "OP",
        options: [["%{BKY_MATH_SINGLE_OP_ROOT}", "ROOT"], ["%{BKY_MATH_SINGLE_OP_ABSOLUTE}", "ABS"], ["-", "NEG"], ["ln", "LN"], ["log10", "LOG10"], ["e^", "EXP"], ["10^", "POW10"]]
      }, {
        type: "input_value",
        name: "NUM",
        check: "Number"
      }],
      output: "Number",
      style: "math_blocks",
      helpUrl: "%{BKY_MATH_SINGLE_HELPURL}",
      extensions: ["math_op_tooltip"]
    }, {
      type: "math_trig",
      message0: "%1 %2",
      args0: [{
        type: "field_dropdown",
        name: "OP",
        options: [["%{BKY_MATH_TRIG_SIN}", "SIN"], ["%{BKY_MATH_TRIG_COS}", "COS"], ["%{BKY_MATH_TRIG_TAN}", "TAN"], ["%{BKY_MATH_TRIG_ASIN}", "ASIN"], ["%{BKY_MATH_TRIG_ACOS}", "ACOS"], ["%{BKY_MATH_TRIG_ATAN}", "ATAN"]]
      }, {
        type: "input_value",
        name: "NUM",
        check: "Number"
      }],
      output: "Number",
      style: "math_blocks",
      helpUrl: "%{BKY_MATH_TRIG_HELPURL}",
      extensions: ["math_op_tooltip"]
    }, {
      type: "math_constant",
      message0: "%1",
      args0: [{
        type: "field_dropdown",
        name: "CONSTANT",
        options: [["\u03c0", "PI"], ["e", "E"], ["\u03c6", "GOLDEN_RATIO"], ["sqrt(2)", "SQRT2"], ["sqrt(\u00bd)", "SQRT1_2"], ["\u221e", "INFINITY"]]
      }],
      output: "Number",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_CONSTANT_TOOLTIP}",
      helpUrl: "%{BKY_MATH_CONSTANT_HELPURL}"
    }, {
      type: "math_number_property",
      message0: "%1 %2",
      args0: [{
        type: "input_value",
        name: "NUMBER_TO_CHECK",
        check: "Number"
      }, {
        type: "field_dropdown",
        name: "PROPERTY",
        options: [["%{BKY_MATH_IS_EVEN}", "EVEN"], ["%{BKY_MATH_IS_ODD}", "ODD"], ["%{BKY_MATH_IS_PRIME}", "PRIME"], ["%{BKY_MATH_IS_WHOLE}", "WHOLE"], ["%{BKY_MATH_IS_POSITIVE}", "POSITIVE"], ["%{BKY_MATH_IS_NEGATIVE}", "NEGATIVE"], ["%{BKY_MATH_IS_DIVISIBLE_BY}", "DIVISIBLE_BY"]]
      }],
      inputsInline: !0,
      output: "Boolean",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_IS_TOOLTIP}",
      mutator: "math_is_divisibleby_mutator"
    }, {
      type: "math_change",
      message0: "%{BKY_MATH_CHANGE_TITLE}",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: "%{BKY_MATH_CHANGE_TITLE_ITEM}"
      }, {
        type: "input_value",
        name: "DELTA",
        check: "Number"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "variable_blocks",
      helpUrl: "%{BKY_MATH_CHANGE_HELPURL}",
      extensions: ["math_change_tooltip"]
    }, {
      type: "math_round",
      message0: "%1 %2",
      args0: [{
        type: "field_dropdown",
        name: "OP",
        options: [["%{BKY_MATH_ROUND_OPERATOR_ROUND}", "ROUND"], ["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}", "ROUNDUP"], ["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}", "ROUNDDOWN"]]
      }, {
        type: "input_value",
        name: "NUM",
        check: "Number"
      }],
      output: "Number",
      style: "math_blocks",
      helpUrl: "%{BKY_MATH_ROUND_HELPURL}",
      tooltip: "%{BKY_MATH_ROUND_TOOLTIP}"
    }, {
      type: "math_on_list",
      message0: "%1 %2",
      args0: [{
        type: "field_dropdown",
        name: "OP",
        options: [["%{BKY_MATH_ONLIST_OPERATOR_SUM}", "SUM"], ["%{BKY_MATH_ONLIST_OPERATOR_MIN}", "MIN"], ["%{BKY_MATH_ONLIST_OPERATOR_MAX}", "MAX"], ["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}", "AVERAGE"], ["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}", "MEDIAN"], ["%{BKY_MATH_ONLIST_OPERATOR_MODE}", "MODE"], ["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}", "STD_DEV"], ["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}", "RANDOM"]]
      }, {
        type: "input_value",
        name: "LIST",
        check: "Array"
      }],
      output: "Number",
      style: "math_blocks",
      helpUrl: "%{BKY_MATH_ONLIST_HELPURL}",
      mutator: "math_modes_of_list_mutator",
      extensions: ["math_op_tooltip"]
    }, {
      type: "math_modulo",
      message0: "%{BKY_MATH_MODULO_TITLE}",
      args0: [{
        type: "input_value",
        name: "DIVIDEND",
        check: "Number"
      }, {
        type: "input_value",
        name: "DIVISOR",
        check: "Number"
      }],
      inputsInline: !0,
      output: "Number",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_MODULO_TOOLTIP}",
      helpUrl: "%{BKY_MATH_MODULO_HELPURL}"
    }, {
      type: "math_constrain",
      message0: "%{BKY_MATH_CONSTRAIN_TITLE}",
      args0: [{
        type: "input_value",
        name: "VALUE",
        check: "Number"
      }, {
        type: "input_value",
        name: "LOW",
        check: "Number"
      }, {
        type: "input_value",
        name: "HIGH",
        check: "Number"
      }],
      inputsInline: !0,
      output: "Number",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_CONSTRAIN_TOOLTIP}",
      helpUrl: "%{BKY_MATH_CONSTRAIN_HELPURL}"
    }, {
      type: "math_random_int",
      message0: "%{BKY_MATH_RANDOM_INT_TITLE}",
      args0: [{
        type: "input_value",
        name: "FROM",
        check: "Number"
      }, {
        type: "input_value",
        name: "TO",
        check: "Number"
      }],
      inputsInline: !0,
      output: "Number",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_RANDOM_INT_TOOLTIP}",
      helpUrl: "%{BKY_MATH_RANDOM_INT_HELPURL}"
    }, {
      type: "math_random_float",
      message0: "%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",
      output: "Number",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",
      helpUrl: "%{BKY_MATH_RANDOM_FLOAT_HELPURL}"
    }, {
      type: "math_atan2",
      message0: "%{BKY_MATH_ATAN2_TITLE}",
      args0: [{
        type: "input_value",
        name: "X",
        check: "Number"
      }, {
        type: "input_value",
        name: "Y",
        check: "Number"
      }],
      inputsInline: !0,
      output: "Number",
      style: "math_blocks",
      tooltip: "%{BKY_MATH_ATAN2_TOOLTIP}",
      helpUrl: "%{BKY_MATH_ATAN2_HELPURL}"
    }]),
    TOOLTIPS_BY_OP$$module$build$src$blocks$math = {
      ADD: "%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",
      MINUS: "%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",
      MULTIPLY: "%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",
      DIVIDE: "%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",
      POWER: "%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",
      ROOT: "%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",
      ABS: "%{BKY_MATH_SINGLE_TOOLTIP_ABS}",
      NEG: "%{BKY_MATH_SINGLE_TOOLTIP_NEG}",
      LN: "%{BKY_MATH_SINGLE_TOOLTIP_LN}",
      LOG10: "%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",
      EXP: "%{BKY_MATH_SINGLE_TOOLTIP_EXP}",
      POW10: "%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
      SIN: "%{BKY_MATH_TRIG_TOOLTIP_SIN}",
      COS: "%{BKY_MATH_TRIG_TOOLTIP_COS}",
      TAN: "%{BKY_MATH_TRIG_TOOLTIP_TAN}",
      ASIN: "%{BKY_MATH_TRIG_TOOLTIP_ASIN}",
      ACOS: "%{BKY_MATH_TRIG_TOOLTIP_ACOS}",
      ATAN: "%{BKY_MATH_TRIG_TOOLTIP_ATAN}",
      SUM: "%{BKY_MATH_ONLIST_TOOLTIP_SUM}",
      MIN: "%{BKY_MATH_ONLIST_TOOLTIP_MIN}",
      MAX: "%{BKY_MATH_ONLIST_TOOLTIP_MAX}",
      AVERAGE: "%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",
      MEDIAN: "%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",
      MODE: "%{BKY_MATH_ONLIST_TOOLTIP_MODE}",
      STD_DEV: "%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",
      RANDOM: "%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"
    };
  $.register$$module$build$src$core$extensions("math_op_tooltip", $.buildTooltipForDropdown$$module$build$src$core$extensions("OP", TOOLTIPS_BY_OP$$module$build$src$blocks$math));
  var IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math = {
      mutationToDom: function mutationToDom() {
        var a = $.createElement$$module$build$src$core$utils$xml("mutation"),
          b = "DIVISIBLE_BY" === this.getFieldValue("PROPERTY");
        a.setAttribute("divisor_input", String(b));
        return a;
      },
      domToMutation: function domToMutation(a) {
        a = "true" === a.getAttribute("divisor_input");
        this.updateShape_(a);
      },
      updateShape_: function updateShape_(a) {
        var b = this.getInput("DIVISOR");
        a ? b || this.appendValueInput("DIVISOR").setCheck("Number") : b && this.removeInput("DIVISOR");
      }
    },
    IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math = function IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math() {
      this.getField("PROPERTY").setValidator(function (a) {
        a = "DIVISIBLE_BY" === a;
        this.getSourceBlock().updateShape_(a);
      });
    };
  $.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator", IS_DIVISIBLEBY_MUTATOR_MIXIN$$module$build$src$blocks$math, IS_DIVISIBLE_MUTATOR_EXTENSION$$module$build$src$blocks$math);
  $.register$$module$build$src$core$extensions("math_change_tooltip", $.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}", "VAR"));
  var LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math = {
      updateType_: function updateType_(a) {
        "MODE" === a ? this.outputConnection.setCheck("Array") : this.outputConnection.setCheck("Number");
      },
      mutationToDom: function mutationToDom() {
        var a = $.createElement$$module$build$src$core$utils$xml("mutation");
        a.setAttribute("op", this.getFieldValue("OP"));
        return a;
      },
      domToMutation: function domToMutation(a) {
        a = a.getAttribute("op");
        if (null === a) throw new TypeError("xmlElement had no op attribute");
        this.updateType_(a);
      }
    },
    LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math = function LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math() {
      this.getField("OP").setValidator(function (a) {
        this.updateType_(a);
      }.bind(this));
    };
  $.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator", LIST_MODES_MUTATOR_MIXIN$$module$build$src$blocks$math, LIST_MODES_MUTATOR_EXTENSION$$module$build$src$blocks$math);
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$math);
  var module$build$src$blocks$math = {
    blocks: blocks$$module$build$src$blocks$math
  };
  var blocks$$module$build$src$blocks$loops = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
      type: "controls_repeat_ext",
      message0: "%{BKY_CONTROLS_REPEAT_TITLE}",
      args0: [{
        type: "input_value",
        name: "TIMES",
        check: "Number"
      }],
      message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
      args1: [{
        type: "input_statement",
        name: "DO"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "loop_blocks",
      tooltip: "%{BKY_CONTROLS_REPEAT_TOOLTIP}",
      helpUrl: "%{BKY_CONTROLS_REPEAT_HELPURL}"
    }, {
      type: "controls_repeat",
      message0: "%{BKY_CONTROLS_REPEAT_TITLE}",
      args0: [{
        type: "field_number",
        name: "TIMES",
        value: 10,
        min: 0,
        precision: 1
      }],
      message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
      args1: [{
        type: "input_statement",
        name: "DO"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "loop_blocks",
      tooltip: "%{BKY_CONTROLS_REPEAT_TOOLTIP}",
      helpUrl: "%{BKY_CONTROLS_REPEAT_HELPURL}"
    }, {
      type: "controls_whileUntil",
      message0: "%1 %2",
      args0: [{
        type: "field_dropdown",
        name: "MODE",
        options: [["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}", "WHILE"], ["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}", "UNTIL"]]
      }, {
        type: "input_value",
        name: "BOOL",
        check: "Boolean"
      }],
      message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
      args1: [{
        type: "input_statement",
        name: "DO"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "loop_blocks",
      helpUrl: "%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",
      extensions: ["controls_whileUntil_tooltip"]
    }, {
      type: "controls_for",
      message0: "%{BKY_CONTROLS_FOR_TITLE}",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: null
      }, {
        type: "input_value",
        name: "FROM",
        check: "Number",
        align: "RIGHT"
      }, {
        type: "input_value",
        name: "TO",
        check: "Number",
        align: "RIGHT"
      }, {
        type: "input_value",
        name: "BY",
        check: "Number",
        align: "RIGHT"
      }],
      message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
      args1: [{
        type: "input_statement",
        name: "DO"
      }],
      inputsInline: !0,
      previousStatement: null,
      nextStatement: null,
      style: "loop_blocks",
      helpUrl: "%{BKY_CONTROLS_FOR_HELPURL}",
      extensions: ["contextMenu_newGetVariableBlock", "controls_for_tooltip"]
    }, {
      type: "controls_forEach",
      message0: "%{BKY_CONTROLS_FOREACH_TITLE}",
      args0: [{
        type: "field_variable",
        name: "VAR",
        variable: null
      }, {
        type: "input_value",
        name: "LIST",
        check: "Array"
      }],
      message1: "%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
      args1: [{
        type: "input_statement",
        name: "DO"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "loop_blocks",
      helpUrl: "%{BKY_CONTROLS_FOREACH_HELPURL}",
      extensions: ["contextMenu_newGetVariableBlock", "controls_forEach_tooltip"]
    }, {
      type: "controls_flow_statements",
      message0: "%1",
      args0: [{
        type: "field_dropdown",
        name: "FLOW",
        options: [["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}", "BREAK"], ["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}", "CONTINUE"]]
      }],
      previousStatement: null,
      style: "loop_blocks",
      helpUrl: "%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",
      suppressPrefixSuffix: !0,
      extensions: ["controls_flow_tooltip", "controls_flow_in_loop_check"]
    }]),
    WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops = {
      WHILE: "%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",
      UNTIL: "%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"
    };
  $.register$$module$build$src$core$extensions("controls_whileUntil_tooltip", $.buildTooltipForDropdown$$module$build$src$core$extensions("MODE", WHILE_UNTIL_TOOLTIPS$$module$build$src$blocks$loops));
  var BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops = {
    BREAK: "%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",
    CONTINUE: "%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"
  };
  $.register$$module$build$src$core$extensions("controls_flow_tooltip", $.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW", BREAK_CONTINUE_TOOLTIPS$$module$build$src$blocks$loops));
  var CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops = {
    customContextMenu: function customContextMenu(a) {
      if (!this.isInFlyout) {
        var b = this.getField("VAR"),
          c = b.getVariable().name;
        this.isCollapsed() || null === c || (b = {
          type: "variables_get",
          fields: {
            VAR: b.saveState(!0)
          }
        }, a.push({
          enabled: !0,
          text: $.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1", c),
          callback: $.callbackFactory$$module$build$src$core$contextmenu(this, b)
        }));
      }
    }
  };
  $.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock", CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN$$module$build$src$blocks$loops);
  $.register$$module$build$src$core$extensions("controls_for_tooltip", $.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}", "VAR"));
  $.register$$module$build$src$core$extensions("controls_forEach_tooltip", $.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}", "VAR"));
  var loopTypes$$module$build$src$blocks$loops = new Set(["controls_repeat", "controls_repeat_ext", "controls_forEach", "controls_for", "controls_whileUntil"]),
    CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops = {
      getSurroundLoop: function getSurroundLoop() {
        var a = this;
        do {
          if (loopTypes$$module$build$src$blocks$loops.has(a.type)) return a;
          a = a.getSurroundParent();
        } while (a);
        return null;
      },
      onchange: function onchange(a) {
        var b = this.workspace;
        if (b.isDragging && !b.isDragging() && a.type === $.MOVE$$module$build$src$core$events$utils && (b = !!this.getSurroundLoop(), this.setWarningText(b ? null : $.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING), !this.isInFlyout)) {
          var c = $.getGroup$$module$build$src$core$events$utils();
          $.setGroup$$module$build$src$core$events$utils(a.group);
          this.setEnabled(b);
          $.setGroup$$module$build$src$core$events$utils(c);
        }
      }
    };
  $.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check", CONTROL_FLOW_IN_LOOP_CHECK_MIXIN$$module$build$src$blocks$loops);
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$loops);
  var module$build$src$blocks$loops = {
    blocks: blocks$$module$build$src$blocks$loops,
    loopTypes: loopTypes$$module$build$src$blocks$loops
  };
  var blocks$$module$build$src$blocks$logic = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
      type: "logic_boolean",
      message0: "%1",
      args0: [{
        type: "field_dropdown",
        name: "BOOL",
        options: [["%{BKY_LOGIC_BOOLEAN_TRUE}", "TRUE"], ["%{BKY_LOGIC_BOOLEAN_FALSE}", "FALSE"]]
      }],
      output: "Boolean",
      style: "logic_blocks",
      tooltip: "%{BKY_LOGIC_BOOLEAN_TOOLTIP}",
      helpUrl: "%{BKY_LOGIC_BOOLEAN_HELPURL}"
    }, {
      type: "controls_if",
      message0: "%{BKY_CONTROLS_IF_MSG_IF} %1",
      args0: [{
        type: "input_value",
        name: "IF0",
        check: "Boolean"
      }],
      message1: "%{BKY_CONTROLS_IF_MSG_THEN} %1",
      args1: [{
        type: "input_statement",
        name: "DO0"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "logic_blocks",
      helpUrl: "%{BKY_CONTROLS_IF_HELPURL}",
      suppressPrefixSuffix: !0,
      mutator: "controls_if_mutator",
      extensions: ["controls_if_tooltip"]
    }, {
      type: "controls_ifelse",
      message0: "%{BKY_CONTROLS_IF_MSG_IF} %1",
      args0: [{
        type: "input_value",
        name: "IF0",
        check: "Boolean"
      }],
      message1: "%{BKY_CONTROLS_IF_MSG_THEN} %1",
      args1: [{
        type: "input_statement",
        name: "DO0"
      }],
      message2: "%{BKY_CONTROLS_IF_MSG_ELSE} %1",
      args2: [{
        type: "input_statement",
        name: "ELSE"
      }],
      previousStatement: null,
      nextStatement: null,
      style: "logic_blocks",
      tooltip: "%{BKYCONTROLS_IF_TOOLTIP_2}",
      helpUrl: "%{BKY_CONTROLS_IF_HELPURL}",
      suppressPrefixSuffix: !0,
      extensions: ["controls_if_tooltip"]
    }, {
      type: "logic_compare",
      message0: "%1 %2 %3",
      args0: [{
        type: "input_value",
        name: "A"
      }, {
        type: "field_dropdown",
        name: "OP",
        options: [["=", "EQ"], ["\u2260", "NEQ"], ["\u200f<", "LT"], ["\u200f\u2264", "LTE"], ["\u200f>", "GT"], ["\u200f\u2265", "GTE"]]
      }, {
        type: "input_value",
        name: "B"
      }],
      inputsInline: !0,
      output: "Boolean",
      style: "logic_blocks",
      helpUrl: "%{BKY_LOGIC_COMPARE_HELPURL}",
      extensions: ["logic_compare", "logic_op_tooltip"]
    }, {
      type: "logic_operation",
      message0: "%1 %2 %3",
      args0: [{
        type: "input_value",
        name: "A",
        check: "Boolean"
      }, {
        type: "field_dropdown",
        name: "OP",
        options: [["%{BKY_LOGIC_OPERATION_AND}", "AND"], ["%{BKY_LOGIC_OPERATION_OR}", "OR"]]
      }, {
        type: "input_value",
        name: "B",
        check: "Boolean"
      }],
      inputsInline: !0,
      output: "Boolean",
      style: "logic_blocks",
      helpUrl: "%{BKY_LOGIC_OPERATION_HELPURL}",
      extensions: ["logic_op_tooltip"]
    }, {
      type: "logic_negate",
      message0: "%{BKY_LOGIC_NEGATE_TITLE}",
      args0: [{
        type: "input_value",
        name: "BOOL",
        check: "Boolean"
      }],
      output: "Boolean",
      style: "logic_blocks",
      tooltip: "%{BKY_LOGIC_NEGATE_TOOLTIP}",
      helpUrl: "%{BKY_LOGIC_NEGATE_HELPURL}"
    }, {
      type: "logic_null",
      message0: "%{BKY_LOGIC_NULL}",
      output: null,
      style: "logic_blocks",
      tooltip: "%{BKY_LOGIC_NULL_TOOLTIP}",
      helpUrl: "%{BKY_LOGIC_NULL_HELPURL}"
    }, {
      type: "logic_ternary",
      message0: "%{BKY_LOGIC_TERNARY_CONDITION} %1",
      args0: [{
        type: "input_value",
        name: "IF",
        check: "Boolean"
      }],
      message1: "%{BKY_LOGIC_TERNARY_IF_TRUE} %1",
      args1: [{
        type: "input_value",
        name: "THEN"
      }],
      message2: "%{BKY_LOGIC_TERNARY_IF_FALSE} %1",
      args2: [{
        type: "input_value",
        name: "ELSE"
      }],
      output: null,
      style: "logic_blocks",
      tooltip: "%{BKY_LOGIC_TERNARY_TOOLTIP}",
      helpUrl: "%{BKY_LOGIC_TERNARY_HELPURL}",
      extensions: ["logic_ternary"]
    }, {
      type: "controls_if_if",
      message0: "%{BKY_CONTROLS_IF_IF_TITLE_IF}",
      nextStatement: null,
      enableContextMenu: !1,
      style: "logic_blocks",
      tooltip: "%{BKY_CONTROLS_IF_IF_TOOLTIP}"
    }, {
      type: "controls_if_elseif",
      message0: "%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",
      previousStatement: null,
      nextStatement: null,
      enableContextMenu: !1,
      style: "logic_blocks",
      tooltip: "%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"
    }, {
      type: "controls_if_else",
      message0: "%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",
      previousStatement: null,
      enableContextMenu: !1,
      style: "logic_blocks",
      tooltip: "%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"
    }]),
    TOOLTIPS_BY_OP$$module$build$src$blocks$logic = {
      EQ: "%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",
      NEQ: "%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",
      LT: "%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",
      LTE: "%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",
      GT: "%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",
      GTE: "%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",
      AND: "%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",
      OR: "%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"
    };
  $.register$$module$build$src$core$extensions("logic_op_tooltip", $.buildTooltipForDropdown$$module$build$src$core$extensions("OP", TOOLTIPS_BY_OP$$module$build$src$blocks$logic));
  var CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic = {
    elseifCount_: 0,
    elseCount_: 0,
    mutationToDom: function mutationToDom() {
      if (!this.elseifCount_ && !this.elseCount_) return null;
      var a = $.createElement$$module$build$src$core$utils$xml("mutation");
      this.elseifCount_ && a.setAttribute("elseif", String(this.elseifCount_));
      this.elseCount_ && a.setAttribute("else", "1");
      return a;
    },
    domToMutation: function domToMutation(a) {
      this.elseifCount_ = parseInt(a.getAttribute("elseif"), 10) || 0;
      this.elseCount_ = parseInt(a.getAttribute("else"), 10) || 0;
      this.rebuildShape_();
    },
    saveExtraState: function saveExtraState() {
      if (!this.elseifCount_ && !this.elseCount_) return null;
      var a = Object.create(null);
      this.elseifCount_ && (a.elseIfCount = this.elseifCount_);
      this.elseCount_ && (a.hasElse = !0);
      return a;
    },
    loadExtraState: function loadExtraState(a) {
      this.elseifCount_ = a.elseIfCount || 0;
      this.elseCount_ = a.hasElse ? 1 : 0;
      this.updateShape_();
    },
    decompose: function decompose(a) {
      var b = a.newBlock("controls_if_if");
      b.initSvg();
      var c = b.nextConnection;
      for (var d = 1; d <= this.elseifCount_; d++) {
        var e = a.newBlock("controls_if_elseif");
        e.initSvg();
        c.connect(e.previousConnection);
        c = e.nextConnection;
      }
      this.elseCount_ && (a = a.newBlock("controls_if_else"), a.initSvg(), c.connect(a.previousConnection));
      return b;
    },
    compose: function compose(a) {
      a = a.nextConnection.targetBlock();
      this.elseCount_ = this.elseifCount_ = 0;
      var b = [null],
        c = [null];
      var d = null;
      for (; a;) {
        if (!a.isInsertionMarker()) switch (a.type) {
          case "controls_if_elseif":
            this.elseifCount_++;
            b.push(a.valueConnection_);
            c.push(a.statementConnection_);
            break;
          case "controls_if_else":
            this.elseCount_++;
            d = a.statementConnection_;
            break;
          default:
            throw TypeError("Unknown block type: " + a.type);
        }
        a = a.getNextBlock();
      }
      this.updateShape_();
      this.reconnectChildBlocks_(b, c, d);
    },
    saveConnections: function saveConnections(a) {
      a = a.nextConnection.targetBlock();
      var b = 1;
      for (; a;) {
        if (!a.isInsertionMarker()) switch (a.type) {
          case "controls_if_elseif":
            var c = this.getInput("IF" + b);
            var d = this.getInput("DO" + b);
            a.valueConnection_ = c && c.connection.targetConnection;
            a.statementConnection_ = d && d.connection.targetConnection;
            b++;
            break;
          case "controls_if_else":
            c = this.getInput("ELSE");
            a.statementConnection_ = c && c.connection.targetConnection;
            break;
          default:
            throw TypeError("Unknown block type: " + a.type);
        }
        a = a.getNextBlock();
      }
    },
    rebuildShape_: function rebuildShape_() {
      var a = [null],
        b = [null];
      var c = null;
      this.getInput("ELSE") && (c = this.getInput("ELSE").connection.targetConnection);
      for (var d = 1; this.getInput("IF" + d); d++) {
        var e = this.getInput("IF" + d),
          f = this.getInput("DO" + d);
        a.push(e.connection.targetConnection);
        b.push(f.connection.targetConnection);
      }
      this.updateShape_();
      this.reconnectChildBlocks_(a, b, c);
    },
    updateShape_: function updateShape_() {
      this.getInput("ELSE") && this.removeInput("ELSE");
      for (var a = 1; this.getInput("IF" + a); a++) this.removeInput("IF" + a), this.removeInput("DO" + a);
      for (a = 1; a <= this.elseifCount_; a++) this.appendValueInput("IF" + a).setCheck("Boolean").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF), this.appendStatementInput("DO" + a).appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);
      this.elseCount_ && this.appendStatementInput("ELSE").appendField($.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE);
    },
    reconnectChildBlocks_: function reconnectChildBlocks_(a, b, c) {
      for (var d = 1; d <= this.elseifCount_; d++) {
        var e = void 0;
        null == (e = a[d]) || e.reconnect(this, "IF" + d);
        var f = void 0;
        null == (f = b[d]) || f.reconnect(this, "DO" + d);
      }
      null == c || c.reconnect(this, "ELSE");
    }
  };
  $.registerMutator$$module$build$src$core$extensions("controls_if_mutator", CONTROLS_IF_MUTATOR_MIXIN$$module$build$src$blocks$logic, null, ["controls_if_elseif", "controls_if_else"]);
  var CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic = function CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic() {
    this.setTooltip(function () {
      if (this.elseifCount_ || this.elseCount_) {
        if (!this.elseifCount_ && this.elseCount_) return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;
        if (this.elseifCount_ && !this.elseCount_) return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;
        if (this.elseifCount_ && this.elseCount_) return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4;
      } else return $.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;
      return "";
    }.bind(this));
  };
  $.register$$module$build$src$core$extensions("controls_if_tooltip", CONTROLS_IF_TOOLTIP_EXTENSION$$module$build$src$blocks$logic);
  var LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic = {
      onchange: function onchange(a) {
        this.prevBlocks_ || (this.prevBlocks_ = [null, null]);
        var b = this.getInputTargetBlock("A");
        var c = this.getInputTargetBlock("B");
        b && c && !this.workspace.connectionChecker.doTypeChecks(b.outputConnection, c.outputConnection) && ($.setGroup$$module$build$src$core$events$utils(a.group), a = this.prevBlocks_[0], a !== b && (b.unplug(), !a || a.isDisposed() || a.isShadow() || this.getInput("A").connection.connect(a.outputConnection)), b = this.prevBlocks_[1], b !== c && (c.unplug(), !b || b.isDisposed() || b.isShadow() || this.getInput("B").connection.connect(b.outputConnection)), this.bumpNeighbours(), $.setGroup$$module$build$src$core$events$utils(!1));
        this.prevBlocks_[0] = this.getInputTargetBlock("A");
        this.prevBlocks_[1] = this.getInputTargetBlock("B");
      }
    },
    LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic = function LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic() {
      this.mixin(LOGIC_COMPARE_ONCHANGE_MIXIN$$module$build$src$blocks$logic);
    };
  $.register$$module$build$src$core$extensions("logic_compare", LOGIC_COMPARE_EXTENSION$$module$build$src$blocks$logic);
  var LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic = {
    prevParentConnection_: null,
    onchange: function onchange(a) {
      var b = this.getInputTargetBlock("THEN"),
        c = this.getInputTargetBlock("ELSE"),
        d = this.outputConnection.targetConnection;
      if ((b || c) && d) for (var e = 0; 2 > e; e++) {
        var f = 1 === e ? b : c;
        f && !f.workspace.connectionChecker.doTypeChecks(f.outputConnection, d) && ($.setGroup$$module$build$src$core$events$utils(a.group), d === this.prevParentConnection_ ? (this.unplug(), d.getSourceBlock().bumpNeighbours()) : (f.unplug(), f.bumpNeighbours()), $.setGroup$$module$build$src$core$events$utils(!1));
      }
      this.prevParentConnection_ = d;
    }
  };
  $.registerMixin$$module$build$src$core$extensions("logic_ternary", LOGIC_TERNARY_ONCHANGE_MIXIN$$module$build$src$blocks$logic);
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$logic);
  var module$build$src$blocks$logic = {
    blocks: blocks$$module$build$src$blocks$logic
  };
  var blocks$$module$build$src$blocks$lists = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
      type: "lists_create_empty",
      message0: "%{BKY_LISTS_CREATE_EMPTY_TITLE}",
      output: "Array",
      style: "list_blocks",
      tooltip: "%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",
      helpUrl: "%{BKY_LISTS_CREATE_EMPTY_HELPURL}"
    }, {
      type: "lists_repeat",
      message0: "%{BKY_LISTS_REPEAT_TITLE}",
      args0: [{
        type: "input_value",
        name: "ITEM"
      }, {
        type: "input_value",
        name: "NUM",
        check: "Number"
      }],
      output: "Array",
      style: "list_blocks",
      tooltip: "%{BKY_LISTS_REPEAT_TOOLTIP}",
      helpUrl: "%{BKY_LISTS_REPEAT_HELPURL}"
    }, {
      type: "lists_reverse",
      message0: "%{BKY_LISTS_REVERSE_MESSAGE0}",
      args0: [{
        type: "input_value",
        name: "LIST",
        check: "Array"
      }],
      output: "Array",
      inputsInline: !0,
      style: "list_blocks",
      tooltip: "%{BKY_LISTS_REVERSE_TOOLTIP}",
      helpUrl: "%{BKY_LISTS_REVERSE_HELPURL}"
    }, {
      type: "lists_isEmpty",
      message0: "%{BKY_LISTS_ISEMPTY_TITLE}",
      args0: [{
        type: "input_value",
        name: "VALUE",
        check: ["String", "Array"]
      }],
      output: "Boolean",
      style: "list_blocks",
      tooltip: "%{BKY_LISTS_ISEMPTY_TOOLTIP}",
      helpUrl: "%{BKY_LISTS_ISEMPTY_HELPURL}"
    }, {
      type: "lists_length",
      message0: "%{BKY_LISTS_LENGTH_TITLE}",
      args0: [{
        type: "input_value",
        name: "VALUE",
        check: ["String", "Array"]
      }],
      output: "Number",
      style: "list_blocks",
      tooltip: "%{BKY_LISTS_LENGTH_TOOLTIP}",
      helpUrl: "%{BKY_LISTS_LENGTH_HELPURL}"
    }]),
    LISTS_CREATE_WITH$$module$build$src$blocks$lists = {
      init: function init() {
        this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL);
        this.setStyle("list_blocks");
        this.itemCount_ = 3;
        this.updateShape_();
        this.setOutput(!0, "Array");
        this.setMutator(new $.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"], this));
        this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP);
      },
      mutationToDom: function mutationToDom() {
        var a = $.createElement$$module$build$src$core$utils$xml("mutation");
        a.setAttribute("items", String(this.itemCount_));
        return a;
      },
      domToMutation: function domToMutation(a) {
        a = a.getAttribute("items");
        if (!a) throw new TypeError("element did not have items");
        this.itemCount_ = parseInt(a, 10);
        this.updateShape_();
      },
      saveExtraState: function saveExtraState() {
        return {
          itemCount: this.itemCount_
        };
      },
      loadExtraState: function loadExtraState(a) {
        this.itemCount_ = a.itemCount;
        this.updateShape_();
      },
      decompose: function decompose(a) {
        var b = a.newBlock("lists_create_with_container");
        b.initSvg();
        var c = b.getInput("STACK").connection;
        for (var d = 0; d < this.itemCount_; d++) {
          var e = a.newBlock("lists_create_with_item");
          e.initSvg();
          if (!e.previousConnection) throw Error("itemBlock has no previousConnection");
          c.connect(e.previousConnection);
          c = e.nextConnection;
        }
        return b;
      },
      compose: function compose(a) {
        var b = a.getInputTargetBlock("STACK");
        for (a = []; b;) b.isInsertionMarker() || a.push(b.valueConnection_), b = b.getNextBlock();
        for (b = 0; b < this.itemCount_; b++) {
          var c = this.getInput("ADD" + b).connection.targetConnection;
          c && -1 === a.indexOf(c) && c.disconnect();
        }
        this.itemCount_ = a.length;
        this.updateShape_();
        for (b = 0; b < this.itemCount_; b++) {
          var _c2 = void 0;
          null == (_c2 = a[b]) || _c2.reconnect(this, "ADD" + b);
        }
      },
      saveConnections: function saveConnections(a) {
        a = a.getInputTargetBlock("STACK");
        var b = 0;
        for (; a;) {
          if (a.isInsertionMarker()) {
            a = a.getNextBlock();
            continue;
          }
          var c = this.getInput("ADD" + b);
          var d = void 0;
          a.valueConnection_ = null == (d = c) ? void 0 : d.connection.targetConnection;
          a = a.getNextBlock();
          b++;
        }
      },
      updateShape_: function updateShape_() {
        this.itemCount_ && this.getInput("EMPTY") ? this.removeInput("EMPTY") : this.itemCount_ || this.getInput("EMPTY") || this.appendDummyInput("EMPTY").appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);
        for (var a = 0; a < this.itemCount_; a++) if (!this.getInput("ADD" + a)) {
          var b = this.appendValueInput("ADD" + a).setAlign($.Align$$module$build$src$core$inputs$align.RIGHT);
          0 === a && b.appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH);
        }
        for (a = this.itemCount_; this.getInput("ADD" + a); a++) this.removeInput("ADD" + a);
      }
    };
  blocks$$module$build$src$blocks$lists.lists_create_with = LISTS_CREATE_WITH$$module$build$src$blocks$lists;
  var LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists = {
    init: function init() {
      this.setStyle("list_blocks");
      this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);
      this.appendStatementInput("STACK");
      this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);
      this.contextMenu = !1;
    }
  };
  blocks$$module$build$src$blocks$lists.lists_create_with_container = LISTS_CREATE_WITH_CONTAINER$$module$build$src$blocks$lists;
  var LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists = {
    init: function init() {
      this.setStyle("list_blocks");
      this.appendDummyInput().appendField($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE);
      this.setPreviousStatement(!0);
      this.setNextStatement(!0);
      this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);
      this.contextMenu = !1;
    }
  };
  blocks$$module$build$src$blocks$lists.lists_create_with_item = LISTS_CREATE_WITH_ITEM$$module$build$src$blocks$lists;
  var LISTS_INDEXOF$$module$build$src$blocks$lists = {
    init: function init() {
      var _this5 = this;
      var a = [[$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST, "FIRST"], [$.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST, "LAST"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL);
      this.setStyle("list_blocks");
      this.setOutput(!0, "Number");
      this.appendValueInput("VALUE").setCheck("Array").appendField($.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST);
      a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: a
      });
      if (!a) throw Error("field_dropdown not found");
      this.appendValueInput("FIND").appendField(a, "END");
      this.setInputsInline(!0);
      this.setTooltip(function () {
        return $.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1", _this5.workspace.options.oneBasedIndex ? "0" : "-1");
      });
    }
  };
  blocks$$module$build$src$blocks$lists.lists_indexOf = LISTS_INDEXOF$$module$build$src$blocks$lists;
  var LISTS_GETINDEX$$module$build$src$blocks$lists = {
    init: function init() {
      var _this6 = this;
      var a = [[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET, "GET"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE, "GET_REMOVE"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE, "REMOVE"]];
      this.WHERE_OPTIONS = [[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START, "FROM_START"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END, "FROM_END"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST, "FIRST"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST, "LAST"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM, "RANDOM"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL);
      this.setStyle("list_blocks");
      a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: a
      });
      a.setValidator(function (b) {
        b = "REMOVE" === b;
        this.getSourceBlock().updateStatement_(b);
      });
      this.appendValueInput("VALUE").setCheck("Array").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST);
      this.appendDummyInput().appendField(a, "MODE").appendField("", "SPACE");
      this.appendDummyInput("AT");
      $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL && this.appendDummyInput("TAIL").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL);
      this.setInputsInline(!0);
      this.setOutput(!0);
      this.updateAt_(!0);
      this.setTooltip(function () {
        var b = _this6.getFieldValue("MODE"),
          c = _this6.getFieldValue("WHERE");
        var d = "";
        switch (b + " " + c) {
          case "GET FROM_START":
          case "GET FROM_END":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;
            break;
          case "GET FIRST":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;
            break;
          case "GET LAST":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;
            break;
          case "GET RANDOM":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;
            break;
          case "GET_REMOVE FROM_START":
          case "GET_REMOVE FROM_END":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;
            break;
          case "GET_REMOVE FIRST":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;
            break;
          case "GET_REMOVE LAST":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;
            break;
          case "GET_REMOVE RANDOM":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;
            break;
          case "REMOVE FROM_START":
          case "REMOVE FROM_END":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;
            break;
          case "REMOVE FIRST":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;
            break;
          case "REMOVE LAST":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;
            break;
          case "REMOVE RANDOM":
            d = $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM;
        }
        if ("FROM_START" === c || "FROM_END" === c) d += "  " + ("FROM_START" === c ? $.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP : $.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1", _this6.workspace.options.oneBasedIndex ? "#1" : "#0");
        return d;
      });
    },
    mutationToDom: function mutationToDom() {
      var a = $.createElement$$module$build$src$core$utils$xml("mutation");
      a.setAttribute("statement", String(!this.outputConnection));
      var b = this.getInput("AT") instanceof $.ValueInput$$module$build$src$core$inputs$value_input;
      a.setAttribute("at", String(b));
      return a;
    },
    domToMutation: function domToMutation(a) {
      var b = "true" === a.getAttribute("statement");
      this.updateStatement_(b);
      a = "false" !== a.getAttribute("at");
      this.updateAt_(a);
    },
    saveExtraState: function saveExtraState() {
      return this.outputConnection ? null : {
        isStatement: !0
      };
    },
    loadExtraState: function loadExtraState(a) {
      a.isStatement ? this.updateStatement_(!0) : "string" === typeof a && this.domToMutation($.textToDom$$module$build$src$core$utils$xml(a));
    },
    updateStatement_: function updateStatement_(a) {
      a !== !this.outputConnection && (this.unplug(!0, !0), a ? (this.setOutput(!1), this.setPreviousStatement(!0), this.setNextStatement(!0)) : (this.setPreviousStatement(!1), this.setNextStatement(!1), this.setOutput(!0)));
    },
    updateAt_: function updateAt_(a) {
      this.removeInput("AT");
      this.removeInput("ORDINAL", !0);
      a ? (this.appendValueInput("AT").setCheck("Number"), $.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT");
      var b = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: this.WHERE_OPTIONS
      });
      b.setValidator(function (c) {
        var d = "FROM_START" === c || "FROM_END" === c;
        if (d !== a) {
          var e = this.getSourceBlock();
          e.updateAt_(d);
          e.setFieldValue(c, "WHERE");
          return null;
        }
      });
      this.getInput("AT").appendField(b, "WHERE");
      $.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL && this.moveInputBefore("TAIL", null);
    }
  };
  blocks$$module$build$src$blocks$lists.lists_getIndex = LISTS_GETINDEX$$module$build$src$blocks$lists;
  var LISTS_SETINDEX$$module$build$src$blocks$lists = {
    init: function init() {
      var _this7 = this;
      var a = [[$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET, "SET"], [$.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT, "INSERT"]];
      this.WHERE_OPTIONS = [[$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START, "FROM_START"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END, "FROM_END"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST, "FIRST"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST, "LAST"], [$.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM, "RANDOM"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL);
      this.setStyle("list_blocks");
      this.appendValueInput("LIST").setCheck("Array").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST);
      a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: a
      });
      this.appendDummyInput().appendField(a, "MODE").appendField("", "SPACE");
      this.appendDummyInput("AT");
      this.appendValueInput("TO").appendField($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO);
      this.setInputsInline(!0);
      this.setPreviousStatement(!0);
      this.setNextStatement(!0);
      this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP);
      this.updateAt_(!0);
      this.setTooltip(function () {
        var b = _this7.getFieldValue("MODE"),
          c = _this7.getFieldValue("WHERE");
        var d = "";
        switch (b + " " + c) {
          case "SET FROM_START":
          case "SET FROM_END":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;
            break;
          case "SET FIRST":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;
            break;
          case "SET LAST":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;
            break;
          case "SET RANDOM":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;
            break;
          case "INSERT FROM_START":
          case "INSERT FROM_END":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;
            break;
          case "INSERT FIRST":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;
            break;
          case "INSERT LAST":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;
            break;
          case "INSERT RANDOM":
            d = $.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM;
        }
        if ("FROM_START" === c || "FROM_END" === c) d += "  " + $.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1", _this7.workspace.options.oneBasedIndex ? "#1" : "#0");
        return d;
      });
    },
    mutationToDom: function mutationToDom() {
      var a = $.createElement$$module$build$src$core$utils$xml("mutation"),
        b = this.getInput("AT") instanceof $.ValueInput$$module$build$src$core$inputs$value_input;
      a.setAttribute("at", String(b));
      return a;
    },
    domToMutation: function domToMutation(a) {
      a = "false" !== a.getAttribute("at");
      this.updateAt_(a);
    },
    saveExtraState: function saveExtraState() {
      return null;
    },
    loadExtraState: function loadExtraState() {},
    updateAt_: function updateAt_(a) {
      this.removeInput("AT");
      this.removeInput("ORDINAL", !0);
      a ? (this.appendValueInput("AT").setCheck("Number"), $.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL").appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT");
      var b = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: this.WHERE_OPTIONS
      });
      b.setValidator(function (c) {
        var d = "FROM_START" === c || "FROM_END" === c;
        if (d !== a) {
          var e = this.getSourceBlock();
          e.updateAt_(d);
          e.setFieldValue(c, "WHERE");
          return null;
        }
      });
      this.moveInputBefore("AT", "TO");
      this.getInput("ORDINAL") && this.moveInputBefore("ORDINAL", "TO");
      this.getInput("AT").appendField(b, "WHERE");
    }
  };
  blocks$$module$build$src$blocks$lists.lists_setIndex = LISTS_SETINDEX$$module$build$src$blocks$lists;
  var LISTS_GETSUBLIST$$module$build$src$blocks$lists = {
    init: function init() {
      this.WHERE_OPTIONS_1 = [[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START, "FROM_START"], [$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END, "FROM_END"], [$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST, "FIRST"]];
      this.WHERE_OPTIONS_2 = [[$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START, "FROM_START"], [$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END, "FROM_END"], [$.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST, "LAST"]];
      this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL);
      this.setStyle("list_blocks");
      this.appendValueInput("LIST").setCheck("Array").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);
      this.appendDummyInput("AT1");
      this.appendDummyInput("AT2");
      $.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL && this.appendDummyInput("TAIL").appendField($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL);
      this.setInputsInline(!0);
      this.setOutput(!0, "Array");
      this.updateAt_(1, !0);
      this.updateAt_(2, !0);
      this.setTooltip($.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP);
    },
    mutationToDom: function mutationToDom() {
      var a = $.createElement$$module$build$src$core$utils$xml("mutation");
      var b = this.getInput("AT1") instanceof $.ValueInput$$module$build$src$core$inputs$value_input;
      a.setAttribute("at1", String(b));
      b = this.getInput("AT2") instanceof $.ValueInput$$module$build$src$core$inputs$value_input;
      a.setAttribute("at2", String(b));
      return a;
    },
    domToMutation: function domToMutation(a) {
      var b = "true" === a.getAttribute("at1");
      a = "true" === a.getAttribute("at2");
      this.updateAt_(1, b);
      this.updateAt_(2, a);
    },
    saveExtraState: function saveExtraState() {
      return null;
    },
    loadExtraState: function loadExtraState() {},
    updateAt_: function updateAt_(a, b) {
      this.removeInput("AT" + a);
      this.removeInput("ORDINAL" + a, !0);
      b ? (this.appendValueInput("AT" + a).setCheck("Number"), $.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX && this.appendDummyInput("ORDINAL" + a).appendField($.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)) : this.appendDummyInput("AT" + a);
      var c = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: this["WHERE_OPTIONS_" + a]
      });
      c.setValidator(function (d) {
        var e = "FROM_START" === d || "FROM_END" === d;
        if (e !== b) {
          var f = this.getSourceBlock();
          f.updateAt_(a, e);
          f.setFieldValue(d, "WHERE" + a);
          return null;
        }
      });
      this.getInput("AT" + a).appendField(c, "WHERE" + a);
      1 === a && (this.moveInputBefore("AT1", "AT2"), this.getInput("ORDINAL1") && this.moveInputBefore("ORDINAL1", "AT2"));
      $.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL && this.moveInputBefore("TAIL", null);
    }
  };
  blocks$$module$build$src$blocks$lists.lists_getSublist = LISTS_GETSUBLIST$$module$build$src$blocks$lists;
  blocks$$module$build$src$blocks$lists.lists_sort = {
    init: function init() {
      this.jsonInit({
        message0: "%{BKY_LISTS_SORT_TITLE}",
        args0: [{
          type: "field_dropdown",
          name: "TYPE",
          options: [["%{BKY_LISTS_SORT_TYPE_NUMERIC}", "NUMERIC"], ["%{BKY_LISTS_SORT_TYPE_TEXT}", "TEXT"], ["%{BKY_LISTS_SORT_TYPE_IGNORECASE}", "IGNORE_CASE"]]
        }, {
          type: "field_dropdown",
          name: "DIRECTION",
          options: [["%{BKY_LISTS_SORT_ORDER_ASCENDING}", "1"], ["%{BKY_LISTS_SORT_ORDER_DESCENDING}", "-1"]]
        }, {
          type: "input_value",
          name: "LIST",
          check: "Array"
        }],
        output: "Array",
        style: "list_blocks",
        tooltip: "%{BKY_LISTS_SORT_TOOLTIP}",
        helpUrl: "%{BKY_LISTS_SORT_HELPURL}"
      });
    }
  };
  blocks$$module$build$src$blocks$lists.lists_split = {
    init: function init() {
      var _this8 = this;
      var a = $.fromJson$$module$build$src$core$field_registry({
        type: "field_dropdown",
        options: [[$.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT, "SPLIT"], [$.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST, "JOIN"]]
      });
      if (!a) throw Error("field_dropdown not found");
      a.setValidator(function (b) {
        _this8.updateType_(b);
      });
      this.setHelpUrl($.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL);
      this.setStyle("list_blocks");
      this.appendValueInput("INPUT").setCheck("String").appendField(a, "MODE");
      this.appendValueInput("DELIM").setCheck("String").appendField($.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER);
      this.setInputsInline(!0);
      this.setOutput(!0, "Array");
      this.setTooltip(function () {
        var b = _this8.getFieldValue("MODE");
        if ("SPLIT" === b) return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;
        if ("JOIN" === b) return $.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;
        throw Error("Unknown mode: " + b);
      });
    },
    updateType_: function updateType_(a) {
      if (this.getFieldValue("MODE") !== a) {
        var b = this.getInput("INPUT").connection;
        b.setShadowDom(null);
        var c = b.targetBlock();
        c && (b.disconnect(), c.isShadow() ? c.dispose(!1) : this.bumpNeighbours());
      }
      "SPLIT" === a ? (this.outputConnection.setCheck("Array"), this.getInput("INPUT").setCheck("String")) : (this.outputConnection.setCheck("String"), this.getInput("INPUT").setCheck("Array"));
    },
    mutationToDom: function mutationToDom() {
      var a = $.createElement$$module$build$src$core$utils$xml("mutation");
      a.setAttribute("mode", this.getFieldValue("MODE"));
      return a;
    },
    domToMutation: function domToMutation(a) {
      this.updateType_(a.getAttribute("mode"));
    },
    saveExtraState: function saveExtraState() {
      return null;
    },
    loadExtraState: function loadExtraState() {}
  };
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$lists);
  var module$build$src$blocks$lists = {
    blocks: blocks$$module$build$src$blocks$lists
  };
  var blocks$$module$build$src$blocks$colour = $.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{
    type: "colour_picker",
    message0: "%1",
    args0: [{
      type: "field_colour",
      name: "COLOUR",
      colour: "#ff0000"
    }],
    output: "Colour",
    helpUrl: "%{BKY_COLOUR_PICKER_HELPURL}",
    style: "colour_blocks",
    tooltip: "%{BKY_COLOUR_PICKER_TOOLTIP}",
    extensions: ["parent_tooltip_when_inline"]
  }, {
    type: "colour_random",
    message0: "%{BKY_COLOUR_RANDOM_TITLE}",
    output: "Colour",
    helpUrl: "%{BKY_COLOUR_RANDOM_HELPURL}",
    style: "colour_blocks",
    tooltip: "%{BKY_COLOUR_RANDOM_TOOLTIP}"
  }, {
    type: "colour_rgb",
    message0: "%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
    args0: [{
      type: "input_value",
      name: "RED",
      check: "Number",
      align: "RIGHT"
    }, {
      type: "input_value",
      name: "GREEN",
      check: "Number",
      align: "RIGHT"
    }, {
      type: "input_value",
      name: "BLUE",
      check: "Number",
      align: "RIGHT"
    }],
    output: "Colour",
    helpUrl: "%{BKY_COLOUR_RGB_HELPURL}",
    style: "colour_blocks",
    tooltip: "%{BKY_COLOUR_RGB_TOOLTIP}"
  }, {
    type: "colour_blend",
    message0: "%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",
    args0: [{
      type: "input_value",
      name: "COLOUR1",
      check: "Colour",
      align: "RIGHT"
    }, {
      type: "input_value",
      name: "COLOUR2",
      check: "Colour",
      align: "RIGHT"
    }, {
      type: "input_value",
      name: "RATIO",
      check: "Number",
      align: "RIGHT"
    }],
    output: "Colour",
    helpUrl: "%{BKY_COLOUR_BLEND_HELPURL}",
    style: "colour_blocks",
    tooltip: "%{BKY_COLOUR_BLEND_TOOLTIP}"
  }]);
  $.defineBlocks$$module$build$src$core$common(blocks$$module$build$src$blocks$colour);
  var module$build$src$blocks$colour = {
    blocks: blocks$$module$build$src$blocks$colour
  };
  var blocks$$module$build$src$blocks$blocks = Object.assign({}, blocks$$module$build$src$blocks$colour, blocks$$module$build$src$blocks$lists, blocks$$module$build$src$blocks$logic, blocks$$module$build$src$blocks$loops, blocks$$module$build$src$blocks$math, blocks$$module$build$src$blocks$procedures, blocks$$module$build$src$blocks$variables, blocks$$module$build$src$blocks$variables_dynamic),
    module$build$src$blocks$blocks = {
      blocks: blocks$$module$build$src$blocks$blocks,
      colour: module$build$src$blocks$colour,
      lists: module$build$src$blocks$lists,
      loops: module$build$src$blocks$loops,
      math: module$build$src$blocks$math,
      procedures: module$build$src$blocks$procedures,
      texts: module$build$src$blocks$text,
      variables: module$build$src$blocks$variables,
      variablesDynamic: module$build$src$blocks$variables_dynamic
    };
  module$build$src$blocks$blocks.__namespace__ = $;
  return module$build$src$blocks$blocks;
});

/***/ }),

/***/ 47513:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;
(function (root, factory) {
  if (true) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(42203)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function (Blockly) {
  /**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */

  /**
   * @fileoverview Blockly core module for the browser. It includes blockly.js
   *               and adds a helper method for setting the locale.
   */

  /* eslint-disable */
  'use strict';

  return Blockly;
});

/***/ }),

/***/ 77896:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;
(function (root, factory) {
  if (true) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(47513), __webpack_require__(42845)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function (Blockly, BlocklyJavaScript) {
  /**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   */

  /**
   * @fileoverview JavaScript Generator module; just a wrapper for
   *     javascript_compressed.js.
   */

  return BlocklyJavaScript;
});

/***/ }),

/***/ 42845:
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _classCallCheck = (__webpack_require__(96833)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _possibleConstructorReturn = (__webpack_require__(91349)["default"]);
var _isNativeReflectConstruct = (__webpack_require__(25243)["default"]);
var _get = (__webpack_require__(18911)["default"]);
var _getPrototypeOf = (__webpack_require__(83387)["default"]);
var _inherits = (__webpack_require__(43497)["default"]);
var _slicedToArray = (__webpack_require__(25112)["default"]);
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
__webpack_require__(21057);
__webpack_require__(64043);
__webpack_require__(22462);
__webpack_require__(45398);
__webpack_require__(70560);
__webpack_require__(86466);
__webpack_require__(57267);
__webpack_require__(50886);
__webpack_require__(9873);
__webpack_require__(7409);
__webpack_require__(30050);
__webpack_require__(60228);
__webpack_require__(76034);
// Do not edit this file; automatically generated.

/* eslint-disable */
;
(function (root, factory) {
  if (true) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(22563)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
})(this, function (__parent__) {
  var $ = __parent__.__namespace__;
  var colour_picker$$module$build$src$generators$javascript$colour = function colour_picker$$module$build$src$generators$javascript$colour(a, b) {
      return [b.quote_(a.getFieldValue("COLOUR")), Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
    },
    colour_random$$module$build$src$generators$javascript$colour = function colour_random$$module$build$src$generators$javascript$colour(a, b) {
      return [b.provideFunction_("colourRandom", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}() {
  var num = Math.floor(Math.random() * Math.pow(2, 24));
  return '#' + ('00000' + num.toString(16)).substr(-6);
}
`) + "()", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    colour_rgb$$module$build$src$generators$javascript$colour = function colour_rgb$$module$build$src$generators$javascript$colour(a, b) {
      var c = b.valueToCode(a, "RED", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || 0,
        d = b.valueToCode(a, "GREEN", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || 0;
      a = b.valueToCode(a, "BLUE", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || 0;
      return [b.provideFunction_("colourRgb", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {
  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;
  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;
  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;
  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);
  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);
  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`) + "(" + c + ", " + d + ", " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    colour_blend$$module$build$src$generators$javascript$colour = function colour_blend$$module$build$src$generators$javascript$colour(a, b) {
      var c = b.valueToCode(a, "COLOUR1", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "'#000000'",
        d = b.valueToCode(a, "COLOUR2", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "'#000000'";
      a = b.valueToCode(a, "RATIO", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || .5;
      return [b.provideFunction_("colourBlend", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {
  ratio = Math.max(Math.min(Number(ratio), 1), 0);
  var r1 = parseInt(c1.substring(1, 3), 16);
  var g1 = parseInt(c1.substring(3, 5), 16);
  var b1 = parseInt(c1.substring(5, 7), 16);
  var r2 = parseInt(c2.substring(1, 3), 16);
  var g2 = parseInt(c2.substring(3, 5), 16);
  var b2 = parseInt(c2.substring(5, 7), 16);
  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);
  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);
  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);
  r = ('0' + (r || 0).toString(16)).slice(-2);
  g = ('0' + (g || 0).toString(16)).slice(-2);
  b = ('0' + (b || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`) + "(" + c + ", " + d + ", " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    lists_create_empty$$module$build$src$generators$javascript$lists = function lists_create_empty$$module$build$src$generators$javascript$lists(a, b) {
      return ["[]", Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
    },
    lists_create_with$$module$build$src$generators$javascript$lists = function lists_create_with$$module$build$src$generators$javascript$lists(a, b) {
      var c = Array(a.itemCount_);
      for (var d = 0; d < a.itemCount_; d++) c[d] = b.valueToCode(a, "ADD" + d, Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "null";
      return ["[" + c.join(", ") + "]", Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
    },
    lists_repeat$$module$build$src$generators$javascript$lists = function lists_repeat$$module$build$src$generators$javascript$lists(a, b) {
      var c = b.provideFunction_("listsRepeat", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),
        d = b.valueToCode(a, "ITEM", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "null";
      a = b.valueToCode(a, "NUM", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0";
      return [c + "(" + d + ", " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    lists_length$$module$build$src$generators$javascript$lists = function lists_length$$module$build$src$generators$javascript$lists(a, b) {
      return [(b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "[]") + ".length", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];
    },
    lists_isEmpty$$module$build$src$generators$javascript$lists = function lists_isEmpty$$module$build$src$generators$javascript$lists(a, b) {
      return ["!" + (b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "[]") + ".length", Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT];
    },
    lists_indexOf$$module$build$src$generators$javascript$lists = function lists_indexOf$$module$build$src$generators$javascript$lists(a, b) {
      var c = "FIRST" === a.getFieldValue("END") ? "indexOf" : "lastIndexOf",
        d = b.valueToCode(a, "FIND", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      b = (b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "[]") + "." + c + "(" + d + ")";
      return a.workspace.options.oneBasedIndex ? [b + " + 1", Order$$module$build$src$generators$javascript$javascript_generator.ADDITION] : [b, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    lists_getIndex$$module$build$src$generators$javascript$lists = function lists_getIndex$$module$build$src$generators$javascript$lists(a, b) {
      var c = a.getFieldValue("MODE") || "GET",
        d = a.getFieldValue("WHERE") || "FROM_START";
      var e = b.valueToCode(a, "VALUE", "RANDOM" === d ? Order$$module$build$src$generators$javascript$javascript_generator.NONE : Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "[]";
      switch (d) {
        case "FIRST":
          if ("GET" === c) return [e + "[0]", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];
          if ("GET_REMOVE" === c) return [e + ".shift()", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];
          if ("REMOVE" === c) return e + ".shift();\n";
          break;
        case "LAST":
          if ("GET" === c) return [e + ".slice(-1)[0]", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];
          if ("GET_REMOVE" === c) return [e + ".pop()", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];
          if ("REMOVE" === c) return e + ".pop();\n";
          break;
        case "FROM_START":
          a = b.getAdjusted(a, "AT");
          if ("GET" === c) return [e + "[" + a + "]", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];
          if ("GET_REMOVE" === c) return [e + ".splice(" + a + ", 1)[0]", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
          if ("REMOVE" === c) return e + ".splice(" + a + ", 1);\n";
          break;
        case "FROM_END":
          a = b.getAdjusted(a, "AT", 1, !0);
          if ("GET" === c) return [e + ".slice(" + a + ")[0]", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
          if ("GET_REMOVE" === c) return [e + ".splice(" + a + ", 1)[0]", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
          if ("REMOVE" === c) return e + ".splice(" + a + ", 1);";
          break;
        case "RANDOM":
          e = b.provideFunction_("listsGetRandomItem", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`) + "(" + e + ", " + ("GET" !== c) + ")";
          if ("GET" === c || "GET_REMOVE" === c) return [e, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
          if ("REMOVE" === c) return e + ";\n";
      }
      throw Error("Unhandled combination (lists_getIndex).");
    },
    lists_setIndex$$module$build$src$generators$javascript$lists = function lists_setIndex$$module$build$src$generators$javascript$lists(a, b) {
      function c() {
        if (d.match(/^\w+$/)) return "";
        var h = b.nameDB_.getDistinctName("tmpList", $.NameType$$module$build$src$core$names.VARIABLE),
          k = "var " + h + " = " + d + ";\n";
        d = h;
        return k;
      }
      var d = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "[]";
      var e = a.getFieldValue("MODE") || "GET";
      var f = a.getFieldValue("WHERE") || "FROM_START";
      var g = b.valueToCode(a, "TO", Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT) || "null";
      switch (f) {
        case "FIRST":
          if ("SET" === e) return d + "[0] = " + g + ";\n";
          if ("INSERT" === e) return d + ".unshift(" + g + ");\n";
          break;
        case "LAST":
          if ("SET" === e) return c() + (d + "[" + d + ".length - 1] = " + g + ";\n");
          if ("INSERT" === e) return d + ".push(" + g + ");\n";
          break;
        case "FROM_START":
          a = b.getAdjusted(a, "AT");
          if ("SET" === e) return d + "[" + a + "] = " + g + ";\n";
          if ("INSERT" === e) return d + ".splice(" + a + ", 0, " + g + ");\n";
          break;
        case "FROM_END":
          a = b.getAdjusted(a, "AT", 1, !1, Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);
          f = c();
          if ("SET" === e) return f + (d + "[" + d + ".length - " + a + "] = " + g + ";\n");
          if ("INSERT" === e) return f + (d + ".splice(" + d + ".length - " + a + ", 0, " + g + ");\n");
          break;
        case "RANDOM":
          a = c();
          f = b.nameDB_.getDistinctName("tmpX", $.NameType$$module$build$src$core$names.VARIABLE);
          a += "var " + f + " = Math.floor(Math.random() * " + d + ".length);\n";
          if ("SET" === e) return a + (d + "[" + f + "] = " + g + ";\n");
          if ("INSERT" === e) return a + (d + ".splice(" + f + ", 0, " + g + ");\n");
      }
      throw Error("Unhandled combination (lists_setIndex).");
    },
    lists_getSublist$$module$build$src$generators$javascript$lists = function lists_getSublist$$module$build$src$generators$javascript$lists(a, b) {
      var c = {
          FIRST: "First",
          LAST: "Last",
          FROM_START: "FromStart",
          FROM_END: "FromEnd"
        },
        d = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "[]";
      var e = a.getFieldValue("WHERE1"),
        f = a.getFieldValue("WHERE2");
      if ("FIRST" === e && "LAST" === f) d += ".slice(0)";else if (d.match(/^\w+$/) || "FROM_END" !== e && "FROM_START" === f) {
        switch (e) {
          case "FROM_START":
            c = b.getAdjusted(a, "AT1");
            break;
          case "FROM_END":
            c = b.getAdjusted(a, "AT1", 1, !1, Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);
            c = d + ".length - " + c;
            break;
          case "FIRST":
            c = "0";
            break;
          default:
            throw Error("Unhandled option (lists_getSublist).");
        }
        switch (f) {
          case "FROM_START":
            b = b.getAdjusted(a, "AT2", 1);
            break;
          case "FROM_END":
            b = b.getAdjusted(a, "AT2", 0, !1, Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);
            b = d + ".length - " + b;
            break;
          case "LAST":
            b = d + ".length";
            break;
          default:
            throw Error("Unhandled option (lists_getSublist).");
        }
        d = d + ".slice(" + c + ", " + b + ")";
      } else {
        var g = b.getAdjusted(a, "AT1");
        a = b.getAdjusted(a, "AT2");
        d = b.provideFunction_("subsequence" + c[e] + c[f], `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END" === e || "FROM_START" === e ? ", at1" : ""}${"FROM_END" === f || "FROM_START" === f ? ", at2" : ""}) {
  var start = ${getSubstringIndex$$module$build$src$generators$javascript$lists("sequence", e, "at1")};
  var end = ${getSubstringIndex$$module$build$src$generators$javascript$lists("sequence", f, "at2")} + 1;
  return sequence.slice(start, end);
}
`) + "(" + d + ("FROM_END" === e || "FROM_START" === e ? ", " + g : "") + ("FROM_END" === f || "FROM_START" === f ? ", " + a : "") + ")";
      }
      return [d, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    lists_sort$$module$build$src$generators$javascript$lists = function lists_sort$$module$build$src$generators$javascript$lists(a, b) {
      var c = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL) || "[]",
        d = "1" === a.getFieldValue("DIRECTION") ? 1 : -1;
      a = a.getFieldValue("TYPE");
      b = b.provideFunction_("listsGetSortCompare", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `);
      return [c + ".slice().sort(" + b + '("' + a + '", ' + d + "))", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    lists_split$$module$build$src$generators$javascript$lists = function lists_split$$module$build$src$generators$javascript$lists(a, b) {
      var c = b.valueToCode(a, "INPUT", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER);
      b = b.valueToCode(a, "DELIM", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      a = a.getFieldValue("MODE");
      if ("SPLIT" === a) c || (c = "''"), a = "split";else if ("JOIN" === a) c || (c = "[]"), a = "join";else throw Error("Unknown mode: " + a);
      return [c + "." + a + "(" + b + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    lists_reverse$$module$build$src$generators$javascript$lists = function lists_reverse$$module$build$src$generators$javascript$lists(a, b) {
      return [(b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL) || "[]") + ".slice().reverse()", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    controls_if$$module$build$src$generators$javascript$logic = function controls_if$$module$build$src$generators$javascript$logic(a, b) {
      var c = 0;
      var d = "";
      b.STATEMENT_PREFIX && (d += b.injectId(b.STATEMENT_PREFIX, a));
      do {
        var e = b.valueToCode(a, "IF" + c, Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "false";
        var f = b.statementToCode(a, "DO" + c);
        b.STATEMENT_SUFFIX && (f = b.prefixLines(b.injectId(b.STATEMENT_SUFFIX, a), b.INDENT) + f);
        d += (0 < c ? " else " : "") + "if (" + e + ") {\n" + f + "}";
        c++;
      } while (a.getInput("IF" + c));
      if (a.getInput("ELSE") || b.STATEMENT_SUFFIX) c = b.statementToCode(a, "ELSE"), b.STATEMENT_SUFFIX && (c = b.prefixLines(b.injectId(b.STATEMENT_SUFFIX, a), b.INDENT) + c), d += " else {\n" + c + "}";
      return d + "\n";
    },
    logic_compare$$module$build$src$generators$javascript$logic = function logic_compare$$module$build$src$generators$javascript$logic(a, b) {
      var c = {
          EQ: "==",
          NEQ: "!=",
          LT: "<",
          LTE: "<=",
          GT: ">",
          GTE: ">="
        }[a.getFieldValue("OP")],
        d = "==" === c || "!=" === c ? Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY : Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL,
        e = b.valueToCode(a, "A", d) || "0";
      a = b.valueToCode(a, "B", d) || "0";
      return [e + " " + c + " " + a, d];
    },
    logic_operation$$module$build$src$generators$javascript$logic = function logic_operation$$module$build$src$generators$javascript$logic(a, b) {
      var c = "AND" === a.getFieldValue("OP") ? "&&" : "||",
        d = "&&" === c ? Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND : Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR;
      var e = b.valueToCode(a, "A", d);
      a = b.valueToCode(a, "B", d);
      e || a ? (b = "&&" === c ? "true" : "false", e || (e = b), a || (a = b)) : a = e = "false";
      return [e + " " + c + " " + a, d];
    },
    logic_negate$$module$build$src$generators$javascript$logic = function logic_negate$$module$build$src$generators$javascript$logic(a, b) {
      var c = Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT;
      return ["!" + (b.valueToCode(a, "BOOL", c) || "true"), c];
    },
    logic_boolean$$module$build$src$generators$javascript$logic = function logic_boolean$$module$build$src$generators$javascript$logic(a, b) {
      return ["TRUE" === a.getFieldValue("BOOL") ? "true" : "false", Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
    },
    logic_null$$module$build$src$generators$javascript$logic = function logic_null$$module$build$src$generators$javascript$logic(a, b) {
      return ["null", Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
    },
    logic_ternary$$module$build$src$generators$javascript$logic = function logic_ternary$$module$build$src$generators$javascript$logic(a, b) {
      var c = b.valueToCode(a, "IF", Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL) || "false",
        d = b.valueToCode(a, "THEN", Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL) || "null";
      a = b.valueToCode(a, "ELSE", Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL) || "null";
      return [c + " ? " + d + " : " + a, Order$$module$build$src$generators$javascript$javascript_generator.CONDITIONAL];
    },
    controls_repeat_ext$$module$build$src$generators$javascript$loops = function controls_repeat_ext$$module$build$src$generators$javascript$loops(a, b) {
      var c;
      c = a.getField("TIMES") ? String(Number(a.getFieldValue("TIMES"))) : b.valueToCode(a, "TIMES", Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT) || "0";
      var d = b.statementToCode(a, "DO");
      d = b.addLoopTrap(d, a);
      a = "";
      var e = b.nameDB_.getDistinctName("count", $.NameType$$module$build$src$core$names.VARIABLE);
      var f = c;
      c.match(/^\w+$/) || $.isNumber$$module$build$src$core$utils$string(c) || (f = b.nameDB_.getDistinctName("repeat_end", $.NameType$$module$build$src$core$names.VARIABLE), a += "var " + f + " = " + c + ";\n");
      return a + ("for (var " + e + " = 0; " + e + " < " + f + "; " + e + "++) {\n" + d + "}\n");
    },
    controls_whileUntil$$module$build$src$generators$javascript$loops = function controls_whileUntil$$module$build$src$generators$javascript$loops(a, b) {
      var c = "UNTIL" === a.getFieldValue("MODE");
      var d = b.valueToCode(a, "BOOL", c ? Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT : Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "false",
        e = b.statementToCode(a, "DO");
      e = b.addLoopTrap(e, a);
      c && (d = "!" + d);
      return "while (" + d + ") {\n" + e + "}\n";
    },
    controls_for$$module$build$src$generators$javascript$loops = function controls_for$$module$build$src$generators$javascript$loops(a, b) {
      var c = b.getVariableName(a.getFieldValue("VAR")),
        d = b.valueToCode(a, "FROM", Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT) || "0",
        e = b.valueToCode(a, "TO", Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT) || "0";
      var f = b.valueToCode(a, "BY", Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT) || "1";
      var g = b.statementToCode(a, "DO");
      g = b.addLoopTrap(g, a);
      if ($.isNumber$$module$build$src$core$utils$string(d) && $.isNumber$$module$build$src$core$utils$string(e) && $.isNumber$$module$build$src$core$utils$string(f)) b = Number(d) <= Number(e), a = "for (" + c + " = " + d + "; " + c + (b ? " <= " : " >= ") + e + "; " + c, c = Math.abs(Number(f)), a = 1 === c ? a + (b ? "++" : "--") : a + ((b ? " += " : " -= ") + c), a += ") {\n" + g + "}\n";else {
        a = "";
        var h = d;
        d.match(/^\w+$/) || $.isNumber$$module$build$src$core$utils$string(d) || (h = b.nameDB_.getDistinctName(c + "_start", $.NameType$$module$build$src$core$names.VARIABLE), a += "var " + h + " = " + d + ";\n");
        d = e;
        e.match(/^\w+$/) || $.isNumber$$module$build$src$core$utils$string(e) || (d = b.nameDB_.getDistinctName(c + "_end", $.NameType$$module$build$src$core$names.VARIABLE), a += "var " + d + " = " + e + ";\n");
        e = b.nameDB_.getDistinctName(c + "_inc", $.NameType$$module$build$src$core$names.VARIABLE);
        a += "var " + e + " = ";
        a = $.isNumber$$module$build$src$core$utils$string(f) ? a + (Math.abs(Number(f)) + ";\n") : a + ("Math.abs(" + f + ");\n");
        a += "if (" + h + " > " + d + ") {\n";
        a += b.INDENT + e + " = -" + e + ";\n";
        a = a + "}\nfor (" + (c + " = " + h + "; " + e + " >= 0 ? " + c + " <= " + d + " : " + c + " >= " + d + "; " + c + " += " + e + ") {\n" + g + "}\n");
      }
      return a;
    },
    controls_forEach$$module$build$src$generators$javascript$loops = function controls_forEach$$module$build$src$generators$javascript$loops(a, b) {
      var c = b.getVariableName(a.getFieldValue("VAR"));
      var d = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT) || "[]";
      var e = b.statementToCode(a, "DO");
      e = b.addLoopTrap(e, a);
      a = "";
      var f = d;
      d.match(/^\w+$/) || (f = b.nameDB_.getDistinctName(c + "_list", $.NameType$$module$build$src$core$names.VARIABLE), a += "var " + f + " = " + d + ";\n");
      d = b.nameDB_.getDistinctName(c + "_index", $.NameType$$module$build$src$core$names.VARIABLE);
      e = b.INDENT + c + " = " + f + "[" + d + "];\n" + e;
      return a + ("for (var " + d + " in " + f + ") {\n" + e + "}\n");
    },
    controls_flow_statements$$module$build$src$generators$javascript$loops = function controls_flow_statements$$module$build$src$generators$javascript$loops(a, b) {
      var c = "";
      b.STATEMENT_PREFIX && (c += b.injectId(b.STATEMENT_PREFIX, a));
      b.STATEMENT_SUFFIX && (c += b.injectId(b.STATEMENT_SUFFIX, a));
      if (b.STATEMENT_PREFIX) {
        var d = a.getSurroundLoop();
        d && !d.suppressPrefixSuffix && (c += b.injectId(b.STATEMENT_PREFIX, d));
      }
      switch (a.getFieldValue("FLOW")) {
        case "BREAK":
          return c + "break;\n";
        case "CONTINUE":
          return c + "continue;\n";
      }
      throw Error("Unknown flow statement.");
    },
    math_number$$module$build$src$generators$javascript$math = function math_number$$module$build$src$generators$javascript$math(a, b) {
      a = Number(a.getFieldValue("NUM"));
      return [String(a), 0 <= a ? Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC : Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION];
    },
    math_arithmetic$$module$build$src$generators$javascript$math = function math_arithmetic$$module$build$src$generators$javascript$math(a, b) {
      var c = {
        ADD: [" + ", Order$$module$build$src$generators$javascript$javascript_generator.ADDITION],
        MINUS: [" - ", Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION],
        MULTIPLY: [" * ", Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION],
        DIVIDE: [" / ", Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],
        POWER: [null, Order$$module$build$src$generators$javascript$javascript_generator.NONE]
      }[a.getFieldValue("OP")];
      var d = c[0];
      c = c[1];
      var e = b.valueToCode(a, "A", c) || "0";
      a = b.valueToCode(a, "B", c) || "0";
      return d ? [e + d + a, c] : ["Math.pow(" + e + ", " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    math_single$$module$build$src$generators$javascript$math = function math_single$$module$build$src$generators$javascript$math(a, b) {
      var c = a.getFieldValue("OP");
      var d;
      if ("NEG" === c) return a = b.valueToCode(a, "NUM", Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION) || "0", "-" === a[0] && (a = " " + a), ["-" + a, Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION];
      a = "SIN" === c || "COS" === c || "TAN" === c ? b.valueToCode(a, "NUM", Order$$module$build$src$generators$javascript$javascript_generator.DIVISION) || "0" : b.valueToCode(a, "NUM", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0";
      switch (c) {
        case "ABS":
          d = "Math.abs(" + a + ")";
          break;
        case "ROOT":
          d = "Math.sqrt(" + a + ")";
          break;
        case "LN":
          d = "Math.log(" + a + ")";
          break;
        case "EXP":
          d = "Math.exp(" + a + ")";
          break;
        case "POW10":
          d = "Math.pow(10," + a + ")";
          break;
        case "ROUND":
          d = "Math.round(" + a + ")";
          break;
        case "ROUNDUP":
          d = "Math.ceil(" + a + ")";
          break;
        case "ROUNDDOWN":
          d = "Math.floor(" + a + ")";
          break;
        case "SIN":
          d = "Math.sin(" + a + " / 180 * Math.PI)";
          break;
        case "COS":
          d = "Math.cos(" + a + " / 180 * Math.PI)";
          break;
        case "TAN":
          d = "Math.tan(" + a + " / 180 * Math.PI)";
      }
      if (d) return [d, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
      switch (c) {
        case "LOG10":
          d = "Math.log(" + a + ") / Math.log(10)";
          break;
        case "ASIN":
          d = "Math.asin(" + a + ") / Math.PI * 180";
          break;
        case "ACOS":
          d = "Math.acos(" + a + ") / Math.PI * 180";
          break;
        case "ATAN":
          d = "Math.atan(" + a + ") / Math.PI * 180";
          break;
        default:
          throw Error("Unknown math operator: " + c);
      }
      return [d, Order$$module$build$src$generators$javascript$javascript_generator.DIVISION];
    },
    math_constant$$module$build$src$generators$javascript$math = function math_constant$$module$build$src$generators$javascript$math(a, b) {
      return {
        PI: ["Math.PI", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],
        E: ["Math.E", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],
        GOLDEN_RATIO: ["(1 + Math.sqrt(5)) / 2", Order$$module$build$src$generators$javascript$javascript_generator.DIVISION],
        SQRT2: ["Math.SQRT2", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],
        SQRT1_2: ["Math.SQRT1_2", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER],
        INFINITY: ["Infinity", Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC]
      }[a.getFieldValue("CONSTANT")];
    },
    math_number_property$$module$build$src$generators$javascript$math = function math_number_property$$module$build$src$generators$javascript$math(a, b) {
      var c = {
        EVEN: [" % 2 === 0", Order$$module$build$src$generators$javascript$javascript_generator.MODULUS, Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],
        ODD: [" % 2 === 1", Order$$module$build$src$generators$javascript$javascript_generator.MODULUS, Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],
        WHOLE: [" % 1 === 0", Order$$module$build$src$generators$javascript$javascript_generator.MODULUS, Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],
        POSITIVE: [" > 0", Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL, Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],
        NEGATIVE: [" < 0", Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL, Order$$module$build$src$generators$javascript$javascript_generator.RELATIONAL],
        DIVISIBLE_BY: [null, Order$$module$build$src$generators$javascript$javascript_generator.MODULUS, Order$$module$build$src$generators$javascript$javascript_generator.EQUALITY],
        PRIME: [null, Order$$module$build$src$generators$javascript$javascript_generator.NONE, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL]
      };
      var d = a.getFieldValue("PROPERTY"),
        _c$d = _slicedToArray(c[d], 3),
        e = _c$d[0],
        f = _c$d[1],
        g = _c$d[2];
      c = b.valueToCode(a, "NUMBER_TO_CHECK", f) || "0";
      "PRIME" === d ? a = b.provideFunction_("mathIsPrime", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`) + "(" + c + ")" : "DIVISIBLE_BY" === d ? (a = b.valueToCode(a, "DIVISOR", Order$$module$build$src$generators$javascript$javascript_generator.MODULUS) || "0", a = c + " % " + a + " === 0") : a = c + e;
      return [a, g];
    },
    math_change$$module$build$src$generators$javascript$math = function math_change$$module$build$src$generators$javascript$math(a, b) {
      var c = b.valueToCode(a, "DELTA", Order$$module$build$src$generators$javascript$javascript_generator.ADDITION) || "0";
      a = b.getVariableName(a.getFieldValue("VAR"));
      return a + " = (typeof " + a + " === 'number' ? " + a + " : 0) + " + c + ";\n";
    },
    math_on_list$$module$build$src$generators$javascript$math = function math_on_list$$module$build$src$generators$javascript$math(a, b) {
      var c = a.getFieldValue("OP");
      switch (c) {
        case "SUM":
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "[]";
          a += ".reduce(function(x, y) {return x + y;}, 0)";
          break;
        case "MIN":
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "[]";
          a = "Math.min.apply(null, " + a + ")";
          break;
        case "MAX":
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "[]";
          a = "Math.max.apply(null, " + a + ")";
          break;
        case "AVERAGE":
          c = b.provideFunction_("mathMean", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`);
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "[]";
          a = c + "(" + a + ")";
          break;
        case "MEDIAN":
          c = b.provideFunction_("mathMedian", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`);
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "[]";
          a = c + "(" + a + ")";
          break;
        case "MODE":
          c = b.provideFunction_("mathModes", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
        modes.push(counts[j][0]);
    }
  }
  return modes;
}
`);
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "[]";
          a = c + "(" + a + ")";
          break;
        case "STD_DEV":
          c = b.provideFunction_("mathStandardDeviation", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance = variance / n;
  return Math.sqrt(variance);
}
`);
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "[]";
          a = c + "(" + a + ")";
          break;
        case "RANDOM":
          c = b.provideFunction_("mathRandomList", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`);
          a = b.valueToCode(a, "LIST", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "[]";
          a = c + "(" + a + ")";
          break;
        default:
          throw Error("Unknown operator: " + c);
      }
      return [a, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    math_modulo$$module$build$src$generators$javascript$math = function math_modulo$$module$build$src$generators$javascript$math(a, b) {
      var c = b.valueToCode(a, "DIVIDEND", Order$$module$build$src$generators$javascript$javascript_generator.MODULUS) || "0";
      a = b.valueToCode(a, "DIVISOR", Order$$module$build$src$generators$javascript$javascript_generator.MODULUS) || "0";
      return [c + " % " + a, Order$$module$build$src$generators$javascript$javascript_generator.MODULUS];
    },
    math_constrain$$module$build$src$generators$javascript$math = function math_constrain$$module$build$src$generators$javascript$math(a, b) {
      var c = b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0",
        d = b.valueToCode(a, "LOW", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0";
      a = b.valueToCode(a, "HIGH", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "Infinity";
      return ["Math.min(Math.max(" + c + ", " + d + "), " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    math_random_int$$module$build$src$generators$javascript$math = function math_random_int$$module$build$src$generators$javascript$math(a, b) {
      var c = b.valueToCode(a, "FROM", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0";
      a = b.valueToCode(a, "TO", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0";
      return [b.provideFunction_("mathRandomInt", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`) + "(" + c + ", " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    math_random_float$$module$build$src$generators$javascript$math = function math_random_float$$module$build$src$generators$javascript$math(a, b) {
      return ["Math.random()", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    math_atan2$$module$build$src$generators$javascript$math = function math_atan2$$module$build$src$generators$javascript$math(a, b) {
      var c = b.valueToCode(a, "X", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0";
      return ["Math.atan2(" + (b.valueToCode(a, "Y", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "0") + ", " + c + ") / Math.PI * 180", Order$$module$build$src$generators$javascript$javascript_generator.DIVISION];
    },
    procedures_defreturn$$module$build$src$generators$javascript$procedures = function procedures_defreturn$$module$build$src$generators$javascript$procedures(a, b) {
      var c = b.getProcedureName(a.getFieldValue("NAME"));
      var d = "";
      b.STATEMENT_PREFIX && (d += b.injectId(b.STATEMENT_PREFIX, a));
      b.STATEMENT_SUFFIX && (d += b.injectId(b.STATEMENT_SUFFIX, a));
      d && (d = b.prefixLines(d, b.INDENT));
      var e = "";
      b.INFINITE_LOOP_TRAP && (e = b.prefixLines(b.injectId(b.INFINITE_LOOP_TRAP, a), b.INDENT));
      var f = b.statementToCode(a, "STACK");
      var g = b.valueToCode(a, "RETURN", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "",
        h = "";
      f && g && (h = d);
      g && (g = b.INDENT + "return " + g + ";\n");
      var k = [],
        l = a.getVars();
      for (var m = 0; m < l.length; m++) k[m] = b.getVariableName(l[m]);
      d = "function " + c + "(" + k.join(", ") + ") {\n" + d + e + f + h + g + "}";
      d = b.scrub_(a, d);
      b.definitions_["%" + c] = d;
      return null;
    },
    procedures_callreturn$$module$build$src$generators$javascript$procedures = function procedures_callreturn$$module$build$src$generators$javascript$procedures(a, b) {
      var c = b.getProcedureName(a.getFieldValue("NAME")),
        d = [],
        e = a.getVars();
      for (var f = 0; f < e.length; f++) d[f] = b.valueToCode(a, "ARG" + f, Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "null";
      return [c + "(" + d.join(", ") + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    procedures_callnoreturn$$module$build$src$generators$javascript$procedures = function procedures_callnoreturn$$module$build$src$generators$javascript$procedures(a, b) {
      return b.forBlock.procedures_callreturn(a, b)[0] + ";\n";
    },
    procedures_ifreturn$$module$build$src$generators$javascript$procedures = function procedures_ifreturn$$module$build$src$generators$javascript$procedures(a, b) {
      var c = "if (" + (b.valueToCode(a, "CONDITION", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "false") + ") {\n";
      b.STATEMENT_SUFFIX && (c += b.prefixLines(b.injectId(b.STATEMENT_SUFFIX, a), b.INDENT));
      a.hasReturnValue_ ? (a = b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "null", c += b.INDENT + "return " + a + ";\n") : c += b.INDENT + "return;\n";
      return c + "}\n";
    },
    text$$module$build$src$generators$javascript$text = function text$$module$build$src$generators$javascript$text(a, b) {
      return [b.quote_(a.getFieldValue("TEXT")), Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
    },
    text_multiline$$module$build$src$generators$javascript$text = function text_multiline$$module$build$src$generators$javascript$text(a, b) {
      a = b.multiline_quote_(a.getFieldValue("TEXT"));
      b = -1 !== a.indexOf("+") ? Order$$module$build$src$generators$javascript$javascript_generator.ADDITION : Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC;
      return [a, b];
    },
    text_join$$module$build$src$generators$javascript$text = function text_join$$module$build$src$generators$javascript$text(a, b) {
      switch (a.itemCount_) {
        case 0:
          return ["''", Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
        case 1:
          return a = b.valueToCode(a, "ADD0", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''", forceString$$module$build$src$generators$javascript$text(a);
        case 2:
          var c = b.valueToCode(a, "ADD0", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
          a = b.valueToCode(a, "ADD1", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
          return [forceString$$module$build$src$generators$javascript$text(c)[0] + " + " + forceString$$module$build$src$generators$javascript$text(a)[0], Order$$module$build$src$generators$javascript$javascript_generator.ADDITION];
        default:
          c = Array(a.itemCount_);
          for (var d = 0; d < a.itemCount_; d++) c[d] = b.valueToCode(a, "ADD" + d, Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
          return ["[" + c.join(",") + "].join('')", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
      }
    },
    text_append$$module$build$src$generators$javascript$text = function text_append$$module$build$src$generators$javascript$text(a, b) {
      var c = b.getVariableName(a.getFieldValue("VAR"));
      a = b.valueToCode(a, "TEXT", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      return c + " += " + forceString$$module$build$src$generators$javascript$text(a)[0] + ";\n";
    },
    text_length$$module$build$src$generators$javascript$text = function text_length$$module$build$src$generators$javascript$text(a, b) {
      return [(b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "''") + ".length", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER];
    },
    text_isEmpty$$module$build$src$generators$javascript$text = function text_isEmpty$$module$build$src$generators$javascript$text(a, b) {
      return ["!" + (b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "''") + ".length", Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT];
    },
    text_indexOf$$module$build$src$generators$javascript$text = function text_indexOf$$module$build$src$generators$javascript$text(a, b) {
      var c = "FIRST" === a.getFieldValue("END") ? "indexOf" : "lastIndexOf",
        d = b.valueToCode(a, "FIND", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      b = (b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "''") + "." + c + "(" + d + ")";
      return a.workspace.options.oneBasedIndex ? [b + " + 1", Order$$module$build$src$generators$javascript$javascript_generator.ADDITION] : [b, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    text_charAt$$module$build$src$generators$javascript$text = function text_charAt$$module$build$src$generators$javascript$text(a, b) {
      var c = a.getFieldValue("WHERE") || "FROM_START",
        d = b.valueToCode(a, "VALUE", "RANDOM" === c ? Order$$module$build$src$generators$javascript$javascript_generator.NONE : Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "''";
      switch (c) {
        case "FIRST":
          return [d + ".charAt(0)", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
        case "LAST":
          return [d + ".slice(-1)", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
        case "FROM_START":
          return a = b.getAdjusted(a, "AT"), [d + ".charAt(" + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
        case "FROM_END":
          return a = b.getAdjusted(a, "AT", 1, !0), [d + ".slice(" + a + ").charAt(0)", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
        case "RANDOM":
          return [b.provideFunction_("textRandomLetter", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`) + "(" + d + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
      }
      throw Error("Unhandled option (text_charAt).");
    },
    text_getSubstring$$module$build$src$generators$javascript$text = function text_getSubstring$$module$build$src$generators$javascript$text(a, b) {
      var c = {
        FIRST: "First",
        LAST: "Last",
        FROM_START: "FromStart",
        FROM_END: "FromEnd"
      };
      var d = a.getFieldValue("WHERE1"),
        e = a.getFieldValue("WHERE2");
      var f = "FROM_END" !== d && "LAST" !== d && "FROM_END" !== e && "LAST" !== e,
        g = b.valueToCode(a, "STRING", f ? Order$$module$build$src$generators$javascript$javascript_generator.MEMBER : Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      if ("FIRST" === d && "LAST" === e) return [g, Order$$module$build$src$generators$javascript$javascript_generator.NONE];
      if (g.match(/^'?\w+'?$/) || f) {
        switch (d) {
          case "FROM_START":
            c = b.getAdjusted(a, "AT1");
            break;
          case "FROM_END":
            c = b.getAdjusted(a, "AT1", 1, !1, Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);
            c = g + ".length - " + c;
            break;
          case "FIRST":
            c = "0";
            break;
          default:
            throw Error("Unhandled option (text_getSubstring).");
        }
        switch (e) {
          case "FROM_START":
            b = b.getAdjusted(a, "AT2", 1);
            break;
          case "FROM_END":
            b = b.getAdjusted(a, "AT2", 0, !1, Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION);
            b = g + ".length - " + b;
            break;
          case "LAST":
            b = g + ".length";
            break;
          default:
            throw Error("Unhandled option (text_getSubstring).");
        }
        g = g + ".slice(" + c + ", " + b + ")";
      } else f = b.getAdjusted(a, "AT1"), a = b.getAdjusted(a, "AT2"), g = b.provideFunction_("subsequence" + c[d] + c[e], `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END" === d || "FROM_START" === d ? ", at1" : ""}${"FROM_END" === e || "FROM_START" === e ? ", at2" : ""}) {
  var start = ${getSubstringIndex$$module$build$src$generators$javascript$text("sequence", d, "at1")};
  var end = ${getSubstringIndex$$module$build$src$generators$javascript$text("sequence", e, "at2")} + 1;
  return sequence.slice(start, end);
}
`) + "(" + g + ("FROM_END" === d || "FROM_START" === d ? ", " + f : "") + ("FROM_END" === e || "FROM_START" === e ? ", " + a : "") + ")";
      return [g, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    text_changeCase$$module$build$src$generators$javascript$text = function text_changeCase$$module$build$src$generators$javascript$text(a, b) {
      var c = {
        UPPERCASE: ".toUpperCase()",
        LOWERCASE: ".toLowerCase()",
        TITLECASE: null
      }[a.getFieldValue("CASE")];
      a = b.valueToCode(a, "TEXT", c ? Order$$module$build$src$generators$javascript$javascript_generator.MEMBER : Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      return [c ? a + c : b.provideFunction_("textToTitleCase", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`) + "(" + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    text_trim$$module$build$src$generators$javascript$text = function text_trim$$module$build$src$generators$javascript$text(a, b) {
      var c = {
        LEFT: ".replace(/^[\\s\\xa0]+/, '')",
        RIGHT: ".replace(/[\\s\\xa0]+$/, '')",
        BOTH: ".trim()"
      }[a.getFieldValue("MODE")];
      return [(b.valueToCode(a, "TEXT", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "''") + c, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    text_print$$module$build$src$generators$javascript$text = function text_print$$module$build$src$generators$javascript$text(a, b) {
      return "window.alert(" + (b.valueToCode(a, "TEXT", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''") + ");\n";
    },
    text_prompt_ext$$module$build$src$generators$javascript$text = function text_prompt_ext$$module$build$src$generators$javascript$text(a, b) {
      b = "window.prompt(" + (a.getField("TEXT") ? b.quote_(a.getFieldValue("TEXT")) : b.valueToCode(a, "TEXT", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''") + ")";
      "NUMBER" === a.getFieldValue("TYPE") && (b = "Number(" + b + ")");
      return [b, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    text_count$$module$build$src$generators$javascript$text = function text_count$$module$build$src$generators$javascript$text(a, b) {
      var c = b.valueToCode(a, "TEXT", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      a = b.valueToCode(a, "SUB", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      return [b.provideFunction_("textCount", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`) + "(" + c + ", " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    text_replace$$module$build$src$generators$javascript$text = function text_replace$$module$build$src$generators$javascript$text(a, b) {
      var c = b.valueToCode(a, "TEXT", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''",
        d = b.valueToCode(a, "FROM", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      a = b.valueToCode(a, "TO", Order$$module$build$src$generators$javascript$javascript_generator.NONE) || "''";
      return [b.provideFunction_("textReplace", `
function ${b.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`) + "(" + c + ", " + d + ", " + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    text_reverse$$module$build$src$generators$javascript$text = function text_reverse$$module$build$src$generators$javascript$text(a, b) {
      return [(b.valueToCode(a, "TEXT", Order$$module$build$src$generators$javascript$javascript_generator.MEMBER) || "''") + ".split('').reverse().join('')", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    variables_get$$module$build$src$generators$javascript$variables = function variables_get$$module$build$src$generators$javascript$variables(a, b) {
      return [b.getVariableName(a.getFieldValue("VAR")), Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC];
    },
    variables_set$$module$build$src$generators$javascript$variables = function variables_set$$module$build$src$generators$javascript$variables(a, b) {
      var c = b.valueToCode(a, "VALUE", Order$$module$build$src$generators$javascript$javascript_generator.ASSIGNMENT) || "0";
      return b.getVariableName(a.getFieldValue("VAR")) + " = " + c + ";\n";
    },
    Order$$module$build$src$generators$javascript$javascript_generator;
  (function (a) {
    a[a.ATOMIC = 0] = "ATOMIC";
    a[a.NEW = 1.1] = "NEW";
    a[a.MEMBER = 1.2] = "MEMBER";
    a[a.FUNCTION_CALL = 2] = "FUNCTION_CALL";
    a[a.INCREMENT = 3] = "INCREMENT";
    a[a.DECREMENT = 3] = "DECREMENT";
    a[a.BITWISE_NOT = 4.1] = "BITWISE_NOT";
    a[a.UNARY_PLUS = 4.2] = "UNARY_PLUS";
    a[a.UNARY_NEGATION = 4.3] = "UNARY_NEGATION";
    a[a.LOGICAL_NOT = 4.4] = "LOGICAL_NOT";
    a[a.TYPEOF = 4.5] = "TYPEOF";
    a[a.VOID = 4.6] = "VOID";
    a[a.DELETE = 4.7] = "DELETE";
    a[a.AWAIT = 4.8] = "AWAIT";
    a[a.EXPONENTIATION = 5] = "EXPONENTIATION";
    a[a.MULTIPLICATION = 5.1] = "MULTIPLICATION";
    a[a.DIVISION = 5.2] = "DIVISION";
    a[a.MODULUS = 5.3] = "MODULUS";
    a[a.SUBTRACTION = 6.1] = "SUBTRACTION";
    a[a.ADDITION = 6.2] = "ADDITION";
    a[a.BITWISE_SHIFT = 7] = "BITWISE_SHIFT";
    a[a.RELATIONAL = 8] = "RELATIONAL";
    a[a.IN = 8] = "IN";
    a[a.INSTANCEOF = 8] = "INSTANCEOF";
    a[a.EQUALITY = 9] = "EQUALITY";
    a[a.BITWISE_AND = 10] = "BITWISE_AND";
    a[a.BITWISE_XOR = 11] = "BITWISE_XOR";
    a[a.BITWISE_OR = 12] = "BITWISE_OR";
    a[a.LOGICAL_AND = 13] = "LOGICAL_AND";
    a[a.LOGICAL_OR = 14] = "LOGICAL_OR";
    a[a.CONDITIONAL = 15] = "CONDITIONAL";
    a[a.ASSIGNMENT = 16] = "ASSIGNMENT";
    a[a.YIELD = 17] = "YIELD";
    a[a.COMMA = 18] = "COMMA";
    a[a.NONE = 99] = "NONE";
  })(Order$$module$build$src$generators$javascript$javascript_generator || (Order$$module$build$src$generators$javascript$javascript_generator = {}));
  var JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator = /*#__PURE__*/function (_$$CodeGenerator$$mod) {
      "use strict";

      _inherits(JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator, _$$CodeGenerator$$mod);
      function JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator() {
        var _this;
        var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "JavaScript";
        _classCallCheck(this, JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator);
        _this = _callSuper(this, JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator, [a]);
        _this.ORDER_OVERRIDES = [[Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL, Order$$module$build$src$generators$javascript$javascript_generator.MEMBER], [Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL], [Order$$module$build$src$generators$javascript$javascript_generator.MEMBER, Order$$module$build$src$generators$javascript$javascript_generator.MEMBER], [Order$$module$build$src$generators$javascript$javascript_generator.MEMBER, Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL], [Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT, Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_NOT], [Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION, Order$$module$build$src$generators$javascript$javascript_generator.MULTIPLICATION], [Order$$module$build$src$generators$javascript$javascript_generator.ADDITION, Order$$module$build$src$generators$javascript$javascript_generator.ADDITION], [Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND, Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_AND], [Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR, Order$$module$build$src$generators$javascript$javascript_generator.LOGICAL_OR]];
        _this.isInitialized = !1;
        for (var b in Order$$module$build$src$generators$javascript$javascript_generator) a = Order$$module$build$src$generators$javascript$javascript_generator[b], "string" !== typeof a && (_this["ORDER_" + b] = a);
        _this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments," + Object.getOwnPropertyNames(globalThis).join(","));
        return _this;
      }
      _createClass(JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator, [{
        key: "init",
        value: function init(a) {
          _get(_getPrototypeOf(JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator.prototype), "init", this).call(this, a);
          this.nameDB_ ? this.nameDB_.reset() : this.nameDB_ = new $.Names$$module$build$src$core$names(this.RESERVED_WORDS_);
          this.nameDB_.setVariableMap(a.getVariableMap());
          this.nameDB_.populateVariables(a);
          this.nameDB_.populateProcedures(a);
          var b = [];
          var c = $.allDeveloperVariables$$module$build$src$core$variables(a);
          for (var d = 0; d < c.length; d++) b.push(this.nameDB_.getName(c[d], $.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));
          a = $.allUsedVarModels$$module$build$src$core$variables(a);
          for (c = 0; c < a.length; c++) b.push(this.nameDB_.getName(a[c].getId(), $.NameType$$module$build$src$core$names.VARIABLE));
          b.length && (this.definitions_.variables = "var " + b.join(", ") + ";");
          this.isInitialized = !0;
        }
      }, {
        key: "finish",
        value: function finish(a) {
          var b = Object.values(this.definitions_);
          _get(_getPrototypeOf(JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator.prototype), "finish", this).call(this, a);
          this.isInitialized = !1;
          this.nameDB_.reset();
          return b.join("\n\n") + "\n\n\n" + a;
        }
      }, {
        key: "scrubNakedValue",
        value: function scrubNakedValue(a) {
          return a + ";\n";
        }
      }, {
        key: "quote_",
        value: function quote_(a) {
          a = a.replace(/\\/g, "\\\\").replace(/\n/g, "\\\n").replace(/'/g, "\\'");
          return "'" + a + "'";
        }
      }, {
        key: "multiline_quote_",
        value: function multiline_quote_(a) {
          return a.split(/\n/g).map(this.quote_).join(" + '\\n' +\n");
        }
      }, {
        key: "scrub_",
        value: function scrub_(a, b) {
          var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;
          var d = "";
          if (!a.outputConnection || !a.outputConnection.targetConnection) {
            var e = a.getCommentText();
            e && (e = $.wrap$$module$build$src$core$utils$string(e, this.COMMENT_WRAP - 3), d += this.prefixLines(e + "\n", "// "));
            for (var f = 0; f < a.inputList.length; f++) a.inputList[f].type === $.inputTypes$$module$build$src$core$inputs$input_types.VALUE && (e = a.inputList[f].connection.targetBlock()) && (e = this.allNestedComments(e)) && (d += this.prefixLines(e, "// "));
          }
          a = a.nextConnection && a.nextConnection.targetBlock();
          c = c ? "" : this.blockToCode(a);
          return d + b + c;
        }
      }, {
        key: "getAdjusted",
        value: function getAdjusted(a, b) {
          var c = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
          var d = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;
          var e = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : Order$$module$build$src$generators$javascript$javascript_generator.NONE;
          a.workspace.options.oneBasedIndex && c--;
          var f = a.workspace.options.oneBasedIndex ? "1" : "0";
          var g = e;
          0 < c ? g = Order$$module$build$src$generators$javascript$javascript_generator.ADDITION : 0 > c ? g = Order$$module$build$src$generators$javascript$javascript_generator.SUBTRACTION : d && (g = Order$$module$build$src$generators$javascript$javascript_generator.UNARY_NEGATION);
          a = this.valueToCode(a, b, g) || f;
          if (0 === c && !d) return a;
          if ($.isNumber$$module$build$src$core$utils$string(a)) return a = String(Number(a) + c), d && (a = String(-Number(a))), a;
          0 < c ? a = `${a} + ${c}` : 0 > c && (a = `${a} - ${-c}`);
          d && (a = c ? `-(${a})` : `-${a}`);
          Math.floor(e) >= Math.floor(g) && (a = `(${a})`);
          return a;
        }
      }]);
      return JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;
    }($.CodeGenerator$$module$build$src$core$generator),
    module$build$src$generators$javascript$javascript_generator = {};
  module$build$src$generators$javascript$javascript_generator.JavascriptGenerator = JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;
  module$build$src$generators$javascript$javascript_generator.Order = Order$$module$build$src$generators$javascript$javascript_generator;
  var module$build$src$generators$javascript$colour = {};
  module$build$src$generators$javascript$colour.colour_blend = colour_blend$$module$build$src$generators$javascript$colour;
  module$build$src$generators$javascript$colour.colour_picker = colour_picker$$module$build$src$generators$javascript$colour;
  module$build$src$generators$javascript$colour.colour_random = colour_random$$module$build$src$generators$javascript$colour;
  module$build$src$generators$javascript$colour.colour_rgb = colour_rgb$$module$build$src$generators$javascript$colour;
  var getSubstringIndex$$module$build$src$generators$javascript$lists = function getSubstringIndex$$module$build$src$generators$javascript$lists(a, b, c) {
      return "FIRST" === b ? "0" : "FROM_END" === b ? a + ".length - 1 - " + c : "LAST" === b ? a + ".length - 1" : c;
    },
    module$build$src$generators$javascript$lists = {};
  module$build$src$generators$javascript$lists.lists_create_empty = lists_create_empty$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_create_with = lists_create_with$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_getIndex = lists_getIndex$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_getSublist = lists_getSublist$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_indexOf = lists_indexOf$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_isEmpty = lists_isEmpty$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_length = lists_length$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_repeat = lists_repeat$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_reverse = lists_reverse$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_setIndex = lists_setIndex$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_sort = lists_sort$$module$build$src$generators$javascript$lists;
  module$build$src$generators$javascript$lists.lists_split = lists_split$$module$build$src$generators$javascript$lists;
  var controls_ifelse$$module$build$src$generators$javascript$logic = controls_if$$module$build$src$generators$javascript$logic,
    module$build$src$generators$javascript$logic = {};
  module$build$src$generators$javascript$logic.controls_if = controls_if$$module$build$src$generators$javascript$logic;
  module$build$src$generators$javascript$logic.controls_ifelse = controls_if$$module$build$src$generators$javascript$logic;
  module$build$src$generators$javascript$logic.logic_boolean = logic_boolean$$module$build$src$generators$javascript$logic;
  module$build$src$generators$javascript$logic.logic_compare = logic_compare$$module$build$src$generators$javascript$logic;
  module$build$src$generators$javascript$logic.logic_negate = logic_negate$$module$build$src$generators$javascript$logic;
  module$build$src$generators$javascript$logic.logic_null = logic_null$$module$build$src$generators$javascript$logic;
  module$build$src$generators$javascript$logic.logic_operation = logic_operation$$module$build$src$generators$javascript$logic;
  module$build$src$generators$javascript$logic.logic_ternary = logic_ternary$$module$build$src$generators$javascript$logic;
  var controls_repeat$$module$build$src$generators$javascript$loops = controls_repeat_ext$$module$build$src$generators$javascript$loops,
    module$build$src$generators$javascript$loops = {};
  module$build$src$generators$javascript$loops.controls_flow_statements = controls_flow_statements$$module$build$src$generators$javascript$loops;
  module$build$src$generators$javascript$loops.controls_for = controls_for$$module$build$src$generators$javascript$loops;
  module$build$src$generators$javascript$loops.controls_forEach = controls_forEach$$module$build$src$generators$javascript$loops;
  module$build$src$generators$javascript$loops.controls_repeat = controls_repeat_ext$$module$build$src$generators$javascript$loops;
  module$build$src$generators$javascript$loops.controls_repeat_ext = controls_repeat_ext$$module$build$src$generators$javascript$loops;
  module$build$src$generators$javascript$loops.controls_whileUntil = controls_whileUntil$$module$build$src$generators$javascript$loops;
  var math_round$$module$build$src$generators$javascript$math = math_single$$module$build$src$generators$javascript$math,
    math_trig$$module$build$src$generators$javascript$math = math_single$$module$build$src$generators$javascript$math,
    module$build$src$generators$javascript$math = {};
  module$build$src$generators$javascript$math.math_arithmetic = math_arithmetic$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_atan2 = math_atan2$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_change = math_change$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_constant = math_constant$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_constrain = math_constrain$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_modulo = math_modulo$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_number = math_number$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_number_property = math_number_property$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_on_list = math_on_list$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_random_float = math_random_float$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_random_int = math_random_int$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_round = math_single$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_single = math_single$$module$build$src$generators$javascript$math;
  module$build$src$generators$javascript$math.math_trig = math_single$$module$build$src$generators$javascript$math;
  var procedures_defnoreturn$$module$build$src$generators$javascript$procedures = procedures_defreturn$$module$build$src$generators$javascript$procedures,
    module$build$src$generators$javascript$procedures = {};
  module$build$src$generators$javascript$procedures.procedures_callnoreturn = procedures_callnoreturn$$module$build$src$generators$javascript$procedures;
  module$build$src$generators$javascript$procedures.procedures_callreturn = procedures_callreturn$$module$build$src$generators$javascript$procedures;
  module$build$src$generators$javascript$procedures.procedures_defnoreturn = procedures_defreturn$$module$build$src$generators$javascript$procedures;
  module$build$src$generators$javascript$procedures.procedures_defreturn = procedures_defreturn$$module$build$src$generators$javascript$procedures;
  module$build$src$generators$javascript$procedures.procedures_ifreturn = procedures_ifreturn$$module$build$src$generators$javascript$procedures;
  var strRegExp$$module$build$src$generators$javascript$text = /^\s*'([^']|\\')*'\s*$/,
    forceString$$module$build$src$generators$javascript$text = function forceString$$module$build$src$generators$javascript$text(a) {
      return strRegExp$$module$build$src$generators$javascript$text.test(a) ? [a, Order$$module$build$src$generators$javascript$javascript_generator.ATOMIC] : ["String(" + a + ")", Order$$module$build$src$generators$javascript$javascript_generator.FUNCTION_CALL];
    },
    getSubstringIndex$$module$build$src$generators$javascript$text = function getSubstringIndex$$module$build$src$generators$javascript$text(a, b, c) {
      return "FIRST" === b ? "0" : "FROM_END" === b ? a + ".length - 1 - " + c : "LAST" === b ? a + ".length - 1" : c;
    },
    text_prompt$$module$build$src$generators$javascript$text = text_prompt_ext$$module$build$src$generators$javascript$text,
    module$build$src$generators$javascript$text = {};
  module$build$src$generators$javascript$text.text = text$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_append = text_append$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_changeCase = text_changeCase$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_charAt = text_charAt$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_count = text_count$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_getSubstring = text_getSubstring$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_indexOf = text_indexOf$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_isEmpty = text_isEmpty$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_join = text_join$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_length = text_length$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_multiline = text_multiline$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_print = text_print$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_prompt = text_prompt_ext$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_prompt_ext = text_prompt_ext$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_replace = text_replace$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_reverse = text_reverse$$module$build$src$generators$javascript$text;
  module$build$src$generators$javascript$text.text_trim = text_trim$$module$build$src$generators$javascript$text;
  var module$build$src$generators$javascript$variables = {};
  module$build$src$generators$javascript$variables.variables_get = variables_get$$module$build$src$generators$javascript$variables;
  module$build$src$generators$javascript$variables.variables_set = variables_set$$module$build$src$generators$javascript$variables;
  var module$build$src$generators$javascript$variables_dynamic = {};
  module$build$src$generators$javascript$variables_dynamic.variables_get_dynamic = variables_get$$module$build$src$generators$javascript$variables;
  module$build$src$generators$javascript$variables_dynamic.variables_set_dynamic = variables_set$$module$build$src$generators$javascript$variables;
  var javascriptGenerator$$module$build$src$generators$javascript = new JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator(),
    generators$$module$build$src$generators$javascript = Object.assign({}, module$build$src$generators$javascript$colour, module$build$src$generators$javascript$lists, module$build$src$generators$javascript$logic, module$build$src$generators$javascript$loops, module$build$src$generators$javascript$math, module$build$src$generators$javascript$procedures, module$build$src$generators$javascript$text, module$build$src$generators$javascript$variables, module$build$src$generators$javascript$variables_dynamic);
  for (var a in generators$$module$build$src$generators$javascript) javascriptGenerator$$module$build$src$generators$javascript.forBlock[a] = generators$$module$build$src$generators$javascript[a];
  var module$build$src$generators$javascript = {};
  module$build$src$generators$javascript.JavascriptGenerator = JavascriptGenerator$$module$build$src$generators$javascript$javascript_generator;
  module$build$src$generators$javascript.Order = Order$$module$build$src$generators$javascript$javascript_generator;
  module$build$src$generators$javascript.javascriptGenerator = javascriptGenerator$$module$build$src$generators$javascript;
  module$build$src$generators$javascript.__namespace__ = $;
  return module$build$src$generators$javascript;
});

/***/ }),

/***/ 77349:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var _slicedToArray = (__webpack_require__(25112)["default"]);
var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _construct = (__webpack_require__(92206)["default"]);
var _toConsumableArray = (__webpack_require__(49648)["default"]);
__webpack_require__(45398);
__webpack_require__(3650);
__webpack_require__(36585);
__webpack_require__(60228);
__webpack_require__(76034);
__webpack_require__(54333);
__webpack_require__(30050);
__webpack_require__(70560);
__webpack_require__(12826);
__webpack_require__(64043);
__webpack_require__(22462);
__webpack_require__(57267);
__webpack_require__(28436);
__webpack_require__(7409);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(13440);
__webpack_require__(21057);
__webpack_require__(34338);
/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */

(function (global, factory) {
   true ? module.exports = factory() : 0;
})(this, function () {
  'use strict';

  var entries = Object.entries,
    setPrototypeOf = Object.setPrototypeOf,
    isFrozen = Object.isFrozen,
    getPrototypeOf = Object.getPrototypeOf,
    getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
  var freeze = Object.freeze,
    seal = Object.seal,
    create = Object.create; // eslint-disable-line import/no-mutable-exports

  var _ref = typeof Reflect !== 'undefined' && Reflect,
    apply = _ref.apply,
    construct = _ref.construct;
  if (!freeze) {
    freeze = function freeze(x) {
      return x;
    };
  }
  if (!seal) {
    seal = function seal(x) {
      return x;
    };
  }
  if (!apply) {
    apply = function apply(fun, thisValue, args) {
      return fun.apply(thisValue, args);
    };
  }
  if (!construct) {
    construct = function construct(Func, args) {
      return _construct(Func, _toConsumableArray(args));
    };
  }
  var arrayForEach = unapply(Array.prototype.forEach);
  var arrayPop = unapply(Array.prototype.pop);
  var arrayPush = unapply(Array.prototype.push);
  var stringToLowerCase = unapply(String.prototype.toLowerCase);
  var stringToString = unapply(String.prototype.toString);
  var stringMatch = unapply(String.prototype.match);
  var stringReplace = unapply(String.prototype.replace);
  var stringIndexOf = unapply(String.prototype.indexOf);
  var stringTrim = unapply(String.prototype.trim);
  var regExpTest = unapply(RegExp.prototype.test);
  var typeErrorCreate = unconstruct(TypeError);
  /**
   * Creates a new function that calls the given function with a specified thisArg and arguments.
   *
   * @param {Function} func - The function to be wrapped and called.
   * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.
   */

  function unapply(func) {
    return function (thisArg) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      return apply(func, thisArg, args);
    };
  }
  /**
   * Creates a new function that constructs an instance of the given constructor function with the provided arguments.
   *
   * @param {Function} func - The constructor function to be wrapped and called.
   * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.
   */

  function unconstruct(func) {
    return function () {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }
      return construct(func, args);
    };
  }
  /**
   * Add properties to a lookup table
   *
   * @param {Object} set - The set to which elements will be added.
   * @param {Array} array - The array containing elements to be added to the set.
   * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.
   * @returns {Object} The modified set with added elements.
   */

  function addToSet(set, array) {
    var transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;
    if (setPrototypeOf) {
      // Make 'in' and truthy checks like Boolean(set.constructor)
      // independent of any properties defined on Object.prototype.
      // Prevent prototype setters from intercepting set as a this value.
      setPrototypeOf(set, null);
    }
    var l = array.length;
    while (l--) {
      var element = array[l];
      if (typeof element === 'string') {
        var lcElement = transformCaseFunc(element);
        if (lcElement !== element) {
          // Config presets (e.g. tags.js, attrs.js) are immutable.
          if (!isFrozen(array)) {
            array[l] = lcElement;
          }
          element = lcElement;
        }
      }
      set[element] = true;
    }
    return set;
  }
  /**
   * Shallow clone an object
   *
   * @param {Object} object - The object to be cloned.
   * @returns {Object} A new object that copies the original.
   */

  function clone(object) {
    var newObject = create(null);
    var _iterator = _createForOfIteratorHelper(entries(object)),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var _step$value = _slicedToArray(_step.value, 2),
          property = _step$value[0],
          value = _step$value[1];
        if (getOwnPropertyDescriptor(object, property) !== undefined) {
          newObject[property] = value;
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    return newObject;
  }
  /**
   * This method automatically checks if the prop is function or getter and behaves accordingly.
   *
   * @param {Object} object - The object to look up the getter function in its prototype chain.
   * @param {String} prop - The property name for which to find the getter function.
   * @returns {Function} The getter function found in the prototype chain or a fallback function.
   */

  function lookupGetter(object, prop) {
    while (object !== null) {
      var desc = getOwnPropertyDescriptor(object, prop);
      if (desc) {
        if (desc.get) {
          return unapply(desc.get);
        }
        if (typeof desc.value === 'function') {
          return unapply(desc.value);
        }
      }
      object = getPrototypeOf(object);
    }
    function fallbackValue(element) {
      console.warn('fallback value for', element);
      return null;
    }
    return fallbackValue;
  }
  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG

  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);
  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.
  // We still need to know them so that we can do namespace
  // checks properly in case one wants to add them to
  // allow-list.

  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);
  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']); // Similarly to SVG, we want to know all MathML elements,
  // even those that we disallow by default.

  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);
  var text = freeze(['#text']);
  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);
  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);
  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);
  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);
  var MUSTACHE_EXPR = seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode

  var ERB_EXPR = seal(/<%[\w\W]*|[\w\W]*%>/gm);
  var TMPLIT_EXPR = seal(/\${[\w\W]*}/gm);
  var DATA_ATTR = seal(/^data-[\-\w.\u00B7-\uFFFF]/); // eslint-disable-line no-useless-escape

  var ARIA_ATTR = seal(/^aria-[\-\w]+$/); // eslint-disable-line no-useless-escape

  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i // eslint-disable-line no-useless-escape
  );
  var IS_SCRIPT_OR_DATA = seal(/^(?:\w+script|data):/i);
  var ATTR_WHITESPACE = seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g // eslint-disable-line no-control-regex
  );
  var DOCTYPE_NAME = seal(/^html$/i);
  var EXPRESSIONS = /*#__PURE__*/Object.freeze({
    __proto__: null,
    MUSTACHE_EXPR: MUSTACHE_EXPR,
    ERB_EXPR: ERB_EXPR,
    TMPLIT_EXPR: TMPLIT_EXPR,
    DATA_ATTR: DATA_ATTR,
    ARIA_ATTR: ARIA_ATTR,
    IS_ALLOWED_URI: IS_ALLOWED_URI,
    IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,
    ATTR_WHITESPACE: ATTR_WHITESPACE,
    DOCTYPE_NAME: DOCTYPE_NAME
  });
  var getGlobal = function getGlobal() {
    return typeof window === 'undefined' ? null : window;
  };
  /**
   * Creates a no-op policy for internal use only.
   * Don't export this function outside this module!
   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.
   * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).
   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types
   * are not supported or creating the policy failed).
   */

  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {
    if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {
      return null;
    } // Allow the callers to control the unique policy name
    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.
    // Policy creation with duplicate names throws in Trusted Types.

    var suffix = null;
    var ATTR_NAME = 'data-tt-policy-suffix';
    if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {
      suffix = purifyHostElement.getAttribute(ATTR_NAME);
    }
    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');
    try {
      return trustedTypes.createPolicy(policyName, {
        createHTML(html) {
          return html;
        },
        createScriptURL(scriptUrl) {
          return scriptUrl;
        }
      });
    } catch (_) {
      // Policy creation failed (most likely another DOMPurify script has
      // already run). Skip creating the policy, as this will only cause errors
      // if TT are enforced.
      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');
      return null;
    }
  };
  function createDOMPurify() {
    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();
    var DOMPurify = function DOMPurify(root) {
      return createDOMPurify(root);
    };
    /**
     * Version label, exposed for easier checks
     * if DOMPurify is up to date or not
     */

    DOMPurify.version = '3.0.6';
    /**
     * Array of elements that DOMPurify removed during sanitation.
     * Empty if nothing was removed.
     */

    DOMPurify.removed = [];
    if (!window || !window.document || window.document.nodeType !== 9) {
      // Not running in a browser, provide a factory function
      // so that you can pass your own Window
      DOMPurify.isSupported = false;
      return DOMPurify;
    }
    var document = window.document;
    var originalDocument = document;
    var currentScript = originalDocument.currentScript;
    var DocumentFragment = window.DocumentFragment,
      HTMLTemplateElement = window.HTMLTemplateElement,
      Node = window.Node,
      Element = window.Element,
      NodeFilter = window.NodeFilter,
      _window$NamedNodeMap = window.NamedNodeMap,
      NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,
      HTMLFormElement = window.HTMLFormElement,
      DOMParser = window.DOMParser,
      trustedTypes = window.trustedTypes;
    var ElementPrototype = Element.prototype;
    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');
    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');
    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');
    var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a
    // new document created via createHTMLDocument. As per the spec
    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)
    // a new empty registry is used when creating a template contents owner
    // document, so we use that as our parent document to ensure nothing
    // is inherited.

    if (typeof HTMLTemplateElement === 'function') {
      var template = document.createElement('template');
      if (template.content && template.content.ownerDocument) {
        document = template.content.ownerDocument;
      }
    }
    var trustedTypesPolicy;
    var emptyHTML = '';
    var _document = document,
      implementation = _document.implementation,
      createNodeIterator = _document.createNodeIterator,
      createDocumentFragment = _document.createDocumentFragment,
      getElementsByTagName = _document.getElementsByTagName;
    var importNode = originalDocument.importNode;
    var hooks = {};
    /**
     * Expose whether this browser supports running the full DOMPurify.
     */

    DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;
    var MUSTACHE_EXPR = EXPRESSIONS.MUSTACHE_EXPR,
      ERB_EXPR = EXPRESSIONS.ERB_EXPR,
      TMPLIT_EXPR = EXPRESSIONS.TMPLIT_EXPR,
      DATA_ATTR = EXPRESSIONS.DATA_ATTR,
      ARIA_ATTR = EXPRESSIONS.ARIA_ATTR,
      IS_SCRIPT_OR_DATA = EXPRESSIONS.IS_SCRIPT_OR_DATA,
      ATTR_WHITESPACE = EXPRESSIONS.ATTR_WHITESPACE;
    var IS_ALLOWED_URI$1 = EXPRESSIONS.IS_ALLOWED_URI;
    /**
     * We consider the elements and attributes below to be safe. Ideally
     * don't add any new ones but feel free to remove unwanted ones.
     */

    /* allowed element names */

    var ALLOWED_TAGS = null;
    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));
    /* Allowed attribute names */

    var ALLOWED_ATTR = null;
    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));
    /*
     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.
     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)
     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)
     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.
     */

    var CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {
      tagNameCheck: {
        writable: true,
        configurable: false,
        enumerable: true,
        value: null
      },
      attributeNameCheck: {
        writable: true,
        configurable: false,
        enumerable: true,
        value: null
      },
      allowCustomizedBuiltInElements: {
        writable: true,
        configurable: false,
        enumerable: true,
        value: false
      }
    }));
    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */

    var FORBID_TAGS = null;
    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */

    var FORBID_ATTR = null;
    /* Decide if ARIA attributes are okay */

    var ALLOW_ARIA_ATTR = true;
    /* Decide if custom data attributes are okay */

    var ALLOW_DATA_ATTR = true;
    /* Decide if unknown protocols are okay */

    var ALLOW_UNKNOWN_PROTOCOLS = false;
    /* Decide if self-closing tags in attributes are allowed.
     * Usually removed due to a mXSS issue in jQuery 3.0 */

    var ALLOW_SELF_CLOSE_IN_ATTR = true;
    /* Output should be safe for common template engines.
     * This means, DOMPurify removes data attributes, mustaches and ERB
     */

    var SAFE_FOR_TEMPLATES = false;
    /* Decide if document with <html>... should be returned */

    var WHOLE_DOCUMENT = false;
    /* Track whether config is already set on this instance of DOMPurify. */

    var SET_CONFIG = false;
    /* Decide if all elements (e.g. style, script) must be children of
     * document.body. By default, browsers might move them to document.head */

    var FORCE_BODY = false;
    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html
     * string (or a TrustedHTML object if Trusted Types are supported).
     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead
     */

    var RETURN_DOM = false;
    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html
     * string  (or a TrustedHTML object if Trusted Types are supported) */

    var RETURN_DOM_FRAGMENT = false;
    /* Try to return a Trusted Type object instead of a string, return a string in
     * case Trusted Types are not supported  */

    var RETURN_TRUSTED_TYPE = false;
    /* Output should be free from DOM clobbering attacks?
     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.
     */

    var SANITIZE_DOM = true;
    /* Achieve full DOM Clobbering protection by isolating the namespace of named
     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.
     *
     * HTML/DOM spec rules that enable DOM Clobbering:
     *   - Named Access on Window (7.3.3)
     *   - DOM Tree Accessors (3.1.5)
     *   - Form Element Parent-Child Relations (4.10.3)
     *   - Iframe srcdoc / Nested WindowProxies (4.8.5)
     *   - HTMLCollection (4.2.10.2)
     *
     * Namespace isolation is implemented by prefixing `id` and `name` attributes
     * with a constant string, i.e., `user-content-`
     */

    var SANITIZE_NAMED_PROPS = false;
    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';
    /* Keep element content when removing element? */

    var KEEP_CONTENT = true;
    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead
     * of importing it into a new Document and returning a sanitized copy */

    var IN_PLACE = false;
    /* Allow usage of profiles like html, svg and mathMl */

    var USE_PROFILES = {};
    /* Tags to ignore content of when KEEP_CONTENT is true */

    var FORBID_CONTENTS = null;
    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);
    /* Tags that are safe for data: URIs */

    var DATA_URI_TAGS = null;
    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);
    /* Attributes safe for values like "javascript:" */

    var URI_SAFE_ATTRIBUTES = null;
    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);
    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';
    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';
    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';
    /* Document namespace */

    var NAMESPACE = HTML_NAMESPACE;
    var IS_EMPTY_INPUT = false;
    /* Allowed XHTML+XML namespaces */

    var ALLOWED_NAMESPACES = null;
    var DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);
    /* Parsing of strict XHTML documents */

    var PARSER_MEDIA_TYPE = null;
    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];
    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';
    var transformCaseFunc = null;
    /* Keep a reference to config to pass to hooks */

    var CONFIG = null;
    /* Ideally, do not touch anything below this line */

    /* ______________________________________________ */

    var formElement = document.createElement('form');
    var isRegexOrFunction = function isRegexOrFunction(testValue) {
      return testValue instanceof RegExp || testValue instanceof Function;
    };
    /**
     * _parseConfig
     *
     * @param  {Object} cfg optional config literal
     */
    // eslint-disable-next-line complexity

    var _parseConfig = function _parseConfig() {
      var cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      if (CONFIG && CONFIG === cfg) {
        return;
      }
      /* Shield configuration object from tampering */

      if (!cfg || typeof cfg !== 'object') {
        cfg = {};
      }
      /* Shield configuration object from prototype pollution */

      cfg = clone(cfg);
      PARSER_MEDIA_TYPE =
      // eslint-disable-next-line unicorn/prefer-includes
      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.

      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;
      /* Set configuration parameters */

      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;
      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;
      ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;
      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),
      // eslint-disable-line indent
      cfg.ADD_URI_SAFE_ATTR,
      // eslint-disable-line indent
      transformCaseFunc // eslint-disable-line indent
      ) // eslint-disable-line indent
      : DEFAULT_URI_SAFE_ATTRIBUTES;
      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS),
      // eslint-disable-line indent
      cfg.ADD_DATA_URI_TAGS,
      // eslint-disable-line indent
      transformCaseFunc // eslint-disable-line indent
      ) // eslint-disable-line indent
      : DEFAULT_DATA_URI_TAGS;
      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;
      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};
      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};
      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;
      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true

      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true

      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false

      ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true

      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false

      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false

      RETURN_DOM = cfg.RETURN_DOM || false; // Default false

      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false

      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false

      FORCE_BODY = cfg.FORCE_BODY || false; // Default false

      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true

      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false

      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true

      IN_PLACE = cfg.IN_PLACE || false; // Default false

      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;
      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;
      CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};
      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {
        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;
      }
      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {
        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;
      }
      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {
        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;
      }
      if (SAFE_FOR_TEMPLATES) {
        ALLOW_DATA_ATTR = false;
      }
      if (RETURN_DOM_FRAGMENT) {
        RETURN_DOM = true;
      }
      /* Parse profile info */

      if (USE_PROFILES) {
        ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));
        ALLOWED_ATTR = [];
        if (USE_PROFILES.html === true) {
          addToSet(ALLOWED_TAGS, html$1);
          addToSet(ALLOWED_ATTR, html);
        }
        if (USE_PROFILES.svg === true) {
          addToSet(ALLOWED_TAGS, svg$1);
          addToSet(ALLOWED_ATTR, svg);
          addToSet(ALLOWED_ATTR, xml);
        }
        if (USE_PROFILES.svgFilters === true) {
          addToSet(ALLOWED_TAGS, svgFilters);
          addToSet(ALLOWED_ATTR, svg);
          addToSet(ALLOWED_ATTR, xml);
        }
        if (USE_PROFILES.mathMl === true) {
          addToSet(ALLOWED_TAGS, mathMl$1);
          addToSet(ALLOWED_ATTR, mathMl);
          addToSet(ALLOWED_ATTR, xml);
        }
      }
      /* Merge configuration parameters */

      if (cfg.ADD_TAGS) {
        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {
          ALLOWED_TAGS = clone(ALLOWED_TAGS);
        }
        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);
      }
      if (cfg.ADD_ATTR) {
        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {
          ALLOWED_ATTR = clone(ALLOWED_ATTR);
        }
        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);
      }
      if (cfg.ADD_URI_SAFE_ATTR) {
        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);
      }
      if (cfg.FORBID_CONTENTS) {
        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {
          FORBID_CONTENTS = clone(FORBID_CONTENTS);
        }
        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);
      }
      /* Add #text in case KEEP_CONTENT is set to true */

      if (KEEP_CONTENT) {
        ALLOWED_TAGS['#text'] = true;
      }
      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */

      if (WHOLE_DOCUMENT) {
        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);
      }
      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */

      if (ALLOWED_TAGS.table) {
        addToSet(ALLOWED_TAGS, ['tbody']);
        delete FORBID_TAGS.tbody;
      }
      if (cfg.TRUSTED_TYPES_POLICY) {
        if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {
          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
        }
        if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {
          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
        } // Overwrite existing TrustedTypes policy.

        trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY; // Sign local variables required by `sanitize`.

        emptyHTML = trustedTypesPolicy.createHTML('');
      } else {
        // Uninitialized policy, attempt to initialize the internal dompurify policy.
        if (trustedTypesPolicy === undefined) {
          trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);
        } // If creating the internal policy succeeded sign internal variables.

        if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {
          emptyHTML = trustedTypesPolicy.createHTML('');
        }
      } // Prevent further manipulation of configuration.
      // Not available in IE8, Safari 5, etc.

      if (freeze) {
        freeze(cfg);
      }
      CONFIG = cfg;
    };
    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);
    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML
    // namespace. We need to specify them explicitly
    // so that they don't get erroneously deleted from
    // HTML namespace.

    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);
    /* Keep track of all possible SVG and MathML tags
     * so that we can perform the namespace checks
     * correctly. */

    var ALL_SVG_TAGS = addToSet({}, svg$1);
    addToSet(ALL_SVG_TAGS, svgFilters);
    addToSet(ALL_SVG_TAGS, svgDisallowed);
    var ALL_MATHML_TAGS = addToSet({}, mathMl$1);
    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);
    /**
     * @param  {Element} element a DOM element whose namespace is being checked
     * @returns {boolean} Return false if the element has a
     *  namespace that a spec-compliant parser would never
     *  return. Return true otherwise.
     */

    var _checkValidNamespace = function _checkValidNamespace(element) {
      var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode
      // can be null. We just simulate parent in this case.

      if (!parent || !parent.tagName) {
        parent = {
          namespaceURI: NAMESPACE,
          tagName: 'template'
        };
      }
      var tagName = stringToLowerCase(element.tagName);
      var parentTagName = stringToLowerCase(parent.tagName);
      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {
        return false;
      }
      if (element.namespaceURI === SVG_NAMESPACE) {
        // The only way to switch from HTML namespace to SVG
        // is via <svg>. If it happens via any other tag, then
        // it should be killed.
        if (parent.namespaceURI === HTML_NAMESPACE) {
          return tagName === 'svg';
        } // The only way to switch from MathML to SVG is via`
        // svg if parent is either <annotation-xml> or MathML
        // text integration points.

        if (parent.namespaceURI === MATHML_NAMESPACE) {
          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);
        } // We only allow elements that are defined in SVG
        // spec. All others are disallowed in SVG namespace.

        return Boolean(ALL_SVG_TAGS[tagName]);
      }
      if (element.namespaceURI === MATHML_NAMESPACE) {
        // The only way to switch from HTML namespace to MathML
        // is via <math>. If it happens via any other tag, then
        // it should be killed.
        if (parent.namespaceURI === HTML_NAMESPACE) {
          return tagName === 'math';
        } // The only way to switch from SVG to MathML is via
        // <math> and HTML integration points

        if (parent.namespaceURI === SVG_NAMESPACE) {
          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];
        } // We only allow elements that are defined in MathML
        // spec. All others are disallowed in MathML namespace.

        return Boolean(ALL_MATHML_TAGS[tagName]);
      }
      if (element.namespaceURI === HTML_NAMESPACE) {
        // The only way to switch from SVG to HTML is via
        // HTML integration points, and from MathML to HTML
        // is via MathML text integration points
        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {
          return false;
        }
        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {
          return false;
        } // We disallow tags that are specific for MathML
        // or SVG and should never appear in HTML namespace

        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);
      } // For XHTML and XML documents that support custom namespaces

      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {
        return true;
      } // The code should never reach this place (this means
      // that the element somehow got namespace that is not
      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).
      // Return false just in case.

      return false;
    };
    /**
     * _forceRemove
     *
     * @param  {Node} node a DOM node
     */

    var _forceRemove = function _forceRemove(node) {
      arrayPush(DOMPurify.removed, {
        element: node
      });
      try {
        // eslint-disable-next-line unicorn/prefer-dom-node-remove
        node.parentNode.removeChild(node);
      } catch (_) {
        node.remove();
      }
    };
    /**
     * _removeAttribute
     *
     * @param  {String} name an Attribute name
     * @param  {Node} node a DOM node
     */

    var _removeAttribute = function _removeAttribute(name, node) {
      try {
        arrayPush(DOMPurify.removed, {
          attribute: node.getAttributeNode(name),
          from: node
        });
      } catch (_) {
        arrayPush(DOMPurify.removed, {
          attribute: null,
          from: node
        });
      }
      node.removeAttribute(name); // We void attribute values for unremovable "is"" attributes

      if (name === 'is' && !ALLOWED_ATTR[name]) {
        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {
          try {
            _forceRemove(node);
          } catch (_) {}
        } else {
          try {
            node.setAttribute(name, '');
          } catch (_) {}
        }
      }
    };
    /**
     * _initDocument
     *
     * @param  {String} dirty a string of dirty markup
     * @return {Document} a DOM, filled with the dirty markup
     */

    var _initDocument = function _initDocument(dirty) {
      /* Create a HTML document */
      var doc = null;
      var leadingWhitespace = null;
      if (FORCE_BODY) {
        dirty = '<remove></remove>' + dirty;
      } else {
        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */
        var matches = stringMatch(dirty, /^[\r\n\t ]+/);
        leadingWhitespace = matches && matches[0];
      }
      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {
        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)
        dirty = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + dirty + '</body></html>';
      }
      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;
      /*
       * Use the DOMParser API by default, fallback later if needs be
       * DOMParser not work for svg when has multiple root element.
       */

      if (NAMESPACE === HTML_NAMESPACE) {
        try {
          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);
        } catch (_) {}
      }
      /* Use createHTMLDocument in case DOMParser is not available */

      if (!doc || !doc.documentElement) {
        doc = implementation.createDocument(NAMESPACE, 'template', null);
        try {
          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;
        } catch (_) {// Syntax error if dirtyPayload is invalid xml
        }
      }
      var body = doc.body || doc.documentElement;
      if (dirty && leadingWhitespace) {
        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);
      }
      /* Work on whole document or just its body */

      if (NAMESPACE === HTML_NAMESPACE) {
        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];
      }
      return WHOLE_DOCUMENT ? doc.documentElement : body;
    };
    /**
     * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.
     *
     * @param  {Node} root The root element or node to start traversing on.
     * @return {NodeIterator} The created NodeIterator
     */

    var _createNodeIterator = function _createNodeIterator(root) {
      return createNodeIterator.call(root.ownerDocument || root, root,
      // eslint-disable-next-line no-bitwise
      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null);
    };
    /**
     * _isClobbered
     *
     * @param  {Node} elm element to check for clobbering attacks
     * @return {Boolean} true if clobbered, false if safe
     */

    var _isClobbered = function _isClobbered(elm) {
      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');
    };
    /**
     * Checks whether the given object is a DOM node.
     *
     * @param  {Node} object object to check whether it's a DOM node
     * @return {Boolean} true is object is a DOM node
     */

    var _isNode = function _isNode(object) {
      return typeof Node === 'function' && object instanceof Node;
    };
    /**
     * _executeHook
     * Execute user configurable hooks
     *
     * @param  {String} entryPoint  Name of the hook's entry point
     * @param  {Node} currentNode node to work on with the hook
     * @param  {Object} data additional hook parameters
     */

    var _executeHook = function _executeHook(entryPoint, currentNode, data) {
      if (!hooks[entryPoint]) {
        return;
      }
      arrayForEach(hooks[entryPoint], function (hook) {
        hook.call(DOMPurify, currentNode, data, CONFIG);
      });
    };
    /**
     * _sanitizeElements
     *
     * @protect nodeName
     * @protect textContent
     * @protect removeChild
     *
     * @param   {Node} currentNode to check for permission to exist
     * @return  {Boolean} true if node was killed, false if left alive
     */

    var _sanitizeElements = function _sanitizeElements(currentNode) {
      var content = null;
      /* Execute a hook if present */

      _executeHook('beforeSanitizeElements', currentNode, null);
      /* Check if element is clobbered or can clobber */

      if (_isClobbered(currentNode)) {
        _forceRemove(currentNode);
        return true;
      }
      /* Now let's check the element's type and name */

      var tagName = transformCaseFunc(currentNode.nodeName);
      /* Execute a hook if present */

      _executeHook('uponSanitizeElement', currentNode, {
        tagName,
        allowedTags: ALLOWED_TAGS
      });
      /* Detect mXSS attempts abusing namespace confusion */

      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\w]/g, currentNode.innerHTML) && regExpTest(/<[/\w]/g, currentNode.textContent)) {
        _forceRemove(currentNode);
        return true;
      }
      /* Remove element if anything forbids its presence */

      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {
        /* Check if we have a custom element to handle */
        if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {
          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {
            return false;
          }
          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {
            return false;
          }
        }
        /* Keep content except for bad-listed elements */

        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {
          var parentNode = getParentNode(currentNode) || currentNode.parentNode;
          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;
          if (childNodes && parentNode) {
            var childCount = childNodes.length;
            for (var i = childCount - 1; i >= 0; --i) {
              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));
            }
          }
        }
        _forceRemove(currentNode);
        return true;
      }
      /* Check whether element has a valid namespace */

      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {
        _forceRemove(currentNode);
        return true;
      }
      /* Make sure that older browsers don't get fallback-tag mXSS */

      if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\/no(script|embed|frames)/i, currentNode.innerHTML)) {
        _forceRemove(currentNode);
        return true;
      }
      /* Sanitize element content to be template-safe */

      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {
        /* Get the element's text content */
        content = currentNode.textContent;
        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], function (expr) {
          content = stringReplace(content, expr, ' ');
        });
        if (currentNode.textContent !== content) {
          arrayPush(DOMPurify.removed, {
            element: currentNode.cloneNode()
          });
          currentNode.textContent = content;
        }
      }
      /* Execute a hook if present */

      _executeHook('afterSanitizeElements', currentNode, null);
      return false;
    };
    /**
     * _isValidAttribute
     *
     * @param  {string} lcTag Lowercase tag name of containing element.
     * @param  {string} lcName Lowercase attribute name.
     * @param  {string} value Attribute value.
     * @return {Boolean} Returns true if `value` is valid, otherwise false.
     */
    // eslint-disable-next-line complexity

    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {
      /* Make sure attribute cannot clobber */
      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {
        return false;
      }
      /* Allow valid data-* attributes: At least one character after "-"
          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)
          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)
          We don't need to check the value; it's always URI safe. */

      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ;else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ;else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {
        if (
        // First condition does a very basic check if a) it's basically a valid custom element tagname AND
        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck
        _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||
        // Alternative, second condition checks if it's an `is`-attribute, AND
        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck
        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ;else {
          return false;
        }
        /* Check value is safe. First, is attr inert? If so, is safe */
      } else if (URI_SAFE_ATTRIBUTES[lcName]) ;else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ;else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ;else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ;else if (value) {
        return false;
      } else ;
      return true;
    };
    /**
     * _isBasicCustomElement
     * checks if at least one dash is included in tagName, and it's not the first char
     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name
     *
     * @param {string} tagName name of the tag of the node to sanitize
     * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.
     */

    var _isBasicCustomElement = function _isBasicCustomElement(tagName) {
      return tagName.indexOf('-') > 0;
    };
    /**
     * _sanitizeAttributes
     *
     * @protect attributes
     * @protect nodeName
     * @protect removeAttribute
     * @protect setAttribute
     *
     * @param  {Node} currentNode to sanitize
     */

    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {
      /* Execute a hook if present */
      _executeHook('beforeSanitizeAttributes', currentNode, null);
      var attributes = currentNode.attributes;
      /* Check if we have attributes; if not we might have a text node */

      if (!attributes) {
        return;
      }
      var hookEvent = {
        attrName: '',
        attrValue: '',
        keepAttr: true,
        allowedAttributes: ALLOWED_ATTR
      };
      var l = attributes.length;
      /* Go backwards over all attributes; safely remove bad ones */
      var _loop = function _loop() {
          var attr = attributes[l];
          var name = attr.name,
            namespaceURI = attr.namespaceURI,
            attrValue = attr.value;
          var lcName = transformCaseFunc(name);
          var value = name === 'value' ? attrValue : stringTrim(attrValue);
          /* Execute a hook if present */

          hookEvent.attrName = lcName;
          hookEvent.attrValue = value;
          hookEvent.keepAttr = true;
          hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set

          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);
          value = hookEvent.attrValue;
          /* Did the hooks approve of the attribute? */

          if (hookEvent.forceKeepAttr) {
            return 0; // continue
          }
          /* Remove attribute */

          _removeAttribute(name, currentNode);
          /* Did the hooks approve of the attribute? */

          if (!hookEvent.keepAttr) {
            return 0; // continue
          }
          /* Work around a security issue in jQuery 3.0 */

          if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\/>/i, value)) {
            _removeAttribute(name, currentNode);
            return 0; // continue
          }
          /* Sanitize attribute content to be template-safe */

          if (SAFE_FOR_TEMPLATES) {
            arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], function (expr) {
              value = stringReplace(value, expr, ' ');
            });
          }
          /* Is `value` valid for this attribute? */

          var lcTag = transformCaseFunc(currentNode.nodeName);
          if (!_isValidAttribute(lcTag, lcName, value)) {
            return 0; // continue
          }
          /* Full DOM Clobbering protection via namespace isolation,
           * Prefix id and name attributes with `user-content-`
           */

          if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {
            // Remove the attribute with this value
            _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value

            value = SANITIZE_NAMED_PROPS_PREFIX + value;
          }
          /* Handle attributes that require Trusted Types */

          if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {
            if (namespaceURI) ;else {
              switch (trustedTypes.getAttributeType(lcTag, lcName)) {
                case 'TrustedHTML':
                  {
                    value = trustedTypesPolicy.createHTML(value);
                    break;
                  }
                case 'TrustedScriptURL':
                  {
                    value = trustedTypesPolicy.createScriptURL(value);
                    break;
                  }
              }
            }
          }
          /* Handle invalid data-* attribute set by try-catching it */

          try {
            if (namespaceURI) {
              currentNode.setAttributeNS(namespaceURI, name, value);
            } else {
              /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. "x-schema". */
              currentNode.setAttribute(name, value);
            }
            arrayPop(DOMPurify.removed);
          } catch (_) {}
        },
        _ret;
      while (l--) {
        _ret = _loop();
        if (_ret === 0) continue;
      }
      /* Execute a hook if present */

      _executeHook('afterSanitizeAttributes', currentNode, null);
    };
    /**
     * _sanitizeShadowDOM
     *
     * @param  {DocumentFragment} fragment to iterate over recursively
     */

    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {
      var shadowNode = null;
      var shadowIterator = _createNodeIterator(fragment);
      /* Execute a hook if present */

      _executeHook('beforeSanitizeShadowDOM', fragment, null);
      while (shadowNode = shadowIterator.nextNode()) {
        /* Execute a hook if present */
        _executeHook('uponSanitizeShadowNode', shadowNode, null);
        /* Sanitize tags and elements */

        if (_sanitizeElements(shadowNode)) {
          continue;
        }
        /* Deep shadow DOM detected */

        if (shadowNode.content instanceof DocumentFragment) {
          _sanitizeShadowDOM(shadowNode.content);
        }
        /* Check attributes, sanitize if necessary */

        _sanitizeAttributes(shadowNode);
      }
      /* Execute a hook if present */

      _executeHook('afterSanitizeShadowDOM', fragment, null);
    };
    /**
     * Sanitize
     * Public method providing core sanitation functionality
     *
     * @param {String|Node} dirty string or DOM node
     * @param {Object} cfg object
     */
    // eslint-disable-next-line complexity

    DOMPurify.sanitize = function (dirty) {
      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var body = null;
      var importedNode = null;
      var currentNode = null;
      var returnNode = null;
      /* Make sure we have a string to sanitize.
        DO NOT return early, as this will return the wrong type if
        the user has requested a DOM object rather than a string */

      IS_EMPTY_INPUT = !dirty;
      if (IS_EMPTY_INPUT) {
        dirty = '<!-->';
      }
      /* Stringify, in case dirty is an object */

      if (typeof dirty !== 'string' && !_isNode(dirty)) {
        if (typeof dirty.toString === 'function') {
          dirty = dirty.toString();
          if (typeof dirty !== 'string') {
            throw typeErrorCreate('dirty is not a string, aborting');
          }
        } else {
          throw typeErrorCreate('toString is not a function');
        }
      }
      /* Return dirty HTML if DOMPurify cannot run */

      if (!DOMPurify.isSupported) {
        return dirty;
      }
      /* Assign config vars */

      if (!SET_CONFIG) {
        _parseConfig(cfg);
      }
      /* Clean up removed elements */

      DOMPurify.removed = [];
      /* Check if dirty is correctly typed for IN_PLACE */

      if (typeof dirty === 'string') {
        IN_PLACE = false;
      }
      if (IN_PLACE) {
        /* Do some early pre-sanitization to avoid unsafe root nodes */
        if (dirty.nodeName) {
          var tagName = transformCaseFunc(dirty.nodeName);
          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {
            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');
          }
        }
      } else if (dirty instanceof Node) {
        /* If dirty is a DOM element, append to an empty document to avoid
           elements being stripped by the parser */
        body = _initDocument('<!---->');
        importedNode = body.ownerDocument.importNode(dirty, true);
        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {
          /* Node is already a body, use as is */
          body = importedNode;
        } else if (importedNode.nodeName === 'HTML') {
          body = importedNode;
        } else {
          // eslint-disable-next-line unicorn/prefer-dom-node-append
          body.appendChild(importedNode);
        }
      } else {
        /* Exit directly if we have nothing to do */
        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&
        // eslint-disable-next-line unicorn/prefer-includes
        dirty.indexOf('<') === -1) {
          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;
        }
        /* Initialize the document to work on */

        body = _initDocument(dirty);
        /* Check we have a DOM node from the data */

        if (!body) {
          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';
        }
      }
      /* Remove first element node (ours) if FORCE_BODY is set */

      if (body && FORCE_BODY) {
        _forceRemove(body.firstChild);
      }
      /* Get node iterator */

      var nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);
      /* Now start iterating over the created document */

      while (currentNode = nodeIterator.nextNode()) {
        /* Sanitize tags and elements */
        if (_sanitizeElements(currentNode)) {
          continue;
        }
        /* Shadow DOM detected, sanitize it */

        if (currentNode.content instanceof DocumentFragment) {
          _sanitizeShadowDOM(currentNode.content);
        }
        /* Check attributes, sanitize if necessary */

        _sanitizeAttributes(currentNode);
      }
      /* If we sanitized `dirty` in-place, return it. */

      if (IN_PLACE) {
        return dirty;
      }
      /* Return sanitized string or DOM */

      if (RETURN_DOM) {
        if (RETURN_DOM_FRAGMENT) {
          returnNode = createDocumentFragment.call(body.ownerDocument);
          while (body.firstChild) {
            // eslint-disable-next-line unicorn/prefer-dom-node-append
            returnNode.appendChild(body.firstChild);
          }
        } else {
          returnNode = body;
        }
        if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {
          /*
            AdoptNode() is not used because internal state is not reset
            (e.g. the past names map of a HTMLFormElement), this is safe
            in theory but we would rather not risk another attack vector.
            The state that is cloned by importNode() is explicitly defined
            by the specs.
          */
          returnNode = importNode.call(originalDocument, returnNode, true);
        }
        return returnNode;
      }
      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;
      /* Serialize doctype if allowed */

      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {
        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\n' + serializedHTML;
      }
      /* Sanitize final string template-safe */

      if (SAFE_FOR_TEMPLATES) {
        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], function (expr) {
          serializedHTML = stringReplace(serializedHTML, expr, ' ');
        });
      }
      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;
    };
    /**
     * Public method to set the configuration once
     * setConfig
     *
     * @param {Object} cfg configuration object
     */

    DOMPurify.setConfig = function () {
      var cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      _parseConfig(cfg);
      SET_CONFIG = true;
    };
    /**
     * Public method to remove the configuration
     * clearConfig
     *
     */

    DOMPurify.clearConfig = function () {
      CONFIG = null;
      SET_CONFIG = false;
    };
    /**
     * Public method to check if an attribute value is valid.
     * Uses last set config, if any. Otherwise, uses config defaults.
     * isValidAttribute
     *
     * @param  {String} tag Tag name of containing element.
     * @param  {String} attr Attribute name.
     * @param  {String} value Attribute value.
     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.
     */

    DOMPurify.isValidAttribute = function (tag, attr, value) {
      /* Initialize shared config vars if necessary. */
      if (!CONFIG) {
        _parseConfig({});
      }
      var lcTag = transformCaseFunc(tag);
      var lcName = transformCaseFunc(attr);
      return _isValidAttribute(lcTag, lcName, value);
    };
    /**
     * AddHook
     * Public method to add DOMPurify hooks
     *
     * @param {String} entryPoint entry point for the hook to add
     * @param {Function} hookFunction function to execute
     */

    DOMPurify.addHook = function (entryPoint, hookFunction) {
      if (typeof hookFunction !== 'function') {
        return;
      }
      hooks[entryPoint] = hooks[entryPoint] || [];
      arrayPush(hooks[entryPoint], hookFunction);
    };
    /**
     * RemoveHook
     * Public method to remove a DOMPurify hook at a given entryPoint
     * (pops it from the stack of hooks if more are present)
     *
     * @param {String} entryPoint entry point for the hook to remove
     * @return {Function} removed(popped) hook
     */

    DOMPurify.removeHook = function (entryPoint) {
      if (hooks[entryPoint]) {
        return arrayPop(hooks[entryPoint]);
      }
    };
    /**
     * RemoveHooks
     * Public method to remove all DOMPurify hooks at a given entryPoint
     *
     * @param  {String} entryPoint entry point for the hooks to remove
     */

    DOMPurify.removeHooks = function (entryPoint) {
      if (hooks[entryPoint]) {
        hooks[entryPoint] = [];
      }
    };
    /**
     * RemoveAllHooks
     * Public method to remove all DOMPurify hooks
     */

    DOMPurify.removeAllHooks = function () {
      hooks = {};
    };
    return DOMPurify;
  }
  var purify = createDOMPurify();
  return purify;
});

/***/ }),

/***/ 61671:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";


// do not edit .js files directly - edit src/index.jst
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(64043);
__webpack_require__(13440);
__webpack_require__(12826);
__webpack_require__(25847);
__webpack_require__(60228);
module.exports = function equal(a, b) {
  if (a === b) return true;
  if (a && b && typeof a == 'object' && typeof b == 'object') {
    if (a.constructor !== b.constructor) return false;
    var length, i, keys;
    if (Array.isArray(a)) {
      length = a.length;
      if (length != b.length) return false;
      for (i = length; i-- !== 0;) if (!equal(a[i], b[i])) return false;
      return true;
    }
    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;
    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();
    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();
    keys = Object.keys(a);
    length = keys.length;
    if (length !== Object.keys(b).length) return false;
    for (i = length; i-- !== 0;) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;
    for (i = length; i-- !== 0;) {
      var key = keys[i];
      if (!equal(a[key], b[key])) return false;
    }
    return true;
  }

  // true if both NaN, false otherwise
  return a !== a && b !== b;
};

/***/ }),

/***/ 27528:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

var _classCallCheck = (__webpack_require__(96833)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(64043);
__webpack_require__(57267);
__webpack_require__(9873);
__webpack_require__(21057);
__webpack_require__(50886);
__webpack_require__(752);
__webpack_require__(99211);
__webpack_require__(70292);
__webpack_require__(95194);
__webpack_require__(36664);
__webpack_require__(55980);
__webpack_require__(79943);
__webpack_require__(96089);
__webpack_require__(18539);
__webpack_require__(48690);
__webpack_require__(20522);
__webpack_require__(82);
__webpack_require__(45385);
__webpack_require__(85552);
__webpack_require__(31803);
__webpack_require__(91565);
__webpack_require__(67987);
__webpack_require__(49365);
__webpack_require__(80677);
__webpack_require__(18118);
__webpack_require__(41165);
__webpack_require__(71522);
__webpack_require__(79976);
__webpack_require__(4797);
__webpack_require__(7300);
__webpack_require__(93356);
__webpack_require__(99724);
__webpack_require__(24224);
__webpack_require__(61121);
__webpack_require__(99901);
__webpack_require__(37133);
__webpack_require__(59495);
__webpack_require__(29068);
__webpack_require__(89730);
// @info
//   DOMPoint polyfill
// @src
//   https://drafts.fxtf.org/geometry/#DOMPoint
//   https://github.com/chromium/chromium/blob/master/third_party/blink/renderer/core/geometry/dom_point_read_only.cc
{
  var _DOMPoint = /*#__PURE__*/function () {
    "use strict";

    function _DOMPoint() {
      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
      var w = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;
      _classCallCheck(this, _DOMPoint);
      this.x = x;
      this.y = y;
      this.z = z;
      this.w = w;
    }
    _createClass(_DOMPoint, [{
      key: "matrixTransform",
      value: function matrixTransform(matrix) {
        if ((matrix.is2D || matrix instanceof SVGMatrix) && this.z === 0 && this.w === 1) {
          return new _DOMPoint(this.x * matrix.a + this.y * matrix.c + matrix.e, this.x * matrix.b + this.y * matrix.d + matrix.f, 0, 1);
        } else {
          return new _DOMPoint(this.x * matrix.m11 + this.y * matrix.m21 + this.z * matrix.m31 + this.w * matrix.m41, this.x * matrix.m12 + this.y * matrix.m22 + this.z * matrix.m32 + this.w * matrix.m42, this.x * matrix.m13 + this.y * matrix.m23 + this.z * matrix.m33 + this.w * matrix.m43, this.x * matrix.m14 + this.y * matrix.m24 + this.z * matrix.m34 + this.w * matrix.m44);
        }
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          x: this.x,
          y: this.y,
          z: this.z,
          w: this.w
        };
      }
    }], [{
      key: "fromPoint",
      value: function fromPoint(otherPoint) {
        return new _DOMPoint(otherPoint.x, otherPoint.y, otherPoint.z !== undefined ? otherPoint.z : 0, otherPoint.w !== undefined ? otherPoint.w : 1);
      }
    }]);
    return _DOMPoint;
  }();
  window.DOMPoint = window.DOMPoint || _DOMPoint;
}

// @info
//   DOMRect polyfill
// @src
//   https://drafts.fxtf.org/geometry/#DOMRect
//   https://github.com/chromium/chromium/blob/master/third_party/blink/renderer/core/geometry/dom_rect_read_only.cc
{
  var DOMRect = /*#__PURE__*/function () {
    "use strict";

    function DOMRect() {
      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
      var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
      _classCallCheck(this, DOMRect);
      this.x = x;
      this.y = y;
      this.width = width;
      this.height = height;
    }
    _createClass(DOMRect, [{
      key: "top",
      get: function get() {
        return this.y;
      }
    }, {
      key: "left",
      get: function get() {
        return this.x;
      }
    }, {
      key: "right",
      get: function get() {
        return this.x + this.width;
      }
    }, {
      key: "bottom",
      get: function get() {
        return this.y + this.height;
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          x: this.x,
          y: this.y,
          width: this.width,
          height: this.height,
          top: this.top,
          left: this.left,
          right: this.right,
          bottom: this.bottom
        };
      }
    }], [{
      key: "fromRect",
      value: function fromRect(otherRect) {
        return new DOMRect(otherRect.x, otherRect.y, otherRect.width, otherRect.height);
      }
    }]);
    return DOMRect;
  }();
  for (var _i = 0, _arr = ["top", "right", "bottom", "left"]; _i < _arr.length; _i++) {
    var propertyName = _arr[_i];
    var propertyDescriptor = Object.getOwnPropertyDescriptor(DOMRect.prototype, propertyName);
    propertyDescriptor.enumerable = true;
    Object.defineProperty(DOMRect.prototype, propertyName, propertyDescriptor);
  }
  window.DOMRect = window.DOMRect || DOMRect;
}

// @info
//   DOMMatrix polyfill (SVG 2)
// @src
//   https://github.com/chromium/chromium/blob/master/third_party/blink/renderer/core/geometry/dom_matrix_read_only.cc
//   https://github.com/tocharomera/generativecanvas/blob/master/node-canvas/lib/DOMMatrix.js
{
  var M11 = 0,
    M12 = 1,
    M13 = 2,
    M14 = 3;
  var M21 = 4,
    M22 = 5,
    M23 = 6,
    M24 = 7;
  var M31 = 8,
    M32 = 9,
    M33 = 10,
    M34 = 11;
  var M41 = 12,
    M42 = 13,
    M43 = 14,
    M44 = 15;
  var A = M11,
    B = M12;
  var C = M21,
    D = M22;
  var E = M41,
    F = M42;
  var DEGREE_PER_RAD = 180 / Math.PI;
  var RAD_PER_DEGREE = Math.PI / 180;
  var $values = Symbol();
  var $is2D = Symbol();
  var parseMatrix = function parseMatrix(init) {
    var parsed = init.replace(/matrix\(/, "");
    parsed = parsed.split(/,/, 7);
    if (parsed.length !== 6) {
      throw new Error(`Failed to parse ${init}`);
    }
    parsed = parsed.map(parseFloat);
    return [parsed[0], parsed[1], 0, 0, parsed[2], parsed[3], 0, 0, 0, 0, 1, 0, parsed[4], parsed[5], 0, 1];
  };
  var parseMatrix3d = function parseMatrix3d(init) {
    var parsed = init.replace(/matrix3d\(/, "");
    parsed = parsed.split(/,/, 17);
    if (parsed.length !== 16) {
      throw new Error(`Failed to parse ${init}`);
    }
    return parsed.map(parseFloat);
  };
  var parseTransform = function parseTransform(tform) {
    var type = tform.split(/\(/, 1)[0];
    if (type === "matrix") {
      return parseMatrix(tform);
    } else if (type === "matrix3d") {
      return parseMatrix3d(tform);
    } else {
      throw new Error(`${type} parsing not implemented`);
    }
  };
  var setNumber2D = function setNumber2D(receiver, index, value) {
    if (typeof value !== "number") {
      throw new TypeError("Expected number");
    }
    receiver[$values][index] = value;
  };
  var setNumber3D = function setNumber3D(receiver, index, value) {
    if (typeof value !== "number") {
      throw new TypeError("Expected number");
    }
    if (index === M33 || index === M44) {
      if (value !== 1) {
        receiver[$is2D] = false;
      }
    } else if (value !== 0) {
      receiver[$is2D] = false;
    }
    receiver[$values][index] = value;
  };
  var newInstance = function newInstance(values) {
    var instance = Object.create(DOMMatrix.prototype);
    instance.constructor = DOMMatrix;
    instance[$is2D] = true;
    instance[$values] = values;
    return instance;
  };
  var multiply = function multiply(first, second) {
    var dest = new Float64Array(16);
    for (var i = 0; i < 4; i++) {
      for (var j = 0; j < 4; j++) {
        var sum = 0;
        for (var k = 0; k < 4; k++) {
          sum += first[i * 4 + k] * second[k * 4 + j];
        }
        dest[i * 4 + j] = sum;
      }
    }
    return dest;
  };
  var DOMMatrix = /*#__PURE__*/function () {
    "use strict";

    // @type
    // (Float64Array) => void
    function DOMMatrix(init) {
      _classCallCheck(this, DOMMatrix);
      this[$is2D] = true;
      this[$values] = new Float64Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);

      // Parse CSS transformList
      if (typeof init === "string") {
        if (init === "") {
          return;
        } else {
          var tforms = init.split(/\)\s+/, 20).map(parseTransform);
          if (tforms.length === 0) {
            return;
          }
          init = tforms[0];
          for (var _i2 = 1; _i2 < tforms.length; _i2++) {
            init = multiply(tforms[_i2], init);
          }
        }
      }
      var i = 0;
      if (init && init.length === 6) {
        setNumber2D(this, A, init[i++]);
        setNumber2D(this, B, init[i++]);
        setNumber2D(this, C, init[i++]);
        setNumber2D(this, D, init[i++]);
        setNumber2D(this, E, init[i++]);
        setNumber2D(this, F, init[i++]);
      } else if (init && init.length === 16) {
        setNumber2D(this, M11, init[i++]);
        setNumber2D(this, M12, init[i++]);
        setNumber3D(this, M13, init[i++]);
        setNumber3D(this, M14, init[i++]);
        setNumber2D(this, M21, init[i++]);
        setNumber2D(this, M22, init[i++]);
        setNumber3D(this, M23, init[i++]);
        setNumber3D(this, M24, init[i++]);
        setNumber3D(this, M31, init[i++]);
        setNumber3D(this, M32, init[i++]);
        setNumber3D(this, M33, init[i++]);
        setNumber3D(this, M34, init[i++]);
        setNumber2D(this, M41, init[i++]);
        setNumber2D(this, M42, init[i++]);
        setNumber3D(this, M43, init[i++]);
        setNumber3D(this, M44, init[i]);
      } else if (init !== undefined) {
        throw new TypeError("Expected string or array.");
      }
    }
    _createClass(DOMMatrix, [{
      key: "m11",
      get: function get() {
        return this[$values][M11];
      },
      set: function set(value) {
        setNumber2D(this, M11, value);
      }
    }, {
      key: "m12",
      get: function get() {
        return this[$values][M12];
      },
      set: function set(value) {
        setNumber2D(this, M12, value);
      }
    }, {
      key: "m13",
      get: function get() {
        return this[$values][M13];
      },
      set: function set(value) {
        setNumber3D(this, M13, value);
      }
    }, {
      key: "m14",
      get: function get() {
        return this[$values][M14];
      },
      set: function set(value) {
        setNumber3D(this, M14, value);
      }
    }, {
      key: "m21",
      get: function get() {
        return this[$values][M21];
      },
      set: function set(value) {
        setNumber2D(this, M21, value);
      }
    }, {
      key: "m22",
      get: function get() {
        return this[$values][M22];
      },
      set: function set(value) {
        setNumber2D(this, M22, value);
      }
    }, {
      key: "m23",
      get: function get() {
        return this[$values][M23];
      },
      set: function set(value) {
        setNumber3D(this, M23, value);
      }
    }, {
      key: "m24",
      get: function get() {
        return this[$values][M24];
      },
      set: function set(value) {
        setNumber3D(this, M24, value);
      }
    }, {
      key: "m31",
      get: function get() {
        return this[$values][M31];
      },
      set: function set(value) {
        setNumber3D(this, M31, value);
      }
    }, {
      key: "m32",
      get: function get() {
        return this[$values][M32];
      },
      set: function set(value) {
        setNumber3D(this, M32, value);
      }
    }, {
      key: "m33",
      get: function get() {
        return this[$values][M33];
      },
      set: function set(value) {
        setNumber3D(this, M33, value);
      }
    }, {
      key: "m34",
      get: function get() {
        return this[$values][M34];
      },
      set: function set(value) {
        setNumber3D(this, M34, value);
      }
    }, {
      key: "m41",
      get: function get() {
        return this[$values][M41];
      },
      set: function set(value) {
        setNumber2D(this, M41, value);
      }
    }, {
      key: "m42",
      get: function get() {
        return this[$values][M42];
      },
      set: function set(value) {
        setNumber2D(this, M42, value);
      }
    }, {
      key: "m43",
      get: function get() {
        return this[$values][M43];
      },
      set: function set(value) {
        setNumber3D(this, M43, value);
      }
    }, {
      key: "m44",
      get: function get() {
        return this[$values][M44];
      },
      set: function set(value) {
        setNumber3D(this, M44, value);
      }
    }, {
      key: "a",
      get: function get() {
        return this[$values][A];
      },
      set: function set(value) {
        setNumber2D(this, A, value);
      }
    }, {
      key: "b",
      get: function get() {
        return this[$values][B];
      },
      set: function set(value) {
        setNumber2D(this, B, value);
      }
    }, {
      key: "c",
      get: function get() {
        return this[$values][C];
      },
      set: function set(value) {
        setNumber2D(this, C, value);
      }
    }, {
      key: "d",
      get: function get() {
        return this[$values][D];
      },
      set: function set(value) {
        setNumber2D(this, D, value);
      }
    }, {
      key: "e",
      get: function get() {
        return this[$values][E];
      },
      set: function set(value) {
        setNumber2D(this, E, value);
      }
    }, {
      key: "f",
      get: function get() {
        return this[$values][F];
      },
      set: function set(value) {
        setNumber2D(this, F, value);
      }
    }, {
      key: "is2D",
      get: function get() {
        return this[$is2D];
      }
    }, {
      key: "isIdentity",
      get: function get() {
        var values = this[$values];
        return values[M11] === 1 && values[M12] === 0 && values[M13] === 0 && values[M14] === 0 && values[M21] === 0 && values[M22] === 1 && values[M23] === 0 && values[M24] === 0 && values[M31] === 0 && values[M32] === 0 && values[M33] === 1 && values[M34] === 0 && values[M41] === 0 && values[M42] === 0 && values[M43] === 0 && values[M44] === 1;
      }
    }, {
      key: "inspect",
      value: function inspect(depth, options) {
        if (depth < 0) {
          return "[DOMMatrix]";
        }
        return `DOMMatrix [
        a: ${this.a}
        b: ${this.b}
        c: ${this.c}
        d: ${this.d}
        e: ${this.e}
        f: ${this.f}
        m11: ${this.m11}
        m12: ${this.m12}
        m13: ${this.m13}
        m14: ${this.m14}
        m21: ${this.m21}
        m22: ${this.m22}
        m23: ${this.m23}
        m23: ${this.m23}
        m31: ${this.m31}
        m32: ${this.m32}
        m33: ${this.m33}
        m34: ${this.m34}
        m41: ${this.m41}
        m42: ${this.m42}
        m43: ${this.m43}
        m44: ${this.m44}
        is2D: ${this.is2D}
        isIdentity: ${this.isIdentity} ]`;
      }
    }, {
      key: "multiply",
      value: function multiply(other) {
        return newInstance(this[$values]).multiplySelf(other);
      }
    }, {
      key: "multiplySelf",
      value: function multiplySelf(other) {
        this[$values] = multiply(other[$values], this[$values]);
        if (!other.is2D) {
          this[$is2D] = false;
        }
        return this;
      }
    }, {
      key: "preMultiplySelf",
      value: function preMultiplySelf(other) {
        this[$values] = multiply(this[$values], other[$values]);
        if (!other.is2D) {
          this[$is2D] = false;
        }
        return this;
      }
    }, {
      key: "translate",
      value: function translate(tx, ty, tz) {
        return newInstance(this[$values]).translateSelf(tx, ty, tz);
      }
    }, {
      key: "translateSelf",
      value: function translateSelf() {
        var tx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var ty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var tz = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        this[$values] = multiply([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1], this[$values]);
        if (tz !== 0) {
          this[$is2D] = false;
        }
        return this;
      }
    }, {
      key: "scale",
      value: function scale(scaleX, scaleY, scaleZ, originX, originY, originZ) {
        return newInstance(this[$values]).scaleSelf(scaleX, scaleY, scaleZ, originX, originY, originZ);
      }
    }, {
      key: "scale3d",
      value: function scale3d(scale, originX, originY, originZ) {
        return newInstance(this[$values]).scale3dSelf(scale, originX, originY, originZ);
      }
    }, {
      key: "scale3dSelf",
      value: function scale3dSelf(scale, originX, originY, originZ) {
        return this.scaleSelf(scale, scale, scale, originX, originY, originZ);
      }
    }, {
      key: "scaleSelf",
      value: function scaleSelf(scaleX, scaleY, scaleZ, originX, originY, originZ) {
        // Not redundant with translate's checks because we need to negate the values later.
        if (typeof originX !== "number") originX = 0;
        if (typeof originY !== "number") originY = 0;
        if (typeof originZ !== "number") originZ = 0;
        this.translateSelf(originX, originY, originZ);
        if (typeof scaleX !== "number") scaleX = 1;
        if (typeof scaleY !== "number") scaleY = scaleX;
        if (typeof scaleZ !== "number") scaleZ = 1;
        this[$values] = multiply([scaleX, 0, 0, 0, 0, scaleY, 0, 0, 0, 0, scaleZ, 0, 0, 0, 0, 1], this[$values]);
        this.translateSelf(-originX, -originY, -originZ);
        if (scaleZ !== 1 || originZ !== 0) {
          this[$is2D] = false;
        }
        return this;
      }
    }, {
      key: "rotateFromVector",
      value: function rotateFromVector(x, y) {
        return newInstance(this[$values]).rotateFromVectorSelf(x, y);
      }
    }, {
      key: "rotateFromVectorSelf",
      value: function rotateFromVectorSelf() {
        var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var theta = x === 0 && y === 0 ? 0 : Math.atan2(y, x) * DEGREE_PER_RAD;
        return this.rotateSelf(theta);
      }
    }, {
      key: "rotate",
      value: function rotate(rotX, rotY, rotZ) {
        return newInstance(this[$values]).rotateSelf(rotX, rotY, rotZ);
      }
    }, {
      key: "rotateSelf",
      value: function rotateSelf(rotX, rotY, rotZ) {
        if (rotY === undefined && rotZ === undefined) {
          rotZ = rotX;
          rotX = rotY = 0;
        }
        if (typeof rotY !== "number") rotY = 0;
        if (typeof rotZ !== "number") rotZ = 0;
        if (rotX !== 0 || rotY !== 0) {
          this[$is2D] = false;
        }
        rotX *= RAD_PER_DEGREE;
        rotY *= RAD_PER_DEGREE;
        rotZ *= RAD_PER_DEGREE;
        var c = Math.cos(rotZ);
        var s = Math.sin(rotZ);
        this[$values] = multiply([c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], this[$values]);
        c = Math.cos(rotY);
        s = Math.sin(rotY);
        this[$values] = multiply([c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1], this[$values]);
        c = Math.cos(rotX);
        s = Math.sin(rotX);
        this[$values] = multiply([1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1], this[$values]);
        return this;
      }
    }, {
      key: "rotateAxisAngle",
      value: function rotateAxisAngle(x, y, z, angle) {
        return newInstance(this[$values]).rotateAxisAngleSelf(x, y, z, angle);
      }
    }, {
      key: "rotateAxisAngleSelf",
      value: function rotateAxisAngleSelf() {
        var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
        var z = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var angle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
        var length = Math.sqrt(x * x + y * y + z * z);
        if (length === 0) {
          return this;
        }
        if (length !== 1) {
          x /= length;
          y /= length;
          z /= length;
        }
        angle *= RAD_PER_DEGREE;
        var c = Math.cos(angle);
        var s = Math.sin(angle);
        var t = 1 - c;
        var tx = t * x;
        var ty = t * y;
        this[$values] = multiply([tx * x + c, tx * y + s * z, tx * z - s * y, 0, tx * y - s * z, ty * y + c, ty * z + s * x, 0, tx * z + s * y, ty * z - s * x, t * z * z + c, 0, 0, 0, 0, 1], this[$values]);
        if (x !== 0 || y !== 0) {
          this[$is2D] = false;
        }
        return this;
      }
    }, {
      key: "skewX",
      value: function skewX(sx) {
        return newInstance(this[$values]).skewXSelf(sx);
      }
    }, {
      key: "skewXSelf",
      value: function skewXSelf(sx) {
        if (typeof sx !== "number") {
          return this;
        }
        var t = Math.tan(sx * RAD_PER_DEGREE);
        this[$values] = multiply([1, 0, 0, 0, t, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], this[$values]);
        return this;
      }
    }, {
      key: "skewY",
      value: function skewY(sy) {
        return newInstance(this[$values]).skewYSelf(sy);
      }
    }, {
      key: "skewYSelf",
      value: function skewYSelf(sy) {
        if (typeof sy !== "number") {
          return this;
        }
        var t = Math.tan(sy * RAD_PER_DEGREE);
        this[$values] = multiply([1, t, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], this[$values]);
        return this;
      }
    }, {
      key: "flipX",
      value: function flipX() {
        return newInstance(multiply([-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], this[$values]));
      }
    }, {
      key: "flipY",
      value: function flipY() {
        return newInstance(multiply([1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], this[$values]));
      }
    }, {
      key: "inverse",
      value: function inverse() {
        return newInstance(this[$values]).invertSelf();
      }
    }, {
      key: "invertSelf",
      value: function invertSelf() {
        if (this[$is2D]) {
          var det = this[$values][A] * this[$values][D] - this[$values][B] * this[$values][C];

          // Invertable
          if (det !== 0) {
            var result = new DOMMatrix();
            result.a = this[$values][D] / det;
            result.b = -this[$values][B] / det;
            result.c = -this[$values][C] / det;
            result.d = this[$values][A] / det;
            result.e = (this[$values][C] * this[$values][F] - this[$values][D] * this[$values][E]) / det;
            result.f = (this[$values][B] * this[$values][E] - this[$values][A] * this[$values][F]) / det;
            return result;
          }

          // Not invertable
          else {
            this[$is2D] = false;
            this[$values] = [NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN];
          }
        } else {
          throw new Error("3D matrix inversion is not implemented.");
        }
      }
    }, {
      key: "setMatrixValue",
      value: function setMatrixValue(transformList) {
        var temp = new DOMMatrix(transformList);
        this[$values] = temp[$values];
        this[$is2D] = temp[$is2D];
        return this;
      }
    }, {
      key: "transformPoint",
      value: function transformPoint(point) {
        var x = point.x;
        var y = point.y;
        var z = point.z;
        var w = point.w;
        var values = this[$values];
        var nx = values[M11] * x + values[M21] * y + values[M31] * z + values[M41] * w;
        var ny = values[M12] * x + values[M22] * y + values[M32] * z + values[M42] * w;
        var nz = values[M13] * x + values[M23] * y + values[M33] * z + values[M43] * w;
        var nw = values[M14] * x + values[M24] * y + values[M34] * z + values[M44] * w;
        return new DOMPoint(nx, ny, nz, nw);
      }
    }, {
      key: "toFloat32Array",
      value: function toFloat32Array() {
        return Float32Array.from(this[$values]);
      }
    }, {
      key: "toFloat64Array",
      value: function toFloat64Array() {
        return this[$values].slice(0);
      }
    }, {
      key: "toJSON",
      value: function toJSON() {
        return {
          a: this.a,
          b: this.b,
          c: this.c,
          d: this.d,
          e: this.e,
          f: this.f,
          m11: this.m11,
          m12: this.m12,
          m13: this.m13,
          m14: this.m14,
          m21: this.m21,
          m22: this.m22,
          m23: this.m23,
          m24: this.m24,
          m31: this.m31,
          m32: this.m32,
          m33: this.m33,
          m34: this.m34,
          m41: this.m41,
          m42: this.m42,
          m43: this.m43,
          m44: this.m44,
          is2D: this.is2D,
          isIdentity: this.isIdentity
        };
      }
    }, {
      key: "toString",
      value: function toString() {
        if (this.is2D) {
          return `matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.e}, ${this.f})`;
        } else {
          return `matrix3d(${this[$values].join(", ")})`;
        }
      }
    }], [{
      key: "fromMatrix",
      value: function fromMatrix(init) {
        if (init instanceof DOMMatrix) {
          return new DOMMatrix(init[$values]);
        } else if (init instanceof SVGMatrix) {
          return new DOMMatrix([init.a, init.b, init.c, init.d, init.e, init.f]);
        } else {
          throw new TypeError("Expected DOMMatrix");
        }
      }
    }, {
      key: "fromFloat32Array",
      value: function fromFloat32Array(init) {
        if (!(init instanceof Float32Array)) throw new TypeError("Expected Float32Array");
        return new DOMMatrix(init);
      }
    }, {
      key: "fromFloat64Array",
      value: function fromFloat64Array(init) {
        if (!(init instanceof Float64Array)) throw new TypeError("Expected Float64Array");
        return new DOMMatrix(init);
      }
    }]);
    return DOMMatrix;
  }();
  for (var _i3 = 0, _arr2 = ["a", "b", "c", "d", "e", "f", "m11", "m12", "m13", "m14", "m21", "m22", "m23", "m24", "m31", "m32", "m33", "m34", "m41", "m42", "m43", "m44", "is2D", "isIdentity"]; _i3 < _arr2.length; _i3++) {
    var _propertyName = _arr2[_i3];
    var _propertyDescriptor = Object.getOwnPropertyDescriptor(DOMMatrix.prototype, _propertyName);
    _propertyDescriptor.enumerable = true;
    Object.defineProperty(DOMMatrix.prototype, _propertyName, _propertyDescriptor);
  }
  window.DOMMatrix = window.DOMMatrix || DOMMatrix;
}

/***/ }),

/***/ 13781:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";


__webpack_require__(28436);
__webpack_require__(64043);
__webpack_require__(57267);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(13440);
__webpack_require__(12826);
var word = '[a-fA-F\\d:]';
var b = function b(options) {
  return options && options.includeBoundaries ? `(?:(?<=\\s|^)(?=${word})|(?<=${word})(?=\\s|$))` : '';
};
var v4 = '(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}';
var v6seg = '[a-fA-F\\d]{1,4}';
var v6 = `
(?:
(?:${v6seg}:){7}(?:${v6seg}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${v6seg}:){6}(?:${v4}|:${v6seg}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${v6seg}:){5}(?::${v4}|(?::${v6seg}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${v6seg}:){4}(?:(?::${v6seg}){0,1}:${v4}|(?::${v6seg}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${v6seg}:){3}(?:(?::${v6seg}){0,2}:${v4}|(?::${v6seg}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${v6seg}:){2}(?:(?::${v6seg}){0,3}:${v4}|(?::${v6seg}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${v6seg}:){1}(?:(?::${v6seg}){0,4}:${v4}|(?::${v6seg}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${v6seg}){0,5}:${v4}|(?::${v6seg}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm, '').replace(/\n/g, '').trim();

// Pre-compile only the exact regexes because adding a global flag make regexes stateful
var v46Exact = new RegExp(`(?:^${v4}$)|(?:^${v6}$)`);
var v4exact = new RegExp(`^${v4}$`);
var v6exact = new RegExp(`^${v6}$`);
var ip = function ip(options) {
  return options && options.exact ? v46Exact : new RegExp(`(?:${b(options)}${v4}${b(options)})|(?:${b(options)}${v6}${b(options)})`, 'g');
};
ip.v4 = function (options) {
  return options && options.exact ? v4exact : new RegExp(`${b(options)}${v4}${b(options)}`, 'g');
};
ip.v6 = function (options) {
  return options && options.exact ? v6exact : new RegExp(`${b(options)}${v6}${b(options)}`, 'g');
};
module.exports = ip;

/***/ }),

/***/ 90603:
/***/ (function(module, exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
var __WEBPACK_AMD_DEFINE_RESULT__;__webpack_require__(52003);__webpack_require__(68518);__webpack_require__(64043);__webpack_require__(13440);__webpack_require__(12826);__webpack_require__(3650);__webpack_require__(22462);__webpack_require__(65137);__webpack_require__(57267);__webpack_require__(89730);__webpack_require__(7409);__webpack_require__(70560);__webpack_require__(60228);__webpack_require__(47522);__webpack_require__(752);__webpack_require__(76265);__webpack_require__(62506);__webpack_require__(93374);__webpack_require__(50886);__webpack_require__(69365);__webpack_require__(99211);__webpack_require__(9873);__webpack_require__(61514);__webpack_require__(92176);__webpack_require__(7961);__webpack_require__(34338);__webpack_require__(73964);__webpack_require__(38077);__webpack_require__(54564);__webpack_require__(90385);__webpack_require__(2918);__webpack_require__(59867);__webpack_require__(93383);__webpack_require__(76801);__webpack_require__(43843);__webpack_require__(72940);__webpack_require__(8472);__webpack_require__(268);__webpack_require__(28436);__webpack_require__(16386);__webpack_require__(3255);__webpack_require__(78150);__webpack_require__(19979);/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */;(function(){/** Used as a safe reference for `undefined` in pre-ES5 environments. */var undefined;/** Used as the semantic version number. */var VERSION='4.17.21';/** Used as the size to enable large array optimizations. */var LARGE_ARRAY_SIZE=200;/** Error message constants. */var CORE_ERROR_TEXT='Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',FUNC_ERROR_TEXT='Expected a function',INVALID_TEMPL_VAR_ERROR_TEXT='Invalid `variable` option passed into `_.template`';/** Used to stand-in for `undefined` hash values. */var HASH_UNDEFINED='__lodash_hash_undefined__';/** Used as the maximum memoize cache size. */var MAX_MEMOIZE_SIZE=500;/** Used as the internal argument placeholder. */var PLACEHOLDER='__lodash_placeholder__';/** Used to compose bitmasks for cloning. */var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;/** Used to compose bitmasks for value comparisons. */var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;/** Used to compose bitmasks for function metadata. */var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;/** Used as default options for `_.truncate`. */var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION='...';/** Used to detect hot functions by number of calls within a span of milliseconds. */var HOT_COUNT=800,HOT_SPAN=16;/** Used to indicate the type of lazy iteratees. */var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;/** Used as references for various `Number` constants. */var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e+308,NAN=0/0;/** Used as references for the maximum length and index of an array. */var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;/** Used to associate wrap methods with their bit flags. */var wrapFlags=[['ary',WRAP_ARY_FLAG],['bind',WRAP_BIND_FLAG],['bindKey',WRAP_BIND_KEY_FLAG],['curry',WRAP_CURRY_FLAG],['curryRight',WRAP_CURRY_RIGHT_FLAG],['flip',WRAP_FLIP_FLAG],['partial',WRAP_PARTIAL_FLAG],['partialRight',WRAP_PARTIAL_RIGHT_FLAG],['rearg',WRAP_REARG_FLAG]];/** `Object#toString` result references. */var argsTag='[object Arguments]',arrayTag='[object Array]',asyncTag='[object AsyncFunction]',boolTag='[object Boolean]',dateTag='[object Date]',domExcTag='[object DOMException]',errorTag='[object Error]',funcTag='[object Function]',genTag='[object GeneratorFunction]',mapTag='[object Map]',numberTag='[object Number]',nullTag='[object Null]',objectTag='[object Object]',promiseTag='[object Promise]',proxyTag='[object Proxy]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',symbolTag='[object Symbol]',undefinedTag='[object Undefined]',weakMapTag='[object WeakMap]',weakSetTag='[object WeakSet]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';/** Used to match empty string literals in compiled template source. */var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;/** Used to match HTML entities and HTML characters. */var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);/** Used to match template delimiters. */var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;/** Used to match property names within property paths. */var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;/**
   * Used to match `RegExp`
   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
   */var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);/** Used to match leading whitespace. */var reTrimStart=/^\s+/;/** Used to match a single whitespace character. */var reWhitespace=/\s/;/** Used to match wrap detail comments. */var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;/** Used to match words composed of alphanumeric characters. */var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;/**
   * Used to validate the `validate` option in `_.template` variable.
   *
   * Forbids characters which could potentially change the meaning of the function argument definition:
   * - "()," (modification of function parameters)
   * - "=" (default value)
   * - "[]{}" (destructuring of function parameters)
   * - "/" (beginning of a comment)
   * - whitespace
   */var reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/;/** Used to match backslashes in property paths. */var reEscapeChar=/\\(\\)?/g;/**
   * Used to match
   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).
   */var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;/** Used to match `RegExp` flags from their coerced string values. */var reFlags=/\w*$/;/** Used to detect bad signed hexadecimal string values. */var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;/** Used to detect binary string values. */var reIsBinary=/^0b[01]+$/i;/** Used to detect host constructors (Safari). */var reIsHostCtor=/^\[object .+?Constructor\]$/;/** Used to detect octal string values. */var reIsOctal=/^0o[0-7]+$/i;/** Used to detect unsigned integer values. */var reIsUint=/^(?:0|[1-9]\d*)$/;/** Used to match Latin Unicode letters (excluding mathematical operators). */var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;/** Used to ensure capturing order of template delimiters. */var reNoMatch=/($^)/;/** Used to match unescaped characters in compiled string literals. */var reUnescapedString=/['\n\r\u2028\u2029\\]/g;/** Used to compose unicode character classes. */var rsAstralRange='\\ud800-\\udfff',rsComboMarksRange='\\u0300-\\u036f',reComboHalfMarksRange='\\ufe20-\\ufe2f',rsComboSymbolsRange='\\u20d0-\\u20ff',rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange='\\u2700-\\u27bf',rsLowerRange='a-z\\xdf-\\xf6\\xf8-\\xff',rsMathOpRange='\\xac\\xb1\\xd7\\xf7',rsNonCharRange='\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',rsPunctuationRange='\\u2000-\\u206f',rsSpaceRange=' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',rsUpperRange='A-Z\\xc0-\\xd6\\xd8-\\xde',rsVarRange='\\ufe0e\\ufe0f',rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;/** Used to compose unicode capture groups. */var rsApos="['\u2019]",rsAstral='['+rsAstralRange+']',rsBreak='['+rsBreakRange+']',rsCombo='['+rsComboRange+']',rsDigits='\\d+',rsDingbat='['+rsDingbatRange+']',rsLower='['+rsLowerRange+']',rsMisc='[^'+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+']',rsFitz='\\ud83c[\\udffb-\\udfff]',rsModifier='(?:'+rsCombo+'|'+rsFitz+')',rsNonAstral='[^'+rsAstralRange+']',rsRegional='(?:\\ud83c[\\udde6-\\uddff]){2}',rsSurrPair='[\\ud800-\\udbff][\\udc00-\\udfff]',rsUpper='['+rsUpperRange+']',rsZWJ='\\u200d';/** Used to compose unicode regexes. */var rsMiscLower='(?:'+rsLower+'|'+rsMisc+')',rsMiscUpper='(?:'+rsUpper+'|'+rsMisc+')',rsOptContrLower='(?:'+rsApos+'(?:d|ll|m|re|s|t|ve))?',rsOptContrUpper='(?:'+rsApos+'(?:D|LL|M|RE|S|T|VE))?',reOptMod=rsModifier+'?',rsOptVar='['+rsVarRange+']?',rsOptJoin='(?:'+rsZWJ+'(?:'+[rsNonAstral,rsRegional,rsSurrPair].join('|')+')'+rsOptVar+reOptMod+')*',rsOrdLower='\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])',rsOrdUpper='\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])',rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji='(?:'+[rsDingbat,rsRegional,rsSurrPair].join('|')+')'+rsSeq,rsSymbol='(?:'+[rsNonAstral+rsCombo+'?',rsCombo,rsRegional,rsSurrPair,rsAstral].join('|')+')';/** Used to match apostrophes. */var reApos=RegExp(rsApos,'g');/**
   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
   */var reComboMark=RegExp(rsCombo,'g');/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */var reUnicode=RegExp(rsFitz+'(?='+rsFitz+')|'+rsSymbol+rsSeq,'g');/** Used to match complex or compound words. */var reUnicodeWord=RegExp([rsUpper+'?'+rsLower+'+'+rsOptContrLower+'(?='+[rsBreak,rsUpper,'$'].join('|')+')',rsMiscUpper+'+'+rsOptContrUpper+'(?='+[rsBreak,rsUpper+rsMiscLower,'$'].join('|')+')',rsUpper+'?'+rsMiscLower+'+'+rsOptContrLower,rsUpper+'+'+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join('|'),'g');/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */var reHasUnicode=RegExp('['+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+']');/** Used to detect strings that need a more robust regexp to match words. */var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;/** Used to assign default `context` object properties. */var contextProps=['Array','Buffer','DataView','Date','Error','Float32Array','Float64Array','Function','Int8Array','Int16Array','Int32Array','Map','Math','Object','Promise','RegExp','Set','String','Symbol','TypeError','Uint8Array','Uint8ClampedArray','Uint16Array','Uint32Array','WeakMap','_','clearTimeout','isFinite','parseInt','setTimeout'];/** Used to make template sourceURLs easier to identify. */var templateCounter=-1;/** Used to identify `toStringTag` values of typed arrays. */var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;/** Used to identify `toStringTag` values supported by `_.clone`. */var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;/** Used to map Latin Unicode letters to basic Latin letters. */var deburredLetters={// Latin-1 Supplement block.
'\xc0':'A','\xc1':'A','\xc2':'A','\xc3':'A','\xc4':'A','\xc5':'A','\xe0':'a','\xe1':'a','\xe2':'a','\xe3':'a','\xe4':'a','\xe5':'a','\xc7':'C','\xe7':'c','\xd0':'D','\xf0':'d','\xc8':'E','\xc9':'E','\xca':'E','\xcb':'E','\xe8':'e','\xe9':'e','\xea':'e','\xeb':'e','\xcc':'I','\xcd':'I','\xce':'I','\xcf':'I','\xec':'i','\xed':'i','\xee':'i','\xef':'i','\xd1':'N','\xf1':'n','\xd2':'O','\xd3':'O','\xd4':'O','\xd5':'O','\xd6':'O','\xd8':'O','\xf2':'o','\xf3':'o','\xf4':'o','\xf5':'o','\xf6':'o','\xf8':'o','\xd9':'U','\xda':'U','\xdb':'U','\xdc':'U','\xf9':'u','\xfa':'u','\xfb':'u','\xfc':'u','\xdd':'Y','\xfd':'y','\xff':'y','\xc6':'Ae','\xe6':'ae','\xde':'Th','\xfe':'th','\xdf':'ss',// Latin Extended-A block.
'\u0100':'A','\u0102':'A','\u0104':'A','\u0101':'a','\u0103':'a','\u0105':'a','\u0106':'C','\u0108':'C','\u010a':'C','\u010c':'C','\u0107':'c','\u0109':'c','\u010b':'c','\u010d':'c','\u010e':'D','\u0110':'D','\u010f':'d','\u0111':'d','\u0112':'E','\u0114':'E','\u0116':'E','\u0118':'E','\u011a':'E','\u0113':'e','\u0115':'e','\u0117':'e','\u0119':'e','\u011b':'e','\u011c':'G','\u011e':'G','\u0120':'G','\u0122':'G','\u011d':'g','\u011f':'g','\u0121':'g','\u0123':'g','\u0124':'H','\u0126':'H','\u0125':'h','\u0127':'h','\u0128':'I','\u012a':'I','\u012c':'I','\u012e':'I','\u0130':'I','\u0129':'i','\u012b':'i','\u012d':'i','\u012f':'i','\u0131':'i','\u0134':'J','\u0135':'j','\u0136':'K','\u0137':'k','\u0138':'k','\u0139':'L','\u013b':'L','\u013d':'L','\u013f':'L','\u0141':'L','\u013a':'l','\u013c':'l','\u013e':'l','\u0140':'l','\u0142':'l','\u0143':'N','\u0145':'N','\u0147':'N','\u014a':'N','\u0144':'n','\u0146':'n','\u0148':'n','\u014b':'n','\u014c':'O','\u014e':'O','\u0150':'O','\u014d':'o','\u014f':'o','\u0151':'o','\u0154':'R','\u0156':'R','\u0158':'R','\u0155':'r','\u0157':'r','\u0159':'r','\u015a':'S','\u015c':'S','\u015e':'S','\u0160':'S','\u015b':'s','\u015d':'s','\u015f':'s','\u0161':'s','\u0162':'T','\u0164':'T','\u0166':'T','\u0163':'t','\u0165':'t','\u0167':'t','\u0168':'U','\u016a':'U','\u016c':'U','\u016e':'U','\u0170':'U','\u0172':'U','\u0169':'u','\u016b':'u','\u016d':'u','\u016f':'u','\u0171':'u','\u0173':'u','\u0174':'W','\u0175':'w','\u0176':'Y','\u0177':'y','\u0178':'Y','\u0179':'Z','\u017b':'Z','\u017d':'Z','\u017a':'z','\u017c':'z','\u017e':'z','\u0132':'IJ','\u0133':'ij','\u0152':'Oe','\u0153':'oe','\u0149':"'n",'\u017f':'s'};/** Used to map characters to HTML entities. */var htmlEscapes={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'};/** Used to map HTML entities to characters. */var htmlUnescapes={'&amp;':'&','&lt;':'<','&gt;':'>','&quot;':'"','&#39;':"'"};/** Used to escape characters for inclusion in compiled string literals. */var stringEscapes={'\\':'\\',"'":"'",'\n':'n','\r':'r','\u2028':'u2028','\u2029':'u2029'};/** Built-in method references without a dependency on `root`. */var freeParseFloat=parseFloat,freeParseInt=parseInt;/** Detect free variable `global` from Node.js. */var freeGlobal=typeof __webpack_require__.g=='object'&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g;/** Detect free variable `self`. */var freeSelf=typeof self=='object'&&self&&self.Object===Object&&self;/** Used as a reference to the global object. */var root=freeGlobal||freeSelf||Function('return this')();/** Detect free variable `exports`. */var freeExports= true&&exports&&!exports.nodeType&&exports;/** Detect free variable `module`. */var freeModule=freeExports&&"object"=='object'&&module&&!module.nodeType&&module;/** Detect the popular CommonJS extension `module.exports`. */var moduleExports=freeModule&&freeModule.exports===freeExports;/** Detect free variable `process` from Node.js. */var freeProcess=moduleExports&&freeGlobal.process;/** Used to access faster Node.js helpers. */var nodeUtil=function(){try{// Use `util.types` for Node.js 10+.
var types=freeModule&&freeModule.require&&freeModule.require('util').types;if(types){return types;}// Legacy `process.binding('util')` for Node.js < 10.
return freeProcess&&freeProcess.binding&&freeProcess.binding('util');}catch(e){}}();/* Node.js helper references. */var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;/*--------------------------------------------------------------------------*/ /**
   * A faster alternative to `Function#apply`, this function invokes `func`
   * with the `this` binding of `thisArg` and the arguments of `args`.
   *
   * @private
   * @param {Function} func The function to invoke.
   * @param {*} thisArg The `this` binding of `func`.
   * @param {Array} args The arguments to invoke `func` with.
   * @returns {*} Returns the result of `func`.
   */function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2]);}return func.apply(thisArg,args);}/**
   * A specialized version of `baseAggregator` for arrays.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} setter The function to set `accumulator` values.
   * @param {Function} iteratee The iteratee to transform keys.
   * @param {Object} accumulator The initial aggregated object.
   * @returns {Function} Returns `accumulator`.
   */function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array);}return accumulator;}/**
   * A specialized version of `_.forEach` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns `array`.
   */function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break;}}return array;}/**
   * A specialized version of `_.forEachRight` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns `array`.
   */function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break;}}return array;}/**
   * A specialized version of `_.every` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if all elements pass the predicate check,
   *  else `false`.
   */function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false;}}return true;}/**
   * A specialized version of `_.filter` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {Array} Returns the new filtered array.
   */function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value;}}return result;}/**
   * A specialized version of `_.includes` for arrays without support for
   * specifying an index to search from.
   *
   * @private
   * @param {Array} [array] The array to inspect.
   * @param {*} target The value to search for.
   * @returns {boolean} Returns `true` if `target` is found, else `false`.
   */function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1;}/**
   * This function is like `arrayIncludes` except that it accepts a comparator.
   *
   * @private
   * @param {Array} [array] The array to inspect.
   * @param {*} target The value to search for.
   * @param {Function} comparator The comparator invoked per element.
   * @returns {boolean} Returns `true` if `target` is found, else `false`.
   */function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true;}}return false;}/**
   * A specialized version of `_.map` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the new mapped array.
   */function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array);}return result;}/**
   * Appends the elements of `values` to `array`.
   *
   * @private
   * @param {Array} array The array to modify.
   * @param {Array} values The values to append.
   * @returns {Array} Returns `array`.
   */function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index];}return array;}/**
   * A specialized version of `_.reduce` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} [accumulator] The initial value.
   * @param {boolean} [initAccum] Specify using the first element of `array` as
   *  the initial value.
   * @returns {*} Returns the accumulated value.
   */function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index];}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array);}return accumulator;}/**
   * A specialized version of `_.reduceRight` for arrays without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} [accumulator] The initial value.
   * @param {boolean} [initAccum] Specify using the last element of `array` as
   *  the initial value.
   * @returns {*} Returns the accumulated value.
   */function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length];}while(length--){accumulator=iteratee(accumulator,array[length],length,array);}return accumulator;}/**
   * A specialized version of `_.some` for arrays without support for iteratee
   * shorthands.
   *
   * @private
   * @param {Array} [array] The array to iterate over.
   * @param {Function} predicate The function invoked per iteration.
   * @returns {boolean} Returns `true` if any element passes the predicate check,
   *  else `false`.
   */function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true;}}return false;}/**
   * Gets the size of an ASCII `string`.
   *
   * @private
   * @param {string} string The string inspect.
   * @returns {number} Returns the string size.
   */var asciiSize=baseProperty('length');/**
   * Converts an ASCII `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */function asciiToArray(string){return string.split('');}/**
   * Splits an ASCII `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */function asciiWords(string){return string.match(reAsciiWord)||[];}/**
   * The base implementation of methods like `_.findKey` and `_.findLastKey`,
   * without support for iteratee shorthands, which iterates over `collection`
   * using `eachFunc`.
   *
   * @private
   * @param {Array|Object} collection The collection to inspect.
   * @param {Function} predicate The function invoked per iteration.
   * @param {Function} eachFunc The function to iterate over `collection`.
   * @returns {*} Returns the found element or its key, else `undefined`.
   */function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false;}});return result;}/**
   * The base implementation of `_.findIndex` and `_.findLastIndex` without
   * support for iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {Function} predicate The function invoked per iteration.
   * @param {number} fromIndex The index to search from.
   * @param {boolean} [fromRight] Specify iterating from right to left.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index;}}return-1;}/**
   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex);}/**
   * This function is like `baseIndexOf` except that it accepts a comparator.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @param {Function} comparator The comparator invoked per element.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index;}}return-1;}/**
   * The base implementation of `_.isNaN` without support for number objects.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
   */function baseIsNaN(value){return value!==value;}/**
   * The base implementation of `_.mean` and `_.meanBy` without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {number} Returns the mean.
   */function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN;}/**
   * The base implementation of `_.property` without support for deep paths.
   *
   * @private
   * @param {string} key The key of the property to get.
   * @returns {Function} Returns the new accessor function.
   */function baseProperty(key){return function(object){return object==null?undefined:object[key];};}/**
   * The base implementation of `_.propertyOf` without support for deep paths.
   *
   * @private
   * @param {Object} object The object to query.
   * @returns {Function} Returns the new accessor function.
   */function basePropertyOf(object){return function(key){return object==null?undefined:object[key];};}/**
   * The base implementation of `_.reduce` and `_.reduceRight`, without support
   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.
   *
   * @private
   * @param {Array|Object} collection The collection to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @param {*} accumulator The initial value.
   * @param {boolean} initAccum Specify using the first or last element of
   *  `collection` as the initial value.
   * @param {Function} eachFunc The function to iterate over `collection`.
   * @returns {*} Returns the accumulated value.
   */function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection);});return accumulator;}/**
   * The base implementation of `_.sortBy` which uses `comparer` to define the
   * sort order of `array` and replaces criteria objects with their corresponding
   * values.
   *
   * @private
   * @param {Array} array The array to sort.
   * @param {Function} comparer The function to define sort order.
   * @returns {Array} Returns `array`.
   */function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value;}return array;}/**
   * The base implementation of `_.sum` and `_.sumBy` without support for
   * iteratee shorthands.
   *
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {number} Returns the sum.
   */function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current;}}return result;}/**
   * The base implementation of `_.times` without support for iteratee shorthands
   * or max array length checks.
   *
   * @private
   * @param {number} n The number of times to invoke `iteratee`.
   * @param {Function} iteratee The function invoked per iteration.
   * @returns {Array} Returns the array of results.
   */function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}return result;}/**
   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array
   * of key-value pairs for `object` corresponding to the property names of `props`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array} props The property names to get values for.
   * @returns {Object} Returns the key-value pairs.
   */function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]];});}/**
   * The base implementation of `_.trim`.
   *
   * @private
   * @param {string} string The string to trim.
   * @returns {string} Returns the trimmed string.
   */function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,''):string;}/**
   * The base implementation of `_.unary` without support for storing metadata.
   *
   * @private
   * @param {Function} func The function to cap arguments for.
   * @returns {Function} Returns the new capped function.
   */function baseUnary(func){return function(value){return func(value);};}/**
   * The base implementation of `_.values` and `_.valuesIn` which creates an
   * array of `object` property values corresponding to the property names
   * of `props`.
   *
   * @private
   * @param {Object} object The object to query.
   * @param {Array} props The property names to get values for.
   * @returns {Object} Returns the array of property values.
   */function baseValues(object,props){return arrayMap(props,function(key){return object[key];});}/**
   * Checks if a `cache` value for `key` exists.
   *
   * @private
   * @param {Object} cache The cache to query.
   * @param {string} key The key of the entry to check.
   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
   */function cacheHas(cache,key){return cache.has(key);}/**
   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol
   * that is not found in the character symbols.
   *
   * @private
   * @param {Array} strSymbols The string symbols to inspect.
   * @param {Array} chrSymbols The character symbols to find.
   * @returns {number} Returns the index of the first unmatched string symbol.
   */function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index;}/**
   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol
   * that is not found in the character symbols.
   *
   * @private
   * @param {Array} strSymbols The string symbols to inspect.
   * @param {Array} chrSymbols The character symbols to find.
   * @returns {number} Returns the index of the last unmatched string symbol.
   */function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index;}/**
   * Gets the number of `placeholder` occurrences in `array`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} placeholder The placeholder to search for.
   * @returns {number} Returns the placeholder count.
   */function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result;}}return result;}/**
   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
   * letters to basic Latin letters.
   *
   * @private
   * @param {string} letter The matched letter to deburr.
   * @returns {string} Returns the deburred letter.
   */var deburrLetter=basePropertyOf(deburredLetters);/**
   * Used by `_.escape` to convert characters to HTML entities.
   *
   * @private
   * @param {string} chr The matched character to escape.
   * @returns {string} Returns the escaped character.
   */var escapeHtmlChar=basePropertyOf(htmlEscapes);/**
   * Used by `_.template` to escape characters for inclusion in compiled string literals.
   *
   * @private
   * @param {string} chr The matched character to escape.
   * @returns {string} Returns the escaped character.
   */function escapeStringChar(chr){return'\\'+stringEscapes[chr];}/**
   * Gets the value at `key` of `object`.
   *
   * @private
   * @param {Object} [object] The object to query.
   * @param {string} key The key of the property to get.
   * @returns {*} Returns the property value.
   */function getValue(object,key){return object==null?undefined:object[key];}/**
   * Checks if `string` contains Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a symbol is found, else `false`.
   */function hasUnicode(string){return reHasUnicode.test(string);}/**
   * Checks if `string` contains a word composed of Unicode symbols.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {boolean} Returns `true` if a word is found, else `false`.
   */function hasUnicodeWord(string){return reHasUnicodeWord.test(string);}/**
   * Converts `iterator` to an array.
   *
   * @private
   * @param {Object} iterator The iterator to convert.
   * @returns {Array} Returns the converted array.
   */function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value);}return result;}/**
   * Converts `map` to its key-value pairs.
   *
   * @private
   * @param {Object} map The map to convert.
   * @returns {Array} Returns the key-value pairs.
   */function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value];});return result;}/**
   * Creates a unary function that invokes `func` with its argument transformed.
   *
   * @private
   * @param {Function} func The function to wrap.
   * @param {Function} transform The argument transform.
   * @returns {Function} Returns the new function.
   */function overArg(func,transform){return function(arg){return func(transform(arg));};}/**
   * Replaces all `placeholder` elements in `array` with an internal placeholder
   * and returns an array of their indexes.
   *
   * @private
   * @param {Array} array The array to modify.
   * @param {*} placeholder The placeholder to replace.
   * @returns {Array} Returns the new array of placeholder indexes.
   */function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index;}}return result;}/**
   * Converts `set` to an array of its values.
   *
   * @private
   * @param {Object} set The set to convert.
   * @returns {Array} Returns the values.
   */function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value;});return result;}/**
   * Converts `set` to its value-value pairs.
   *
   * @private
   * @param {Object} set The set to convert.
   * @returns {Array} Returns the value-value pairs.
   */function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value];});return result;}/**
   * A specialized version of `_.indexOf` which performs strict equality
   * comparisons of values, i.e. `===`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index;}}return-1;}/**
   * A specialized version of `_.lastIndexOf` which performs strict equality
   * comparisons of values, i.e. `===`.
   *
   * @private
   * @param {Array} array The array to inspect.
   * @param {*} value The value to search for.
   * @param {number} fromIndex The index to search from.
   * @returns {number} Returns the index of the matched value, else `-1`.
   */function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index;}}return index;}/**
   * Gets the number of symbols in `string`.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {number} Returns the string size.
   */function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string);}/**
   * Converts `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string);}/**
   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace
   * character of `string`.
   *
   * @private
   * @param {string} string The string to inspect.
   * @returns {number} Returns the index of the last non-whitespace character.
   */function trimmedEndIndex(string){var index=string.length;while(index--&&reWhitespace.test(string.charAt(index))){}return index;}/**
   * Used by `_.unescape` to convert HTML entities to characters.
   *
   * @private
   * @param {string} chr The matched character to unescape.
   * @returns {string} Returns the unescaped character.
   */var unescapeHtmlChar=basePropertyOf(htmlUnescapes);/**
   * Gets the size of a Unicode `string`.
   *
   * @private
   * @param {string} string The string inspect.
   * @returns {number} Returns the string size.
   */function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result;}return result;}/**
   * Converts a Unicode `string` to an array.
   *
   * @private
   * @param {string} string The string to convert.
   * @returns {Array} Returns the converted array.
   */function unicodeToArray(string){return string.match(reUnicode)||[];}/**
   * Splits a Unicode `string` into an array of its words.
   *
   * @private
   * @param {string} The string to inspect.
   * @returns {Array} Returns the words of `string`.
   */function unicodeWords(string){return string.match(reUnicodeWord)||[];}/*--------------------------------------------------------------------------*/ /**
   * Create a new pristine `lodash` function using the `context` object.
   *
   * @static
   * @memberOf _
   * @since 1.1.0
   * @category Util
   * @param {Object} [context=root] The context object.
   * @returns {Function} Returns a new `lodash` function.
   * @example
   *
   * _.mixin({ 'foo': _.constant('foo') });
   *
   * var lodash = _.runInContext();
   * lodash.mixin({ 'bar': lodash.constant('bar') });
   *
   * _.isFunction(_.foo);
   * // => true
   * _.isFunction(_.bar);
   * // => false
   *
   * lodash.isFunction(lodash.foo);
   * // => false
   * lodash.isFunction(lodash.bar);
   * // => true
   *
   * // Create a suped-up `defer` in Node.js.
   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;
   */var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));/** Built-in constructor references. */var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;/** Used for built-in method references. */var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;/** Used to detect overreaching core-js shims. */var coreJsData=context['__core-js_shared__'];/** Used to resolve the decompiled source of functions. */var funcToString=funcProto.toString;/** Used to check objects for own properties. */var hasOwnProperty=objectProto.hasOwnProperty;/** Used to generate unique IDs. */var idCounter=0;/** Used to detect methods masquerading as native. */var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?'Symbol(src)_1.'+uid:'';}();/**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */var nativeObjectToString=objectProto.toString;/** Used to infer the `Object` constructor. */var objectCtorString=funcToString.call(Object);/** Used to restore the original `_` reference in `_.noConflict`. */var oldDash=root._;/** Used to detect if a method is native. */var reIsNative=RegExp('^'+funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');/** Built-in value references. */var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,'defineProperty');func({},'',{});return func;}catch(e){}}();/** Mocked built-ins. */var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;/* Built-in method references for those with the same name as other `lodash` methods. */var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;/* Built-in method references that are verified to be native. */var DataView=getNative(context,'DataView'),Map=getNative(context,'Map'),Promise=getNative(context,'Promise'),Set=getNative(context,'Set'),WeakMap=getNative(context,'WeakMap'),nativeCreate=getNative(Object,'create');/** Used to store function metadata. */var metaMap=WeakMap&&new WeakMap();/** Used to lookup unminified function names. */var realNames={};/** Used to detect maps, sets, and weakmaps. */var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);/** Used to convert symbols to primitives and strings. */var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;/*------------------------------------------------------------------------*/ /**
     * Creates a `lodash` object which wraps `value` to enable implicit method
     * chain sequences. Methods that operate on and return arrays, collections,
     * and functions can be chained together. Methods that retrieve a single value
     * or may return a primitive value will automatically end the chain sequence
     * and return the unwrapped value. Otherwise, the value must be unwrapped
     * with `_#value`.
     *
     * Explicit chain sequences, which must be unwrapped with `_#value`, may be
     * enabled using `_.chain`.
     *
     * The execution of chained methods is lazy, that is, it's deferred until
     * `_#value` is implicitly or explicitly called.
     *
     * Lazy evaluation allows several methods to support shortcut fusion.
     * Shortcut fusion is an optimization to merge iteratee calls; this avoids
     * the creation of intermediate arrays and can greatly reduce the number of
     * iteratee executions. Sections of a chain sequence qualify for shortcut
     * fusion if the section is applied to an array and iteratees accept only
     * one argument. The heuristic for whether a section qualifies for shortcut
     * fusion is subject to change.
     *
     * Chaining is supported in custom builds as long as the `_#value` method is
     * directly or indirectly included in the build.
     *
     * In addition to lodash methods, wrappers have `Array` and `String` methods.
     *
     * The wrapper `Array` methods are:
     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`
     *
     * The wrapper `String` methods are:
     * `replace` and `split`
     *
     * The wrapper methods that support shortcut fusion are:
     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,
     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,
     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`
     *
     * The chainable wrapper methods are:
     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,
     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,
     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,
     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,
     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,
     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,
     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,
     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,
     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,
     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,
     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,
     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,
     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,
     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,
     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,
     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,
     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,
     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,
     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,
     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,
     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,
     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,
     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,
     * `zipObject`, `zipObjectDeep`, and `zipWith`
     *
     * The wrapper methods that are **not** chainable by default are:
     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,
     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,
     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,
     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,
     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,
     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,
     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,
     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,
     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,
     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,
     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,
     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,
     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,
     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,
     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,
     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,
     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,
     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,
     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,
     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,
     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,
     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,
     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,
     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,
     * `upperFirst`, `value`, and `words`
     *
     * @name _
     * @constructor
     * @category Seq
     * @param {*} value The value to wrap in a `lodash` instance.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var wrapped = _([1, 2, 3]);
     *
     * // Returns an unwrapped value.
     * wrapped.reduce(_.add);
     * // => 6
     *
     * // Returns a wrapped value.
     * var squares = wrapped.map(square);
     *
     * _.isArray(squares);
     * // => false
     *
     * _.isArray(squares.value());
     * // => true
     */function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value;}if(hasOwnProperty.call(value,'__wrapped__')){return wrapperClone(value);}}return new LodashWrapper(value);}/**
     * The base implementation of `_.create` without support for assigning
     * properties to the created object.
     *
     * @private
     * @param {Object} proto The object to inherit from.
     * @returns {Object} Returns the new object.
     */var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{};}if(objectCreate){return objectCreate(proto);}object.prototype=proto;var result=new object();object.prototype=undefined;return result;};}();/**
     * The function whose prototype chain sequence wrappers inherit from.
     *
     * @private
     */function baseLodash(){// No operation performed.
}/**
     * The base constructor for creating `lodash` wrapper objects.
     *
     * @private
     * @param {*} value The value to wrap.
     * @param {boolean} [chainAll] Enable explicit method chain sequences.
     */function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined;}/**
     * By default, the template delimiters used by lodash are like those in
     * embedded Ruby (ERB) as well as ES2015 template strings. Change the
     * following template settings to use alternative delimiters.
     *
     * @static
     * @memberOf _
     * @type {Object}
     */lodash.templateSettings={/**
       * Used to detect `data` property values to be HTML-escaped.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */'escape':reEscape,/**
       * Used to detect code to be evaluated.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */'evaluate':reEvaluate,/**
       * Used to detect `data` property values to inject.
       *
       * @memberOf _.templateSettings
       * @type {RegExp}
       */'interpolate':reInterpolate,/**
       * Used to reference the data object in the template text.
       *
       * @memberOf _.templateSettings
       * @type {string}
       */'variable':'',/**
       * Used to import variables into the compiled template.
       *
       * @memberOf _.templateSettings
       * @type {Object}
       */'imports':{/**
         * A reference to the `lodash` function.
         *
         * @memberOf _.templateSettings.imports
         * @type {Function}
         */'_':lodash}};// Ensure wrappers are instances of `baseLodash`.
lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;/*------------------------------------------------------------------------*/ /**
     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.
     *
     * @private
     * @constructor
     * @param {*} value The value to wrap.
     */function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[];}/**
     * Creates a clone of the lazy wrapper object.
     *
     * @private
     * @name clone
     * @memberOf LazyWrapper
     * @returns {Object} Returns the cloned `LazyWrapper` object.
     */function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result;}/**
     * Reverses the direction of lazy iteration.
     *
     * @private
     * @name reverse
     * @memberOf LazyWrapper
     * @returns {Object} Returns the new reversed `LazyWrapper` object.
     */function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true;}else{result=this.clone();result.__dir__*=-1;}return result;}/**
     * Extracts the unwrapped value from its lazy wrapper.
     *
     * @private
     * @name value
     * @memberOf LazyWrapper
     * @returns {*} Returns the unwrapped value.
     */function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__);}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed;}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer;}else{break outer;}}}result[resIndex++]=value;}return result;}// Ensure `LazyWrapper` is an instance of `baseLodash`.
LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;/*------------------------------------------------------------------------*/ /**
     * Creates a hash object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
     * Removes all key-value entries from the hash.
     *
     * @private
     * @name clear
     * @memberOf Hash
     */function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0;}/**
     * Removes `key` and its value from the hash.
     *
     * @private
     * @name delete
     * @memberOf Hash
     * @param {Object} hash The hash to modify.
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result;}/**
     * Gets the hash value for `key`.
     *
     * @private
     * @name get
     * @memberOf Hash
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result;}return hasOwnProperty.call(data,key)?data[key]:undefined;}/**
     * Checks if a hash value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Hash
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key);}/**
     * Sets the hash `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Hash
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the hash instance.
     */function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this;}// Add methods to `Hash`.
Hash.prototype.clear=hashClear;Hash.prototype['delete']=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;/*------------------------------------------------------------------------*/ /**
     * Creates an list cache object.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
     * Removes all key-value entries from the list cache.
     *
     * @private
     * @name clear
     * @memberOf ListCache
     */function listCacheClear(){this.__data__=[];this.size=0;}/**
     * Removes `key` and its value from the list cache.
     *
     * @private
     * @name delete
     * @memberOf ListCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false;}var lastIndex=data.length-1;if(index==lastIndex){data.pop();}else{splice.call(data,index,1);}--this.size;return true;}/**
     * Gets the list cache value for `key`.
     *
     * @private
     * @name get
     * @memberOf ListCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1];}/**
     * Checks if a list cache value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf ListCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1;}/**
     * Sets the list cache `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf ListCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the list cache instance.
     */function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value]);}else{data[index][1]=value;}return this;}// Add methods to `ListCache`.
ListCache.prototype.clear=listCacheClear;ListCache.prototype['delete']=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;/*------------------------------------------------------------------------*/ /**
     * Creates a map cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}/**
     * Removes all key-value entries from the map.
     *
     * @private
     * @name clear
     * @memberOf MapCache
     */function mapCacheClear(){this.size=0;this.__data__={'hash':new Hash(),'map':new(Map||ListCache)(),'string':new Hash()};}/**
     * Removes `key` and its value from the map.
     *
     * @private
     * @name delete
     * @memberOf MapCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function mapCacheDelete(key){var result=getMapData(this,key)['delete'](key);this.size-=result?1:0;return result;}/**
     * Gets the map value for `key`.
     *
     * @private
     * @name get
     * @memberOf MapCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function mapCacheGet(key){return getMapData(this,key).get(key);}/**
     * Checks if a map value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf MapCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function mapCacheHas(key){return getMapData(this,key).has(key);}/**
     * Sets the map `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf MapCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the map cache instance.
     */function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this;}// Add methods to `MapCache`.
MapCache.prototype.clear=mapCacheClear;MapCache.prototype['delete']=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;/*------------------------------------------------------------------------*/ /**
     *
     * Creates an array cache object to store unique values.
     *
     * @private
     * @constructor
     * @param {Array} [values] The values to cache.
     */function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache();while(++index<length){this.add(values[index]);}}/**
     * Adds `value` to the array cache.
     *
     * @private
     * @name add
     * @memberOf SetCache
     * @alias push
     * @param {*} value The value to cache.
     * @returns {Object} Returns the cache instance.
     */function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this;}/**
     * Checks if `value` is in the array cache.
     *
     * @private
     * @name has
     * @memberOf SetCache
     * @param {*} value The value to search for.
     * @returns {number} Returns `true` if `value` is found, else `false`.
     */function setCacheHas(value){return this.__data__.has(value);}// Add methods to `SetCache`.
SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;/*------------------------------------------------------------------------*/ /**
     * Creates a stack cache object to store key-value pairs.
     *
     * @private
     * @constructor
     * @param {Array} [entries] The key-value pairs to cache.
     */function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size;}/**
     * Removes all key-value entries from the stack.
     *
     * @private
     * @name clear
     * @memberOf Stack
     */function stackClear(){this.__data__=new ListCache();this.size=0;}/**
     * Removes `key` and its value from the stack.
     *
     * @private
     * @name delete
     * @memberOf Stack
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */function stackDelete(key){var data=this.__data__,result=data['delete'](key);this.size=data.size;return result;}/**
     * Gets the stack value for `key`.
     *
     * @private
     * @name get
     * @memberOf Stack
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */function stackGet(key){return this.__data__.get(key);}/**
     * Checks if a stack value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Stack
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */function stackHas(key){return this.__data__.has(key);}/**
     * Sets the stack `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Stack
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the stack cache instance.
     */function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this;}data=this.__data__=new MapCache(pairs);}data.set(key,value);this.size=data.size;return this;}// Add methods to `Stack`.
Stack.prototype.clear=stackClear;Stack.prototype['delete']=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;/*------------------------------------------------------------------------*/ /**
     * Creates an array of the enumerable property names of the array-like `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @param {boolean} inherited Specify returning inherited property names.
     * @returns {Array} Returns the array of property names.
     */function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(// Safari 9 has enumerable `arguments.length` in strict mode.
key=='length'||// Node.js 0.10 has enumerable non-index properties on buffers.
isBuff&&(key=='offset'||key=='parent')||// PhantomJS 2 has enumerable non-index properties on typed arrays.
isType&&(key=='buffer'||key=='byteLength'||key=='byteOffset')||// Skip index properties.
isIndex(key,length)))){result.push(key);}}return result;}/**
     * A specialized version of `_.sample` for arrays.
     *
     * @private
     * @param {Array} array The array to sample.
     * @returns {*} Returns the random element.
     */function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined;}/**
     * A specialized version of `_.sampleSize` for arrays.
     *
     * @private
     * @param {Array} array The array to sample.
     * @param {number} n The number of elements to sample.
     * @returns {Array} Returns the random elements.
     */function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length));}/**
     * A specialized version of `_.shuffle` for arrays.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */function arrayShuffle(array){return shuffleSelf(copyArray(array));}/**
     * This function is like `assignValue` except that it doesn't assign
     * `undefined` values.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value);}}/**
     * Assigns `value` to `key` of `object` if the existing value is not equivalent
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value);}}/**
     * Gets the index at which the `key` is found in `array` of key-value pairs.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {*} key The key to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     */function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length;}}return-1;}/**
     * Aggregates elements of `collection` on `accumulator` with keys transformed
     * by `iteratee` and values set by `setter`.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} setter The function to set `accumulator` values.
     * @param {Function} iteratee The iteratee to transform keys.
     * @param {Object} accumulator The initial aggregated object.
     * @returns {Function} Returns `accumulator`.
     */function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection);});return accumulator;}/**
     * The base implementation of `_.assign` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */function baseAssign(object,source){return object&&copyObject(source,keys(source),object);}/**
     * The base implementation of `_.assignIn` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object);}/**
     * The base implementation of `assignValue` and `assignMergeValue` without
     * value checks.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */function baseAssignValue(object,key,value){if(key=='__proto__'&&defineProperty){defineProperty(object,key,{'configurable':true,'enumerable':true,'value':value,'writable':true});}else{object[key]=value;}}/**
     * The base implementation of `_.at` without support for individual paths.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {string[]} paths The property paths to pick.
     * @returns {Array} Returns the picked elements.
     */function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index]);}return result;}/**
     * The base implementation of `_.clamp` which doesn't coerce arguments.
     *
     * @private
     * @param {number} number The number to clamp.
     * @param {number} [lower] The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the clamped number.
     */function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper;}if(lower!==undefined){number=number>=lower?number:lower;}}return number;}/**
     * The base implementation of `_.clone` and `_.cloneDeep` which tracks
     * traversed objects.
     *
     * @private
     * @param {*} value The value to clone.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Deep clone
     *  2 - Flatten inherited properties
     *  4 - Clone symbols
     * @param {Function} [customizer] The function to customize cloning.
     * @param {string} [key] The key of `value`.
     * @param {Object} [object] The parent object of `value`.
     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
     * @returns {*} Returns the cloned value.
     */function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value);}if(result!==undefined){return result;}if(!isObject(value)){return value;}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result);}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep);}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value));}}else{if(!cloneableTags[tag]){return object?value:{};}result=initCloneByTag(value,tag,isDeep);}}// Check for circular references and return its corresponding clone.
stack||(stack=new Stack());var stacked=stack.get(value);if(stacked){return stacked;}stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack));});}else if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack));});}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key];}// Recursively populate clone (susceptible to call stack limits).
assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack));});return result;}/**
     * The base implementation of `_.conforms` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property predicates to conform to.
     * @returns {Function} Returns the new spec function.
     */function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props);};}/**
     * The base implementation of `_.conformsTo` which accepts `props` to check.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property predicates to conform to.
     * @returns {boolean} Returns `true` if `object` conforms, else `false`.
     */function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length;}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false;}}return true;}/**
     * The base implementation of `_.delay` and `_.defer` which accepts `args`
     * to provide to `func`.
     *
     * @private
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @param {Array} args The arguments to provide to `func`.
     * @returns {number|Object} Returns the timer id or timeout object.
     */function baseDelay(func,wait,args){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}return setTimeout(function(){func.apply(undefined,args);},wait);}/**
     * The base implementation of methods like `_.difference` without support
     * for excluding multiple arrays or iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Array} values The values to exclude.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     */function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result;}if(iteratee){values=arrayMap(values,baseUnary(iteratee));}if(comparator){includes=arrayIncludesWith;isCommon=false;}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values);}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer;}}result.push(value);}else if(!includes(values,computed,comparator)){result.push(value);}}return result;}/**
     * The base implementation of `_.forEach` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     */var baseEach=createBaseEach(baseForOwn);/**
     * The base implementation of `_.forEachRight` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     */var baseEachRight=createBaseEach(baseForOwnRight,true);/**
     * The base implementation of `_.every` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if all elements pass the predicate check,
     *  else `false`
     */function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result;});return result;}/**
     * The base implementation of methods like `_.max` and `_.min` which accepts a
     * `comparator` to determine the extremum value.
     *
     * @private
     * @param {Array} array The array to iterate over.
     * @param {Function} iteratee The iteratee invoked per iteration.
     * @param {Function} comparator The comparator used to compare values.
     * @returns {*} Returns the extremum value.
     */function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value;}}return result;}/**
     * The base implementation of `_.fill` without an iteratee call guard.
     *
     * @private
     * @param {Array} array The array to fill.
     * @param {*} value The value to fill `array` with.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns `array`.
     */function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start;}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length;}end=start>end?0:toLength(end);while(start<end){array[start++]=value;}return array;}/**
     * The base implementation of `_.filter` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     */function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value);}});return result;}/**
     * The base implementation of `_.flatten` with support for restricting flattening.
     *
     * @private
     * @param {Array} array The array to flatten.
     * @param {number} depth The maximum recursion depth.
     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
     * @param {Array} [result=[]] The initial result value.
     * @returns {Array} Returns the new flattened array.
     */function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){// Recursively flatten arrays (susceptible to call stack limits).
baseFlatten(value,depth-1,predicate,isStrict,result);}else{arrayPush(result,value);}}else if(!isStrict){result[result.length]=value;}}return result;}/**
     * The base implementation of `baseForOwn` which iterates over `object`
     * properties returned by `keysFunc` and invokes `iteratee` for each property.
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @returns {Object} Returns `object`.
     */var baseFor=createBaseFor();/**
     * This function is like `baseFor` except that it iterates over properties
     * in the opposite order.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @returns {Object} Returns `object`.
     */var baseForRight=createBaseFor(true);/**
     * The base implementation of `_.forOwn` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Object} Returns `object`.
     */function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys);}/**
     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Object} Returns `object`.
     */function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys);}/**
     * The base implementation of `_.functions` which creates an array of
     * `object` function property names filtered from `props`.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Array} props The property names to filter.
     * @returns {Array} Returns the function names.
     */function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key]);});}/**
     * The base implementation of `_.get` without support for default values.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @returns {*} Returns the resolved value.
     */function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])];}return index&&index==length?object:undefined;}/**
     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
     * `keysFunc` and `symbolsFunc` to get the enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @param {Function} symbolsFunc The function to get the symbols of `object`.
     * @returns {Array} Returns the array of property names and symbols.
     */function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object));}/**
     * The base implementation of `getTag` without fallbacks for buggy environments.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag;}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value);}/**
     * The base implementation of `_.gt` which doesn't coerce arguments.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than `other`,
     *  else `false`.
     */function baseGt(value,other){return value>other;}/**
     * The base implementation of `_.has` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key);}/**
     * The base implementation of `_.hasIn` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */function baseHasIn(object,key){return object!=null&&key in Object(object);}/**
     * The base implementation of `_.inRange` which doesn't coerce arguments.
     *
     * @private
     * @param {number} number The number to check.
     * @param {number} start The start of the range.
     * @param {number} end The end of the range.
     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.
     */function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end);}/**
     * The base implementation of methods like `_.intersection`, without support
     * for iteratee shorthands, that accepts an array of arrays to inspect.
     *
     * @private
     * @param {Array} arrays The arrays to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of shared values.
     */function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee));}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined;}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer;}}if(seen){seen.push(computed);}result.push(value);}}return result;}/**
     * The base implementation of `_.invert` and `_.invertBy` which inverts
     * `object` with values transformed by `iteratee` and set by `setter`.
     *
     * @private
     * @param {Object} object The object to iterate over.
     * @param {Function} setter The function to set `accumulator` values.
     * @param {Function} iteratee The iteratee to transform values.
     * @param {Object} accumulator The initial inverted object.
     * @returns {Function} Returns `accumulator`.
     */function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object);});return accumulator;}/**
     * The base implementation of `_.invoke` without support for individual
     * method arguments.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the method to invoke.
     * @param {Array} args The arguments to invoke the method with.
     * @returns {*} Returns the result of the invoked method.
     */function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args);}/**
     * The base implementation of `_.isArguments`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     */function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag;}/**
     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.
     */function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag;}/**
     * The base implementation of `_.isDate` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.
     */function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag;}/**
     * The base implementation of `_.isEqual` which supports partial comparisons
     * and tracks traversed objects.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Unordered comparison
     *  2 - Partial comparison
     * @param {Function} [customizer] The function to customize comparisons.
     * @param {Object} [stack] Tracks traversed `value` and `other` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true;}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other;}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack);}/**
     * A specialized version of `baseIsEqual` for arrays and objects which performs
     * deep comparisons and tracks traversed objects enabling objects with circular
     * references to be compared.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} [stack] Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false;}objIsArr=true;objIsObj=false;}if(isSameTag&&!objIsObj){stack||(stack=new Stack());return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,'__wrapped__'),othIsWrapped=othIsObj&&hasOwnProperty.call(other,'__wrapped__');if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack());return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack);}}if(!isSameTag){return false;}stack||(stack=new Stack());return equalObjects(object,other,bitmask,customizer,equalFunc,stack);}/**
     * The base implementation of `_.isMap` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     */function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag;}/**
     * The base implementation of `_.isMatch` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Array} matchData The property names, values, and compare flags to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     */function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length;}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false;}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false;}}else{var stack=new Stack();if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack);}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false;}}}return true;}/**
     * The base implementation of `_.isNative` without bad shim checks.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     */function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false;}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value));}/**
     * The base implementation of `_.isRegExp` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.
     */function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag;}/**
     * The base implementation of `_.isSet` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a set, else `false`.
     */function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag;}/**
     * The base implementation of `_.isTypedArray` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     */function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)];}/**
     * The base implementation of `_.iteratee`.
     *
     * @private
     * @param {*} [value=_.identity] The value to convert to an iteratee.
     * @returns {Function} Returns the iteratee.
     */function baseIteratee(value){// Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
// See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
if(typeof value=='function'){return value;}if(value==null){return identity;}if(typeof value=='object'){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value);}return property(value);}/**
     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}return result;}/**
     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object);}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=='constructor'&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key);}}return result;}/**
     * The base implementation of `_.lt` which doesn't coerce arguments.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than `other`,
     *  else `false`.
     */function baseLt(value,other){return value<other;}/**
     * The base implementation of `_.map` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     */function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection);});return result;}/**
     * The base implementation of `_.matches` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     */function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1]);}return function(object){return object===source||baseIsMatch(object,source,matchData);};}/**
     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
     *
     * @private
     * @param {string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue);}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG);};}/**
     * The base implementation of `_.merge` without support for multiple sources.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} [customizer] The function to customize merged values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return;}baseFor(source,function(srcValue,key){stack||(stack=new Stack());if(isObject(srcValue)){baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+'',object,source,stack):undefined;if(newValue===undefined){newValue=srcValue;}assignMergeValue(object,key,newValue);}},keysIn);}/**
     * A specialized version of `baseMerge` for arrays and objects which performs
     * deep merges and tracks traversed objects enabling objects with circular
     * references to be merged.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @param {string} key The key of the value to merge.
     * @param {number} srcIndex The index of `source`.
     * @param {Function} mergeFunc The function to merge values.
     * @param {Function} [customizer] The function to customize assigned values.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     */function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return;}var newValue=customizer?customizer(objValue,srcValue,key+'',object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue;}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue);}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true);}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true);}else{newValue=[];}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue);}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue);}}else{isCommon=false;}}if(isCommon){// Recursively merge objects and arrays (susceptible to call stack limits).
stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack['delete'](srcValue);}assignMergeValue(object,key,newValue);}/**
     * The base implementation of `_.nth` which doesn't coerce arguments.
     *
     * @private
     * @param {Array} array The array to query.
     * @param {number} n The index of the element to return.
     * @returns {*} Returns the nth element of `array`.
     */function baseNth(array,n){var length=array.length;if(!length){return;}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined;}/**
     * The base implementation of `_.orderBy` without param guards.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.
     * @param {string[]} orders The sort orders of `iteratees`.
     * @returns {Array} Returns the new sorted array.
     */function baseOrderBy(collection,iteratees,orders){if(iteratees.length){iteratees=arrayMap(iteratees,function(iteratee){if(isArray(iteratee)){return function(value){return baseGet(value,iteratee.length===1?iteratee[0]:iteratee);};}return iteratee;});}else{iteratees=[identity];}var index=-1;iteratees=arrayMap(iteratees,baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value);});return{'criteria':criteria,'index':++index,'value':value};});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders);});}/**
     * The base implementation of `_.pick` without support for individual
     * property identifiers.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @returns {Object} Returns the new object.
     */function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path);});}/**
     * The base implementation of  `_.pickBy` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The source object.
     * @param {string[]} paths The property paths to pick.
     * @param {Function} predicate The function invoked per property.
     * @returns {Object} Returns the new object.
     */function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value);}}return result;}/**
     * A specialized version of `baseProperty` which supports deep paths.
     *
     * @private
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     */function basePropertyDeep(path){return function(object){return baseGet(object,path);};}/**
     * The base implementation of `_.pullAllBy` without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns `array`.
     */function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values);}if(iteratee){seen=arrayMap(array,baseUnary(iteratee));}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1);}splice.call(array,fromIndex,1);}}return array;}/**
     * The base implementation of `_.pullAt` without support for individual
     * indexes or capturing the removed elements.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {number[]} indexes The indexes of elements to remove.
     * @returns {Array} Returns `array`.
     */function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1);}else{baseUnset(array,index);}}}return array;}/**
     * The base implementation of `_.random` without support for returning
     * floating-point numbers.
     *
     * @private
     * @param {number} lower The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the random number.
     */function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1));}/**
     * The base implementation of `_.range` and `_.rangeRight` which doesn't
     * coerce arguments.
     *
     * @private
     * @param {number} start The start of the range.
     * @param {number} end The end of the range.
     * @param {number} step The value to increment or decrement by.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Array} Returns the range of numbers.
     */function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step;}return result;}/**
     * The base implementation of `_.repeat` which doesn't coerce arguments.
     *
     * @private
     * @param {string} string The string to repeat.
     * @param {number} n The number of times to repeat the string.
     * @returns {string} Returns the repeated string.
     */function baseRepeat(string,n){var result='';if(!string||n<1||n>MAX_SAFE_INTEGER){return result;}// Leverage the exponentiation by squaring algorithm for a faster repeat.
// See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.
do{if(n%2){result+=string;}n=nativeFloor(n/2);if(n){string+=string;}}while(n);return result;}/**
     * The base implementation of `_.rest` which doesn't validate or coerce arguments.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @returns {Function} Returns the new function.
     */function baseRest(func,start){return setToString(overRest(func,start,identity),func+'');}/**
     * The base implementation of `_.sample`.
     *
     * @private
     * @param {Array|Object} collection The collection to sample.
     * @returns {*} Returns the random element.
     */function baseSample(collection){return arraySample(values(collection));}/**
     * The base implementation of `_.sampleSize` without param guards.
     *
     * @private
     * @param {Array|Object} collection The collection to sample.
     * @param {number} n The number of elements to sample.
     * @returns {Array} Returns the random elements.
     */function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length));}/**
     * The base implementation of `_.set`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @param {Function} [customizer] The function to customize path creation.
     * @returns {Object} Returns `object`.
     */function baseSet(object,path,value,customizer){if(!isObject(object)){return object;}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key==='__proto__'||key==='constructor'||key==='prototype'){return object;}if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{};}}assignValue(nested,key,newValue);nested=nested[key];}return object;}/**
     * The base implementation of `setData` without support for hot loop shorting.
     *
     * @private
     * @param {Function} func The function to associate metadata with.
     * @param {*} data The metadata.
     * @returns {Function} Returns `func`.
     */var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func;};/**
     * The base implementation of `setToString` without support for hot loop shorting.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,'toString',{'configurable':true,'enumerable':false,'value':constant(string),'writable':true});};/**
     * The base implementation of `_.shuffle`.
     *
     * @private
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */function baseShuffle(collection){return shuffleSelf(values(collection));}/**
     * The base implementation of `_.slice` without an iteratee call guard.
     *
     * @private
     * @param {Array} array The array to slice.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the slice of `array`.
     */function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start;}end=end>length?length:end;if(end<0){end+=length;}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start];}return result;}/**
     * The base implementation of `_.some` without support for iteratee shorthands.
     *
     * @private
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     */function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result;});return!!result;}/**
     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which
     * performs a binary search of `array` to determine the index at which `value`
     * should be inserted into `array` in order to maintain its sort order.
     *
     * @private
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {boolean} [retHighest] Specify returning the highest qualified index.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     */function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=='number'&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1;}else{high=mid;}}return high;}return baseSortedIndexBy(array,value,identity,retHighest);}/**
     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`
     * which invokes `iteratee` for `value` and each element of `array` to compute
     * their sort ranking. The iteratee is invoked with one argument; (value).
     *
     * @private
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} iteratee The iteratee invoked per element.
     * @param {boolean} [retHighest] Specify returning the highest qualified index.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     */function baseSortedIndexBy(array,value,iteratee,retHighest){var low=0,high=array==null?0:array.length;if(high===0){return 0;}value=iteratee(value);var valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive;}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined);}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull);}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol);}else if(othIsNull||othIsSymbol){setLow=false;}else{setLow=retHighest?computed<=value:computed<value;}if(setLow){low=mid+1;}else{high=mid;}}return nativeMin(high,MAX_ARRAY_INDEX);}/**
     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without
     * support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     */function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value;}}return result;}/**
     * The base implementation of `_.toNumber` which doesn't ensure correct
     * conversions of binary, hexadecimal, or octal string values.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     */function baseToNumber(value){if(typeof value=='number'){return value;}if(isSymbol(value)){return NAN;}return+value;}/**
     * The base implementation of `_.toString` which doesn't convert nullish
     * values to empty strings.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {string} Returns the string.
     */function baseToString(value){// Exit early for strings to avoid a performance hit in some environments.
if(typeof value=='string'){return value;}if(isArray(value)){// Recursively convert values (susceptible to call stack limits).
return arrayMap(value,baseToString)+'';}if(isSymbol(value)){return symbolToString?symbolToString.call(value):'';}var result=value+'';return result=='0'&&1/value==-INFINITY?'-0':result;}/**
     * The base implementation of `_.uniqBy` without support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     */function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith;}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set);}isCommon=false;includes=cacheHas;seen=new SetCache();}else{seen=iteratee?[]:result;}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer;}}if(iteratee){seen.push(computed);}result.push(value);}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed);}result.push(value);}}return result;}/**
     * The base implementation of `_.unset`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The property path to unset.
     * @returns {boolean} Returns `true` if the property is deleted, else `false`.
     */function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))];}/**
     * The base implementation of `_.update`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to update.
     * @param {Function} updater The function to produce the updated value.
     * @param {Function} [customizer] The function to customize path creation.
     * @returns {Object} Returns `object`.
     */function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer);}/**
     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`
     * without support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to query.
     * @param {Function} predicate The function invoked per iteration.
     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Array} Returns the slice of `array`.
     */function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index);}/**
     * The base implementation of `wrapperValue` which returns the result of
     * performing a sequence of actions on the unwrapped `value`, where each
     * successive action is supplied the return value of the previous.
     *
     * @private
     * @param {*} value The unwrapped value.
     * @param {Array} actions Actions to perform to resolve the unwrapped value.
     * @returns {*} Returns the resolved value.
     */function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value();}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args));},result);}/**
     * The base implementation of methods like `_.xor`, without support for
     * iteratee shorthands, that accepts an array of arrays to inspect.
     *
     * @private
     * @param {Array} arrays The arrays to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of values.
     */function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[];}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator);}}}return baseUniq(baseFlatten(result,1),iteratee,comparator);}/**
     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.
     *
     * @private
     * @param {Array} props The property identifiers.
     * @param {Array} values The property values.
     * @param {Function} assignFunc The function to assign values.
     * @returns {Object} Returns the new object.
     */function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value);}return result;}/**
     * Casts `value` to an empty array if it's not an array like object.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {Array|Object} Returns the cast array-like object.
     */function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[];}/**
     * Casts `value` to `identity` if it's not a function.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {Function} Returns cast function.
     */function castFunction(value){return typeof value=='function'?value:identity;}/**
     * Casts `value` to a path array if it's not one.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {Object} [object] The object to query keys on.
     * @returns {Array} Returns the cast property path array.
     */function castPath(value,object){if(isArray(value)){return value;}return isKey(value,object)?[value]:stringToPath(toString(value));}/**
     * A `baseRest` alias which can be replaced with `identity` by module
     * replacement plugins.
     *
     * @private
     * @type {Function}
     * @param {Function} func The function to apply a rest parameter to.
     * @returns {Function} Returns the new function.
     */var castRest=baseRest;/**
     * Casts `array` to a slice if it's needed.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {number} start The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the cast slice.
     */function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end);}/**
     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).
     *
     * @private
     * @param {number|Object} id The timer id or timeout object of the timer to clear.
     */var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id);};/**
     * Creates a clone of  `buffer`.
     *
     * @private
     * @param {Buffer} buffer The buffer to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Buffer} Returns the cloned buffer.
     */function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice();}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result;}/**
     * Creates a clone of `arrayBuffer`.
     *
     * @private
     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
     * @returns {ArrayBuffer} Returns the cloned array buffer.
     */function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result;}/**
     * Creates a clone of `dataView`.
     *
     * @private
     * @param {Object} dataView The data view to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned data view.
     */function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength);}/**
     * Creates a clone of `regexp`.
     *
     * @private
     * @param {Object} regexp The regexp to clone.
     * @returns {Object} Returns the cloned regexp.
     */function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result;}/**
     * Creates a clone of the `symbol` object.
     *
     * @private
     * @param {Object} symbol The symbol object to clone.
     * @returns {Object} Returns the cloned symbol object.
     */function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{};}/**
     * Creates a clone of `typedArray`.
     *
     * @private
     * @param {Object} typedArray The typed array to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned typed array.
     */function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length);}/**
     * Compares values to sort them in ascending order.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {number} Returns the sort order indicator for `value`.
     */function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1;}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1;}}return 0;}/**
     * Used by `_.orderBy` to compare multiple properties of a value to another
     * and stable sort them.
     *
     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,
     * specify an order of "desc" for descending or "asc" for ascending sort order
     * of corresponding values.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {boolean[]|string[]} orders The order to sort by for each property.
     * @returns {number} Returns the sort order indicator for `object`.
     */function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result;}var order=orders[index];return result*(order=='desc'?-1:1);}}// Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
// that causes it, under certain circumstances, to provide the same value for
// `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247
// for more details.
//
// This also ensures a stable sort in V8 and other engines.
// See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.
return object.index-other.index;}/**
     * Creates an array that is the composition of partially applied arguments,
     * placeholders, and provided arguments into a single array of arguments.
     *
     * @private
     * @param {Array} args The provided arguments.
     * @param {Array} partials The arguments to prepend to those provided.
     * @param {Array} holders The `partials` placeholder indexes.
     * @params {boolean} [isCurried] Specify composing for a curried function.
     * @returns {Array} Returns the new array of composed arguments.
     */function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex];}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex];}}while(rangeLength--){result[leftIndex++]=args[argsIndex++];}return result;}/**
     * This function is like `composeArgs` except that the arguments composition
     * is tailored for `_.partialRight`.
     *
     * @private
     * @param {Array} args The provided arguments.
     * @param {Array} partials The arguments to append to those provided.
     * @param {Array} holders The `partials` placeholder indexes.
     * @params {boolean} [isCurried] Specify composing for a curried function.
     * @returns {Array} Returns the new array of composed arguments.
     */function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex];}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex];}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++];}}return result;}/**
     * Copies the values of `source` to `array`.
     *
     * @private
     * @param {Array} source The array to copy values from.
     * @param {Array} [array=[]] The array to copy values to.
     * @returns {Array} Returns `array`.
     */function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index];}return array;}/**
     * Copies properties of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy properties from.
     * @param {Array} props The property identifiers to copy.
     * @param {Object} [object={}] The object to copy properties to.
     * @param {Function} [customizer] The function to customize copied values.
     * @returns {Object} Returns `object`.
     */function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key];}if(isNew){baseAssignValue(object,key,newValue);}else{assignValue(object,key,newValue);}}return object;}/**
     * Copies own symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */function copySymbols(source,object){return copyObject(source,getSymbols(source),object);}/**
     * Copies own and inherited symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object);}/**
     * Creates a function like `_.groupBy`.
     *
     * @private
     * @param {Function} setter The function to set accumulator values.
     * @param {Function} [initializer] The accumulator object initializer.
     * @returns {Function} Returns the new aggregator function.
     */function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator);};}/**
     * Creates a function like `_.assign`.
     *
     * @private
     * @param {Function} assigner The function to assign values.
     * @returns {Function} Returns the new assigner function.
     */function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=='function'?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1;}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer);}}return object;});}/**
     * Creates a `baseEach` or `baseEachRight` function.
     *
     * @private
     * @param {Function} eachFunc The function to iterate over a collection.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection;}if(!isArrayLike(collection)){return eachFunc(collection,iteratee);}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break;}}return collection;};}/**
     * Creates a base function for methods like `_.forIn` and `_.forOwn`.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new base function.
     */function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break;}}return object;};}/**
     * Creates a function that wraps `func` to invoke it with the optional `this`
     * binding of `thisArg`.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments);}return wrapper;}/**
     * Creates a function like `_.lowerFirst`.
     *
     * @private
     * @param {string} methodName The name of the `String` case method to use.
     * @returns {Function} Returns the new case function.
     */function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(''):string.slice(1);return chr[methodName]()+trailing;};}/**
     * Creates a function like `_.camelCase`.
     *
     * @private
     * @param {Function} callback The function to combine each word.
     * @returns {Function} Returns the new compounder function.
     */function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,'')),callback,'');};}/**
     * Creates a function that produces an instance of `Ctor` regardless of
     * whether it was invoked as part of a `new` expression or by `call` or `apply`.
     *
     * @private
     * @param {Function} Ctor The constructor to wrap.
     * @returns {Function} Returns the new wrapped function.
     */function createCtor(Ctor){return function(){// Use a `switch` statement to work with class constructors. See
// http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist
// for more details.
var args=arguments;switch(args.length){case 0:return new Ctor();case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);// Mimic the constructor's `return` behavior.
// See https://es5.github.io/#x13.2.2 for more details.
return isObject(result)?result:thisBinding;};}/**
     * Creates a function that wraps `func` to enable currying.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {number} arity The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index];}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args);}return wrapper;}/**
     * Creates a `_.find` or `_.findLast` function.
     *
     * @private
     * @param {Function} findIndexFunc The function to find the collection index.
     * @returns {Function} Returns the new find function.
     */function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function predicate(key){return iteratee(iterable[key],key,iterable);};}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined;};}/**
     * Creates a `_.flow` or `_.flowRight` function.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new flow function.
     */function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse();}while(index--){var func=funcs[index];if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}if(prereq&&!wrapper&&getFuncName(func)=='wrapper'){var wrapper=new LodashWrapper([],true);}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=='wrapper'?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3]);}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func);}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value();}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result);}return result;};});}/**
     * Creates a function that wraps `func` to invoke it with optional `this`
     * binding of `thisArg`, partial application, and currying.
     *
     * @private
     * @param {Function|string} func The function or method name to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to prepend to those provided to
     *  the new function.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [partialsRight] The arguments to append to those provided
     *  to the new function.
     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index];}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);}if(partials){args=composeArgs(args,partials,holders,isCurried);}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried);}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length);}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos);}else if(isFlip&&length>1){args.reverse();}if(isAry&&ary<length){args.length=ary;}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn);}return fn.apply(thisBinding,args);}return wrapper;}/**
     * Creates a function like `_.invertBy`.
     *
     * @private
     * @param {Function} setter The function to set accumulator values.
     * @param {Function} toIteratee The function to resolve iteratees.
     * @returns {Function} Returns the new inverter function.
     */function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{});};}/**
     * Creates a function that performs a mathematical operation on two values.
     *
     * @private
     * @param {Function} operator The function to perform the operation.
     * @param {number} [defaultValue] The value used for `undefined` arguments.
     * @returns {Function} Returns the new mathematical operation function.
     */function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue;}if(value!==undefined){result=value;}if(other!==undefined){if(result===undefined){return other;}if(typeof value=='string'||typeof other=='string'){value=baseToString(value);other=baseToString(other);}else{value=baseToNumber(value);other=baseToNumber(other);}result=operator(value,other);}return result;};}/**
     * Creates a function like `_.over`.
     *
     * @private
     * @param {Function} arrayFunc The function to iterate over iteratees.
     * @returns {Function} Returns the new over function.
     */function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args);});});});}/**
     * Creates the padding for `string` based on `length`. The `chars` string
     * is truncated if the number of characters exceeds `length`.
     *
     * @private
     * @param {number} length The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padding for `string`.
     */function createPadding(length,chars){chars=chars===undefined?' ':baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars;}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(''):result.slice(0,length);}/**
     * Creates a function that wraps `func` to invoke it with the `this` binding
     * of `thisArg` and `partials` prepended to the arguments it receives.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {*} thisArg The `this` binding of `func`.
     * @param {Array} partials The arguments to prepend to those provided to
     *  the new function.
     * @returns {Function} Returns the new wrapped function.
     */function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex];}while(argsLength--){args[leftIndex++]=arguments[++argsIndex];}return apply(fn,isBind?thisArg:this,args);}return wrapper;}/**
     * Creates a `_.range` or `_.rangeRight` function.
     *
     * @private
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {Function} Returns the new range function.
     */function createRange(fromRight){return function(start,end,step){if(step&&typeof step!='number'&&isIterateeCall(start,end,step)){end=step=undefined;}// Ensure the sign of `-0` is preserved.
start=toFinite(start);if(end===undefined){end=start;start=0;}else{end=toFinite(end);}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight);};}/**
     * Creates a function that performs a relational operation on two values.
     *
     * @private
     * @param {Function} operator The function to perform the operation.
     * @returns {Function} Returns the new relational operation function.
     */function createRelationalOperation(operator){return function(value,other){if(!(typeof value=='string'&&typeof other=='string')){value=toNumber(value);other=toNumber(other);}return operator(value,other);};}/**
     * Creates a function that wraps `func` to continue currying.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @param {Function} wrapFunc The function to create the `func` wrapper.
     * @param {*} placeholder The placeholder value.
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to prepend to those provided to
     *  the new function.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG);}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData);}result.placeholder=placeholder;return setWrapToString(result,func,bitmask);}/**
     * Creates a function like `_.round`.
     *
     * @private
     * @param {string} methodName The name of the `Math` method to use when rounding.
     * @returns {Function} Returns the new round function.
     */function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision&&nativeIsFinite(number)){// Shift with exponential notation to avoid floating-point issues.
// See [MDN](https://mdn.io/round#Examples) for more details.
var pair=(toString(number)+'e').split('e'),value=func(pair[0]+'e'+(+pair[1]+precision));pair=(toString(value)+'e').split('e');return+(pair[0]+'e'+(+pair[1]-precision));}return func(number);};}/**
     * Creates a set object of `values`.
     *
     * @private
     * @param {Array} values The values to add to the set.
     * @returns {Object} Returns the new set.
     */var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values);};/**
     * Creates a `_.toPairs` or `_.toPairsIn` function.
     *
     * @private
     * @param {Function} keysFunc The function to get the keys of a given object.
     * @returns {Function} Returns the new pairs function.
     */function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object);}if(tag==setTag){return setToPairs(object);}return baseToPairs(object,keysFunc(object));};}/**
     * Creates a function that either curries or invokes `func` with optional
     * `this` binding and partially applied arguments.
     *
     * @private
     * @param {Function|string} func The function or method name to wrap.
     * @param {number} bitmask The bitmask flags.
     *    1 - `_.bind`
     *    2 - `_.bindKey`
     *    4 - `_.curry` or `_.curryRight` of a bound function
     *    8 - `_.curry`
     *   16 - `_.curryRight`
     *   32 - `_.partial`
     *   64 - `_.partialRight`
     *  128 - `_.rearg`
     *  256 - `_.ary`
     *  512 - `_.flip`
     * @param {*} [thisArg] The `this` binding of `func`.
     * @param {Array} [partials] The arguments to be partially applied.
     * @param {Array} [holders] The `partials` placeholder indexes.
     * @param {Array} [argPos] The argument positions of the new function.
     * @param {number} [ary] The arity cap of `func`.
     * @param {number} [arity] The arity of `func`.
     * @returns {Function} Returns the new wrapped function.
     */function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined;}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined;}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data);}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG);}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg);}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity);}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials);}else{result=createHybrid.apply(undefined,newData);}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask);}/**
     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties
     * of source objects to the destination object for all destination properties
     * that resolve to `undefined`.
     *
     * @private
     * @param {*} objValue The destination value.
     * @param {*} srcValue The source value.
     * @param {string} key The key of the property to assign.
     * @param {Object} object The parent object of `objValue`.
     * @returns {*} Returns the value to assign.
     */function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue;}return objValue;}/**
     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source
     * objects into destination objects that are passed thru.
     *
     * @private
     * @param {*} objValue The destination value.
     * @param {*} srcValue The source value.
     * @param {string} key The key of the property to merge.
     * @param {Object} object The parent object of `objValue`.
     * @param {Object} source The parent object of `srcValue`.
     * @param {Object} [stack] Tracks traversed source values and their merged
     *  counterparts.
     * @returns {*} Returns the value to assign.
     */function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){// Recursively merge objects and arrays (susceptible to call stack limits).
stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack['delete'](srcValue);}return objValue;}/**
     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain
     * objects.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {string} key The key of the property to inspect.
     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.
     */function customOmitClone(value){return isPlainObject(value)?undefined:value;}/**
     * A specialized version of `baseIsEqualDeep` for arrays with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Array} array The array to compare.
     * @param {Array} other The other array to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `array` and `other` objects.
     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
     */function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false;}// Check that cyclic values are equal.
var arrStacked=stack.get(array);var othStacked=stack.get(other);if(arrStacked&&othStacked){return arrStacked==other&&othStacked==array;}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache():undefined;stack.set(array,other);stack.set(other,array);// Ignore non-index properties.
while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);}if(compared!==undefined){if(compared){continue;}result=false;break;}// Recursively compare arrays (susceptible to call stack limits).
if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex);}})){result=false;break;}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break;}}stack['delete'](array);stack['delete'](other);return result;}/**
     * A specialized version of `baseIsEqualDeep` for comparing objects of
     * the same `toStringTag`.
     *
     * **Note:** This function only supports comparing values with tags of
     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {string} tag The `toStringTag` of the objects to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false;}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false;}return true;case boolTag:case dateTag:case numberTag:// Coerce booleans to `1` or `0` and dates to milliseconds.
// Invalid dates are coerced to `NaN`.
return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:// Coerce regexes to strings and treat strings, primitives and objects,
// as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
// for more details.
return object==other+'';case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false;}// Assume cyclic values are equal.
var stacked=stack.get(object);if(stacked){return stacked==other;}bitmask|=COMPARE_UNORDERED_FLAG;// Recursively compare objects (susceptible to call stack limits).
stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack['delete'](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other);}}return false;}/**
     * A specialized version of `baseIsEqualDeep` for objects with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false;}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false;}}// Check that cyclic values are equal.
var objStacked=stack.get(object);var othStacked=stack.get(other);if(objStacked&&othStacked){return objStacked==other&&othStacked==object;}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);}// Recursively compare objects (susceptible to call stack limits).
if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break;}skipCtor||(skipCtor=key=='constructor');}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;// Non `Object` object instances with different constructors are not equal.
if(objCtor!=othCtor&&'constructor'in object&&'constructor'in other&&!(typeof objCtor=='function'&&objCtor instanceof objCtor&&typeof othCtor=='function'&&othCtor instanceof othCtor)){result=false;}}stack['delete'](object);stack['delete'](other);return result;}/**
     * A specialized version of `baseRest` which flattens the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @returns {Function} Returns the new function.
     */function flatRest(func){return setToString(overRest(func,undefined,flatten),func+'');}/**
     * Creates an array of own enumerable property names and symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols);}/**
     * Creates an array of own and inherited enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn);}/**
     * Gets metadata for `func`.
     *
     * @private
     * @param {Function} func The function to query.
     * @returns {*} Returns the metadata for `func`.
     */var getData=!metaMap?noop:function(func){return metaMap.get(func);};/**
     * Gets the name of `func`.
     *
     * @private
     * @param {Function} func The function to query.
     * @returns {string} Returns the function name.
     */function getFuncName(func){var result=func.name+'',array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name;}}return result;}/**
     * Gets the argument placeholder value for `func`.
     *
     * @private
     * @param {Function} func The function to inspect.
     * @returns {*} Returns the placeholder value.
     */function getHolder(func){var object=hasOwnProperty.call(lodash,'placeholder')?lodash:func;return object.placeholder;}/**
     * Gets the appropriate "iteratee" function. If `_.iteratee` is customized,
     * this function returns the custom method, otherwise it returns `baseIteratee`.
     * If arguments are provided, the chosen function is invoked with them and
     * its result is returned.
     *
     * @private
     * @param {*} [value] The value to convert to an iteratee.
     * @param {number} [arity] The arity of the created iteratee.
     * @returns {Function} Returns the chosen function or its result.
     */function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result;}/**
     * Gets the data for `map`.
     *
     * @private
     * @param {Object} map The map to query.
     * @param {string} key The reference key.
     * @returns {*} Returns the map data.
     */function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=='string'?'string':'hash']:data.map;}/**
     * Gets the property names, values, and compare flags of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the match data of `object`.
     */function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)];}return result;}/**
     * Gets the native function at `key` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the method to get.
     * @returns {*} Returns the function if it's native, else `undefined`.
     */function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined;}/**
     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the raw `toStringTag`.
     */function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true;}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag;}else{delete value[symToStringTag];}}return result;}/**
     * Creates an array of the own enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[];}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol);});};/**
     * Creates an array of the own and inherited enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object);}return result;};/**
     * Gets the `toStringTag` of `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */var getTag=baseGetTag;// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map())!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set())!=setTag||WeakMap&&getTag(new WeakMap())!=weakMapTag){getTag=function getTag(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):'';if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}}return result;};}/**
     * Gets the view, applying any `transforms` to the `start` and `end` positions.
     *
     * @private
     * @param {number} start The start of the view.
     * @param {number} end The end of the view.
     * @param {Array} transforms The transformations to apply to the view.
     * @returns {Object} Returns an object containing the `start` and `end`
     *  positions of the view.
     */function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case'drop':start+=size;break;case'dropRight':end-=size;break;case'take':end=nativeMin(end,start+size);break;case'takeRight':start=nativeMax(start,end-size);break;}}return{'start':start,'end':end};}/**
     * Extracts wrapper details from the `source` body comment.
     *
     * @private
     * @param {string} source The source to inspect.
     * @returns {Array} Returns the wrapper details.
     */function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[];}/**
     * Checks if `path` exists on `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @param {Function} hasFunc The function to check properties.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     */function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break;}object=object[key];}if(result||++index!=length){return result;}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object));}/**
     * Initializes an array clone.
     *
     * @private
     * @param {Array} array The array to clone.
     * @returns {Array} Returns the initialized clone.
     */function initCloneArray(array){var length=array.length,result=new array.constructor(length);// Add properties assigned by `RegExp#exec`.
if(length&&typeof array[0]=='string'&&hasOwnProperty.call(array,'index')){result.index=array.index;result.input=array.input;}return result;}/**
     * Initializes an object clone.
     *
     * @private
     * @param {Object} object The object to clone.
     * @returns {Object} Returns the initialized clone.
     */function initCloneObject(object){return typeof object.constructor=='function'&&!isPrototype(object)?baseCreate(getPrototype(object)):{};}/**
     * Initializes an object clone based on its `toStringTag`.
     *
     * **Note:** This function only supports cloning values with tags of
     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.
     *
     * @private
     * @param {Object} object The object to clone.
     * @param {string} tag The `toStringTag` of the object to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the initialized clone.
     */function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor();case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor();case symbolTag:return cloneSymbol(object);}}/**
     * Inserts wrapper `details` in a comment at the top of the `source` body.
     *
     * @private
     * @param {string} source The source to modify.
     * @returns {Array} details The details to insert.
     * @returns {string} Returns the modified source.
     */function insertWrapDetails(source,details){var length=details.length;if(!length){return source;}var lastIndex=length-1;details[lastIndex]=(length>1?'& ':'')+details[lastIndex];details=details.join(length>2?', ':' ');return source.replace(reWrapComment,'{\n/* [wrapped with '+details+'] */\n');}/**
     * Checks if `value` is a flattenable `arguments` object or array.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
     */function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol]);}/**
     * Checks if `value` is a valid array-like index.
     *
     * @private
     * @param {*} value The value to check.
     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
     */function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=='number'||type!='symbol'&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length;}/**
     * Checks if the given arguments are from an iteratee call.
     *
     * @private
     * @param {*} value The potential iteratee value argument.
     * @param {*} index The potential iteratee index or key argument.
     * @param {*} object The potential iteratee object argument.
     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
     *  else `false`.
     */function isIterateeCall(value,index,object){if(!isObject(object)){return false;}var type=typeof index;if(type=='number'?isArrayLike(object)&&isIndex(index,object.length):type=='string'&&index in object){return eq(object[index],value);}return false;}/**
     * Checks if `value` is a property name and not a property path.
     *
     * @private
     * @param {*} value The value to check.
     * @param {Object} [object] The object to query keys on.
     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
     */function isKey(value,object){if(isArray(value)){return false;}var type=typeof value;if(type=='number'||type=='symbol'||type=='boolean'||value==null||isSymbol(value)){return true;}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object);}/**
     * Checks if `value` is suitable for use as unique object key.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
     */function isKeyable(value){var type=typeof value;return type=='string'||type=='number'||type=='symbol'||type=='boolean'?value!=='__proto__':value===null;}/**
     * Checks if `func` has a lazy counterpart.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,
     *  else `false`.
     */function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!='function'||!(funcName in LazyWrapper.prototype)){return false;}if(func===other){return true;}var data=getData(other);return!!data&&func===data[0];}/**
     * Checks if `func` has its source masked.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` is masked, else `false`.
     */function isMasked(func){return!!maskSrcKey&&maskSrcKey in func;}/**
     * Checks if `func` is capable of being masked.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.
     */var isMaskable=coreJsData?isFunction:stubFalse;/**
     * Checks if `value` is likely a prototype object.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
     */function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=='function'&&Ctor.prototype||objectProto;return value===proto;}/**
     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` if suitable for strict
     *  equality comparisons, else `false`.
     */function isStrictComparable(value){return value===value&&!isObject(value);}/**
     * A specialized version of `matchesProperty` for source values suitable
     * for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {string} key The key of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false;}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object));};}/**
     * A specialized version of `_.memoize` which clears the memoized function's
     * cache when it exceeds `MAX_MEMOIZE_SIZE`.
     *
     * @private
     * @param {Function} func The function to have its output memoized.
     * @returns {Function} Returns the new memoized function.
     */function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear();}return key;});var cache=result.cache;return result;}/**
     * Merges the function metadata of `source` into `data`.
     *
     * Merging metadata reduces the number of wrappers used to invoke a function.
     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`
     * may be applied regardless of execution order. Methods like `_.ary` and
     * `_.rearg` modify function arguments, making the order in which they are
     * executed important, preventing the merging of metadata. However, we make
     * an exception for a safe combined case where curried functions have `_.ary`
     * and or `_.rearg` applied.
     *
     * @private
     * @param {Array} data The destination metadata.
     * @param {Array} source The source metadata.
     * @returns {Array} Returns `data`.
     */function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;// Exit early if metadata can't be merged.
if(!(isCommon||isCombo)){return data;}// Use source `thisArg` if available.
if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];// Set when currying a bound function.
newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG;}// Compose partial arguments.
var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4];}// Compose partial right arguments.
value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6];}// Use source `argPos` if available.
value=source[7];if(value){data[7]=value;}// Use source `ary` if it's smaller.
if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8]);}// Use source `arity` if one is not provided.
if(data[9]==null){data[9]=source[9];}// Use source `func` and merge bitmasks.
data[0]=source[0];data[1]=newBitmask;return data;}/**
     * This function is like
     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * except that it includes inherited enumerable properties.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key);}}return result;}/**
     * Converts `value` to a string using `Object.prototype.toString`.
     *
     * @private
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     */function objectToString(value){return nativeObjectToString.call(value);}/**
     * A specialized version of `baseRest` which transforms the rest array.
     *
     * @private
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @param {Function} transform The rest array transform.
     * @returns {Function} Returns the new function.
     */function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index];}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index];}otherArgs[start]=transform(array);return apply(func,this,otherArgs);};}/**
     * Gets the parent value at `path` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array} path The path to get the parent value of.
     * @returns {*} Returns the parent value.
     */function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1));}/**
     * Reorder `array` according to the specified indexes where the element at
     * the first index is assigned as the first element, the element at
     * the second index is assigned as the second element, and so on.
     *
     * @private
     * @param {Array} array The array to reorder.
     * @param {Array} indexes The arranged array indexes.
     * @returns {Array} Returns `array`.
     */function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined;}return array;}/**
     * Gets the value at `key`, unless `key` is "__proto__" or "constructor".
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the property to get.
     * @returns {*} Returns the property value.
     */function safeGet(object,key){if(key==='constructor'&&typeof object[key]==='function'){return;}if(key=='__proto__'){return;}return object[key];}/**
     * Sets metadata for `func`.
     *
     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short
     * period of time, it will trip its breaker and transition to an identity
     * function to avoid garbage collection pauses in V8. See
     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)
     * for more details.
     *
     * @private
     * @param {Function} func The function to associate metadata with.
     * @param {*} data The metadata.
     * @returns {Function} Returns `func`.
     */var setData=shortOut(baseSetData);/**
     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).
     *
     * @private
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @returns {number|Object} Returns the timer id or timeout object.
     */var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait);};/**
     * Sets the `toString` method of `func` to return `string`.
     *
     * @private
     * @param {Function} func The function to modify.
     * @param {Function} string The `toString` result.
     * @returns {Function} Returns `func`.
     */var setToString=shortOut(baseSetToString);/**
     * Sets the `toString` method of `wrapper` to mimic the source of `reference`
     * with wrapper details in a comment at the top of the source body.
     *
     * @private
     * @param {Function} wrapper The function to modify.
     * @param {Function} reference The reference function.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @returns {Function} Returns `wrapper`.
     */function setWrapToString(wrapper,reference,bitmask){var source=reference+'';return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)));}/**
     * Creates a function that'll short out and invoke `identity` instead
     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
     * milliseconds.
     *
     * @private
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new shortable function.
     */function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0];}}else{count=0;}return func.apply(undefined,arguments);};}/**
     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @param {number} [size=array.length] The size of `array`.
     * @returns {Array} Returns `array`.
     */function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value;}array.length=size;return array;}/**
     * Converts `string` to a property path array.
     *
     * @private
     * @param {string} string The string to convert.
     * @returns {Array} Returns the property path array.
     */var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46/* . */){result.push('');}string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,'$1'):number||match);});return result;});/**
     * Converts `value` to a string key if it's not a string or symbol.
     *
     * @private
     * @param {*} value The value to inspect.
     * @returns {string|symbol} Returns the key.
     */function toKey(value){if(typeof value=='string'||isSymbol(value)){return value;}var result=value+'';return result=='0'&&1/value==-INFINITY?'-0':result;}/**
     * Converts `func` to its source code.
     *
     * @private
     * @param {Function} func The function to convert.
     * @returns {string} Returns the source code.
     */function toSource(func){if(func!=null){try{return funcToString.call(func);}catch(e){}try{return func+'';}catch(e){}}return'';}/**
     * Updates wrapper `details` based on `bitmask` flags.
     *
     * @private
     * @returns {Array} details The details to modify.
     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.
     * @returns {Array} Returns `details`.
     */function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value='_.'+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value);}});return details.sort();}/**
     * Creates a clone of `wrapper`.
     *
     * @private
     * @param {Object} wrapper The wrapper to clone.
     * @returns {Object} Returns the cloned wrapper.
     */function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone();}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result;}/*------------------------------------------------------------------------*/ /**
     * Creates an array of elements split into groups the length of `size`.
     * If `array` can't be split evenly, the final chunk will be the remaining
     * elements.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to process.
     * @param {number} [size=1] The length of each chunk
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the new array of chunks.
     * @example
     *
     * _.chunk(['a', 'b', 'c', 'd'], 2);
     * // => [['a', 'b'], ['c', 'd']]
     *
     * _.chunk(['a', 'b', 'c', 'd'], 3);
     * // => [['a', 'b', 'c'], ['d']]
     */function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1;}else{size=nativeMax(toInteger(size),0);}var length=array==null?0:array.length;if(!length||size<1){return[];}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size);}return result;}/**
     * Creates an array with all falsey values removed. The values `false`, `null`,
     * `0`, `""`, `undefined`, and `NaN` are falsey.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to compact.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.compact([0, 1, false, 2, '', 3]);
     * // => [1, 2, 3]
     */function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value;}}return result;}/**
     * Creates a new array concatenating `array` with any additional arrays
     * and/or values.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to concatenate.
     * @param {...*} [values] The values to concatenate.
     * @returns {Array} Returns the new concatenated array.
     * @example
     *
     * var array = [1];
     * var other = _.concat(array, 2, [3], [[4]]);
     *
     * console.log(other);
     * // => [1, 2, 3, [4]]
     *
     * console.log(array);
     * // => [1]
     */function concat(){var length=arguments.length;if(!length){return[];}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index];}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1));}/**
     * Creates an array of `array` values not included in the other given arrays
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. The order and references of result values are
     * determined by the first array.
     *
     * **Note:** Unlike `_.pullAll`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.without, _.xor
     * @example
     *
     * _.difference([2, 1], [2, 3]);
     * // => [1]
     */var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[];});/**
     * This method is like `_.difference` except that it accepts `iteratee` which
     * is invoked for each element of `array` and `values` to generate the criterion
     * by which they're compared. The order and references of result values are
     * determined by the first array. The iteratee is invoked with one argument:
     * (value).
     *
     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');
     * // => [{ 'x': 2 }]
     */var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined;}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[];});/**
     * This method is like `_.difference` except that it accepts `comparator`
     * which is invoked to compare elements of `array` to `values`. The order and
     * references of result values are determined by the first array. The comparator
     * is invoked with two arguments: (arrVal, othVal).
     *
     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...Array} [values] The values to exclude.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     *
     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);
     * // => [{ 'x': 2, 'y': 1 }]
     */var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined;}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[];});/**
     * Creates a slice of `array` with `n` elements dropped from the beginning.
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to drop.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.drop([1, 2, 3]);
     * // => [2, 3]
     *
     * _.drop([1, 2, 3], 2);
     * // => [3]
     *
     * _.drop([1, 2, 3], 5);
     * // => []
     *
     * _.drop([1, 2, 3], 0);
     * // => [1, 2, 3]
     */function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length);}/**
     * Creates a slice of `array` with `n` elements dropped from the end.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to drop.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.dropRight([1, 2, 3]);
     * // => [1, 2]
     *
     * _.dropRight([1, 2, 3], 2);
     * // => [1]
     *
     * _.dropRight([1, 2, 3], 5);
     * // => []
     *
     * _.dropRight([1, 2, 3], 0);
     * // => [1, 2, 3]
     */function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n);}/**
     * Creates a slice of `array` excluding elements dropped from the end.
     * Elements are dropped until `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.dropRightWhile(users, function(o) { return !o.active; });
     * // => objects for ['barney']
     *
     * // The `_.matches` iteratee shorthand.
     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });
     * // => objects for ['barney', 'fred']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.dropRightWhile(users, ['active', false]);
     * // => objects for ['barney']
     *
     * // The `_.property` iteratee shorthand.
     * _.dropRightWhile(users, 'active');
     * // => objects for ['barney', 'fred', 'pebbles']
     */function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[];}/**
     * Creates a slice of `array` excluding elements dropped from the beginning.
     * Elements are dropped until `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.dropWhile(users, function(o) { return !o.active; });
     * // => objects for ['pebbles']
     *
     * // The `_.matches` iteratee shorthand.
     * _.dropWhile(users, { 'user': 'barney', 'active': false });
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.dropWhile(users, ['active', false]);
     * // => objects for ['pebbles']
     *
     * // The `_.property` iteratee shorthand.
     * _.dropWhile(users, 'active');
     * // => objects for ['barney', 'fred', 'pebbles']
     */function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[];}/**
     * Fills elements of `array` with `value` from `start` up to, but not
     * including, `end`.
     *
     * **Note:** This method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Array
     * @param {Array} array The array to fill.
     * @param {*} value The value to fill `array` with.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _.fill(array, 'a');
     * console.log(array);
     * // => ['a', 'a', 'a']
     *
     * _.fill(Array(3), 2);
     * // => [2, 2, 2]
     *
     * _.fill([4, 6, 8, 10], '*', 1, 3);
     * // => [4, '*', '*', 10]
     */function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[];}if(start&&typeof start!='number'&&isIterateeCall(array,value,start)){start=0;end=length;}return baseFill(array,value,start,end);}/**
     * This method is like `_.find` except that it returns the index of the first
     * element `predicate` returns truthy for instead of the element itself.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.findIndex(users, function(o) { return o.user == 'barney'; });
     * // => 0
     *
     * // The `_.matches` iteratee shorthand.
     * _.findIndex(users, { 'user': 'fred', 'active': false });
     * // => 1
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findIndex(users, ['active', false]);
     * // => 0
     *
     * // The `_.property` iteratee shorthand.
     * _.findIndex(users, 'active');
     * // => 2
     */function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0);}return baseFindIndex(array,getIteratee(predicate,3),index);}/**
     * This method is like `_.findIndex` except that it iterates over elements
     * of `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the found element, else `-1`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });
     * // => 2
     *
     * // The `_.matches` iteratee shorthand.
     * _.findLastIndex(users, { 'user': 'barney', 'active': true });
     * // => 0
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findLastIndex(users, ['active', false]);
     * // => 2
     *
     * // The `_.property` iteratee shorthand.
     * _.findLastIndex(users, 'active');
     * // => 0
     */function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1);}return baseFindIndex(array,getIteratee(predicate,3),index,true);}/**
     * Flattens `array` a single level deep.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * _.flatten([1, [2, [3, [4]], 5]]);
     * // => [1, 2, [3, [4]], 5]
     */function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[];}/**
     * Recursively flattens `array`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * _.flattenDeep([1, [2, [3, [4]], 5]]);
     * // => [1, 2, 3, 4, 5]
     */function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[];}/**
     * Recursively flatten `array` up to `depth` times.
     *
     * @static
     * @memberOf _
     * @since 4.4.0
     * @category Array
     * @param {Array} array The array to flatten.
     * @param {number} [depth=1] The maximum recursion depth.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * var array = [1, [2, [3, [4]], 5]];
     *
     * _.flattenDepth(array, 1);
     * // => [1, 2, [3, [4]], 5]
     *
     * _.flattenDepth(array, 2);
     * // => [1, 2, 3, [4], 5]
     */function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[];}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth);}/**
     * The inverse of `_.toPairs`; this method returns an object composed
     * from key-value `pairs`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} pairs The key-value pairs.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.fromPairs([['a', 1], ['b', 2]]);
     * // => { 'a': 1, 'b': 2 }
     */function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1];}return result;}/**
     * Gets the first element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @alias first
     * @category Array
     * @param {Array} array The array to query.
     * @returns {*} Returns the first element of `array`.
     * @example
     *
     * _.head([1, 2, 3]);
     * // => 1
     *
     * _.head([]);
     * // => undefined
     */function head(array){return array&&array.length?array[0]:undefined;}/**
     * Gets the index at which the first occurrence of `value` is found in `array`
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. If `fromIndex` is negative, it's used as the
     * offset from the end of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.indexOf([1, 2, 1, 2], 2);
     * // => 1
     *
     * // Search from the `fromIndex`.
     * _.indexOf([1, 2, 1, 2], 2, 2);
     * // => 3
     */function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0);}return baseIndexOf(array,value,index);}/**
     * Gets all but the last element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.initial([1, 2, 3]);
     * // => [1, 2]
     */function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[];}/**
     * Creates an array of unique values that are included in all given arrays
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons. The order and references of result values are
     * determined by the first array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * _.intersection([2, 1], [2, 3]);
     * // => [2]
     */var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[];});/**
     * This method is like `_.intersection` except that it accepts `iteratee`
     * which is invoked for each element of each `arrays` to generate the criterion
     * by which they're compared. The order and references of result values are
     * determined by the first array. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [2.1]
     *
     * // The `_.property` iteratee shorthand.
     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }]
     */var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined;}else{mapped.pop();}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[];});/**
     * This method is like `_.intersection` except that it accepts `comparator`
     * which is invoked to compare elements of `arrays`. The order and references
     * of result values are determined by the first array. The comparator is
     * invoked with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of intersecting values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.intersectionWith(objects, others, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }]
     */var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=='function'?comparator:undefined;if(comparator){mapped.pop();}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[];});/**
     * Converts all elements in `array` into a string separated by `separator`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to convert.
     * @param {string} [separator=','] The element separator.
     * @returns {string} Returns the joined string.
     * @example
     *
     * _.join(['a', 'b', 'c'], '~');
     * // => 'a~b~c'
     */function join(array,separator){return array==null?'':nativeJoin.call(array,separator);}/**
     * Gets the last element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {*} Returns the last element of `array`.
     * @example
     *
     * _.last([1, 2, 3]);
     * // => 3
     */function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined;}/**
     * This method is like `_.indexOf` except that it iterates over elements of
     * `array` from right to left.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=array.length-1] The index to search from.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.lastIndexOf([1, 2, 1, 2], 2);
     * // => 3
     *
     * // Search from the `fromIndex`.
     * _.lastIndexOf([1, 2, 1, 2], 2, 2);
     * // => 1
     */function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1);}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true);}/**
     * Gets the element at index `n` of `array`. If `n` is negative, the nth
     * element from the end is returned.
     *
     * @static
     * @memberOf _
     * @since 4.11.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=0] The index of the element to return.
     * @returns {*} Returns the nth element of `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'd'];
     *
     * _.nth(array, 1);
     * // => 'b'
     *
     * _.nth(array, -2);
     * // => 'c';
     */function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined;}/**
     * Removes all given values from `array` using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`
     * to remove elements from an array by predicate.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {...*} [values] The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];
     *
     * _.pull(array, 'a', 'c');
     * console.log(array);
     * // => ['b', 'b']
     */var pull=baseRest(pullAll);/**
     * This method is like `_.pull` except that it accepts an array of values to remove.
     *
     * **Note:** Unlike `_.difference`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];
     *
     * _.pullAll(array, ['a', 'c']);
     * console.log(array);
     * // => ['b', 'b']
     */function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array;}/**
     * This method is like `_.pullAll` except that it accepts `iteratee` which is
     * invoked for each element of `array` and `values` to generate the criterion
     * by which they're compared. The iteratee is invoked with one argument: (value).
     *
     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];
     *
     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');
     * console.log(array);
     * // => [{ 'x': 2 }]
     */function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array;}/**
     * This method is like `_.pullAll` except that it accepts `comparator` which
     * is invoked to compare elements of `array` to `values`. The comparator is
     * invoked with two arguments: (arrVal, othVal).
     *
     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Array} values The values to remove.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];
     *
     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);
     * console.log(array);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]
     */function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array;}/**
     * Removes elements from `array` corresponding to `indexes` and returns an
     * array of removed elements.
     *
     * **Note:** Unlike `_.at`, this method mutates `array`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {...(number|number[])} [indexes] The indexes of elements to remove.
     * @returns {Array} Returns the new array of removed elements.
     * @example
     *
     * var array = ['a', 'b', 'c', 'd'];
     * var pulled = _.pullAt(array, [1, 3]);
     *
     * console.log(array);
     * // => ['a', 'c']
     *
     * console.log(pulled);
     * // => ['b', 'd']
     */var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index;}).sort(compareAscending));return result;});/**
     * Removes all elements from `array` that `predicate` returns truthy for
     * and returns an array of the removed elements. The predicate is invoked
     * with three arguments: (value, index, array).
     *
     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`
     * to pull elements from an array by value.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new array of removed elements.
     * @example
     *
     * var array = [1, 2, 3, 4];
     * var evens = _.remove(array, function(n) {
     *   return n % 2 == 0;
     * });
     *
     * console.log(array);
     * // => [1, 3]
     *
     * console.log(evens);
     * // => [2, 4]
     */function remove(array,predicate){var result=[];if(!(array&&array.length)){return result;}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index);}}basePullAt(array,indexes);return result;}/**
     * Reverses `array` so that the first element becomes the last, the second
     * element becomes the second to last, and so on.
     *
     * **Note:** This method mutates `array` and is based on
     * [`Array#reverse`](https://mdn.io/Array/reverse).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @returns {Array} Returns `array`.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _.reverse(array);
     * // => [3, 2, 1]
     *
     * console.log(array);
     * // => [3, 2, 1]
     */function reverse(array){return array==null?array:nativeReverse.call(array);}/**
     * Creates a slice of `array` from `start` up to, but not including, `end`.
     *
     * **Note:** This method is used instead of
     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are
     * returned.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to slice.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the slice of `array`.
     */function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[];}if(end&&typeof end!='number'&&isIterateeCall(array,start,end)){start=0;end=length;}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end);}return baseSlice(array,start,end);}/**
     * Uses a binary search to determine the lowest index at which `value`
     * should be inserted into `array` in order to maintain its sort order.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedIndex([30, 50], 40);
     * // => 1
     */function sortedIndex(array,value){return baseSortedIndex(array,value);}/**
     * This method is like `_.sortedIndex` except that it accepts `iteratee`
     * which is invoked for `value` and each element of `array` to compute their
     * sort ranking. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * var objects = [{ 'x': 4 }, { 'x': 5 }];
     *
     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });
     * // => 0
     *
     * // The `_.property` iteratee shorthand.
     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');
     * // => 0
     */function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2));}/**
     * This method is like `_.indexOf` except that it performs a binary
     * search on a sorted `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);
     * // => 1
     */function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index;}}return-1;}/**
     * This method is like `_.sortedIndex` except that it returns the highest
     * index at which `value` should be inserted into `array` in order to
     * maintain its sort order.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);
     * // => 4
     */function sortedLastIndex(array,value){return baseSortedIndex(array,value,true);}/**
     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`
     * which is invoked for `value` and each element of `array` to compute their
     * sort ranking. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The sorted array to inspect.
     * @param {*} value The value to evaluate.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the index at which `value` should be inserted
     *  into `array`.
     * @example
     *
     * var objects = [{ 'x': 4 }, { 'x': 5 }];
     *
     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });
     * // => 1
     *
     * // The `_.property` iteratee shorthand.
     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');
     * // => 1
     */function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true);}/**
     * This method is like `_.lastIndexOf` except that it performs a binary
     * search on a sorted `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {*} value The value to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     * @example
     *
     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);
     * // => 3
     */function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index;}}return-1;}/**
     * This method is like `_.uniq` except that it's designed and optimized
     * for sorted arrays.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.sortedUniq([1, 1, 2]);
     * // => [1, 2]
     */function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[];}/**
     * This method is like `_.uniqBy` except that it's designed and optimized
     * for sorted arrays.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);
     * // => [1.1, 2.3]
     */function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[];}/**
     * Gets all but the first element of `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.tail([1, 2, 3]);
     * // => [2, 3]
     */function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[];}/**
     * Creates a slice of `array` with `n` elements taken from the beginning.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to take.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.take([1, 2, 3]);
     * // => [1]
     *
     * _.take([1, 2, 3], 2);
     * // => [1, 2]
     *
     * _.take([1, 2, 3], 5);
     * // => [1, 2, 3]
     *
     * _.take([1, 2, 3], 0);
     * // => []
     */function take(array,n,guard){if(!(array&&array.length)){return[];}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n);}/**
     * Creates a slice of `array` with `n` elements taken from the end.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {number} [n=1] The number of elements to take.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * _.takeRight([1, 2, 3]);
     * // => [3]
     *
     * _.takeRight([1, 2, 3], 2);
     * // => [2, 3]
     *
     * _.takeRight([1, 2, 3], 5);
     * // => [1, 2, 3]
     *
     * _.takeRight([1, 2, 3], 0);
     * // => []
     */function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length);}/**
     * Creates a slice of `array` with elements taken from the end. Elements are
     * taken until `predicate` returns falsey. The predicate is invoked with
     * three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': true },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': false }
     * ];
     *
     * _.takeRightWhile(users, function(o) { return !o.active; });
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.matches` iteratee shorthand.
     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });
     * // => objects for ['pebbles']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.takeRightWhile(users, ['active', false]);
     * // => objects for ['fred', 'pebbles']
     *
     * // The `_.property` iteratee shorthand.
     * _.takeRightWhile(users, 'active');
     * // => []
     */function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[];}/**
     * Creates a slice of `array` with elements taken from the beginning. Elements
     * are taken until `predicate` returns falsey. The predicate is invoked with
     * three arguments: (value, index, array).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Array
     * @param {Array} array The array to query.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the slice of `array`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'active': false },
     *   { 'user': 'fred',    'active': false },
     *   { 'user': 'pebbles', 'active': true }
     * ];
     *
     * _.takeWhile(users, function(o) { return !o.active; });
     * // => objects for ['barney', 'fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.takeWhile(users, { 'user': 'barney', 'active': false });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.takeWhile(users, ['active', false]);
     * // => objects for ['barney', 'fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.takeWhile(users, 'active');
     * // => []
     */function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[];}/**
     * Creates an array of unique values, in order, from all given arrays using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * _.union([2], [1, 2]);
     * // => [2, 1]
     */var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true));});/**
     * This method is like `_.union` except that it accepts `iteratee` which is
     * invoked for each element of each `arrays` to generate the criterion by
     * which uniqueness is computed. Result values are chosen from the first
     * array in which the value occurs. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * _.unionBy([2.1], [1.2, 2.3], Math.floor);
     * // => [2.1, 1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined;}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2));});/**
     * This method is like `_.union` except that it accepts `comparator` which
     * is invoked to compare elements of `arrays`. Result values are chosen from
     * the first array in which the value occurs. The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of combined values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.unionWith(objects, others, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]
     */var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=='function'?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator);});/**
     * Creates a duplicate-free version of an array, using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons, in which only the first occurrence of each element
     * is kept. The order of result values is determined by the order they occur
     * in the array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.uniq([2, 1, 2]);
     * // => [2, 1]
     */function uniq(array){return array&&array.length?baseUniq(array):[];}/**
     * This method is like `_.uniq` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * uniqueness is computed. The order of result values is determined by the
     * order they occur in the array. The iteratee is invoked with one argument:
     * (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);
     * // => [2.1, 1.2]
     *
     * // The `_.property` iteratee shorthand.
     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 1 }, { 'x': 2 }]
     */function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[];}/**
     * This method is like `_.uniq` except that it accepts `comparator` which
     * is invoked to compare elements of `array`. The order of result values is
     * determined by the order they occur in the array.The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new duplicate free array.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.uniqWith(objects, _.isEqual);
     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]
     */function uniqWith(array,comparator){comparator=typeof comparator=='function'?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[];}/**
     * This method is like `_.zip` except that it accepts an array of grouped
     * elements and creates an array regrouping the elements to their pre-zip
     * configuration.
     *
     * @static
     * @memberOf _
     * @since 1.2.0
     * @category Array
     * @param {Array} array The array of grouped elements to process.
     * @returns {Array} Returns the new array of regrouped elements.
     * @example
     *
     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);
     * // => [['a', 1, true], ['b', 2, false]]
     *
     * _.unzip(zipped);
     * // => [['a', 'b'], [1, 2], [true, false]]
     */function unzip(array){if(!(array&&array.length)){return[];}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true;}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index));});}/**
     * This method is like `_.unzip` except that it accepts `iteratee` to specify
     * how regrouped values should be combined. The iteratee is invoked with the
     * elements of each group: (...group).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Array
     * @param {Array} array The array of grouped elements to process.
     * @param {Function} [iteratee=_.identity] The function to combine
     *  regrouped values.
     * @returns {Array} Returns the new array of regrouped elements.
     * @example
     *
     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);
     * // => [[1, 10, 100], [2, 20, 200]]
     *
     * _.unzipWith(zipped, _.add);
     * // => [3, 30, 300]
     */function unzipWith(array,iteratee){if(!(array&&array.length)){return[];}var result=unzip(array);if(iteratee==null){return result;}return arrayMap(result,function(group){return apply(iteratee,undefined,group);});}/**
     * Creates an array excluding all given values using
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * **Note:** Unlike `_.pull`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to inspect.
     * @param {...*} [values] The values to exclude.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.difference, _.xor
     * @example
     *
     * _.without([2, 1, 2, 3], 1, 2);
     * // => [3]
     */var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[];});/**
     * Creates an array of unique values that is the
     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)
     * of the given arrays. The order of result values is determined by the order
     * they occur in the arrays.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @returns {Array} Returns the new array of filtered values.
     * @see _.difference, _.without
     * @example
     *
     * _.xor([2, 1], [2, 3]);
     * // => [1, 3]
     */var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject));});/**
     * This method is like `_.xor` except that it accepts `iteratee` which is
     * invoked for each element of each `arrays` to generate the criterion by
     * which by which they're compared. The order of result values is determined
     * by the order they occur in the arrays. The iteratee is invoked with one
     * argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);
     * // => [1.2, 3.4]
     *
     * // The `_.property` iteratee shorthand.
     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');
     * // => [{ 'x': 2 }]
     */var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined;}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2));});/**
     * This method is like `_.xor` except that it accepts `comparator` which is
     * invoked to compare elements of `arrays`. The order of result values is
     * determined by the order they occur in the arrays. The comparator is invoked
     * with two arguments: (arrVal, othVal).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Array
     * @param {...Array} [arrays] The arrays to inspect.
     * @param {Function} [comparator] The comparator invoked per element.
     * @returns {Array} Returns the new array of filtered values.
     * @example
     *
     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];
     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];
     *
     * _.xorWith(objects, others, _.isEqual);
     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]
     */var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=='function'?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator);});/**
     * Creates an array of grouped elements, the first of which contains the
     * first elements of the given arrays, the second of which contains the
     * second elements of the given arrays, and so on.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {...Array} [arrays] The arrays to process.
     * @returns {Array} Returns the new array of grouped elements.
     * @example
     *
     * _.zip(['a', 'b'], [1, 2], [true, false]);
     * // => [['a', 1, true], ['b', 2, false]]
     */var zip=baseRest(unzip);/**
     * This method is like `_.fromPairs` except that it accepts two arrays,
     * one of property identifiers and one of corresponding values.
     *
     * @static
     * @memberOf _
     * @since 0.4.0
     * @category Array
     * @param {Array} [props=[]] The property identifiers.
     * @param {Array} [values=[]] The property values.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.zipObject(['a', 'b'], [1, 2]);
     * // => { 'a': 1, 'b': 2 }
     */function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue);}/**
     * This method is like `_.zipObject` except that it supports property paths.
     *
     * @static
     * @memberOf _
     * @since 4.1.0
     * @category Array
     * @param {Array} [props=[]] The property identifiers.
     * @param {Array} [values=[]] The property values.
     * @returns {Object} Returns the new object.
     * @example
     *
     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);
     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }
     */function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet);}/**
     * This method is like `_.zip` except that it accepts `iteratee` to specify
     * how grouped values should be combined. The iteratee is invoked with the
     * elements of each group: (...group).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Array
     * @param {...Array} [arrays] The arrays to process.
     * @param {Function} [iteratee=_.identity] The function to combine
     *  grouped values.
     * @returns {Array} Returns the new array of grouped elements.
     * @example
     *
     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {
     *   return a + b + c;
     * });
     * // => [111, 222]
     */var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=='function'?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee);});/*------------------------------------------------------------------------*/ /**
     * Creates a `lodash` wrapper instance that wraps `value` with explicit method
     * chain sequences enabled. The result of such sequences must be unwrapped
     * with `_#value`.
     *
     * @static
     * @memberOf _
     * @since 1.3.0
     * @category Seq
     * @param {*} value The value to wrap.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36 },
     *   { 'user': 'fred',    'age': 40 },
     *   { 'user': 'pebbles', 'age': 1 }
     * ];
     *
     * var youngest = _
     *   .chain(users)
     *   .sortBy('age')
     *   .map(function(o) {
     *     return o.user + ' is ' + o.age;
     *   })
     *   .head()
     *   .value();
     * // => 'pebbles is 1'
     */function chain(value){var result=lodash(value);result.__chain__=true;return result;}/**
     * This method invokes `interceptor` and returns `value`. The interceptor
     * is invoked with one argument; (value). The purpose of this method is to
     * "tap into" a method chain sequence in order to modify intermediate results.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns `value`.
     * @example
     *
     * _([1, 2, 3])
     *  .tap(function(array) {
     *    // Mutate input array.
     *    array.pop();
     *  })
     *  .reverse()
     *  .value();
     * // => [2, 1]
     */function tap(value,interceptor){interceptor(value);return value;}/**
     * This method is like `_.tap` except that it returns the result of `interceptor`.
     * The purpose of this method is to "pass thru" values replacing intermediate
     * results in a method chain sequence.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Seq
     * @param {*} value The value to provide to `interceptor`.
     * @param {Function} interceptor The function to invoke.
     * @returns {*} Returns the result of `interceptor`.
     * @example
     *
     * _('  abc  ')
     *  .chain()
     *  .trim()
     *  .thru(function(value) {
     *    return [value];
     *  })
     *  .value();
     * // => ['abc']
     */function thru(value,interceptor){return interceptor(value);}/**
     * This method is the wrapper version of `_.at`.
     *
     * @name at
     * @memberOf _
     * @since 1.0.0
     * @category Seq
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };
     *
     * _(object).at(['a[0].b.c', 'a[1]']).value();
     * // => [3, 4]
     */var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function interceptor(object){return baseAt(object,paths);};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor);}value=value.slice(start,+start+(length?1:0));value.__actions__.push({'func':thru,'args':[interceptor],'thisArg':undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined);}return array;});});/**
     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.
     *
     * @name chain
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36 },
     *   { 'user': 'fred',   'age': 40 }
     * ];
     *
     * // A sequence without explicit chaining.
     * _(users).head();
     * // => { 'user': 'barney', 'age': 36 }
     *
     * // A sequence with explicit chaining.
     * _(users)
     *   .chain()
     *   .head()
     *   .pick('user')
     *   .value();
     * // => { 'user': 'barney' }
     */function wrapperChain(){return chain(this);}/**
     * Executes the chain sequence and returns the wrapped result.
     *
     * @name commit
     * @memberOf _
     * @since 3.2.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var array = [1, 2];
     * var wrapped = _(array).push(3);
     *
     * console.log(array);
     * // => [1, 2]
     *
     * wrapped = wrapped.commit();
     * console.log(array);
     * // => [1, 2, 3]
     *
     * wrapped.last();
     * // => 3
     *
     * console.log(array);
     * // => [1, 2, 3]
     */function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__);}/**
     * Gets the next value on a wrapped object following the
     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).
     *
     * @name next
     * @memberOf _
     * @since 4.0.0
     * @category Seq
     * @returns {Object} Returns the next iterator value.
     * @example
     *
     * var wrapped = _([1, 2]);
     *
     * wrapped.next();
     * // => { 'done': false, 'value': 1 }
     *
     * wrapped.next();
     * // => { 'done': false, 'value': 2 }
     *
     * wrapped.next();
     * // => { 'done': true, 'value': undefined }
     */function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value());}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{'done':done,'value':value};}/**
     * Enables the wrapper to be iterable.
     *
     * @name Symbol.iterator
     * @memberOf _
     * @since 4.0.0
     * @category Seq
     * @returns {Object} Returns the wrapper object.
     * @example
     *
     * var wrapped = _([1, 2]);
     *
     * wrapped[Symbol.iterator]() === wrapped;
     * // => true
     *
     * Array.from(wrapped);
     * // => [1, 2]
     */function wrapperToIterator(){return this;}/**
     * Creates a clone of the chain sequence planting `value` as the wrapped value.
     *
     * @name plant
     * @memberOf _
     * @since 3.2.0
     * @category Seq
     * @param {*} value The value to plant.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var wrapped = _([1, 2]).map(square);
     * var other = wrapped.plant([3, 4]);
     *
     * other.value();
     * // => [9, 16]
     *
     * wrapped.value();
     * // => [1, 4]
     */function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone;}else{result=clone;}var previous=clone;parent=parent.__wrapped__;}previous.__wrapped__=value;return result;}/**
     * This method is the wrapper version of `_.reverse`.
     *
     * **Note:** This method mutates the wrapped array.
     *
     * @name reverse
     * @memberOf _
     * @since 0.1.0
     * @category Seq
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * var array = [1, 2, 3];
     *
     * _(array).reverse().value()
     * // => [3, 2, 1]
     *
     * console.log(array);
     * // => [3, 2, 1]
     */function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this);}wrapped=wrapped.reverse();wrapped.__actions__.push({'func':thru,'args':[reverse],'thisArg':undefined});return new LodashWrapper(wrapped,this.__chain__);}return this.thru(reverse);}/**
     * Executes the chain sequence to resolve the unwrapped value.
     *
     * @name value
     * @memberOf _
     * @since 0.1.0
     * @alias toJSON, valueOf
     * @category Seq
     * @returns {*} Returns the resolved unwrapped value.
     * @example
     *
     * _([1, 2, 3]).value();
     * // => [1, 2, 3]
     */function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__);}/*------------------------------------------------------------------------*/ /**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The corresponding value of
     * each key is the number of times the key was returned by `iteratee`. The
     * iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.countBy([6.1, 4.2, 6.3], Math.floor);
     * // => { '4': 1, '6': 2 }
     *
     * // The `_.property` iteratee shorthand.
     * _.countBy(['one', 'two', 'three'], 'length');
     * // => { '3': 2, '5': 1 }
     */var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key];}else{baseAssignValue(result,key,1);}});/**
     * Checks if `predicate` returns truthy for **all** elements of `collection`.
     * Iteration is stopped once `predicate` returns falsey. The predicate is
     * invoked with three arguments: (value, index|key, collection).
     *
     * **Note:** This method returns `true` for
     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because
     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of
     * elements of empty collections.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {boolean} Returns `true` if all elements pass the predicate check,
     *  else `false`.
     * @example
     *
     * _.every([true, 1, null, 'yes'], Boolean);
     * // => false
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': false },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.every(users, { 'user': 'barney', 'active': false });
     * // => false
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.every(users, ['active', false]);
     * // => true
     *
     * // The `_.property` iteratee shorthand.
     * _.every(users, 'active');
     * // => false
     */function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined;}return func(collection,getIteratee(predicate,3));}/**
     * Iterates over elements of `collection`, returning an array of all elements
     * `predicate` returns truthy for. The predicate is invoked with three
     * arguments: (value, index|key, collection).
     *
     * **Note:** Unlike `_.remove`, this method returns a new array.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     * @see _.reject
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': true },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * _.filter(users, function(o) { return !o.active; });
     * // => objects for ['fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.filter(users, { 'age': 36, 'active': true });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.filter(users, ['active', false]);
     * // => objects for ['fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.filter(users, 'active');
     * // => objects for ['barney']
     *
     * // Combining several predicates using `_.overEvery` or `_.overSome`.
     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));
     * // => objects for ['fred', 'barney']
     */function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3));}/**
     * Iterates over elements of `collection`, returning the first element
     * `predicate` returns truthy for. The predicate is invoked with three
     * arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=0] The index to search from.
     * @returns {*} Returns the matched element, else `undefined`.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36, 'active': true },
     *   { 'user': 'fred',    'age': 40, 'active': false },
     *   { 'user': 'pebbles', 'age': 1,  'active': true }
     * ];
     *
     * _.find(users, function(o) { return o.age < 40; });
     * // => object for 'barney'
     *
     * // The `_.matches` iteratee shorthand.
     * _.find(users, { 'age': 1, 'active': true });
     * // => object for 'pebbles'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.find(users, ['active', false]);
     * // => object for 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.find(users, 'active');
     * // => object for 'barney'
     */var find=createFind(findIndex);/**
     * This method is like `_.find` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param {number} [fromIndex=collection.length-1] The index to search from.
     * @returns {*} Returns the matched element, else `undefined`.
     * @example
     *
     * _.findLast([1, 2, 3, 4], function(n) {
     *   return n % 2 == 1;
     * });
     * // => 3
     */var findLast=createFind(findLastIndex);/**
     * Creates a flattened array of values by running each element in `collection`
     * thru `iteratee` and flattening the mapped results. The iteratee is invoked
     * with three arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [n, n];
     * }
     *
     * _.flatMap([1, 2], duplicate);
     * // => [1, 1, 2, 2]
     */function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1);}/**
     * This method is like `_.flatMap` except that it recursively flattens the
     * mapped results.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [[[n, n]]];
     * }
     *
     * _.flatMapDeep([1, 2], duplicate);
     * // => [1, 1, 2, 2]
     */function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY);}/**
     * This method is like `_.flatMap` except that it recursively flattens the
     * mapped results up to `depth` times.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {number} [depth=1] The maximum recursion depth.
     * @returns {Array} Returns the new flattened array.
     * @example
     *
     * function duplicate(n) {
     *   return [[[n, n]]];
     * }
     *
     * _.flatMapDepth([1, 2], duplicate, 2);
     * // => [[1, 1], [2, 2]]
     */function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth);}/**
     * Iterates over elements of `collection` and invokes `iteratee` for each element.
     * The iteratee is invoked with three arguments: (value, index|key, collection).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * **Note:** As with other "Collections" methods, objects with a "length"
     * property are iterated like arrays. To avoid this behavior use `_.forIn`
     * or `_.forOwn` for object iteration.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @alias each
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     * @see _.forEachRight
     * @example
     *
     * _.forEach([1, 2], function(value) {
     *   console.log(value);
     * });
     * // => Logs `1` then `2`.
     *
     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a' then 'b' (iteration order is not guaranteed).
     */function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3));}/**
     * This method is like `_.forEach` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @alias eachRight
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array|Object} Returns `collection`.
     * @see _.forEach
     * @example
     *
     * _.forEachRight([1, 2], function(value) {
     *   console.log(value);
     * });
     * // => Logs `2` then `1`.
     */function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3));}/**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The order of grouped values
     * is determined by the order they occur in `collection`. The corresponding
     * value of each key is an array of elements responsible for generating the
     * key. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * _.groupBy([6.1, 4.2, 6.3], Math.floor);
     * // => { '4': [4.2], '6': [6.1, 6.3] }
     *
     * // The `_.property` iteratee shorthand.
     * _.groupBy(['one', 'two', 'three'], 'length');
     * // => { '3': ['one', 'two'], '5': ['three'] }
     */var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value);}else{baseAssignValue(result,key,[value]);}});/**
     * Checks if `value` is in `collection`. If `collection` is a string, it's
     * checked for a substring of `value`, otherwise
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * is used for equality comparisons. If `fromIndex` is negative, it's used as
     * the offset from the end of `collection`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object|string} collection The collection to inspect.
     * @param {*} value The value to search for.
     * @param {number} [fromIndex=0] The index to search from.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.
     * @returns {boolean} Returns `true` if `value` is found, else `false`.
     * @example
     *
     * _.includes([1, 2, 3], 1);
     * // => true
     *
     * _.includes([1, 2, 3], 1, 2);
     * // => false
     *
     * _.includes({ 'a': 1, 'b': 2 }, 1);
     * // => true
     *
     * _.includes('abcd', 'bc');
     * // => true
     */function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0);}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1;}/**
     * Invokes the method at `path` of each element in `collection`, returning
     * an array of the results of each invoked method. Any additional arguments
     * are provided to each invoked method. If `path` is a function, it's invoked
     * for, and `this` bound to, each element in `collection`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Array|Function|string} path The path of the method to invoke or
     *  the function invoked per iteration.
     * @param {...*} [args] The arguments to invoke each method with.
     * @returns {Array} Returns the array of results.
     * @example
     *
     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');
     * // => [[1, 5, 7], [1, 2, 3]]
     *
     * _.invokeMap([123, 456], String.prototype.split, '');
     * // => [['1', '2', '3'], ['4', '5', '6']]
     */var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=='function',result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args);});return result;});/**
     * Creates an object composed of keys generated from the results of running
     * each element of `collection` thru `iteratee`. The corresponding value of
     * each key is the last element responsible for generating the key. The
     * iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.
     * @returns {Object} Returns the composed aggregate object.
     * @example
     *
     * var array = [
     *   { 'dir': 'left', 'code': 97 },
     *   { 'dir': 'right', 'code': 100 }
     * ];
     *
     * _.keyBy(array, function(o) {
     *   return String.fromCharCode(o.code);
     * });
     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
     *
     * _.keyBy(array, 'dir');
     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
     */var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value);});/**
     * Creates an array of values by running each element in `collection` thru
     * `iteratee`. The iteratee is invoked with three arguments:
     * (value, index|key, collection).
     *
     * Many lodash methods are guarded to work as iteratees for methods like
     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.
     *
     * The guarded methods are:
     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,
     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,
     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,
     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * _.map([4, 8], square);
     * // => [16, 64]
     *
     * _.map({ 'a': 4, 'b': 8 }, square);
     * // => [16, 64] (iteration order is not guaranteed)
     *
     * var users = [
     *   { 'user': 'barney' },
     *   { 'user': 'fred' }
     * ];
     *
     * // The `_.property` iteratee shorthand.
     * _.map(users, 'user');
     * // => ['barney', 'fred']
     */function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3));}/**
     * This method is like `_.sortBy` except that it allows specifying the sort
     * orders of the iteratees to sort by. If `orders` is unspecified, all values
     * are sorted in ascending order. Otherwise, specify an order of "desc" for
     * descending or "asc" for ascending sort order of corresponding values.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]
     *  The iteratees to sort by.
     * @param {string[]} [orders] The sort orders of `iteratees`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.
     * @returns {Array} Returns the new sorted array.
     * @example
     *
     * var users = [
     *   { 'user': 'fred',   'age': 48 },
     *   { 'user': 'barney', 'age': 34 },
     *   { 'user': 'fred',   'age': 40 },
     *   { 'user': 'barney', 'age': 36 }
     * ];
     *
     * // Sort by `user` in ascending order and by `age` in descending order.
     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);
     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
     */function orderBy(collection,iteratees,orders,guard){if(collection==null){return[];}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees];}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders];}return baseOrderBy(collection,iteratees,orders);}/**
     * Creates an array of elements split into two groups, the first of which
     * contains elements `predicate` returns truthy for, the second of which
     * contains elements `predicate` returns falsey for. The predicate is
     * invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the array of grouped elements.
     * @example
     *
     * var users = [
     *   { 'user': 'barney',  'age': 36, 'active': false },
     *   { 'user': 'fred',    'age': 40, 'active': true },
     *   { 'user': 'pebbles', 'age': 1,  'active': false }
     * ];
     *
     * _.partition(users, function(o) { return o.active; });
     * // => objects for [['fred'], ['barney', 'pebbles']]
     *
     * // The `_.matches` iteratee shorthand.
     * _.partition(users, { 'age': 1, 'active': false });
     * // => objects for [['pebbles'], ['barney', 'fred']]
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.partition(users, ['active', false]);
     * // => objects for [['barney', 'pebbles'], ['fred']]
     *
     * // The `_.property` iteratee shorthand.
     * _.partition(users, 'active');
     * // => objects for [['fred'], ['barney', 'pebbles']]
     */var partition=createAggregator(function(result,value,key){result[key?0:1].push(value);},function(){return[[],[]];});/**
     * Reduces `collection` to a value which is the accumulated result of running
     * each element in `collection` thru `iteratee`, where each successive
     * invocation is supplied the return value of the previous. If `accumulator`
     * is not given, the first element of `collection` is used as the initial
     * value. The iteratee is invoked with four arguments:
     * (accumulator, value, index|key, collection).
     *
     * Many lodash methods are guarded to work as iteratees for methods like
     * `_.reduce`, `_.reduceRight`, and `_.transform`.
     *
     * The guarded methods are:
     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,
     * and `sortBy`
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The initial value.
     * @returns {*} Returns the accumulated value.
     * @see _.reduceRight
     * @example
     *
     * _.reduce([1, 2], function(sum, n) {
     *   return sum + n;
     * }, 0);
     * // => 3
     *
     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
     *   (result[value] || (result[value] = [])).push(key);
     *   return result;
     * }, {});
     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)
     */function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach);}/**
     * This method is like `_.reduce` except that it iterates over elements of
     * `collection` from right to left.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The initial value.
     * @returns {*} Returns the accumulated value.
     * @see _.reduce
     * @example
     *
     * var array = [[0, 1], [2, 3], [4, 5]];
     *
     * _.reduceRight(array, function(flattened, other) {
     *   return flattened.concat(other);
     * }, []);
     * // => [4, 5, 2, 3, 0, 1]
     */function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight);}/**
     * The opposite of `_.filter`; this method returns the elements of `collection`
     * that `predicate` does **not** return truthy for.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     * @see _.filter
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': false },
     *   { 'user': 'fred',   'age': 40, 'active': true }
     * ];
     *
     * _.reject(users, function(o) { return !o.active; });
     * // => objects for ['fred']
     *
     * // The `_.matches` iteratee shorthand.
     * _.reject(users, { 'age': 40, 'active': true });
     * // => objects for ['barney']
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.reject(users, ['active', false]);
     * // => objects for ['fred']
     *
     * // The `_.property` iteratee shorthand.
     * _.reject(users, 'active');
     * // => objects for ['barney']
     */function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)));}/**
     * Gets a random element from `collection`.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to sample.
     * @returns {*} Returns the random element.
     * @example
     *
     * _.sample([1, 2, 3, 4]);
     * // => 2
     */function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection);}/**
     * Gets `n` random elements at unique keys from `collection` up to the
     * size of `collection`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Collection
     * @param {Array|Object} collection The collection to sample.
     * @param {number} [n=1] The number of elements to sample.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the random elements.
     * @example
     *
     * _.sampleSize([1, 2, 3], 2);
     * // => [3, 1]
     *
     * _.sampleSize([1, 2, 3], 4);
     * // => [2, 3, 1]
     */function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1;}else{n=toInteger(n);}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n);}/**
     * Creates an array of shuffled values, using a version of the
     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     * @example
     *
     * _.shuffle([1, 2, 3, 4]);
     * // => [4, 1, 3, 2]
     */function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection);}/**
     * Gets the size of `collection` by returning its length for array-like
     * values or the number of own enumerable string keyed properties for objects.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object|string} collection The collection to inspect.
     * @returns {number} Returns the collection size.
     * @example
     *
     * _.size([1, 2, 3]);
     * // => 3
     *
     * _.size({ 'a': 1, 'b': 2 });
     * // => 2
     *
     * _.size('pebbles');
     * // => 7
     */function size(collection){if(collection==null){return 0;}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length;}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size;}return baseKeys(collection).length;}/**
     * Checks if `predicate` returns truthy for **any** element of `collection`.
     * Iteration is stopped once `predicate` returns truthy. The predicate is
     * invoked with three arguments: (value, index|key, collection).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     * @example
     *
     * _.some([null, 0, 'yes', false], Boolean);
     * // => true
     *
     * var users = [
     *   { 'user': 'barney', 'active': true },
     *   { 'user': 'fred',   'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.some(users, { 'user': 'barney', 'active': false });
     * // => false
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.some(users, ['active', false]);
     * // => true
     *
     * // The `_.property` iteratee shorthand.
     * _.some(users, 'active');
     * // => true
     */function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined;}return func(collection,getIteratee(predicate,3));}/**
     * Creates an array of elements, sorted in ascending order by the results of
     * running each element in a collection thru each iteratee. This method
     * performs a stable sort, that is, it preserves the original sort order of
     * equal elements. The iteratees are invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {...(Function|Function[])} [iteratees=[_.identity]]
     *  The iteratees to sort by.
     * @returns {Array} Returns the new sorted array.
     * @example
     *
     * var users = [
     *   { 'user': 'fred',   'age': 48 },
     *   { 'user': 'barney', 'age': 36 },
     *   { 'user': 'fred',   'age': 30 },
     *   { 'user': 'barney', 'age': 34 }
     * ];
     *
     * _.sortBy(users, [function(o) { return o.user; }]);
     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]
     *
     * _.sortBy(users, ['user', 'age']);
     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]
     */var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[];}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[];}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]];}return baseOrderBy(collection,baseFlatten(iteratees,1),[]);});/*------------------------------------------------------------------------*/ /**
     * Gets the timestamp of the number of milliseconds that have elapsed since
     * the Unix epoch (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Date
     * @returns {number} Returns the timestamp.
     * @example
     *
     * _.defer(function(stamp) {
     *   console.log(_.now() - stamp);
     * }, _.now());
     * // => Logs the number of milliseconds it took for the deferred invocation.
     */var now=ctxNow||function(){return root.Date.now();};/*------------------------------------------------------------------------*/ /**
     * The opposite of `_.before`; this method creates a function that invokes
     * `func` once it's called `n` or more times.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {number} n The number of calls before `func` is invoked.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var saves = ['profile', 'settings'];
     *
     * var done = _.after(saves.length, function() {
     *   console.log('done saving!');
     * });
     *
     * _.forEach(saves, function(type) {
     *   asyncSave({ 'type': type, 'complete': done });
     * });
     * // => Logs 'done saving!' after the two async saves have completed.
     */function after(n,func){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments);}};}/**
     * Creates a function that invokes `func`, with up to `n` arguments,
     * ignoring any additional arguments.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to cap arguments for.
     * @param {number} [n=func.length] The arity cap.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new capped function.
     * @example
     *
     * _.map(['6', '8', '10'], _.ary(parseInt, 1));
     * // => [6, 8, 10]
     */function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n);}/**
     * Creates a function that invokes `func`, with the `this` binding and arguments
     * of the created function, while it's called less than `n` times. Subsequent
     * calls to the created function return the result of the last `func` invocation.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {number} n The number of calls at which `func` is no longer invoked.
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * jQuery(element).on('click', _.before(5, addContactToList));
     * // => Allows adding up to 4 contacts to the list.
     */function before(n,func){var result;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments);}if(n<=1){func=undefined;}return result;};}/**
     * Creates a function that invokes `func` with the `this` binding of `thisArg`
     * and `partials` prepended to the arguments it receives.
     *
     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,
     * may be used as a placeholder for partially applied arguments.
     *
     * **Note:** Unlike native `Function#bind`, this method doesn't set the "length"
     * property of bound functions.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to bind.
     * @param {*} thisArg The `this` binding of `func`.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * function greet(greeting, punctuation) {
     *   return greeting + ' ' + this.user + punctuation;
     * }
     *
     * var object = { 'user': 'fred' };
     *
     * var bound = _.bind(greet, object, 'hi');
     * bound('!');
     * // => 'hi fred!'
     *
     * // Bound with placeholders.
     * var bound = _.bind(greet, object, _, '!');
     * bound('hi');
     * // => 'hi fred!'
     */var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG;}return createWrap(func,bitmask,thisArg,partials,holders);});/**
     * Creates a function that invokes the method at `object[key]` with `partials`
     * prepended to the arguments it receives.
     *
     * This method differs from `_.bind` by allowing bound functions to reference
     * methods that may be redefined or don't yet exist. See
     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)
     * for more details.
     *
     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * @static
     * @memberOf _
     * @since 0.10.0
     * @category Function
     * @param {Object} object The object to invoke the method on.
     * @param {string} key The key of the method.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new bound function.
     * @example
     *
     * var object = {
     *   'user': 'fred',
     *   'greet': function(greeting, punctuation) {
     *     return greeting + ' ' + this.user + punctuation;
     *   }
     * };
     *
     * var bound = _.bindKey(object, 'greet', 'hi');
     * bound('!');
     * // => 'hi fred!'
     *
     * object.greet = function(greeting, punctuation) {
     *   return greeting + 'ya ' + this.user + punctuation;
     * };
     *
     * bound('!');
     * // => 'hiya fred!'
     *
     * // Bound with placeholders.
     * var bound = _.bindKey(object, 'greet', _, '!');
     * bound('hi');
     * // => 'hiya fred!'
     */var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG;}return createWrap(key,bitmask,object,partials,holders);});/**
     * Creates a function that accepts arguments of `func` and either invokes
     * `func` returning its result, if at least `arity` number of arguments have
     * been provided, or returns a function that accepts the remaining `func`
     * arguments, and so on. The arity of `func` may be specified if `func.length`
     * is not sufficient.
     *
     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,
     * may be used as a placeholder for provided arguments.
     *
     * **Note:** This method doesn't set the "length" property of curried functions.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Function
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var abc = function(a, b, c) {
     *   return [a, b, c];
     * };
     *
     * var curried = _.curry(abc);
     *
     * curried(1)(2)(3);
     * // => [1, 2, 3]
     *
     * curried(1, 2)(3);
     * // => [1, 2, 3]
     *
     * curried(1, 2, 3);
     * // => [1, 2, 3]
     *
     * // Curried with placeholders.
     * curried(1)(_, 3)(2);
     * // => [1, 2, 3]
     */function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result;}/**
     * This method is like `_.curry` except that arguments are applied to `func`
     * in the manner of `_.partialRight` instead of `_.partial`.
     *
     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for provided arguments.
     *
     * **Note:** This method doesn't set the "length" property of curried functions.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to curry.
     * @param {number} [arity=func.length] The arity of `func`.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the new curried function.
     * @example
     *
     * var abc = function(a, b, c) {
     *   return [a, b, c];
     * };
     *
     * var curried = _.curryRight(abc);
     *
     * curried(3)(2)(1);
     * // => [1, 2, 3]
     *
     * curried(2, 3)(1);
     * // => [1, 2, 3]
     *
     * curried(1, 2, 3);
     * // => [1, 2, 3]
     *
     * // Curried with placeholders.
     * curried(3)(1, _)(2);
     * // => [1, 2, 3]
     */function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result;}/**
     * Creates a debounced function that delays invoking `func` until after `wait`
     * milliseconds have elapsed since the last time the debounced function was
     * invoked. The debounced function comes with a `cancel` method to cancel
     * delayed `func` invocations and a `flush` method to immediately invoke them.
     * Provide `options` to indicate whether `func` should be invoked on the
     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
     * with the last arguments provided to the debounced function. Subsequent
     * calls to the debounced function return the result of the last `func`
     * invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the debounced function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.debounce` and `_.throttle`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to debounce.
     * @param {number} [wait=0] The number of milliseconds to delay.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=false]
     *  Specify invoking on the leading edge of the timeout.
     * @param {number} [options.maxWait]
     *  The maximum time `func` is allowed to be delayed before it's invoked.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // Avoid costly calculations while the window size is in flux.
     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
     *
     * // Invoke `sendMail` when clicked, debouncing subsequent calls.
     * jQuery(element).on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * }));
     *
     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
     * var source = new EventSource('/stream');
     * jQuery(source).on('message', debounced);
     *
     * // Cancel the trailing debounced invocation.
     * jQuery(window).on('popstate', debounced.cancel);
     */function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing='maxWait'in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing='trailing'in options?!!options.trailing:trailing;}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result;}function leadingEdge(time){// Reset any `maxWait` timer.
lastInvokeTime=time;// Start the timer for the trailing edge.
timerId=setTimeout(timerExpired,wait);// Invoke the leading edge.
return leading?invokeFunc(time):result;}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting;}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;// Either this is the first call, activity has stopped and we're at the
// trailing edge, the system time has gone backwards and we're treating
// it as the trailing edge, or we've hit the `maxWait` limit.
return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait;}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time);}// Restart the timer.
timerId=setTimeout(timerExpired,remainingWait(time));}function trailingEdge(time){timerId=undefined;// Only invoke if we have `lastArgs` which means `func` has been
// debounced at least once.
if(trailing&&lastArgs){return invokeFunc(time);}lastArgs=lastThis=undefined;return result;}function cancel(){if(timerId!==undefined){clearTimeout(timerId);}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined;}function flush(){return timerId===undefined?result:trailingEdge(now());}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime);}if(maxing){// Handle invocations in a tight loop.
clearTimeout(timerId);timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime);}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait);}return result;}debounced.cancel=cancel;debounced.flush=flush;return debounced;}/**
     * Defers invoking the `func` until the current call stack has cleared. Any
     * additional arguments are provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to defer.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.defer(function(text) {
     *   console.log(text);
     * }, 'deferred');
     * // => Logs 'deferred' after one millisecond.
     */var defer=baseRest(function(func,args){return baseDelay(func,1,args);});/**
     * Invokes `func` after `wait` milliseconds. Any additional arguments are
     * provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to delay.
     * @param {number} wait The number of milliseconds to delay invocation.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {number} Returns the timer id.
     * @example
     *
     * _.delay(function(text) {
     *   console.log(text);
     * }, 1000, 'later');
     * // => Logs 'later' after one second.
     */var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args);});/**
     * Creates a function that invokes `func` with arguments reversed.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to flip arguments for.
     * @returns {Function} Returns the new flipped function.
     * @example
     *
     * var flipped = _.flip(function() {
     *   return _.toArray(arguments);
     * });
     *
     * flipped('a', 'b', 'c', 'd');
     * // => ['d', 'c', 'b', 'a']
     */function flip(func){return createWrap(func,WRAP_FLIP_FLAG);}/**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided, it determines the cache key for storing the result based on the
     * arguments provided to the memoized function. By default, the first argument
     * provided to the memoized function is used as the map cache key. The `func`
     * is invoked with the `this` binding of the memoized function.
     *
     * **Note:** The cache is exposed as the `cache` property on the memoized
     * function. Its creation may be customized by replacing the `_.memoize.Cache`
     * constructor with one whose instances implement the
     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
     * method interface of `clear`, `delete`, `get`, `has`, and `set`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] The function to resolve the cache key.
     * @returns {Function} Returns the new memoized function.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     * var other = { 'c': 3, 'd': 4 };
     *
     * var values = _.memoize(_.values);
     * values(object);
     * // => [1, 2]
     *
     * values(other);
     * // => [3, 4]
     *
     * object.a = 2;
     * values(object);
     * // => [1, 2]
     *
     * // Modify the result cache.
     * values.cache.set(object, ['a', 'b']);
     * values(object);
     * // => ['a', 'b']
     *
     * // Replace `_.memoize.Cache`.
     * _.memoize.Cache = WeakMap;
     */function memoize(func,resolver){if(typeof func!='function'||resolver!=null&&typeof resolver!='function'){throw new TypeError(FUNC_ERROR_TEXT);}var memoized=function memoized(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key);}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result;};memoized.cache=new(memoize.Cache||MapCache)();return memoized;}// Expose `MapCache`.
memoize.Cache=MapCache;/**
     * Creates a function that negates the result of the predicate `func`. The
     * `func` predicate is invoked with the `this` binding and arguments of the
     * created function.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} predicate The predicate to negate.
     * @returns {Function} Returns the new negated function.
     * @example
     *
     * function isEven(n) {
     *   return n % 2 == 0;
     * }
     *
     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));
     * // => [1, 3, 5]
     */function negate(predicate){if(typeof predicate!='function'){throw new TypeError(FUNC_ERROR_TEXT);}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2]);}return!predicate.apply(this,args);};}/**
     * Creates a function that is restricted to invoking `func` once. Repeat calls
     * to the function return the value of the first invocation. The `func` is
     * invoked with the `this` binding and arguments of the created function.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to restrict.
     * @returns {Function} Returns the new restricted function.
     * @example
     *
     * var initialize = _.once(createApplication);
     * initialize();
     * initialize();
     * // => `createApplication` is invoked once
     */function once(func){return before(2,func);}/**
     * Creates a function that invokes `func` with its arguments transformed.
     *
     * @static
     * @since 4.0.0
     * @memberOf _
     * @category Function
     * @param {Function} func The function to wrap.
     * @param {...(Function|Function[])} [transforms=[_.identity]]
     *  The argument transforms.
     * @returns {Function} Returns the new function.
     * @example
     *
     * function doubled(n) {
     *   return n * 2;
     * }
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var func = _.overArgs(function(x, y) {
     *   return [x, y];
     * }, [square, doubled]);
     *
     * func(9, 3);
     * // => [81, 6]
     *
     * func(10, 5);
     * // => [100, 10]
     */var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index]);}return apply(func,this,args);});});/**
     * Creates a function that invokes `func` with `partials` prepended to the
     * arguments it receives. This method is like `_.bind` except it does **not**
     * alter the `this` binding.
     *
     * The `_.partial.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * **Note:** This method doesn't set the "length" property of partially
     * applied functions.
     *
     * @static
     * @memberOf _
     * @since 0.2.0
     * @category Function
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * function greet(greeting, name) {
     *   return greeting + ' ' + name;
     * }
     *
     * var sayHelloTo = _.partial(greet, 'hello');
     * sayHelloTo('fred');
     * // => 'hello fred'
     *
     * // Partially applied with placeholders.
     * var greetFred = _.partial(greet, _, 'fred');
     * greetFred('hi');
     * // => 'hi fred'
     */var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders);});/**
     * This method is like `_.partial` except that partially applied arguments
     * are appended to the arguments it receives.
     *
     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic
     * builds, may be used as a placeholder for partially applied arguments.
     *
     * **Note:** This method doesn't set the "length" property of partially
     * applied functions.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Function
     * @param {Function} func The function to partially apply arguments to.
     * @param {...*} [partials] The arguments to be partially applied.
     * @returns {Function} Returns the new partially applied function.
     * @example
     *
     * function greet(greeting, name) {
     *   return greeting + ' ' + name;
     * }
     *
     * var greetFred = _.partialRight(greet, 'fred');
     * greetFred('hi');
     * // => 'hi fred'
     *
     * // Partially applied with placeholders.
     * var sayHelloTo = _.partialRight(greet, 'hello', _);
     * sayHelloTo('fred');
     * // => 'hello fred'
     */var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders);});/**
     * Creates a function that invokes `func` with arguments arranged according
     * to the specified `indexes` where the argument value at the first index is
     * provided as the first argument, the argument value at the second index is
     * provided as the second argument, and so on.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Function
     * @param {Function} func The function to rearrange arguments for.
     * @param {...(number|number[])} indexes The arranged argument indexes.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var rearged = _.rearg(function(a, b, c) {
     *   return [a, b, c];
     * }, [2, 0, 1]);
     *
     * rearged('b', 'c', 'a')
     * // => ['a', 'b', 'c']
     */var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes);});/**
     * Creates a function that invokes `func` with the `this` binding of the
     * created function and arguments from `start` and beyond provided as
     * an array.
     *
     * **Note:** This method is based on the
     * [rest parameter](https://mdn.io/rest_parameters).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to apply a rest parameter to.
     * @param {number} [start=func.length-1] The start position of the rest parameter.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var say = _.rest(function(what, names) {
     *   return what + ' ' + _.initial(names).join(', ') +
     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);
     * });
     *
     * say('hello', 'fred', 'barney', 'pebbles');
     * // => 'hello fred, barney, & pebbles'
     */function rest(func,start){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}start=start===undefined?start:toInteger(start);return baseRest(func,start);}/**
     * Creates a function that invokes `func` with the `this` binding of the
     * create function and an array of arguments much like
     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).
     *
     * **Note:** This method is based on the
     * [spread operator](https://mdn.io/spread_operator).
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Function
     * @param {Function} func The function to spread arguments over.
     * @param {number} [start=0] The start position of the spread.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var say = _.spread(function(who, what) {
     *   return who + ' says ' + what;
     * });
     *
     * say(['fred', 'hello']);
     * // => 'fred says hello'
     *
     * var numbers = Promise.all([
     *   Promise.resolve(40),
     *   Promise.resolve(36)
     * ]);
     *
     * numbers.then(_.spread(function(x, y) {
     *   return x + y;
     * }));
     * // => a Promise of 76
     */function spread(func,start){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array);}return apply(func,this,otherArgs);});}/**
     * Creates a throttled function that only invokes `func` at most once per
     * every `wait` milliseconds. The throttled function comes with a `cancel`
     * method to cancel delayed `func` invocations and a `flush` method to
     * immediately invoke them. Provide `options` to indicate whether `func`
     * should be invoked on the leading and/or trailing edge of the `wait`
     * timeout. The `func` is invoked with the last arguments provided to the
     * throttled function. Subsequent calls to the throttled function return the
     * result of the last `func` invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the throttled function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.throttle` and `_.debounce`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to throttle.
     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=true]
     *  Specify invoking on the leading edge of the timeout.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new throttled function.
     * @example
     *
     * // Avoid excessively updating the position while scrolling.
     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
     *
     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
     * jQuery(element).on('click', throttled);
     *
     * // Cancel the trailing throttled invocation.
     * jQuery(window).on('popstate', throttled.cancel);
     */function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}if(isObject(options)){leading='leading'in options?!!options.leading:leading;trailing='trailing'in options?!!options.trailing:trailing;}return debounce(func,wait,{'leading':leading,'maxWait':wait,'trailing':trailing});}/**
     * Creates a function that accepts up to one argument, ignoring any
     * additional arguments.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Function
     * @param {Function} func The function to cap arguments for.
     * @returns {Function} Returns the new capped function.
     * @example
     *
     * _.map(['6', '8', '10'], _.unary(parseInt));
     * // => [6, 8, 10]
     */function unary(func){return ary(func,1);}/**
     * Creates a function that provides `value` to `wrapper` as its first
     * argument. Any additional arguments provided to the function are appended
     * to those provided to the `wrapper`. The wrapper is invoked with the `this`
     * binding of the created function.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {*} value The value to wrap.
     * @param {Function} [wrapper=identity] The wrapper function.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var p = _.wrap(_.escape, function(func, text) {
     *   return '<p>' + func(text) + '</p>';
     * });
     *
     * p('fred, barney, & pebbles');
     * // => '<p>fred, barney, &amp; pebbles</p>'
     */function wrap(value,wrapper){return partial(castFunction(wrapper),value);}/*------------------------------------------------------------------------*/ /**
     * Casts `value` as an array if it's not one.
     *
     * @static
     * @memberOf _
     * @since 4.4.0
     * @category Lang
     * @param {*} value The value to inspect.
     * @returns {Array} Returns the cast array.
     * @example
     *
     * _.castArray(1);
     * // => [1]
     *
     * _.castArray({ 'a': 1 });
     * // => [{ 'a': 1 }]
     *
     * _.castArray('abc');
     * // => ['abc']
     *
     * _.castArray(null);
     * // => [null]
     *
     * _.castArray(undefined);
     * // => [undefined]
     *
     * _.castArray();
     * // => []
     *
     * var array = [1, 2, 3];
     * console.log(_.castArray(array) === array);
     * // => true
     */function castArray(){if(!arguments.length){return[];}var value=arguments[0];return isArray(value)?value:[value];}/**
     * Creates a shallow clone of `value`.
     *
     * **Note:** This method is loosely based on the
     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)
     * and supports cloning arrays, array buffers, booleans, date objects, maps,
     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed
     * arrays. The own enumerable properties of `arguments` objects are cloned
     * as plain objects. An empty object is returned for uncloneable values such
     * as error objects, functions, DOM nodes, and WeakMaps.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to clone.
     * @returns {*} Returns the cloned value.
     * @see _.cloneDeep
     * @example
     *
     * var objects = [{ 'a': 1 }, { 'b': 2 }];
     *
     * var shallow = _.clone(objects);
     * console.log(shallow[0] === objects[0]);
     * // => true
     */function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG);}/**
     * This method is like `_.clone` except that it accepts `customizer` which
     * is invoked to produce the cloned value. If `customizer` returns `undefined`,
     * cloning is handled by the method instead. The `customizer` is invoked with
     * up to four arguments; (value [, index|key, object, stack]).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to clone.
     * @param {Function} [customizer] The function to customize cloning.
     * @returns {*} Returns the cloned value.
     * @see _.cloneDeepWith
     * @example
     *
     * function customizer(value) {
     *   if (_.isElement(value)) {
     *     return value.cloneNode(false);
     *   }
     * }
     *
     * var el = _.cloneWith(document.body, customizer);
     *
     * console.log(el === document.body);
     * // => false
     * console.log(el.nodeName);
     * // => 'BODY'
     * console.log(el.childNodes.length);
     * // => 0
     */function cloneWith(value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer);}/**
     * This method is like `_.clone` except that it recursively clones `value`.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Lang
     * @param {*} value The value to recursively clone.
     * @returns {*} Returns the deep cloned value.
     * @see _.clone
     * @example
     *
     * var objects = [{ 'a': 1 }, { 'b': 2 }];
     *
     * var deep = _.cloneDeep(objects);
     * console.log(deep[0] === objects[0]);
     * // => false
     */function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG);}/**
     * This method is like `_.cloneWith` except that it recursively clones `value`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to recursively clone.
     * @param {Function} [customizer] The function to customize cloning.
     * @returns {*} Returns the deep cloned value.
     * @see _.cloneWith
     * @example
     *
     * function customizer(value) {
     *   if (_.isElement(value)) {
     *     return value.cloneNode(true);
     *   }
     * }
     *
     * var el = _.cloneDeepWith(document.body, customizer);
     *
     * console.log(el === document.body);
     * // => false
     * console.log(el.nodeName);
     * // => 'BODY'
     * console.log(el.childNodes.length);
     * // => 20
     */function cloneDeepWith(value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer);}/**
     * Checks if `object` conforms to `source` by invoking the predicate
     * properties of `source` with the corresponding property values of `object`.
     *
     * **Note:** This method is equivalent to `_.conforms` when `source` is
     * partially applied.
     *
     * @static
     * @memberOf _
     * @since 4.14.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property predicates to conform to.
     * @returns {boolean} Returns `true` if `object` conforms, else `false`.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     *
     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });
     * // => true
     *
     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });
     * // => false
     */function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source));}/**
     * Performs a
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * comparison between two values to determine if they are equivalent.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.eq(object, object);
     * // => true
     *
     * _.eq(object, other);
     * // => false
     *
     * _.eq('a', 'a');
     * // => true
     *
     * _.eq('a', Object('a'));
     * // => false
     *
     * _.eq(NaN, NaN);
     * // => true
     */function eq(value,other){return value===other||value!==value&&other!==other;}/**
     * Checks if `value` is greater than `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than `other`,
     *  else `false`.
     * @see _.lt
     * @example
     *
     * _.gt(3, 1);
     * // => true
     *
     * _.gt(3, 3);
     * // => false
     *
     * _.gt(1, 3);
     * // => false
     */var gt=createRelationalOperation(baseGt);/**
     * Checks if `value` is greater than or equal to `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is greater than or equal to
     *  `other`, else `false`.
     * @see _.lte
     * @example
     *
     * _.gte(3, 1);
     * // => true
     *
     * _.gte(3, 3);
     * // => true
     *
     * _.gte(1, 3);
     * // => false
     */var gte=createRelationalOperation(function(value,other){return value>=other;});/**
     * Checks if `value` is likely an `arguments` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     *  else `false`.
     * @example
     *
     * _.isArguments(function() { return arguments; }());
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */var isArguments=baseIsArguments(function(){return arguments;}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');};/**
     * Checks if `value` is classified as an `Array` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array, else `false`.
     * @example
     *
     * _.isArray([1, 2, 3]);
     * // => true
     *
     * _.isArray(document.body.children);
     * // => false
     *
     * _.isArray('abc');
     * // => false
     *
     * _.isArray(_.noop);
     * // => false
     */var isArray=Array.isArray;/**
     * Checks if `value` is classified as an `ArrayBuffer` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.
     * @example
     *
     * _.isArrayBuffer(new ArrayBuffer(2));
     * // => true
     *
     * _.isArrayBuffer(new Array(2));
     * // => false
     */var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;/**
     * Checks if `value` is array-like. A value is considered array-like if it's
     * not a function and has a `value.length` that's an integer greater than or
     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
     * @example
     *
     * _.isArrayLike([1, 2, 3]);
     * // => true
     *
     * _.isArrayLike(document.body.children);
     * // => true
     *
     * _.isArrayLike('abc');
     * // => true
     *
     * _.isArrayLike(_.noop);
     * // => false
     */function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}/**
     * This method is like `_.isArrayLike` except that it also checks if `value`
     * is an object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array-like object,
     *  else `false`.
     * @example
     *
     * _.isArrayLikeObject([1, 2, 3]);
     * // => true
     *
     * _.isArrayLikeObject(document.body.children);
     * // => true
     *
     * _.isArrayLikeObject('abc');
     * // => false
     *
     * _.isArrayLikeObject(_.noop);
     * // => false
     */function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}/**
     * Checks if `value` is classified as a boolean primitive or object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.
     * @example
     *
     * _.isBoolean(false);
     * // => true
     *
     * _.isBoolean(null);
     * // => false
     */function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag;}/**
     * Checks if `value` is a buffer.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
     * @example
     *
     * _.isBuffer(new Buffer(2));
     * // => true
     *
     * _.isBuffer(new Uint8Array(2));
     * // => false
     */var isBuffer=nativeIsBuffer||stubFalse;/**
     * Checks if `value` is classified as a `Date` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.
     * @example
     *
     * _.isDate(new Date);
     * // => true
     *
     * _.isDate('Mon April 23 2012');
     * // => false
     */var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;/**
     * Checks if `value` is likely a DOM element.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.
     * @example
     *
     * _.isElement(document.body);
     * // => true
     *
     * _.isElement('<body>');
     * // => false
     */function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value);}/**
     * Checks if `value` is an empty object, collection, map, or set.
     *
     * Objects are considered empty if they have no own enumerable string keyed
     * properties.
     *
     * Array-like values such as `arguments` objects, arrays, buffers, strings, or
     * jQuery-like collections are considered empty if they have a `length` of `0`.
     * Similarly, maps and sets are considered empty if they have a `size` of `0`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is empty, else `false`.
     * @example
     *
     * _.isEmpty(null);
     * // => true
     *
     * _.isEmpty(true);
     * // => true
     *
     * _.isEmpty(1);
     * // => true
     *
     * _.isEmpty([1, 2, 3]);
     * // => false
     *
     * _.isEmpty({ 'a': 1 });
     * // => false
     */function isEmpty(value){if(value==null){return true;}if(isArrayLike(value)&&(isArray(value)||typeof value=='string'||typeof value.splice=='function'||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length;}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size;}if(isPrototype(value)){return!baseKeys(value).length;}for(var key in value){if(hasOwnProperty.call(value,key)){return false;}}return true;}/**
     * Performs a deep comparison between two values to determine if they are
     * equivalent.
     *
     * **Note:** This method supports comparing arrays, array buffers, booleans,
     * date objects, error objects, maps, numbers, `Object` objects, regexes,
     * sets, strings, symbols, and typed arrays. `Object` objects are compared
     * by their own, not inherited, enumerable properties. Functions and DOM
     * nodes are compared by strict equality, i.e. `===`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.isEqual(object, other);
     * // => true
     *
     * object === other;
     * // => false
     */function isEqual(value,other){return baseIsEqual(value,other);}/**
     * This method is like `_.isEqual` except that it accepts `customizer` which
     * is invoked to compare values. If `customizer` returns `undefined`, comparisons
     * are handled by the method instead. The `customizer` is invoked with up to
     * six arguments: (objValue, othValue [, index|key, object, other, stack]).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * function isGreeting(value) {
     *   return /^h(?:i|ello)$/.test(value);
     * }
     *
     * function customizer(objValue, othValue) {
     *   if (isGreeting(objValue) && isGreeting(othValue)) {
     *     return true;
     *   }
     * }
     *
     * var array = ['hello', 'goodbye'];
     * var other = ['hi', 'goodbye'];
     *
     * _.isEqualWith(array, other, customizer);
     * // => true
     */function isEqualWith(value,other,customizer){customizer=typeof customizer=='function'?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result;}/**
     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,
     * `SyntaxError`, `TypeError`, or `URIError` object.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.
     * @example
     *
     * _.isError(new Error);
     * // => true
     *
     * _.isError(Error);
     * // => false
     */function isError(value){if(!isObjectLike(value)){return false;}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=='string'&&typeof value.name=='string'&&!isPlainObject(value);}/**
     * Checks if `value` is a finite primitive number.
     *
     * **Note:** This method is based on
     * [`Number.isFinite`](https://mdn.io/Number/isFinite).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.
     * @example
     *
     * _.isFinite(3);
     * // => true
     *
     * _.isFinite(Number.MIN_VALUE);
     * // => true
     *
     * _.isFinite(Infinity);
     * // => false
     *
     * _.isFinite('3');
     * // => false
     */function isFinite(value){return typeof value=='number'&&nativeIsFinite(value);}/**
     * Checks if `value` is classified as a `Function` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     *
     * _.isFunction(/abc/);
     * // => false
     */function isFunction(value){if(!isObject(value)){return false;}// The use of `Object#toString` avoids issues with the `typeof` operator
// in Safari 9 which returns 'object' for typed arrays and other constructors.
var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag;}/**
     * Checks if `value` is an integer.
     *
     * **Note:** This method is based on
     * [`Number.isInteger`](https://mdn.io/Number/isInteger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.
     * @example
     *
     * _.isInteger(3);
     * // => true
     *
     * _.isInteger(Number.MIN_VALUE);
     * // => false
     *
     * _.isInteger(Infinity);
     * // => false
     *
     * _.isInteger('3');
     * // => false
     */function isInteger(value){return typeof value=='number'&&value==toInteger(value);}/**
     * Checks if `value` is a valid array-like length.
     *
     * **Note:** This method is loosely based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
     * @example
     *
     * _.isLength(3);
     * // => true
     *
     * _.isLength(Number.MIN_VALUE);
     * // => false
     *
     * _.isLength(Infinity);
     * // => false
     *
     * _.isLength('3');
     * // => false
     */function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}/**
     * Checks if `value` is the
     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(_.noop);
     * // => true
     *
     * _.isObject(null);
     * // => false
     */function isObject(value){var type=typeof value;return value!=null&&(type=='object'||type=='function');}/**
     * Checks if `value` is object-like. A value is object-like if it's not `null`
     * and has a `typeof` result of "object".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
     * @example
     *
     * _.isObjectLike({});
     * // => true
     *
     * _.isObjectLike([1, 2, 3]);
     * // => true
     *
     * _.isObjectLike(_.noop);
     * // => false
     *
     * _.isObjectLike(null);
     * // => false
     */function isObjectLike(value){return value!=null&&typeof value=='object';}/**
     * Checks if `value` is classified as a `Map` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     * @example
     *
     * _.isMap(new Map);
     * // => true
     *
     * _.isMap(new WeakMap);
     * // => false
     */var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;/**
     * Performs a partial deep comparison between `object` and `source` to
     * determine if `object` contains equivalent property values.
     *
     * **Note:** This method is equivalent to `_.matches` when `source` is
     * partially applied.
     *
     * Partial comparisons will match empty array and empty object `source`
     * values against any array or object value, respectively. See `_.isEqual`
     * for a list of supported value comparisons.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     *
     * _.isMatch(object, { 'b': 2 });
     * // => true
     *
     * _.isMatch(object, { 'b': 1 });
     * // => false
     */function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source));}/**
     * This method is like `_.isMatch` except that it accepts `customizer` which
     * is invoked to compare values. If `customizer` returns `undefined`, comparisons
     * are handled by the method instead. The `customizer` is invoked with five
     * arguments: (objValue, srcValue, index|key, object, source).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     * @example
     *
     * function isGreeting(value) {
     *   return /^h(?:i|ello)$/.test(value);
     * }
     *
     * function customizer(objValue, srcValue) {
     *   if (isGreeting(objValue) && isGreeting(srcValue)) {
     *     return true;
     *   }
     * }
     *
     * var object = { 'greeting': 'hello' };
     * var source = { 'greeting': 'hi' };
     *
     * _.isMatchWith(object, source, customizer);
     * // => true
     */function isMatchWith(object,source,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer);}/**
     * Checks if `value` is `NaN`.
     *
     * **Note:** This method is based on
     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as
     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for
     * `undefined` and other non-number values.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
     * @example
     *
     * _.isNaN(NaN);
     * // => true
     *
     * _.isNaN(new Number(NaN));
     * // => true
     *
     * isNaN(undefined);
     * // => true
     *
     * _.isNaN(undefined);
     * // => false
     */function isNaN(value){// An `NaN` primitive is the only value that is not equal to itself.
// Perform the `toStringTag` check first to avoid errors with some
// ActiveX objects in IE.
return isNumber(value)&&value!=+value;}/**
     * Checks if `value` is a pristine native function.
     *
     * **Note:** This method can't reliably detect native functions in the presence
     * of the core-js package because core-js circumvents this kind of detection.
     * Despite multiple requests, the core-js maintainer has made it clear: any
     * attempt to fix the detection will be obstructed. As a result, we're left
     * with little choice but to throw an error. Unfortunately, this also affects
     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),
     * which rely on core-js.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     * @example
     *
     * _.isNative(Array.prototype.push);
     * // => true
     *
     * _.isNative(_);
     * // => false
     */function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT);}return baseIsNative(value);}/**
     * Checks if `value` is `null`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.
     * @example
     *
     * _.isNull(null);
     * // => true
     *
     * _.isNull(void 0);
     * // => false
     */function isNull(value){return value===null;}/**
     * Checks if `value` is `null` or `undefined`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.
     * @example
     *
     * _.isNil(null);
     * // => true
     *
     * _.isNil(void 0);
     * // => true
     *
     * _.isNil(NaN);
     * // => false
     */function isNil(value){return value==null;}/**
     * Checks if `value` is classified as a `Number` primitive or object.
     *
     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are
     * classified as numbers, use the `_.isFinite` method.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a number, else `false`.
     * @example
     *
     * _.isNumber(3);
     * // => true
     *
     * _.isNumber(Number.MIN_VALUE);
     * // => true
     *
     * _.isNumber(Infinity);
     * // => true
     *
     * _.isNumber('3');
     * // => false
     */function isNumber(value){return typeof value=='number'||isObjectLike(value)&&baseGetTag(value)==numberTag;}/**
     * Checks if `value` is a plain object, that is, an object created by the
     * `Object` constructor or one with a `[[Prototype]]` of `null`.
     *
     * @static
     * @memberOf _
     * @since 0.8.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * _.isPlainObject(new Foo);
     * // => false
     *
     * _.isPlainObject([1, 2, 3]);
     * // => false
     *
     * _.isPlainObject({ 'x': 0, 'y': 0 });
     * // => true
     *
     * _.isPlainObject(Object.create(null));
     * // => true
     */function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false;}var proto=getPrototype(value);if(proto===null){return true;}var Ctor=hasOwnProperty.call(proto,'constructor')&&proto.constructor;return typeof Ctor=='function'&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString;}/**
     * Checks if `value` is classified as a `RegExp` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.
     * @example
     *
     * _.isRegExp(/abc/);
     * // => true
     *
     * _.isRegExp('/abc/');
     * // => false
     */var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;/**
     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754
     * double precision number which isn't the result of a rounded unsafe integer.
     *
     * **Note:** This method is based on
     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.
     * @example
     *
     * _.isSafeInteger(3);
     * // => true
     *
     * _.isSafeInteger(Number.MIN_VALUE);
     * // => false
     *
     * _.isSafeInteger(Infinity);
     * // => false
     *
     * _.isSafeInteger('3');
     * // => false
     */function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER;}/**
     * Checks if `value` is classified as a `Set` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a set, else `false`.
     * @example
     *
     * _.isSet(new Set);
     * // => true
     *
     * _.isSet(new WeakSet);
     * // => false
     */var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;/**
     * Checks if `value` is classified as a `String` primitive or object.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a string, else `false`.
     * @example
     *
     * _.isString('abc');
     * // => true
     *
     * _.isString(1);
     * // => false
     */function isString(value){return typeof value=='string'||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag;}/**
     * Checks if `value` is classified as a `Symbol` primitive or object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
     * @example
     *
     * _.isSymbol(Symbol.iterator);
     * // => true
     *
     * _.isSymbol('abc');
     * // => false
     */function isSymbol(value){return typeof value=='symbol'||isObjectLike(value)&&baseGetTag(value)==symbolTag;}/**
     * Checks if `value` is classified as a typed array.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     * @example
     *
     * _.isTypedArray(new Uint8Array);
     * // => true
     *
     * _.isTypedArray([]);
     * // => false
     */var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;/**
     * Checks if `value` is `undefined`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.
     * @example
     *
     * _.isUndefined(void 0);
     * // => true
     *
     * _.isUndefined(null);
     * // => false
     */function isUndefined(value){return value===undefined;}/**
     * Checks if `value` is classified as a `WeakMap` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.
     * @example
     *
     * _.isWeakMap(new WeakMap);
     * // => true
     *
     * _.isWeakMap(new Map);
     * // => false
     */function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag;}/**
     * Checks if `value` is classified as a `WeakSet` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.
     * @example
     *
     * _.isWeakSet(new WeakSet);
     * // => true
     *
     * _.isWeakSet(new Set);
     * // => false
     */function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag;}/**
     * Checks if `value` is less than `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than `other`,
     *  else `false`.
     * @see _.gt
     * @example
     *
     * _.lt(1, 3);
     * // => true
     *
     * _.lt(3, 3);
     * // => false
     *
     * _.lt(3, 1);
     * // => false
     */var lt=createRelationalOperation(baseLt);/**
     * Checks if `value` is less than or equal to `other`.
     *
     * @static
     * @memberOf _
     * @since 3.9.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if `value` is less than or equal to
     *  `other`, else `false`.
     * @see _.gte
     * @example
     *
     * _.lte(1, 3);
     * // => true
     *
     * _.lte(3, 3);
     * // => true
     *
     * _.lte(3, 1);
     * // => false
     */var lte=createRelationalOperation(function(value,other){return value<=other;});/**
     * Converts `value` to an array.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {Array} Returns the converted array.
     * @example
     *
     * _.toArray({ 'a': 1, 'b': 2 });
     * // => [1, 2]
     *
     * _.toArray('abc');
     * // => ['a', 'b', 'c']
     *
     * _.toArray(1);
     * // => []
     *
     * _.toArray(null);
     * // => []
     */function toArray(value){if(!value){return[];}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value);}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]());}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value);}/**
     * Converts `value` to a finite number.
     *
     * @static
     * @memberOf _
     * @since 4.12.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted number.
     * @example
     *
     * _.toFinite(3.2);
     * // => 3.2
     *
     * _.toFinite(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toFinite(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toFinite('3.2');
     * // => 3.2
     */function toFinite(value){if(!value){return value===0?value:0;}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER;}return value===value?value:0;}/**
     * Converts `value` to an integer.
     *
     * **Note:** This method is loosely based on
     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toInteger(3.2);
     * // => 3
     *
     * _.toInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toInteger(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toInteger('3.2');
     * // => 3
     */function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0;}/**
     * Converts `value` to an integer suitable for use as the length of an
     * array-like object.
     *
     * **Note:** This method is based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toLength(3.2);
     * // => 3
     *
     * _.toLength(Number.MIN_VALUE);
     * // => 0
     *
     * _.toLength(Infinity);
     * // => 4294967295
     *
     * _.toLength('3.2');
     * // => 3
     */function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0;}/**
     * Converts `value` to a number.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     * @example
     *
     * _.toNumber(3.2);
     * // => 3.2
     *
     * _.toNumber(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toNumber(Infinity);
     * // => Infinity
     *
     * _.toNumber('3.2');
     * // => 3.2
     */function toNumber(value){if(typeof value=='number'){return value;}if(isSymbol(value)){return NAN;}if(isObject(value)){var other=typeof value.valueOf=='function'?value.valueOf():value;value=isObject(other)?other+'':other;}if(typeof value!='string'){return value===0?value:+value;}value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value;}/**
     * Converts `value` to a plain object flattening inherited enumerable string
     * keyed properties of `value` to own properties of the plain object.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {Object} Returns the converted plain object.
     * @example
     *
     * function Foo() {
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.assign({ 'a': 1 }, new Foo);
     * // => { 'a': 1, 'b': 2 }
     *
     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
     * // => { 'a': 1, 'b': 2, 'c': 3 }
     */function toPlainObject(value){return copyObject(value,keysIn(value));}/**
     * Converts `value` to a safe integer. A safe integer can be compared and
     * represented correctly.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toSafeInteger(3.2);
     * // => 3
     *
     * _.toSafeInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toSafeInteger(Infinity);
     * // => 9007199254740991
     *
     * _.toSafeInteger('3.2');
     * // => 3
     */function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0;}/**
     * Converts `value` to a string. An empty string is returned for `null`
     * and `undefined` values. The sign of `-0` is preserved.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.toString(null);
     * // => ''
     *
     * _.toString(-0);
     * // => '-0'
     *
     * _.toString([1, 2, 3]);
     * // => '1,2,3'
     */function toString(value){return value==null?'':baseToString(value);}/*------------------------------------------------------------------------*/ /**
     * Assigns own enumerable string keyed properties of source objects to the
     * destination object. Source objects are applied from left to right.
     * Subsequent sources overwrite property assignments of previous sources.
     *
     * **Note:** This method mutates `object` and is loosely based on
     * [`Object.assign`](https://mdn.io/Object/assign).
     *
     * @static
     * @memberOf _
     * @since 0.10.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.assignIn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * function Bar() {
     *   this.c = 3;
     * }
     *
     * Foo.prototype.b = 2;
     * Bar.prototype.d = 4;
     *
     * _.assign({ 'a': 0 }, new Foo, new Bar);
     * // => { 'a': 1, 'c': 3 }
     */var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return;}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key]);}}});/**
     * This method is like `_.assign` except that it iterates over own and
     * inherited source properties.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias extend
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.assign
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     * }
     *
     * function Bar() {
     *   this.c = 3;
     * }
     *
     * Foo.prototype.b = 2;
     * Bar.prototype.d = 4;
     *
     * _.assignIn({ 'a': 0 }, new Foo, new Bar);
     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }
     */var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object);});/**
     * This method is like `_.assignIn` except that it accepts `customizer`
     * which is invoked to produce the assigned values. If `customizer` returns
     * `undefined`, assignment is handled by the method instead. The `customizer`
     * is invoked with five arguments: (objValue, srcValue, key, object, source).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias extendWith
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @see _.assignWith
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   return _.isUndefined(objValue) ? srcValue : objValue;
     * }
     *
     * var defaults = _.partialRight(_.assignInWith, customizer);
     *
     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer);});/**
     * This method is like `_.assign` except that it accepts `customizer`
     * which is invoked to produce the assigned values. If `customizer` returns
     * `undefined`, assignment is handled by the method instead. The `customizer`
     * is invoked with five arguments: (objValue, srcValue, key, object, source).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @see _.assignInWith
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   return _.isUndefined(objValue) ? srcValue : objValue;
     * }
     *
     * var defaults = _.partialRight(_.assignWith, customizer);
     *
     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer);});/**
     * Creates an array of values corresponding to `paths` of `object`.
     *
     * @static
     * @memberOf _
     * @since 1.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Array} Returns the picked values.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };
     *
     * _.at(object, ['a[0].b.c', 'a[1]']);
     * // => [3, 4]
     */var at=flatRest(baseAt);/**
     * Creates an object that inherits from the `prototype` object. If a
     * `properties` object is given, its own enumerable string keyed properties
     * are assigned to the created object.
     *
     * @static
     * @memberOf _
     * @since 2.3.0
     * @category Object
     * @param {Object} prototype The object to inherit from.
     * @param {Object} [properties] The properties to assign to the object.
     * @returns {Object} Returns the new object.
     * @example
     *
     * function Shape() {
     *   this.x = 0;
     *   this.y = 0;
     * }
     *
     * function Circle() {
     *   Shape.call(this);
     * }
     *
     * Circle.prototype = _.create(Shape.prototype, {
     *   'constructor': Circle
     * });
     *
     * var circle = new Circle;
     * circle instanceof Circle;
     * // => true
     *
     * circle instanceof Shape;
     * // => true
     */function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties);}/**
     * Assigns own and inherited enumerable string keyed properties of source
     * objects to the destination object for all destination properties that
     * resolve to `undefined`. Source objects are applied from left to right.
     * Once a property is set, additional values of the same property are ignored.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.defaultsDeep
     * @example
     *
     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });
     * // => { 'a': 1, 'b': 2 }
     */var defaults=baseRest(function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){length=1;}while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key)){object[key]=source[key];}}}return object;});/**
     * This method is like `_.defaults` except that it recursively assigns
     * default properties.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @see _.defaults
     * @example
     *
     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });
     * // => { 'a': { 'b': 2, 'c': 3 } }
     */var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args);});/**
     * This method is like `_.find` except that it returns the key of the first
     * element `predicate` returns truthy for instead of the element itself.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {string|undefined} Returns the key of the matched element,
     *  else `undefined`.
     * @example
     *
     * var users = {
     *   'barney':  { 'age': 36, 'active': true },
     *   'fred':    { 'age': 40, 'active': false },
     *   'pebbles': { 'age': 1,  'active': true }
     * };
     *
     * _.findKey(users, function(o) { return o.age < 40; });
     * // => 'barney' (iteration order is not guaranteed)
     *
     * // The `_.matches` iteratee shorthand.
     * _.findKey(users, { 'age': 1, 'active': true });
     * // => 'pebbles'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findKey(users, ['active', false]);
     * // => 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.findKey(users, 'active');
     * // => 'barney'
     */function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn);}/**
     * This method is like `_.findKey` except that it iterates over elements of
     * a collection in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {string|undefined} Returns the key of the matched element,
     *  else `undefined`.
     * @example
     *
     * var users = {
     *   'barney':  { 'age': 36, 'active': true },
     *   'fred':    { 'age': 40, 'active': false },
     *   'pebbles': { 'age': 1,  'active': true }
     * };
     *
     * _.findLastKey(users, function(o) { return o.age < 40; });
     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'
     *
     * // The `_.matches` iteratee shorthand.
     * _.findLastKey(users, { 'age': 36, 'active': true });
     * // => 'barney'
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.findLastKey(users, ['active', false]);
     * // => 'fred'
     *
     * // The `_.property` iteratee shorthand.
     * _.findLastKey(users, 'active');
     * // => 'pebbles'
     */function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight);}/**
     * Iterates over own and inherited enumerable string keyed properties of an
     * object and invokes `iteratee` for each property. The iteratee is invoked
     * with three arguments: (value, key, object). Iteratee functions may exit
     * iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 0.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forInRight
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forIn(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).
     */function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn);}/**
     * This method is like `_.forIn` except that it iterates over properties of
     * `object` in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forIn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forInRight(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.
     */function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn);}/**
     * Iterates over own enumerable string keyed properties of an object and
     * invokes `iteratee` for each property. The iteratee is invoked with three
     * arguments: (value, key, object). Iteratee functions may exit iteration
     * early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 0.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forOwnRight
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forOwn(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'a' then 'b' (iteration order is not guaranteed).
     */function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3));}/**
     * This method is like `_.forOwn` except that it iterates over properties of
     * `object` in the opposite order.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns `object`.
     * @see _.forOwn
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.forOwnRight(new Foo, function(value, key) {
     *   console.log(key);
     * });
     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.
     */function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3));}/**
     * Creates an array of function property names from own enumerable properties
     * of `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns the function names.
     * @see _.functionsIn
     * @example
     *
     * function Foo() {
     *   this.a = _.constant('a');
     *   this.b = _.constant('b');
     * }
     *
     * Foo.prototype.c = _.constant('c');
     *
     * _.functions(new Foo);
     * // => ['a', 'b']
     */function functions(object){return object==null?[]:baseFunctions(object,keys(object));}/**
     * Creates an array of function property names from own and inherited
     * enumerable properties of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to inspect.
     * @returns {Array} Returns the function names.
     * @see _.functions
     * @example
     *
     * function Foo() {
     *   this.a = _.constant('a');
     *   this.b = _.constant('b');
     * }
     *
     * Foo.prototype.c = _.constant('c');
     *
     * _.functionsIn(new Foo);
     * // => ['a', 'b', 'c']
     */function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object));}/**
     * Gets the value at `path` of `object`. If the resolved value is
     * `undefined`, the `defaultValue` is returned in its place.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @param {*} [defaultValue] The value returned for `undefined` resolved values.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.get(object, 'a[0].b.c');
     * // => 3
     *
     * _.get(object, ['a', '0', 'b', 'c']);
     * // => 3
     *
     * _.get(object, 'a.b.c', 'default');
     * // => 'default'
     */function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result;}/**
     * Checks if `path` is a direct property of `object`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = { 'a': { 'b': 2 } };
     * var other = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.has(object, 'a');
     * // => true
     *
     * _.has(object, 'a.b');
     * // => true
     *
     * _.has(object, ['a', 'b']);
     * // => true
     *
     * _.has(other, 'a');
     * // => false
     */function has(object,path){return object!=null&&hasPath(object,path,baseHas);}/**
     * Checks if `path` is a direct or inherited property of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.hasIn(object, 'a');
     * // => true
     *
     * _.hasIn(object, 'a.b');
     * // => true
     *
     * _.hasIn(object, ['a', 'b']);
     * // => true
     *
     * _.hasIn(object, 'b');
     * // => false
     */function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn);}/**
     * Creates an object composed of the inverted keys and values of `object`.
     * If `object` contains duplicate values, subsequent values overwrite
     * property assignments of previous values.
     *
     * @static
     * @memberOf _
     * @since 0.7.0
     * @category Object
     * @param {Object} object The object to invert.
     * @returns {Object} Returns the new inverted object.
     * @example
     *
     * var object = { 'a': 1, 'b': 2, 'c': 1 };
     *
     * _.invert(object);
     * // => { '1': 'c', '2': 'b' }
     */var invert=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!='function'){value=nativeObjectToString.call(value);}result[value]=key;},constant(identity));/**
     * This method is like `_.invert` except that the inverted object is generated
     * from the results of running each element of `object` thru `iteratee`. The
     * corresponding inverted value of each inverted key is an array of keys
     * responsible for generating the inverted value. The iteratee is invoked
     * with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.1.0
     * @category Object
     * @param {Object} object The object to invert.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {Object} Returns the new inverted object.
     * @example
     *
     * var object = { 'a': 1, 'b': 2, 'c': 1 };
     *
     * _.invertBy(object);
     * // => { '1': ['a', 'c'], '2': ['b'] }
     *
     * _.invertBy(object, function(value) {
     *   return 'group' + value;
     * });
     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }
     */var invertBy=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!='function'){value=nativeObjectToString.call(value);}if(hasOwnProperty.call(result,value)){result[value].push(key);}else{result[value]=[key];}},getIteratee);/**
     * Invokes the method at `path` of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the method to invoke.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {*} Returns the result of the invoked method.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };
     *
     * _.invoke(object, 'a[0].b.c.slice', 1, 3);
     * // => [2, 3]
     */var invoke=baseRest(baseInvoke);/**
     * Creates an array of the own enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects. See the
     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * for more details.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keys(new Foo);
     * // => ['a', 'b'] (iteration order is not guaranteed)
     *
     * _.keys('hi');
     * // => ['0', '1']
     */function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object);}/**
     * Creates an array of the own and inherited enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keysIn(new Foo);
     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
     */function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object);}/**
     * The opposite of `_.mapValues`; this method creates an object with the
     * same values as `object` and keys generated by running each own enumerable
     * string keyed property of `object` thru `iteratee`. The iteratee is invoked
     * with three arguments: (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 3.8.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapValues
     * @example
     *
     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {
     *   return key + value;
     * });
     * // => { 'a1': 1, 'b2': 2 }
     */function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value);});return result;}/**
     * Creates an object with the same keys as `object` and values generated
     * by running each own enumerable string keyed property of `object` thru
     * `iteratee`. The iteratee is invoked with three arguments:
     * (value, key, object).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Object} Returns the new mapped object.
     * @see _.mapKeys
     * @example
     *
     * var users = {
     *   'fred':    { 'user': 'fred',    'age': 40 },
     *   'pebbles': { 'user': 'pebbles', 'age': 1 }
     * };
     *
     * _.mapValues(users, function(o) { return o.age; });
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     *
     * // The `_.property` iteratee shorthand.
     * _.mapValues(users, 'age');
     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)
     */function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object));});return result;}/**
     * This method is like `_.assign` except that it recursively merges own and
     * inherited enumerable string keyed properties of source objects into the
     * destination object. Source properties that resolve to `undefined` are
     * skipped if a destination value exists. Array and plain object properties
     * are merged recursively. Other objects and value types are overridden by
     * assignment. Source objects are applied from left to right. Subsequent
     * sources overwrite property assignments of previous sources.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 0.5.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} [sources] The source objects.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {
     *   'a': [{ 'b': 2 }, { 'd': 4 }]
     * };
     *
     * var other = {
     *   'a': [{ 'c': 3 }, { 'e': 5 }]
     * };
     *
     * _.merge(object, other);
     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }
     */var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex);});/**
     * This method is like `_.merge` except that it accepts `customizer` which
     * is invoked to produce the merged values of the destination and source
     * properties. If `customizer` returns `undefined`, merging is handled by the
     * method instead. The `customizer` is invoked with six arguments:
     * (objValue, srcValue, key, object, source, stack).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The destination object.
     * @param {...Object} sources The source objects.
     * @param {Function} customizer The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * function customizer(objValue, srcValue) {
     *   if (_.isArray(objValue)) {
     *     return objValue.concat(srcValue);
     *   }
     * }
     *
     * var object = { 'a': [1], 'b': [2] };
     * var other = { 'a': [3], 'b': [4] };
     *
     * _.mergeWith(object, other, customizer);
     * // => { 'a': [1, 3], 'b': [2, 4] }
     */var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer);});/**
     * The opposite of `_.pick`; this method creates an object composed of the
     * own and inherited enumerable property paths of `object` that are not omitted.
     *
     * **Note:** This method is considerably slower than `_.pick`.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The source object.
     * @param {...(string|string[])} [paths] The property paths to omit.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.omit(object, ['a', 'c']);
     * // => { 'b': '2' }
     */var omit=flatRest(function(object,paths){var result={};if(object==null){return result;}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path;});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone);}var length=paths.length;while(length--){baseUnset(result,paths[length]);}return result;});/**
     * The opposite of `_.pickBy`; this method creates an object composed of
     * the own and inherited enumerable string keyed properties of `object` that
     * `predicate` doesn't return truthy for. The predicate is invoked with two
     * arguments: (value, key).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The source object.
     * @param {Function} [predicate=_.identity] The function invoked per property.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.omitBy(object, _.isNumber);
     * // => { 'b': '2' }
     */function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)));}/**
     * Creates an object composed of the picked `object` properties.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The source object.
     * @param {...(string|string[])} [paths] The property paths to pick.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pick(object, ['a', 'c']);
     * // => { 'a': 1, 'c': 3 }
     */var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths);});/**
     * Creates an object composed of the `object` properties `predicate` returns
     * truthy for. The predicate is invoked with two arguments: (value, key).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The source object.
     * @param {Function} [predicate=_.identity] The function invoked per property.
     * @returns {Object} Returns the new object.
     * @example
     *
     * var object = { 'a': 1, 'b': '2', 'c': 3 };
     *
     * _.pickBy(object, _.isNumber);
     * // => { 'a': 1, 'c': 3 }
     */function pickBy(object,predicate){if(object==null){return{};}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop];});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0]);});}/**
     * This method is like `_.get` except that if the resolved value is a
     * function it's invoked with the `this` binding of its parent object and
     * its result is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to resolve.
     * @param {*} [defaultValue] The value returned for `undefined` resolved values.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };
     *
     * _.result(object, 'a[0].b.c1');
     * // => 3
     *
     * _.result(object, 'a[0].b.c2');
     * // => 4
     *
     * _.result(object, 'a[0].b.c3', 'default');
     * // => 'default'
     *
     * _.result(object, 'a[0].b.c3', _.constant('default'));
     * // => 'default'
     */function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;// Ensure the loop is entered when path is empty.
if(!length){length=1;object=undefined;}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue;}object=isFunction(value)?value.call(object):value;}return object;}/**
     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,
     * it's created. Arrays are created for missing index properties while objects
     * are created for all other missing properties. Use `_.setWith` to customize
     * `path` creation.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.set(object, 'a[0].b.c', 4);
     * console.log(object.a[0].b.c);
     * // => 4
     *
     * _.set(object, ['x', '0', 'y', 'z'], 5);
     * console.log(object.x[0].y.z);
     * // => 5
     */function set(object,path,value){return object==null?object:baseSet(object,path,value);}/**
     * This method is like `_.set` except that it accepts `customizer` which is
     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`
     * path creation is handled by the method instead. The `customizer` is invoked
     * with three arguments: (nsValue, key, nsObject).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {*} value The value to set.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {};
     *
     * _.setWith(object, '[0][1]', 'a', Object);
     * // => { '0': { '1': 'a' } }
     */function setWith(object,path,value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer);}/**
     * Creates an array of own enumerable string keyed-value pairs for `object`
     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its
     * entries are returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias entries
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the key-value pairs.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.toPairs(new Foo);
     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)
     */var toPairs=createToPairs(keys);/**
     * Creates an array of own and inherited enumerable string keyed-value pairs
     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map
     * or set, its entries are returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @alias entriesIn
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the key-value pairs.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.toPairsIn(new Foo);
     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)
     */var toPairsIn=createToPairs(keysIn);/**
     * An alternative to `_.reduce`; this method transforms `object` to a new
     * `accumulator` object which is the result of running each of its own
     * enumerable string keyed properties thru `iteratee`, with each invocation
     * potentially mutating the `accumulator` object. If `accumulator` is not
     * provided, a new object with the same `[[Prototype]]` will be used. The
     * iteratee is invoked with four arguments: (accumulator, value, key, object).
     * Iteratee functions may exit iteration early by explicitly returning `false`.
     *
     * @static
     * @memberOf _
     * @since 1.3.0
     * @category Object
     * @param {Object} object The object to iterate over.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @param {*} [accumulator] The custom accumulator value.
     * @returns {*} Returns the accumulated value.
     * @example
     *
     * _.transform([2, 3, 4], function(result, n) {
     *   result.push(n *= n);
     *   return n % 2 == 0;
     * }, []);
     * // => [4, 9]
     *
     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
     *   (result[value] || (result[value] = [])).push(key);
     * }, {});
     * // => { '1': ['a', 'c'], '2': ['b'] }
     */function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor():[];}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{};}else{accumulator={};}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object);});return accumulator;}/**
     * Removes the property at `path` of `object`.
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to unset.
     * @returns {boolean} Returns `true` if the property is deleted, else `false`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 7 } }] };
     * _.unset(object, 'a[0].b.c');
     * // => true
     *
     * console.log(object);
     * // => { 'a': [{ 'b': {} }] };
     *
     * _.unset(object, ['a', '0', 'b', 'c']);
     * // => true
     *
     * console.log(object);
     * // => { 'a': [{ 'b': {} }] };
     */function unset(object,path){return object==null?true:baseUnset(object,path);}/**
     * This method is like `_.set` except that accepts `updater` to produce the
     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`
     * is invoked with one argument: (value).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {Function} updater The function to produce the updated value.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = { 'a': [{ 'b': { 'c': 3 } }] };
     *
     * _.update(object, 'a[0].b.c', function(n) { return n * n; });
     * console.log(object.a[0].b.c);
     * // => 9
     *
     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });
     * console.log(object.x[0].y.z);
     * // => 0
     */function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater));}/**
     * This method is like `_.update` except that it accepts `customizer` which is
     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`
     * path creation is handled by the method instead. The `customizer` is invoked
     * with three arguments: (nsValue, key, nsObject).
     *
     * **Note:** This method mutates `object`.
     *
     * @static
     * @memberOf _
     * @since 4.6.0
     * @category Object
     * @param {Object} object The object to modify.
     * @param {Array|string} path The path of the property to set.
     * @param {Function} updater The function to produce the updated value.
     * @param {Function} [customizer] The function to customize assigned values.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var object = {};
     *
     * _.updateWith(object, '[0][1]', _.constant('a'), Object);
     * // => { '0': { '1': 'a' } }
     */function updateWith(object,path,updater,customizer){customizer=typeof customizer=='function'?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer);}/**
     * Creates an array of the own enumerable string keyed property values of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property values.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.values(new Foo);
     * // => [1, 2] (iteration order is not guaranteed)
     *
     * _.values('hi');
     * // => ['h', 'i']
     */function values(object){return object==null?[]:baseValues(object,keys(object));}/**
     * Creates an array of the own and inherited enumerable string keyed property
     * values of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property values.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.valuesIn(new Foo);
     * // => [1, 2, 3] (iteration order is not guaranteed)
     */function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object));}/*------------------------------------------------------------------------*/ /**
     * Clamps `number` within the inclusive `lower` and `upper` bounds.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Number
     * @param {number} number The number to clamp.
     * @param {number} [lower] The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the clamped number.
     * @example
     *
     * _.clamp(-10, -5, 5);
     * // => -5
     *
     * _.clamp(10, -5, 5);
     * // => 5
     */function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined;}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0;}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0;}return baseClamp(toNumber(number),lower,upper);}/**
     * Checks if `n` is between `start` and up to, but not including, `end`. If
     * `end` is not specified, it's set to `start` with `start` then set to `0`.
     * If `start` is greater than `end` the params are swapped to support
     * negative ranges.
     *
     * @static
     * @memberOf _
     * @since 3.3.0
     * @category Number
     * @param {number} number The number to check.
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.
     * @see _.range, _.rangeRight
     * @example
     *
     * _.inRange(3, 2, 4);
     * // => true
     *
     * _.inRange(4, 8);
     * // => true
     *
     * _.inRange(4, 2);
     * // => false
     *
     * _.inRange(2, 2);
     * // => false
     *
     * _.inRange(1.2, 2);
     * // => true
     *
     * _.inRange(5.2, 4);
     * // => false
     *
     * _.inRange(-3, -2, -6);
     * // => true
     */function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0;}else{end=toFinite(end);}number=toNumber(number);return baseInRange(number,start,end);}/**
     * Produces a random number between the inclusive `lower` and `upper` bounds.
     * If only one argument is provided a number between `0` and the given number
     * is returned. If `floating` is `true`, or either `lower` or `upper` are
     * floats, a floating-point number is returned instead of an integer.
     *
     * **Note:** JavaScript follows the IEEE-754 standard for resolving
     * floating-point values which can produce unexpected results.
     *
     * @static
     * @memberOf _
     * @since 0.7.0
     * @category Number
     * @param {number} [lower=0] The lower bound.
     * @param {number} [upper=1] The upper bound.
     * @param {boolean} [floating] Specify returning a floating-point number.
     * @returns {number} Returns the random number.
     * @example
     *
     * _.random(0, 5);
     * // => an integer between 0 and 5
     *
     * _.random(5);
     * // => also an integer between 0 and 5
     *
     * _.random(5, true);
     * // => a floating-point number between 0 and 5
     *
     * _.random(1.2, 5.2);
     * // => a floating-point number between 1.2 and 5.2
     */function random(lower,upper,floating){if(floating&&typeof floating!='boolean'&&isIterateeCall(lower,upper,floating)){upper=floating=undefined;}if(floating===undefined){if(typeof upper=='boolean'){floating=upper;upper=undefined;}else if(typeof lower=='boolean'){floating=lower;lower=undefined;}}if(lower===undefined&&upper===undefined){lower=0;upper=1;}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0;}else{upper=toFinite(upper);}}if(lower>upper){var temp=lower;lower=upper;upper=temp;}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat('1e-'+((rand+'').length-1))),upper);}return baseRandom(lower,upper);}/*------------------------------------------------------------------------*/ /**
     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the camel cased string.
     * @example
     *
     * _.camelCase('Foo Bar');
     * // => 'fooBar'
     *
     * _.camelCase('--foo-bar--');
     * // => 'fooBar'
     *
     * _.camelCase('__FOO_BAR__');
     * // => 'fooBar'
     */var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word);});/**
     * Converts the first character of `string` to upper case and the remaining
     * to lower case.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to capitalize.
     * @returns {string} Returns the capitalized string.
     * @example
     *
     * _.capitalize('FRED');
     * // => 'Fred'
     */function capitalize(string){return upperFirst(toString(string).toLowerCase());}/**
     * Deburrs `string` by converting
     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
     * letters to basic Latin letters and removing
     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to deburr.
     * @returns {string} Returns the deburred string.
     * @example
     *
     * _.deburr('dj vu');
     * // => 'deja vu'
     */function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,'');}/**
     * Checks if `string` ends with the given target string.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {string} [target] The string to search for.
     * @param {number} [position=string.length] The position to search up to.
     * @returns {boolean} Returns `true` if `string` ends with `target`,
     *  else `false`.
     * @example
     *
     * _.endsWith('abc', 'c');
     * // => true
     *
     * _.endsWith('abc', 'b');
     * // => false
     *
     * _.endsWith('abc', 'b', 2);
     * // => true
     */function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target;}/**
     * Converts the characters "&", "<", ">", '"', and "'" in `string` to their
     * corresponding HTML entities.
     *
     * **Note:** No other characters are escaped. To escape additional
     * characters use a third-party library like [_he_](https://mths.be/he).
     *
     * Though the ">" character is escaped for symmetry, characters like
     * ">" and "/" don't need escaping in HTML and have no special meaning
     * unless they're part of a tag or unquoted attribute value. See
     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)
     * (under "semi-related fun fact") for more details.
     *
     * When working with HTML you should always
     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce
     * XSS vectors.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category String
     * @param {string} [string=''] The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escape('fred, barney, & pebbles');
     * // => 'fred, barney, &amp; pebbles'
     */function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string;}/**
     * Escapes the `RegExp` special characters "^", "$", "\", ".", "*", "+",
     * "?", "(", ")", "[", "]", "{", "}", and "|" in `string`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to escape.
     * @returns {string} Returns the escaped string.
     * @example
     *
     * _.escapeRegExp('[lodash](https://lodash.com/)');
     * // => '\[lodash\]\(https://lodash\.com/\)'
     */function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,'\\$&'):string;}/**
     * Converts `string` to
     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the kebab cased string.
     * @example
     *
     * _.kebabCase('Foo Bar');
     * // => 'foo-bar'
     *
     * _.kebabCase('fooBar');
     * // => 'foo-bar'
     *
     * _.kebabCase('__FOO_BAR__');
     * // => 'foo-bar'
     */var kebabCase=createCompounder(function(result,word,index){return result+(index?'-':'')+word.toLowerCase();});/**
     * Converts `string`, as space separated words, to lower case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the lower cased string.
     * @example
     *
     * _.lowerCase('--Foo-Bar--');
     * // => 'foo bar'
     *
     * _.lowerCase('fooBar');
     * // => 'foo bar'
     *
     * _.lowerCase('__FOO_BAR__');
     * // => 'foo bar'
     */var lowerCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toLowerCase();});/**
     * Converts the first character of `string` to lower case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.lowerFirst('Fred');
     * // => 'fred'
     *
     * _.lowerFirst('FRED');
     * // => 'fRED'
     */var lowerFirst=createCaseFirst('toLowerCase');/**
     * Pads `string` on the left and right sides if it's shorter than `length`.
     * Padding characters are truncated if they can't be evenly divided by `length`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.pad('abc', 8);
     * // => '  abc   '
     *
     * _.pad('abc', 8, '_-');
     * // => '_-abc_-_'
     *
     * _.pad('abc', 3);
     * // => 'abc'
     */function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string;}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars);}/**
     * Pads `string` on the right side if it's shorter than `length`. Padding
     * characters are truncated if they exceed `length`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.padEnd('abc', 6);
     * // => 'abc   '
     *
     * _.padEnd('abc', 6, '_-');
     * // => 'abc_-_'
     *
     * _.padEnd('abc', 3);
     * // => 'abc'
     */function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string;}/**
     * Pads `string` on the left side if it's shorter than `length`. Padding
     * characters are truncated if they exceed `length`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to pad.
     * @param {number} [length=0] The padding length.
     * @param {string} [chars=' '] The string used as padding.
     * @returns {string} Returns the padded string.
     * @example
     *
     * _.padStart('abc', 6);
     * // => '   abc'
     *
     * _.padStart('abc', 6, '_-');
     * // => '_-_abc'
     *
     * _.padStart('abc', 3);
     * // => 'abc'
     */function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string;}/**
     * Converts `string` to an integer of the specified radix. If `radix` is
     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a
     * hexadecimal, in which case a `radix` of `16` is used.
     *
     * **Note:** This method aligns with the
     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.
     *
     * @static
     * @memberOf _
     * @since 1.1.0
     * @category String
     * @param {string} string The string to convert.
     * @param {number} [radix=10] The radix to interpret `value` by.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.parseInt('08');
     * // => 8
     *
     * _.map(['6', '08', '10'], _.parseInt);
     * // => [6, 8, 10]
     */function parseInt(string,radix,guard){if(guard||radix==null){radix=0;}else if(radix){radix=+radix;}return nativeParseInt(toString(string).replace(reTrimStart,''),radix||0);}/**
     * Repeats the given string `n` times.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to repeat.
     * @param {number} [n=1] The number of times to repeat the string.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the repeated string.
     * @example
     *
     * _.repeat('*', 3);
     * // => '***'
     *
     * _.repeat('abc', 2);
     * // => 'abcabc'
     *
     * _.repeat('abc', 0);
     * // => ''
     */function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1;}else{n=toInteger(n);}return baseRepeat(toString(string),n);}/**
     * Replaces matches for `pattern` in `string` with `replacement`.
     *
     * **Note:** This method is based on
     * [`String#replace`](https://mdn.io/String/replace).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to modify.
     * @param {RegExp|string} pattern The pattern to replace.
     * @param {Function|string} replacement The match replacement.
     * @returns {string} Returns the modified string.
     * @example
     *
     * _.replace('Hi Fred', 'Fred', 'Barney');
     * // => 'Hi Barney'
     */function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2]);}/**
     * Converts `string` to
     * [snake case](https://en.wikipedia.org/wiki/Snake_case).
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the snake cased string.
     * @example
     *
     * _.snakeCase('Foo Bar');
     * // => 'foo_bar'
     *
     * _.snakeCase('fooBar');
     * // => 'foo_bar'
     *
     * _.snakeCase('--FOO-BAR--');
     * // => 'foo_bar'
     */var snakeCase=createCompounder(function(result,word,index){return result+(index?'_':'')+word.toLowerCase();});/**
     * Splits `string` by `separator`.
     *
     * **Note:** This method is based on
     * [`String#split`](https://mdn.io/String/split).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to split.
     * @param {RegExp|string} separator The separator pattern to split by.
     * @param {number} [limit] The length to truncate results to.
     * @returns {Array} Returns the string segments.
     * @example
     *
     * _.split('a-b-c', '-', 2);
     * // => ['a', 'b']
     */function split(string,separator,limit){if(limit&&typeof limit!='number'&&isIterateeCall(string,separator,limit)){separator=limit=undefined;}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[];}string=toString(string);if(string&&(typeof separator=='string'||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit);}}return string.split(separator,limit);}/**
     * Converts `string` to
     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).
     *
     * @static
     * @memberOf _
     * @since 3.1.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the start cased string.
     * @example
     *
     * _.startCase('--foo-bar--');
     * // => 'Foo Bar'
     *
     * _.startCase('fooBar');
     * // => 'Foo Bar'
     *
     * _.startCase('__FOO_BAR__');
     * // => 'FOO BAR'
     */var startCase=createCompounder(function(result,word,index){return result+(index?' ':'')+upperFirst(word);});/**
     * Checks if `string` starts with the given target string.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {string} [target] The string to search for.
     * @param {number} [position=0] The position to search from.
     * @returns {boolean} Returns `true` if `string` starts with `target`,
     *  else `false`.
     * @example
     *
     * _.startsWith('abc', 'a');
     * // => true
     *
     * _.startsWith('abc', 'b');
     * // => false
     *
     * _.startsWith('abc', 'b', 1);
     * // => true
     */function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target;}/**
     * Creates a compiled template function that can interpolate data properties
     * in "interpolate" delimiters, HTML-escape interpolated data properties in
     * "escape" delimiters, and execute JavaScript in "evaluate" delimiters. Data
     * properties may be accessed as free variables in the template. If a setting
     * object is given, it takes precedence over `_.templateSettings` values.
     *
     * **Note:** In the development build `_.template` utilizes
     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)
     * for easier debugging.
     *
     * For more information on precompiling templates see
     * [lodash's custom builds documentation](https://lodash.com/custom-builds).
     *
     * For more information on Chrome extension sandboxes see
     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category String
     * @param {string} [string=''] The template string.
     * @param {Object} [options={}] The options object.
     * @param {RegExp} [options.escape=_.templateSettings.escape]
     *  The HTML "escape" delimiter.
     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]
     *  The "evaluate" delimiter.
     * @param {Object} [options.imports=_.templateSettings.imports]
     *  An object to import into the template as free variables.
     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]
     *  The "interpolate" delimiter.
     * @param {string} [options.sourceURL='lodash.templateSources[n]']
     *  The sourceURL of the compiled template.
     * @param {string} [options.variable='obj']
     *  The data object variable name.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Function} Returns the compiled template function.
     * @example
     *
     * // Use the "interpolate" delimiter to create a compiled template.
     * var compiled = _.template('hello <%= user %>!');
     * compiled({ 'user': 'fred' });
     * // => 'hello fred!'
     *
     * // Use the HTML "escape" delimiter to escape data property values.
     * var compiled = _.template('<b><%- value %></b>');
     * compiled({ 'value': '<script>' });
     * // => '<b>&lt;script&gt;</b>'
     *
     * // Use the "evaluate" delimiter to execute JavaScript and generate HTML.
     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');
     * compiled({ 'users': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // Use the internal `print` function in "evaluate" delimiters.
     * var compiled = _.template('<% print("hello " + user); %>!');
     * compiled({ 'user': 'barney' });
     * // => 'hello barney!'
     *
     * // Use the ES template literal delimiter as an "interpolate" delimiter.
     * // Disable support by replacing the "interpolate" delimiter.
     * var compiled = _.template('hello ${ user }!');
     * compiled({ 'user': 'pebbles' });
     * // => 'hello pebbles!'
     *
     * // Use backslashes to treat delimiters as plain text.
     * var compiled = _.template('<%= "\\<%- value %\\>" %>');
     * compiled({ 'value': 'ignored' });
     * // => '<%- value %>'
     *
     * // Use the `imports` option to import `jQuery` as `jq`.
     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';
     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });
     * compiled({ 'users': ['fred', 'barney'] });
     * // => '<li>fred</li><li>barney</li>'
     *
     * // Use the `sourceURL` option to specify a custom sourceURL for the template.
     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });
     * compiled(data);
     * // => Find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector.
     *
     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.
     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });
     * compiled.source;
     * // => function(data) {
     * //   var __t, __p = '';
     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';
     * //   return __p;
     * // }
     *
     * // Use custom template delimiters.
     * _.templateSettings.interpolate = /{{([\s\S]+?)}}/g;
     * var compiled = _.template('hello {{ user }}!');
     * compiled({ 'user': 'mustache' });
     * // => 'hello mustache!'
     *
     * // Use the `source` property to inline compiled templates for meaningful
     * // line numbers in error messages and stack traces.
     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\
     *   var JST = {\
     *     "main": ' + _.template(mainText).source + '\
     *   };\
     * ');
     */function template(string,options,guard){// Based on John Resig's `tmpl` implementation
// (http://ejohn.org/blog/javascript-micro-templating/)
// and Laura Doktorova's doT.js (https://github.com/olado/doT).
var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined;}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";// Compile the regexp to match each delimiter.
var reDelimiters=RegExp((options.escape||reNoMatch).source+'|'+interpolate.source+'|'+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+'|'+(options.evaluate||reNoMatch).source+'|$','g');// Use a sourceURL for easier debugging.
// The sourceURL gets injected into the source that's eval-ed, so be careful
// to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in
// and escape the comment, thus injecting code that gets evaled.
var sourceURL='//# sourceURL='+(hasOwnProperty.call(options,'sourceURL')?(options.sourceURL+'').replace(/\s/g,' '):'lodash.templateSources['+ ++templateCounter+']')+'\n';string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);// Escape characters that can't be included in string literals.
source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);// Replace delimiters with snippets.
if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'";}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '";}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'";}index=offset+match.length;// The JS engine embedded in Adobe products needs `match` returned in
// order to produce the correct `offset` value.
return match;});source+="';\n";// If `variable` is not specified wrap a with-statement around the generated
// code to add the data object to the top of the scope chain.
var variable=hasOwnProperty.call(options,'variable')&&options.variable;if(!variable){source='with (obj) {\n'+source+'\n}\n';}// Throw an error if a forbidden character was found in `variable`, to prevent
// potential command injection attacks.
else if(reForbiddenIdentifierChars.test(variable)){throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);}// Cleanup code by stripping empty strings.
source=(isEvaluating?source.replace(reEmptyStringLeading,''):source).replace(reEmptyStringMiddle,'$1').replace(reEmptyStringTrailing,'$1;');// Frame code as the function body.
source='function('+(variable||'obj')+') {\n'+(variable?'':'obj || (obj = {});\n')+"var __t, __p = ''"+(isEscaping?', __e = _.escape':'')+(isEvaluating?', __j = Array.prototype.join;\n'+"function print() { __p += __j.call(arguments, '') }\n":';\n')+source+'return __p\n}';var result=attempt(function(){return Function(importsKeys,sourceURL+'return '+source).apply(undefined,importsValues);});// Provide the compiled function's source by its `toString` method or
// the `source` property as a convenience for inlining compiled templates.
result.source=source;if(isError(result)){throw result;}return result;}/**
     * Converts `string`, as a whole, to lower case just like
     * [String#toLowerCase](https://mdn.io/toLowerCase).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the lower cased string.
     * @example
     *
     * _.toLower('--Foo-Bar--');
     * // => '--foo-bar--'
     *
     * _.toLower('fooBar');
     * // => 'foobar'
     *
     * _.toLower('__FOO_BAR__');
     * // => '__foo_bar__'
     */function toLower(value){return toString(value).toLowerCase();}/**
     * Converts `string`, as a whole, to upper case just like
     * [String#toUpperCase](https://mdn.io/toUpperCase).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the upper cased string.
     * @example
     *
     * _.toUpper('--foo-bar--');
     * // => '--FOO-BAR--'
     *
     * _.toUpper('fooBar');
     * // => 'FOOBAR'
     *
     * _.toUpper('__foo_bar__');
     * // => '__FOO_BAR__'
     */function toUpper(value){return toString(value).toUpperCase();}/**
     * Removes leading and trailing whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trim('  abc  ');
     * // => 'abc'
     *
     * _.trim('-_-abc-_-', '_-');
     * // => 'abc'
     *
     * _.map(['  foo  ', '  bar  '], _.trim);
     * // => ['foo', 'bar']
     */function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return baseTrim(string);}if(!string||!(chars=baseToString(chars))){return string;}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join('');}/**
     * Removes trailing whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trimEnd('  abc  ');
     * // => '  abc'
     *
     * _.trimEnd('-_-abc-_-', '_-');
     * // => '-_-abc'
     */function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.slice(0,trimmedEndIndex(string)+1);}if(!string||!(chars=baseToString(chars))){return string;}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join('');}/**
     * Removes leading whitespace or specified characters from `string`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to trim.
     * @param {string} [chars=whitespace] The characters to trim.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {string} Returns the trimmed string.
     * @example
     *
     * _.trimStart('  abc  ');
     * // => 'abc  '
     *
     * _.trimStart('-_-abc-_-', '_-');
     * // => 'abc-_-'
     */function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,'');}if(!string||!(chars=baseToString(chars))){return string;}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join('');}/**
     * Truncates `string` if it's longer than the given maximum string length.
     * The last characters of the truncated string are replaced with the omission
     * string which defaults to "...".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to truncate.
     * @param {Object} [options={}] The options object.
     * @param {number} [options.length=30] The maximum string length.
     * @param {string} [options.omission='...'] The string to indicate text is omitted.
     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.
     * @returns {string} Returns the truncated string.
     * @example
     *
     * _.truncate('hi-diddly-ho there, neighborino');
     * // => 'hi-diddly-ho there, neighbo...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'length': 24,
     *   'separator': ' '
     * });
     * // => 'hi-diddly-ho there,...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'length': 24,
     *   'separator': /,? +/
     * });
     * // => 'hi-diddly-ho there...'
     *
     * _.truncate('hi-diddly-ho there, neighborino', {
     *   'omission': ' [...]'
     * });
     * // => 'hi-diddly-ho there, neig [...]'
     */function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator='separator'in options?options.separator:separator;length='length'in options?toInteger(options.length):length;omission='omission'in options?baseToString(options.omission):omission;}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length;}if(length>=strLength){return string;}var end=length-stringSize(omission);if(end<1){return omission;}var result=strSymbols?castSlice(strSymbols,0,end).join(''):string.slice(0,end);if(separator===undefined){return result+omission;}if(strSymbols){end+=result.length-end;}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+'g');}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index;}result=result.slice(0,newEnd===undefined?end:newEnd);}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index);}}return result+omission;}/**
     * The inverse of `_.escape`; this method converts the HTML entities
     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to
     * their corresponding characters.
     *
     * **Note:** No other HTML entities are unescaped. To unescape additional
     * HTML entities use a third-party library like [_he_](https://mths.be/he).
     *
     * @static
     * @memberOf _
     * @since 0.6.0
     * @category String
     * @param {string} [string=''] The string to unescape.
     * @returns {string} Returns the unescaped string.
     * @example
     *
     * _.unescape('fred, barney, &amp; pebbles');
     * // => 'fred, barney, & pebbles'
     */function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string;}/**
     * Converts `string`, as space separated words, to upper case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the upper cased string.
     * @example
     *
     * _.upperCase('--foo-bar');
     * // => 'FOO BAR'
     *
     * _.upperCase('fooBar');
     * // => 'FOO BAR'
     *
     * _.upperCase('__foo_bar__');
     * // => 'FOO BAR'
     */var upperCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toUpperCase();});/**
     * Converts the first character of `string` to upper case.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category String
     * @param {string} [string=''] The string to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.upperFirst('fred');
     * // => 'Fred'
     *
     * _.upperFirst('FRED');
     * // => 'FRED'
     */var upperFirst=createCaseFirst('toUpperCase');/**
     * Splits `string` into an array of its words.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category String
     * @param {string} [string=''] The string to inspect.
     * @param {RegExp|string} [pattern] The pattern to match words.
     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
     * @returns {Array} Returns the words of `string`.
     * @example
     *
     * _.words('fred, barney, & pebbles');
     * // => ['fred', 'barney', 'pebbles']
     *
     * _.words('fred, barney, & pebbles', /[^, ]+/g);
     * // => ['fred', 'barney', '&', 'pebbles']
     */function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string);}return string.match(pattern)||[];}/*------------------------------------------------------------------------*/ /**
     * Attempts to invoke `func`, returning either the result or the caught error
     * object. Any additional arguments are provided to `func` when it's invoked.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Function} func The function to attempt.
     * @param {...*} [args] The arguments to invoke `func` with.
     * @returns {*} Returns the `func` result or error object.
     * @example
     *
     * // Avoid throwing errors for invalid selectors.
     * var elements = _.attempt(function(selector) {
     *   return document.querySelectorAll(selector);
     * }, '>_>');
     *
     * if (_.isError(elements)) {
     *   elements = [];
     * }
     */var attempt=baseRest(function(func,args){try{return apply(func,undefined,args);}catch(e){return isError(e)?e:new Error(e);}});/**
     * Binds methods of an object to the object itself, overwriting the existing
     * method.
     *
     * **Note:** This method doesn't set the "length" property of bound functions.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {Object} object The object to bind and assign the bound methods to.
     * @param {...(string|string[])} methodNames The object method names to bind.
     * @returns {Object} Returns `object`.
     * @example
     *
     * var view = {
     *   'label': 'docs',
     *   'click': function() {
     *     console.log('clicked ' + this.label);
     *   }
     * };
     *
     * _.bindAll(view, ['click']);
     * jQuery(element).on('click', view.click);
     * // => Logs 'clicked docs' when clicked.
     */var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object));});return object;});/**
     * Creates a function that iterates over `pairs` and invokes the corresponding
     * function of the first predicate to return truthy. The predicate-function
     * pairs are invoked with the `this` binding and arguments of the created
     * function.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {Array} pairs The predicate-function pairs.
     * @returns {Function} Returns the new composite function.
     * @example
     *
     * var func = _.cond([
     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],
     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],
     *   [_.stubTrue,                      _.constant('no match')]
     * ]);
     *
     * func({ 'a': 1, 'b': 2 });
     * // => 'matches A'
     *
     * func({ 'a': 0, 'b': 1 });
     * // => 'matches B'
     *
     * func({ 'a': '1', 'b': '2' });
     * // => 'no match'
     */function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!='function'){throw new TypeError(FUNC_ERROR_TEXT);}return[toIteratee(pair[0]),pair[1]];});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args);}}});}/**
     * Creates a function that invokes the predicate properties of `source` with
     * the corresponding property values of a given object, returning `true` if
     * all predicates return truthy, else `false`.
     *
     * **Note:** The created function is equivalent to `_.conformsTo` with
     * `source` partially applied.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {Object} source The object of property predicates to conform to.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 2, 'b': 1 },
     *   { 'a': 1, 'b': 2 }
     * ];
     *
     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));
     * // => [{ 'a': 1, 'b': 2 }]
     */function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG));}/**
     * Creates a function that returns `value`.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {*} value The value to return from the new function.
     * @returns {Function} Returns the new constant function.
     * @example
     *
     * var objects = _.times(2, _.constant({ 'a': 1 }));
     *
     * console.log(objects);
     * // => [{ 'a': 1 }, { 'a': 1 }]
     *
     * console.log(objects[0] === objects[1]);
     * // => true
     */function constant(value){return function(){return value;};}/**
     * Checks `value` to determine whether a default value should be returned in
     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,
     * or `undefined`.
     *
     * @static
     * @memberOf _
     * @since 4.14.0
     * @category Util
     * @param {*} value The value to check.
     * @param {*} defaultValue The default value.
     * @returns {*} Returns the resolved value.
     * @example
     *
     * _.defaultTo(1, 10);
     * // => 1
     *
     * _.defaultTo(undefined, 10);
     * // => 10
     */function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value;}/**
     * Creates a function that returns the result of invoking the given functions
     * with the `this` binding of the created function, where each successive
     * invocation is supplied the return value of the previous.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {...(Function|Function[])} [funcs] The functions to invoke.
     * @returns {Function} Returns the new composite function.
     * @see _.flowRight
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var addSquare = _.flow([_.add, square]);
     * addSquare(1, 2);
     * // => 9
     */var flow=createFlow();/**
     * This method is like `_.flow` except that it creates a function that
     * invokes the given functions from right to left.
     *
     * @static
     * @since 3.0.0
     * @memberOf _
     * @category Util
     * @param {...(Function|Function[])} [funcs] The functions to invoke.
     * @returns {Function} Returns the new composite function.
     * @see _.flow
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var addSquare = _.flowRight([square, _.add]);
     * addSquare(1, 2);
     * // => 9
     */var flowRight=createFlow(true);/**
     * This method returns the first argument it receives.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'a': 1 };
     *
     * console.log(_.identity(object) === object);
     * // => true
     */function identity(value){return value;}/**
     * Creates a function that invokes `func` with the arguments of the created
     * function. If `func` is a property name, the created function returns the
     * property value for a given element. If `func` is an array or object, the
     * created function returns `true` for elements that contain the equivalent
     * source properties, otherwise it returns `false`.
     *
     * @static
     * @since 4.0.0
     * @memberOf _
     * @category Util
     * @param {*} [func=_.identity] The value to convert to a callback.
     * @returns {Function} Returns the callback.
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': true },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));
     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.filter(users, _.iteratee(['user', 'fred']));
     * // => [{ 'user': 'fred', 'age': 40 }]
     *
     * // The `_.property` iteratee shorthand.
     * _.map(users, _.iteratee('user'));
     * // => ['barney', 'fred']
     *
     * // Create custom iteratee shorthands.
     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {
     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {
     *     return func.test(string);
     *   };
     * });
     *
     * _.filter(['abc', 'def'], /ef/);
     * // => ['def']
     */function iteratee(func){return baseIteratee(typeof func=='function'?func:baseClone(func,CLONE_DEEP_FLAG));}/**
     * Creates a function that performs a partial deep comparison between a given
     * object and `source`, returning `true` if the given object has equivalent
     * property values, else `false`.
     *
     * **Note:** The created function is equivalent to `_.isMatch` with `source`
     * partially applied.
     *
     * Partial comparisons will match empty array and empty object `source`
     * values against any array or object value, respectively. See `_.isEqual`
     * for a list of supported value comparisons.
     *
     * **Note:** Multiple values can be checked by combining several matchers
     * using `_.overSome`
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 1, 'b': 2, 'c': 3 },
     *   { 'a': 4, 'b': 5, 'c': 6 }
     * ];
     *
     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));
     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]
     *
     * // Checking for several possible values
     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));
     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]
     */function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG));}/**
     * Creates a function that performs a partial deep comparison between the
     * value at `path` of a given object to `srcValue`, returning `true` if the
     * object value is equivalent, else `false`.
     *
     * **Note:** Partial comparisons will match empty array and empty object
     * `srcValue` values against any array or object value, respectively. See
     * `_.isEqual` for a list of supported value comparisons.
     *
     * **Note:** Multiple values can be checked by combining several matchers
     * using `_.overSome`
     *
     * @static
     * @memberOf _
     * @since 3.2.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     * @example
     *
     * var objects = [
     *   { 'a': 1, 'b': 2, 'c': 3 },
     *   { 'a': 4, 'b': 5, 'c': 6 }
     * ];
     *
     * _.find(objects, _.matchesProperty('a', 4));
     * // => { 'a': 4, 'b': 5, 'c': 6 }
     *
     * // Checking for several possible values
     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));
     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]
     */function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG));}/**
     * Creates a function that invokes the method at `path` of a given object.
     * Any additional arguments are provided to the invoked method.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Util
     * @param {Array|string} path The path of the method to invoke.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {Function} Returns the new invoker function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': _.constant(2) } },
     *   { 'a': { 'b': _.constant(1) } }
     * ];
     *
     * _.map(objects, _.method('a.b'));
     * // => [2, 1]
     *
     * _.map(objects, _.method(['a', 'b']));
     * // => [2, 1]
     */var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args);};});/**
     * The opposite of `_.method`; this method creates a function that invokes
     * the method at a given path of `object`. Any additional arguments are
     * provided to the invoked method.
     *
     * @static
     * @memberOf _
     * @since 3.7.0
     * @category Util
     * @param {Object} object The object to query.
     * @param {...*} [args] The arguments to invoke the method with.
     * @returns {Function} Returns the new invoker function.
     * @example
     *
     * var array = _.times(3, _.constant),
     *     object = { 'a': array, 'b': array, 'c': array };
     *
     * _.map(['a[2]', 'c[0]'], _.methodOf(object));
     * // => [2, 0]
     *
     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));
     * // => [2, 0]
     */var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args);};});/**
     * Adds all own enumerable string keyed function properties of a source
     * object to the destination object. If `object` is a function, then methods
     * are added to its prototype as well.
     *
     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to
     * avoid conflicts caused by modifying the original.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {Function|Object} [object=lodash] The destination object.
     * @param {Object} source The object of functions to add.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.
     * @returns {Function|Object} Returns `object`.
     * @example
     *
     * function vowels(string) {
     *   return _.filter(string, function(v) {
     *     return /[aeiou]/i.test(v);
     *   });
     * }
     *
     * _.mixin({ 'vowels': vowels });
     * _.vowels('fred');
     * // => ['e']
     *
     * _('fred').vowels().value();
     * // => ['e']
     *
     * _.mixin({ 'vowels': vowels }, { 'chain': false });
     * _('fred').vowels();
     * // => ['e']
     */function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source));}var chain=!(isObject(options)&&'chain'in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({'func':func,'args':arguments,'thisArg':object});result.__chain__=chainAll;return result;}return func.apply(object,arrayPush([this.value()],arguments));};}});return object;}/**
     * Reverts the `_` variable to its previous value and returns a reference to
     * the `lodash` function.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @returns {Function} Returns the `lodash` function.
     * @example
     *
     * var lodash = _.noConflict();
     */function noConflict(){if(root._===this){root._=oldDash;}return this;}/**
     * This method returns `undefined`.
     *
     * @static
     * @memberOf _
     * @since 2.3.0
     * @category Util
     * @example
     *
     * _.times(2, _.noop);
     * // => [undefined, undefined]
     */function noop(){// No operation performed.
}/**
     * Creates a function that gets the argument at index `n`. If `n` is negative,
     * the nth argument from the end is returned.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {number} [n=0] The index of the argument to return.
     * @returns {Function} Returns the new pass-thru function.
     * @example
     *
     * var func = _.nthArg(1);
     * func('a', 'b', 'c', 'd');
     * // => 'b'
     *
     * var func = _.nthArg(-2);
     * func('a', 'b', 'c', 'd');
     * // => 'c'
     */function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n);});}/**
     * Creates a function that invokes `iteratees` with the arguments it receives
     * and returns their results.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [iteratees=[_.identity]]
     *  The iteratees to invoke.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.over([Math.max, Math.min]);
     *
     * func(1, 2, 3, 4);
     * // => [4, 1]
     */var over=createOver(arrayMap);/**
     * Creates a function that checks if **all** of the `predicates` return
     * truthy when invoked with the arguments it receives.
     *
     * Following shorthands are possible for providing predicates.
     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.
     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [predicates=[_.identity]]
     *  The predicates to check.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.overEvery([Boolean, isFinite]);
     *
     * func('1');
     * // => true
     *
     * func(null);
     * // => false
     *
     * func(NaN);
     * // => false
     */var overEvery=createOver(arrayEvery);/**
     * Creates a function that checks if **any** of the `predicates` return
     * truthy when invoked with the arguments it receives.
     *
     * Following shorthands are possible for providing predicates.
     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.
     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {...(Function|Function[])} [predicates=[_.identity]]
     *  The predicates to check.
     * @returns {Function} Returns the new function.
     * @example
     *
     * var func = _.overSome([Boolean, isFinite]);
     *
     * func('1');
     * // => true
     *
     * func(null);
     * // => true
     *
     * func(NaN);
     * // => false
     *
     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])
     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])
     */var overSome=createOver(arraySome);/**
     * Creates a function that returns the value at `path` of a given object.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': 2 } },
     *   { 'a': { 'b': 1 } }
     * ];
     *
     * _.map(objects, _.property('a.b'));
     * // => [2, 1]
     *
     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
     * // => [1, 2]
     */function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path);}/**
     * The opposite of `_.property`; this method creates a function that returns
     * the value at a given path of `object`.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Util
     * @param {Object} object The object to query.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var array = [0, 1, 2],
     *     object = { 'a': array, 'b': array, 'c': array };
     *
     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));
     * // => [2, 0]
     *
     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));
     * // => [2, 0]
     */function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path);};}/**
     * Creates an array of numbers (positive and/or negative) progressing from
     * `start` up to, but not including, `end`. A step of `-1` is used if a negative
     * `start` is specified without an `end` or `step`. If `end` is not specified,
     * it's set to `start` with `start` then set to `0`.
     *
     * **Note:** JavaScript follows the IEEE-754 standard for resolving
     * floating-point values which can produce unexpected results.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns the range of numbers.
     * @see _.inRange, _.rangeRight
     * @example
     *
     * _.range(4);
     * // => [0, 1, 2, 3]
     *
     * _.range(-4);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 5);
     * // => [1, 2, 3, 4]
     *
     * _.range(0, 20, 5);
     * // => [0, 5, 10, 15]
     *
     * _.range(0, -4, -1);
     * // => [0, -1, -2, -3]
     *
     * _.range(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.range(0);
     * // => []
     */var range=createRange();/**
     * This method is like `_.range` except that it populates values in
     * descending order.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {number} [start=0] The start of the range.
     * @param {number} end The end of the range.
     * @param {number} [step=1] The value to increment or decrement by.
     * @returns {Array} Returns the range of numbers.
     * @see _.inRange, _.range
     * @example
     *
     * _.rangeRight(4);
     * // => [3, 2, 1, 0]
     *
     * _.rangeRight(-4);
     * // => [-3, -2, -1, 0]
     *
     * _.rangeRight(1, 5);
     * // => [4, 3, 2, 1]
     *
     * _.rangeRight(0, 20, 5);
     * // => [15, 10, 5, 0]
     *
     * _.rangeRight(0, -4, -1);
     * // => [-3, -2, -1, 0]
     *
     * _.rangeRight(1, 4, 0);
     * // => [1, 1, 1]
     *
     * _.rangeRight(0);
     * // => []
     */var rangeRight=createRange(true);/**
     * This method returns a new empty array.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Array} Returns the new empty array.
     * @example
     *
     * var arrays = _.times(2, _.stubArray);
     *
     * console.log(arrays);
     * // => [[], []]
     *
     * console.log(arrays[0] === arrays[1]);
     * // => false
     */function stubArray(){return[];}/**
     * This method returns `false`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `false`.
     * @example
     *
     * _.times(2, _.stubFalse);
     * // => [false, false]
     */function stubFalse(){return false;}/**
     * This method returns a new empty object.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Object} Returns the new empty object.
     * @example
     *
     * var objects = _.times(2, _.stubObject);
     *
     * console.log(objects);
     * // => [{}, {}]
     *
     * console.log(objects[0] === objects[1]);
     * // => false
     */function stubObject(){return{};}/**
     * This method returns an empty string.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {string} Returns the empty string.
     * @example
     *
     * _.times(2, _.stubString);
     * // => ['', '']
     */function stubString(){return'';}/**
     * This method returns `true`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `true`.
     * @example
     *
     * _.times(2, _.stubTrue);
     * // => [true, true]
     */function stubTrue(){return true;}/**
     * Invokes the iteratee `n` times, returning an array of the results of
     * each invocation. The iteratee is invoked with one argument; (index).
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {number} n The number of times to invoke `iteratee`.
     * @param {Function} [iteratee=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the array of results.
     * @example
     *
     * _.times(3, String);
     * // => ['0', '1', '2']
     *
     *  _.times(4, _.constant(0));
     * // => [0, 0, 0, 0]
     */function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[];}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index);}return result;}/**
     * Converts `value` to a property path array.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Util
     * @param {*} value The value to convert.
     * @returns {Array} Returns the new property path array.
     * @example
     *
     * _.toPath('a.b.c');
     * // => ['a', 'b', 'c']
     *
     * _.toPath('a[0].b.c');
     * // => ['a', '0', 'b', 'c']
     */function toPath(value){if(isArray(value)){return arrayMap(value,toKey);}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)));}/**
     * Generates a unique ID. If `prefix` is given, the ID is appended to it.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {string} [prefix=''] The value to prefix the ID with.
     * @returns {string} Returns the unique ID.
     * @example
     *
     * _.uniqueId('contact_');
     * // => 'contact_104'
     *
     * _.uniqueId();
     * // => '105'
     */function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id;}/*------------------------------------------------------------------------*/ /**
     * Adds two numbers.
     *
     * @static
     * @memberOf _
     * @since 3.4.0
     * @category Math
     * @param {number} augend The first number in an addition.
     * @param {number} addend The second number in an addition.
     * @returns {number} Returns the total.
     * @example
     *
     * _.add(6, 4);
     * // => 10
     */var add=createMathOperation(function(augend,addend){return augend+addend;},0);/**
     * Computes `number` rounded up to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round up.
     * @param {number} [precision=0] The precision to round up to.
     * @returns {number} Returns the rounded up number.
     * @example
     *
     * _.ceil(4.006);
     * // => 5
     *
     * _.ceil(6.004, 2);
     * // => 6.01
     *
     * _.ceil(6040, -2);
     * // => 6100
     */var ceil=createRound('ceil');/**
     * Divide two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {number} dividend The first number in a division.
     * @param {number} divisor The second number in a division.
     * @returns {number} Returns the quotient.
     * @example
     *
     * _.divide(6, 4);
     * // => 1.5
     */var divide=createMathOperation(function(dividend,divisor){return dividend/divisor;},1);/**
     * Computes `number` rounded down to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round down.
     * @param {number} [precision=0] The precision to round down to.
     * @returns {number} Returns the rounded down number.
     * @example
     *
     * _.floor(4.006);
     * // => 4
     *
     * _.floor(0.046, 2);
     * // => 0.04
     *
     * _.floor(4060, -2);
     * // => 4000
     */var floor=createRound('floor');/**
     * Computes the maximum value of `array`. If `array` is empty or falsey,
     * `undefined` is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * _.max([4, 2, 8, 6]);
     * // => 8
     *
     * _.max([]);
     * // => undefined
     */function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined;}/**
     * This method is like `_.max` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * the value is ranked. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {*} Returns the maximum value.
     * @example
     *
     * var objects = [{ 'n': 1 }, { 'n': 2 }];
     *
     * _.maxBy(objects, function(o) { return o.n; });
     * // => { 'n': 2 }
     *
     * // The `_.property` iteratee shorthand.
     * _.maxBy(objects, 'n');
     * // => { 'n': 2 }
     */function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined;}/**
     * Computes the mean of the values in `array`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {number} Returns the mean.
     * @example
     *
     * _.mean([4, 2, 8, 6]);
     * // => 5
     */function mean(array){return baseMean(array,identity);}/**
     * This method is like `_.mean` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the value to be averaged.
     * The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the mean.
     * @example
     *
     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];
     *
     * _.meanBy(objects, function(o) { return o.n; });
     * // => 5
     *
     * // The `_.property` iteratee shorthand.
     * _.meanBy(objects, 'n');
     * // => 5
     */function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2));}/**
     * Computes the minimum value of `array`. If `array` is empty or falsey,
     * `undefined` is returned.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * _.min([4, 2, 8, 6]);
     * // => 2
     *
     * _.min([]);
     * // => undefined
     */function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined;}/**
     * This method is like `_.min` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the criterion by which
     * the value is ranked. The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {*} Returns the minimum value.
     * @example
     *
     * var objects = [{ 'n': 1 }, { 'n': 2 }];
     *
     * _.minBy(objects, function(o) { return o.n; });
     * // => { 'n': 1 }
     *
     * // The `_.property` iteratee shorthand.
     * _.minBy(objects, 'n');
     * // => { 'n': 1 }
     */function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined;}/**
     * Multiply two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.7.0
     * @category Math
     * @param {number} multiplier The first number in a multiplication.
     * @param {number} multiplicand The second number in a multiplication.
     * @returns {number} Returns the product.
     * @example
     *
     * _.multiply(6, 4);
     * // => 24
     */var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand;},1);/**
     * Computes `number` rounded to `precision`.
     *
     * @static
     * @memberOf _
     * @since 3.10.0
     * @category Math
     * @param {number} number The number to round.
     * @param {number} [precision=0] The precision to round to.
     * @returns {number} Returns the rounded number.
     * @example
     *
     * _.round(4.006);
     * // => 4
     *
     * _.round(4.006, 2);
     * // => 4.01
     *
     * _.round(4060, -2);
     * // => 4100
     */var round=createRound('round');/**
     * Subtract two numbers.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {number} minuend The first number in a subtraction.
     * @param {number} subtrahend The second number in a subtraction.
     * @returns {number} Returns the difference.
     * @example
     *
     * _.subtract(6, 4);
     * // => 2
     */var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend;},0);/**
     * Computes the sum of the values in `array`.
     *
     * @static
     * @memberOf _
     * @since 3.4.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @returns {number} Returns the sum.
     * @example
     *
     * _.sum([4, 2, 8, 6]);
     * // => 20
     */function sum(array){return array&&array.length?baseSum(array,identity):0;}/**
     * This method is like `_.sum` except that it accepts `iteratee` which is
     * invoked for each element in `array` to generate the value to be summed.
     * The iteratee is invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Math
     * @param {Array} array The array to iterate over.
     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
     * @returns {number} Returns the sum.
     * @example
     *
     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];
     *
     * _.sumBy(objects, function(o) { return o.n; });
     * // => 20
     *
     * // The `_.property` iteratee shorthand.
     * _.sumBy(objects, 'n');
     * // => 20
     */function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0;}/*------------------------------------------------------------------------*/ // Add methods that return wrapped values in chain sequences.
lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;// Add aliases.
lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;// Add methods to `lodash.prototype`.
mixin(lodash,lodash);/*------------------------------------------------------------------------*/ // Add methods that return unwrapped values in chain sequences.
lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;// Add aliases.
lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func;}});return source;}(),{'chain':false});/*------------------------------------------------------------------------*/ /**
     * The semantic version number.
     *
     * @static
     * @memberOf _
     * @type {string}
     */lodash.VERSION=VERSION;// Assign default placeholders.
arrayEach(['bind','bindKey','curry','curryRight','partial','partialRight'],function(methodName){lodash[methodName].placeholder=lodash;});// Add `LazyWrapper` methods for `_.drop` and `_.take` variants.
arrayEach(['drop','take'],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__);}else{result.__views__.push({'size':nativeMin(n,MAX_ARRAY_LENGTH),'type':methodName+(result.__dir__<0?'Right':'')});}return result;};LazyWrapper.prototype[methodName+'Right']=function(n){return this.reverse()[methodName](n).reverse();};});// Add `LazyWrapper` methods that accept an `iteratee` value.
arrayEach(['filter','map','takeWhile'],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({'iteratee':getIteratee(iteratee,3),'type':type});result.__filtered__=result.__filtered__||isFilter;return result;};});// Add `LazyWrapper` methods for `_.head` and `_.last`.
arrayEach(['head','last'],function(methodName,index){var takeName='take'+(index?'Right':'');LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0];};});// Add `LazyWrapper` methods for `_.initial` and `_.tail`.
arrayEach(['initial','tail'],function(methodName,index){var dropName='drop'+(index?'':'Right');LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1);};});LazyWrapper.prototype.compact=function(){return this.filter(identity);};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head();};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate);};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=='function'){return new LazyWrapper(this);}return this.map(function(value){return baseInvoke(value,path,args);});});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)));};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result);}if(start<0){result=result.takeRight(-start);}else if(start){result=result.drop(start);}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start);}return result;};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse();};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH);};// Add `LazyWrapper` methods to `lodash.prototype`.
baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?'take'+(methodName=='last'?'Right':''):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return;}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function interceptor(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result;};if(useLazy&&checkIteratee&&typeof iteratee=='function'&&iteratee.length!=1){// Avoid lazy use if the iteratee has a "length" value other than `1`.
isLazy=useLazy=false;}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({'func':thru,'args':[interceptor],'thisArg':undefined});return new LodashWrapper(result,chainAll);}if(isUnwrapped&&onlyLazy){return func.apply(this,args);}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result;};});// Add `Array` methods to `lodash.prototype`.
arrayEach(['pop','push','shift','sort','splice','unshift'],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?'tap':'thru',retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args);}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args);});};});// Map minified method names to their real names.
baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+'';if(!hasOwnProperty.call(realNames,key)){realNames[key]=[];}realNames[key].push({'name':methodName,'func':lodashFunc});}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{'name':'wrapper','func':undefined}];// Add methods to `LazyWrapper`.
LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;// Add chain sequence methods to the `lodash` wrapper.
lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;// Add lazy aliases.
lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator;}return lodash;};/*--------------------------------------------------------------------------*/ // Export lodash.
var _=runInContext();// Some AMD build optimizers, like r.js, check for condition patterns like:
if(true){// Expose Lodash on the global object to prevent errors when Lodash is
// loaded by a script tag in the presence of an AMD loader.
// See http://requirejs.org/docs/errors.html#mismatch for more details.
// Use `_.noConflict` to remove Lodash from the global object.
root._=_;// Define as an anonymous module so, through path mapping, it can be
// referenced as the "underscore" module.
!(__WEBPACK_AMD_DEFINE_RESULT__ = (function(){return _;}).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}// Check for `exports` after `define` in case a build optimizer adds it.
else {}}).call(this);

/***/ }),

/***/ 50309:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _classCallCheck = (__webpack_require__(96833)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(96157);
__webpack_require__(56269);
(function (global, factory) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else { var mod; }
})(this, function (exports) {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var _cachedApplicationRef = exports._cachedApplicationRef = Symbol('_cachedApplicationRef');
  var _mixinRef = exports._mixinRef = Symbol('_mixinRef');
  var _originalMixin = exports._originalMixin = Symbol('_originalMixin');
  var wrap = exports.wrap = function (mixin, wrapper) {
    Object.setPrototypeOf(wrapper, mixin);
    if (!mixin[_originalMixin]) {
      mixin[_originalMixin] = mixin;
    }
    return wrapper;
  };
  var Cached = exports.Cached = function (mixin) {
    return wrap(mixin, function (superclass) {
      // Get or create a symbol used to look up a previous application of mixin
      // to the class. This symbol is unique per mixin definition, so a class will have N
      // applicationRefs if it has had N mixins applied to it. A mixin will have
      // exactly one _cachedApplicationRef used to store its applications.
      var applicationRef = mixin[_cachedApplicationRef];
      if (!applicationRef) {
        applicationRef = mixin[_cachedApplicationRef] = Symbol(mixin.name);
      }
      // Look up an existing application of `mixin` to `c`, return it if found.
      if (superclass.hasOwnProperty(applicationRef)) {
        return superclass[applicationRef];
      }
      // Apply the mixin
      var application = mixin(superclass);
      // Cache the mixin application on the superclass
      superclass[applicationRef] = application;
      return application;
    });
  };
  var HasInstance = exports.HasInstance = function (mixin) {
    if (Symbol.hasInstance && !mixin.hasOwnProperty(Symbol.hasInstance)) {
      Object.defineProperty(mixin, Symbol.hasInstance, {
        value: function value(o) {
          var originalMixin = this[_originalMixin];
          while (o != null) {
            if (o.hasOwnProperty(_mixinRef) && o[_mixinRef] === originalMixin) {
              return true;
            }
            o = Object.getPrototypeOf(o);
          }
          return false;
        }
      });
    }
    return mixin;
  };
  var BareMixin = exports.BareMixin = function (mixin) {
    return wrap(mixin, function (superclass) {
      // Apply the mixin
      var application = mixin(superclass);

      // Attach a reference from mixin applition to wrapped mixin for RTTI
      // mixin[@@hasInstance] should use this.
      application.prototype[_mixinRef] = mixin[_originalMixin];
      return application;
    });
  };
  var Mixin = exports.Mixin = function (mixin) {
    return Cached(HasInstance(BareMixin(mixin)));
  };
  var mix = exports.mix = function (superClass) {
    return new MixinBuilder(superClass);
  };
  var MixinBuilder = /*#__PURE__*/function () {
    function MixinBuilder(superclass) {
      _classCallCheck(this, MixinBuilder);
      this.superclass = superclass;
    }
    _createClass(MixinBuilder, [{
      key: "with",
      value: function _with() {
        return Array.from(arguments).reduce(function (c, m) {
          return m(c);
        }, this.superclass);
      }
    }]);
    return MixinBuilder;
  }();
});

/***/ }),

/***/ 55050:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

__webpack_require__(89730);
__webpack_require__(60228);
__webpack_require__(12826);
__webpack_require__(64043);
__webpack_require__(9873);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(13440);
__webpack_require__(752);
__webpack_require__(76265);
__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(70560);
__webpack_require__(21057);
__webpack_require__(57267);
__webpack_require__(62506);
__webpack_require__(7409);
__webpack_require__(22462);
__webpack_require__(50886);
__webpack_require__(93374);
__webpack_require__(65137);
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function (global, factory) {
   true ? factory(exports) : 0;
})(this, function (exports) {
  'use strict';

  function merge() {
    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {
      sets[_key] = arguments[_key];
    }
    if (sets.length > 1) {
      sets[0] = sets[0].slice(0, -1);
      var xl = sets.length - 1;
      for (var x = 1; x < xl; ++x) {
        sets[x] = sets[x].slice(1, -1);
      }
      sets[xl] = sets[xl].slice(1);
      return sets.join('');
    } else {
      return sets[0];
    }
  }
  function subexp(str) {
    return "(?:" + str + ")";
  }
  function typeOf(o) {
    return o === undefined ? "undefined" : o === null ? "null" : Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase();
  }
  function toUpperCase(str) {
    return str.toUpperCase();
  }
  function toArray(obj) {
    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== "number" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];
  }
  function assign(target, source) {
    var obj = target;
    if (source) {
      for (var key in source) {
        obj[key] = source[key];
      }
    }
    return obj;
  }
  function buildExps(isIRI) {
    var ALPHA$$ = "[A-Za-z]",
      CR$ = "[\\x0D]",
      DIGIT$$ = "[0-9]",
      DQUOTE$$ = "[\\x22]",
      HEXDIG$$ = merge(DIGIT$$, "[A-Fa-f]"),
      //case-insensitive
      LF$$ = "[\\x0A]",
      SP$$ = "[\\x20]",
      PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$)),
      //expanded
      GEN_DELIMS$$ = "[\\:\\/\\?\\#\\[\\]\\@]",
      SUB_DELIMS$$ = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",
      RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),
      UCSCHAR$$ = isIRI ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]",
      //subset, excludes bidi control characters
      IPRIVATE$$ = isIRI ? "[\\uE000-\\uF8FF]" : "[]",
      //subset
      UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, "[\\-\\.\\_\\~]", UCSCHAR$$),
      SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, "[\\+\\-\\.]") + "*"),
      USERINFO$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\:]")) + "*"),
      DEC_OCTET$ = subexp(subexp("25[0-5]") + "|" + subexp("2[0-4]" + DIGIT$$) + "|" + subexp("1" + DIGIT$$ + DIGIT$$) + "|" + subexp("[1-9]" + DIGIT$$) + "|" + DIGIT$$),
      DEC_OCTET_RELAXED$ = subexp(subexp("25[0-5]") + "|" + subexp("2[0-4]" + DIGIT$$) + "|" + subexp("1" + DIGIT$$ + DIGIT$$) + "|" + subexp("0?[1-9]" + DIGIT$$) + "|0?0?" + DIGIT$$),
      //relaxed parsing rules
      IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$),
      H16$ = subexp(HEXDIG$$ + "{1,4}"),
      LS32$ = subexp(subexp(H16$ + "\\:" + H16$) + "|" + IPV4ADDRESS$),
      IPV6ADDRESS1$ = subexp(subexp(H16$ + "\\:") + "{6}" + LS32$),
      //                           6( h16 ":" ) ls32
      IPV6ADDRESS2$ = subexp("\\:\\:" + subexp(H16$ + "\\:") + "{5}" + LS32$),
      //                      "::" 5( h16 ":" ) ls32
      IPV6ADDRESS3$ = subexp(subexp(H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{4}" + LS32$),
      //[               h16 ] "::" 4( h16 ":" ) ls32
      IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,1}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{3}" + LS32$),
      //[ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
      IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,2}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{2}" + LS32$),
      //[ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
      IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,3}" + H16$) + "?\\:\\:" + H16$ + "\\:" + LS32$),
      //[ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
      IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,4}" + H16$) + "?\\:\\:" + LS32$),
      //[ *4( h16 ":" ) h16 ] "::"              ls32
      IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,5}" + H16$) + "?\\:\\:" + H16$),
      //[ *5( h16 ":" ) h16 ] "::"              h16
      IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,6}" + H16$) + "?\\:\\:"),
      //[ *6( h16 ":" ) h16 ] "::"
      IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join("|")),
      ZONEID$ = subexp(subexp(UNRESERVED$$ + "|" + PCT_ENCODED$) + "+"),
      //RFC 6874
      IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + "\\%25" + ZONEID$),
      //RFC 6874
      IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp("\\%25|\\%(?!" + HEXDIG$$ + "{2})") + ZONEID$),
      //RFC 6874, with relaxed parsing rules
      IPVFUTURE$ = subexp("[vV]" + HEXDIG$$ + "+\\." + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\:]") + "+"),
      IP_LITERAL$ = subexp("\\[" + subexp(IPV6ADDRZ_RELAXED$ + "|" + IPV6ADDRESS$ + "|" + IPVFUTURE$) + "\\]"),
      //RFC 6874
      REG_NAME$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$)) + "*"),
      HOST$ = subexp(IP_LITERAL$ + "|" + IPV4ADDRESS$ + "(?!" + REG_NAME$ + ")" + "|" + REG_NAME$),
      PORT$ = subexp(DIGIT$$ + "*"),
      AUTHORITY$ = subexp(subexp(USERINFO$ + "@") + "?" + HOST$ + subexp("\\:" + PORT$) + "?"),
      PCHAR$ = subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\:\\@]")),
      SEGMENT$ = subexp(PCHAR$ + "*"),
      SEGMENT_NZ$ = subexp(PCHAR$ + "+"),
      SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\@]")) + "+"),
      PATH_ABEMPTY$ = subexp(subexp("\\/" + SEGMENT$) + "*"),
      PATH_ABSOLUTE$ = subexp("\\/" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + "?"),
      //simplified
      PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),
      //simplified
      PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),
      //simplified
      PATH_EMPTY$ = "(?!" + PCHAR$ + ")",
      PATH$ = subexp(PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_NOSCHEME$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$),
      QUERY$ = subexp(subexp(PCHAR$ + "|" + merge("[\\/\\?]", IPRIVATE$$)) + "*"),
      FRAGMENT$ = subexp(subexp(PCHAR$ + "|[\\/\\?]") + "*"),
      HIER_PART$ = subexp(subexp("\\/\\/" + AUTHORITY$ + PATH_ABEMPTY$) + "|" + PATH_ABSOLUTE$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$),
      URI$ = subexp(SCHEME$ + "\\:" + HIER_PART$ + subexp("\\?" + QUERY$) + "?" + subexp("\\#" + FRAGMENT$) + "?"),
      RELATIVE_PART$ = subexp(subexp("\\/\\/" + AUTHORITY$ + PATH_ABEMPTY$) + "|" + PATH_ABSOLUTE$ + "|" + PATH_NOSCHEME$ + "|" + PATH_EMPTY$),
      RELATIVE$ = subexp(RELATIVE_PART$ + subexp("\\?" + QUERY$) + "?" + subexp("\\#" + FRAGMENT$) + "?"),
      URI_REFERENCE$ = subexp(URI$ + "|" + RELATIVE$),
      ABSOLUTE_URI$ = subexp(SCHEME$ + "\\:" + HIER_PART$ + subexp("\\?" + QUERY$) + "?"),
      GENERIC_REF$ = "^(" + SCHEME$ + ")\\:" + subexp(subexp("\\/\\/(" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\:(" + PORT$ + ")") + "?)") + "?(" + PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$ + ")") + subexp("\\?(" + QUERY$ + ")") + "?" + subexp("\\#(" + FRAGMENT$ + ")") + "?$",
      RELATIVE_REF$ = "^(){0}" + subexp(subexp("\\/\\/(" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\:(" + PORT$ + ")") + "?)") + "?(" + PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_NOSCHEME$ + "|" + PATH_EMPTY$ + ")") + subexp("\\?(" + QUERY$ + ")") + "?" + subexp("\\#(" + FRAGMENT$ + ")") + "?$",
      ABSOLUTE_REF$ = "^(" + SCHEME$ + ")\\:" + subexp(subexp("\\/\\/(" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\:(" + PORT$ + ")") + "?)") + "?(" + PATH_ABEMPTY$ + "|" + PATH_ABSOLUTE$ + "|" + PATH_ROOTLESS$ + "|" + PATH_EMPTY$ + ")") + subexp("\\?(" + QUERY$ + ")") + "?$",
      SAMEDOC_REF$ = "^" + subexp("\\#(" + FRAGMENT$ + ")") + "?$",
      AUTHORITY_REF$ = "^" + subexp("(" + USERINFO$ + ")@") + "?(" + HOST$ + ")" + subexp("\\:(" + PORT$ + ")") + "?$";
    return {
      NOT_SCHEME: new RegExp(merge("[^]", ALPHA$$, DIGIT$$, "[\\+\\-\\.]"), "g"),
      NOT_USERINFO: new RegExp(merge("[^\\%\\:]", UNRESERVED$$, SUB_DELIMS$$), "g"),
      NOT_HOST: new RegExp(merge("[^\\%\\[\\]\\:]", UNRESERVED$$, SUB_DELIMS$$), "g"),
      NOT_PATH: new RegExp(merge("[^\\%\\/\\:\\@]", UNRESERVED$$, SUB_DELIMS$$), "g"),
      NOT_PATH_NOSCHEME: new RegExp(merge("[^\\%\\/\\@]", UNRESERVED$$, SUB_DELIMS$$), "g"),
      NOT_QUERY: new RegExp(merge("[^\\%]", UNRESERVED$$, SUB_DELIMS$$, "[\\:\\@\\/\\?]", IPRIVATE$$), "g"),
      NOT_FRAGMENT: new RegExp(merge("[^\\%]", UNRESERVED$$, SUB_DELIMS$$, "[\\:\\@\\/\\?]"), "g"),
      ESCAPE: new RegExp(merge("[^]", UNRESERVED$$, SUB_DELIMS$$), "g"),
      UNRESERVED: new RegExp(UNRESERVED$$, "g"),
      OTHER_CHARS: new RegExp(merge("[^\\%]", UNRESERVED$$, RESERVED$$), "g"),
      PCT_ENCODED: new RegExp(PCT_ENCODED$, "g"),
      IPV4ADDRESS: new RegExp("^(" + IPV4ADDRESS$ + ")$"),
      IPV6ADDRESS: new RegExp("^\\[?(" + IPV6ADDRESS$ + ")" + subexp(subexp("\\%25|\\%(?!" + HEXDIG$$ + "{2})") + "(" + ZONEID$ + ")") + "?\\]?$") //RFC 6874, with relaxed parsing rules
    };
  }
  var URI_PROTOCOL = buildExps(false);
  var IRI_PROTOCOL = buildExps(true);
  var slicedToArray = function () {
    function sliceIterator(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = undefined;
      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);
          if (i && _arr.length === i) break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"]) _i["return"]();
        } finally {
          if (_d) throw _e;
        }
      }
      return _arr;
    }
    return function (arr, i) {
      if (Array.isArray(arr)) {
        return arr;
      } else if (Symbol.iterator in Object(arr)) {
        return sliceIterator(arr, i);
      } else {
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      }
    };
  }();
  var toConsumableArray = function toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
      return arr2;
    } else {
      return Array.from(arr);
    }
  };

  /** Highest positive signed 32-bit float value */

  var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1

  /** Bootstring parameters */
  var base = 36;
  var tMin = 1;
  var tMax = 26;
  var skew = 38;
  var damp = 700;
  var initialBias = 72;
  var initialN = 128; // 0x80
  var delimiter = '-'; // '\x2D'

  /** Regular expressions */
  var regexPunycode = /^xn--/;
  var regexNonASCII = /[^\0-\x7E]/; // non-ASCII chars
  var regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g; // RFC 3490 separators

  /** Error messages */
  var errors = {
    'overflow': 'Overflow: input needs wider integers to process',
    'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
    'invalid-input': 'Invalid input'
  };

  /** Convenience shortcuts */
  var baseMinusTMin = base - tMin;
  var floor = Math.floor;
  var stringFromCharCode = String.fromCharCode;

  /*--------------------------------------------------------------------------*/

  /**
   * A generic error utility function.
   * @private
   * @param {String} type The error type.
   * @returns {Error} Throws a `RangeError` with the applicable error message.
   */
  function error$1(type) {
    throw new RangeError(errors[type]);
  }

  /**
   * A generic `Array#map` utility function.
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} callback The function that gets called for every array
   * item.
   * @returns {Array} A new array of values returned by the callback function.
   */
  function map(array, fn) {
    var result = [];
    var length = array.length;
    while (length--) {
      result[length] = fn(array[length]);
    }
    return result;
  }

  /**
   * A simple `Array#map`-like wrapper to work with domain name strings or email
   * addresses.
   * @private
   * @param {String} domain The domain name or email address.
   * @param {Function} callback The function that gets called for every
   * character.
   * @returns {Array} A new string of characters returned by the callback
   * function.
   */
  function mapDomain(string, fn) {
    var parts = string.split('@');
    var result = '';
    if (parts.length > 1) {
      // In email addresses, only the domain name should be punycoded. Leave
      // the local part (i.e. everything up to `@`) intact.
      result = parts[0] + '@';
      string = parts[1];
    }
    // Avoid `split(regex)` for IE8 compatibility. See #17.
    string = string.replace(regexSeparators, '\x2E');
    var labels = string.split('.');
    var encoded = map(labels, fn).join('.');
    return result + encoded;
  }

  /**
   * Creates an array containing the numeric code points of each Unicode
   * character in the string. While JavaScript uses UCS-2 internally,
   * this function will convert a pair of surrogate halves (each of which
   * UCS-2 exposes as separate characters) into a single code point,
   * matching UTF-16.
   * @see `punycode.ucs2.encode`
   * @see <https://mathiasbynens.be/notes/javascript-encoding>
   * @memberOf punycode.ucs2
   * @name decode
   * @param {String} string The Unicode input string (UCS-2).
   * @returns {Array} The new array of code points.
   */
  function ucs2decode(string) {
    var output = [];
    var counter = 0;
    var length = string.length;
    while (counter < length) {
      var value = string.charCodeAt(counter++);
      if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
        // It's a high surrogate, and there is a next character.
        var extra = string.charCodeAt(counter++);
        if ((extra & 0xFC00) == 0xDC00) {
          // Low surrogate.
          output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
        } else {
          // It's an unmatched surrogate; only append this code unit, in case the
          // next code unit is the high surrogate of a surrogate pair.
          output.push(value);
          counter--;
        }
      } else {
        output.push(value);
      }
    }
    return output;
  }

  /**
   * Creates a string based on an array of numeric code points.
   * @see `punycode.ucs2.decode`
   * @memberOf punycode.ucs2
   * @name encode
   * @param {Array} codePoints The array of numeric code points.
   * @returns {String} The new Unicode string (UCS-2).
   */
  var ucs2encode = function ucs2encode(array) {
    return String.fromCodePoint.apply(String, toConsumableArray(array));
  };

  /**
   * Converts a basic code point into a digit/integer.
   * @see `digitToBasic()`
   * @private
   * @param {Number} codePoint The basic numeric code point value.
   * @returns {Number} The numeric value of a basic code point (for use in
   * representing integers) in the range `0` to `base - 1`, or `base` if
   * the code point does not represent a value.
   */
  var basicToDigit = function basicToDigit(codePoint) {
    if (codePoint - 0x30 < 0x0A) {
      return codePoint - 0x16;
    }
    if (codePoint - 0x41 < 0x1A) {
      return codePoint - 0x41;
    }
    if (codePoint - 0x61 < 0x1A) {
      return codePoint - 0x61;
    }
    return base;
  };

  /**
   * Converts a digit/integer into a basic code point.
   * @see `basicToDigit()`
   * @private
   * @param {Number} digit The numeric value of a basic code point.
   * @returns {Number} The basic code point whose value (when used for
   * representing integers) is `digit`, which needs to be in the range
   * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
   * used; else, the lowercase form is used. The behavior is undefined
   * if `flag` is non-zero and `digit` has no uppercase form.
   */
  var digitToBasic = function digitToBasic(digit, flag) {
    //  0..25 map to ASCII a..z or A..Z
    // 26..35 map to ASCII 0..9
    return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
  };

  /**
   * Bias adaptation function as per section 3.4 of RFC 3492.
   * https://tools.ietf.org/html/rfc3492#section-3.4
   * @private
   */
  var adapt = function adapt(delta, numPoints, firstTime) {
    var k = 0;
    delta = firstTime ? floor(delta / damp) : delta >> 1;
    delta += floor(delta / numPoints);
    for (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {
      delta = floor(delta / baseMinusTMin);
    }
    return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
  };

  /**
   * Converts a Punycode string of ASCII-only symbols to a string of Unicode
   * symbols.
   * @memberOf punycode
   * @param {String} input The Punycode string of ASCII-only symbols.
   * @returns {String} The resulting string of Unicode symbols.
   */
  var decode = function decode(input) {
    // Don't use UCS-2.
    var output = [];
    var inputLength = input.length;
    var i = 0;
    var n = initialN;
    var bias = initialBias;

    // Handle the basic code points: let `basic` be the number of input code
    // points before the last delimiter, or `0` if there is none, then copy
    // the first basic code points to the output.

    var basic = input.lastIndexOf(delimiter);
    if (basic < 0) {
      basic = 0;
    }
    for (var j = 0; j < basic; ++j) {
      // if it's not a basic code point
      if (input.charCodeAt(j) >= 0x80) {
        error$1('not-basic');
      }
      output.push(input.charCodeAt(j));
    }

    // Main decoding loop: start just after the last delimiter if any basic code
    // points were copied; start at the beginning otherwise.

    for (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{
      // `index` is the index of the next character to be consumed.
      // Decode a generalized variable-length integer into `delta`,
      // which gets added to `i`. The overflow checking is easier
      // if we increase `i` as we go, then subtract off its starting
      // value at the end to obtain `delta`.
      var oldi = i;
      for (var w = 1, k = base;; /* no condition */k += base) {
        if (index >= inputLength) {
          error$1('invalid-input');
        }
        var digit = basicToDigit(input.charCodeAt(index++));
        if (digit >= base || digit > floor((maxInt - i) / w)) {
          error$1('overflow');
        }
        i += digit * w;
        var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
        if (digit < t) {
          break;
        }
        var baseMinusT = base - t;
        if (w > floor(maxInt / baseMinusT)) {
          error$1('overflow');
        }
        w *= baseMinusT;
      }
      var out = output.length + 1;
      bias = adapt(i - oldi, out, oldi == 0);

      // `i` was supposed to wrap around from `out` to `0`,
      // incrementing `n` each time, so we'll fix that now:
      if (floor(i / out) > maxInt - n) {
        error$1('overflow');
      }
      n += floor(i / out);
      i %= out;

      // Insert `n` at position `i` of the output.
      output.splice(i++, 0, n);
    }
    return String.fromCodePoint.apply(String, output);
  };

  /**
   * Converts a string of Unicode symbols (e.g. a domain name label) to a
   * Punycode string of ASCII-only symbols.
   * @memberOf punycode
   * @param {String} input The string of Unicode symbols.
   * @returns {String} The resulting Punycode string of ASCII-only symbols.
   */
  var encode = function encode(input) {
    var output = [];

    // Convert the input in UCS-2 to an array of Unicode code points.
    input = ucs2decode(input);

    // Cache the length.
    var inputLength = input.length;

    // Initialize the state.
    var n = initialN;
    var delta = 0;
    var bias = initialBias;

    // Handle the basic code points.
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;
    try {
      for (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        var _currentValue2 = _step.value;
        if (_currentValue2 < 0x80) {
          output.push(stringFromCharCode(_currentValue2));
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }
    var basicLength = output.length;
    var handledCPCount = basicLength;

    // `handledCPCount` is the number of code points that have been handled;
    // `basicLength` is the number of basic code points.

    // Finish the basic string with a delimiter unless it's empty.
    if (basicLength) {
      output.push(delimiter);
    }

    // Main encoding loop:
    while (handledCPCount < inputLength) {
      // All non-basic code points < n have been handled already. Find the next
      // larger one:
      var m = maxInt;
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;
      try {
        for (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var currentValue = _step2.value;
          if (currentValue >= n && currentValue < m) {
            m = currentValue;
          }
        }

        // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
        // but guard against overflow.
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }
      var handledCPCountPlusOne = handledCPCount + 1;
      if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
        error$1('overflow');
      }
      delta += (m - n) * handledCPCountPlusOne;
      n = m;
      var _iteratorNormalCompletion3 = true;
      var _didIteratorError3 = false;
      var _iteratorError3 = undefined;
      try {
        for (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
          var _currentValue = _step3.value;
          if (_currentValue < n && ++delta > maxInt) {
            error$1('overflow');
          }
          if (_currentValue == n) {
            // Represent delta as a generalized variable-length integer.
            var q = delta;
            for (var k = base;; /* no condition */k += base) {
              var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
              if (q < t) {
                break;
              }
              var qMinusT = q - t;
              var baseMinusT = base - t;
              output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));
              q = floor(qMinusT / baseMinusT);
            }
            output.push(stringFromCharCode(digitToBasic(q, 0)));
            bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
            delta = 0;
            ++handledCPCount;
          }
        }
      } catch (err) {
        _didIteratorError3 = true;
        _iteratorError3 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion3 && _iterator3.return) {
            _iterator3.return();
          }
        } finally {
          if (_didIteratorError3) {
            throw _iteratorError3;
          }
        }
      }
      ++delta;
      ++n;
    }
    return output.join('');
  };

  /**
   * Converts a Punycode string representing a domain name or an email address
   * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
   * it doesn't matter if you call it on a string that has already been
   * converted to Unicode.
   * @memberOf punycode
   * @param {String} input The Punycoded domain name or email address to
   * convert to Unicode.
   * @returns {String} The Unicode representation of the given Punycode
   * string.
   */
  var toUnicode = function toUnicode(input) {
    return mapDomain(input, function (string) {
      return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
    });
  };

  /**
   * Converts a Unicode string representing a domain name or an email address to
   * Punycode. Only the non-ASCII parts of the domain name will be converted,
   * i.e. it doesn't matter if you call it with a domain that's already in
   * ASCII.
   * @memberOf punycode
   * @param {String} input The domain name or email address to convert, as a
   * Unicode string.
   * @returns {String} The Punycode representation of the given domain name or
   * email address.
   */
  var toASCII = function toASCII(input) {
    return mapDomain(input, function (string) {
      return regexNonASCII.test(string) ? 'xn--' + encode(string) : string;
    });
  };

  /*--------------------------------------------------------------------------*/

  /** Define the public API */
  var punycode = {
    /**
     * A string representing the current Punycode.js version number.
     * @memberOf punycode
     * @type String
     */
    'version': '2.1.0',
    /**
     * An object of methods to convert from JavaScript's internal character
     * representation (UCS-2) to Unicode code points, and back.
     * @see <https://mathiasbynens.be/notes/javascript-encoding>
     * @memberOf punycode
     * @type Object
     */
    'ucs2': {
      'decode': ucs2decode,
      'encode': ucs2encode
    },
    'decode': decode,
    'encode': encode,
    'toASCII': toASCII,
    'toUnicode': toUnicode
  };

  /**
   * URI.js
   *
   * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.
   * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
   * @see http://github.com/garycourt/uri-js
   */
  /**
   * Copyright 2011 Gary Court. All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without modification, are
   * permitted provided that the following conditions are met:
   *
   *    1. Redistributions of source code must retain the above copyright notice, this list of
   *       conditions and the following disclaimer.
   *
   *    2. Redistributions in binary form must reproduce the above copyright notice, this list
   *       of conditions and the following disclaimer in the documentation and/or other materials
   *       provided with the distribution.
   *
   * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED
   * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
   * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR
   * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
   * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *
   * The views and conclusions contained in the software and documentation are those of the
   * authors and should not be interpreted as representing official policies, either expressed
   * or implied, of Gary Court.
   */
  var SCHEMES = {};
  function pctEncChar(chr) {
    var c = chr.charCodeAt(0);
    var e = void 0;
    if (c < 16) e = "%0" + c.toString(16).toUpperCase();else if (c < 128) e = "%" + c.toString(16).toUpperCase();else if (c < 2048) e = "%" + (c >> 6 | 192).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();else e = "%" + (c >> 12 | 224).toString(16).toUpperCase() + "%" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();
    return e;
  }
  function pctDecChars(str) {
    var newStr = "";
    var i = 0;
    var il = str.length;
    while (i < il) {
      var c = parseInt(str.substr(i + 1, 2), 16);
      if (c < 128) {
        newStr += String.fromCharCode(c);
        i += 3;
      } else if (c >= 194 && c < 224) {
        if (il - i >= 6) {
          var c2 = parseInt(str.substr(i + 4, 2), 16);
          newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);
        } else {
          newStr += str.substr(i, 6);
        }
        i += 6;
      } else if (c >= 224) {
        if (il - i >= 9) {
          var _c = parseInt(str.substr(i + 4, 2), 16);
          var c3 = parseInt(str.substr(i + 7, 2), 16);
          newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);
        } else {
          newStr += str.substr(i, 9);
        }
        i += 9;
      } else {
        newStr += str.substr(i, 3);
        i += 3;
      }
    }
    return newStr;
  }
  function _normalizeComponentEncoding(components, protocol) {
    function decodeUnreserved(str) {
      var decStr = pctDecChars(str);
      return !decStr.match(protocol.UNRESERVED) ? str : decStr;
    }
    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, "");
    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    return components;
  }
  function _stripLeadingZeros(str) {
    return str.replace(/^0*(.*)/, "$1") || "0";
  }
  function _normalizeIPv4(host, protocol) {
    var matches = host.match(protocol.IPV4ADDRESS) || [];
    var _matches = slicedToArray(matches, 2),
      address = _matches[1];
    if (address) {
      return address.split(".").map(_stripLeadingZeros).join(".");
    } else {
      return host;
    }
  }
  function _normalizeIPv6(host, protocol) {
    var matches = host.match(protocol.IPV6ADDRESS) || [];
    var _matches2 = slicedToArray(matches, 3),
      address = _matches2[1],
      zone = _matches2[2];
    if (address) {
      var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),
        _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),
        last = _address$toLowerCase$2[0],
        first = _address$toLowerCase$2[1];
      var firstFields = first ? first.split(":").map(_stripLeadingZeros) : [];
      var lastFields = last.split(":").map(_stripLeadingZeros);
      var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);
      var fieldCount = isLastFieldIPv4Address ? 7 : 8;
      var lastFieldsStart = lastFields.length - fieldCount;
      var fields = Array(fieldCount);
      for (var x = 0; x < fieldCount; ++x) {
        fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';
      }
      if (isLastFieldIPv4Address) {
        fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);
      }
      var allZeroFields = fields.reduce(function (acc, field, index) {
        if (!field || field === "0") {
          var lastLongest = acc[acc.length - 1];
          if (lastLongest && lastLongest.index + lastLongest.length === index) {
            lastLongest.length++;
          } else {
            acc.push({
              index: index,
              length: 1
            });
          }
        }
        return acc;
      }, []);
      var longestZeroFields = allZeroFields.sort(function (a, b) {
        return b.length - a.length;
      })[0];
      var newHost = void 0;
      if (longestZeroFields && longestZeroFields.length > 1) {
        var newFirst = fields.slice(0, longestZeroFields.index);
        var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);
        newHost = newFirst.join(":") + "::" + newLast.join(":");
      } else {
        newHost = fields.join(":");
      }
      if (zone) {
        newHost += "%" + zone;
      }
      return newHost;
    } else {
      return host;
    }
  }
  var URI_PARSE = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;
  var NO_MATCH_IS_UNDEFINED = "".match(/(){0}/)[1] === undefined;
  function parse(uriString) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var components = {};
    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
    if (options.reference === "suffix") uriString = (options.scheme ? options.scheme + ":" : "") + "//" + uriString;
    var matches = uriString.match(URI_PARSE);
    if (matches) {
      if (NO_MATCH_IS_UNDEFINED) {
        //store each component
        components.scheme = matches[1];
        components.userinfo = matches[3];
        components.host = matches[4];
        components.port = parseInt(matches[5], 10);
        components.path = matches[6] || "";
        components.query = matches[7];
        components.fragment = matches[8];
        //fix port number
        if (isNaN(components.port)) {
          components.port = matches[5];
        }
      } else {
        //IE FIX for improper RegExp matching
        //store each component
        components.scheme = matches[1] || undefined;
        components.userinfo = uriString.indexOf("@") !== -1 ? matches[3] : undefined;
        components.host = uriString.indexOf("//") !== -1 ? matches[4] : undefined;
        components.port = parseInt(matches[5], 10);
        components.path = matches[6] || "";
        components.query = uriString.indexOf("?") !== -1 ? matches[7] : undefined;
        components.fragment = uriString.indexOf("#") !== -1 ? matches[8] : undefined;
        //fix port number
        if (isNaN(components.port)) {
          components.port = uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? matches[4] : undefined;
        }
      }
      if (components.host) {
        //normalize IP hosts
        components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);
      }
      //determine reference type
      if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {
        components.reference = "same-document";
      } else if (components.scheme === undefined) {
        components.reference = "relative";
      } else if (components.fragment === undefined) {
        components.reference = "absolute";
      } else {
        components.reference = "uri";
      }
      //check for reference errors
      if (options.reference && options.reference !== "suffix" && options.reference !== components.reference) {
        components.error = components.error || "URI is not a " + options.reference + " reference.";
      }
      //find scheme handler
      var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
      //check if scheme can't handle IRIs
      if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {
        //if host component is a domain name
        if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {
          //convert Unicode IDN -> ASCII IDN
          try {
            components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());
          } catch (e) {
            components.error = components.error || "Host's domain name can not be converted to ASCII via punycode: " + e;
          }
        }
        //convert IRI -> URI
        _normalizeComponentEncoding(components, URI_PROTOCOL);
      } else {
        //normalize encodings
        _normalizeComponentEncoding(components, protocol);
      }
      //perform scheme specific parsing
      if (schemeHandler && schemeHandler.parse) {
        schemeHandler.parse(components, options);
      }
    } else {
      components.error = components.error || "URI can not be parsed.";
    }
    return components;
  }
  function _recomposeAuthority(components, options) {
    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
    var uriTokens = [];
    if (components.userinfo !== undefined) {
      uriTokens.push(components.userinfo);
      uriTokens.push("@");
    }
    if (components.host !== undefined) {
      //normalize IP hosts, add brackets and escape zone separator for IPv6
      uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {
        return "[" + $1 + ($2 ? "%25" + $2 : "") + "]";
      }));
    }
    if (typeof components.port === "number" || typeof components.port === "string") {
      uriTokens.push(":");
      uriTokens.push(String(components.port));
    }
    return uriTokens.length ? uriTokens.join("") : undefined;
  }
  var RDS1 = /^\.\.?\//;
  var RDS2 = /^\/\.(\/|$)/;
  var RDS3 = /^\/\.\.(\/|$)/;
  var RDS5 = /^\/?(?:.|\n)*?(?=\/|$)/;
  function removeDotSegments(input) {
    var output = [];
    while (input.length) {
      if (input.match(RDS1)) {
        input = input.replace(RDS1, "");
      } else if (input.match(RDS2)) {
        input = input.replace(RDS2, "/");
      } else if (input.match(RDS3)) {
        input = input.replace(RDS3, "/");
        output.pop();
      } else if (input === "." || input === "..") {
        input = "";
      } else {
        var im = input.match(RDS5);
        if (im) {
          var s = im[0];
          input = input.slice(s.length);
          output.push(s);
        } else {
          throw new Error("Unexpected dot segment condition");
        }
      }
    }
    return output.join("");
  }
  function serialize(components) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;
    var uriTokens = [];
    //find scheme handler
    var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
    //perform scheme specific serialization
    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);
    if (components.host) {
      //if host component is an IPv6 address
      if (protocol.IPV6ADDRESS.test(components.host)) {}
      //TODO: normalize IPv6 address as per RFC 5952

      //if host component is a domain name
      else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {
        //convert IDN via punycode
        try {
          components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);
        } catch (e) {
          components.error = components.error || "Host's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
        }
      }
    }
    //normalize encoding
    _normalizeComponentEncoding(components, protocol);
    if (options.reference !== "suffix" && components.scheme) {
      uriTokens.push(components.scheme);
      uriTokens.push(":");
    }
    var authority = _recomposeAuthority(components, options);
    if (authority !== undefined) {
      if (options.reference !== "suffix") {
        uriTokens.push("//");
      }
      uriTokens.push(authority);
      if (components.path && components.path.charAt(0) !== "/") {
        uriTokens.push("/");
      }
    }
    if (components.path !== undefined) {
      var s = components.path;
      if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {
        s = removeDotSegments(s);
      }
      if (authority === undefined) {
        s = s.replace(/^\/\//, "/%2F"); //don't allow the path to start with "//"
      }
      uriTokens.push(s);
    }
    if (components.query !== undefined) {
      uriTokens.push("?");
      uriTokens.push(components.query);
    }
    if (components.fragment !== undefined) {
      uriTokens.push("#");
      uriTokens.push(components.fragment);
    }
    return uriTokens.join(""); //merge tokens into a string
  }
  function resolveComponents(base, relative) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var skipNormalization = arguments[3];
    var target = {};
    if (!skipNormalization) {
      base = parse(serialize(base, options), options); //normalize base components
      relative = parse(serialize(relative, options), options); //normalize relative components
    }
    options = options || {};
    if (!options.tolerant && relative.scheme) {
      target.scheme = relative.scheme;
      //target.authority = relative.authority;
      target.userinfo = relative.userinfo;
      target.host = relative.host;
      target.port = relative.port;
      target.path = removeDotSegments(relative.path || "");
      target.query = relative.query;
    } else {
      if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {
        //target.authority = relative.authority;
        target.userinfo = relative.userinfo;
        target.host = relative.host;
        target.port = relative.port;
        target.path = removeDotSegments(relative.path || "");
        target.query = relative.query;
      } else {
        if (!relative.path) {
          target.path = base.path;
          if (relative.query !== undefined) {
            target.query = relative.query;
          } else {
            target.query = base.query;
          }
        } else {
          if (relative.path.charAt(0) === "/") {
            target.path = removeDotSegments(relative.path);
          } else {
            if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {
              target.path = "/" + relative.path;
            } else if (!base.path) {
              target.path = relative.path;
            } else {
              target.path = base.path.slice(0, base.path.lastIndexOf("/") + 1) + relative.path;
            }
            target.path = removeDotSegments(target.path);
          }
          target.query = relative.query;
        }
        //target.authority = base.authority;
        target.userinfo = base.userinfo;
        target.host = base.host;
        target.port = base.port;
      }
      target.scheme = base.scheme;
    }
    target.fragment = relative.fragment;
    return target;
  }
  function resolve(baseURI, relativeURI, options) {
    var schemelessOptions = assign({
      scheme: 'null'
    }, options);
    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);
  }
  function normalize(uri, options) {
    if (typeof uri === "string") {
      uri = serialize(parse(uri, options), options);
    } else if (typeOf(uri) === "object") {
      uri = parse(serialize(uri, options), options);
    }
    return uri;
  }
  function equal(uriA, uriB, options) {
    if (typeof uriA === "string") {
      uriA = serialize(parse(uriA, options), options);
    } else if (typeOf(uriA) === "object") {
      uriA = serialize(uriA, options);
    }
    if (typeof uriB === "string") {
      uriB = serialize(parse(uriB, options), options);
    } else if (typeOf(uriB) === "object") {
      uriB = serialize(uriB, options);
    }
    return uriA === uriB;
  }
  function escapeComponent(str, options) {
    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);
  }
  function unescapeComponent(str, options) {
    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);
  }
  var handler = {
    scheme: "http",
    domainHost: true,
    parse: function parse(components, options) {
      //report missing host
      if (!components.host) {
        components.error = components.error || "HTTP URIs must have a host.";
      }
      return components;
    },
    serialize: function serialize(components, options) {
      var secure = String(components.scheme).toLowerCase() === "https";
      //normalize the default port
      if (components.port === (secure ? 443 : 80) || components.port === "") {
        components.port = undefined;
      }
      //normalize the empty path
      if (!components.path) {
        components.path = "/";
      }
      //NOTE: We do not parse query strings for HTTP URIs
      //as WWW Form Url Encoded query strings are part of the HTML4+ spec,
      //and not the HTTP spec.
      return components;
    }
  };
  var handler$1 = {
    scheme: "https",
    domainHost: handler.domainHost,
    parse: handler.parse,
    serialize: handler.serialize
  };
  function isSecure(wsComponents) {
    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === "wss";
  }
  //RFC 6455
  var handler$2 = {
    scheme: "ws",
    domainHost: true,
    parse: function parse(components, options) {
      var wsComponents = components;
      //indicate if the secure flag is set
      wsComponents.secure = isSecure(wsComponents);
      //construct resouce name
      wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');
      wsComponents.path = undefined;
      wsComponents.query = undefined;
      return wsComponents;
    },
    serialize: function serialize(wsComponents, options) {
      //normalize the default port
      if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === "") {
        wsComponents.port = undefined;
      }
      //ensure scheme matches secure flag
      if (typeof wsComponents.secure === 'boolean') {
        wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';
        wsComponents.secure = undefined;
      }
      //reconstruct path from resource name
      if (wsComponents.resourceName) {
        var _wsComponents$resourc = wsComponents.resourceName.split('?'),
          _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),
          path = _wsComponents$resourc2[0],
          query = _wsComponents$resourc2[1];
        wsComponents.path = path && path !== '/' ? path : undefined;
        wsComponents.query = query;
        wsComponents.resourceName = undefined;
      }
      //forbid fragment component
      wsComponents.fragment = undefined;
      return wsComponents;
    }
  };
  var handler$3 = {
    scheme: "wss",
    domainHost: handler$2.domainHost,
    parse: handler$2.parse,
    serialize: handler$2.serialize
  };
  var O = {};
  var isIRI = true;
  //RFC 3986
  var UNRESERVED$$ = "[A-Za-z0-9\\-\\.\\_\\~" + (isIRI ? "\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF" : "") + "]";
  var HEXDIG$$ = "[0-9A-Fa-f]"; //case-insensitive
  var PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$)); //expanded
  //RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =
  //const ATEXT$$ = "[A-Za-z0-9\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~]";
  //const WSP$$ = "[\\x20\\x09]";
  //const OBS_QTEXT$$ = "[\\x01-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F]";  //(%d1-8 / %d11-12 / %d14-31 / %d127)
  //const QTEXT$$ = merge("[\\x21\\x23-\\x5B\\x5D-\\x7E]", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext
  //const VCHAR$$ = "[\\x21-\\x7E]";
  //const WSP$$ = "[\\x20\\x09]";
  //const OBS_QP$ = subexp("\\\\" + merge("[\\x00\\x0D\\x0A]", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext
  //const FWS$ = subexp(subexp(WSP$$ + "*" + "\\x0D\\x0A") + "?" + WSP$$ + "+");
  //const QUOTED_PAIR$ = subexp(subexp("\\\\" + subexp(VCHAR$$ + "|" + WSP$$)) + "|" + OBS_QP$);
  //const QUOTED_STRING$ = subexp('\\"' + subexp(FWS$ + "?" + QCONTENT$) + "*" + FWS$ + "?" + '\\"');
  var ATEXT$$ = "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";
  var QTEXT$$ = "[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";
  var VCHAR$$ = merge(QTEXT$$, "[\\\"\\\\]");
  var SOME_DELIMS$$ = "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";
  var UNRESERVED = new RegExp(UNRESERVED$$, "g");
  var PCT_ENCODED = new RegExp(PCT_ENCODED$, "g");
  var NOT_LOCAL_PART = new RegExp(merge("[^]", ATEXT$$, "[\\.]", '[\\"]', VCHAR$$), "g");
  var NOT_HFNAME = new RegExp(merge("[^]", UNRESERVED$$, SOME_DELIMS$$), "g");
  var NOT_HFVALUE = NOT_HFNAME;
  function decodeUnreserved(str) {
    var decStr = pctDecChars(str);
    return !decStr.match(UNRESERVED) ? str : decStr;
  }
  var handler$4 = {
    scheme: "mailto",
    parse: function parse$$1(components, options) {
      var mailtoComponents = components;
      var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(",") : [];
      mailtoComponents.path = undefined;
      if (mailtoComponents.query) {
        var unknownHeaders = false;
        var headers = {};
        var hfields = mailtoComponents.query.split("&");
        for (var x = 0, xl = hfields.length; x < xl; ++x) {
          var hfield = hfields[x].split("=");
          switch (hfield[0]) {
            case "to":
              var toAddrs = hfield[1].split(",");
              for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {
                to.push(toAddrs[_x]);
              }
              break;
            case "subject":
              mailtoComponents.subject = unescapeComponent(hfield[1], options);
              break;
            case "body":
              mailtoComponents.body = unescapeComponent(hfield[1], options);
              break;
            default:
              unknownHeaders = true;
              headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);
              break;
          }
        }
        if (unknownHeaders) mailtoComponents.headers = headers;
      }
      mailtoComponents.query = undefined;
      for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {
        var addr = to[_x2].split("@");
        addr[0] = unescapeComponent(addr[0]);
        if (!options.unicodeSupport) {
          //convert Unicode IDN -> ASCII IDN
          try {
            addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());
          } catch (e) {
            mailtoComponents.error = mailtoComponents.error || "Email address's domain name can not be converted to ASCII via punycode: " + e;
          }
        } else {
          addr[1] = unescapeComponent(addr[1], options).toLowerCase();
        }
        to[_x2] = addr.join("@");
      }
      return mailtoComponents;
    },
    serialize: function serialize$$1(mailtoComponents, options) {
      var components = mailtoComponents;
      var to = toArray(mailtoComponents.to);
      if (to) {
        for (var x = 0, xl = to.length; x < xl; ++x) {
          var toAddr = String(to[x]);
          var atIdx = toAddr.lastIndexOf("@");
          var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);
          var domain = toAddr.slice(atIdx + 1);
          //convert IDN via punycode
          try {
            domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);
          } catch (e) {
            components.error = components.error || "Email address's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
          }
          to[x] = localPart + "@" + domain;
        }
        components.path = to.join(",");
      }
      var headers = mailtoComponents.headers = mailtoComponents.headers || {};
      if (mailtoComponents.subject) headers["subject"] = mailtoComponents.subject;
      if (mailtoComponents.body) headers["body"] = mailtoComponents.body;
      var fields = [];
      for (var name in headers) {
        if (headers[name] !== O[name]) {
          fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + "=" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));
        }
      }
      if (fields.length) {
        components.query = fields.join("&");
      }
      return components;
    }
  };
  var URN_PARSE = /^([^\:]+)\:(.*)/;
  //RFC 2141
  var handler$5 = {
    scheme: "urn",
    parse: function parse$$1(components, options) {
      var matches = components.path && components.path.match(URN_PARSE);
      var urnComponents = components;
      if (matches) {
        var scheme = options.scheme || urnComponents.scheme || "urn";
        var nid = matches[1].toLowerCase();
        var nss = matches[2];
        var urnScheme = scheme + ":" + (options.nid || nid);
        var schemeHandler = SCHEMES[urnScheme];
        urnComponents.nid = nid;
        urnComponents.nss = nss;
        urnComponents.path = undefined;
        if (schemeHandler) {
          urnComponents = schemeHandler.parse(urnComponents, options);
        }
      } else {
        urnComponents.error = urnComponents.error || "URN can not be parsed.";
      }
      return urnComponents;
    },
    serialize: function serialize$$1(urnComponents, options) {
      var scheme = options.scheme || urnComponents.scheme || "urn";
      var nid = urnComponents.nid;
      var urnScheme = scheme + ":" + (options.nid || nid);
      var schemeHandler = SCHEMES[urnScheme];
      if (schemeHandler) {
        urnComponents = schemeHandler.serialize(urnComponents, options);
      }
      var uriComponents = urnComponents;
      var nss = urnComponents.nss;
      uriComponents.path = (nid || options.nid) + ":" + nss;
      return uriComponents;
    }
  };
  var UUID = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;
  //RFC 4122
  var handler$6 = {
    scheme: "urn:uuid",
    parse: function parse(urnComponents, options) {
      var uuidComponents = urnComponents;
      uuidComponents.uuid = uuidComponents.nss;
      uuidComponents.nss = undefined;
      if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {
        uuidComponents.error = uuidComponents.error || "UUID is not valid.";
      }
      return uuidComponents;
    },
    serialize: function serialize(uuidComponents, options) {
      var urnComponents = uuidComponents;
      //normalize UUID
      urnComponents.nss = (uuidComponents.uuid || "").toLowerCase();
      return urnComponents;
    }
  };
  SCHEMES[handler.scheme] = handler;
  SCHEMES[handler$1.scheme] = handler$1;
  SCHEMES[handler$2.scheme] = handler$2;
  SCHEMES[handler$3.scheme] = handler$3;
  SCHEMES[handler$4.scheme] = handler$4;
  SCHEMES[handler$5.scheme] = handler$5;
  SCHEMES[handler$6.scheme] = handler$6;
  exports.SCHEMES = SCHEMES;
  exports.pctEncChar = pctEncChar;
  exports.pctDecChars = pctDecChars;
  exports.parse = parse;
  exports.removeDotSegments = removeDotSegments;
  exports.serialize = serialize;
  exports.resolveComponents = resolveComponents;
  exports.resolve = resolve;
  exports.normalize = normalize;
  exports.equal = equal;
  exports.escapeComponent = escapeComponent;
  exports.unescapeComponent = unescapeComponent;
  Object.defineProperty(exports, '__esModule', {
    value: true
  });
});

/***/ }),

/***/ 30147:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";


var _objectSpread = (__webpack_require__(91361)["default"]);
__webpack_require__(65137);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(64043);
__webpack_require__(13440);
__webpack_require__(12826);
var ipRegex = __webpack_require__(13781);
var tlds = __webpack_require__(10248);
module.exports = function (options) {
  options = _objectSpread({
    strict: true
  }, options);
  var protocol = `(?:(?:[a-z]+:)?//)${options.strict ? '' : '?'}`;
  var auth = '(?:\\S+(?::\\S*)?@)?';
  var ip = ipRegex.v4().source;
  var host = '(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)';
  var domain = '(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*';
  var tld = `(?:\\.${options.strict ? '(?:[a-z\\u00a1-\\uffff]{2,})' : `(?:${tlds.sort(function (a, b) {
    return b.length - a.length;
  }).join('|')})`})\\.?`;
  var port = '(?::\\d{2,5})?';
  var path = '(?:[/?#][^\\s"]*)?';
  var regex = `(?:${protocol}|www\\.)${auth}(?:localhost|${ip}|${host}${domain}${tld})${port}${path}`;
  return options.exact ? new RegExp(`(?:^${regex}$)`, 'i') : new RegExp(regex, 'ig');
};

/***/ }),

/***/ 81596:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(66793);
__webpack_require__(7629);
__webpack_require__(77509);
__webpack_require__(50886);
__webpack_require__(64043);
__webpack_require__(7409);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(13440);
__webpack_require__(12826);
module.exports = function (e) {
  var r = {};
  function n(t) {
    if (r[t]) return r[t].exports;
    var a = r[t] = {
      i: t,
      l: !1,
      exports: {}
    };
    return e[t].call(a.exports, a, a.exports, n), a.l = !0, a.exports;
  }
  return n.m = e, n.c = r, n.d = function (e, r, t) {
    n.o(e, r) || Object.defineProperty(e, r, {
      enumerable: !0,
      get: t
    });
  }, n.r = function (e) {
    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
      value: "Module"
    }), Object.defineProperty(e, "__esModule", {
      value: !0
    });
  }, n.t = function (e, r) {
    if (1 & r && (e = n(e)), 8 & r) return e;
    if (4 & r && "object" == typeof e && e && e.__esModule) return e;
    var t = Object.create(null);
    if (n.r(t), Object.defineProperty(t, "default", {
      enumerable: !0,
      value: e
    }), 2 & r && "string" != typeof e) for (var a in e) n.d(t, a, function (r) {
      return e[r];
    }.bind(null, a));
    return t;
  }, n.n = function (e) {
    var r = e && e.__esModule ? function () {
      return e.default;
    } : function () {
      return e;
    };
    return n.d(r, "a", r), r;
  }, n.o = function (e, r) {
    return Object.prototype.hasOwnProperty.call(e, r);
  }, n.p = "", n(n.s = 0);
}([function (e, r, n) {
  "use strict";

  n.r(r), n.d(r, "validateHTMLColorName", function () {
    return l;
  }), n.d(r, "validateHTMLColorSpecialName", function () {
    return i;
  }), n.d(r, "validateHTMLColorHex", function () {
    return u;
  }), n.d(r, "validateHTMLColorRgb", function () {
    return d;
  }), n.d(r, "validateHTMLColorHsl", function () {
    return f;
  }), n.d(r, "validateHTMLColorHwb", function () {
    return h;
  }), n.d(r, "validateHTMLColorLab", function () {
    return g;
  }), n.d(r, "validateHTMLColor", function () {
    return m;
  });
  var t = function t(e) {
      return e && "string" == typeof e;
    },
    a = ["AliceBlue", "AntiqueWhite", "Aqua", "Aquamarine", "Azure", "Beige", "Bisque", "Black", "BlanchedAlmond", "Blue", "BlueViolet", "Brown", "BurlyWood", "CadetBlue", "Chartreuse", "Chocolate", "Coral", "CornflowerBlue", "Cornsilk", "Crimson", "Cyan", "DarkBlue", "DarkCyan", "DarkGoldenrod", "DarkGray", "DarkGreen", "DarkKhaki", "DarkMagenta", "DarkOliveGreen", "DarkOrange", "DarkOrchid", "DarkRed", "DarkSalmon", "DarkSeaGreen", "DarkSlateBlue", "DarkSlateGray", "DarkTurquoise", "DarkViolet", "DeepPink", "DeepSkyBlue", "DimGray", "DodgerBlue", "FireBrick", "FloralWhite", "ForestGreen", "Fuchsia", "Gainsboro", "GhostWhite", "Gold", "Goldenrod", "Gray", "Green", "GreenYellow", "HoneyDew", "HotPink", "IndianRed", "Indigo", "Ivory", "Khaki", "Lavender", "LavenderBlush", "LawnGreen", "LemonChiffon", "LightBlue", "LightCoral", "LightCyan", "LightGoldenrodYellow", "LightGray", "LightGreen", "LightPink", "LightSalmon", "LightSalmon", "LightSeaGreen", "LightSkyBlue", "LightSlateGray", "LightSteelBlue", "LightYellow", "Lime", "LimeGreen", "Linen", "Magenta", "Maroon", "MediumAquamarine", "MediumBlue", "MediumOrchid", "MediumPurple", "MediumSeaGreen", "MediumSlateBlue", "MediumSlateBlue", "MediumSpringGreen", "MediumTurquoise", "MediumVioletRed", "MidnightBlue", "MintCream", "MistyRose", "Moccasin", "NavajoWhite", "Navy", "OldLace", "Olive", "OliveDrab", "Orange", "OrangeRed", "Orchid", "PaleGoldenrod", "PaleGreen", "PaleTurquoise", "PaleVioletRed", "PapayaWhip", "PeachPuff", "Peru", "Pink", "Plum", "PowderBlue", "Purple", "RebeccaPurple", "Red", "RosyBrown", "RoyalBlue", "SaddleBrown", "Salmon", "SandyBrown", "SeaGreen", "SeaShell", "Sienna", "Silver", "SkyBlue", "SlateBlue", "SlateGray", "Snow", "SpringGreen", "SteelBlue", "Tan", "Teal", "Thistle", "Tomato", "Turquoise", "Violet", "Wheat", "White", "WhiteSmoke", "Yellow", "YellowGreen"],
    o = ["currentColor", "inherit", "transparent"],
    l = function l(e) {
      var r = !1;
      return t(e) && a.map(function (n) {
        return e.toLowerCase() === n.toLowerCase() && (r = !0), null;
      }), r;
    },
    i = function i(e) {
      var r = !1;
      return t(e) && o.map(function (n) {
        return e.toLowerCase() === n.toLowerCase() && (r = !0), null;
      }), r;
    },
    u = function u(e) {
      if (t(e)) {
        var _r = /^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$/i;
        return e && _r.test(e);
      }
    },
    d = function d(e) {
      if (t(e)) {
        var _r2 = /(rgb)a?\((\s*\d+%?\s*?,?\s*){2}(\s*\d+%?\s*?,?\s*\)?)(\s*,?\s*\/?\s*(0?\.?\d+%?\s*)?|1|0)?\)$/i;
        return e && _r2.test(e);
      }
    },
    s = "(([0-9]|[1-9][0-9]|100)%)",
    c = `\\s*?\\)?)(\\s*?(\\/?)\\s+${`(((${s}))|(0?(\\.\\d+)?)|1))?`}\\s*?\\)$`,
    f = function f(e) {
      if (t(e)) {
        var _r3 = new RegExp(`(hsl)a?\\((\\s*?(${"(-?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9]|360)(deg)?)"}|${"(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-9][0-9]|400)gra)"}|${"((([0-5])?\\.\\d+|6\\.([0-9]|1[0-9]|2[0-8])|[0-6])rad)"}|${"((0?(\\.\\d+)?|1)turn)"})((\\s*,\\s*)|(\\s+)))(\\s*?(0|${s})((\\s*,\\s*)|(\\s+)))(\\s*?(0|${s})\\s*?\\)?)(\\s*?(\\/?|,?)\\s*?(((${s}))|(0?(\\.\\d+)?)|1))?\\)$`);
        return e && _r3.test(e);
      }
    },
    h = function h(e) {
      if (t(e)) {
        var _r4 = new RegExp(`(hwb\\(\\s*?${"(-?([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9]|360)(deg)?)"}\\s+)((0|${s})\\s+)((0|${s})${c}`);
        return e && _r4.test(e);
      }
    },
    g = function g(e) {
      if (t(e)) {
        var _r5 = "(-?(([0-9]|[1-9][0-9]|1[0-5][0-9])(\\.\\d+)??|160))",
          _n = new RegExp(`(lab\\(\\s*?((\\d*(\\.\\d+)?)%)\\s+${_r5}\\s+${_r5}${c}`);
        return e && _n.test(e);
      }
    },
    m = function m(e) {
      return !!(e && u(e) || d(e) || f(e) || h(e) || g(e));
    };
  r.default = function (e) {
    return !!(e && u(e) || l(e) || i(e) || d(e) || f(e) || h(e) || g(e));
  };
}]);

/***/ }),

/***/ 67185:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
var __webpack_unused_export__;


var _slicedToArray = (__webpack_require__(25112)["default"]);
var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
__webpack_unused_export__ = ({
  value: true
});
// runtime helper for setting properties on components
// in a tree-shakable way
exports.Z = function (sfc, props) {
  var target = sfc.__vccOpts || sfc;
  var _iterator = _createForOfIteratorHelper(props),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var _step$value = _slicedToArray(_step.value, 2),
        key = _step$value[0],
        val = _step$value[1];
      target[key] = val;
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  return target;
};

/***/ }),

/***/ 5842:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X: function() { return /* binding */ EMPTY_OPTION; }
/* harmony export */ });
var EMPTY_OPTION = "%EMPTY_OPTION%";

/***/ }),

/***/ 20045:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ FieldDropdown; }
});

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.construct.js
var es_reflect_construct = __webpack_require__(30050);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.to-string-tag.js
var es_reflect_to_string_tag = __webpack_require__(76034);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(64402);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules
var slicedToArray = __webpack_require__(64224);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js
var classCallCheck = __webpack_require__(17865);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js
var createClass = __webpack_require__(89465);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js
var possibleConstructorReturn = __webpack_require__(21919);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js
var isNativeReflectConstruct = __webpack_require__(47316);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/get.js + 1 modules
var get = __webpack_require__(86035);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(30911);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js
var inherits = __webpack_require__(2979);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var es_object_to_string = __webpack_require__(60228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.error.cause.js
var es_error_cause = __webpack_require__(21057);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js
var es_array_map = __webpack_require__(50886);
// EXTERNAL MODULE: ./node_modules/blockly/core-browser.js
var core_browser = __webpack_require__(47513);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim.js
var es_string_trim = __webpack_require__(28436);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js
var web_dom_collections_for_each = __webpack_require__(47522);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js
var es_array_includes = __webpack_require__(76801);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js
var es_string_includes = __webpack_require__(43843);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/core/searchable_menuitem.js












function _callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }


/**
 * Class for a searchable menu item.
 */
var SearchableMenuItem = /*#__PURE__*/function (_MenuItem) {
  (0,inherits/* default */.Z)(SearchableMenuItem, _MenuItem);
  /**
   * @inheritdoc
   */
  function SearchableMenuItem(content, opt_value) {
    var _this;
    (0,classCallCheck/* default */.Z)(this, SearchableMenuItem);
    _this = _callSuper(this, SearchableMenuItem, [content, opt_value]);
    _this.searchableText_ = "";
    if (typeof content === "string") {
      _this.setSearchableText(content);
    } else if (content instanceof HTMLImageElement) {
      _this.setSearchableText(content.alt);
    }
    return _this;
  }

  /**
   * @inheritdoc
   */
  (0,createClass/* default */.Z)(SearchableMenuItem, [{
    key: "createDom",
    value: function createDom() {
      var element = (0,get/* default */.Z)((0,getPrototypeOf/* default */.Z)(SearchableMenuItem.prototype), "createDom", this).call(this);
      element.classList.add("blocklySearchableMenuItem");
      return element;
    }

    /**
     * Set the searchable text.
     *
     * @param {string} value The searchable text
     */
  }, {
    key: "setSearchableText",
    value: function setSearchableText(value) {
      this.searchableText_ = value.toLowerCase();
    }

    /**
     * Check if the searchable text contains a specified term.
     *
     * @param {string} term The term to check for.
     * @returns {boolean} True if the searchable text contains the term, false otherwise.
     */
  }, {
    key: "matchesTerm",
    value: function matchesTerm(term) {
      return !term || this.searchableText_.includes(term.toLowerCase());
    }
  }]);
  return SearchableMenuItem;
}(core_browser.MenuItem);

;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/core/searchable_menu.js












function searchable_menu_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }


var dom = core_browser.utils.dom,
  Svg = core_browser.utils.Svg;

/**
 * Class for a searchable menu.
 */
var SearchableMenu = /*#__PURE__*/function (_Menu) {
  (0,inherits/* default */.Z)(SearchableMenu, _Menu);
  /**
   * @inheritdoc
   */
  function SearchableMenu() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, SearchableMenu);
    _this = searchable_menu_callSuper(this, SearchableMenu);

    /**
     * Search input event data.
     * @type {?browserEvents.Data}
     * @private
     */
    _this.searchInputHandler = null;
    return _this;
  }

  /**
   * @inheritdoc
   */
  (0,createClass/* default */.Z)(SearchableMenu, [{
    key: "render",
    value: function render(container) {
      var element = (0,get/* default */.Z)((0,getPrototypeOf/* default */.Z)(SearchableMenu.prototype), "render", this).call(this, container);
      this.createSearchInput_();
      return element;
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "focus",
    value: function focus() {
      (0,get/* default */.Z)((0,getPrototypeOf/* default */.Z)(SearchableMenu.prototype), "focus", this).call(this);
      if (this.searchinput_) {
        this.searchinput_.focus({
          preventScroll: true
        });
      }
    }

    /**
     * Create the search input.
     */
  }, {
    key: "createSearchInput_",
    value: function createSearchInput_() {
      this.element.classList.add("blocklySearchableMenu");
      this.searchBox_ = document.createElement("div");
      this.searchBox_.classList.add("blocklyMenuSearch");
      this.searchinput_ = document.createElement("input");
      this.searchBox_.appendChild(this.searchinput_);
      this.searchKeydownHandler = core_browser.browserEvents.conditionalBind(this.searchinput_, "keydown", this, this.handleSearchKeydownEvent);
      this.searchInputHandler = core_browser.browserEvents.conditionalBind(this.searchinput_, "input", this, this.handleSearchInputEvent);
      this.createSVGSearchIcon_();
      this.element.insertBefore(this.searchBox_, this.element.firstChild);
    }

    /**
     * Create the search svg icon.
     */
  }, {
    key: "createSVGSearchIcon_",
    value: function createSVGSearchIcon_() {
      if (this.svgSearchIcon_) return;
      this.svgSearchIcon_ = dom.createSvgElement(Svg.SVG, {
        xmlns: dom.SVG_NS,
        "xmlns:html": dom.HTML_NS,
        "xmlns:xlink": dom.XLINK_NS,
        version: "1.1",
        width: "12px",
        height: "12px",
        class: "blocklyMenuSearchIcon"
      }, this.searchBox_);
      var box = dom.createSvgElement(Svg.G, {}, this.svgSearchIcon_);
      var icon = dom.createSvgElement(Svg.IMAGE, {
        height: "12px",
        width: "12px"
      }, box);
      icon.setAttributeNS(dom.XLINK_NS, "xlink:href", "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMC4yNDMgMTIuMTI3Ij48cGF0aCBkPSJNMTAuMjQzIDExLjQ5N0w3LjIxMSA3Ljc1OGMuOTY0LS44MDggMS41OTEtMi4wMDQgMS41OTEtMy4zNTdBNC40MDYgNC40MDYgMCAwMDQuNCAwIDQuNDA1IDQuNDA1IDAgMDAwIDQuNDAxYzAgMi40MjYgMS45NzQgNC40IDQuNCA0LjRhNC4zNyA0LjM3IDAgMDAxLjk3My0uNDg3bDMuMDkzIDMuODEzLjc3Ny0uNjN6TTEgNC40MDFBMy40MDQgMy40MDQgMCAwMTQuNCAxYzEuODc1IDAgMy40MDIgMS41MjYgMy40MDIgMy40MDFzLTEuNTI2IDMuNC0zLjQwMiAzLjRhMy40MDQgMy40MDQgMCAwMS0zLjQtMy40IiBmaWxsPSIjMDAwIi8+PC9zdmc+");
    }

    /**
     * Handle keydown event on the search input.
     *
     * @param e Keyboard event.
     */
  }, {
    key: "handleSearchKeydownEvent",
    value: function handleSearchKeydownEvent(e) {
      e.stopPropagation();
    }

    /**
     * Handle input event on the search input.
     *
     * @param e Keyboard event.
     */
  }, {
    key: "handleSearchInputEvent",
    value: function handleSearchInputEvent(e) {
      var term = e.target.value.trim();
      this.menuItems.forEach(function (menuItem) {
        if (!(menuItem instanceof SearchableMenuItem)) {
          return;
        }
        if (menuItem.matchesTerm(term)) {
          menuItem.element.classList.remove("blocklyMenuItemMismatch");
        } else {
          menuItem.element.classList.add("blocklyMenuItemMismatch");
        }
      });
      this.element.classList.toggle("blocklySearchableMenuSearching", term);
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "dispose",
    value: function dispose() {
      if (this.searchKeydownHandler) {
        core_browser.browserEvents.unbind(this.searchKeydownHandler);
        this.searchKeydownHandler = null;
      }
      if (this.searchInputHandler) {
        core_browser.browserEvents.unbind(this.searchInputHandler);
        this.searchInputHandler = null;
      }
      (0,get/* default */.Z)((0,getPrototypeOf/* default */.Z)(SearchableMenu.prototype), "dispose", this).call(this);
    }
  }]);
  return SearchableMenu;
}(core_browser.Menu);

core_browser.Css.register(`
  .blocklySearchableMenu {
    max-width: 250px;
  }
  .blocklySearchableMenu .blocklyMenuSearch {
    position: sticky;
    top: 0;
    padding: 1em;
    background: inherit;
    z-index: 1;
  }
  .blocklySearchableMenu .blocklyMenuSearch input {
    width: 100%;
    padding: 0.25em 0.5em;
    padding-right: 1.5em;
    border: none;
    border-radius: 1em;
    box-sizing: border-box;
  }
  .blocklySearchableMenu .blocklyMenuSearchIcon {
    position: absolute;
    top: 50%;
    right: 1.5em;
    transform: translateY(-50%);
    opacity: 0.75;
    pointer-events: none;
  }
  .blocklySearchableMenu .blocklyMenuItemMismatch {
    display: none;
  }
  `);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/core/field_dropdown.js














function field_dropdown_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var aria = core_browser.utils.aria,
  utilsString = core_browser.utils.string,
  parsing = core_browser.utils.parsing;

/**
 * Class for an editable dropdown field
 * that allows creating disabled options.
 */
var FieldDropdown = /*#__PURE__*/function (_FieldDropdownBase) {
  (0,inherits/* default */.Z)(FieldDropdown, _FieldDropdownBase);
  /**
   * @inheritdocs
   */
  function FieldDropdown(menuGenerator, validator, config) {
    var _this;
    (0,classCallCheck/* default */.Z)(this, FieldDropdown);
    _this = field_dropdown_callSuper(this, FieldDropdown, [core_browser.Field.SKIP_SETUP]);

    // If we pass SKIP_SETUP, don't do *anything* with the menu generator.
    if (menuGenerator === core_browser.Field.SKIP_SETUP) return (0,possibleConstructorReturn/* default */.Z)(_this);
    if (Array.isArray(menuGenerator)) {
      validateOptions(menuGenerator);
      var trimmed = trimOptions(menuGenerator);
      _this.menuGenerator_ = trimmed.options;
      _this.prefixField = trimmed.prefix || null;
      _this.suffixField = trimmed.suffix || null;
    } else {
      _this.menuGenerator_ = menuGenerator;
    }

    /**
     * Whether the menu should be searchable.
     * @type {boolean}
     * @private
     */
    _this.searchable = false;

    /**
     * The currently selected option. The field is initialized with the
     * first option selected.
     */
    _this.selectedOption = _this.getOptions(false).find(function (o) {
      return typeof o[0] === "string" || o[0].default || !o[0].disabled;
    });
    if (config) {
      _this.configure_(config);
    }
    _this.setValue(_this.selectedOption[1]);
    if (validator) {
      _this.setValidator(validator);
    }
    return _this;
  }

  /**
   * @inheritdoc
   */
  (0,createClass/* default */.Z)(FieldDropdown, [{
    key: "configure_",
    value: function configure_(config) {
      (0,get/* default */.Z)((0,getPrototypeOf/* default */.Z)(FieldDropdown.prototype), "configure_", this).call(this, config);
      if (config.searchable) this.searchable = config.searchable;
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "dropdownCreate",
    value: function dropdownCreate() {
      var _this2 = this;
      var block = this.getSourceBlock();
      if (!block) {
        throw new core_browser.UnattachedFieldError();
      }
      var menu = this.searchable ? new SearchableMenu() : new core_browser.Menu();
      menu.setRole(aria.Role.LISTBOX);
      this.menu_ = menu;
      var options = this.getOptions(false);
      this.selectedMenuItem = null;
      var _loop = function _loop() {
        var _options$i = (0,slicedToArray/* default */.Z)(options[i], 2),
          label = _options$i[0],
          value = _options$i[1];
        var enabled = true;
        var searchable_text = null;
        var content = function () {
          if (typeof label === "object") {
            if ("hidden" in label && label.hidden) {
              // Don't add a menu item.
              return null;
            }
            if ("disabled" in label && label.disabled) {
              enabled = false;
            }
            if ("src" in label) {
              // Convert ImageProperties to an HTMLImageElement.
              var image = new Image(label["width"], label["height"]);
              image.src = label["src"];
              image.alt = label["alt"] || "";
              return image;
            } else {
              searchable_text = label.text;
              return label.label;
            }
          }
          return label;
        }();
        if (content === null) return 1; // continue
        var menuItem = null;
        if (_this2.searchable) {
          menuItem = new SearchableMenuItem(content, value);
          if (searchable_text) {
            menuItem.setSearchableText(searchable_text);
          }
        } else {
          menuItem = new core_browser.MenuItem(content, value);
        }
        menuItem.setRole(aria.Role.OPTION);
        menuItem.setRightToLeft(block.RTL);
        menu.addChild(menuItem);
        if (enabled) {
          menuItem.setCheckable(true);
          menuItem.setChecked(value === _this2.value_);
          if (value === _this2.value_) {
            _this2.selectedMenuItem = menuItem;
          }
          menuItem.onAction(_this2.handleMenuActionEvent, _this2);
        } else {
          menuItem.setEnabled(false);
        }
      };
      for (var i = 0; i < options.length; i++) {
        if (_loop()) continue;
      }
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "getOptions",
    value: function getOptions(useCache) {
      if (!this.menuGenerator_) {
        // A subclass improperly skipped setup without defining the menu
        // generator.
        throw TypeError("A menu generator was never defined.");
      }
      if (Array.isArray(this.menuGenerator_)) return this.menuGenerator_;
      if (useCache && this.generatedOptions) return this.generatedOptions;
      this.generatedOptions = this.menuGenerator_();
      validateOptions(this.generatedOptions);
      return this.generatedOptions;
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "render_",
    value: function render_() {
      // Hide both elements.
      this.getTextContent().nodeValue = "";
      this.imageElement.style.display = "none";

      // Show correct element.
      var option = this.selectedOption && this.selectedOption[0];
      if (option && typeof option === "object" && "alt" in option) {
        this.renderSelectedImage(option);
      } else {
        this.renderSelectedText();
      }
      this.positionBorderRect_();
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "getText_",
    value: function getText_() {
      if (!this.selectedOption) {
        return null;
      }
      var option = this.selectedOption[0];
      if (typeof option === "object") {
        if ("alt" in option) {
          return option.alt;
        }
        if ("text" in option) {
          return option.text;
        }
        return option.label;
      }
      return option;
    }
  }]);
  return FieldDropdown;
}(core_browser.FieldDropdown);
/**
 * Copied with slight modification from blockly.
 */

function trimOptions(options) {
  var hasImages = false;
  var trimmedOptions = options.map(function (_ref) {
    var _ref2 = (0,slicedToArray/* default */.Z)(_ref, 2),
      label = _ref2[0],
      value = _ref2[1];
    if (typeof label === "string") {
      return [parsing.replaceMessageReferences(label), value];
    }
    hasImages = true;
    // Copy the image properties so they're not influenced by the original.
    // NOTE: No need to deep copy since image properties are only 1 level deep.
    var imageLabel = "alt" in label && label.alt !== null ? (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, label), {}, {
      alt: parsing.replaceMessageReferences(label.alt)
    }) : (0,objectSpread2/* default */.Z)({}, label);
    return [imageLabel, value];
  });
  if (hasImages || options.length < 2) return {
    options: trimmedOptions
  };
  var stringOptions = trimmedOptions;
  var stringLabels = stringOptions.map(function (_ref3) {
    var _ref4 = (0,slicedToArray/* default */.Z)(_ref3, 1),
      label = _ref4[0];
    return label;
  });
  var shortest = utilsString.shortestStringLength(stringLabels);
  var prefixLength = utilsString.commonWordPrefix(stringLabels, shortest);
  var suffixLength = utilsString.commonWordSuffix(stringLabels, shortest);
  if (!prefixLength && !suffixLength || shortest <= prefixLength + suffixLength) {
    // One or more strings will entirely vanish if we proceed.  Abort.
    return {
      options: stringOptions
    };
  }
  var prefix = prefixLength ? stringLabels[0].substring(0, prefixLength - 1) : undefined;
  var suffix = suffixLength ? stringLabels[0].substr(1 - suffixLength) : undefined;
  return {
    options: applyTrim(stringOptions, prefixLength, suffixLength),
    prefix,
    suffix
  };
}

/**
 * Copied as is from blockly.
 */
function applyTrim(options, prefixLength, suffixLength) {
  return options.map(function (_ref5) {
    var _ref6 = (0,slicedToArray/* default */.Z)(_ref5, 2),
      text = _ref6[0],
      value = _ref6[1];
    return [text.substring(prefixLength, text.length - suffixLength), value];
  });
}

/**
 * Copied with slight modification from blockly.
 */
var validateOptions = function validateOptions(options) {
  if (!Array.isArray(options)) {
    throw TypeError("FieldDropdown options must be an array.");
  }
  if (!options.length) {
    throw TypeError("FieldDropdown options must not be an empty array.");
  }
  var foundError = false;
  for (var i = 0; i < options.length; i++) {
    var _tuple$;
    var tuple = options[i];
    if (!Array.isArray(tuple)) {
      foundError = true;
      console.error("Invalid option[" + i + "]: Each FieldDropdown option must be an " + "array. Found: ", tuple);
    } else if (typeof tuple[1] !== "string") {
      foundError = true;
      console.error("Invalid option[" + i + "]: Each FieldDropdown option id must be " + "a string. Found " + tuple[1] + " in: ", tuple);
    } else if (tuple[0] && typeof tuple[0] !== "string" && typeof tuple[0].src !== "string" && typeof tuple[0].label !== "string" && !(tuple[0].label instanceof HTMLElement)) {
      foundError = true;
      console.error("Invalid option[" + i + "]: Each FieldDropdown option must have a " + "string or an object with a 'src' or 'label' property. " + "Found" + tuple[0] + " in: ", tuple);
    } else if (((_tuple$ = tuple[0]) === null || _tuple$ === void 0 ? void 0 : _tuple$.label) instanceof HTMLElement && !(typeof tuple[0].text === "string")) {
      foundError = true;
      console.error("Invalid option[" + i + "]: If a FieldDropdown option has an object" + "with an HTML element as the 'label' property, " + "it must also have a 'text' property. " + "Found" + tuple[0] + " in: ", tuple);
    }
  }
  if (foundError) {
    throw TypeError("Found invalid FieldDropdown options.");
  }
};
core_browser.fieldRegistry.unregister("field_dropdown");
core_browser.fieldRegistry.register("field_dropdown", FieldDropdown);

/***/ }),

/***/ 41663:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(30050);
__webpack_require__(76034);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _possibleConstructorReturn = (__webpack_require__(91349)["default"]);
var _isNativeReflectConstruct = (__webpack_require__(25243)["default"]);
var _get = (__webpack_require__(18911)["default"]);
var _getPrototypeOf = (__webpack_require__(83387)["default"]);
var _inherits = (__webpack_require__(43497)["default"]);
__webpack_require__(60228);
__webpack_require__(47522);
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;
var core_1 = __webpack_require__(17504);
var draft7_1 = __webpack_require__(34887);
var discriminator_1 = __webpack_require__(1138);
var draft7MetaSchema = __webpack_require__(86639);
var META_SUPPORT_DATA = ["/properties"];
var META_SCHEMA_ID = "http://json-schema.org/draft-07/schema";
var Ajv = /*#__PURE__*/function (_core_1$default) {
  _inherits(Ajv, _core_1$default);
  function Ajv() {
    _classCallCheck(this, Ajv);
    return _callSuper(this, Ajv, arguments);
  }
  _createClass(Ajv, [{
    key: "_addVocabularies",
    value: function _addVocabularies() {
      var _this = this;
      _get(_getPrototypeOf(Ajv.prototype), "_addVocabularies", this).call(this);
      draft7_1.default.forEach(function (v) {
        return _this.addVocabulary(v);
      });
      if (this.opts.discriminator) this.addKeyword(discriminator_1.default);
    }
  }, {
    key: "_addDefaultMetaSchema",
    value: function _addDefaultMetaSchema() {
      _get(_getPrototypeOf(Ajv.prototype), "_addDefaultMetaSchema", this).call(this);
      if (!this.opts.meta) return;
      var metaSchema = this.opts.$data ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA) : draft7MetaSchema;
      this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);
      this.refs["http://json-schema.org/schema"] = META_SCHEMA_ID;
    }
  }, {
    key: "defaultMeta",
    value: function defaultMeta() {
      return this.opts.defaultMeta = _get(_getPrototypeOf(Ajv.prototype), "defaultMeta", this).call(this) || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined);
    }
  }]);
  return Ajv;
}(core_1.default);
module.exports = exports = Ajv;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports["default"] = Ajv;
var validate_1 = __webpack_require__(5128);
Object.defineProperty(exports, "KeywordCxt", ({
  enumerable: true,
  get: function get() {
    return validate_1.KeywordCxt;
  }
}));
var codegen_1 = __webpack_require__(22374);
Object.defineProperty(exports, "_", ({
  enumerable: true,
  get: function get() {
    return codegen_1._;
  }
}));
Object.defineProperty(exports, "str", ({
  enumerable: true,
  get: function get() {
    return codegen_1.str;
  }
}));
Object.defineProperty(exports, "stringify", ({
  enumerable: true,
  get: function get() {
    return codegen_1.stringify;
  }
}));
Object.defineProperty(exports, "nil", ({
  enumerable: true,
  get: function get() {
    return codegen_1.nil;
  }
}));
Object.defineProperty(exports, "Name", ({
  enumerable: true,
  get: function get() {
    return codegen_1.Name;
  }
}));
Object.defineProperty(exports, "CodeGen", ({
  enumerable: true,
  get: function get() {
    return codegen_1.CodeGen;
  }
}));
var validation_error_1 = __webpack_require__(70171);
Object.defineProperty(exports, "ValidationError", ({
  enumerable: true,
  get: function get() {
    return validation_error_1.default;
  }
}));
var ref_error_1 = __webpack_require__(94143);
Object.defineProperty(exports, "MissingRefError", ({
  enumerable: true,
  get: function get() {
    return ref_error_1.default;
  }
}));

/***/ }),

/***/ 58733:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(30050);
__webpack_require__(76034);
var _toConsumableArray = (__webpack_require__(49648)["default"]);
var _possibleConstructorReturn = (__webpack_require__(91349)["default"]);
var _isNativeReflectConstruct = (__webpack_require__(25243)["default"]);
var _getPrototypeOf = (__webpack_require__(83387)["default"]);
var _inherits = (__webpack_require__(43497)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _2 = function _2(t) {
    return t;
  },
  _t,
  _t2;
__webpack_require__(64043);
__webpack_require__(7409);
__webpack_require__(21057);
__webpack_require__(60228);
__webpack_require__(70560);
__webpack_require__(62506);
__webpack_require__(89730);
__webpack_require__(57267);
__webpack_require__(48324);
__webpack_require__(12826);
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;
var _CodeOrName = /*#__PURE__*/_createClass(function _CodeOrName() {
  _classCallCheck(this, _CodeOrName);
});
exports._CodeOrName = _CodeOrName;
exports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;
var Name = /*#__PURE__*/function (_CodeOrName2) {
  _inherits(Name, _CodeOrName2);
  function Name(s) {
    var _this;
    _classCallCheck(this, Name);
    _this = _callSuper(this, Name);
    if (!exports.IDENTIFIER.test(s)) throw new Error("CodeGen: name must be a valid identifier");
    _this.str = s;
    return _this;
  }
  _createClass(Name, [{
    key: "toString",
    value: function toString() {
      return this.str;
    }
  }, {
    key: "emptyStr",
    value: function emptyStr() {
      return false;
    }
  }, {
    key: "names",
    get: function get() {
      return {
        [this.str]: 1
      };
    }
  }]);
  return Name;
}(_CodeOrName);
exports.Name = Name;
var _Code = /*#__PURE__*/function (_CodeOrName3) {
  _inherits(_Code, _CodeOrName3);
  function _Code(code) {
    var _this2;
    _classCallCheck(this, _Code);
    _this2 = _callSuper(this, _Code);
    _this2._items = typeof code === "string" ? [code] : code;
    return _this2;
  }
  _createClass(_Code, [{
    key: "toString",
    value: function toString() {
      return this.str;
    }
  }, {
    key: "emptyStr",
    value: function emptyStr() {
      if (this._items.length > 1) return false;
      var item = this._items[0];
      return item === "" || item === '""';
    }
  }, {
    key: "str",
    get: function get() {
      var _a;
      return (_a = this._str) !== null && _a !== void 0 ? _a : this._str = this._items.reduce(function (s, c) {
        return `${s}${c}`;
      }, "");
    }
  }, {
    key: "names",
    get: function get() {
      var _a;
      return (_a = this._names) !== null && _a !== void 0 ? _a : this._names = this._items.reduce(function (names, c) {
        if (c instanceof Name) names[c.str] = (names[c.str] || 0) + 1;
        return names;
      }, {});
    }
  }]);
  return _Code;
}(_CodeOrName);
exports._Code = _Code;
exports.nil = new _Code("");
function _(strs) {
  var code = [strs[0]];
  var i = 0;
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }
  while (i < args.length) {
    addCodeArg(code, args[i]);
    code.push(strs[++i]);
  }
  return new _Code(code);
}
exports._ = _;
var plus = new _Code("+");
function str(strs) {
  var expr = [safeStringify(strs[0])];
  var i = 0;
  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }
  while (i < args.length) {
    expr.push(plus);
    addCodeArg(expr, args[i]);
    expr.push(plus, safeStringify(strs[++i]));
  }
  optimize(expr);
  return new _Code(expr);
}
exports.str = str;
function addCodeArg(code, arg) {
  if (arg instanceof _Code) code.push.apply(code, _toConsumableArray(arg._items));else if (arg instanceof Name) code.push(arg);else code.push(interpolate(arg));
}
exports.addCodeArg = addCodeArg;
function optimize(expr) {
  var i = 1;
  while (i < expr.length - 1) {
    if (expr[i] === plus) {
      var res = mergeExprItems(expr[i - 1], expr[i + 1]);
      if (res !== undefined) {
        expr.splice(i - 1, 3, res);
        continue;
      }
      expr[i++] = "+";
    }
    i++;
  }
}
function mergeExprItems(a, b) {
  if (b === '""') return a;
  if (a === '""') return b;
  if (typeof a == "string") {
    if (b instanceof Name || a[a.length - 1] !== '"') return;
    if (typeof b != "string") return `${a.slice(0, -1)}${b}"`;
    if (b[0] === '"') return a.slice(0, -1) + b.slice(1);
    return;
  }
  if (typeof b == "string" && b[0] === '"' && !(a instanceof Name)) return `"${a}${b.slice(1)}`;
  return;
}
function strConcat(c1, c2) {
  return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str(_t || (_t = _2`${0}${0}`), c1, c2);
}
exports.strConcat = strConcat;
// TODO do not allow arrays here
function interpolate(x) {
  return typeof x == "number" || typeof x == "boolean" || x === null ? x : safeStringify(Array.isArray(x) ? x.join(",") : x);
}
function stringify(x) {
  return new _Code(safeStringify(x));
}
exports.stringify = stringify;
function safeStringify(x) {
  return JSON.stringify(x).replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029");
}
exports.safeStringify = safeStringify;
function getProperty(key) {
  return typeof key == "string" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _(_t2 || (_t2 = _2`[${0}]`), key);
}
exports.getProperty = getProperty;
//Does best effort to format the name properly
function getEsmExportName(key) {
  if (typeof key == "string" && exports.IDENTIFIER.test(key)) {
    return new _Code(`${key}`);
  }
  throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);
}
exports.getEsmExportName = getEsmExportName;
function regexpCode(rx) {
  return new _Code(rx.toString());
}
exports.regexpCode = regexpCode;

/***/ }),

/***/ 22374:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(30050);
__webpack_require__(76034);
var _slicedToArray = (__webpack_require__(25112)["default"]);
var _get = (__webpack_require__(18911)["default"]);
var _toConsumableArray = (__webpack_require__(49648)["default"]);
var _objectSpread = (__webpack_require__(91361)["default"]);
var _possibleConstructorReturn = (__webpack_require__(91349)["default"]);
var _isNativeReflectConstruct = (__webpack_require__(25243)["default"]);
var _getPrototypeOf = (__webpack_require__(83387)["default"]);
var _inherits = (__webpack_require__(43497)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6;
__webpack_require__(60228);
__webpack_require__(62506);
__webpack_require__(34338);
__webpack_require__(73964);
__webpack_require__(36409);
__webpack_require__(752);
__webpack_require__(19649);
__webpack_require__(76265);
__webpack_require__(70560);
__webpack_require__(21057);
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;
var code_1 = __webpack_require__(58733);
var scope_1 = __webpack_require__(21536);
var code_2 = __webpack_require__(58733);
Object.defineProperty(exports, "_", ({
  enumerable: true,
  get: function get() {
    return code_2._;
  }
}));
Object.defineProperty(exports, "str", ({
  enumerable: true,
  get: function get() {
    return code_2.str;
  }
}));
Object.defineProperty(exports, "strConcat", ({
  enumerable: true,
  get: function get() {
    return code_2.strConcat;
  }
}));
Object.defineProperty(exports, "nil", ({
  enumerable: true,
  get: function get() {
    return code_2.nil;
  }
}));
Object.defineProperty(exports, "getProperty", ({
  enumerable: true,
  get: function get() {
    return code_2.getProperty;
  }
}));
Object.defineProperty(exports, "stringify", ({
  enumerable: true,
  get: function get() {
    return code_2.stringify;
  }
}));
Object.defineProperty(exports, "regexpCode", ({
  enumerable: true,
  get: function get() {
    return code_2.regexpCode;
  }
}));
Object.defineProperty(exports, "Name", ({
  enumerable: true,
  get: function get() {
    return code_2.Name;
  }
}));
var scope_2 = __webpack_require__(21536);
Object.defineProperty(exports, "Scope", ({
  enumerable: true,
  get: function get() {
    return scope_2.Scope;
  }
}));
Object.defineProperty(exports, "ValueScope", ({
  enumerable: true,
  get: function get() {
    return scope_2.ValueScope;
  }
}));
Object.defineProperty(exports, "ValueScopeName", ({
  enumerable: true,
  get: function get() {
    return scope_2.ValueScopeName;
  }
}));
Object.defineProperty(exports, "varKinds", ({
  enumerable: true,
  get: function get() {
    return scope_2.varKinds;
  }
}));
exports.operators = {
  GT: new code_1._Code(">"),
  GTE: new code_1._Code(">="),
  LT: new code_1._Code("<"),
  LTE: new code_1._Code("<="),
  EQ: new code_1._Code("==="),
  NEQ: new code_1._Code("!=="),
  NOT: new code_1._Code("!"),
  OR: new code_1._Code("||"),
  AND: new code_1._Code("&&"),
  ADD: new code_1._Code("+")
};
var Node = /*#__PURE__*/function () {
  function Node() {
    _classCallCheck(this, Node);
  }
  _createClass(Node, [{
    key: "optimizeNodes",
    value: function optimizeNodes() {
      return this;
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(_names, _constants) {
      return this;
    }
  }]);
  return Node;
}();
var Def = /*#__PURE__*/function (_Node) {
  _inherits(Def, _Node);
  function Def(varKind, name, rhs) {
    var _this;
    _classCallCheck(this, Def);
    _this = _callSuper(this, Def);
    _this.varKind = varKind;
    _this.name = name;
    _this.rhs = rhs;
    return _this;
  }
  _createClass(Def, [{
    key: "render",
    value: function render(_ref) {
      var es5 = _ref.es5,
        _n = _ref._n;
      var varKind = es5 ? scope_1.varKinds.var : this.varKind;
      var rhs = this.rhs === undefined ? "" : ` = ${this.rhs}`;
      return `${varKind} ${this.name}${rhs};` + _n;
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      if (!names[this.name.str]) return;
      if (this.rhs) this.rhs = optimizeExpr(this.rhs, names, constants);
      return this;
    }
  }, {
    key: "names",
    get: function get() {
      return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};
    }
  }]);
  return Def;
}(Node);
var Assign = /*#__PURE__*/function (_Node2) {
  _inherits(Assign, _Node2);
  function Assign(lhs, rhs, sideEffects) {
    var _this2;
    _classCallCheck(this, Assign);
    _this2 = _callSuper(this, Assign);
    _this2.lhs = lhs;
    _this2.rhs = rhs;
    _this2.sideEffects = sideEffects;
    return _this2;
  }
  _createClass(Assign, [{
    key: "render",
    value: function render(_ref2) {
      var _n = _ref2._n;
      return `${this.lhs} = ${this.rhs};` + _n;
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects) return;
      this.rhs = optimizeExpr(this.rhs, names, constants);
      return this;
    }
  }, {
    key: "names",
    get: function get() {
      var names = this.lhs instanceof code_1.Name ? {} : _objectSpread({}, this.lhs.names);
      return addExprNames(names, this.rhs);
    }
  }]);
  return Assign;
}(Node);
var AssignOp = /*#__PURE__*/function (_Assign) {
  _inherits(AssignOp, _Assign);
  function AssignOp(lhs, op, rhs, sideEffects) {
    var _this3;
    _classCallCheck(this, AssignOp);
    _this3 = _callSuper(this, AssignOp, [lhs, rhs, sideEffects]);
    _this3.op = op;
    return _this3;
  }
  _createClass(AssignOp, [{
    key: "render",
    value: function render(_ref3) {
      var _n = _ref3._n;
      return `${this.lhs} ${this.op}= ${this.rhs};` + _n;
    }
  }]);
  return AssignOp;
}(Assign);
var Label = /*#__PURE__*/function (_Node3) {
  _inherits(Label, _Node3);
  function Label(label) {
    var _this4;
    _classCallCheck(this, Label);
    _this4 = _callSuper(this, Label);
    _this4.label = label;
    _this4.names = {};
    return _this4;
  }
  _createClass(Label, [{
    key: "render",
    value: function render(_ref4) {
      var _n = _ref4._n;
      return `${this.label}:` + _n;
    }
  }]);
  return Label;
}(Node);
var Break = /*#__PURE__*/function (_Node4) {
  _inherits(Break, _Node4);
  function Break(label) {
    var _this5;
    _classCallCheck(this, Break);
    _this5 = _callSuper(this, Break);
    _this5.label = label;
    _this5.names = {};
    return _this5;
  }
  _createClass(Break, [{
    key: "render",
    value: function render(_ref5) {
      var _n = _ref5._n;
      var label = this.label ? ` ${this.label}` : "";
      return `break${label};` + _n;
    }
  }]);
  return Break;
}(Node);
var Throw = /*#__PURE__*/function (_Node5) {
  _inherits(Throw, _Node5);
  function Throw(error) {
    var _this6;
    _classCallCheck(this, Throw);
    _this6 = _callSuper(this, Throw);
    _this6.error = error;
    return _this6;
  }
  _createClass(Throw, [{
    key: "render",
    value: function render(_ref6) {
      var _n = _ref6._n;
      return `throw ${this.error};` + _n;
    }
  }, {
    key: "names",
    get: function get() {
      return this.error.names;
    }
  }]);
  return Throw;
}(Node);
var AnyCode = /*#__PURE__*/function (_Node6) {
  _inherits(AnyCode, _Node6);
  function AnyCode(code) {
    var _this7;
    _classCallCheck(this, AnyCode);
    _this7 = _callSuper(this, AnyCode);
    _this7.code = code;
    return _this7;
  }
  _createClass(AnyCode, [{
    key: "render",
    value: function render(_ref7) {
      var _n = _ref7._n;
      return `${this.code};` + _n;
    }
  }, {
    key: "optimizeNodes",
    value: function optimizeNodes() {
      return `${this.code}` ? this : undefined;
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      this.code = optimizeExpr(this.code, names, constants);
      return this;
    }
  }, {
    key: "names",
    get: function get() {
      return this.code instanceof code_1._CodeOrName ? this.code.names : {};
    }
  }]);
  return AnyCode;
}(Node);
var ParentNode = /*#__PURE__*/function (_Node7) {
  _inherits(ParentNode, _Node7);
  function ParentNode() {
    var _this8;
    var nodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
    _classCallCheck(this, ParentNode);
    _this8 = _callSuper(this, ParentNode);
    _this8.nodes = nodes;
    return _this8;
  }
  _createClass(ParentNode, [{
    key: "render",
    value: function render(opts) {
      return this.nodes.reduce(function (code, n) {
        return code + n.render(opts);
      }, "");
    }
  }, {
    key: "optimizeNodes",
    value: function optimizeNodes() {
      var nodes = this.nodes;
      var i = nodes.length;
      while (i--) {
        var n = nodes[i].optimizeNodes();
        if (Array.isArray(n)) nodes.splice.apply(nodes, [i, 1].concat(_toConsumableArray(n)));else if (n) nodes[i] = n;else nodes.splice(i, 1);
      }
      return nodes.length > 0 ? this : undefined;
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      var nodes = this.nodes;
      var i = nodes.length;
      while (i--) {
        // iterating backwards improves 1-pass optimization
        var n = nodes[i];
        if (n.optimizeNames(names, constants)) continue;
        subtractNames(names, n.names);
        nodes.splice(i, 1);
      }
      return nodes.length > 0 ? this : undefined;
    }
  }, {
    key: "names",
    get: function get() {
      return this.nodes.reduce(function (names, n) {
        return addNames(names, n.names);
      }, {});
    }
  }]);
  return ParentNode;
}(Node);
var BlockNode = /*#__PURE__*/function (_ParentNode) {
  _inherits(BlockNode, _ParentNode);
  function BlockNode() {
    _classCallCheck(this, BlockNode);
    return _callSuper(this, BlockNode, arguments);
  }
  _createClass(BlockNode, [{
    key: "render",
    value: function render(opts) {
      return "{" + opts._n + _get(_getPrototypeOf(BlockNode.prototype), "render", this).call(this, opts) + "}" + opts._n;
    }
  }]);
  return BlockNode;
}(ParentNode);
var Root = /*#__PURE__*/function (_ParentNode2) {
  _inherits(Root, _ParentNode2);
  function Root() {
    _classCallCheck(this, Root);
    return _callSuper(this, Root, arguments);
  }
  return _createClass(Root);
}(ParentNode);
var Else = /*#__PURE__*/function (_BlockNode) {
  _inherits(Else, _BlockNode);
  function Else() {
    _classCallCheck(this, Else);
    return _callSuper(this, Else, arguments);
  }
  return _createClass(Else);
}(BlockNode);
Else.kind = "else";
var If = /*#__PURE__*/function (_BlockNode2) {
  _inherits(If, _BlockNode2);
  function If(condition, nodes) {
    var _this9;
    _classCallCheck(this, If);
    _this9 = _callSuper(this, If, [nodes]);
    _this9.condition = condition;
    return _this9;
  }
  _createClass(If, [{
    key: "render",
    value: function render(opts) {
      var code = `if(${this.condition})` + _get(_getPrototypeOf(If.prototype), "render", this).call(this, opts);
      if (this.else) code += "else " + this.else.render(opts);
      return code;
    }
  }, {
    key: "optimizeNodes",
    value: function optimizeNodes() {
      _get(_getPrototypeOf(If.prototype), "optimizeNodes", this).call(this);
      var cond = this.condition;
      if (cond === true) return this.nodes; // else is ignored here
      var e = this.else;
      if (e) {
        var ns = e.optimizeNodes();
        e = this.else = Array.isArray(ns) ? new Else(ns) : ns;
      }
      if (e) {
        if (cond === false) return e instanceof If ? e : e.nodes;
        if (this.nodes.length) return this;
        return new If(not(cond), e instanceof If ? [e] : e.nodes);
      }
      if (cond === false || !this.nodes.length) return undefined;
      return this;
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      var _a;
      this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);
      if (!(_get(_getPrototypeOf(If.prototype), "optimizeNames", this).call(this, names, constants) || this.else)) return;
      this.condition = optimizeExpr(this.condition, names, constants);
      return this;
    }
  }, {
    key: "names",
    get: function get() {
      var names = _get(_getPrototypeOf(If.prototype), "names", this);
      addExprNames(names, this.condition);
      if (this.else) addNames(names, this.else.names);
      return names;
    }
  }]);
  return If;
}(BlockNode);
If.kind = "if";
var For = /*#__PURE__*/function (_BlockNode3) {
  _inherits(For, _BlockNode3);
  function For() {
    _classCallCheck(this, For);
    return _callSuper(this, For, arguments);
  }
  return _createClass(For);
}(BlockNode);
For.kind = "for";
var ForLoop = /*#__PURE__*/function (_For) {
  _inherits(ForLoop, _For);
  function ForLoop(iteration) {
    var _this10;
    _classCallCheck(this, ForLoop);
    _this10 = _callSuper(this, ForLoop);
    _this10.iteration = iteration;
    return _this10;
  }
  _createClass(ForLoop, [{
    key: "render",
    value: function render(opts) {
      return `for(${this.iteration})` + _get(_getPrototypeOf(ForLoop.prototype), "render", this).call(this, opts);
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      if (!_get(_getPrototypeOf(ForLoop.prototype), "optimizeNames", this).call(this, names, constants)) return;
      this.iteration = optimizeExpr(this.iteration, names, constants);
      return this;
    }
  }, {
    key: "names",
    get: function get() {
      return addNames(_get(_getPrototypeOf(ForLoop.prototype), "names", this), this.iteration.names);
    }
  }]);
  return ForLoop;
}(For);
var ForRange = /*#__PURE__*/function (_For2) {
  _inherits(ForRange, _For2);
  function ForRange(varKind, name, from, to) {
    var _this11;
    _classCallCheck(this, ForRange);
    _this11 = _callSuper(this, ForRange);
    _this11.varKind = varKind;
    _this11.name = name;
    _this11.from = from;
    _this11.to = to;
    return _this11;
  }
  _createClass(ForRange, [{
    key: "render",
    value: function render(opts) {
      var varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;
      var name = this.name,
        from = this.from,
        to = this.to;
      return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + _get(_getPrototypeOf(ForRange.prototype), "render", this).call(this, opts);
    }
  }, {
    key: "names",
    get: function get() {
      var names = addExprNames(_get(_getPrototypeOf(ForRange.prototype), "names", this), this.from);
      return addExprNames(names, this.to);
    }
  }]);
  return ForRange;
}(For);
var ForIter = /*#__PURE__*/function (_For3) {
  _inherits(ForIter, _For3);
  function ForIter(loop, varKind, name, iterable) {
    var _this12;
    _classCallCheck(this, ForIter);
    _this12 = _callSuper(this, ForIter);
    _this12.loop = loop;
    _this12.varKind = varKind;
    _this12.name = name;
    _this12.iterable = iterable;
    return _this12;
  }
  _createClass(ForIter, [{
    key: "render",
    value: function render(opts) {
      return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + _get(_getPrototypeOf(ForIter.prototype), "render", this).call(this, opts);
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      if (!_get(_getPrototypeOf(ForIter.prototype), "optimizeNames", this).call(this, names, constants)) return;
      this.iterable = optimizeExpr(this.iterable, names, constants);
      return this;
    }
  }, {
    key: "names",
    get: function get() {
      return addNames(_get(_getPrototypeOf(ForIter.prototype), "names", this), this.iterable.names);
    }
  }]);
  return ForIter;
}(For);
var Func = /*#__PURE__*/function (_BlockNode4) {
  _inherits(Func, _BlockNode4);
  function Func(name, args, async) {
    var _this13;
    _classCallCheck(this, Func);
    _this13 = _callSuper(this, Func);
    _this13.name = name;
    _this13.args = args;
    _this13.async = async;
    return _this13;
  }
  _createClass(Func, [{
    key: "render",
    value: function render(opts) {
      var _async = this.async ? "async " : "";
      return `${_async}function ${this.name}(${this.args})` + _get(_getPrototypeOf(Func.prototype), "render", this).call(this, opts);
    }
  }]);
  return Func;
}(BlockNode);
Func.kind = "func";
var Return = /*#__PURE__*/function (_ParentNode3) {
  _inherits(Return, _ParentNode3);
  function Return() {
    _classCallCheck(this, Return);
    return _callSuper(this, Return, arguments);
  }
  _createClass(Return, [{
    key: "render",
    value: function render(opts) {
      return "return " + _get(_getPrototypeOf(Return.prototype), "render", this).call(this, opts);
    }
  }]);
  return Return;
}(ParentNode);
Return.kind = "return";
var Try = /*#__PURE__*/function (_BlockNode5) {
  _inherits(Try, _BlockNode5);
  function Try() {
    _classCallCheck(this, Try);
    return _callSuper(this, Try, arguments);
  }
  _createClass(Try, [{
    key: "render",
    value: function render(opts) {
      var code = "try" + _get(_getPrototypeOf(Try.prototype), "render", this).call(this, opts);
      if (this.catch) code += this.catch.render(opts);
      if (this.finally) code += this.finally.render(opts);
      return code;
    }
  }, {
    key: "optimizeNodes",
    value: function optimizeNodes() {
      var _a, _b;
      _get(_getPrototypeOf(Try.prototype), "optimizeNodes", this).call(this);
      (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();
      (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();
      return this;
    }
  }, {
    key: "optimizeNames",
    value: function optimizeNames(names, constants) {
      var _a, _b;
      _get(_getPrototypeOf(Try.prototype), "optimizeNames", this).call(this, names, constants);
      (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);
      (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);
      return this;
    }
  }, {
    key: "names",
    get: function get() {
      var names = _get(_getPrototypeOf(Try.prototype), "names", this);
      if (this.catch) addNames(names, this.catch.names);
      if (this.finally) addNames(names, this.finally.names);
      return names;
    }
  }]);
  return Try;
}(BlockNode);
var Catch = /*#__PURE__*/function (_BlockNode6) {
  _inherits(Catch, _BlockNode6);
  function Catch(error) {
    var _this14;
    _classCallCheck(this, Catch);
    _this14 = _callSuper(this, Catch);
    _this14.error = error;
    return _this14;
  }
  _createClass(Catch, [{
    key: "render",
    value: function render(opts) {
      return `catch(${this.error})` + _get(_getPrototypeOf(Catch.prototype), "render", this).call(this, opts);
    }
  }]);
  return Catch;
}(BlockNode);
Catch.kind = "catch";
var Finally = /*#__PURE__*/function (_BlockNode7) {
  _inherits(Finally, _BlockNode7);
  function Finally() {
    _classCallCheck(this, Finally);
    return _callSuper(this, Finally, arguments);
  }
  _createClass(Finally, [{
    key: "render",
    value: function render(opts) {
      return "finally" + _get(_getPrototypeOf(Finally.prototype), "render", this).call(this, opts);
    }
  }]);
  return Finally;
}(BlockNode);
Finally.kind = "finally";
var CodeGen = /*#__PURE__*/function () {
  function CodeGen(extScope) {
    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    _classCallCheck(this, CodeGen);
    this._values = {};
    this._blockStarts = [];
    this._constants = {};
    this.opts = _objectSpread(_objectSpread({}, opts), {}, {
      _n: opts.lines ? "\n" : ""
    });
    this._extScope = extScope;
    this._scope = new scope_1.Scope({
      parent: extScope
    });
    this._nodes = [new Root()];
  }
  _createClass(CodeGen, [{
    key: "toString",
    value: function toString() {
      return this._root.render(this.opts);
    }
    // returns unique name in the internal scope
  }, {
    key: "name",
    value: function name(prefix) {
      return this._scope.name(prefix);
    }
    // reserves unique name in the external scope
  }, {
    key: "scopeName",
    value: function scopeName(prefix) {
      return this._extScope.name(prefix);
    }
    // reserves unique name in the external scope and assigns value to it
  }, {
    key: "scopeValue",
    value: function scopeValue(prefixOrName, value) {
      var name = this._extScope.value(prefixOrName, value);
      var vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());
      vs.add(name);
      return name;
    }
  }, {
    key: "getScopeValue",
    value: function getScopeValue(prefix, keyOrRef) {
      return this._extScope.getValue(prefix, keyOrRef);
    }
    // return code that assigns values in the external scope to the names that are used internally
    // (same names that were returned by gen.scopeName or gen.scopeValue)
  }, {
    key: "scopeRefs",
    value: function scopeRefs(scopeName) {
      return this._extScope.scopeRefs(scopeName, this._values);
    }
  }, {
    key: "scopeCode",
    value: function scopeCode() {
      return this._extScope.scopeCode(this._values);
    }
  }, {
    key: "_def",
    value: function _def(varKind, nameOrPrefix, rhs, constant) {
      var name = this._scope.toName(nameOrPrefix);
      if (rhs !== undefined && constant) this._constants[name.str] = rhs;
      this._leafNode(new Def(varKind, name, rhs));
      return name;
    }
    // `const` declaration (`var` in es5 mode)
  }, {
    key: "const",
    value: function _const(nameOrPrefix, rhs, _constant) {
      return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);
    }
    // `let` declaration with optional assignment (`var` in es5 mode)
  }, {
    key: "let",
    value: function _let(nameOrPrefix, rhs, _constant) {
      return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);
    }
    // `var` declaration with optional assignment
  }, {
    key: "var",
    value: function _var(nameOrPrefix, rhs, _constant) {
      return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);
    }
    // assignment code
  }, {
    key: "assign",
    value: function assign(lhs, rhs, sideEffects) {
      return this._leafNode(new Assign(lhs, rhs, sideEffects));
    }
    // `+=` code
  }, {
    key: "add",
    value: function add(lhs, rhs) {
      return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));
    }
    // appends passed SafeExpr to code or executes Block
  }, {
    key: "code",
    value: function code(c) {
      if (typeof c == "function") c();else if (c !== code_1.nil) this._leafNode(new AnyCode(c));
      return this;
    }
    // returns code for object literal for the passed argument list of key-value pairs
  }, {
    key: "object",
    value: function object() {
      var code = ["{"];
      for (var _len = arguments.length, keyValues = new Array(_len), _key = 0; _key < _len; _key++) {
        keyValues[_key] = arguments[_key];
      }
      for (var _i = 0, _keyValues = keyValues; _i < _keyValues.length; _i++) {
        var _keyValues$_i = _slicedToArray(_keyValues[_i], 2),
          key = _keyValues$_i[0],
          value = _keyValues$_i[1];
        if (code.length > 1) code.push(",");
        code.push(key);
        if (key !== value || this.opts.es5) {
          code.push(":");
          (0, code_1.addCodeArg)(code, value);
        }
      }
      code.push("}");
      return new code_1._Code(code);
    }
    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)
  }, {
    key: "if",
    value: function _if(condition, thenBody, elseBody) {
      this._blockNode(new If(condition));
      if (thenBody && elseBody) {
        this.code(thenBody).else().code(elseBody).endIf();
      } else if (thenBody) {
        this.code(thenBody).endIf();
      } else if (elseBody) {
        throw new Error('CodeGen: "else" body without "then" body');
      }
      return this;
    }
    // `else if` clause - invalid without `if` or after `else` clauses
  }, {
    key: "elseIf",
    value: function elseIf(condition) {
      return this._elseNode(new If(condition));
    }
    // `else` clause - only valid after `if` or `else if` clauses
  }, {
    key: "else",
    value: function _else() {
      return this._elseNode(new Else());
    }
    // end `if` statement (needed if gen.if was used only with condition)
  }, {
    key: "endIf",
    value: function endIf() {
      return this._endBlockNode(If, Else);
    }
  }, {
    key: "_for",
    value: function _for(node, forBody) {
      this._blockNode(node);
      if (forBody) this.code(forBody).endFor();
      return this;
    }
    // a generic `for` clause (or statement if `forBody` is passed)
  }, {
    key: "for",
    value: function _for(iteration, forBody) {
      return this._for(new ForLoop(iteration), forBody);
    }
    // `for` statement for a range of values
  }, {
    key: "forRange",
    value: function forRange(nameOrPrefix, from, to, forBody) {
      var varKind = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let;
      var name = this._scope.toName(nameOrPrefix);
      return this._for(new ForRange(varKind, name, from, to), function () {
        return forBody(name);
      });
    }
    // `for-of` statement (in es5 mode replace with a normal for loop)
  }, {
    key: "forOf",
    value: function forOf(nameOrPrefix, iterable, forBody) {
      var _this15 = this;
      var varKind = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : scope_1.varKinds.const;
      var name = this._scope.toName(nameOrPrefix);
      if (this.opts.es5) {
        var arr = iterable instanceof code_1.Name ? iterable : this.var("_arr", iterable);
        return this.forRange("_i", 0, (0, code_1._)(_t || (_t = _`${0}.length`), arr), function (i) {
          _this15.var(name, (0, code_1._)(_t2 || (_t2 = _`${0}[${0}]`), arr, i));
          forBody(name);
        });
      }
      return this._for(new ForIter("of", varKind, name, iterable), function () {
        return forBody(name);
      });
    }
    // `for-in` statement.
    // With option `ownProperties` replaced with a `for-of` loop for object keys
  }, {
    key: "forIn",
    value: function forIn(nameOrPrefix, obj, forBody) {
      var varKind = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const;
      if (this.opts.ownProperties) {
        return this.forOf(nameOrPrefix, (0, code_1._)(_t3 || (_t3 = _`Object.keys(${0})`), obj), forBody);
      }
      var name = this._scope.toName(nameOrPrefix);
      return this._for(new ForIter("in", varKind, name, obj), function () {
        return forBody(name);
      });
    }
    // end `for` loop
  }, {
    key: "endFor",
    value: function endFor() {
      return this._endBlockNode(For);
    }
    // `label` statement
  }, {
    key: "label",
    value: function label(_label) {
      return this._leafNode(new Label(_label));
    }
    // `break` statement
  }, {
    key: "break",
    value: function _break(label) {
      return this._leafNode(new Break(label));
    }
    // `return` statement
  }, {
    key: "return",
    value: function _return(value) {
      var node = new Return();
      this._blockNode(node);
      this.code(value);
      if (node.nodes.length !== 1) throw new Error('CodeGen: "return" should have one node');
      return this._endBlockNode(Return);
    }
    // `try` statement
  }, {
    key: "try",
    value: function _try(tryBody, catchCode, finallyCode) {
      if (!catchCode && !finallyCode) throw new Error('CodeGen: "try" without "catch" and "finally"');
      var node = new Try();
      this._blockNode(node);
      this.code(tryBody);
      if (catchCode) {
        var error = this.name("e");
        this._currNode = node.catch = new Catch(error);
        catchCode(error);
      }
      if (finallyCode) {
        this._currNode = node.finally = new Finally();
        this.code(finallyCode);
      }
      return this._endBlockNode(Catch, Finally);
    }
    // `throw` statement
  }, {
    key: "throw",
    value: function _throw(error) {
      return this._leafNode(new Throw(error));
    }
    // start self-balancing block
  }, {
    key: "block",
    value: function block(body, nodeCount) {
      this._blockStarts.push(this._nodes.length);
      if (body) this.code(body).endBlock(nodeCount);
      return this;
    }
    // end the current self-balancing block
  }, {
    key: "endBlock",
    value: function endBlock(nodeCount) {
      var len = this._blockStarts.pop();
      if (len === undefined) throw new Error("CodeGen: not in self-balancing block");
      var toClose = this._nodes.length - len;
      if (toClose < 0 || nodeCount !== undefined && toClose !== nodeCount) {
        throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);
      }
      this._nodes.length = len;
      return this;
    }
    // `function` heading (or definition if funcBody is passed)
  }, {
    key: "func",
    value: function func(name) {
      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : code_1.nil;
      var async = arguments.length > 2 ? arguments[2] : undefined;
      var funcBody = arguments.length > 3 ? arguments[3] : undefined;
      this._blockNode(new Func(name, args, async));
      if (funcBody) this.code(funcBody).endFunc();
      return this;
    }
    // end function definition
  }, {
    key: "endFunc",
    value: function endFunc() {
      return this._endBlockNode(Func);
    }
  }, {
    key: "optimize",
    value: function optimize() {
      var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      while (n-- > 0) {
        this._root.optimizeNodes();
        this._root.optimizeNames(this._root.names, this._constants);
      }
    }
  }, {
    key: "_leafNode",
    value: function _leafNode(node) {
      this._currNode.nodes.push(node);
      return this;
    }
  }, {
    key: "_blockNode",
    value: function _blockNode(node) {
      this._currNode.nodes.push(node);
      this._nodes.push(node);
    }
  }, {
    key: "_endBlockNode",
    value: function _endBlockNode(N1, N2) {
      var n = this._currNode;
      if (n instanceof N1 || N2 && n instanceof N2) {
        this._nodes.pop();
        return this;
      }
      throw new Error(`CodeGen: not in block "${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}"`);
    }
  }, {
    key: "_elseNode",
    value: function _elseNode(node) {
      var n = this._currNode;
      if (!(n instanceof If)) {
        throw new Error('CodeGen: "else" without "if"');
      }
      this._currNode = n.else = node;
      return this;
    }
  }, {
    key: "_root",
    get: function get() {
      return this._nodes[0];
    }
  }, {
    key: "_currNode",
    get: function get() {
      var ns = this._nodes;
      return ns[ns.length - 1];
    },
    set: function set(node) {
      var ns = this._nodes;
      ns[ns.length - 1] = node;
    }
  }]);
  return CodeGen;
}();
exports.CodeGen = CodeGen;
function addNames(names, from) {
  for (var n in from) names[n] = (names[n] || 0) + (from[n] || 0);
  return names;
}
function addExprNames(names, from) {
  return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;
}
function optimizeExpr(expr, names, constants) {
  if (expr instanceof code_1.Name) return replaceName(expr);
  if (!canOptimize(expr)) return expr;
  return new code_1._Code(expr._items.reduce(function (items, c) {
    if (c instanceof code_1.Name) c = replaceName(c);
    if (c instanceof code_1._Code) items.push.apply(items, _toConsumableArray(c._items));else items.push(c);
    return items;
  }, []));
  function replaceName(n) {
    var c = constants[n.str];
    if (c === undefined || names[n.str] !== 1) return n;
    delete names[n.str];
    return c;
  }
  function canOptimize(e) {
    return e instanceof code_1._Code && e._items.some(function (c) {
      return c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined;
    });
  }
}
function subtractNames(names, from) {
  for (var n in from) names[n] = (names[n] || 0) - (from[n] || 0);
}
function not(x) {
  return typeof x == "boolean" || typeof x == "number" || x === null ? !x : (0, code_1._)(_t4 || (_t4 = _`!${0}`), par(x));
}
exports.not = not;
var andCode = mappend(exports.operators.AND);
// boolean AND (&&) expression with the passed arguments
function and() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }
  return args.reduce(andCode);
}
exports.and = and;
var orCode = mappend(exports.operators.OR);
// boolean OR (||) expression with the passed arguments
function or() {
  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    args[_key3] = arguments[_key3];
  }
  return args.reduce(orCode);
}
exports.or = or;
function mappend(op) {
  return function (x, y) {
    return x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._)(_t5 || (_t5 = _`${0} ${0} ${0}`), par(x), op, par(y));
  };
}
function par(x) {
  return x instanceof code_1.Name ? x : (0, code_1._)(_t6 || (_t6 = _`(${0})`), x);
}

/***/ }),

/***/ 21536:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(30050);
__webpack_require__(76034);
var _objectSpread = (__webpack_require__(91361)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _possibleConstructorReturn = (__webpack_require__(91349)["default"]);
var _isNativeReflectConstruct = (__webpack_require__(25243)["default"]);
var _getPrototypeOf = (__webpack_require__(83387)["default"]);
var _inherits = (__webpack_require__(43497)["default"]);
var _wrapNativeSuper = (__webpack_require__(76554)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5;
__webpack_require__(21057);
__webpack_require__(752);
__webpack_require__(56646);
__webpack_require__(60228);
__webpack_require__(76265);
__webpack_require__(47522);
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;
var code_1 = __webpack_require__(58733);
var ValueError = /*#__PURE__*/function (_Error) {
  _inherits(ValueError, _Error);
  function ValueError(name) {
    var _this;
    _classCallCheck(this, ValueError);
    _this = _callSuper(this, ValueError, [`CodeGen: "code" for ${name} not defined`]);
    _this.value = name.value;
    return _this;
  }
  return _createClass(ValueError);
}( /*#__PURE__*/_wrapNativeSuper(Error));
var UsedValueState;
(function (UsedValueState) {
  UsedValueState[UsedValueState["Started"] = 0] = "Started";
  UsedValueState[UsedValueState["Completed"] = 1] = "Completed";
})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));
exports.varKinds = {
  const: new code_1.Name("const"),
  let: new code_1.Name("let"),
  var: new code_1.Name("var")
};
var Scope = /*#__PURE__*/function () {
  function Scope() {
    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
      prefixes = _ref.prefixes,
      parent = _ref.parent;
    _classCallCheck(this, Scope);
    this._names = {};
    this._prefixes = prefixes;
    this._parent = parent;
  }
  _createClass(Scope, [{
    key: "toName",
    value: function toName(nameOrPrefix) {
      return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);
    }
  }, {
    key: "name",
    value: function name(prefix) {
      return new code_1.Name(this._newName(prefix));
    }
  }, {
    key: "_newName",
    value: function _newName(prefix) {
      var ng = this._names[prefix] || this._nameGroup(prefix);
      return `${prefix}${ng.index++}`;
    }
  }, {
    key: "_nameGroup",
    value: function _nameGroup(prefix) {
      var _a, _b;
      if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || this._prefixes && !this._prefixes.has(prefix)) {
        throw new Error(`CodeGen: prefix "${prefix}" is not allowed in this scope`);
      }
      return this._names[prefix] = {
        prefix,
        index: 0
      };
    }
  }]);
  return Scope;
}();
exports.Scope = Scope;
var ValueScopeName = /*#__PURE__*/function (_code_1$Name) {
  _inherits(ValueScopeName, _code_1$Name);
  function ValueScopeName(prefix, nameStr) {
    var _this2;
    _classCallCheck(this, ValueScopeName);
    _this2 = _callSuper(this, ValueScopeName, [nameStr]);
    _this2.prefix = prefix;
    return _this2;
  }
  _createClass(ValueScopeName, [{
    key: "setValue",
    value: function setValue(value, _ref2) {
      var property = _ref2.property,
        itemIndex = _ref2.itemIndex;
      this.value = value;
      this.scopePath = (0, code_1._)(_t || (_t = _`.${0}[${0}]`), new code_1.Name(property), itemIndex);
    }
  }]);
  return ValueScopeName;
}(code_1.Name);
exports.ValueScopeName = ValueScopeName;
var line = (0, code_1._)(_t2 || (_t2 = _`\n`));
var ValueScope = /*#__PURE__*/function (_Scope) {
  _inherits(ValueScope, _Scope);
  function ValueScope(opts) {
    var _this3;
    _classCallCheck(this, ValueScope);
    _this3 = _callSuper(this, ValueScope, [opts]);
    _this3._values = {};
    _this3._scope = opts.scope;
    _this3.opts = _objectSpread(_objectSpread({}, opts), {}, {
      _n: opts.lines ? line : code_1.nil
    });
    return _this3;
  }
  _createClass(ValueScope, [{
    key: "get",
    value: function get() {
      return this._scope;
    }
  }, {
    key: "name",
    value: function name(prefix) {
      return new ValueScopeName(prefix, this._newName(prefix));
    }
  }, {
    key: "value",
    value: function value(nameOrPrefix, _value) {
      var _a;
      if (_value.ref === undefined) throw new Error("CodeGen: ref must be passed in value");
      var name = this.toName(nameOrPrefix);
      var prefix = name.prefix;
      var valueKey = (_a = _value.key) !== null && _a !== void 0 ? _a : _value.ref;
      var vs = this._values[prefix];
      if (vs) {
        var _name = vs.get(valueKey);
        if (_name) return _name;
      } else {
        vs = this._values[prefix] = new Map();
      }
      vs.set(valueKey, name);
      var s = this._scope[prefix] || (this._scope[prefix] = []);
      var itemIndex = s.length;
      s[itemIndex] = _value.ref;
      name.setValue(_value, {
        property: prefix,
        itemIndex
      });
      return name;
    }
  }, {
    key: "getValue",
    value: function getValue(prefix, keyOrRef) {
      var vs = this._values[prefix];
      if (!vs) return;
      return vs.get(keyOrRef);
    }
  }, {
    key: "scopeRefs",
    value: function scopeRefs(scopeName) {
      var values = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._values;
      return this._reduceValues(values, function (name) {
        if (name.scopePath === undefined) throw new Error(`CodeGen: name "${name}" has no value`);
        return (0, code_1._)(_t3 || (_t3 = _`${0}${0}`), scopeName, name.scopePath);
      });
    }
  }, {
    key: "scopeCode",
    value: function scopeCode() {
      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._values;
      var usedValues = arguments.length > 1 ? arguments[1] : undefined;
      var getCode = arguments.length > 2 ? arguments[2] : undefined;
      return this._reduceValues(values, function (name) {
        if (name.value === undefined) throw new Error(`CodeGen: name "${name}" has no value`);
        return name.value.code;
      }, usedValues, getCode);
    }
  }, {
    key: "_reduceValues",
    value: function _reduceValues(values, valueCode) {
      var _this4 = this;
      var usedValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var getCode = arguments.length > 3 ? arguments[3] : undefined;
      var code = code_1.nil;
      var _loop = function _loop() {
        var vs = values[prefix];
        if (!vs) return 1; // continue
        var nameSet = usedValues[prefix] = usedValues[prefix] || new Map();
        vs.forEach(function (name) {
          if (nameSet.has(name)) return;
          nameSet.set(name, UsedValueState.Started);
          var c = valueCode(name);
          if (c) {
            var def = _this4.opts.es5 ? exports.varKinds.var : exports.varKinds.const;
            code = (0, code_1._)(_t4 || (_t4 = _`${0}${0} ${0} = ${0};${0}`), code, def, name, c, _this4.opts._n);
          } else if (c = getCode === null || getCode === void 0 ? void 0 : getCode(name)) {
            code = (0, code_1._)(_t5 || (_t5 = _`${0}${0}${0}`), code, c, _this4.opts._n);
          } else {
            throw new ValueError(name);
          }
          nameSet.set(name, UsedValueState.Completed);
        });
      };
      for (var prefix in values) {
        if (_loop()) continue;
      }
      return code;
    }
  }]);
  return ValueScope;
}(Scope);
exports.ValueScope = ValueScope;

/***/ }),

/***/ 24691:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12,
  _t13,
  _t14,
  _t15,
  _t16,
  _t17,
  _t18,
  _t19,
  _t20,
  _t21,
  _t22,
  _t23,
  _t24,
  _t25;
__webpack_require__(21057);
__webpack_require__(70560);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var names_1 = __webpack_require__(16512);
exports.keywordError = {
  message: function message(_ref) {
    var keyword = _ref.keyword;
    return (0, codegen_1.str)(_t || (_t = _`must pass "${0}" keyword validation`), keyword);
  }
};
exports.keyword$DataError = {
  message: function message(_ref2) {
    var keyword = _ref2.keyword,
      schemaType = _ref2.schemaType;
    return schemaType ? (0, codegen_1.str)(_t2 || (_t2 = _`"${0}" keyword must be ${0} ($data)`), keyword, schemaType) : (0, codegen_1.str)(_t3 || (_t3 = _`"${0}" keyword is invalid ($data)`), keyword);
  }
};
function reportError(cxt) {
  var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : exports.keywordError;
  var errorPaths = arguments.length > 2 ? arguments[2] : undefined;
  var overrideAllErrors = arguments.length > 3 ? arguments[3] : undefined;
  var it = cxt.it;
  var gen = it.gen,
    compositeRule = it.compositeRule,
    allErrors = it.allErrors;
  var errObj = errorObjectCode(cxt, error, errorPaths);
  if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : compositeRule || allErrors) {
    addError(gen, errObj);
  } else {
    returnErrors(it, (0, codegen_1._)(_t4 || (_t4 = _`[${0}]`), errObj));
  }
}
exports.reportError = reportError;
function reportExtraError(cxt) {
  var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : exports.keywordError;
  var errorPaths = arguments.length > 2 ? arguments[2] : undefined;
  var it = cxt.it;
  var gen = it.gen,
    compositeRule = it.compositeRule,
    allErrors = it.allErrors;
  var errObj = errorObjectCode(cxt, error, errorPaths);
  addError(gen, errObj);
  if (!(compositeRule || allErrors)) {
    returnErrors(it, names_1.default.vErrors);
  }
}
exports.reportExtraError = reportExtraError;
function resetErrorsCount(gen, errsCount) {
  gen.assign(names_1.default.errors, errsCount);
  gen.if((0, codegen_1._)(_t5 || (_t5 = _`${0} !== null`), names_1.default.vErrors), function () {
    return gen.if(errsCount, function () {
      return gen.assign((0, codegen_1._)(_t6 || (_t6 = _`${0}.length`), names_1.default.vErrors), errsCount);
    }, function () {
      return gen.assign(names_1.default.vErrors, null);
    });
  });
}
exports.resetErrorsCount = resetErrorsCount;
function extendErrors(_ref3) {
  var gen = _ref3.gen,
    keyword = _ref3.keyword,
    schemaValue = _ref3.schemaValue,
    data = _ref3.data,
    errsCount = _ref3.errsCount,
    it = _ref3.it;
  /* istanbul ignore if */
  if (errsCount === undefined) throw new Error("ajv implementation error");
  var err = gen.name("err");
  gen.forRange("i", errsCount, names_1.default.errors, function (i) {
    gen.const(err, (0, codegen_1._)(_t7 || (_t7 = _`${0}[${0}]`), names_1.default.vErrors, i));
    gen.if((0, codegen_1._)(_t8 || (_t8 = _`${0}.instancePath === undefined`), err), function () {
      return gen.assign((0, codegen_1._)(_t9 || (_t9 = _`${0}.instancePath`), err), (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath));
    });
    gen.assign((0, codegen_1._)(_t10 || (_t10 = _`${0}.schemaPath`), err), (0, codegen_1.str)(_t11 || (_t11 = _`${0}/${0}`), it.errSchemaPath, keyword));
    if (it.opts.verbose) {
      gen.assign((0, codegen_1._)(_t12 || (_t12 = _`${0}.schema`), err), schemaValue);
      gen.assign((0, codegen_1._)(_t13 || (_t13 = _`${0}.data`), err), data);
    }
  });
}
exports.extendErrors = extendErrors;
function addError(gen, errObj) {
  var err = gen.const("err", errObj);
  gen.if((0, codegen_1._)(_t14 || (_t14 = _`${0} === null`), names_1.default.vErrors), function () {
    return gen.assign(names_1.default.vErrors, (0, codegen_1._)(_t15 || (_t15 = _`[${0}]`), err));
  }, (0, codegen_1._)(_t16 || (_t16 = _`${0}.push(${0})`), names_1.default.vErrors, err));
  gen.code((0, codegen_1._)(_t17 || (_t17 = _`${0}++`), names_1.default.errors));
}
function returnErrors(it, errs) {
  var gen = it.gen,
    validateName = it.validateName,
    schemaEnv = it.schemaEnv;
  if (schemaEnv.$async) {
    gen.throw((0, codegen_1._)(_t18 || (_t18 = _`new ${0}(${0})`), it.ValidationError, errs));
  } else {
    gen.assign((0, codegen_1._)(_t19 || (_t19 = _`${0}.errors`), validateName), errs);
    gen.return(false);
  }
}
var E = {
  keyword: new codegen_1.Name("keyword"),
  schemaPath: new codegen_1.Name("schemaPath"),
  params: new codegen_1.Name("params"),
  propertyName: new codegen_1.Name("propertyName"),
  message: new codegen_1.Name("message"),
  schema: new codegen_1.Name("schema"),
  parentSchema: new codegen_1.Name("parentSchema")
};
function errorObjectCode(cxt, error, errorPaths) {
  var createErrors = cxt.it.createErrors;
  if (createErrors === false) return (0, codegen_1._)(_t20 || (_t20 = _`{}`));
  return errorObject(cxt, error, errorPaths);
}
function errorObject(cxt, error) {
  var errorPaths = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var gen = cxt.gen,
    it = cxt.it;
  var keyValues = [errorInstancePath(it, errorPaths), errorSchemaPath(cxt, errorPaths)];
  extraErrorProps(cxt, error, keyValues);
  return gen.object.apply(gen, keyValues);
}
function errorInstancePath(_ref4, _ref5) {
  var errorPath = _ref4.errorPath;
  var instancePath = _ref5.instancePath;
  var instPath = instancePath ? (0, codegen_1.str)(_t21 || (_t21 = _`${0}${0}`), errorPath, (0, util_1.getErrorPath)(instancePath, util_1.Type.Str)) : errorPath;
  return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];
}
function errorSchemaPath(_ref6, _ref7) {
  var keyword = _ref6.keyword,
    errSchemaPath = _ref6.it.errSchemaPath;
  var schemaPath = _ref7.schemaPath,
    parentSchema = _ref7.parentSchema;
  var schPath = parentSchema ? errSchemaPath : (0, codegen_1.str)(_t22 || (_t22 = _`${0}/${0}`), errSchemaPath, keyword);
  if (schemaPath) {
    schPath = (0, codegen_1.str)(_t23 || (_t23 = _`${0}${0}`), schPath, (0, util_1.getErrorPath)(schemaPath, util_1.Type.Str));
  }
  return [E.schemaPath, schPath];
}
function extraErrorProps(cxt, _ref8, keyValues) {
  var params = _ref8.params,
    message = _ref8.message;
  var keyword = cxt.keyword,
    data = cxt.data,
    schemaValue = cxt.schemaValue,
    it = cxt.it;
  var opts = it.opts,
    propertyName = it.propertyName,
    topSchemaRef = it.topSchemaRef,
    schemaPath = it.schemaPath;
  keyValues.push([E.keyword, keyword], [E.params, typeof params == "function" ? params(cxt) : params || (0, codegen_1._)(_t24 || (_t24 = _`{}`))]);
  if (opts.messages) {
    keyValues.push([E.message, typeof message == "function" ? message(cxt) : message]);
  }
  if (opts.verbose) {
    keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._)(_t25 || (_t25 = _`${0}${0}`), topSchemaRef, schemaPath)], [names_1.default.data, data]);
  }
  if (propertyName) keyValues.push([E.propertyName, propertyName]);
}

/***/ }),

/***/ 60237:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2;
__webpack_require__(752);
__webpack_require__(60228);
__webpack_require__(19649);
__webpack_require__(76265);
__webpack_require__(12826);
__webpack_require__(89730);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;
var codegen_1 = __webpack_require__(22374);
var validation_error_1 = __webpack_require__(70171);
var names_1 = __webpack_require__(16512);
var resolve_1 = __webpack_require__(36632);
var util_1 = __webpack_require__(36348);
var validate_1 = __webpack_require__(5128);
var SchemaEnv = /*#__PURE__*/_createClass(function SchemaEnv(env) {
  _classCallCheck(this, SchemaEnv);
  var _a;
  this.refs = {};
  this.dynamicAnchors = {};
  var schema;
  if (typeof env.schema == "object") schema = env.schema;
  this.schema = env.schema;
  this.schemaId = env.schemaId;
  this.root = env.root || this;
  this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || "$id"]);
  this.schemaPath = env.schemaPath;
  this.localRefs = env.localRefs;
  this.meta = env.meta;
  this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;
  this.refs = {};
});
exports.SchemaEnv = SchemaEnv;
// let codeSize = 0
// let nodeCount = 0
// Compiles schema in SchemaEnv
function compileSchema(sch) {
  // TODO refactor - remove compilations
  var _sch = getCompilingSchema.call(this, sch);
  if (_sch) return _sch;
  var rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails
  var _this$opts$code = this.opts.code,
    es5 = _this$opts$code.es5,
    lines = _this$opts$code.lines;
  var ownProperties = this.opts.ownProperties;
  var gen = new codegen_1.CodeGen(this.scope, {
    es5,
    lines,
    ownProperties
  });
  var _ValidationError;
  if (sch.$async) {
    _ValidationError = gen.scopeValue("Error", {
      ref: validation_error_1.default,
      code: (0, codegen_1._)(_t || (_t = _`require("ajv/dist/runtime/validation_error").default`))
    });
  }
  var validateName = gen.scopeName("validate");
  sch.validateName = validateName;
  var schemaCxt = {
    gen,
    allErrors: this.opts.allErrors,
    data: names_1.default.data,
    parentData: names_1.default.parentData,
    parentDataProperty: names_1.default.parentDataProperty,
    dataNames: [names_1.default.data],
    dataPathArr: [codegen_1.nil],
    dataLevel: 0,
    dataTypes: [],
    definedProperties: new Set(),
    topSchemaRef: gen.scopeValue("schema", this.opts.code.source === true ? {
      ref: sch.schema,
      code: (0, codegen_1.stringify)(sch.schema)
    } : {
      ref: sch.schema
    }),
    validateName,
    ValidationError: _ValidationError,
    schema: sch.schema,
    schemaEnv: sch,
    rootId,
    baseId: sch.baseId || rootId,
    schemaPath: codegen_1.nil,
    errSchemaPath: sch.schemaPath || (this.opts.jtd ? "" : "#"),
    errorPath: (0, codegen_1._)(_t2 || (_t2 = _`""`)),
    opts: this.opts,
    self: this
  };
  var sourceCode;
  try {
    this._compilations.add(sch);
    (0, validate_1.validateFunctionCode)(schemaCxt);
    gen.optimize(this.opts.code.optimize);
    // gen.optimize(1)
    var validateCode = gen.toString();
    sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;
    // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))
    if (this.opts.code.process) sourceCode = this.opts.code.process(sourceCode, sch);
    // console.log("\n\n\n *** \n", sourceCode)
    var makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);
    var validate = makeValidate(this, this.scope.get());
    this.scope.value(validateName, {
      ref: validate
    });
    validate.errors = null;
    validate.schema = sch.schema;
    validate.schemaEnv = sch;
    if (sch.$async) validate.$async = true;
    if (this.opts.code.source === true) {
      validate.source = {
        validateName,
        validateCode,
        scopeValues: gen._values
      };
    }
    if (this.opts.unevaluated) {
      var props = schemaCxt.props,
        items = schemaCxt.items;
      validate.evaluated = {
        props: props instanceof codegen_1.Name ? undefined : props,
        items: items instanceof codegen_1.Name ? undefined : items,
        dynamicProps: props instanceof codegen_1.Name,
        dynamicItems: items instanceof codegen_1.Name
      };
      if (validate.source) validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);
    }
    sch.validate = validate;
    return sch;
  } catch (e) {
    delete sch.validate;
    delete sch.validateName;
    if (sourceCode) this.logger.error("Error compiling schema, function code:", sourceCode);
    // console.log("\n\n\n *** \n", sourceCode, this.opts)
    throw e;
  } finally {
    this._compilations.delete(sch);
  }
}
exports.compileSchema = compileSchema;
function resolveRef(root, baseId, ref) {
  var _a;
  ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);
  var schOrFunc = root.refs[ref];
  if (schOrFunc) return schOrFunc;
  var _sch = resolve.call(this, root, ref);
  if (_sch === undefined) {
    var schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv
    var schemaId = this.opts.schemaId;
    if (schema) _sch = new SchemaEnv({
      schema,
      schemaId,
      root,
      baseId
    });
  }
  if (_sch === undefined) return;
  return root.refs[ref] = inlineOrCompile.call(this, _sch);
}
exports.resolveRef = resolveRef;
function inlineOrCompile(sch) {
  if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs)) return sch.schema;
  return sch.validate ? sch : compileSchema.call(this, sch);
}
// Index of schema compilation in the currently compiled list
function getCompilingSchema(schEnv) {
  var _iterator = _createForOfIteratorHelper(this._compilations),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var sch = _step.value;
      if (sameSchemaEnv(sch, schEnv)) return sch;
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
}
exports.getCompilingSchema = getCompilingSchema;
function sameSchemaEnv(s1, s2) {
  return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;
}
// resolve and compile the references ($ref)
// TODO returns AnySchemaObject (if the schema can be inlined) or validation function
function resolve(root,
// information about the root schema for the current schema
ref // reference to resolve
) {
  var sch;
  while (typeof (sch = this.refs[ref]) == "string") ref = sch;
  return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);
}
// Resolve schema, its root and baseId
function resolveSchema(root,
// root object with properties schema, refs TODO below SchemaEnv is assigned to it
ref // reference to resolve
) {
  var p = this.opts.uriResolver.parse(ref);
  var refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);
  var baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);
  // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests
  if (Object.keys(root.schema).length > 0 && refPath === baseId) {
    return getJsonPointer.call(this, p, root);
  }
  var id = (0, resolve_1.normalizeId)(refPath);
  var schOrRef = this.refs[id] || this.schemas[id];
  if (typeof schOrRef == "string") {
    var sch = resolveSchema.call(this, root, schOrRef);
    if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== "object") return;
    return getJsonPointer.call(this, p, sch);
  }
  if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== "object") return;
  if (!schOrRef.validate) compileSchema.call(this, schOrRef);
  if (id === (0, resolve_1.normalizeId)(ref)) {
    var schema = schOrRef.schema;
    var schemaId = this.opts.schemaId;
    var schId = schema[schemaId];
    if (schId) baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);
    return new SchemaEnv({
      schema,
      schemaId,
      root,
      baseId
    });
  }
  return getJsonPointer.call(this, p, schOrRef);
}
exports.resolveSchema = resolveSchema;
var PREVENT_SCOPE_CHANGE = new Set(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
function getJsonPointer(parsedRef, _ref) {
  var baseId = _ref.baseId,
    schema = _ref.schema,
    root = _ref.root;
  var _a;
  if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== "/") return;
  var _iterator2 = _createForOfIteratorHelper(parsedRef.fragment.slice(1).split("/")),
    _step2;
  try {
    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
      var part = _step2.value;
      if (typeof schema === "boolean") return;
      var partSchema = schema[(0, util_1.unescapeFragment)(part)];
      if (partSchema === undefined) return;
      schema = partSchema;
      // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?
      var schId = typeof schema === "object" && schema[this.opts.schemaId];
      if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {
        baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);
      }
    }
  } catch (err) {
    _iterator2.e(err);
  } finally {
    _iterator2.f();
  }
  var env;
  if (typeof schema != "boolean" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {
    var $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);
    env = resolveSchema.call(this, root, $ref);
  }
  // even though resolution failed we need to return SchemaEnv to throw exception
  // so that compileAsync loads missing schema.
  var schemaId = this.opts.schemaId;
  env = env || new SchemaEnv({
    schema,
    schemaId,
    root,
    baseId
  });
  if (env.schema !== env.root.schema) return env;
  return undefined;
}

/***/ }),

/***/ 16512:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var names = {
  // validation function arguments
  data: new codegen_1.Name("data"),
  // args passed from referencing schema
  valCxt: new codegen_1.Name("valCxt"),
  instancePath: new codegen_1.Name("instancePath"),
  parentData: new codegen_1.Name("parentData"),
  parentDataProperty: new codegen_1.Name("parentDataProperty"),
  rootData: new codegen_1.Name("rootData"),
  dynamicAnchors: new codegen_1.Name("dynamicAnchors"),
  // function scoped variables
  vErrors: new codegen_1.Name("vErrors"),
  errors: new codegen_1.Name("errors"),
  this: new codegen_1.Name("this"),
  // "globals"
  self: new codegen_1.Name("self"),
  scope: new codegen_1.Name("scope"),
  // JTD serialize/parse name for JSON string and position
  json: new codegen_1.Name("json"),
  jsonPos: new codegen_1.Name("jsonPos"),
  jsonLen: new codegen_1.Name("jsonLen"),
  jsonPart: new codegen_1.Name("jsonPart")
};
exports["default"] = names;

/***/ }),

/***/ 94143:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(30050);
__webpack_require__(60228);
__webpack_require__(76034);
var _createClass = (__webpack_require__(88970)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _possibleConstructorReturn = (__webpack_require__(91349)["default"]);
var _isNativeReflectConstruct = (__webpack_require__(25243)["default"]);
var _getPrototypeOf = (__webpack_require__(83387)["default"]);
var _inherits = (__webpack_require__(43497)["default"]);
var _wrapNativeSuper = (__webpack_require__(76554)["default"]);
__webpack_require__(21057);
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var resolve_1 = __webpack_require__(36632);
var MissingRefError = /*#__PURE__*/function (_Error) {
  _inherits(MissingRefError, _Error);
  function MissingRefError(resolver, baseId, ref, msg) {
    var _this;
    _classCallCheck(this, MissingRefError);
    _this = _callSuper(this, MissingRefError, [msg || `can't resolve reference ${ref} from id ${baseId}`]);
    _this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);
    _this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, _this.missingRef));
    return _this;
  }
  return _createClass(MissingRefError);
}( /*#__PURE__*/_wrapNativeSuper(Error));
exports["default"] = MissingRefError;

/***/ }),

/***/ 36632:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(752);
__webpack_require__(60228);
__webpack_require__(19649);
__webpack_require__(76265);
__webpack_require__(64043);
__webpack_require__(57267);
__webpack_require__(7409);
__webpack_require__(21057);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;
var util_1 = __webpack_require__(36348);
var equal = __webpack_require__(61671);
var traverse = __webpack_require__(36324);
// TODO refactor to use keyword definitions
var SIMPLE_INLINED = new Set(["type", "format", "pattern", "maxLength", "minLength", "maxProperties", "minProperties", "maxItems", "minItems", "maximum", "minimum", "uniqueItems", "multipleOf", "required", "enum", "const"]);
function inlineRef(schema) {
  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  if (typeof schema == "boolean") return true;
  if (limit === true) return !hasRef(schema);
  if (!limit) return false;
  return countKeys(schema) <= limit;
}
exports.inlineRef = inlineRef;
var REF_KEYWORDS = new Set(["$ref", "$recursiveRef", "$recursiveAnchor", "$dynamicRef", "$dynamicAnchor"]);
function hasRef(schema) {
  for (var key in schema) {
    if (REF_KEYWORDS.has(key)) return true;
    var sch = schema[key];
    if (Array.isArray(sch) && sch.some(hasRef)) return true;
    if (typeof sch == "object" && hasRef(sch)) return true;
  }
  return false;
}
function countKeys(schema) {
  var count = 0;
  for (var key in schema) {
    if (key === "$ref") return Infinity;
    count++;
    if (SIMPLE_INLINED.has(key)) continue;
    if (typeof schema[key] == "object") {
      (0, util_1.eachItem)(schema[key], function (sch) {
        return count += countKeys(sch);
      });
    }
    if (count === Infinity) return Infinity;
  }
  return count;
}
function getFullPath(resolver) {
  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";
  var normalize = arguments.length > 2 ? arguments[2] : undefined;
  if (normalize !== false) id = normalizeId(id);
  var p = resolver.parse(id);
  return _getFullPath(resolver, p);
}
exports.getFullPath = getFullPath;
function _getFullPath(resolver, p) {
  var serialized = resolver.serialize(p);
  return serialized.split("#")[0] + "#";
}
exports._getFullPath = _getFullPath;
var TRAILING_SLASH_HASH = /#\/?$/;
function normalizeId(id) {
  return id ? id.replace(TRAILING_SLASH_HASH, "") : "";
}
exports.normalizeId = normalizeId;
function resolveUrl(resolver, baseId, id) {
  id = normalizeId(id);
  return resolver.resolve(baseId, id);
}
exports.resolveUrl = resolveUrl;
var ANCHOR = /^[a-z_][-a-z0-9._]*$/i;
function getSchemaRefs(schema, baseId) {
  var _this = this;
  if (typeof schema == "boolean") return {};
  var _this$opts = this.opts,
    schemaId = _this$opts.schemaId,
    uriResolver = _this$opts.uriResolver;
  var schId = normalizeId(schema[schemaId] || baseId);
  var baseIds = {
    "": schId
  };
  var pathPrefix = getFullPath(uriResolver, schId, false);
  var localRefs = {};
  var schemaRefs = new Set();
  traverse(schema, {
    allKeys: true
  }, function (sch, jsonPtr, _, parentJsonPtr) {
    if (parentJsonPtr === undefined) return;
    var fullPath = pathPrefix + jsonPtr;
    var baseId = baseIds[parentJsonPtr];
    if (typeof sch[schemaId] == "string") baseId = addRef.call(_this, sch[schemaId]);
    addAnchor.call(_this, sch.$anchor);
    addAnchor.call(_this, sch.$dynamicAnchor);
    baseIds[jsonPtr] = baseId;
    function addRef(ref) {
      // eslint-disable-next-line @typescript-eslint/unbound-method
      var _resolve = this.opts.uriResolver.resolve;
      ref = normalizeId(baseId ? _resolve(baseId, ref) : ref);
      if (schemaRefs.has(ref)) throw ambiguos(ref);
      schemaRefs.add(ref);
      var schOrRef = this.refs[ref];
      if (typeof schOrRef == "string") schOrRef = this.refs[schOrRef];
      if (typeof schOrRef == "object") {
        checkAmbiguosRef(sch, schOrRef.schema, ref);
      } else if (ref !== normalizeId(fullPath)) {
        if (ref[0] === "#") {
          checkAmbiguosRef(sch, localRefs[ref], ref);
          localRefs[ref] = sch;
        } else {
          this.refs[ref] = fullPath;
        }
      }
      return ref;
    }
    function addAnchor(anchor) {
      if (typeof anchor == "string") {
        if (!ANCHOR.test(anchor)) throw new Error(`invalid anchor "${anchor}"`);
        addRef.call(this, `#${anchor}`);
      }
    }
  });
  return localRefs;
  function checkAmbiguosRef(sch1, sch2, ref) {
    if (sch2 !== undefined && !equal(sch1, sch2)) throw ambiguos(ref);
  }
  function ambiguos(ref) {
    return new Error(`reference "${ref}" resolves to more than one schema`);
  }
}
exports.getSchemaRefs = getSchemaRefs;

/***/ }),

/***/ 85831:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _objectSpread = (__webpack_require__(91361)["default"]);
__webpack_require__(752);
__webpack_require__(60228);
__webpack_require__(19649);
__webpack_require__(76265);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.getRules = exports.isJSONType = void 0;
var _jsonTypes = ["string", "number", "integer", "boolean", "null", "object", "array"];
var jsonTypes = new Set(_jsonTypes);
function isJSONType(x) {
  return typeof x == "string" && jsonTypes.has(x);
}
exports.isJSONType = isJSONType;
function getRules() {
  var groups = {
    number: {
      type: "number",
      rules: []
    },
    string: {
      type: "string",
      rules: []
    },
    array: {
      type: "array",
      rules: []
    },
    object: {
      type: "object",
      rules: []
    }
  };
  return {
    types: _objectSpread(_objectSpread({}, groups), {}, {
      integer: true,
      boolean: true,
      null: true
    }),
    rules: [{
      rules: []
    }, groups.number, groups.string, groups.array, groups.object],
    post: {
      rules: []
    },
    all: {},
    keywords: {}
  };
}
exports.getRules = getRules;

/***/ }),

/***/ 36348:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _objectSpread = (__webpack_require__(91361)["default"]);
var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12,
  _t13,
  _t14,
  _t15,
  _t16,
  _t17,
  _t18;
__webpack_require__(64043);
__webpack_require__(57267);
__webpack_require__(60228);
__webpack_require__(47522);
__webpack_require__(12826);
__webpack_require__(21057);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;
var codegen_1 = __webpack_require__(22374);
var code_1 = __webpack_require__(58733);
// TODO refactor to use Set
function toHash(arr) {
  var hash = {};
  var _iterator = _createForOfIteratorHelper(arr),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var item = _step.value;
      hash[item] = true;
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  return hash;
}
exports.toHash = toHash;
function alwaysValidSchema(it, schema) {
  if (typeof schema == "boolean") return schema;
  if (Object.keys(schema).length === 0) return true;
  checkUnknownRules(it, schema);
  return !schemaHasRules(schema, it.self.RULES.all);
}
exports.alwaysValidSchema = alwaysValidSchema;
function checkUnknownRules(it) {
  var schema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : it.schema;
  var opts = it.opts,
    self = it.self;
  if (!opts.strictSchema) return;
  if (typeof schema === "boolean") return;
  var rules = self.RULES.keywords;
  for (var key in schema) {
    if (!rules[key]) checkStrictMode(it, `unknown keyword: "${key}"`);
  }
}
exports.checkUnknownRules = checkUnknownRules;
function schemaHasRules(schema, rules) {
  if (typeof schema == "boolean") return !schema;
  for (var key in schema) if (rules[key]) return true;
  return false;
}
exports.schemaHasRules = schemaHasRules;
function schemaHasRulesButRef(schema, RULES) {
  if (typeof schema == "boolean") return !schema;
  for (var key in schema) if (key !== "$ref" && RULES.all[key]) return true;
  return false;
}
exports.schemaHasRulesButRef = schemaHasRulesButRef;
function schemaRefOrVal(_ref, schema, keyword, $data) {
  var topSchemaRef = _ref.topSchemaRef,
    schemaPath = _ref.schemaPath;
  if (!$data) {
    if (typeof schema == "number" || typeof schema == "boolean") return schema;
    if (typeof schema == "string") return (0, codegen_1._)(_t || (_t = _`${0}`), schema);
  }
  return (0, codegen_1._)(_t2 || (_t2 = _`${0}${0}${0}`), topSchemaRef, schemaPath, (0, codegen_1.getProperty)(keyword));
}
exports.schemaRefOrVal = schemaRefOrVal;
function unescapeFragment(str) {
  return unescapeJsonPointer(decodeURIComponent(str));
}
exports.unescapeFragment = unescapeFragment;
function escapeFragment(str) {
  return encodeURIComponent(escapeJsonPointer(str));
}
exports.escapeFragment = escapeFragment;
function escapeJsonPointer(str) {
  if (typeof str == "number") return `${str}`;
  return str.replace(/~/g, "~0").replace(/\//g, "~1");
}
exports.escapeJsonPointer = escapeJsonPointer;
function unescapeJsonPointer(str) {
  return str.replace(/~1/g, "/").replace(/~0/g, "~");
}
exports.unescapeJsonPointer = unescapeJsonPointer;
function eachItem(xs, f) {
  if (Array.isArray(xs)) {
    var _iterator2 = _createForOfIteratorHelper(xs),
      _step2;
    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var x = _step2.value;
        f(x);
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
  } else {
    f(xs);
  }
}
exports.eachItem = eachItem;
function makeMergeEvaluated(_ref2) {
  var mergeNames = _ref2.mergeNames,
    mergeToName = _ref2.mergeToName,
    mergeValues = _ref2.mergeValues,
    resultToName = _ref2.resultToName;
  return function (gen, from, to, toName) {
    var res = to === undefined ? from : to instanceof codegen_1.Name ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to) : from instanceof codegen_1.Name ? (mergeToName(gen, to, from), from) : mergeValues(from, to);
    return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;
  };
}
exports.mergeEvaluated = {
  props: makeMergeEvaluated({
    mergeNames: function mergeNames(gen, from, to) {
      return gen.if((0, codegen_1._)(_t3 || (_t3 = _`${0} !== true && ${0} !== undefined`), to, from), function () {
        gen.if((0, codegen_1._)(_t4 || (_t4 = _`${0} === true`), from), function () {
          return gen.assign(to, true);
        }, function () {
          return gen.assign(to, (0, codegen_1._)(_t5 || (_t5 = _`${0} || {}`), to)).code((0, codegen_1._)(_t6 || (_t6 = _`Object.assign(${0}, ${0})`), to, from));
        });
      });
    },
    mergeToName: function mergeToName(gen, from, to) {
      return gen.if((0, codegen_1._)(_t7 || (_t7 = _`${0} !== true`), to), function () {
        if (from === true) {
          gen.assign(to, true);
        } else {
          gen.assign(to, (0, codegen_1._)(_t8 || (_t8 = _`${0} || {}`), to));
          setEvaluated(gen, to, from);
        }
      });
    },
    mergeValues: function mergeValues(from, to) {
      return from === true ? true : _objectSpread(_objectSpread({}, from), to);
    },
    resultToName: evaluatedPropsToName
  }),
  items: makeMergeEvaluated({
    mergeNames: function mergeNames(gen, from, to) {
      return gen.if((0, codegen_1._)(_t9 || (_t9 = _`${0} !== true && ${0} !== undefined`), to, from), function () {
        return gen.assign(to, (0, codegen_1._)(_t10 || (_t10 = _`${0} === true ? true : ${0} > ${0} ? ${0} : ${0}`), from, to, from, to, from));
      });
    },
    mergeToName: function mergeToName(gen, from, to) {
      return gen.if((0, codegen_1._)(_t11 || (_t11 = _`${0} !== true`), to), function () {
        return gen.assign(to, from === true ? true : (0, codegen_1._)(_t12 || (_t12 = _`${0} > ${0} ? ${0} : ${0}`), to, from, to, from));
      });
    },
    mergeValues: function mergeValues(from, to) {
      return from === true ? true : Math.max(from, to);
    },
    resultToName: function resultToName(gen, items) {
      return gen.var("items", items);
    }
  })
};
function evaluatedPropsToName(gen, ps) {
  if (ps === true) return gen.var("props", true);
  var props = gen.var("props", (0, codegen_1._)(_t13 || (_t13 = _`{}`)));
  if (ps !== undefined) setEvaluated(gen, props, ps);
  return props;
}
exports.evaluatedPropsToName = evaluatedPropsToName;
function setEvaluated(gen, props, ps) {
  Object.keys(ps).forEach(function (p) {
    return gen.assign((0, codegen_1._)(_t14 || (_t14 = _`${0}${0}`), props, (0, codegen_1.getProperty)(p)), true);
  });
}
exports.setEvaluated = setEvaluated;
var snippets = {};
function useFunc(gen, f) {
  return gen.scopeValue("func", {
    ref: f,
    code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code))
  });
}
exports.useFunc = useFunc;
var Type;
(function (Type) {
  Type[Type["Num"] = 0] = "Num";
  Type[Type["Str"] = 1] = "Str";
})(Type = exports.Type || (exports.Type = {}));
function getErrorPath(dataProp, dataPropType, jsPropertySyntax) {
  // let path
  if (dataProp instanceof codegen_1.Name) {
    var isNumber = dataPropType === Type.Num;
    return jsPropertySyntax ? isNumber ? (0, codegen_1._)(_t15 || (_t15 = _`"[" + ${0} + "]"`), dataProp) : (0, codegen_1._)(_t16 || (_t16 = _`"['" + ${0} + "']"`), dataProp) : isNumber ? (0, codegen_1._)(_t17 || (_t17 = _`"/" + ${0}`), dataProp) : (0, codegen_1._)(_t18 || (_t18 = _`"/" + ${0}.replace(/~/g, "~0").replace(/\\//g, "~1")`), dataProp); // TODO maybe use global escapePointer
  }
  return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : "/" + escapeJsonPointer(dataProp);
}
exports.getErrorPath = getErrorPath;
function checkStrictMode(it, msg) {
  var mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : it.opts.strictSchema;
  if (!mode) return;
  msg = `strict mode: ${msg}`;
  if (mode === true) throw new Error(msg);
  it.self.logger.warn(msg);
}
exports.checkStrictMode = checkStrictMode;

/***/ }),

/***/ 73424:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(60228);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;
function schemaHasRulesForType(_ref, type) {
  var schema = _ref.schema,
    self = _ref.self;
  var group = self.RULES.types[type];
  return group && group !== true && shouldUseGroup(schema, group);
}
exports.schemaHasRulesForType = schemaHasRulesForType;
function shouldUseGroup(schema, group) {
  return group.rules.some(function (rule) {
    return shouldUseRule(schema, rule);
  });
}
exports.shouldUseGroup = shouldUseGroup;
function shouldUseRule(schema, rule) {
  var _a;
  return schema[rule.keyword] !== undefined || ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some(function (kwd) {
    return schema[kwd] !== undefined;
  }));
}
exports.shouldUseRule = shouldUseRule;

/***/ }),

/***/ 29401:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;
var errors_1 = __webpack_require__(24691);
var codegen_1 = __webpack_require__(22374);
var names_1 = __webpack_require__(16512);
var boolError = {
  message: "boolean schema is false"
};
function topBoolOrEmptySchema(it) {
  var gen = it.gen,
    schema = it.schema,
    validateName = it.validateName;
  if (schema === false) {
    falseSchemaError(it, false);
  } else if (typeof schema == "object" && schema.$async === true) {
    gen.return(names_1.default.data);
  } else {
    gen.assign((0, codegen_1._)(_t || (_t = _`${0}.errors`), validateName), null);
    gen.return(true);
  }
}
exports.topBoolOrEmptySchema = topBoolOrEmptySchema;
function boolOrEmptySchema(it, valid) {
  var gen = it.gen,
    schema = it.schema;
  if (schema === false) {
    gen.var(valid, false); // TODO var
    falseSchemaError(it);
  } else {
    gen.var(valid, true); // TODO var
  }
}
exports.boolOrEmptySchema = boolOrEmptySchema;
function falseSchemaError(it, overrideAllErrors) {
  var gen = it.gen,
    data = it.data;
  // TODO maybe some other interface should be used for non-keyword validation errors...
  var cxt = {
    gen,
    keyword: "false schema",
    data,
    schema: false,
    schemaCode: false,
    schemaValue: false,
    params: {},
    it
  };
  (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);
}

/***/ }),

/***/ 26647:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12,
  _t13,
  _t14,
  _t15,
  _t16,
  _t17,
  _t18,
  _t19,
  _t20,
  _t21,
  _t22,
  _t23,
  _t24,
  _t25,
  _t26,
  _t27,
  _t28,
  _t29,
  _t30,
  _t31,
  _t32,
  _t33;
__webpack_require__(76801);
__webpack_require__(43843);
__webpack_require__(21057);
__webpack_require__(70560);
__webpack_require__(60228);
__webpack_require__(752);
__webpack_require__(19649);
__webpack_require__(76265);
__webpack_require__(38077);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;
var rules_1 = __webpack_require__(85831);
var applicability_1 = __webpack_require__(73424);
var errors_1 = __webpack_require__(24691);
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var DataType;
(function (DataType) {
  DataType[DataType["Correct"] = 0] = "Correct";
  DataType[DataType["Wrong"] = 1] = "Wrong";
})(DataType = exports.DataType || (exports.DataType = {}));
function getSchemaTypes(schema) {
  var types = getJSONTypes(schema.type);
  var hasNull = types.includes("null");
  if (hasNull) {
    if (schema.nullable === false) throw new Error("type: null contradicts nullable: false");
  } else {
    if (!types.length && schema.nullable !== undefined) {
      throw new Error('"nullable" cannot be used without "type"');
    }
    if (schema.nullable === true) types.push("null");
  }
  return types;
}
exports.getSchemaTypes = getSchemaTypes;
function getJSONTypes(ts) {
  var types = Array.isArray(ts) ? ts : ts ? [ts] : [];
  if (types.every(rules_1.isJSONType)) return types;
  throw new Error("type must be JSONType or JSONType[]: " + types.join(","));
}
exports.getJSONTypes = getJSONTypes;
function coerceAndCheckDataType(it, types) {
  var gen = it.gen,
    data = it.data,
    opts = it.opts;
  var coerceTo = coerceToTypes(types, opts.coerceTypes);
  var checkTypes = types.length > 0 && !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));
  if (checkTypes) {
    var wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);
    gen.if(wrongType, function () {
      if (coerceTo.length) coerceData(it, types, coerceTo);else reportTypeError(it);
    });
  }
  return checkTypes;
}
exports.coerceAndCheckDataType = coerceAndCheckDataType;
var COERCIBLE = new Set(["string", "number", "integer", "boolean", "null"]);
function coerceToTypes(types, coerceTypes) {
  return coerceTypes ? types.filter(function (t) {
    return COERCIBLE.has(t) || coerceTypes === "array" && t === "array";
  }) : [];
}
function coerceData(it, types, coerceTo) {
  var gen = it.gen,
    data = it.data,
    opts = it.opts;
  var dataType = gen.let("dataType", (0, codegen_1._)(_t || (_t = _`typeof ${0}`), data));
  var coerced = gen.let("coerced", (0, codegen_1._)(_t2 || (_t2 = _`undefined`)));
  if (opts.coerceTypes === "array") {
    gen.if((0, codegen_1._)(_t3 || (_t3 = _`${0} == 'object' && Array.isArray(${0}) && ${0}.length == 1`), dataType, data, data), function () {
      return gen.assign(data, (0, codegen_1._)(_t4 || (_t4 = _`${0}[0]`), data)).assign(dataType, (0, codegen_1._)(_t5 || (_t5 = _`typeof ${0}`), data)).if(checkDataTypes(types, data, opts.strictNumbers), function () {
        return gen.assign(coerced, data);
      });
    });
  }
  gen.if((0, codegen_1._)(_t6 || (_t6 = _`${0} !== undefined`), coerced));
  var _iterator = _createForOfIteratorHelper(coerceTo),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var t = _step.value;
      if (COERCIBLE.has(t) || t === "array" && opts.coerceTypes === "array") {
        coerceSpecificType(t);
      }
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  gen.else();
  reportTypeError(it);
  gen.endIf();
  gen.if((0, codegen_1._)(_t7 || (_t7 = _`${0} !== undefined`), coerced), function () {
    gen.assign(data, coerced);
    assignParentData(it, coerced);
  });
  function coerceSpecificType(t) {
    switch (t) {
      case "string":
        gen.elseIf((0, codegen_1._)(_t8 || (_t8 = _`${0} == "number" || ${0} == "boolean"`), dataType, dataType)).assign(coerced, (0, codegen_1._)(_t9 || (_t9 = _`"" + ${0}`), data)).elseIf((0, codegen_1._)(_t10 || (_t10 = _`${0} === null`), data)).assign(coerced, (0, codegen_1._)(_t11 || (_t11 = _`""`)));
        return;
      case "number":
        gen.elseIf((0, codegen_1._)(_t12 || (_t12 = _`${0} == "boolean" || ${0} === null
              || (${0} == "string" && ${0} && ${0} == +${0})`), dataType, data, dataType, data, data, data)).assign(coerced, (0, codegen_1._)(_t13 || (_t13 = _`+${0}`), data));
        return;
      case "integer":
        gen.elseIf((0, codegen_1._)(_t14 || (_t14 = _`${0} === "boolean" || ${0} === null
              || (${0} === "string" && ${0} && ${0} == +${0} && !(${0} % 1))`), dataType, data, dataType, data, data, data, data)).assign(coerced, (0, codegen_1._)(_t15 || (_t15 = _`+${0}`), data));
        return;
      case "boolean":
        gen.elseIf((0, codegen_1._)(_t16 || (_t16 = _`${0} === "false" || ${0} === 0 || ${0} === null`), data, data, data)).assign(coerced, false).elseIf((0, codegen_1._)(_t17 || (_t17 = _`${0} === "true" || ${0} === 1`), data, data)).assign(coerced, true);
        return;
      case "null":
        gen.elseIf((0, codegen_1._)(_t18 || (_t18 = _`${0} === "" || ${0} === 0 || ${0} === false`), data, data, data));
        gen.assign(coerced, null);
        return;
      case "array":
        gen.elseIf((0, codegen_1._)(_t19 || (_t19 = _`${0} === "string" || ${0} === "number"
              || ${0} === "boolean" || ${0} === null`), dataType, dataType, dataType, data)).assign(coerced, (0, codegen_1._)(_t20 || (_t20 = _`[${0}]`), data));
    }
  }
}
function assignParentData(_ref, expr) {
  var gen = _ref.gen,
    parentData = _ref.parentData,
    parentDataProperty = _ref.parentDataProperty;
  // TODO use gen.property
  gen.if((0, codegen_1._)(_t21 || (_t21 = _`${0} !== undefined`), parentData), function () {
    return gen.assign((0, codegen_1._)(_t22 || (_t22 = _`${0}[${0}]`), parentData, parentDataProperty), expr);
  });
}
function checkDataType(dataType, data, strictNums) {
  var correct = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DataType.Correct;
  var EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;
  var cond;
  switch (dataType) {
    case "null":
      return (0, codegen_1._)(_t23 || (_t23 = _`${0} ${0} null`), data, EQ);
    case "array":
      cond = (0, codegen_1._)(_t24 || (_t24 = _`Array.isArray(${0})`), data);
      break;
    case "object":
      cond = (0, codegen_1._)(_t25 || (_t25 = _`${0} && typeof ${0} == "object" && !Array.isArray(${0})`), data, data, data);
      break;
    case "integer":
      cond = numCond((0, codegen_1._)(_t26 || (_t26 = _`!(${0} % 1) && !isNaN(${0})`), data, data));
      break;
    case "number":
      cond = numCond();
      break;
    default:
      return (0, codegen_1._)(_t27 || (_t27 = _`typeof ${0} ${0} ${0}`), data, EQ, dataType);
  }
  return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);
  function numCond() {
    var _cond = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : codegen_1.nil;
    return (0, codegen_1.and)((0, codegen_1._)(_t28 || (_t28 = _`typeof ${0} == "number"`), data), _cond, strictNums ? (0, codegen_1._)(_t29 || (_t29 = _`isFinite(${0})`), data) : codegen_1.nil);
  }
}
exports.checkDataType = checkDataType;
function checkDataTypes(dataTypes, data, strictNums, correct) {
  if (dataTypes.length === 1) {
    return checkDataType(dataTypes[0], data, strictNums, correct);
  }
  var cond;
  var types = (0, util_1.toHash)(dataTypes);
  if (types.array && types.object) {
    var notObj = (0, codegen_1._)(_t30 || (_t30 = _`typeof ${0} != "object"`), data);
    cond = types.null ? notObj : (0, codegen_1._)(_t31 || (_t31 = _`!${0} || ${0}`), data, notObj);
    delete types.null;
    delete types.array;
    delete types.object;
  } else {
    cond = codegen_1.nil;
  }
  if (types.number) delete types.integer;
  for (var t in types) cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));
  return cond;
}
exports.checkDataTypes = checkDataTypes;
var typeError = {
  message: function message(_ref2) {
    var schema = _ref2.schema;
    return `must be ${schema}`;
  },
  params: function params(_ref3) {
    var schema = _ref3.schema,
      schemaValue = _ref3.schemaValue;
    return typeof schema == "string" ? (0, codegen_1._)(_t32 || (_t32 = _`{type: ${0}}`), schema) : (0, codegen_1._)(_t33 || (_t33 = _`{type: ${0}}`), schemaValue);
  }
};
function reportTypeError(it) {
  var cxt = getTypeErrorContext(it);
  (0, errors_1.reportError)(cxt, typeError);
}
exports.reportTypeError = reportTypeError;
function getTypeErrorContext(it) {
  var gen = it.gen,
    data = it.data,
    schema = it.schema;
  var schemaCode = (0, util_1.schemaRefOrVal)(it, schema, "type");
  return {
    gen,
    keyword: "type",
    data,
    schema: schema.type,
    schemaCode,
    schemaValue: schemaCode,
    parentSchema: schema,
    params: {},
    it
  };
}

/***/ }),

/***/ 96982:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4;
__webpack_require__(60228);
__webpack_require__(47522);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.assignDefaults = void 0;
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
function assignDefaults(it, ty) {
  var _it$schema = it.schema,
    properties = _it$schema.properties,
    items = _it$schema.items;
  if (ty === "object" && properties) {
    for (var key in properties) {
      assignDefault(it, key, properties[key].default);
    }
  } else if (ty === "array" && Array.isArray(items)) {
    items.forEach(function (sch, i) {
      return assignDefault(it, i, sch.default);
    });
  }
}
exports.assignDefaults = assignDefaults;
function assignDefault(it, prop, defaultValue) {
  var gen = it.gen,
    compositeRule = it.compositeRule,
    data = it.data,
    opts = it.opts;
  if (defaultValue === undefined) return;
  var childData = (0, codegen_1._)(_t || (_t = _`${0}${0}`), data, (0, codegen_1.getProperty)(prop));
  if (compositeRule) {
    (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);
    return;
  }
  var condition = (0, codegen_1._)(_t2 || (_t2 = _`${0} === undefined`), childData);
  if (opts.useDefaults === "empty") {
    condition = (0, codegen_1._)(_t3 || (_t3 = _`${0} || ${0} === null || ${0} === ""`), condition, childData, childData);
  }
  // `${childData} === undefined` +
  // (opts.useDefaults === "empty" ? ` || ${childData} === null || ${childData} === ""` : "")
  gen.if(condition, (0, codegen_1._)(_t4 || (_t4 = _`${0} = ${0}`), childData, (0, codegen_1.stringify)(defaultValue)));
}

/***/ }),

/***/ 5128:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _objectSpread = (__webpack_require__(91361)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12,
  _t13,
  _t14,
  _t15,
  _t16,
  _t17,
  _t18,
  _t19,
  _t20,
  _t21,
  _t22,
  _t23,
  _t24,
  _t25,
  _t26,
  _t27,
  _t28,
  _t29,
  _t30,
  _t31,
  _t32,
  _t33,
  _t34,
  _t35,
  _t36,
  _t37,
  _t38,
  _t39;
__webpack_require__(21057);
__webpack_require__(60228);
__webpack_require__(47522);
__webpack_require__(76801);
__webpack_require__(43843);
__webpack_require__(70560);
__webpack_require__(48324);
__webpack_require__(64043);
__webpack_require__(7409);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;
var boolSchema_1 = __webpack_require__(29401);
var dataType_1 = __webpack_require__(26647);
var applicability_1 = __webpack_require__(73424);
var dataType_2 = __webpack_require__(26647);
var defaults_1 = __webpack_require__(96982);
var keyword_1 = __webpack_require__(85058);
var subschema_1 = __webpack_require__(55827);
var codegen_1 = __webpack_require__(22374);
var names_1 = __webpack_require__(16512);
var resolve_1 = __webpack_require__(36632);
var util_1 = __webpack_require__(36348);
var errors_1 = __webpack_require__(24691);
// schema compilation - generates validation function, subschemaCode (below) is used for subschemas
function validateFunctionCode(it) {
  if (isSchemaObj(it)) {
    checkKeywords(it);
    if (schemaCxtHasRules(it)) {
      topSchemaObjCode(it);
      return;
    }
  }
  validateFunction(it, function () {
    return (0, boolSchema_1.topBoolOrEmptySchema)(it);
  });
}
exports.validateFunctionCode = validateFunctionCode;
function validateFunction(_ref, body) {
  var gen = _ref.gen,
    validateName = _ref.validateName,
    schema = _ref.schema,
    schemaEnv = _ref.schemaEnv,
    opts = _ref.opts;
  if (opts.code.es5) {
    gen.func(validateName, (0, codegen_1._)(_t || (_t = _`${0}, ${0}`), names_1.default.data, names_1.default.valCxt), schemaEnv.$async, function () {
      gen.code((0, codegen_1._)(_t2 || (_t2 = _`"use strict"; ${0}`), funcSourceUrl(schema, opts)));
      destructureValCxtES5(gen, opts);
      gen.code(body);
    });
  } else {
    gen.func(validateName, (0, codegen_1._)(_t3 || (_t3 = _`${0}, ${0}`), names_1.default.data, destructureValCxt(opts)), schemaEnv.$async, function () {
      return gen.code(funcSourceUrl(schema, opts)).code(body);
    });
  }
}
function destructureValCxt(opts) {
  return (0, codegen_1._)(_t4 || (_t4 = _`{${0}="", ${0}, ${0}, ${0}=${0}${0}}={}`), names_1.default.instancePath, names_1.default.parentData, names_1.default.parentDataProperty, names_1.default.rootData, names_1.default.data, opts.dynamicRef ? (0, codegen_1._)(_t5 || (_t5 = _`, ${0}={}`), names_1.default.dynamicAnchors) : codegen_1.nil);
}
function destructureValCxtES5(gen, opts) {
  gen.if(names_1.default.valCxt, function () {
    gen.var(names_1.default.instancePath, (0, codegen_1._)(_t6 || (_t6 = _`${0}.${0}`), names_1.default.valCxt, names_1.default.instancePath));
    gen.var(names_1.default.parentData, (0, codegen_1._)(_t7 || (_t7 = _`${0}.${0}`), names_1.default.valCxt, names_1.default.parentData));
    gen.var(names_1.default.parentDataProperty, (0, codegen_1._)(_t8 || (_t8 = _`${0}.${0}`), names_1.default.valCxt, names_1.default.parentDataProperty));
    gen.var(names_1.default.rootData, (0, codegen_1._)(_t9 || (_t9 = _`${0}.${0}`), names_1.default.valCxt, names_1.default.rootData));
    if (opts.dynamicRef) gen.var(names_1.default.dynamicAnchors, (0, codegen_1._)(_t10 || (_t10 = _`${0}.${0}`), names_1.default.valCxt, names_1.default.dynamicAnchors));
  }, function () {
    gen.var(names_1.default.instancePath, (0, codegen_1._)(_t11 || (_t11 = _`""`)));
    gen.var(names_1.default.parentData, (0, codegen_1._)(_t12 || (_t12 = _`undefined`)));
    gen.var(names_1.default.parentDataProperty, (0, codegen_1._)(_t13 || (_t13 = _`undefined`)));
    gen.var(names_1.default.rootData, names_1.default.data);
    if (opts.dynamicRef) gen.var(names_1.default.dynamicAnchors, (0, codegen_1._)(_t14 || (_t14 = _`{}`)));
  });
}
function topSchemaObjCode(it) {
  var schema = it.schema,
    opts = it.opts,
    gen = it.gen;
  validateFunction(it, function () {
    if (opts.$comment && schema.$comment) commentKeyword(it);
    checkNoDefault(it);
    gen.let(names_1.default.vErrors, null);
    gen.let(names_1.default.errors, 0);
    if (opts.unevaluated) resetEvaluated(it);
    typeAndKeywords(it);
    returnResults(it);
  });
  return;
}
function resetEvaluated(it) {
  // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated
  var gen = it.gen,
    validateName = it.validateName;
  it.evaluated = gen.const("evaluated", (0, codegen_1._)(_t15 || (_t15 = _`${0}.evaluated`), validateName));
  gen.if((0, codegen_1._)(_t16 || (_t16 = _`${0}.dynamicProps`), it.evaluated), function () {
    return gen.assign((0, codegen_1._)(_t17 || (_t17 = _`${0}.props`), it.evaluated), (0, codegen_1._)(_t18 || (_t18 = _`undefined`)));
  });
  gen.if((0, codegen_1._)(_t19 || (_t19 = _`${0}.dynamicItems`), it.evaluated), function () {
    return gen.assign((0, codegen_1._)(_t20 || (_t20 = _`${0}.items`), it.evaluated), (0, codegen_1._)(_t21 || (_t21 = _`undefined`)));
  });
}
function funcSourceUrl(schema, opts) {
  var schId = typeof schema == "object" && schema[opts.schemaId];
  return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._)(_t22 || (_t22 = _`/*# sourceURL=${0} */`), schId) : codegen_1.nil;
}
// schema compilation - this function is used recursively to generate code for sub-schemas
function subschemaCode(it, valid) {
  if (isSchemaObj(it)) {
    checkKeywords(it);
    if (schemaCxtHasRules(it)) {
      subSchemaObjCode(it, valid);
      return;
    }
  }
  (0, boolSchema_1.boolOrEmptySchema)(it, valid);
}
function schemaCxtHasRules(_ref2) {
  var schema = _ref2.schema,
    self = _ref2.self;
  if (typeof schema == "boolean") return !schema;
  for (var key in schema) if (self.RULES.all[key]) return true;
  return false;
}
function isSchemaObj(it) {
  return typeof it.schema != "boolean";
}
function subSchemaObjCode(it, valid) {
  var schema = it.schema,
    gen = it.gen,
    opts = it.opts;
  if (opts.$comment && schema.$comment) commentKeyword(it);
  updateContext(it);
  checkAsyncSchema(it);
  var errsCount = gen.const("_errs", names_1.default.errors);
  typeAndKeywords(it, errsCount);
  // TODO var
  gen.var(valid, (0, codegen_1._)(_t23 || (_t23 = _`${0} === ${0}`), errsCount, names_1.default.errors));
}
function checkKeywords(it) {
  (0, util_1.checkUnknownRules)(it);
  checkRefsAndKeywords(it);
}
function typeAndKeywords(it, errsCount) {
  if (it.opts.jtd) return schemaKeywords(it, [], false, errsCount);
  var types = (0, dataType_1.getSchemaTypes)(it.schema);
  var checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);
  schemaKeywords(it, types, !checkedTypes, errsCount);
}
function checkRefsAndKeywords(it) {
  var schema = it.schema,
    errSchemaPath = it.errSchemaPath,
    opts = it.opts,
    self = it.self;
  if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {
    self.logger.warn(`$ref: keywords ignored in schema at path "${errSchemaPath}"`);
  }
}
function checkNoDefault(it) {
  var schema = it.schema,
    opts = it.opts;
  if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {
    (0, util_1.checkStrictMode)(it, "default is ignored in the schema root");
  }
}
function updateContext(it) {
  var schId = it.schema[it.opts.schemaId];
  if (schId) it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);
}
function checkAsyncSchema(it) {
  if (it.schema.$async && !it.schemaEnv.$async) throw new Error("async schema in sync schema");
}
function commentKeyword(_ref3) {
  var gen = _ref3.gen,
    schemaEnv = _ref3.schemaEnv,
    schema = _ref3.schema,
    errSchemaPath = _ref3.errSchemaPath,
    opts = _ref3.opts;
  var msg = schema.$comment;
  if (opts.$comment === true) {
    gen.code((0, codegen_1._)(_t24 || (_t24 = _`${0}.logger.log(${0})`), names_1.default.self, msg));
  } else if (typeof opts.$comment == "function") {
    var schemaPath = (0, codegen_1.str)(_t25 || (_t25 = _`${0}/$comment`), errSchemaPath);
    var rootName = gen.scopeValue("root", {
      ref: schemaEnv.root
    });
    gen.code((0, codegen_1._)(_t26 || (_t26 = _`${0}.opts.$comment(${0}, ${0}, ${0}.schema)`), names_1.default.self, msg, schemaPath, rootName));
  }
}
function returnResults(it) {
  var gen = it.gen,
    schemaEnv = it.schemaEnv,
    validateName = it.validateName,
    ValidationError = it.ValidationError,
    opts = it.opts;
  if (schemaEnv.$async) {
    // TODO assign unevaluated
    gen.if((0, codegen_1._)(_t27 || (_t27 = _`${0} === 0`), names_1.default.errors), function () {
      return gen.return(names_1.default.data);
    }, function () {
      return gen.throw((0, codegen_1._)(_t28 || (_t28 = _`new ${0}(${0})`), ValidationError, names_1.default.vErrors));
    });
  } else {
    gen.assign((0, codegen_1._)(_t29 || (_t29 = _`${0}.errors`), validateName), names_1.default.vErrors);
    if (opts.unevaluated) assignEvaluated(it);
    gen.return((0, codegen_1._)(_t30 || (_t30 = _`${0} === 0`), names_1.default.errors));
  }
}
function assignEvaluated(_ref4) {
  var gen = _ref4.gen,
    evaluated = _ref4.evaluated,
    props = _ref4.props,
    items = _ref4.items;
  if (props instanceof codegen_1.Name) gen.assign((0, codegen_1._)(_t31 || (_t31 = _`${0}.props`), evaluated), props);
  if (items instanceof codegen_1.Name) gen.assign((0, codegen_1._)(_t32 || (_t32 = _`${0}.items`), evaluated), items);
}
function schemaKeywords(it, types, typeErrors, errsCount) {
  var gen = it.gen,
    schema = it.schema,
    data = it.data,
    allErrors = it.allErrors,
    opts = it.opts,
    self = it.self;
  var RULES = self.RULES;
  if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {
    gen.block(function () {
      return keywordCode(it, "$ref", RULES.all.$ref.definition);
    }); // TODO typecast
    return;
  }
  if (!opts.jtd) checkStrictTypes(it, types);
  gen.block(function () {
    var _iterator = _createForOfIteratorHelper(RULES.rules),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var group = _step.value;
        groupKeywords(group);
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    groupKeywords(RULES.post);
  });
  function groupKeywords(group) {
    if (!(0, applicability_1.shouldUseGroup)(schema, group)) return;
    if (group.type) {
      gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));
      iterateKeywords(it, group);
      if (types.length === 1 && types[0] === group.type && typeErrors) {
        gen.else();
        (0, dataType_2.reportTypeError)(it);
      }
      gen.endIf();
    } else {
      iterateKeywords(it, group);
    }
    // TODO make it "ok" call?
    if (!allErrors) gen.if((0, codegen_1._)(_t33 || (_t33 = _`${0} === ${0}`), names_1.default.errors, errsCount || 0));
  }
}
function iterateKeywords(it, group) {
  var gen = it.gen,
    schema = it.schema,
    useDefaults = it.opts.useDefaults;
  if (useDefaults) (0, defaults_1.assignDefaults)(it, group.type);
  gen.block(function () {
    var _iterator2 = _createForOfIteratorHelper(group.rules),
      _step2;
    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var rule = _step2.value;
        if ((0, applicability_1.shouldUseRule)(schema, rule)) {
          keywordCode(it, rule.keyword, rule.definition, group.type);
        }
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
  });
}
function checkStrictTypes(it, types) {
  if (it.schemaEnv.meta || !it.opts.strictTypes) return;
  checkContextTypes(it, types);
  if (!it.opts.allowUnionTypes) checkMultipleTypes(it, types);
  checkKeywordTypes(it, it.dataTypes);
}
function checkContextTypes(it, types) {
  if (!types.length) return;
  if (!it.dataTypes.length) {
    it.dataTypes = types;
    return;
  }
  types.forEach(function (t) {
    if (!includesType(it.dataTypes, t)) {
      strictTypesError(it, `type "${t}" not allowed by context "${it.dataTypes.join(",")}"`);
    }
  });
  narrowSchemaTypes(it, types);
}
function checkMultipleTypes(it, ts) {
  if (ts.length > 1 && !(ts.length === 2 && ts.includes("null"))) {
    strictTypesError(it, "use allowUnionTypes to allow union type keyword");
  }
}
function checkKeywordTypes(it, ts) {
  var rules = it.self.RULES.all;
  for (var keyword in rules) {
    var rule = rules[keyword];
    if (typeof rule == "object" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {
      var type = rule.definition.type;
      if (type.length && !type.some(function (t) {
        return hasApplicableType(ts, t);
      })) {
        strictTypesError(it, `missing type "${type.join(",")}" for keyword "${keyword}"`);
      }
    }
  }
}
function hasApplicableType(schTs, kwdT) {
  return schTs.includes(kwdT) || kwdT === "number" && schTs.includes("integer");
}
function includesType(ts, t) {
  return ts.includes(t) || t === "integer" && ts.includes("number");
}
function narrowSchemaTypes(it, withTypes) {
  var ts = [];
  var _iterator3 = _createForOfIteratorHelper(it.dataTypes),
    _step3;
  try {
    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
      var t = _step3.value;
      if (includesType(withTypes, t)) ts.push(t);else if (withTypes.includes("integer") && t === "number") ts.push("integer");
    }
  } catch (err) {
    _iterator3.e(err);
  } finally {
    _iterator3.f();
  }
  it.dataTypes = ts;
}
function strictTypesError(it, msg) {
  var schemaPath = it.schemaEnv.baseId + it.errSchemaPath;
  msg += ` at "${schemaPath}" (strictTypes)`;
  (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);
}
var KeywordCxt = /*#__PURE__*/function () {
  function KeywordCxt(it, def, keyword) {
    _classCallCheck(this, KeywordCxt);
    (0, keyword_1.validateKeywordUsage)(it, def, keyword);
    this.gen = it.gen;
    this.allErrors = it.allErrors;
    this.keyword = keyword;
    this.data = it.data;
    this.schema = it.schema[keyword];
    this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;
    this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);
    this.schemaType = def.schemaType;
    this.parentSchema = it.schema;
    this.params = {};
    this.it = it;
    this.def = def;
    if (this.$data) {
      this.schemaCode = it.gen.const("vSchema", getData(this.$data, it));
    } else {
      this.schemaCode = this.schemaValue;
      if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {
        throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);
      }
    }
    if ("code" in def ? def.trackErrors : def.errors !== false) {
      this.errsCount = it.gen.const("_errs", names_1.default.errors);
    }
  }
  _createClass(KeywordCxt, [{
    key: "result",
    value: function result(condition, successAction, failAction) {
      this.failResult((0, codegen_1.not)(condition), successAction, failAction);
    }
  }, {
    key: "failResult",
    value: function failResult(condition, successAction, failAction) {
      this.gen.if(condition);
      if (failAction) failAction();else this.error();
      if (successAction) {
        this.gen.else();
        successAction();
        if (this.allErrors) this.gen.endIf();
      } else {
        if (this.allErrors) this.gen.endIf();else this.gen.else();
      }
    }
  }, {
    key: "pass",
    value: function pass(condition, failAction) {
      this.failResult((0, codegen_1.not)(condition), undefined, failAction);
    }
  }, {
    key: "fail",
    value: function fail(condition) {
      if (condition === undefined) {
        this.error();
        if (!this.allErrors) this.gen.if(false); // this branch will be removed by gen.optimize
        return;
      }
      this.gen.if(condition);
      this.error();
      if (this.allErrors) this.gen.endIf();else this.gen.else();
    }
  }, {
    key: "fail$data",
    value: function fail$data(condition) {
      if (!this.$data) return this.fail(condition);
      var schemaCode = this.schemaCode;
      this.fail((0, codegen_1._)(_t34 || (_t34 = _`${0} !== undefined && (${0})`), schemaCode, (0, codegen_1.or)(this.invalid$data(), condition)));
    }
  }, {
    key: "error",
    value: function error(append, errorParams, errorPaths) {
      if (errorParams) {
        this.setParams(errorParams);
        this._error(append, errorPaths);
        this.setParams({});
        return;
      }
      this._error(append, errorPaths);
    }
  }, {
    key: "_error",
    value: function _error(append, errorPaths) {
      ;
      (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);
    }
  }, {
    key: "$dataError",
    value: function $dataError() {
      (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);
    }
  }, {
    key: "reset",
    value: function reset() {
      if (this.errsCount === undefined) throw new Error('add "trackErrors" to keyword definition');
      (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);
    }
  }, {
    key: "ok",
    value: function ok(cond) {
      if (!this.allErrors) this.gen.if(cond);
    }
  }, {
    key: "setParams",
    value: function setParams(obj, assign) {
      if (assign) Object.assign(this.params, obj);else this.params = obj;
    }
  }, {
    key: "block$data",
    value: function block$data(valid, codeBlock) {
      var _this = this;
      var $dataValid = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : codegen_1.nil;
      this.gen.block(function () {
        _this.check$data(valid, $dataValid);
        codeBlock();
      });
    }
  }, {
    key: "check$data",
    value: function check$data() {
      var valid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : codegen_1.nil;
      var $dataValid = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : codegen_1.nil;
      if (!this.$data) return;
      var gen = this.gen,
        schemaCode = this.schemaCode,
        schemaType = this.schemaType,
        def = this.def;
      gen.if((0, codegen_1.or)((0, codegen_1._)(_t35 || (_t35 = _`${0} === undefined`), schemaCode), $dataValid));
      if (valid !== codegen_1.nil) gen.assign(valid, true);
      if (schemaType.length || def.validateSchema) {
        gen.elseIf(this.invalid$data());
        this.$dataError();
        if (valid !== codegen_1.nil) gen.assign(valid, false);
      }
      gen.else();
    }
  }, {
    key: "invalid$data",
    value: function invalid$data() {
      var gen = this.gen,
        schemaCode = this.schemaCode,
        schemaType = this.schemaType,
        def = this.def,
        it = this.it;
      return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());
      function wrong$DataType() {
        if (schemaType.length) {
          /* istanbul ignore if */
          if (!(schemaCode instanceof codegen_1.Name)) throw new Error("ajv implementation error");
          var st = Array.isArray(schemaType) ? schemaType : [schemaType];
          return (0, codegen_1._)(_t36 || (_t36 = _`${0}`), (0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong));
        }
        return codegen_1.nil;
      }
      function invalid$DataSchema() {
        if (def.validateSchema) {
          var validateSchemaRef = gen.scopeValue("validate$data", {
            ref: def.validateSchema
          }); // TODO value.code for standalone
          return (0, codegen_1._)(_t37 || (_t37 = _`!${0}(${0})`), validateSchemaRef, schemaCode);
        }
        return codegen_1.nil;
      }
    }
  }, {
    key: "subschema",
    value: function subschema(appl, valid) {
      var subschema = (0, subschema_1.getSubschema)(this.it, appl);
      (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);
      (0, subschema_1.extendSubschemaMode)(subschema, appl);
      var nextContext = _objectSpread(_objectSpread(_objectSpread({}, this.it), subschema), {}, {
        items: undefined,
        props: undefined
      });
      subschemaCode(nextContext, valid);
      return nextContext;
    }
  }, {
    key: "mergeEvaluated",
    value: function mergeEvaluated(schemaCxt, toName) {
      var it = this.it,
        gen = this.gen;
      if (!it.opts.unevaluated) return;
      if (it.props !== true && schemaCxt.props !== undefined) {
        it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);
      }
      if (it.items !== true && schemaCxt.items !== undefined) {
        it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);
      }
    }
  }, {
    key: "mergeValidEvaluated",
    value: function mergeValidEvaluated(schemaCxt, valid) {
      var _this2 = this;
      var it = this.it,
        gen = this.gen;
      if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {
        gen.if(valid, function () {
          return _this2.mergeEvaluated(schemaCxt, codegen_1.Name);
        });
        return true;
      }
    }
  }]);
  return KeywordCxt;
}();
exports.KeywordCxt = KeywordCxt;
function keywordCode(it, keyword, def, ruleType) {
  var cxt = new KeywordCxt(it, def, keyword);
  if ("code" in def) {
    def.code(cxt, ruleType);
  } else if (cxt.$data && def.validate) {
    (0, keyword_1.funcKeywordCode)(cxt, def);
  } else if ("macro" in def) {
    (0, keyword_1.macroKeywordCode)(cxt, def);
  } else if (def.compile || def.validate) {
    (0, keyword_1.funcKeywordCode)(cxt, def);
  }
}
var JSON_POINTER = /^\/(?:[^~]|~0|~1)*$/;
var RELATIVE_JSON_POINTER = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
function getData($data, _ref5) {
  var dataLevel = _ref5.dataLevel,
    dataNames = _ref5.dataNames,
    dataPathArr = _ref5.dataPathArr;
  var jsonPointer;
  var data;
  if ($data === "") return names_1.default.rootData;
  if ($data[0] === "/") {
    if (!JSON_POINTER.test($data)) throw new Error(`Invalid JSON-pointer: ${$data}`);
    jsonPointer = $data;
    data = names_1.default.rootData;
  } else {
    var matches = RELATIVE_JSON_POINTER.exec($data);
    if (!matches) throw new Error(`Invalid JSON-pointer: ${$data}`);
    var up = +matches[1];
    jsonPointer = matches[2];
    if (jsonPointer === "#") {
      if (up >= dataLevel) throw new Error(errorMsg("property/index", up));
      return dataPathArr[dataLevel - up];
    }
    if (up > dataLevel) throw new Error(errorMsg("data", up));
    data = dataNames[dataLevel - up];
    if (!jsonPointer) return data;
  }
  var expr = data;
  var segments = jsonPointer.split("/");
  var _iterator4 = _createForOfIteratorHelper(segments),
    _step4;
  try {
    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
      var segment = _step4.value;
      if (segment) {
        data = (0, codegen_1._)(_t38 || (_t38 = _`${0}${0}`), data, (0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment)));
        expr = (0, codegen_1._)(_t39 || (_t39 = _`${0} && ${0}`), expr, data);
      }
    }
  } catch (err) {
    _iterator4.e(err);
  } finally {
    _iterator4.f();
  }
  return expr;
  function errorMsg(pointerType, up) {
    return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;
  }
}
exports.getData = getData;

/***/ }),

/***/ 85058:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10;
__webpack_require__(21057);
__webpack_require__(60228);
__webpack_require__(76801);
__webpack_require__(43843);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;
var codegen_1 = __webpack_require__(22374);
var names_1 = __webpack_require__(16512);
var code_1 = __webpack_require__(81833);
var errors_1 = __webpack_require__(24691);
function macroKeywordCode(cxt, def) {
  var gen = cxt.gen,
    keyword = cxt.keyword,
    schema = cxt.schema,
    parentSchema = cxt.parentSchema,
    it = cxt.it;
  var macroSchema = def.macro.call(it.self, schema, parentSchema, it);
  var schemaRef = useKeyword(gen, keyword, macroSchema);
  if (it.opts.validateSchema !== false) it.self.validateSchema(macroSchema, true);
  var valid = gen.name("valid");
  cxt.subschema({
    schema: macroSchema,
    schemaPath: codegen_1.nil,
    errSchemaPath: `${it.errSchemaPath}/${keyword}`,
    topSchemaRef: schemaRef,
    compositeRule: true
  }, valid);
  cxt.pass(valid, function () {
    return cxt.error(true);
  });
}
exports.macroKeywordCode = macroKeywordCode;
function funcKeywordCode(cxt, def) {
  var _a;
  var gen = cxt.gen,
    keyword = cxt.keyword,
    schema = cxt.schema,
    parentSchema = cxt.parentSchema,
    $data = cxt.$data,
    it = cxt.it;
  checkAsyncKeyword(it, def);
  var validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;
  var validateRef = useKeyword(gen, keyword, validate);
  var valid = gen.let("valid");
  cxt.block$data(valid, validateKeyword);
  cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);
  function validateKeyword() {
    if (def.errors === false) {
      assignValid();
      if (def.modifying) modifyData(cxt);
      reportErrs(function () {
        return cxt.error();
      });
    } else {
      var ruleErrs = def.async ? validateAsync() : validateSync();
      if (def.modifying) modifyData(cxt);
      reportErrs(function () {
        return addErrs(cxt, ruleErrs);
      });
    }
  }
  function validateAsync() {
    var ruleErrs = gen.let("ruleErrs", null);
    gen.try(function () {
      return assignValid((0, codegen_1._)(_t || (_t = _`await `)));
    }, function (e) {
      return gen.assign(valid, false).if((0, codegen_1._)(_t2 || (_t2 = _`${0} instanceof ${0}`), e, it.ValidationError), function () {
        return gen.assign(ruleErrs, (0, codegen_1._)(_t3 || (_t3 = _`${0}.errors`), e));
      }, function () {
        return gen.throw(e);
      });
    });
    return ruleErrs;
  }
  function validateSync() {
    var validateErrs = (0, codegen_1._)(_t4 || (_t4 = _`${0}.errors`), validateRef);
    gen.assign(validateErrs, null);
    assignValid(codegen_1.nil);
    return validateErrs;
  }
  function assignValid() {
    var _await = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : def.async ? (0, codegen_1._)(_t5 || (_t5 = _`await `)) : codegen_1.nil;
    var passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;
    var passSchema = !("compile" in def && !$data || def.schema === false);
    gen.assign(valid, (0, codegen_1._)(_t6 || (_t6 = _`${0}${0}`), _await, (0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)), def.modifying);
  }
  function reportErrs(errors) {
    var _a;
    gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);
  }
}
exports.funcKeywordCode = funcKeywordCode;
function modifyData(cxt) {
  var gen = cxt.gen,
    data = cxt.data,
    it = cxt.it;
  gen.if(it.parentData, function () {
    return gen.assign(data, (0, codegen_1._)(_t7 || (_t7 = _`${0}[${0}]`), it.parentData, it.parentDataProperty));
  });
}
function addErrs(cxt, errs) {
  var gen = cxt.gen;
  gen.if((0, codegen_1._)(_t8 || (_t8 = _`Array.isArray(${0})`), errs), function () {
    gen.assign(names_1.default.vErrors, (0, codegen_1._)(_t9 || (_t9 = _`${0} === null ? ${0} : ${0}.concat(${0})`), names_1.default.vErrors, errs, names_1.default.vErrors, errs)).assign(names_1.default.errors, (0, codegen_1._)(_t10 || (_t10 = _`${0}.length`), names_1.default.vErrors));
    (0, errors_1.extendErrors)(cxt);
  }, function () {
    return cxt.error();
  });
}
function checkAsyncKeyword(_ref, def) {
  var schemaEnv = _ref.schemaEnv;
  if (def.async && !schemaEnv.$async) throw new Error("async keyword in sync schema");
}
function useKeyword(gen, keyword, result) {
  if (result === undefined) throw new Error(`keyword "${keyword}" failed to compile`);
  return gen.scopeValue("keyword", typeof result == "function" ? {
    ref: result
  } : {
    ref: result,
    code: (0, codegen_1.stringify)(result)
  });
}
function validSchemaType(schema, schemaType) {
  var allowUndefined = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  // TODO add tests
  return !schemaType.length || schemaType.some(function (st) {
    return st === "array" ? Array.isArray(schema) : st === "object" ? schema && typeof schema == "object" && !Array.isArray(schema) : typeof schema == st || allowUndefined && typeof schema == "undefined";
  });
}
exports.validSchemaType = validSchemaType;
function validateKeywordUsage(_ref2, def, keyword) {
  var schema = _ref2.schema,
    opts = _ref2.opts,
    self = _ref2.self,
    errSchemaPath = _ref2.errSchemaPath;
  /* istanbul ignore if */
  if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {
    throw new Error("ajv implementation error");
  }
  var deps = def.dependencies;
  if (deps === null || deps === void 0 ? void 0 : deps.some(function (kwd) {
    return !Object.prototype.hasOwnProperty.call(schema, kwd);
  })) {
    throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(",")}`);
  }
  if (def.validateSchema) {
    var valid = def.validateSchema(schema[keyword]);
    if (!valid) {
      var msg = `keyword "${keyword}" value is invalid at path "${errSchemaPath}": ` + self.errorsText(def.validateSchema.errors);
      if (opts.validateSchema === "log") self.logger.error(msg);else throw new Error(msg);
    }
  }
}
exports.validateKeywordUsage = validateKeywordUsage;

/***/ }),

/***/ 55827:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _toConsumableArray = (__webpack_require__(49648)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5;
__webpack_require__(21057);
__webpack_require__(34338);
__webpack_require__(752);
__webpack_require__(60228);
__webpack_require__(19649);
__webpack_require__(76265);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
function getSubschema(it, _ref) {
  var keyword = _ref.keyword,
    schemaProp = _ref.schemaProp,
    schema = _ref.schema,
    schemaPath = _ref.schemaPath,
    errSchemaPath = _ref.errSchemaPath,
    topSchemaRef = _ref.topSchemaRef;
  if (keyword !== undefined && schema !== undefined) {
    throw new Error('both "keyword" and "schema" passed, only one allowed');
  }
  if (keyword !== undefined) {
    var sch = it.schema[keyword];
    return schemaProp === undefined ? {
      schema: sch,
      schemaPath: (0, codegen_1._)(_t || (_t = _`${0}${0}`), it.schemaPath, (0, codegen_1.getProperty)(keyword)),
      errSchemaPath: `${it.errSchemaPath}/${keyword}`
    } : {
      schema: sch[schemaProp],
      schemaPath: (0, codegen_1._)(_t2 || (_t2 = _`${0}${0}${0}`), it.schemaPath, (0, codegen_1.getProperty)(keyword), (0, codegen_1.getProperty)(schemaProp)),
      errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`
    };
  }
  if (schema !== undefined) {
    if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {
      throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');
    }
    return {
      schema,
      schemaPath,
      topSchemaRef,
      errSchemaPath
    };
  }
  throw new Error('either "keyword" or "schema" must be passed');
}
exports.getSubschema = getSubschema;
function extendSubschemaData(subschema, it, _ref2) {
  var dataProp = _ref2.dataProp,
    dpType = _ref2.dataPropType,
    data = _ref2.data,
    dataTypes = _ref2.dataTypes,
    propertyName = _ref2.propertyName;
  if (data !== undefined && dataProp !== undefined) {
    throw new Error('both "data" and "dataProp" passed, only one allowed');
  }
  var gen = it.gen;
  if (dataProp !== undefined) {
    var errorPath = it.errorPath,
      dataPathArr = it.dataPathArr,
      opts = it.opts;
    var nextData = gen.let("data", (0, codegen_1._)(_t3 || (_t3 = _`${0}${0}`), it.data, (0, codegen_1.getProperty)(dataProp)), true);
    dataContextProps(nextData);
    subschema.errorPath = (0, codegen_1.str)(_t4 || (_t4 = _`${0}${0}`), errorPath, (0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax));
    subschema.parentDataProperty = (0, codegen_1._)(_t5 || (_t5 = _`${0}`), dataProp);
    subschema.dataPathArr = [].concat(_toConsumableArray(dataPathArr), [subschema.parentDataProperty]);
  }
  if (data !== undefined) {
    var _nextData2 = data instanceof codegen_1.Name ? data : gen.let("data", data, true); // replaceable if used once?
    dataContextProps(_nextData2);
    if (propertyName !== undefined) subschema.propertyName = propertyName;
    // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr
  }
  if (dataTypes) subschema.dataTypes = dataTypes;
  function dataContextProps(_nextData) {
    subschema.data = _nextData;
    subschema.dataLevel = it.dataLevel + 1;
    subschema.dataTypes = [];
    it.definedProperties = new Set();
    subschema.parentData = it.data;
    subschema.dataNames = [].concat(_toConsumableArray(it.dataNames), [_nextData]);
  }
}
exports.extendSubschemaData = extendSubschemaData;
function extendSubschemaMode(subschema, _ref3) {
  var jtdDiscriminator = _ref3.jtdDiscriminator,
    jtdMetadata = _ref3.jtdMetadata,
    compositeRule = _ref3.compositeRule,
    createErrors = _ref3.createErrors,
    allErrors = _ref3.allErrors;
  if (compositeRule !== undefined) subschema.compositeRule = compositeRule;
  if (createErrors !== undefined) subschema.createErrors = createErrors;
  if (allErrors !== undefined) subschema.allErrors = allErrors;
  subschema.jtdDiscriminator = jtdDiscriminator; // not inherited
  subschema.jtdMetadata = jtdMetadata; // not inherited
}
exports.extendSubschemaMode = extendSubschemaMode;

/***/ }),

/***/ 17504:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _regeneratorRuntime = (__webpack_require__(29004)["default"]);
var _asyncToGenerator = (__webpack_require__(63765)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _createClass = (__webpack_require__(88970)["default"]);
var _objectSpread = (__webpack_require__(91361)["default"]);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(64043);
__webpack_require__(13440);
__webpack_require__(12826);
__webpack_require__(752);
__webpack_require__(60228);
__webpack_require__(19649);
__webpack_require__(76265);
__webpack_require__(56646);
__webpack_require__(21057);
__webpack_require__(47522);
__webpack_require__(62506);
__webpack_require__(50886);
__webpack_require__(48324);
__webpack_require__(89730);
__webpack_require__(7409);
__webpack_require__(268);
__webpack_require__(70560);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;
var validate_1 = __webpack_require__(5128);
Object.defineProperty(exports, "KeywordCxt", ({
  enumerable: true,
  get: function get() {
    return validate_1.KeywordCxt;
  }
}));
var codegen_1 = __webpack_require__(22374);
Object.defineProperty(exports, "_", ({
  enumerable: true,
  get: function get() {
    return codegen_1._;
  }
}));
Object.defineProperty(exports, "str", ({
  enumerable: true,
  get: function get() {
    return codegen_1.str;
  }
}));
Object.defineProperty(exports, "stringify", ({
  enumerable: true,
  get: function get() {
    return codegen_1.stringify;
  }
}));
Object.defineProperty(exports, "nil", ({
  enumerable: true,
  get: function get() {
    return codegen_1.nil;
  }
}));
Object.defineProperty(exports, "Name", ({
  enumerable: true,
  get: function get() {
    return codegen_1.Name;
  }
}));
Object.defineProperty(exports, "CodeGen", ({
  enumerable: true,
  get: function get() {
    return codegen_1.CodeGen;
  }
}));
var validation_error_1 = __webpack_require__(70171);
var ref_error_1 = __webpack_require__(94143);
var rules_1 = __webpack_require__(85831);
var compile_1 = __webpack_require__(60237);
var codegen_2 = __webpack_require__(22374);
var resolve_1 = __webpack_require__(36632);
var dataType_1 = __webpack_require__(26647);
var util_1 = __webpack_require__(36348);
var $dataRefSchema = __webpack_require__(51940);
var uri_1 = __webpack_require__(21933);
var defaultRegExp = function defaultRegExp(str, flags) {
  return new RegExp(str, flags);
};
defaultRegExp.code = "new RegExp";
var META_IGNORE_OPTIONS = ["removeAdditional", "useDefaults", "coerceTypes"];
var EXT_SCOPE_NAMES = new Set(["validate", "serialize", "parse", "wrapper", "root", "schema", "keyword", "pattern", "formats", "validate$data", "func", "obj", "Error"]);
var removedOptions = {
  errorDataPath: "",
  format: "`validateFormats: false` can be used instead.",
  nullable: '"nullable" keyword is supported by default.',
  jsonPointers: "Deprecated jsPropertySyntax can be used instead.",
  extendRefs: "Deprecated ignoreKeywordsWithRef can be used instead.",
  missingRefs: "Pass empty schema with $id that should be ignored to ajv.addSchema.",
  processCode: "Use option `code: {process: (code, schemaEnv: object) => string}`",
  sourceCode: "Use option `code: {source: true}`",
  strictDefaults: "It is default now, see option `strict`.",
  strictKeywords: "It is default now, see option `strict`.",
  uniqueItems: '"uniqueItems" keyword is always validated.',
  unknownFormats: "Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",
  cache: "Map is used as cache, schema object as key.",
  serialize: "Map is used as cache, schema object as key.",
  ajvErrors: "It is default now."
};
var deprecatedOptions = {
  ignoreKeywordsWithRef: "",
  jsPropertySyntax: "",
  unicode: '"minLength"/"maxLength" account for unicode characters by default.'
};
var MAX_EXPRESSION = 200;
// eslint-disable-next-line complexity
function requiredOptions(o) {
  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;
  var s = o.strict;
  var _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;
  var optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;
  var regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;
  var uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;
  return {
    strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,
    strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,
    strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : "log",
    strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : "log",
    strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,
    code: o.code ? _objectSpread(_objectSpread({}, o.code), {}, {
      optimize,
      regExp
    }) : {
      optimize,
      regExp
    },
    loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,
    loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,
    meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,
    messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,
    inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,
    schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : "$id",
    addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,
    validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,
    validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,
    unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,
    int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,
    uriResolver: uriResolver
  };
}
var Ajv = /*#__PURE__*/function () {
  function Ajv() {
    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    _classCallCheck(this, Ajv);
    this.schemas = {};
    this.refs = {};
    this.formats = {};
    this._compilations = new Set();
    this._loading = {};
    this._cache = new Map();
    opts = this.opts = _objectSpread(_objectSpread({}, opts), requiredOptions(opts));
    var _this$opts$code = this.opts.code,
      es5 = _this$opts$code.es5,
      lines = _this$opts$code.lines;
    this.scope = new codegen_2.ValueScope({
      scope: {},
      prefixes: EXT_SCOPE_NAMES,
      es5,
      lines
    });
    this.logger = getLogger(opts.logger);
    var formatOpt = opts.validateFormats;
    opts.validateFormats = false;
    this.RULES = (0, rules_1.getRules)();
    checkOptions.call(this, removedOptions, opts, "NOT SUPPORTED");
    checkOptions.call(this, deprecatedOptions, opts, "DEPRECATED", "warn");
    this._metaOpts = getMetaSchemaOptions.call(this);
    if (opts.formats) addInitialFormats.call(this);
    this._addVocabularies();
    this._addDefaultMetaSchema();
    if (opts.keywords) addInitialKeywords.call(this, opts.keywords);
    if (typeof opts.meta == "object") this.addMetaSchema(opts.meta);
    addInitialSchemas.call(this);
    opts.validateFormats = formatOpt;
  }
  _createClass(Ajv, [{
    key: "_addVocabularies",
    value: function _addVocabularies() {
      this.addKeyword("$async");
    }
  }, {
    key: "_addDefaultMetaSchema",
    value: function _addDefaultMetaSchema() {
      var _this$opts = this.opts,
        $data = _this$opts.$data,
        meta = _this$opts.meta,
        schemaId = _this$opts.schemaId;
      var _dataRefSchema = $dataRefSchema;
      if (schemaId === "id") {
        _dataRefSchema = _objectSpread({}, $dataRefSchema);
        _dataRefSchema.id = _dataRefSchema.$id;
        delete _dataRefSchema.$id;
      }
      if (meta && $data) this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);
    }
  }, {
    key: "defaultMeta",
    value: function defaultMeta() {
      var _this$opts2 = this.opts,
        meta = _this$opts2.meta,
        schemaId = _this$opts2.schemaId;
      return this.opts.defaultMeta = typeof meta == "object" ? meta[schemaId] || meta : undefined;
    }
  }, {
    key: "validate",
    value: function validate(schemaKeyRef,
    // key, ref or schema object
    data // to be validated
    ) {
      var v;
      if (typeof schemaKeyRef == "string") {
        v = this.getSchema(schemaKeyRef);
        if (!v) throw new Error(`no schema with key or ref "${schemaKeyRef}"`);
      } else {
        v = this.compile(schemaKeyRef);
      }
      var valid = v(data);
      if (!("$async" in v)) this.errors = v.errors;
      return valid;
    }
  }, {
    key: "compile",
    value: function compile(schema, _meta) {
      var sch = this._addSchema(schema, _meta);
      return sch.validate || this._compileSchemaEnv(sch);
    }
  }, {
    key: "compileAsync",
    value: function compileAsync(schema, meta) {
      if (typeof this.opts.loadSchema != "function") {
        throw new Error("options.loadSchema should be a function");
      }
      var loadSchema = this.opts.loadSchema;
      return runCompileAsync.call(this, schema, meta);
      function runCompileAsync(_x2, _x3) {
        return _runCompileAsync.apply(this, arguments);
      }
      function _runCompileAsync() {
        _runCompileAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_schema, _meta) {
          var sch;
          return _regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return loadMetaSchema.call(this, _schema.$schema);
              case 2:
                sch = this._addSchema(_schema, _meta);
                return _context.abrupt("return", sch.validate || _compileAsync.call(this, sch));
              case 4:
              case "end":
                return _context.stop();
            }
          }, _callee, this);
        }));
        return _runCompileAsync.apply(this, arguments);
      }
      function loadMetaSchema(_x4) {
        return _loadMetaSchema.apply(this, arguments);
      }
      function _loadMetaSchema() {
        _loadMetaSchema = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2($ref) {
          return _regeneratorRuntime().wrap(function _callee2$(_context2) {
            while (1) switch (_context2.prev = _context2.next) {
              case 0:
                if (!($ref && !this.getSchema($ref))) {
                  _context2.next = 3;
                  break;
                }
                _context2.next = 3;
                return runCompileAsync.call(this, {
                  $ref
                }, true);
              case 3:
              case "end":
                return _context2.stop();
            }
          }, _callee2, this);
        }));
        return _loadMetaSchema.apply(this, arguments);
      }
      function _compileAsync(_x5) {
        return _compileAsync2.apply(this, arguments);
      }
      function _compileAsync2() {
        _compileAsync2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(sch) {
          return _regeneratorRuntime().wrap(function _callee3$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
              case 0:
                _context3.prev = 0;
                return _context3.abrupt("return", this._compileSchemaEnv(sch));
              case 4:
                _context3.prev = 4;
                _context3.t0 = _context3["catch"](0);
                if (_context3.t0 instanceof ref_error_1.default) {
                  _context3.next = 8;
                  break;
                }
                throw _context3.t0;
              case 8:
                checkLoaded.call(this, _context3.t0);
                _context3.next = 11;
                return loadMissingSchema.call(this, _context3.t0.missingSchema);
              case 11:
                return _context3.abrupt("return", _compileAsync.call(this, sch));
              case 12:
              case "end":
                return _context3.stop();
            }
          }, _callee3, this, [[0, 4]]);
        }));
        return _compileAsync2.apply(this, arguments);
      }
      function checkLoaded(_ref) {
        var ref = _ref.missingSchema,
          missingRef = _ref.missingRef;
        if (this.refs[ref]) {
          throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);
        }
      }
      function loadMissingSchema(_x6) {
        return _loadMissingSchema.apply(this, arguments);
      }
      function _loadMissingSchema() {
        _loadMissingSchema = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(ref) {
          var _schema;
          return _regeneratorRuntime().wrap(function _callee4$(_context4) {
            while (1) switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return _loadSchema.call(this, ref);
              case 2:
                _schema = _context4.sent;
                if (this.refs[ref]) {
                  _context4.next = 6;
                  break;
                }
                _context4.next = 6;
                return loadMetaSchema.call(this, _schema.$schema);
              case 6:
                if (!this.refs[ref]) this.addSchema(_schema, ref, meta);
              case 7:
              case "end":
                return _context4.stop();
            }
          }, _callee4, this);
        }));
        return _loadMissingSchema.apply(this, arguments);
      }
      function _loadSchema(_x7) {
        return _loadSchema2.apply(this, arguments);
      }
      function _loadSchema2() {
        _loadSchema2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(ref) {
          var p;
          return _regeneratorRuntime().wrap(function _callee5$(_context5) {
            while (1) switch (_context5.prev = _context5.next) {
              case 0:
                p = this._loading[ref];
                if (!p) {
                  _context5.next = 3;
                  break;
                }
                return _context5.abrupt("return", p);
              case 3:
                _context5.prev = 3;
                _context5.next = 6;
                return this._loading[ref] = loadSchema(ref);
              case 6:
                return _context5.abrupt("return", _context5.sent);
              case 7:
                _context5.prev = 7;
                delete this._loading[ref];
                return _context5.finish(7);
              case 10:
              case "end":
                return _context5.stop();
            }
          }, _callee5, this, [[3,, 7, 10]]);
        }));
        return _loadSchema2.apply(this, arguments);
      }
    }
    // Adds schema to the instance
  }, {
    key: "addSchema",
    value: function addSchema(schema,
    // If array is passed, `key` will be ignored
    key,
    // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.
    _meta) {
      var _validateSchema = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.opts.validateSchema;
      if (Array.isArray(schema)) {
        var _iterator = _createForOfIteratorHelper(schema),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var sch = _step.value;
            this.addSchema(sch, undefined, _meta, _validateSchema);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
        return this;
      }
      var id;
      if (typeof schema === "object") {
        var schemaId = this.opts.schemaId;
        id = schema[schemaId];
        if (id !== undefined && typeof id != "string") {
          throw new Error(`schema ${schemaId} must be string`);
        }
      }
      key = (0, resolve_1.normalizeId)(key || id);
      this._checkUnique(key);
      this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);
      return this;
    }
    // Add schema that will be used to validate other schemas
    // options in META_IGNORE_OPTIONS are alway set to false
  }, {
    key: "addMetaSchema",
    value: function addMetaSchema(schema, key) {
      var _validateSchema = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.opts.validateSchema;
      this.addSchema(schema, key, true, _validateSchema);
      return this;
    }
    //  Validate schema against its meta-schema
  }, {
    key: "validateSchema",
    value: function validateSchema(schema, throwOrLogError) {
      if (typeof schema == "boolean") return true;
      var $schema;
      $schema = schema.$schema;
      if ($schema !== undefined && typeof $schema != "string") {
        throw new Error("$schema must be a string");
      }
      $schema = $schema || this.opts.defaultMeta || this.defaultMeta();
      if (!$schema) {
        this.logger.warn("meta-schema not available");
        this.errors = null;
        return true;
      }
      var valid = this.validate($schema, schema);
      if (!valid && throwOrLogError) {
        var message = "schema is invalid: " + this.errorsText();
        if (this.opts.validateSchema === "log") this.logger.error(message);else throw new Error(message);
      }
      return valid;
    }
    // Get compiled schema by `key` or `ref`.
    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)
  }, {
    key: "getSchema",
    value: function getSchema(keyRef) {
      var sch;
      while (typeof (sch = getSchEnv.call(this, keyRef)) == "string") keyRef = sch;
      if (sch === undefined) {
        var schemaId = this.opts.schemaId;
        var root = new compile_1.SchemaEnv({
          schema: {},
          schemaId
        });
        sch = compile_1.resolveSchema.call(this, root, keyRef);
        if (!sch) return;
        this.refs[keyRef] = sch;
      }
      return sch.validate || this._compileSchemaEnv(sch);
    }
    // Remove cached schema(s).
    // If no parameter is passed all schemas but meta-schemas are removed.
    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.
    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.
  }, {
    key: "removeSchema",
    value: function removeSchema(schemaKeyRef) {
      if (schemaKeyRef instanceof RegExp) {
        this._removeAllSchemas(this.schemas, schemaKeyRef);
        this._removeAllSchemas(this.refs, schemaKeyRef);
        return this;
      }
      switch (typeof schemaKeyRef) {
        case "undefined":
          this._removeAllSchemas(this.schemas);
          this._removeAllSchemas(this.refs);
          this._cache.clear();
          return this;
        case "string":
          {
            var sch = getSchEnv.call(this, schemaKeyRef);
            if (typeof sch == "object") this._cache.delete(sch.schema);
            delete this.schemas[schemaKeyRef];
            delete this.refs[schemaKeyRef];
            return this;
          }
        case "object":
          {
            var cacheKey = schemaKeyRef;
            this._cache.delete(cacheKey);
            var id = schemaKeyRef[this.opts.schemaId];
            if (id) {
              id = (0, resolve_1.normalizeId)(id);
              delete this.schemas[id];
              delete this.refs[id];
            }
            return this;
          }
        default:
          throw new Error("ajv.removeSchema: invalid parameter");
      }
    }
    // add "vocabulary" - a collection of keywords
  }, {
    key: "addVocabulary",
    value: function addVocabulary(definitions) {
      var _iterator2 = _createForOfIteratorHelper(definitions),
        _step2;
      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var def = _step2.value;
          this.addKeyword(def);
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
      return this;
    }
  }, {
    key: "addKeyword",
    value: function addKeyword(kwdOrDef, def // deprecated
    ) {
      var _this = this;
      var keyword;
      if (typeof kwdOrDef == "string") {
        keyword = kwdOrDef;
        if (typeof def == "object") {
          this.logger.warn("these parameters are deprecated, see docs for addKeyword");
          def.keyword = keyword;
        }
      } else if (typeof kwdOrDef == "object" && def === undefined) {
        def = kwdOrDef;
        keyword = def.keyword;
        if (Array.isArray(keyword) && !keyword.length) {
          throw new Error("addKeywords: keyword must be string or non-empty array");
        }
      } else {
        throw new Error("invalid addKeywords parameters");
      }
      checkKeyword.call(this, keyword, def);
      if (!def) {
        (0, util_1.eachItem)(keyword, function (kwd) {
          return addRule.call(_this, kwd);
        });
        return this;
      }
      keywordMetaschema.call(this, def);
      var definition = _objectSpread(_objectSpread({}, def), {}, {
        type: (0, dataType_1.getJSONTypes)(def.type),
        schemaType: (0, dataType_1.getJSONTypes)(def.schemaType)
      });
      (0, util_1.eachItem)(keyword, definition.type.length === 0 ? function (k) {
        return addRule.call(_this, k, definition);
      } : function (k) {
        return definition.type.forEach(function (t) {
          return addRule.call(_this, k, definition, t);
        });
      });
      return this;
    }
  }, {
    key: "getKeyword",
    value: function getKeyword(keyword) {
      var rule = this.RULES.all[keyword];
      return typeof rule == "object" ? rule.definition : !!rule;
    }
    // Remove keyword
  }, {
    key: "removeKeyword",
    value: function removeKeyword(keyword) {
      // TODO return type should be Ajv
      var RULES = this.RULES;
      delete RULES.keywords[keyword];
      delete RULES.all[keyword];
      var _iterator3 = _createForOfIteratorHelper(RULES.rules),
        _step3;
      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var group = _step3.value;
          var i = group.rules.findIndex(function (rule) {
            return rule.keyword === keyword;
          });
          if (i >= 0) group.rules.splice(i, 1);
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
      return this;
    }
    // Add format
  }, {
    key: "addFormat",
    value: function addFormat(name, format) {
      if (typeof format == "string") format = new RegExp(format);
      this.formats[name] = format;
      return this;
    }
  }, {
    key: "errorsText",
    value: function errorsText() {
      var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.errors;
      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref2$separator = _ref2.separator,
        separator = _ref2$separator === void 0 ? ", " : _ref2$separator,
        _ref2$dataVar = _ref2.dataVar,
        dataVar = _ref2$dataVar === void 0 ? "data" : _ref2$dataVar;
      if (!errors || errors.length === 0) return "No errors";
      return errors.map(function (e) {
        return `${dataVar}${e.instancePath} ${e.message}`;
      }).reduce(function (text, msg) {
        return text + separator + msg;
      });
    }
  }, {
    key: "$dataMetaSchema",
    value: function $dataMetaSchema(metaSchema, keywordsJsonPointers) {
      var rules = this.RULES.all;
      metaSchema = JSON.parse(JSON.stringify(metaSchema));
      var _iterator4 = _createForOfIteratorHelper(keywordsJsonPointers),
        _step4;
      try {
        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
          var jsonPointer = _step4.value;
          var segments = jsonPointer.split("/").slice(1); // first segment is an empty string
          var keywords = metaSchema;
          var _iterator5 = _createForOfIteratorHelper(segments),
            _step5;
          try {
            for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
              var seg = _step5.value;
              keywords = keywords[seg];
            }
          } catch (err) {
            _iterator5.e(err);
          } finally {
            _iterator5.f();
          }
          for (var key in rules) {
            var rule = rules[key];
            if (typeof rule != "object") continue;
            var $data = rule.definition.$data;
            var schema = keywords[key];
            if ($data && schema) keywords[key] = schemaOrData(schema);
          }
        }
      } catch (err) {
        _iterator4.e(err);
      } finally {
        _iterator4.f();
      }
      return metaSchema;
    }
  }, {
    key: "_removeAllSchemas",
    value: function _removeAllSchemas(schemas, regex) {
      for (var keyRef in schemas) {
        var sch = schemas[keyRef];
        if (!regex || regex.test(keyRef)) {
          if (typeof sch == "string") {
            delete schemas[keyRef];
          } else if (sch && !sch.meta) {
            this._cache.delete(sch.schema);
            delete schemas[keyRef];
          }
        }
      }
    }
  }, {
    key: "_addSchema",
    value: function _addSchema(schema, meta, baseId) {
      var validateSchema = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.opts.validateSchema;
      var addSchema = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.opts.addUsedSchema;
      var id;
      var schemaId = this.opts.schemaId;
      if (typeof schema == "object") {
        id = schema[schemaId];
      } else {
        if (this.opts.jtd) throw new Error("schema must be object");else if (typeof schema != "boolean") throw new Error("schema must be object or boolean");
      }
      var sch = this._cache.get(schema);
      if (sch !== undefined) return sch;
      baseId = (0, resolve_1.normalizeId)(id || baseId);
      var localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);
      sch = new compile_1.SchemaEnv({
        schema,
        schemaId,
        meta,
        baseId,
        localRefs
      });
      this._cache.set(sch.schema, sch);
      if (addSchema && !baseId.startsWith("#")) {
        // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)
        if (baseId) this._checkUnique(baseId);
        this.refs[baseId] = sch;
      }
      if (validateSchema) this.validateSchema(schema, true);
      return sch;
    }
  }, {
    key: "_checkUnique",
    value: function _checkUnique(id) {
      if (this.schemas[id] || this.refs[id]) {
        throw new Error(`schema with key or id "${id}" already exists`);
      }
    }
  }, {
    key: "_compileSchemaEnv",
    value: function _compileSchemaEnv(sch) {
      if (sch.meta) this._compileMetaSchema(sch);else compile_1.compileSchema.call(this, sch);
      /* istanbul ignore if */
      if (!sch.validate) throw new Error("ajv implementation error");
      return sch.validate;
    }
  }, {
    key: "_compileMetaSchema",
    value: function _compileMetaSchema(sch) {
      var currentOpts = this.opts;
      this.opts = this._metaOpts;
      try {
        compile_1.compileSchema.call(this, sch);
      } finally {
        this.opts = currentOpts;
      }
    }
  }]);
  return Ajv;
}();
exports["default"] = Ajv;
Ajv.ValidationError = validation_error_1.default;
Ajv.MissingRefError = ref_error_1.default;
function checkOptions(checkOpts, options, msg) {
  var log = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "error";
  for (var key in checkOpts) {
    var opt = key;
    if (opt in options) this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);
  }
}
function getSchEnv(keyRef) {
  keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line
  return this.schemas[keyRef] || this.refs[keyRef];
}
function addInitialSchemas() {
  var optsSchemas = this.opts.schemas;
  if (!optsSchemas) return;
  if (Array.isArray(optsSchemas)) this.addSchema(optsSchemas);else for (var key in optsSchemas) this.addSchema(optsSchemas[key], key);
}
function addInitialFormats() {
  for (var name in this.opts.formats) {
    var format = this.opts.formats[name];
    if (format) this.addFormat(name, format);
  }
}
function addInitialKeywords(defs) {
  if (Array.isArray(defs)) {
    this.addVocabulary(defs);
    return;
  }
  this.logger.warn("keywords option as map is deprecated, pass array");
  for (var keyword in defs) {
    var def = defs[keyword];
    if (!def.keyword) def.keyword = keyword;
    this.addKeyword(def);
  }
}
function getMetaSchemaOptions() {
  var metaOpts = _objectSpread({}, this.opts);
  var _iterator6 = _createForOfIteratorHelper(META_IGNORE_OPTIONS),
    _step6;
  try {
    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
      var opt = _step6.value;
      delete metaOpts[opt];
    }
  } catch (err) {
    _iterator6.e(err);
  } finally {
    _iterator6.f();
  }
  return metaOpts;
}
var noLogs = {
  log() {},
  warn() {},
  error() {}
};
function getLogger(logger) {
  if (logger === false) return noLogs;
  if (logger === undefined) return console;
  if (logger.log && logger.warn && logger.error) return logger;
  throw new Error("logger must implement log, warn and error methods");
}
var KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;
function checkKeyword(keyword, def) {
  var RULES = this.RULES;
  (0, util_1.eachItem)(keyword, function (kwd) {
    if (RULES.keywords[kwd]) throw new Error(`Keyword ${kwd} is already defined`);
    if (!KEYWORD_NAME.test(kwd)) throw new Error(`Keyword ${kwd} has invalid name`);
  });
  if (!def) return;
  if (def.$data && !("code" in def || "validate" in def)) {
    throw new Error('$data keyword must have "code" or "validate" function');
  }
}
function addRule(keyword, definition, dataType) {
  var _this2 = this;
  var _a;
  var post = definition === null || definition === void 0 ? void 0 : definition.post;
  if (dataType && post) throw new Error('keyword with "post" flag cannot have "type"');
  var RULES = this.RULES;
  var ruleGroup = post ? RULES.post : RULES.rules.find(function (_ref3) {
    var t = _ref3.type;
    return t === dataType;
  });
  if (!ruleGroup) {
    ruleGroup = {
      type: dataType,
      rules: []
    };
    RULES.rules.push(ruleGroup);
  }
  RULES.keywords[keyword] = true;
  if (!definition) return;
  var rule = {
    keyword,
    definition: _objectSpread(_objectSpread({}, definition), {}, {
      type: (0, dataType_1.getJSONTypes)(definition.type),
      schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType)
    })
  };
  if (definition.before) addBeforeRule.call(this, ruleGroup, rule, definition.before);else ruleGroup.rules.push(rule);
  RULES.all[keyword] = rule;
  (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach(function (kwd) {
    return _this2.addKeyword(kwd);
  });
}
function addBeforeRule(ruleGroup, rule, before) {
  var i = ruleGroup.rules.findIndex(function (_rule) {
    return _rule.keyword === before;
  });
  if (i >= 0) {
    ruleGroup.rules.splice(i, 0, rule);
  } else {
    ruleGroup.rules.push(rule);
    this.logger.warn(`rule ${before} is not defined`);
  }
}
function keywordMetaschema(def) {
  var metaSchema = def.metaSchema;
  if (metaSchema === undefined) return;
  if (def.$data && this.opts.$data) metaSchema = schemaOrData(metaSchema);
  def.validateSchema = this.compile(metaSchema, true);
}
var $dataRef = {
  $ref: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"
};
function schemaOrData(schema) {
  return {
    anyOf: [schema, $dataRef]
  };
}

/***/ }),

/***/ 91740:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
// https://github.com/ajv-validator/ajv/issues/889
var equal = __webpack_require__(61671);
equal.code = 'require("ajv/dist/runtime/equal").default';
exports["default"] = equal;

/***/ }),

/***/ 96097:
/***/ (function(__unused_webpack_module, exports) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
// https://mathiasbynens.be/notes/javascript-encoding
// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode
function ucs2length(str) {
  var len = str.length;
  var length = 0;
  var pos = 0;
  var value;
  while (pos < len) {
    length++;
    value = str.charCodeAt(pos++);
    if (value >= 0xd800 && value <= 0xdbff && pos < len) {
      // high surrogate, and there is a next character
      value = str.charCodeAt(pos);
      if ((value & 0xfc00) === 0xdc00) pos++; // low surrogate
    }
  }
  return length;
}
exports["default"] = ucs2length;
ucs2length.code = 'require("ajv/dist/runtime/ucs2length").default';

/***/ }),

/***/ 21933:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var uri = __webpack_require__(55050);
uri.code = 'require("ajv/dist/runtime/uri").default';
exports["default"] = uri;

/***/ }),

/***/ 70171:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(30050);
__webpack_require__(60228);
__webpack_require__(76034);
var _createClass = (__webpack_require__(88970)["default"]);
var _classCallCheck = (__webpack_require__(96833)["default"]);
var _possibleConstructorReturn = (__webpack_require__(91349)["default"]);
var _isNativeReflectConstruct = (__webpack_require__(25243)["default"]);
var _getPrototypeOf = (__webpack_require__(83387)["default"]);
var _inherits = (__webpack_require__(43497)["default"]);
var _wrapNativeSuper = (__webpack_require__(76554)["default"]);
__webpack_require__(21057);
function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var ValidationError = /*#__PURE__*/function (_Error) {
  _inherits(ValidationError, _Error);
  function ValidationError(errors) {
    var _this;
    _classCallCheck(this, ValidationError);
    _this = _callSuper(this, ValidationError, ["validation failed"]);
    _this.errors = errors;
    _this.ajv = _this.validation = true;
    return _this;
  }
  return _createClass(ValidationError);
}( /*#__PURE__*/_wrapNativeSuper(Error));
exports["default"] = ValidationError;

/***/ }),

/***/ 95971:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.validateAdditionalItems = void 0;
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var error = {
  message: function message(_ref) {
    var len = _ref.params.len;
    return (0, codegen_1.str)(_t || (_t = _`must NOT have more than ${0} items`), len);
  },
  params: function params(_ref2) {
    var len = _ref2.params.len;
    return (0, codegen_1._)(_t2 || (_t2 = _`{limit: ${0}}`), len);
  }
};
var def = {
  keyword: "additionalItems",
  type: "array",
  schemaType: ["boolean", "object"],
  before: "uniqueItems",
  error,
  code(cxt) {
    var parentSchema = cxt.parentSchema,
      it = cxt.it;
    var items = parentSchema.items;
    if (!Array.isArray(items)) {
      (0, util_1.checkStrictMode)(it, '"additionalItems" is ignored when "items" is not an array of schemas');
      return;
    }
    validateAdditionalItems(cxt, items);
  }
};
function validateAdditionalItems(cxt, items) {
  var gen = cxt.gen,
    schema = cxt.schema,
    data = cxt.data,
    keyword = cxt.keyword,
    it = cxt.it;
  it.items = true;
  var len = gen.const("len", (0, codegen_1._)(_t3 || (_t3 = _`${0}.length`), data));
  if (schema === false) {
    cxt.setParams({
      len: items.length
    });
    cxt.pass((0, codegen_1._)(_t4 || (_t4 = _`${0} <= ${0}`), len, items.length));
  } else if (typeof schema == "object" && !(0, util_1.alwaysValidSchema)(it, schema)) {
    var valid = gen.var("valid", (0, codegen_1._)(_t5 || (_t5 = _`${0} <= ${0}`), len, items.length)); // TODO var
    gen.if((0, codegen_1.not)(valid), function () {
      return validateItems(valid);
    });
    cxt.ok(valid);
  }
  function validateItems(valid) {
    gen.forRange("i", items.length, len, function (i) {
      cxt.subschema({
        keyword,
        dataProp: i,
        dataPropType: util_1.Type.Num
      }, valid);
      if (!it.allErrors) gen.if((0, codegen_1.not)(valid), function () {
        return gen.break();
      });
    });
  }
}
exports.validateAdditionalItems = validateAdditionalItems;
exports["default"] = def;

/***/ }),

/***/ 32435:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _toConsumableArray = (__webpack_require__(49648)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5;
__webpack_require__(21057);
__webpack_require__(50886);
__webpack_require__(34338);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var code_1 = __webpack_require__(81833);
var codegen_1 = __webpack_require__(22374);
var names_1 = __webpack_require__(16512);
var util_1 = __webpack_require__(36348);
var error = {
  message: "must NOT have additional properties",
  params: function params(_ref) {
    var _params = _ref.params;
    return (0, codegen_1._)(_t || (_t = _`{additionalProperty: ${0}}`), _params.additionalProperty);
  }
};
var def = {
  keyword: "additionalProperties",
  type: ["object"],
  schemaType: ["boolean", "object"],
  allowUndefined: true,
  trackErrors: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      parentSchema = cxt.parentSchema,
      data = cxt.data,
      errsCount = cxt.errsCount,
      it = cxt.it;
    /* istanbul ignore if */
    if (!errsCount) throw new Error("ajv implementation error");
    var allErrors = it.allErrors,
      opts = it.opts;
    it.props = true;
    if (opts.removeAdditional !== "all" && (0, util_1.alwaysValidSchema)(it, schema)) return;
    var props = (0, code_1.allSchemaProperties)(parentSchema.properties);
    var patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);
    checkAdditionalProperties();
    cxt.ok((0, codegen_1._)(_t2 || (_t2 = _`${0} === ${0}`), errsCount, names_1.default.errors));
    function checkAdditionalProperties() {
      gen.forIn("key", data, function (key) {
        if (!props.length && !patProps.length) additionalPropertyCode(key);else gen.if(isAdditional(key), function () {
          return additionalPropertyCode(key);
        });
      });
    }
    function isAdditional(key) {
      var definedProp;
      if (props.length > 8) {
        // TODO maybe an option instead of hard-coded 8?
        var propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, "properties");
        definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);
      } else if (props.length) {
        definedProp = (0, codegen_1.or).apply(void 0, _toConsumableArray(props.map(function (p) {
          return (0, codegen_1._)(_t3 || (_t3 = _`${0} === ${0}`), key, p);
        })));
      } else {
        definedProp = codegen_1.nil;
      }
      if (patProps.length) {
        definedProp = (0, codegen_1.or).apply(void 0, [definedProp].concat(_toConsumableArray(patProps.map(function (p) {
          return (0, codegen_1._)(_t4 || (_t4 = _`${0}.test(${0})`), (0, code_1.usePattern)(cxt, p), key);
        }))));
      }
      return (0, codegen_1.not)(definedProp);
    }
    function deleteAdditional(key) {
      gen.code((0, codegen_1._)(_t5 || (_t5 = _`delete ${0}[${0}]`), data, key));
    }
    function additionalPropertyCode(key) {
      if (opts.removeAdditional === "all" || opts.removeAdditional && schema === false) {
        deleteAdditional(key);
        return;
      }
      if (schema === false) {
        cxt.setParams({
          additionalProperty: key
        });
        cxt.error();
        if (!allErrors) gen.break();
        return;
      }
      if (typeof schema == "object" && !(0, util_1.alwaysValidSchema)(it, schema)) {
        var valid = gen.name("valid");
        if (opts.removeAdditional === "failing") {
          applyAdditionalSchema(key, valid, false);
          gen.if((0, codegen_1.not)(valid), function () {
            cxt.reset();
            deleteAdditional(key);
          });
        } else {
          applyAdditionalSchema(key, valid);
          if (!allErrors) gen.if((0, codegen_1.not)(valid), function () {
            return gen.break();
          });
        }
      }
    }
    function applyAdditionalSchema(key, valid, errors) {
      var subschema = {
        keyword: "additionalProperties",
        dataProp: key,
        dataPropType: util_1.Type.Str
      };
      if (errors === false) {
        Object.assign(subschema, {
          compositeRule: true,
          createErrors: false,
          allErrors: false
        });
      }
      cxt.subschema(subschema, valid);
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 2238:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(21057);
__webpack_require__(60228);
__webpack_require__(47522);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var util_1 = __webpack_require__(36348);
var def = {
  keyword: "allOf",
  schemaType: "array",
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      it = cxt.it;
    /* istanbul ignore if */
    if (!Array.isArray(schema)) throw new Error("ajv implementation error");
    var valid = gen.name("valid");
    schema.forEach(function (sch, i) {
      if ((0, util_1.alwaysValidSchema)(it, sch)) return;
      var schCxt = cxt.subschema({
        keyword: "allOf",
        schemaProp: i
      }, valid);
      cxt.ok(valid);
      cxt.mergeEvaluated(schCxt);
    });
  }
};
exports["default"] = def;

/***/ }),

/***/ 19628:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var code_1 = __webpack_require__(81833);
var def = {
  keyword: "anyOf",
  schemaType: "array",
  trackErrors: true,
  code: code_1.validateUnion,
  error: {
    message: "must match a schema in anyOf"
  }
};
exports["default"] = def;

/***/ }),

/***/ 37833:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var error = {
  message: function message(_ref) {
    var _ref$params = _ref.params,
      min = _ref$params.min,
      max = _ref$params.max;
    return max === undefined ? (0, codegen_1.str)(_t || (_t = _`must contain at least ${0} valid item(s)`), min) : (0, codegen_1.str)(_t2 || (_t2 = _`must contain at least ${0} and no more than ${0} valid item(s)`), min, max);
  },
  params: function params(_ref2) {
    var _ref2$params = _ref2.params,
      min = _ref2$params.min,
      max = _ref2$params.max;
    return max === undefined ? (0, codegen_1._)(_t3 || (_t3 = _`{minContains: ${0}}`), min) : (0, codegen_1._)(_t4 || (_t4 = _`{minContains: ${0}, maxContains: ${0}}`), min, max);
  }
};
var def = {
  keyword: "contains",
  type: "array",
  schemaType: ["object", "boolean"],
  before: "uniqueItems",
  trackErrors: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      parentSchema = cxt.parentSchema,
      data = cxt.data,
      it = cxt.it;
    var min;
    var max;
    var minContains = parentSchema.minContains,
      maxContains = parentSchema.maxContains;
    if (it.opts.next) {
      min = minContains === undefined ? 1 : minContains;
      max = maxContains;
    } else {
      min = 1;
    }
    var len = gen.const("len", (0, codegen_1._)(_t5 || (_t5 = _`${0}.length`), data));
    cxt.setParams({
      min,
      max
    });
    if (max === undefined && min === 0) {
      (0, util_1.checkStrictMode)(it, `"minContains" == 0 without "maxContains": "contains" keyword ignored`);
      return;
    }
    if (max !== undefined && min > max) {
      (0, util_1.checkStrictMode)(it, `"minContains" > "maxContains" is always invalid`);
      cxt.fail();
      return;
    }
    if ((0, util_1.alwaysValidSchema)(it, schema)) {
      var cond = (0, codegen_1._)(_t6 || (_t6 = _`${0} >= ${0}`), len, min);
      if (max !== undefined) cond = (0, codegen_1._)(_t7 || (_t7 = _`${0} && ${0} <= ${0}`), cond, len, max);
      cxt.pass(cond);
      return;
    }
    it.items = true;
    var valid = gen.name("valid");
    if (max === undefined && min === 1) {
      validateItems(valid, function () {
        return gen.if(valid, function () {
          return gen.break();
        });
      });
    } else if (min === 0) {
      gen.let(valid, true);
      if (max !== undefined) gen.if((0, codegen_1._)(_t8 || (_t8 = _`${0}.length > 0`), data), validateItemsWithCount);
    } else {
      gen.let(valid, false);
      validateItemsWithCount();
    }
    cxt.result(valid, function () {
      return cxt.reset();
    });
    function validateItemsWithCount() {
      var schValid = gen.name("_valid");
      var count = gen.let("count", 0);
      validateItems(schValid, function () {
        return gen.if(schValid, function () {
          return checkLimits(count);
        });
      });
    }
    function validateItems(_valid, block) {
      gen.forRange("i", 0, len, function (i) {
        cxt.subschema({
          keyword: "contains",
          dataProp: i,
          dataPropType: util_1.Type.Num,
          compositeRule: true
        }, _valid);
        block();
      });
    }
    function checkLimits(count) {
      gen.code((0, codegen_1._)(_t9 || (_t9 = _`${0}++`), count));
      if (max === undefined) {
        gen.if((0, codegen_1._)(_t10 || (_t10 = _`${0} >= ${0}`), count, min), function () {
          return gen.assign(valid, true).break();
        });
      } else {
        gen.if((0, codegen_1._)(_t11 || (_t11 = _`${0} > ${0}`), count, max), function () {
          return gen.assign(valid, false).break();
        });
        if (min === 1) gen.assign(valid, true);else gen.if((0, codegen_1._)(_t12 || (_t12 = _`${0} >= ${0}`), count, min), function () {
          return gen.assign(valid, true);
        });
      }
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 27579:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _slicedToArray = (__webpack_require__(25112)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var code_1 = __webpack_require__(81833);
exports.error = {
  message: function message(_ref) {
    var _ref$params = _ref.params,
      property = _ref$params.property,
      depsCount = _ref$params.depsCount,
      deps = _ref$params.deps;
    var property_ies = depsCount === 1 ? "property" : "properties";
    return (0, codegen_1.str)(_t || (_t = _`must have ${0} ${0} when property ${0} is present`), property_ies, deps, property);
  },
  params: function params(_ref2) {
    var _ref2$params = _ref2.params,
      property = _ref2$params.property,
      depsCount = _ref2$params.depsCount,
      deps = _ref2$params.deps,
      missingProperty = _ref2$params.missingProperty;
    return (0, codegen_1._)(_t2 || (_t2 = _`{property: ${0},
    missingProperty: ${0},
    depsCount: ${0},
    deps: ${0}}`), property, missingProperty, depsCount, deps);
  } // TODO change to reference
};
var def = {
  keyword: "dependencies",
  type: "object",
  schemaType: "object",
  error: exports.error,
  code(cxt) {
    var _splitDependencies = splitDependencies(cxt),
      _splitDependencies2 = _slicedToArray(_splitDependencies, 2),
      propDeps = _splitDependencies2[0],
      schDeps = _splitDependencies2[1];
    validatePropertyDeps(cxt, propDeps);
    validateSchemaDeps(cxt, schDeps);
  }
};
function splitDependencies(_ref3) {
  var schema = _ref3.schema;
  var propertyDeps = {};
  var schemaDeps = {};
  for (var key in schema) {
    if (key === "__proto__") continue;
    var deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;
    deps[key] = schema[key];
  }
  return [propertyDeps, schemaDeps];
}
function validatePropertyDeps(cxt) {
  var propertyDeps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : cxt.schema;
  var gen = cxt.gen,
    data = cxt.data,
    it = cxt.it;
  if (Object.keys(propertyDeps).length === 0) return;
  var missing = gen.let("missing");
  var _loop = function _loop() {
    var deps = propertyDeps[prop];
    if (deps.length === 0) return 1; // continue
    var hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);
    cxt.setParams({
      property: prop,
      depsCount: deps.length,
      deps: deps.join(", ")
    });
    if (it.allErrors) {
      gen.if(hasProperty, function () {
        var _iterator = _createForOfIteratorHelper(deps),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var depProp = _step.value;
            (0, code_1.checkReportMissingProp)(cxt, depProp);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      });
    } else {
      gen.if((0, codegen_1._)(_t3 || (_t3 = _`${0} && (${0})`), hasProperty, (0, code_1.checkMissingProp)(cxt, deps, missing)));
      (0, code_1.reportMissingProp)(cxt, missing);
      gen.else();
    }
  };
  for (var prop in propertyDeps) {
    if (_loop()) continue;
  }
}
exports.validatePropertyDeps = validatePropertyDeps;
function validateSchemaDeps(cxt) {
  var schemaDeps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : cxt.schema;
  var gen = cxt.gen,
    data = cxt.data,
    keyword = cxt.keyword,
    it = cxt.it;
  var valid = gen.name("valid");
  var _loop2 = function _loop2(prop) {
    if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop])) return 1; // continue
    gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), function () {
      var schCxt = cxt.subschema({
        keyword,
        schemaProp: prop
      }, valid);
      cxt.mergeValidEvaluated(schCxt, valid);
    }, function () {
      return gen.var(valid, true);
    } // TODO var
    );
    cxt.ok(valid);
  };
  for (var prop in schemaDeps) {
    if (_loop2(prop)) continue;
  }
}
exports.validateSchemaDeps = validateSchemaDeps;
exports["default"] = def;

/***/ }),

/***/ 70754:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var error = {
  message: function message(_ref) {
    var params = _ref.params;
    return (0, codegen_1.str)(_t || (_t = _`must match "${0}" schema`), params.ifClause);
  },
  params: function params(_ref2) {
    var _params = _ref2.params;
    return (0, codegen_1._)(_t2 || (_t2 = _`{failingKeyword: ${0}}`), _params.ifClause);
  }
};
var def = {
  keyword: "if",
  schemaType: ["object", "boolean"],
  trackErrors: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      parentSchema = cxt.parentSchema,
      it = cxt.it;
    if (parentSchema.then === undefined && parentSchema.else === undefined) {
      (0, util_1.checkStrictMode)(it, '"if" without "then" and "else" is ignored');
    }
    var hasThen = hasSchema(it, "then");
    var hasElse = hasSchema(it, "else");
    if (!hasThen && !hasElse) return;
    var valid = gen.let("valid", true);
    var schValid = gen.name("_valid");
    validateIf();
    cxt.reset();
    if (hasThen && hasElse) {
      var ifClause = gen.let("ifClause");
      cxt.setParams({
        ifClause
      });
      gen.if(schValid, validateClause("then", ifClause), validateClause("else", ifClause));
    } else if (hasThen) {
      gen.if(schValid, validateClause("then"));
    } else {
      gen.if((0, codegen_1.not)(schValid), validateClause("else"));
    }
    cxt.pass(valid, function () {
      return cxt.error(true);
    });
    function validateIf() {
      var schCxt = cxt.subschema({
        keyword: "if",
        compositeRule: true,
        createErrors: false,
        allErrors: false
      }, schValid);
      cxt.mergeEvaluated(schCxt);
    }
    function validateClause(keyword, ifClause) {
      return function () {
        var schCxt = cxt.subschema({
          keyword
        }, schValid);
        gen.assign(valid, schValid);
        cxt.mergeValidEvaluated(schCxt, valid);
        if (ifClause) gen.assign(ifClause, (0, codegen_1._)(_t3 || (_t3 = _`${0}`), keyword));else cxt.setParams({
          ifClause: keyword
        });
      };
    }
  }
};
function hasSchema(it, keyword) {
  var schema = it.schema[keyword];
  return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);
}
exports["default"] = def;

/***/ }),

/***/ 84889:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(70560);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var additionalItems_1 = __webpack_require__(95971);
var prefixItems_1 = __webpack_require__(98804);
var items_1 = __webpack_require__(73135);
var items2020_1 = __webpack_require__(58068);
var contains_1 = __webpack_require__(37833);
var dependencies_1 = __webpack_require__(27579);
var propertyNames_1 = __webpack_require__(28749);
var additionalProperties_1 = __webpack_require__(32435);
var properties_1 = __webpack_require__(23125);
var patternProperties_1 = __webpack_require__(27062);
var not_1 = __webpack_require__(81743);
var anyOf_1 = __webpack_require__(19628);
var oneOf_1 = __webpack_require__(97112);
var allOf_1 = __webpack_require__(2238);
var if_1 = __webpack_require__(70754);
var thenElse_1 = __webpack_require__(29161);
function getApplicator() {
  var draft2020 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  var applicator = [
  // any
  not_1.default, anyOf_1.default, oneOf_1.default, allOf_1.default, if_1.default, thenElse_1.default,
  // object
  propertyNames_1.default, additionalProperties_1.default, dependencies_1.default, properties_1.default, patternProperties_1.default];
  // array
  if (draft2020) applicator.push(prefixItems_1.default, items2020_1.default);else applicator.push(additionalItems_1.default, items_1.default);
  applicator.push(contains_1.default);
  return applicator;
}
exports["default"] = getApplicator;

/***/ }),

/***/ 73135:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2;
__webpack_require__(60228);
__webpack_require__(47522);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.validateTuple = void 0;
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var code_1 = __webpack_require__(81833);
var def = {
  keyword: "items",
  type: "array",
  schemaType: ["object", "array", "boolean"],
  before: "uniqueItems",
  code(cxt) {
    var schema = cxt.schema,
      it = cxt.it;
    if (Array.isArray(schema)) return validateTuple(cxt, "additionalItems", schema);
    it.items = true;
    if ((0, util_1.alwaysValidSchema)(it, schema)) return;
    cxt.ok((0, code_1.validateArray)(cxt));
  }
};
function validateTuple(cxt, extraItems) {
  var schArr = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : cxt.schema;
  var gen = cxt.gen,
    parentSchema = cxt.parentSchema,
    data = cxt.data,
    keyword = cxt.keyword,
    it = cxt.it;
  checkStrictTuple(parentSchema);
  if (it.opts.unevaluated && schArr.length && it.items !== true) {
    it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);
  }
  var valid = gen.name("valid");
  var len = gen.const("len", (0, codegen_1._)(_t || (_t = _`${0}.length`), data));
  schArr.forEach(function (sch, i) {
    if ((0, util_1.alwaysValidSchema)(it, sch)) return;
    gen.if((0, codegen_1._)(_t2 || (_t2 = _`${0} > ${0}`), len, i), function () {
      return cxt.subschema({
        keyword,
        schemaProp: i,
        dataProp: i
      }, valid);
    });
    cxt.ok(valid);
  });
  function checkStrictTuple(sch) {
    var opts = it.opts,
      errSchemaPath = it.errSchemaPath;
    var l = schArr.length;
    var fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);
    if (opts.strictTuples && !fullTuple) {
      var msg = `"${keyword}" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path "${errSchemaPath}"`;
      (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);
    }
  }
}
exports.validateTuple = validateTuple;
exports["default"] = def;

/***/ }),

/***/ 58068:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var code_1 = __webpack_require__(81833);
var additionalItems_1 = __webpack_require__(95971);
var error = {
  message: function message(_ref) {
    var len = _ref.params.len;
    return (0, codegen_1.str)(_t || (_t = _`must NOT have more than ${0} items`), len);
  },
  params: function params(_ref2) {
    var len = _ref2.params.len;
    return (0, codegen_1._)(_t2 || (_t2 = _`{limit: ${0}}`), len);
  }
};
var def = {
  keyword: "items",
  type: "array",
  schemaType: ["object", "boolean"],
  before: "uniqueItems",
  error,
  code(cxt) {
    var schema = cxt.schema,
      parentSchema = cxt.parentSchema,
      it = cxt.it;
    var prefixItems = parentSchema.prefixItems;
    it.items = true;
    if ((0, util_1.alwaysValidSchema)(it, schema)) return;
    if (prefixItems) (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);else cxt.ok((0, code_1.validateArray)(cxt));
  }
};
exports["default"] = def;

/***/ }),

/***/ 81743:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var util_1 = __webpack_require__(36348);
var def = {
  keyword: "not",
  schemaType: ["object", "boolean"],
  trackErrors: true,
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      it = cxt.it;
    if ((0, util_1.alwaysValidSchema)(it, schema)) {
      cxt.fail();
      return;
    }
    var valid = gen.name("valid");
    cxt.subschema({
      keyword: "not",
      compositeRule: true,
      createErrors: false,
      allErrors: false
    }, valid);
    cxt.failResult(valid, function () {
      return cxt.reset();
    }, function () {
      return cxt.error();
    });
  },
  error: {
    message: "must NOT be valid"
  }
};
exports["default"] = def;

/***/ }),

/***/ 97112:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3;
__webpack_require__(21057);
__webpack_require__(60228);
__webpack_require__(47522);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var error = {
  message: "must match exactly one schema in oneOf",
  params: function params(_ref) {
    var _params = _ref.params;
    return (0, codegen_1._)(_t || (_t = _`{passingSchemas: ${0}}`), _params.passing);
  }
};
var def = {
  keyword: "oneOf",
  schemaType: "array",
  trackErrors: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      parentSchema = cxt.parentSchema,
      it = cxt.it;
    /* istanbul ignore if */
    if (!Array.isArray(schema)) throw new Error("ajv implementation error");
    if (it.opts.discriminator && parentSchema.discriminator) return;
    var schArr = schema;
    var valid = gen.let("valid", false);
    var passing = gen.let("passing", null);
    var schValid = gen.name("_valid");
    cxt.setParams({
      passing
    });
    // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas
    gen.block(validateOneOf);
    cxt.result(valid, function () {
      return cxt.reset();
    }, function () {
      return cxt.error(true);
    });
    function validateOneOf() {
      schArr.forEach(function (sch, i) {
        var schCxt;
        if ((0, util_1.alwaysValidSchema)(it, sch)) {
          gen.var(schValid, true);
        } else {
          schCxt = cxt.subschema({
            keyword: "oneOf",
            schemaProp: i,
            compositeRule: true
          }, schValid);
        }
        if (i > 0) {
          gen.if((0, codegen_1._)(_t2 || (_t2 = _`${0} && ${0}`), schValid, valid)).assign(valid, false).assign(passing, (0, codegen_1._)(_t3 || (_t3 = _`[${0}, ${0}]`), passing, i)).else();
        }
        gen.if(schValid, function () {
          gen.assign(valid, true);
          gen.assign(passing, i);
          if (schCxt) cxt.mergeEvaluated(schCxt, codegen_1.Name);
        });
      });
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 27062:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2;
__webpack_require__(38077);
__webpack_require__(60228);
__webpack_require__(64043);
__webpack_require__(7409);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(13440);
__webpack_require__(12826);
__webpack_require__(76801);
__webpack_require__(43843);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var code_1 = __webpack_require__(81833);
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var util_2 = __webpack_require__(36348);
var def = {
  keyword: "patternProperties",
  type: "object",
  schemaType: "object",
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      data = cxt.data,
      parentSchema = cxt.parentSchema,
      it = cxt.it;
    var opts = it.opts;
    var patterns = (0, code_1.allSchemaProperties)(schema);
    var alwaysValidPatterns = patterns.filter(function (p) {
      return (0, util_1.alwaysValidSchema)(it, schema[p]);
    });
    if (patterns.length === 0 || alwaysValidPatterns.length === patterns.length && (!it.opts.unevaluated || it.props === true)) {
      return;
    }
    var checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;
    var valid = gen.name("valid");
    if (it.props !== true && !(it.props instanceof codegen_1.Name)) {
      it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);
    }
    var props = it.props;
    validatePatternProperties();
    function validatePatternProperties() {
      var _iterator = _createForOfIteratorHelper(patterns),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var pat = _step.value;
          if (checkProperties) checkMatchingProperties(pat);
          if (it.allErrors) {
            validateProperties(pat);
          } else {
            gen.var(valid, true); // TODO var
            validateProperties(pat);
            gen.if(valid);
          }
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
    function checkMatchingProperties(pat) {
      for (var prop in checkProperties) {
        if (new RegExp(pat).test(prop)) {
          (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);
        }
      }
    }
    function validateProperties(pat) {
      gen.forIn("key", data, function (key) {
        gen.if((0, codegen_1._)(_t || (_t = _`${0}.test(${0})`), (0, code_1.usePattern)(cxt, pat), key), function () {
          var alwaysValid = alwaysValidPatterns.includes(pat);
          if (!alwaysValid) {
            cxt.subschema({
              keyword: "patternProperties",
              schemaProp: pat,
              dataProp: key,
              dataPropType: util_2.Type.Str
            }, valid);
          }
          if (it.opts.unevaluated && props !== true) {
            gen.assign((0, codegen_1._)(_t2 || (_t2 = _`${0}[${0}]`), props, key), true);
          } else if (!alwaysValid && !it.allErrors) {
            // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)
            // or if all properties were evaluated (props === true)
            gen.if((0, codegen_1.not)(valid), function () {
              return gen.break();
            });
          }
        });
      });
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 98804:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var items_1 = __webpack_require__(73135);
var def = {
  keyword: "prefixItems",
  type: "array",
  schemaType: ["array"],
  before: "uniqueItems",
  code: function code(cxt) {
    return (0, items_1.validateTuple)(cxt, "items");
  }
};
exports["default"] = def;

/***/ }),

/***/ 23125:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
__webpack_require__(38077);
__webpack_require__(60228);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var validate_1 = __webpack_require__(5128);
var code_1 = __webpack_require__(81833);
var util_1 = __webpack_require__(36348);
var additionalProperties_1 = __webpack_require__(32435);
var def = {
  keyword: "properties",
  type: "object",
  schemaType: "object",
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      parentSchema = cxt.parentSchema,
      data = cxt.data,
      it = cxt.it;
    if (it.opts.removeAdditional === "all" && parentSchema.additionalProperties === undefined) {
      additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, "additionalProperties"));
    }
    var allProps = (0, code_1.allSchemaProperties)(schema);
    var _iterator = _createForOfIteratorHelper(allProps),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var prop = _step.value;
        it.definedProperties.add(prop);
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    if (it.opts.unevaluated && allProps.length && it.props !== true) {
      it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);
    }
    var properties = allProps.filter(function (p) {
      return !(0, util_1.alwaysValidSchema)(it, schema[p]);
    });
    if (properties.length === 0) return;
    var valid = gen.name("valid");
    var _iterator2 = _createForOfIteratorHelper(properties),
      _step2;
    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var _prop = _step2.value;
        if (hasDefault(_prop)) {
          applyPropertySchema(_prop);
        } else {
          gen.if((0, code_1.propertyInData)(gen, data, _prop, it.opts.ownProperties));
          applyPropertySchema(_prop);
          if (!it.allErrors) gen.else().var(valid, true);
          gen.endIf();
        }
        cxt.it.definedProperties.add(_prop);
        cxt.ok(valid);
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
    function hasDefault(prop) {
      return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;
    }
    function applyPropertySchema(prop) {
      cxt.subschema({
        keyword: "properties",
        schemaProp: prop,
        dataProp: prop
      }, valid);
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 28749:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var error = {
  message: "property name must be valid",
  params: function params(_ref) {
    var _params = _ref.params;
    return (0, codegen_1._)(_t || (_t = _`{propertyName: ${0}}`), _params.propertyName);
  }
};
var def = {
  keyword: "propertyNames",
  type: "object",
  schemaType: ["object", "boolean"],
  error,
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      data = cxt.data,
      it = cxt.it;
    if ((0, util_1.alwaysValidSchema)(it, schema)) return;
    var valid = gen.name("valid");
    gen.forIn("key", data, function (key) {
      cxt.setParams({
        propertyName: key
      });
      cxt.subschema({
        keyword: "propertyNames",
        data: key,
        dataTypes: ["string"],
        propertyName: key,
        compositeRule: true
      }, valid);
      gen.if((0, codegen_1.not)(valid), function () {
        cxt.error(true);
        if (!it.allErrors) gen.break();
      });
    });
    cxt.ok(valid);
  }
};
exports["default"] = def;

/***/ }),

/***/ 29161:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var util_1 = __webpack_require__(36348);
var def = {
  keyword: ["then", "else"],
  schemaType: ["object", "boolean"],
  code(_ref) {
    var keyword = _ref.keyword,
      parentSchema = _ref.parentSchema,
      it = _ref.it;
    if (parentSchema.if === undefined) (0, util_1.checkStrictMode)(it, `"${keyword}" without "if" is ignored`);
  }
};
exports["default"] = def;

/***/ }),

/***/ 81833:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _toConsumableArray = (__webpack_require__(49648)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12,
  _t13,
  _t14,
  _t15;
__webpack_require__(50886);
__webpack_require__(38077);
__webpack_require__(60228);
__webpack_require__(70560);
__webpack_require__(12826);
__webpack_require__(21057);
__webpack_require__(47522);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var names_1 = __webpack_require__(16512);
var util_2 = __webpack_require__(36348);
function checkReportMissingProp(cxt, prop) {
  var gen = cxt.gen,
    data = cxt.data,
    it = cxt.it;
  gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), function () {
    cxt.setParams({
      missingProperty: (0, codegen_1._)(_t || (_t = _`${0}`), prop)
    }, true);
    cxt.error();
  });
}
exports.checkReportMissingProp = checkReportMissingProp;
function checkMissingProp(_ref, properties, missing) {
  var gen = _ref.gen,
    data = _ref.data,
    opts = _ref.it.opts;
  return (0, codegen_1.or).apply(void 0, _toConsumableArray(properties.map(function (prop) {
    return (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._)(_t2 || (_t2 = _`${0} = ${0}`), missing, prop));
  })));
}
exports.checkMissingProp = checkMissingProp;
function reportMissingProp(cxt, missing) {
  cxt.setParams({
    missingProperty: missing
  }, true);
  cxt.error();
}
exports.reportMissingProp = reportMissingProp;
function hasPropFunc(gen) {
  return gen.scopeValue("func", {
    // eslint-disable-next-line @typescript-eslint/unbound-method
    ref: Object.prototype.hasOwnProperty,
    code: (0, codegen_1._)(_t3 || (_t3 = _`Object.prototype.hasOwnProperty`))
  });
}
exports.hasPropFunc = hasPropFunc;
function isOwnProperty(gen, data, property) {
  return (0, codegen_1._)(_t4 || (_t4 = _`${0}.call(${0}, ${0})`), hasPropFunc(gen), data, property);
}
exports.isOwnProperty = isOwnProperty;
function propertyInData(gen, data, property, ownProperties) {
  var cond = (0, codegen_1._)(_t5 || (_t5 = _`${0}${0} !== undefined`), data, (0, codegen_1.getProperty)(property));
  return ownProperties ? (0, codegen_1._)(_t6 || (_t6 = _`${0} && ${0}`), cond, isOwnProperty(gen, data, property)) : cond;
}
exports.propertyInData = propertyInData;
function noPropertyInData(gen, data, property, ownProperties) {
  var cond = (0, codegen_1._)(_t7 || (_t7 = _`${0}${0} === undefined`), data, (0, codegen_1.getProperty)(property));
  return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;
}
exports.noPropertyInData = noPropertyInData;
function allSchemaProperties(schemaMap) {
  return schemaMap ? Object.keys(schemaMap).filter(function (p) {
    return p !== "__proto__";
  }) : [];
}
exports.allSchemaProperties = allSchemaProperties;
function schemaProperties(it, schemaMap) {
  return allSchemaProperties(schemaMap).filter(function (p) {
    return !(0, util_1.alwaysValidSchema)(it, schemaMap[p]);
  });
}
exports.schemaProperties = schemaProperties;
function callValidateCode(_ref2, func, context, passSchema) {
  var schemaCode = _ref2.schemaCode,
    data = _ref2.data,
    _ref2$it = _ref2.it,
    gen = _ref2$it.gen,
    topSchemaRef = _ref2$it.topSchemaRef,
    schemaPath = _ref2$it.schemaPath,
    errorPath = _ref2$it.errorPath,
    it = _ref2.it;
  var dataAndSchema = passSchema ? (0, codegen_1._)(_t8 || (_t8 = _`${0}, ${0}, ${0}${0}`), schemaCode, data, topSchemaRef, schemaPath) : data;
  var valCxt = [[names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)], [names_1.default.parentData, it.parentData], [names_1.default.parentDataProperty, it.parentDataProperty], [names_1.default.rootData, names_1.default.rootData]];
  if (it.opts.dynamicRef) valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);
  var args = (0, codegen_1._)(_t9 || (_t9 = _`${0}, ${0}`), dataAndSchema, gen.object.apply(gen, valCxt));
  return context !== codegen_1.nil ? (0, codegen_1._)(_t10 || (_t10 = _`${0}.call(${0}, ${0})`), func, context, args) : (0, codegen_1._)(_t11 || (_t11 = _`${0}(${0})`), func, args);
}
exports.callValidateCode = callValidateCode;
var newRegExp = (0, codegen_1._)(_t12 || (_t12 = _`new RegExp`));
function usePattern(_ref3, pattern) {
  var gen = _ref3.gen,
    opts = _ref3.it.opts;
  var u = opts.unicodeRegExp ? "u" : "";
  var regExp = opts.code.regExp;
  var rx = regExp(pattern, u);
  return gen.scopeValue("pattern", {
    key: rx.toString(),
    ref: rx,
    code: (0, codegen_1._)(_t13 || (_t13 = _`${0}(${0}, ${0})`), regExp.code === "new RegExp" ? newRegExp : (0, util_2.useFunc)(gen, regExp), pattern, u)
  });
}
exports.usePattern = usePattern;
function validateArray(cxt) {
  var gen = cxt.gen,
    data = cxt.data,
    keyword = cxt.keyword,
    it = cxt.it;
  var valid = gen.name("valid");
  if (it.allErrors) {
    var validArr = gen.let("valid", true);
    validateItems(function () {
      return gen.assign(validArr, false);
    });
    return validArr;
  }
  gen.var(valid, true);
  validateItems(function () {
    return gen.break();
  });
  return valid;
  function validateItems(notValid) {
    var len = gen.const("len", (0, codegen_1._)(_t14 || (_t14 = _`${0}.length`), data));
    gen.forRange("i", 0, len, function (i) {
      cxt.subschema({
        keyword,
        dataProp: i,
        dataPropType: util_1.Type.Num
      }, valid);
      gen.if((0, codegen_1.not)(valid), notValid);
    });
  }
}
exports.validateArray = validateArray;
function validateUnion(cxt) {
  var gen = cxt.gen,
    schema = cxt.schema,
    keyword = cxt.keyword,
    it = cxt.it;
  /* istanbul ignore if */
  if (!Array.isArray(schema)) throw new Error("ajv implementation error");
  var alwaysValid = schema.some(function (sch) {
    return (0, util_1.alwaysValidSchema)(it, sch);
  });
  if (alwaysValid && !it.opts.unevaluated) return;
  var valid = gen.let("valid", false);
  var schValid = gen.name("_valid");
  gen.block(function () {
    return schema.forEach(function (_sch, i) {
      var schCxt = cxt.subschema({
        keyword,
        schemaProp: i,
        compositeRule: true
      }, schValid);
      gen.assign(valid, (0, codegen_1._)(_t15 || (_t15 = _`${0} || ${0}`), valid, schValid));
      var merged = cxt.mergeValidEvaluated(schCxt, schValid);
      // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)
      // or if all properties and items were evaluated (it.props === true && it.items === true)
      if (!merged) gen.if((0, codegen_1.not)(valid));
    });
  });
  cxt.result(valid, function () {
    return cxt.reset();
  }, function () {
    return cxt.error(true);
  });
}
exports.validateUnion = validateUnion;

/***/ }),

/***/ 34093:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


__webpack_require__(21057);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var def = {
  keyword: "id",
  code() {
    throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID');
  }
};
exports["default"] = def;

/***/ }),

/***/ 52330:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var id_1 = __webpack_require__(34093);
var ref_1 = __webpack_require__(9613);
var core = ["$schema", "$id", "$defs", "$vocabulary", {
  keyword: "$comment"
}, "definitions", id_1.default, ref_1.default];
exports["default"] = core;

/***/ }),

/***/ 9613:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9;
__webpack_require__(21057);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.callRef = exports.getValidate = void 0;
var ref_error_1 = __webpack_require__(94143);
var code_1 = __webpack_require__(81833);
var codegen_1 = __webpack_require__(22374);
var names_1 = __webpack_require__(16512);
var compile_1 = __webpack_require__(60237);
var util_1 = __webpack_require__(36348);
var def = {
  keyword: "$ref",
  schemaType: "string",
  code(cxt) {
    var gen = cxt.gen,
      $ref = cxt.schema,
      it = cxt.it;
    var baseId = it.baseId,
      env = it.schemaEnv,
      validateName = it.validateName,
      opts = it.opts,
      self = it.self;
    var root = env.root;
    if (($ref === "#" || $ref === "#/") && baseId === root.baseId) return callRootRef();
    var schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);
    if (schOrEnv === undefined) throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);
    if (schOrEnv instanceof compile_1.SchemaEnv) return callValidate(schOrEnv);
    return inlineRefSchema(schOrEnv);
    function callRootRef() {
      if (env === root) return callRef(cxt, validateName, env, env.$async);
      var rootName = gen.scopeValue("root", {
        ref: root
      });
      return callRef(cxt, (0, codegen_1._)(_t || (_t = _`${0}.validate`), rootName), root, root.$async);
    }
    function callValidate(sch) {
      var v = getValidate(cxt, sch);
      callRef(cxt, v, sch, sch.$async);
    }
    function inlineRefSchema(sch) {
      var schName = gen.scopeValue("schema", opts.code.source === true ? {
        ref: sch,
        code: (0, codegen_1.stringify)(sch)
      } : {
        ref: sch
      });
      var valid = gen.name("valid");
      var schCxt = cxt.subschema({
        schema: sch,
        dataTypes: [],
        schemaPath: codegen_1.nil,
        topSchemaRef: schName,
        errSchemaPath: $ref
      }, valid);
      cxt.mergeEvaluated(schCxt);
      cxt.ok(valid);
    }
  }
};
function getValidate(cxt, sch) {
  var gen = cxt.gen;
  return sch.validate ? gen.scopeValue("validate", {
    ref: sch.validate
  }) : (0, codegen_1._)(_t2 || (_t2 = _`${0}.validate`), gen.scopeValue("wrapper", {
    ref: sch
  }));
}
exports.getValidate = getValidate;
function callRef(cxt, v, sch, $async) {
  var gen = cxt.gen,
    it = cxt.it;
  var allErrors = it.allErrors,
    env = it.schemaEnv,
    opts = it.opts;
  var passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;
  if ($async) callAsyncRef();else callSyncRef();
  function callAsyncRef() {
    if (!env.$async) throw new Error("async schema referenced by sync schema");
    var valid = gen.let("valid");
    gen.try(function () {
      gen.code((0, codegen_1._)(_t3 || (_t3 = _`await ${0}`), (0, code_1.callValidateCode)(cxt, v, passCxt)));
      addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result
      if (!allErrors) gen.assign(valid, true);
    }, function (e) {
      gen.if((0, codegen_1._)(_t4 || (_t4 = _`!(${0} instanceof ${0})`), e, it.ValidationError), function () {
        return gen.throw(e);
      });
      addErrorsFrom(e);
      if (!allErrors) gen.assign(valid, false);
    });
    cxt.ok(valid);
  }
  function callSyncRef() {
    cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), function () {
      return addEvaluatedFrom(v);
    }, function () {
      return addErrorsFrom(v);
    });
  }
  function addErrorsFrom(source) {
    var errs = (0, codegen_1._)(_t5 || (_t5 = _`${0}.errors`), source);
    gen.assign(names_1.default.vErrors, (0, codegen_1._)(_t6 || (_t6 = _`${0} === null ? ${0} : ${0}.concat(${0})`), names_1.default.vErrors, errs, names_1.default.vErrors, errs)); // TODO tagged
    gen.assign(names_1.default.errors, (0, codegen_1._)(_t7 || (_t7 = _`${0}.length`), names_1.default.vErrors));
  }
  function addEvaluatedFrom(source) {
    var _a;
    if (!it.opts.unevaluated) return;
    var schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;
    // TODO refactor
    if (it.props !== true) {
      if (schEvaluated && !schEvaluated.dynamicProps) {
        if (schEvaluated.props !== undefined) {
          it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);
        }
      } else {
        var props = gen.var("props", (0, codegen_1._)(_t8 || (_t8 = _`${0}.evaluated.props`), source));
        it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);
      }
    }
    if (it.items !== true) {
      if (schEvaluated && !schEvaluated.dynamicItems) {
        if (schEvaluated.items !== undefined) {
          it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);
        }
      } else {
        var items = gen.var("items", (0, codegen_1._)(_t9 || (_t9 = _`${0}.evaluated.items`), source));
        it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);
      }
    }
  }
}
exports.callRef = callRef;
exports["default"] = def;

/***/ }),

/***/ 1138:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4;
__webpack_require__(21057);
__webpack_require__(76801);
__webpack_require__(43843);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var types_1 = __webpack_require__(10746);
var compile_1 = __webpack_require__(60237);
var util_1 = __webpack_require__(36348);
var error = {
  message: function message(_ref) {
    var _ref$params = _ref.params,
      discrError = _ref$params.discrError,
      tagName = _ref$params.tagName;
    return discrError === types_1.DiscrError.Tag ? `tag "${tagName}" must be string` : `value of tag "${tagName}" must be in oneOf`;
  },
  params: function params(_ref2) {
    var _ref2$params = _ref2.params,
      discrError = _ref2$params.discrError,
      tag = _ref2$params.tag,
      tagName = _ref2$params.tagName;
    return (0, codegen_1._)(_t || (_t = _`{error: ${0}, tag: ${0}, tagValue: ${0}}`), discrError, tagName, tag);
  }
};
var def = {
  keyword: "discriminator",
  type: "object",
  schemaType: "object",
  error,
  code(cxt) {
    var gen = cxt.gen,
      data = cxt.data,
      schema = cxt.schema,
      parentSchema = cxt.parentSchema,
      it = cxt.it;
    var oneOf = parentSchema.oneOf;
    if (!it.opts.discriminator) {
      throw new Error("discriminator: requires discriminator option");
    }
    var tagName = schema.propertyName;
    if (typeof tagName != "string") throw new Error("discriminator: requires propertyName");
    if (schema.mapping) throw new Error("discriminator: mapping is not supported");
    if (!oneOf) throw new Error("discriminator: requires oneOf keyword");
    var valid = gen.let("valid", false);
    var tag = gen.const("tag", (0, codegen_1._)(_t2 || (_t2 = _`${0}${0}`), data, (0, codegen_1.getProperty)(tagName)));
    gen.if((0, codegen_1._)(_t3 || (_t3 = _`typeof ${0} == "string"`), tag), function () {
      return validateMapping();
    }, function () {
      return cxt.error(false, {
        discrError: types_1.DiscrError.Tag,
        tag,
        tagName
      });
    });
    cxt.ok(valid);
    function validateMapping() {
      var mapping = getMapping();
      gen.if(false);
      for (var tagValue in mapping) {
        gen.elseIf((0, codegen_1._)(_t4 || (_t4 = _`${0} === ${0}`), tag, tagValue));
        gen.assign(valid, applyTagSchema(mapping[tagValue]));
      }
      gen.else();
      cxt.error(false, {
        discrError: types_1.DiscrError.Mapping,
        tag,
        tagName
      });
      gen.endIf();
    }
    function applyTagSchema(schemaProp) {
      var _valid = gen.name("valid");
      var schCxt = cxt.subschema({
        keyword: "oneOf",
        schemaProp
      }, _valid);
      cxt.mergeEvaluated(schCxt, codegen_1.Name);
      return _valid;
    }
    function getMapping() {
      var _a;
      var oneOfMapping = {};
      var topRequired = hasRequired(parentSchema);
      var tagRequired = true;
      for (var i = 0; i < oneOf.length; i++) {
        var sch = oneOf[i];
        if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {
          sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch === null || sch === void 0 ? void 0 : sch.$ref);
          if (sch instanceof compile_1.SchemaEnv) sch = sch.schema;
        }
        var propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];
        if (typeof propSch != "object") {
          throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${tagName}"`);
        }
        tagRequired = tagRequired && (topRequired || hasRequired(sch));
        addMappings(propSch, i);
      }
      if (!tagRequired) throw new Error(`discriminator: "${tagName}" must be required`);
      return oneOfMapping;
      function hasRequired(_ref3) {
        var required = _ref3.required;
        return Array.isArray(required) && required.includes(tagName);
      }
      function addMappings(sch, i) {
        if (sch.const) {
          addMapping(sch.const, i);
        } else if (sch.enum) {
          var _iterator = _createForOfIteratorHelper(sch.enum),
            _step;
          try {
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              var tagValue = _step.value;
              addMapping(tagValue, i);
            }
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }
        } else {
          throw new Error(`discriminator: "properties/${tagName}" must have "const" or "enum"`);
        }
      }
      function addMapping(tagValue, i) {
        if (typeof tagValue != "string" || tagValue in oneOfMapping) {
          throw new Error(`discriminator: "${tagName}" values must be unique strings`);
        }
        oneOfMapping[tagValue] = i;
      }
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 10746:
/***/ (function(__unused_webpack_module, exports) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.DiscrError = void 0;
var DiscrError;
(function (DiscrError) {
  DiscrError["Tag"] = "tag";
  DiscrError["Mapping"] = "mapping";
})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));

/***/ }),

/***/ 34887:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var core_1 = __webpack_require__(52330);
var validation_1 = __webpack_require__(84758);
var applicator_1 = __webpack_require__(84889);
var format_1 = __webpack_require__(97053);
var metadata_1 = __webpack_require__(61904);
var draft7Vocabularies = [core_1.default, validation_1.default, (0, applicator_1.default)(), format_1.default, metadata_1.metadataVocabulary, metadata_1.contentVocabulary];
exports["default"] = draft7Vocabularies;

/***/ }),

/***/ 60856:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _slicedToArray = (__webpack_require__(25112)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12,
  _t13,
  _t14,
  _t15,
  _t16,
  _t17;
__webpack_require__(21057);
__webpack_require__(52003);
__webpack_require__(68518);
__webpack_require__(64043);
__webpack_require__(13440);
__webpack_require__(12826);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var error = {
  message: function message(_ref) {
    var schemaCode = _ref.schemaCode;
    return (0, codegen_1.str)(_t || (_t = _`must match format "${0}"`), schemaCode);
  },
  params: function params(_ref2) {
    var schemaCode = _ref2.schemaCode;
    return (0, codegen_1._)(_t2 || (_t2 = _`{format: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: "format",
  type: ["number", "string"],
  schemaType: "string",
  $data: true,
  error,
  code(cxt, ruleType) {
    var gen = cxt.gen,
      data = cxt.data,
      $data = cxt.$data,
      schema = cxt.schema,
      schemaCode = cxt.schemaCode,
      it = cxt.it;
    var opts = it.opts,
      errSchemaPath = it.errSchemaPath,
      schemaEnv = it.schemaEnv,
      self = it.self;
    if (!opts.validateFormats) return;
    if ($data) validate$DataFormat();else validateFormat();
    function validate$DataFormat() {
      var fmts = gen.scopeValue("formats", {
        ref: self.formats,
        code: opts.code.formats
      });
      var fDef = gen.const("fDef", (0, codegen_1._)(_t3 || (_t3 = _`${0}[${0}]`), fmts, schemaCode));
      var fType = gen.let("fType");
      var format = gen.let("format");
      // TODO simplify
      gen.if((0, codegen_1._)(_t4 || (_t4 = _`typeof ${0} == "object" && !(${0} instanceof RegExp)`), fDef, fDef), function () {
        return gen.assign(fType, (0, codegen_1._)(_t5 || (_t5 = _`${0}.type || "string"`), fDef)).assign(format, (0, codegen_1._)(_t6 || (_t6 = _`${0}.validate`), fDef));
      }, function () {
        return gen.assign(fType, (0, codegen_1._)(_t7 || (_t7 = _`"string"`))).assign(format, fDef);
      });
      cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));
      function unknownFmt() {
        if (opts.strictSchema === false) return codegen_1.nil;
        return (0, codegen_1._)(_t8 || (_t8 = _`${0} && !${0}`), schemaCode, format);
      }
      function invalidFmt() {
        var callFormat = schemaEnv.$async ? (0, codegen_1._)(_t9 || (_t9 = _`(${0}.async ? await ${0}(${0}) : ${0}(${0}))`), fDef, format, data, format, data) : (0, codegen_1._)(_t10 || (_t10 = _`${0}(${0})`), format, data);
        var validData = (0, codegen_1._)(_t11 || (_t11 = _`(typeof ${0} == "function" ? ${0} : ${0}.test(${0}))`), format, callFormat, format, data);
        return (0, codegen_1._)(_t12 || (_t12 = _`${0} && ${0} !== true && ${0} === ${0} && !${0}`), format, format, fType, ruleType, validData);
      }
    }
    function validateFormat() {
      var formatDef = self.formats[schema];
      if (!formatDef) {
        unknownFormat();
        return;
      }
      if (formatDef === true) return;
      var _getFormat = getFormat(formatDef),
        _getFormat2 = _slicedToArray(_getFormat, 3),
        fmtType = _getFormat2[0],
        format = _getFormat2[1],
        fmtRef = _getFormat2[2];
      if (fmtType === ruleType) cxt.pass(validCondition());
      function unknownFormat() {
        if (opts.strictSchema === false) {
          self.logger.warn(unknownMsg());
          return;
        }
        throw new Error(unknownMsg());
        function unknownMsg() {
          return `unknown format "${schema}" ignored in schema at path "${errSchemaPath}"`;
        }
      }
      function getFormat(fmtDef) {
        var code = fmtDef instanceof RegExp ? (0, codegen_1.regexpCode)(fmtDef) : opts.code.formats ? (0, codegen_1._)(_t13 || (_t13 = _`${0}${0}`), opts.code.formats, (0, codegen_1.getProperty)(schema)) : undefined;
        var fmt = gen.scopeValue("formats", {
          key: schema,
          ref: fmtDef,
          code
        });
        if (typeof fmtDef == "object" && !(fmtDef instanceof RegExp)) {
          return [fmtDef.type || "string", fmtDef.validate, (0, codegen_1._)(_t14 || (_t14 = _`${0}.validate`), fmt)];
        }
        return ["string", fmtDef, fmt];
      }
      function validCondition() {
        if (typeof formatDef == "object" && !(formatDef instanceof RegExp) && formatDef.async) {
          if (!schemaEnv.$async) throw new Error("async format in sync schema");
          return (0, codegen_1._)(_t15 || (_t15 = _`await ${0}(${0})`), fmtRef, data);
        }
        return typeof format == "function" ? (0, codegen_1._)(_t16 || (_t16 = _`${0}(${0})`), fmtRef, data) : (0, codegen_1._)(_t17 || (_t17 = _`${0}.test(${0})`), fmtRef, data);
      }
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 97053:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var format_1 = __webpack_require__(60856);
var format = [format_1.default];
exports["default"] = format;

/***/ }),

/***/ 61904:
/***/ (function(__unused_webpack_module, exports) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
exports.contentVocabulary = exports.metadataVocabulary = void 0;
exports.metadataVocabulary = ["title", "description", "default", "deprecated", "readOnly", "writeOnly", "examples"];
exports.contentVocabulary = ["contentMediaType", "contentEncoding", "contentSchema"];

/***/ }),

/***/ 9426:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var equal_1 = __webpack_require__(91740);
var error = {
  message: "must be equal to constant",
  params: function params(_ref) {
    var schemaCode = _ref.schemaCode;
    return (0, codegen_1._)(_t || (_t = _`{allowedValue: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: "const",
  $data: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      data = cxt.data,
      $data = cxt.$data,
      schemaCode = cxt.schemaCode,
      schema = cxt.schema;
    if ($data || schema && typeof schema == "object") {
      cxt.fail$data((0, codegen_1._)(_t2 || (_t2 = _`!${0}(${0}, ${0})`), (0, util_1.useFunc)(gen, equal_1.default), data, schemaCode));
    } else {
      cxt.fail((0, codegen_1._)(_t3 || (_t3 = _`${0} !== ${0}`), schema, data));
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 8161:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _toConsumableArray = (__webpack_require__(49648)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4;
__webpack_require__(21057);
__webpack_require__(50886);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var equal_1 = __webpack_require__(91740);
var error = {
  message: "must be equal to one of the allowed values",
  params: function params(_ref) {
    var schemaCode = _ref.schemaCode;
    return (0, codegen_1._)(_t || (_t = _`{allowedValues: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: "enum",
  schemaType: "array",
  $data: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      data = cxt.data,
      $data = cxt.$data,
      schema = cxt.schema,
      schemaCode = cxt.schemaCode,
      it = cxt.it;
    if (!$data && schema.length === 0) throw new Error("enum must have non-empty array");
    var useLoop = schema.length >= it.opts.loopEnum;
    var eql;
    var getEql = function getEql() {
      return eql !== null && eql !== void 0 ? eql : eql = (0, util_1.useFunc)(gen, equal_1.default);
    };
    var valid;
    if (useLoop || $data) {
      valid = gen.let("valid");
      cxt.block$data(valid, loopEnum);
    } else {
      /* istanbul ignore if */
      if (!Array.isArray(schema)) throw new Error("ajv implementation error");
      var vSchema = gen.const("vSchema", schemaCode);
      valid = (0, codegen_1.or).apply(void 0, _toConsumableArray(schema.map(function (_x, i) {
        return equalCode(vSchema, i);
      })));
    }
    cxt.pass(valid);
    function loopEnum() {
      gen.assign(valid, false);
      gen.forOf("v", schemaCode, function (v) {
        return gen.if((0, codegen_1._)(_t2 || (_t2 = _`${0}(${0}, ${0})`), getEql(), data, v), function () {
          return gen.assign(valid, true).break();
        });
      });
    }
    function equalCode(vSchema, i) {
      var sch = schema[i];
      return typeof sch === "object" && sch !== null ? (0, codegen_1._)(_t3 || (_t3 = _`${0}(${0}, ${0}[${0}])`), getEql(), data, vSchema, i) : (0, codegen_1._)(_t4 || (_t4 = _`${0} === ${0}`), data, sch);
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 84758:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var limitNumber_1 = __webpack_require__(36250);
var multipleOf_1 = __webpack_require__(36113);
var limitLength_1 = __webpack_require__(15842);
var pattern_1 = __webpack_require__(40172);
var limitProperties_1 = __webpack_require__(27226);
var required_1 = __webpack_require__(70281);
var limitItems_1 = __webpack_require__(30665);
var uniqueItems_1 = __webpack_require__(21778);
var const_1 = __webpack_require__(9426);
var enum_1 = __webpack_require__(8161);
var validation = [
// number
limitNumber_1.default, multipleOf_1.default,
// string
limitLength_1.default, pattern_1.default,
// object
limitProperties_1.default, required_1.default,
// array
limitItems_1.default, uniqueItems_1.default,
// any
{
  keyword: "type",
  schemaType: ["string", "array"]
}, {
  keyword: "nullable",
  schemaType: "boolean"
}, const_1.default, enum_1.default];
exports["default"] = validation;

/***/ }),

/***/ 30665:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var error = {
  message(_ref) {
    var keyword = _ref.keyword,
      schemaCode = _ref.schemaCode;
    var comp = keyword === "maxItems" ? "more" : "fewer";
    return (0, codegen_1.str)(_t || (_t = _`must NOT have ${0} than ${0} items`), comp, schemaCode);
  },
  params: function params(_ref2) {
    var schemaCode = _ref2.schemaCode;
    return (0, codegen_1._)(_t2 || (_t2 = _`{limit: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: ["maxItems", "minItems"],
  type: "array",
  schemaType: "number",
  $data: true,
  error,
  code(cxt) {
    var keyword = cxt.keyword,
      data = cxt.data,
      schemaCode = cxt.schemaCode;
    var op = keyword === "maxItems" ? codegen_1.operators.GT : codegen_1.operators.LT;
    cxt.fail$data((0, codegen_1._)(_t3 || (_t3 = _`${0}.length ${0} ${0}`), data, op, schemaCode));
  }
};
exports["default"] = def;

/***/ }),

/***/ 15842:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var ucs2length_1 = __webpack_require__(96097);
var error = {
  message(_ref) {
    var keyword = _ref.keyword,
      schemaCode = _ref.schemaCode;
    var comp = keyword === "maxLength" ? "more" : "fewer";
    return (0, codegen_1.str)(_t || (_t = _`must NOT have ${0} than ${0} characters`), comp, schemaCode);
  },
  params: function params(_ref2) {
    var schemaCode = _ref2.schemaCode;
    return (0, codegen_1._)(_t2 || (_t2 = _`{limit: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: ["maxLength", "minLength"],
  type: "string",
  schemaType: "number",
  $data: true,
  error,
  code(cxt) {
    var keyword = cxt.keyword,
      data = cxt.data,
      schemaCode = cxt.schemaCode,
      it = cxt.it;
    var op = keyword === "maxLength" ? codegen_1.operators.GT : codegen_1.operators.LT;
    var len = it.opts.unicode === false ? (0, codegen_1._)(_t3 || (_t3 = _`${0}.length`), data) : (0, codegen_1._)(_t4 || (_t4 = _`${0}(${0})`), (0, util_1.useFunc)(cxt.gen, ucs2length_1.default), data);
    cxt.fail$data((0, codegen_1._)(_t5 || (_t5 = _`${0} ${0} ${0}`), len, op, schemaCode));
  }
};
exports["default"] = def;

/***/ }),

/***/ 36250:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var ops = codegen_1.operators;
var KWDs = {
  maximum: {
    okStr: "<=",
    ok: ops.LTE,
    fail: ops.GT
  },
  minimum: {
    okStr: ">=",
    ok: ops.GTE,
    fail: ops.LT
  },
  exclusiveMaximum: {
    okStr: "<",
    ok: ops.LT,
    fail: ops.GTE
  },
  exclusiveMinimum: {
    okStr: ">",
    ok: ops.GT,
    fail: ops.LTE
  }
};
var error = {
  message: function message(_ref) {
    var keyword = _ref.keyword,
      schemaCode = _ref.schemaCode;
    return (0, codegen_1.str)(_t || (_t = _`must be ${0} ${0}`), KWDs[keyword].okStr, schemaCode);
  },
  params: function params(_ref2) {
    var keyword = _ref2.keyword,
      schemaCode = _ref2.schemaCode;
    return (0, codegen_1._)(_t2 || (_t2 = _`{comparison: ${0}, limit: ${0}}`), KWDs[keyword].okStr, schemaCode);
  }
};
var def = {
  keyword: Object.keys(KWDs),
  type: "number",
  schemaType: "number",
  $data: true,
  error,
  code(cxt) {
    var keyword = cxt.keyword,
      data = cxt.data,
      schemaCode = cxt.schemaCode;
    cxt.fail$data((0, codegen_1._)(_t3 || (_t3 = _`${0} ${0} ${0} || isNaN(${0})`), data, KWDs[keyword].fail, schemaCode, data));
  }
};
exports["default"] = def;

/***/ }),

/***/ 27226:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var error = {
  message(_ref) {
    var keyword = _ref.keyword,
      schemaCode = _ref.schemaCode;
    var comp = keyword === "maxProperties" ? "more" : "fewer";
    return (0, codegen_1.str)(_t || (_t = _`must NOT have ${0} than ${0} properties`), comp, schemaCode);
  },
  params: function params(_ref2) {
    var schemaCode = _ref2.schemaCode;
    return (0, codegen_1._)(_t2 || (_t2 = _`{limit: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: ["maxProperties", "minProperties"],
  type: "object",
  schemaType: "number",
  $data: true,
  error,
  code(cxt) {
    var keyword = cxt.keyword,
      data = cxt.data,
      schemaCode = cxt.schemaCode;
    var op = keyword === "maxProperties" ? codegen_1.operators.GT : codegen_1.operators.LT;
    cxt.fail$data((0, codegen_1._)(_t3 || (_t3 = _`Object.keys(${0}).length ${0} ${0}`), data, op, schemaCode));
  }
};
exports["default"] = def;

/***/ }),

/***/ 36113:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var codegen_1 = __webpack_require__(22374);
var error = {
  message: function message(_ref) {
    var schemaCode = _ref.schemaCode;
    return (0, codegen_1.str)(_t || (_t = _`must be multiple of ${0}`), schemaCode);
  },
  params: function params(_ref2) {
    var schemaCode = _ref2.schemaCode;
    return (0, codegen_1._)(_t2 || (_t2 = _`{multipleOf: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: "multipleOf",
  type: "number",
  schemaType: "number",
  $data: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      data = cxt.data,
      schemaCode = cxt.schemaCode,
      it = cxt.it;
    // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)
    var prec = it.opts.multipleOfPrecision;
    var res = gen.let("res");
    var invalid = prec ? (0, codegen_1._)(_t3 || (_t3 = _`Math.abs(Math.round(${0}) - ${0}) > 1e-${0}`), res, res, prec) : (0, codegen_1._)(_t4 || (_t4 = _`${0} !== parseInt(${0})`), res, res);
    cxt.fail$data((0, codegen_1._)(_t5 || (_t5 = _`(${0} === 0 || (${0} = ${0}/${0}, ${0}))`), schemaCode, res, data, schemaCode, invalid));
  }
};
exports["default"] = def;

/***/ }),

/***/ 40172:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var code_1 = __webpack_require__(81833);
var codegen_1 = __webpack_require__(22374);
var error = {
  message: function message(_ref) {
    var schemaCode = _ref.schemaCode;
    return (0, codegen_1.str)(_t || (_t = _`must match pattern "${0}"`), schemaCode);
  },
  params: function params(_ref2) {
    var schemaCode = _ref2.schemaCode;
    return (0, codegen_1._)(_t2 || (_t2 = _`{pattern: ${0}}`), schemaCode);
  }
};
var def = {
  keyword: "pattern",
  type: "string",
  schemaType: "string",
  $data: true,
  error,
  code(cxt) {
    var data = cxt.data,
      $data = cxt.$data,
      schema = cxt.schema,
      schemaCode = cxt.schemaCode,
      it = cxt.it;
    // TODO regexp should be wrapped in try/catchs
    var u = it.opts.unicodeRegExp ? "u" : "";
    var regExp = $data ? (0, codegen_1._)(_t3 || (_t3 = _`(new RegExp(${0}, ${0}))`), schemaCode, u) : (0, code_1.usePattern)(cxt, schema);
    cxt.fail$data((0, codegen_1._)(_t4 || (_t4 = _`!${0}.test(${0})`), regExp, data));
  }
};
exports["default"] = def;

/***/ }),

/***/ 70281:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _createForOfIteratorHelper = (__webpack_require__(31440)["default"]);
var _ = function _(t) {
    return t;
  },
  _t,
  _t2;
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var code_1 = __webpack_require__(81833);
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var error = {
  message: function message(_ref) {
    var missingProperty = _ref.params.missingProperty;
    return (0, codegen_1.str)(_t || (_t = _`must have required property '${0}'`), missingProperty);
  },
  params: function params(_ref2) {
    var missingProperty = _ref2.params.missingProperty;
    return (0, codegen_1._)(_t2 || (_t2 = _`{missingProperty: ${0}}`), missingProperty);
  }
};
var def = {
  keyword: "required",
  type: "object",
  schemaType: "array",
  $data: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      schema = cxt.schema,
      schemaCode = cxt.schemaCode,
      data = cxt.data,
      $data = cxt.$data,
      it = cxt.it;
    var opts = it.opts;
    if (!$data && schema.length === 0) return;
    var useLoop = schema.length >= opts.loopRequired;
    if (it.allErrors) allErrorsMode();else exitOnErrorMode();
    if (opts.strictRequired) {
      var props = cxt.parentSchema.properties;
      var definedProperties = cxt.it.definedProperties;
      var _iterator = _createForOfIteratorHelper(schema),
        _step;
      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var requiredKey = _step.value;
          if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {
            var schemaPath = it.schemaEnv.baseId + it.errSchemaPath;
            var msg = `required property "${requiredKey}" is not defined at "${schemaPath}" (strictRequired)`;
            (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);
          }
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }
    function allErrorsMode() {
      if (useLoop || $data) {
        cxt.block$data(codegen_1.nil, loopAllRequired);
      } else {
        var _iterator2 = _createForOfIteratorHelper(schema),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var prop = _step2.value;
            (0, code_1.checkReportMissingProp)(cxt, prop);
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
      }
    }
    function exitOnErrorMode() {
      var missing = gen.let("missing");
      if (useLoop || $data) {
        var valid = gen.let("valid", true);
        cxt.block$data(valid, function () {
          return loopUntilMissing(missing, valid);
        });
        cxt.ok(valid);
      } else {
        gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));
        (0, code_1.reportMissingProp)(cxt, missing);
        gen.else();
      }
    }
    function loopAllRequired() {
      gen.forOf("prop", schemaCode, function (prop) {
        cxt.setParams({
          missingProperty: prop
        });
        gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), function () {
          return cxt.error();
        });
      });
    }
    function loopUntilMissing(missing, valid) {
      cxt.setParams({
        missingProperty: missing
      });
      gen.forOf(missing, schemaCode, function () {
        gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));
        gen.if((0, codegen_1.not)(valid), function () {
          cxt.error();
          gen.break();
        });
      }, codegen_1.nil);
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 21778:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";


var _ = function _(t) {
    return t;
  },
  _t,
  _t2,
  _t3,
  _t4,
  _t5,
  _t6,
  _t7,
  _t8,
  _t9,
  _t10,
  _t11,
  _t12,
  _t13,
  _t14,
  _t15,
  _t16,
  _t17;
__webpack_require__(60228);
Object.defineProperty(exports, "__esModule", ({
  value: true
}));
var dataType_1 = __webpack_require__(26647);
var codegen_1 = __webpack_require__(22374);
var util_1 = __webpack_require__(36348);
var equal_1 = __webpack_require__(91740);
var error = {
  message: function message(_ref) {
    var _ref$params = _ref.params,
      i = _ref$params.i,
      j = _ref$params.j;
    return (0, codegen_1.str)(_t || (_t = _`must NOT have duplicate items (items ## ${0} and ${0} are identical)`), j, i);
  },
  params: function params(_ref2) {
    var _ref2$params = _ref2.params,
      i = _ref2$params.i,
      j = _ref2$params.j;
    return (0, codegen_1._)(_t2 || (_t2 = _`{i: ${0}, j: ${0}}`), i, j);
  }
};
var def = {
  keyword: "uniqueItems",
  type: "array",
  schemaType: "boolean",
  $data: true,
  error,
  code(cxt) {
    var gen = cxt.gen,
      data = cxt.data,
      $data = cxt.$data,
      schema = cxt.schema,
      parentSchema = cxt.parentSchema,
      schemaCode = cxt.schemaCode,
      it = cxt.it;
    if (!$data && !schema) return;
    var valid = gen.let("valid");
    var itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];
    cxt.block$data(valid, validateUniqueItems, (0, codegen_1._)(_t3 || (_t3 = _`${0} === false`), schemaCode));
    cxt.ok(valid);
    function validateUniqueItems() {
      var i = gen.let("i", (0, codegen_1._)(_t4 || (_t4 = _`${0}.length`), data));
      var j = gen.let("j");
      cxt.setParams({
        i,
        j
      });
      gen.assign(valid, true);
      gen.if((0, codegen_1._)(_t5 || (_t5 = _`${0} > 1`), i), function () {
        return (canOptimize() ? loopN : loopN2)(i, j);
      });
    }
    function canOptimize() {
      return itemTypes.length > 0 && !itemTypes.some(function (t) {
        return t === "object" || t === "array";
      });
    }
    function loopN(i, j) {
      var item = gen.name("item");
      var wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);
      var indices = gen.const("indices", (0, codegen_1._)(_t6 || (_t6 = _`{}`)));
      gen.for((0, codegen_1._)(_t7 || (_t7 = _`;${0}--;`), i), function () {
        gen.let(item, (0, codegen_1._)(_t8 || (_t8 = _`${0}[${0}]`), data, i));
        gen.if(wrongType, (0, codegen_1._)(_t9 || (_t9 = _`continue`)));
        if (itemTypes.length > 1) gen.if((0, codegen_1._)(_t10 || (_t10 = _`typeof ${0} == "string"`), item), (0, codegen_1._)(_t11 || (_t11 = _`${0} += "_"`), item));
        gen.if((0, codegen_1._)(_t12 || (_t12 = _`typeof ${0}[${0}] == "number"`), indices, item), function () {
          gen.assign(j, (0, codegen_1._)(_t13 || (_t13 = _`${0}[${0}]`), indices, item));
          cxt.error();
          gen.assign(valid, false).break();
        }).code((0, codegen_1._)(_t14 || (_t14 = _`${0}[${0}] = ${0}`), indices, item, i));
      });
    }
    function loopN2(i, j) {
      var eql = (0, util_1.useFunc)(gen, equal_1.default);
      var outer = gen.name("outer");
      gen.label(outer).for((0, codegen_1._)(_t15 || (_t15 = _`;${0}--;`), i), function () {
        return gen.for((0, codegen_1._)(_t16 || (_t16 = _`${0} = ${0}; ${0}--;`), j, i, j), function () {
          return gen.if((0, codegen_1._)(_t17 || (_t17 = _`${0}(${0}[${0}], ${0}[${0}])`), eql, data, i, data, j), function () {
            cxt.error();
            gen.assign(valid, false).break(outer);
          });
        });
      });
    }
  }
};
exports["default"] = def;

/***/ }),

/***/ 36324:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";


__webpack_require__(64043);
__webpack_require__(57267);
var traverse = module.exports = function (schema, opts, cb) {
  // Legacy support for v0.3.1 and earlier.
  if (typeof opts == 'function') {
    cb = opts;
    opts = {};
  }
  cb = opts.cb || cb;
  var pre = typeof cb == 'function' ? cb : cb.pre || function () {};
  var post = cb.post || function () {};
  _traverse(opts, pre, post, schema, '', schema);
};
traverse.keywords = {
  additionalItems: true,
  items: true,
  contains: true,
  additionalProperties: true,
  propertyNames: true,
  not: true,
  if: true,
  then: true,
  else: true
};
traverse.arrayKeywords = {
  items: true,
  allOf: true,
  anyOf: true,
  oneOf: true
};
traverse.propsKeywords = {
  $defs: true,
  definitions: true,
  properties: true,
  patternProperties: true,
  dependencies: true
};
traverse.skipKeywords = {
  default: true,
  enum: true,
  const: true,
  required: true,
  maximum: true,
  minimum: true,
  exclusiveMaximum: true,
  exclusiveMinimum: true,
  multipleOf: true,
  maxLength: true,
  minLength: true,
  pattern: true,
  format: true,
  maxItems: true,
  minItems: true,
  uniqueItems: true,
  maxProperties: true,
  minProperties: true
};
function _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {
    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
    for (var key in schema) {
      var sch = schema[key];
      if (Array.isArray(sch)) {
        if (key in traverse.arrayKeywords) {
          for (var i = 0; i < sch.length; i++) _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);
        }
      } else if (key in traverse.propsKeywords) {
        if (sch && typeof sch == 'object') {
          for (var prop in sch) _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);
        }
      } else if (key in traverse.keywords || opts.allKeys && !(key in traverse.skipKeywords)) {
        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);
      }
    }
    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
  }
}
function escapeJsonPtr(str) {
  return str.replace(/~/g, '~0').replace(/\//g, '~1');
}

/***/ }),

/***/ 18003:
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X0: function() { return /* binding */ registerModules; },
/* harmony export */   b7: function() { return /* binding */ useModule; }
/* harmony export */ });
/* unused harmony exports ModuleNotFoundError, registerModule */
/* harmony import */ var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30050);
/* harmony import */ var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76034);
/* harmony import */ var core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(89465);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17865);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21919);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47316);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(30911);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(2979);
/* harmony import */ var _home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63636);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(752);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(56646);
/* harmony import */ var core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(76265);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(21057);
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(47522);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_14__);









function _callSuper(t, o, e) { return o = (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(o), (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Z)(t, (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_isNativeReflectConstruct_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)() ? Reflect.construct(o, e || [], (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .Z)(t).constructor) : o.apply(t, e)); }






var modules = new Map();
var ModuleNotFoundError = /*#__PURE__*/function (_Error) {
  (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(ModuleNotFoundError, _Error);
  function ModuleNotFoundError(id) {
    var _this;
    (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .Z)(this, ModuleNotFoundError);
    _this = _callSuper(this, ModuleNotFoundError, [`Module "${id}" not found`]);
    _this.module = id;
    return _this;
  }
  return (0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(ModuleNotFoundError);
}( /*#__PURE__*/(0,_home_semiaddict_Work_Philharmoniedeparis_metaScore_metascore_library_git_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .Z)(Error));
function registerModules(modules, context) {
  modules.forEach(function (module) {
    registerModule(module, context);
  });
}
function registerModule(module, context) {
  if (modules.has(module.id)) {
    // Skip if already registerd.
    return;
  }

  // Add to list of registered modules.
  modules.set(module.id, null);

  // Register dependencies.
  module.dependencies.forEach(function (dependency) {
    registerModule(dependency, context);
  });

  // Install.
  var instance = new module(context);
  modules.set(module.id, instance);
  if (false) {}
}
function useModule(id) {
  var module = modules.get(id);
  if (!module) {
    throw new ModuleNotFoundError(id);
  }
  return module;
}

/***/ }),

/***/ 28139:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var map = {
	"./en": [
		98037,
		342
	],
	"./en.js": [
		98037,
		342
	],
	"./fr": [
		11594,
		996
	],
	"./fr.js": [
		11594,
		996
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function() { return Object.keys(map); };
webpackAsyncContext.id = 28139;
module.exports = webpackAsyncContext;

/***/ }),

/***/ 31747:
/***/ (function(module) {

function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
  return arr2;
}
module.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 12309:
/***/ (function(module) {

function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
module.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 89642:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arrayLikeToArray = __webpack_require__(31747);
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return arrayLikeToArray(arr);
}
module.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 28090:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(21057);
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self;
}
module.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 63765:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(60228);
__webpack_require__(73964);
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}
function _asyncToGenerator(fn) {
  return function () {
    var self = this,
      args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}
module.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 96833:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(21057);
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}
module.exports = _classCallCheck, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 92206:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(30050);
__webpack_require__(60228);
__webpack_require__(76034);
__webpack_require__(70560);
var setPrototypeOf = __webpack_require__(38687);
var isNativeReflectConstruct = __webpack_require__(25243);
function _construct(Parent, args, Class) {
  if (isNativeReflectConstruct()) {
    module.exports = _construct = Reflect.construct.bind(), module.exports.__esModule = true, module.exports["default"] = module.exports;
  } else {
    module.exports = _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) setPrototypeOf(instance, Class.prototype);
      return instance;
    }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
  return _construct.apply(null, arguments);
}
module.exports = _construct, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 88970:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toPropertyKey = __webpack_require__(49878);
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}
module.exports = _createClass, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 31440:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(752);
__webpack_require__(76265);
__webpack_require__(21057);
var unsupportedIterableToArray = __webpack_require__(67734);
function _createForOfIteratorHelper(o, allowArrayLike) {
  var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
  if (!it) {
    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;
      var F = function F() {};
      return {
        s: F,
        n: function n() {
          if (i >= o.length) return {
            done: true
          };
          return {
            done: false,
            value: o[i++]
          };
        },
        e: function e(_e) {
          throw _e;
        },
        f: F
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var normalCompletion = true,
    didErr = false,
    err;
  return {
    s: function s() {
      it = it.call(o);
    },
    n: function n() {
      var step = it.next();
      normalCompletion = step.done;
      return step;
    },
    e: function e(_e2) {
      didErr = true;
      err = _e2;
    },
    f: function f() {
      try {
        if (!normalCompletion && it["return"] != null) it["return"]();
      } finally {
        if (didErr) throw err;
      }
    }
  };
}
module.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 65851:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var toPropertyKey = __webpack_require__(49878);
function _defineProperty(obj, key, value) {
  key = toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
module.exports = _defineProperty, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 18911:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(60228);
__webpack_require__(76034);
__webpack_require__(32349);
var superPropBase = __webpack_require__(39967);
function _get() {
  if (typeof Reflect !== "undefined" && Reflect.get) {
    module.exports = _get = Reflect.get.bind(), module.exports.__esModule = true, module.exports["default"] = module.exports;
  } else {
    module.exports = _get = function _get(target, property, receiver) {
      var base = superPropBase(target, property);
      if (!base) return;
      var desc = Object.getOwnPropertyDescriptor(base, property);
      if (desc.get) {
        return desc.get.call(arguments.length < 3 ? target : receiver);
      }
      return desc.value;
    }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
  return _get.apply(this, arguments);
}
module.exports = _get, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 83387:
/***/ (function(module) {

function _getPrototypeOf(o) {
  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  return _getPrototypeOf(o);
}
module.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 43497:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(21057);
var setPrototypeOf = __webpack_require__(38687);
function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  Object.defineProperty(subClass, "prototype", {
    writable: false
  });
  if (superClass) setPrototypeOf(subClass, superClass);
}
module.exports = _inherits, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 73203:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(60228);
__webpack_require__(12826);
function _isNativeFunction(fn) {
  try {
    return Function.toString.call(fn).indexOf("[native code]") !== -1;
  } catch (e) {
    return typeof fn === "function";
  }
}
module.exports = _isNativeFunction, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 25243:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(60228);
__webpack_require__(76034);
__webpack_require__(30050);
function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;
  try {
    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}
module.exports = _isNativeReflectConstruct, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 41067:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(752);
__webpack_require__(76265);
function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
module.exports = _iterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 80062:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(752);
__webpack_require__(76265);
__webpack_require__(70560);
function _iterableToArrayLimit(r, l) {
  var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
  if (null != t) {
    var e,
      n,
      i,
      u,
      a = [],
      f = !0,
      o = !1;
    try {
      if (i = (t = t.call(r)).next, 0 === l) {
        if (Object(t) !== t) return;
        f = !1;
      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);
    } catch (r) {
      o = !0, n = r;
    } finally {
      try {
        if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return;
      } finally {
        if (o) throw n;
      }
    }
    return a;
  }
}
module.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 92078:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(21057);
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableRest, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 61421:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(21057);
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 91361:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(59749);
__webpack_require__(38077);
__webpack_require__(60228);
__webpack_require__(70560);
__webpack_require__(47522);
__webpack_require__(99474);
var defineProperty = __webpack_require__(65851);
function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function (r) {
      return Object.getOwnPropertyDescriptor(e, r).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread2(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {
      defineProperty(e, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return e;
}
module.exports = _objectSpread2, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 91349:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(21057);
var _typeof = (__webpack_require__(40282)["default"]);
var assertThisInitialized = __webpack_require__(28090);
function _possibleConstructorReturn(self, call) {
  if (call && (_typeof(call) === "object" || typeof call === "function")) {
    return call;
  } else if (call !== void 0) {
    throw new TypeError("Derived constructors may only return object or undefined");
  }
  return assertThisInitialized(self);
}
module.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 29004:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(752);
__webpack_require__(76265);
__webpack_require__(58373);
__webpack_require__(66793);
__webpack_require__(7629);
__webpack_require__(77509);
__webpack_require__(21057);
__webpack_require__(70560);
__webpack_require__(47522);
__webpack_require__(73964);
__webpack_require__(93374);
__webpack_require__(89730);
var _typeof = (__webpack_require__(40282)["default"]);
function _regeneratorRuntime() {
  "use strict";

  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
    return e;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  var t,
    e = {},
    r = Object.prototype,
    n = r.hasOwnProperty,
    o = Object.defineProperty || function (t, e, r) {
      t[e] = r.value;
    },
    i = "function" == typeof Symbol ? Symbol : {},
    a = i.iterator || "@@iterator",
    c = i.asyncIterator || "@@asyncIterator",
    u = i.toStringTag || "@@toStringTag";
  function define(t, e, r) {
    return Object.defineProperty(t, e, {
      value: r,
      enumerable: !0,
      configurable: !0,
      writable: !0
    }), t[e];
  }
  try {
    define({}, "");
  } catch (t) {
    define = function define(t, e, r) {
      return t[e] = r;
    };
  }
  function wrap(t, e, r, n) {
    var i = e && e.prototype instanceof Generator ? e : Generator,
      a = Object.create(i.prototype),
      c = new Context(n || []);
    return o(a, "_invoke", {
      value: makeInvokeMethod(t, r, c)
    }), a;
  }
  function tryCatch(t, e, r) {
    try {
      return {
        type: "normal",
        arg: t.call(e, r)
      };
    } catch (t) {
      return {
        type: "throw",
        arg: t
      };
    }
  }
  e.wrap = wrap;
  var h = "suspendedStart",
    l = "suspendedYield",
    f = "executing",
    s = "completed",
    y = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  var p = {};
  define(p, a, function () {
    return this;
  });
  var d = Object.getPrototypeOf,
    v = d && d(d(values([])));
  v && v !== r && n.call(v, a) && (p = v);
  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);
  function defineIteratorMethods(t) {
    ["next", "throw", "return"].forEach(function (e) {
      define(t, e, function (t) {
        return this._invoke(e, t);
      });
    });
  }
  function AsyncIterator(t, e) {
    function invoke(r, o, i, a) {
      var c = tryCatch(t[r], t, o);
      if ("throw" !== c.type) {
        var u = c.arg,
          h = u.value;
        return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) {
          invoke("next", t, i, a);
        }, function (t) {
          invoke("throw", t, i, a);
        }) : e.resolve(h).then(function (t) {
          u.value = t, i(u);
        }, function (t) {
          return invoke("throw", t, i, a);
        });
      }
      a(c.arg);
    }
    var r;
    o(this, "_invoke", {
      value: function value(t, n) {
        function callInvokeWithMethodAndArg() {
          return new e(function (e, r) {
            invoke(t, n, e, r);
          });
        }
        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      }
    });
  }
  function makeInvokeMethod(e, r, n) {
    var o = h;
    return function (i, a) {
      if (o === f) throw new Error("Generator is already running");
      if (o === s) {
        if ("throw" === i) throw a;
        return {
          value: t,
          done: !0
        };
      }
      for (n.method = i, n.arg = a;;) {
        var c = n.delegate;
        if (c) {
          var u = maybeInvokeDelegate(c, n);
          if (u) {
            if (u === y) continue;
            return u;
          }
        }
        if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {
          if (o === h) throw o = s, n.arg;
          n.dispatchException(n.arg);
        } else "return" === n.method && n.abrupt("return", n.arg);
        o = f;
        var p = tryCatch(e, r, n);
        if ("normal" === p.type) {
          if (o = n.done ? s : l, p.arg === y) continue;
          return {
            value: p.arg,
            done: n.done
          };
        }
        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
      }
    };
  }
  function maybeInvokeDelegate(e, r) {
    var n = r.method,
      o = e.iterator[n];
    if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
    var i = tryCatch(o, e.iterator, r.arg);
    if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y;
    var a = i.arg;
    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);
  }
  function pushTryEntry(t) {
    var e = {
      tryLoc: t[0]
    };
    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);
  }
  function resetTryEntry(t) {
    var e = t.completion || {};
    e.type = "normal", delete e.arg, t.completion = e;
  }
  function Context(t) {
    this.tryEntries = [{
      tryLoc: "root"
    }], t.forEach(pushTryEntry, this), this.reset(!0);
  }
  function values(e) {
    if (e || "" === e) {
      var r = e[a];
      if (r) return r.call(e);
      if ("function" == typeof e.next) return e;
      if (!isNaN(e.length)) {
        var o = -1,
          i = function next() {
            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;
            return next.value = t, next.done = !0, next;
          };
        return i.next = i;
      }
    }
    throw new TypeError(_typeof(e) + " is not iterable");
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
    value: GeneratorFunctionPrototype,
    configurable: !0
  }), o(GeneratorFunctionPrototype, "constructor", {
    value: GeneratorFunction,
    configurable: !0
  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) {
    var e = "function" == typeof t && t.constructor;
    return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
  }, e.mark = function (t) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t;
  }, e.awrap = function (t) {
    return {
      __await: t
    };
  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {
    return this;
  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {
    void 0 === i && (i = Promise);
    var a = new AsyncIterator(wrap(t, r, n, o), i);
    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {
      return t.done ? t.value : a.next();
    });
  }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () {
    return this;
  }), define(g, "toString", function () {
    return "[object Generator]";
  }), e.keys = function (t) {
    var e = Object(t),
      r = [];
    for (var n in e) r.push(n);
    return r.reverse(), function next() {
      for (; r.length;) {
        var t = r.pop();
        if (t in e) return next.value = t, next.done = !1, next;
      }
      return next.done = !0, next;
    };
  }, e.values = values, Context.prototype = {
    constructor: Context,
    reset: function reset(e) {
      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);
    },
    stop: function stop() {
      this.done = !0;
      var t = this.tryEntries[0].completion;
      if ("throw" === t.type) throw t.arg;
      return this.rval;
    },
    dispatchException: function dispatchException(e) {
      if (this.done) throw e;
      var r = this;
      function handle(n, o) {
        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o;
      }
      for (var o = this.tryEntries.length - 1; o >= 0; --o) {
        var i = this.tryEntries[o],
          a = i.completion;
        if ("root" === i.tryLoc) return handle("end");
        if (i.tryLoc <= this.prev) {
          var c = n.call(i, "catchLoc"),
            u = n.call(i, "finallyLoc");
          if (c && u) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          } else if (c) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
          } else {
            if (!u) throw new Error("try statement without catch or finally");
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          }
        }
      }
    },
    abrupt: function abrupt(t, e) {
      for (var r = this.tryEntries.length - 1; r >= 0; --r) {
        var o = this.tryEntries[r];
        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
          var i = o;
          break;
        }
      }
      i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
      var a = i ? i.completion : {};
      return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a);
    },
    complete: function complete(t, e) {
      if ("throw" === t.type) throw t.arg;
      return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y;
    },
    finish: function finish(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;
      }
    },
    "catch": function _catch(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.tryLoc === t) {
          var n = r.completion;
          if ("throw" === n.type) {
            var o = n.arg;
            resetTryEntry(r);
          }
          return o;
        }
      }
      throw new Error("illegal catch attempt");
    },
    delegateYield: function delegateYield(e, r, n) {
      return this.delegate = {
        iterator: values(e),
        resultName: r,
        nextLoc: n
      }, "next" === this.method && (this.arg = t), y;
    }
  }, e;
}
module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 38687:
/***/ (function(module) {

function _setPrototypeOf(o, p) {
  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  return _setPrototypeOf(o, p);
}
module.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 25112:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arrayWithHoles = __webpack_require__(12309);
var iterableToArrayLimit = __webpack_require__(80062);
var unsupportedIterableToArray = __webpack_require__(67734);
var nonIterableRest = __webpack_require__(92078);
function _slicedToArray(arr, i) {
  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();
}
module.exports = _slicedToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 39967:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var getPrototypeOf = __webpack_require__(83387);
function _superPropBase(object, property) {
  while (!Object.prototype.hasOwnProperty.call(object, property)) {
    object = getPrototypeOf(object);
    if (object === null) break;
  }
  return object;
}
module.exports = _superPropBase, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 49648:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var arrayWithoutHoles = __webpack_require__(89642);
var iterableToArray = __webpack_require__(41067);
var unsupportedIterableToArray = __webpack_require__(67734);
var nonIterableSpread = __webpack_require__(61421);
function _toConsumableArray(arr) {
  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();
}
module.exports = _toConsumableArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 90561:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(69373);
__webpack_require__(59903);
__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(21057);
var _typeof = (__webpack_require__(40282)["default"]);
function toPrimitive(t, r) {
  if ("object" != _typeof(t) || !t) return t;
  var e = t[Symbol.toPrimitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != _typeof(i)) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
module.exports = toPrimitive, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 49878:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

var _typeof = (__webpack_require__(40282)["default"]);
var toPrimitive = __webpack_require__(90561);
function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == _typeof(i) ? i : String(i);
}
module.exports = toPropertyKey, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 40282:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(59749);
__webpack_require__(86544);
__webpack_require__(60228);
__webpack_require__(752);
__webpack_require__(76265);
function _typeof(o) {
  "@babel/helpers - typeof";

  return (module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports), _typeof(o);
}
module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 67734:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(89730);
__webpack_require__(60228);
__webpack_require__(12826);
__webpack_require__(64043);
__webpack_require__(7409);
var arrayLikeToArray = __webpack_require__(31747);
function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);
}
module.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 76554:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

__webpack_require__(752);
__webpack_require__(56646);
__webpack_require__(60228);
__webpack_require__(76265);
__webpack_require__(21057);
var getPrototypeOf = __webpack_require__(83387);
var setPrototypeOf = __webpack_require__(38687);
var isNativeFunction = __webpack_require__(73203);
var construct = __webpack_require__(92206);
function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;
  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !isNativeFunction(Class)) return Class;
    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }
    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);
      _cache.set(Class, Wrapper);
    }
    function Wrapper() {
      return construct(Class, arguments, getPrototypeOf(this).constructor);
    }
    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return setPrototypeOf(Wrapper, Class);
  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  return _wrapNativeSuper(Class);
}
module.exports = _wrapNativeSuper, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),

/***/ 10509:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isCallable = __webpack_require__(69985);
var tryToString = __webpack_require__(23691);

var $TypeError = TypeError;

// `Assert: IsCallable(argument) is true`
module.exports = function (argument) {
  if (isCallable(argument)) return argument;
  throw new $TypeError(tryToString(argument) + ' is not a function');
};


/***/ }),

/***/ 52655:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isConstructor = __webpack_require__(19429);
var tryToString = __webpack_require__(23691);

var $TypeError = TypeError;

// `Assert: IsConstructor(argument) is true`
module.exports = function (argument) {
  if (isConstructor(argument)) return argument;
  throw new $TypeError(tryToString(argument) + ' is not a constructor');
};


/***/ }),

/***/ 23550:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isPossiblePrototype = __webpack_require__(60598);

var $String = String;
var $TypeError = TypeError;

module.exports = function (argument) {
  if (isPossiblePrototype(argument)) return argument;
  throw new $TypeError("Can't set " + $String(argument) + ' as a prototype');
};


/***/ }),

/***/ 87370:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var wellKnownSymbol = __webpack_require__(44201);
var create = __webpack_require__(25391);
var defineProperty = (__webpack_require__(72560).f);

var UNSCOPABLES = wellKnownSymbol('unscopables');
var ArrayPrototype = Array.prototype;

// Array.prototype[@@unscopables]
// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
if (ArrayPrototype[UNSCOPABLES] === undefined) {
  defineProperty(ArrayPrototype, UNSCOPABLES, {
    configurable: true,
    value: create(null)
  });
}

// add a key to Array.prototype[@@unscopables]
module.exports = function (key) {
  ArrayPrototype[UNSCOPABLES][key] = true;
};


/***/ }),

/***/ 71514:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var charAt = (__webpack_require__(10730).charAt);

// `AdvanceStringIndex` abstract operation
// https://tc39.es/ecma262/#sec-advancestringindex
module.exports = function (S, index, unicode) {
  return index + (unicode ? charAt(S, index).length : 1);
};


/***/ }),

/***/ 767:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isPrototypeOf = __webpack_require__(23622);

var $TypeError = TypeError;

module.exports = function (it, Prototype) {
  if (isPrototypeOf(Prototype, it)) return it;
  throw new $TypeError('Incorrect invocation');
};


/***/ }),

/***/ 85027:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isObject = __webpack_require__(48999);

var $String = String;
var $TypeError = TypeError;

// `Assert: Type(argument) is Object`
module.exports = function (argument) {
  if (isObject(argument)) return argument;
  throw new $TypeError($String(argument) + ' is not an object');
};


/***/ }),

/***/ 37075:
/***/ (function(module) {

"use strict";

// eslint-disable-next-line es/no-typed-arrays -- safe
module.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';


/***/ }),

/***/ 11655:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// FF26- bug: ArrayBuffers are non-extensible, but Object.isExtensible does not report it
var fails = __webpack_require__(3689);

module.exports = fails(function () {
  if (typeof ArrayBuffer == 'function') {
    var buffer = new ArrayBuffer(8);
    // eslint-disable-next-line es/no-object-isextensible, es/no-object-defineproperty -- safe
    if (Object.isExtensible(buffer)) Object.defineProperty(buffer, 'a', { value: 8 });
  }
});


/***/ }),

/***/ 54872:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var NATIVE_ARRAY_BUFFER = __webpack_require__(37075);
var DESCRIPTORS = __webpack_require__(67697);
var global = __webpack_require__(19037);
var isCallable = __webpack_require__(69985);
var isObject = __webpack_require__(48999);
var hasOwn = __webpack_require__(36812);
var classof = __webpack_require__(50926);
var tryToString = __webpack_require__(23691);
var createNonEnumerableProperty = __webpack_require__(75773);
var defineBuiltIn = __webpack_require__(11880);
var defineBuiltInAccessor = __webpack_require__(62148);
var isPrototypeOf = __webpack_require__(23622);
var getPrototypeOf = __webpack_require__(61868);
var setPrototypeOf = __webpack_require__(49385);
var wellKnownSymbol = __webpack_require__(44201);
var uid = __webpack_require__(14630);
var InternalStateModule = __webpack_require__(618);

var enforceInternalState = InternalStateModule.enforce;
var getInternalState = InternalStateModule.get;
var Int8Array = global.Int8Array;
var Int8ArrayPrototype = Int8Array && Int8Array.prototype;
var Uint8ClampedArray = global.Uint8ClampedArray;
var Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;
var TypedArray = Int8Array && getPrototypeOf(Int8Array);
var TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);
var ObjectPrototype = Object.prototype;
var TypeError = global.TypeError;

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');
var TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';
// Fixing native typed arrays in Opera Presto crashes the browser, see #595
var NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';
var TYPED_ARRAY_TAG_REQUIRED = false;
var NAME, Constructor, Prototype;

var TypedArrayConstructorsList = {
  Int8Array: 1,
  Uint8Array: 1,
  Uint8ClampedArray: 1,
  Int16Array: 2,
  Uint16Array: 2,
  Int32Array: 4,
  Uint32Array: 4,
  Float32Array: 4,
  Float64Array: 8
};

var BigIntArrayConstructorsList = {
  BigInt64Array: 8,
  BigUint64Array: 8
};

var isView = function isView(it) {
  if (!isObject(it)) return false;
  var klass = classof(it);
  return klass === 'DataView'
    || hasOwn(TypedArrayConstructorsList, klass)
    || hasOwn(BigIntArrayConstructorsList, klass);
};

var getTypedArrayConstructor = function (it) {
  var proto = getPrototypeOf(it);
  if (!isObject(proto)) return;
  var state = getInternalState(proto);
  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);
};

var isTypedArray = function (it) {
  if (!isObject(it)) return false;
  var klass = classof(it);
  return hasOwn(TypedArrayConstructorsList, klass)
    || hasOwn(BigIntArrayConstructorsList, klass);
};

var aTypedArray = function (it) {
  if (isTypedArray(it)) return it;
  throw new TypeError('Target is not a typed array');
};

var aTypedArrayConstructor = function (C) {
  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;
  throw new TypeError(tryToString(C) + ' is not a typed array constructor');
};

var exportTypedArrayMethod = function (KEY, property, forced, options) {
  if (!DESCRIPTORS) return;
  if (forced) for (var ARRAY in TypedArrayConstructorsList) {
    var TypedArrayConstructor = global[ARRAY];
    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {
      delete TypedArrayConstructor.prototype[KEY];
    } catch (error) {
      // old WebKit bug - some methods are non-configurable
      try {
        TypedArrayConstructor.prototype[KEY] = property;
      } catch (error2) { /* empty */ }
    }
  }
  if (!TypedArrayPrototype[KEY] || forced) {
    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property
      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);
  }
};

var exportTypedArrayStaticMethod = function (KEY, property, forced) {
  var ARRAY, TypedArrayConstructor;
  if (!DESCRIPTORS) return;
  if (setPrototypeOf) {
    if (forced) for (ARRAY in TypedArrayConstructorsList) {
      TypedArrayConstructor = global[ARRAY];
      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {
        delete TypedArrayConstructor[KEY];
      } catch (error) { /* empty */ }
    }
    if (!TypedArray[KEY] || forced) {
      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable
      try {
        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);
      } catch (error) { /* empty */ }
    } else return;
  }
  for (ARRAY in TypedArrayConstructorsList) {
    TypedArrayConstructor = global[ARRAY];
    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {
      defineBuiltIn(TypedArrayConstructor, KEY, property);
    }
  }
};

for (NAME in TypedArrayConstructorsList) {
  Constructor = global[NAME];
  Prototype = Constructor && Constructor.prototype;
  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;
  else NATIVE_ARRAY_BUFFER_VIEWS = false;
}

for (NAME in BigIntArrayConstructorsList) {
  Constructor = global[NAME];
  Prototype = Constructor && Constructor.prototype;
  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;
}

// WebKit bug - typed arrays constructors prototype is Object.prototype
if (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {
  // eslint-disable-next-line no-shadow -- safe
  TypedArray = function TypedArray() {
    throw new TypeError('Incorrect invocation');
  };
  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {
    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);
  }
}

if (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {
  TypedArrayPrototype = TypedArray.prototype;
  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {
    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);
  }
}

// WebKit bug - one more object in Uint8ClampedArray prototype chain
if (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {
  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);
}

if (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {
  TYPED_ARRAY_TAG_REQUIRED = true;
  defineBuiltInAccessor(TypedArrayPrototype, TO_STRING_TAG, {
    configurable: true,
    get: function () {
      return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;
    }
  });
  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {
    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);
  }
}

module.exports = {
  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,
  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,
  aTypedArray: aTypedArray,
  aTypedArrayConstructor: aTypedArrayConstructor,
  exportTypedArrayMethod: exportTypedArrayMethod,
  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,
  getTypedArrayConstructor: getTypedArrayConstructor,
  isView: isView,
  isTypedArray: isTypedArray,
  TypedArray: TypedArray,
  TypedArrayPrototype: TypedArrayPrototype
};


/***/ }),

/***/ 83999:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var uncurryThis = __webpack_require__(68844);
var DESCRIPTORS = __webpack_require__(67697);
var NATIVE_ARRAY_BUFFER = __webpack_require__(37075);
var FunctionName = __webpack_require__(41236);
var createNonEnumerableProperty = __webpack_require__(75773);
var defineBuiltInAccessor = __webpack_require__(62148);
var defineBuiltIns = __webpack_require__(6045);
var fails = __webpack_require__(3689);
var anInstance = __webpack_require__(767);
var toIntegerOrInfinity = __webpack_require__(68700);
var toLength = __webpack_require__(43126);
var toIndex = __webpack_require__(19842);
var fround = __webpack_require__(37788);
var IEEE754 = __webpack_require__(15477);
var getPrototypeOf = __webpack_require__(61868);
var setPrototypeOf = __webpack_require__(49385);
var arrayFill = __webpack_require__(62872);
var arraySlice = __webpack_require__(96004);
var inheritIfRequired = __webpack_require__(33457);
var copyConstructorProperties = __webpack_require__(8758);
var setToStringTag = __webpack_require__(55997);
var InternalStateModule = __webpack_require__(618);

var PROPER_FUNCTION_NAME = FunctionName.PROPER;
var CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;
var ARRAY_BUFFER = 'ArrayBuffer';
var DATA_VIEW = 'DataView';
var PROTOTYPE = 'prototype';
var WRONG_LENGTH = 'Wrong length';
var WRONG_INDEX = 'Wrong index';
var getInternalArrayBufferState = InternalStateModule.getterFor(ARRAY_BUFFER);
var getInternalDataViewState = InternalStateModule.getterFor(DATA_VIEW);
var setInternalState = InternalStateModule.set;
var NativeArrayBuffer = global[ARRAY_BUFFER];
var $ArrayBuffer = NativeArrayBuffer;
var ArrayBufferPrototype = $ArrayBuffer && $ArrayBuffer[PROTOTYPE];
var $DataView = global[DATA_VIEW];
var DataViewPrototype = $DataView && $DataView[PROTOTYPE];
var ObjectPrototype = Object.prototype;
var Array = global.Array;
var RangeError = global.RangeError;
var fill = uncurryThis(arrayFill);
var reverse = uncurryThis([].reverse);

var packIEEE754 = IEEE754.pack;
var unpackIEEE754 = IEEE754.unpack;

var packInt8 = function (number) {
  return [number & 0xFF];
};

var packInt16 = function (number) {
  return [number & 0xFF, number >> 8 & 0xFF];
};

var packInt32 = function (number) {
  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];
};

var unpackInt32 = function (buffer) {
  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];
};

var packFloat32 = function (number) {
  return packIEEE754(fround(number), 23, 4);
};

var packFloat64 = function (number) {
  return packIEEE754(number, 52, 8);
};

var addGetter = function (Constructor, key, getInternalState) {
  defineBuiltInAccessor(Constructor[PROTOTYPE], key, {
    configurable: true,
    get: function () {
      return getInternalState(this)[key];
    }
  });
};

var get = function (view, count, index, isLittleEndian) {
  var store = getInternalDataViewState(view);
  var intIndex = toIndex(index);
  var boolIsLittleEndian = !!isLittleEndian;
  if (intIndex + count > store.byteLength) throw new RangeError(WRONG_INDEX);
  var bytes = store.bytes;
  var start = intIndex + store.byteOffset;
  var pack = arraySlice(bytes, start, start + count);
  return boolIsLittleEndian ? pack : reverse(pack);
};

var set = function (view, count, index, conversion, value, isLittleEndian) {
  var store = getInternalDataViewState(view);
  var intIndex = toIndex(index);
  var pack = conversion(+value);
  var boolIsLittleEndian = !!isLittleEndian;
  if (intIndex + count > store.byteLength) throw new RangeError(WRONG_INDEX);
  var bytes = store.bytes;
  var start = intIndex + store.byteOffset;
  for (var i = 0; i < count; i++) bytes[start + i] = pack[boolIsLittleEndian ? i : count - i - 1];
};

if (!NATIVE_ARRAY_BUFFER) {
  $ArrayBuffer = function ArrayBuffer(length) {
    anInstance(this, ArrayBufferPrototype);
    var byteLength = toIndex(length);
    setInternalState(this, {
      type: ARRAY_BUFFER,
      bytes: fill(Array(byteLength), 0),
      byteLength: byteLength
    });
    if (!DESCRIPTORS) {
      this.byteLength = byteLength;
      this.detached = false;
    }
  };

  ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE];

  $DataView = function DataView(buffer, byteOffset, byteLength) {
    anInstance(this, DataViewPrototype);
    anInstance(buffer, ArrayBufferPrototype);
    var bufferState = getInternalArrayBufferState(buffer);
    var bufferLength = bufferState.byteLength;
    var offset = toIntegerOrInfinity(byteOffset);
    if (offset < 0 || offset > bufferLength) throw new RangeError('Wrong offset');
    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);
    if (offset + byteLength > bufferLength) throw new RangeError(WRONG_LENGTH);
    setInternalState(this, {
      type: DATA_VIEW,
      buffer: buffer,
      byteLength: byteLength,
      byteOffset: offset,
      bytes: bufferState.bytes
    });
    if (!DESCRIPTORS) {
      this.buffer = buffer;
      this.byteLength = byteLength;
      this.byteOffset = offset;
    }
  };

  DataViewPrototype = $DataView[PROTOTYPE];

  if (DESCRIPTORS) {
    addGetter($ArrayBuffer, 'byteLength', getInternalArrayBufferState);
    addGetter($DataView, 'buffer', getInternalDataViewState);
    addGetter($DataView, 'byteLength', getInternalDataViewState);
    addGetter($DataView, 'byteOffset', getInternalDataViewState);
  }

  defineBuiltIns(DataViewPrototype, {
    getInt8: function getInt8(byteOffset) {
      return get(this, 1, byteOffset)[0] << 24 >> 24;
    },
    getUint8: function getUint8(byteOffset) {
      return get(this, 1, byteOffset)[0];
    },
    getInt16: function getInt16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : false);
      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
    },
    getUint16: function getUint16(byteOffset /* , littleEndian */) {
      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : false);
      return bytes[1] << 8 | bytes[0];
    },
    getInt32: function getInt32(byteOffset /* , littleEndian */) {
      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : false));
    },
    getUint32: function getUint32(byteOffset /* , littleEndian */) {
      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : false)) >>> 0;
    },
    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : false), 23);
    },
    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {
      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : false), 52);
    },
    setInt8: function setInt8(byteOffset, value) {
      set(this, 1, byteOffset, packInt8, value);
    },
    setUint8: function setUint8(byteOffset, value) {
      set(this, 1, byteOffset, packInt8, value);
    },
    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : false);
    },
    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {
      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : false);
    },
    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : false);
    },
    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : false);
    },
    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {
      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : false);
    },
    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {
      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : false);
    }
  });
} else {
  var INCORRECT_ARRAY_BUFFER_NAME = PROPER_FUNCTION_NAME && NativeArrayBuffer.name !== ARRAY_BUFFER;
  /* eslint-disable no-new -- required for testing */
  if (!fails(function () {
    NativeArrayBuffer(1);
  }) || !fails(function () {
    new NativeArrayBuffer(-1);
  }) || fails(function () {
    new NativeArrayBuffer();
    new NativeArrayBuffer(1.5);
    new NativeArrayBuffer(NaN);
    return NativeArrayBuffer.length !== 1 || INCORRECT_ARRAY_BUFFER_NAME && !CONFIGURABLE_FUNCTION_NAME;
  })) {
    /* eslint-enable no-new -- required for testing */
    $ArrayBuffer = function ArrayBuffer(length) {
      anInstance(this, ArrayBufferPrototype);
      return inheritIfRequired(new NativeArrayBuffer(toIndex(length)), this, $ArrayBuffer);
    };

    $ArrayBuffer[PROTOTYPE] = ArrayBufferPrototype;

    ArrayBufferPrototype.constructor = $ArrayBuffer;

    copyConstructorProperties($ArrayBuffer, NativeArrayBuffer);
  } else if (INCORRECT_ARRAY_BUFFER_NAME && CONFIGURABLE_FUNCTION_NAME) {
    createNonEnumerableProperty(NativeArrayBuffer, 'name', ARRAY_BUFFER);
  }

  // WebKit bug - the same parent prototype for typed arrays and data view
  if (setPrototypeOf && getPrototypeOf(DataViewPrototype) !== ObjectPrototype) {
    setPrototypeOf(DataViewPrototype, ObjectPrototype);
  }

  // iOS Safari 7.x bug
  var testView = new $DataView(new $ArrayBuffer(2));
  var $setInt8 = uncurryThis(DataViewPrototype.setInt8);
  testView.setInt8(0, 2147483648);
  testView.setInt8(1, 2147483649);
  if (testView.getInt8(0) || !testView.getInt8(1)) defineBuiltIns(DataViewPrototype, {
    setInt8: function setInt8(byteOffset, value) {
      $setInt8(this, byteOffset, value << 24 >> 24);
    },
    setUint8: function setUint8(byteOffset, value) {
      $setInt8(this, byteOffset, value << 24 >> 24);
    }
  }, { unsafe: true });
}

setToStringTag($ArrayBuffer, ARRAY_BUFFER);
setToStringTag($DataView, DATA_VIEW);

module.exports = {
  ArrayBuffer: $ArrayBuffer,
  DataView: $DataView
};


/***/ }),

/***/ 70357:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toObject = __webpack_require__(90690);
var toAbsoluteIndex = __webpack_require__(27578);
var lengthOfArrayLike = __webpack_require__(6310);
var deletePropertyOrThrow = __webpack_require__(98494);

var min = Math.min;

// `Array.prototype.copyWithin` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.copywithin
// eslint-disable-next-line es/no-array-prototype-copywithin -- safe
module.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {
  var O = toObject(this);
  var len = lengthOfArrayLike(O);
  var to = toAbsoluteIndex(target, len);
  var from = toAbsoluteIndex(start, len);
  var end = arguments.length > 2 ? arguments[2] : undefined;
  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);
  var inc = 1;
  if (from < to && to < from + count) {
    inc = -1;
    from += count - 1;
    to += count - 1;
  }
  while (count-- > 0) {
    if (from in O) O[to] = O[from];
    else deletePropertyOrThrow(O, to);
    to += inc;
    from += inc;
  } return O;
};


/***/ }),

/***/ 62872:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toObject = __webpack_require__(90690);
var toAbsoluteIndex = __webpack_require__(27578);
var lengthOfArrayLike = __webpack_require__(6310);

// `Array.prototype.fill` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.fill
module.exports = function fill(value /* , start = 0, end = @length */) {
  var O = toObject(this);
  var length = lengthOfArrayLike(O);
  var argumentsLength = arguments.length;
  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);
  var end = argumentsLength > 2 ? arguments[2] : undefined;
  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);
  while (endPos > index) O[index++] = value;
  return O;
};


/***/ }),

/***/ 57612:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $forEach = (__webpack_require__(2960).forEach);
var arrayMethodIsStrict = __webpack_require__(16834);

var STRICT_METHOD = arrayMethodIsStrict('forEach');

// `Array.prototype.forEach` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.foreach
module.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {
  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
// eslint-disable-next-line es/no-array-prototype-foreach -- safe
} : [].forEach;


/***/ }),

/***/ 59976:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var lengthOfArrayLike = __webpack_require__(6310);

module.exports = function (Constructor, list, $length) {
  var index = 0;
  var length = arguments.length > 2 ? $length : lengthOfArrayLike(list);
  var result = new Constructor(length);
  while (length > index) result[index] = list[index++];
  return result;
};


/***/ }),

/***/ 21055:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var bind = __webpack_require__(54071);
var call = __webpack_require__(22615);
var toObject = __webpack_require__(90690);
var callWithSafeIterationClosing = __webpack_require__(71228);
var isArrayIteratorMethod = __webpack_require__(93292);
var isConstructor = __webpack_require__(19429);
var lengthOfArrayLike = __webpack_require__(6310);
var createProperty = __webpack_require__(76522);
var getIterator = __webpack_require__(5185);
var getIteratorMethod = __webpack_require__(91664);

var $Array = Array;

// `Array.from` method implementation
// https://tc39.es/ecma262/#sec-array.from
module.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
  var O = toObject(arrayLike);
  var IS_CONSTRUCTOR = isConstructor(this);
  var argumentsLength = arguments.length;
  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
  var mapping = mapfn !== undefined;
  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);
  var iteratorMethod = getIteratorMethod(O);
  var index = 0;
  var length, result, step, iterator, next, value;
  // if the target is not iterable or it's an array with the default iterator - use a simple case
  if (iteratorMethod && !(this === $Array && isArrayIteratorMethod(iteratorMethod))) {
    iterator = getIterator(O, iteratorMethod);
    next = iterator.next;
    result = IS_CONSTRUCTOR ? new this() : [];
    for (;!(step = call(next, iterator)).done; index++) {
      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
      createProperty(result, index, value);
    }
  } else {
    length = lengthOfArrayLike(O);
    result = IS_CONSTRUCTOR ? new this(length) : $Array(length);
    for (;length > index; index++) {
      value = mapping ? mapfn(O[index], index) : O[index];
      createProperty(result, index, value);
    }
  }
  result.length = index;
  return result;
};


/***/ }),

/***/ 84328:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIndexedObject = __webpack_require__(65290);
var toAbsoluteIndex = __webpack_require__(27578);
var lengthOfArrayLike = __webpack_require__(6310);

// `Array.prototype.{ indexOf, includes }` methods implementation
var createMethod = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIndexedObject($this);
    var length = lengthOfArrayLike(O);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare -- NaN check
    if (IS_INCLUDES && el !== el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare -- NaN check
      if (value !== value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) {
      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

module.exports = {
  // `Array.prototype.includes` method
  // https://tc39.es/ecma262/#sec-array.prototype.includes
  includes: createMethod(true),
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: createMethod(false)
};


/***/ }),

/***/ 61969:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var bind = __webpack_require__(54071);
var IndexedObject = __webpack_require__(94413);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);

// `Array.prototype.{ findLast, findLastIndex }` methods implementation
var createMethod = function (TYPE) {
  var IS_FIND_LAST_INDEX = TYPE === 1;
  return function ($this, callbackfn, that) {
    var O = toObject($this);
    var self = IndexedObject(O);
    var index = lengthOfArrayLike(self);
    var boundFunction = bind(callbackfn, that);
    var value, result;
    while (index-- > 0) {
      value = self[index];
      result = boundFunction(value, index, O);
      if (result) switch (TYPE) {
        case 0: return value; // findLast
        case 1: return index; // findLastIndex
      }
    }
    return IS_FIND_LAST_INDEX ? -1 : undefined;
  };
};

module.exports = {
  // `Array.prototype.findLast` method
  // https://github.com/tc39/proposal-array-find-from-last
  findLast: createMethod(0),
  // `Array.prototype.findLastIndex` method
  // https://github.com/tc39/proposal-array-find-from-last
  findLastIndex: createMethod(1)
};


/***/ }),

/***/ 2960:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var bind = __webpack_require__(54071);
var uncurryThis = __webpack_require__(68844);
var IndexedObject = __webpack_require__(94413);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var arraySpeciesCreate = __webpack_require__(27120);

var push = uncurryThis([].push);

// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation
var createMethod = function (TYPE) {
  var IS_MAP = TYPE === 1;
  var IS_FILTER = TYPE === 2;
  var IS_SOME = TYPE === 3;
  var IS_EVERY = TYPE === 4;
  var IS_FIND_INDEX = TYPE === 6;
  var IS_FILTER_REJECT = TYPE === 7;
  var NO_HOLES = TYPE === 5 || IS_FIND_INDEX;
  return function ($this, callbackfn, that, specificCreate) {
    var O = toObject($this);
    var self = IndexedObject(O);
    var length = lengthOfArrayLike(self);
    var boundFunction = bind(callbackfn, that);
    var index = 0;
    var create = specificCreate || arraySpeciesCreate;
    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
    var value, result;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      value = self[index];
      result = boundFunction(value, index, O);
      if (TYPE) {
        if (IS_MAP) target[index] = result; // map
        else if (result) switch (TYPE) {
          case 3: return true;              // some
          case 5: return value;             // find
          case 6: return index;             // findIndex
          case 2: push(target, value);      // filter
        } else switch (TYPE) {
          case 4: return false;             // every
          case 7: push(target, value);      // filterReject
        }
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
  };
};

module.exports = {
  // `Array.prototype.forEach` method
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  forEach: createMethod(0),
  // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  map: createMethod(1),
  // `Array.prototype.filter` method
  // https://tc39.es/ecma262/#sec-array.prototype.filter
  filter: createMethod(2),
  // `Array.prototype.some` method
  // https://tc39.es/ecma262/#sec-array.prototype.some
  some: createMethod(3),
  // `Array.prototype.every` method
  // https://tc39.es/ecma262/#sec-array.prototype.every
  every: createMethod(4),
  // `Array.prototype.find` method
  // https://tc39.es/ecma262/#sec-array.prototype.find
  find: createMethod(5),
  // `Array.prototype.findIndex` method
  // https://tc39.es/ecma262/#sec-array.prototype.findIndex
  findIndex: createMethod(6),
  // `Array.prototype.filterReject` method
  // https://github.com/tc39/proposal-array-filtering
  filterReject: createMethod(7)
};


/***/ }),

/***/ 60953:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable es/no-array-prototype-lastindexof -- safe */
var apply = __webpack_require__(61735);
var toIndexedObject = __webpack_require__(65290);
var toIntegerOrInfinity = __webpack_require__(68700);
var lengthOfArrayLike = __webpack_require__(6310);
var arrayMethodIsStrict = __webpack_require__(16834);

var min = Math.min;
var $lastIndexOf = [].lastIndexOf;
var NEGATIVE_ZERO = !!$lastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;
var STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');
var FORCED = NEGATIVE_ZERO || !STRICT_METHOD;

// `Array.prototype.lastIndexOf` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.lastindexof
module.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {
  // convert -0 to +0
  if (NEGATIVE_ZERO) return apply($lastIndexOf, this, arguments) || 0;
  var O = toIndexedObject(this);
  var length = lengthOfArrayLike(O);
  var index = length - 1;
  if (arguments.length > 1) index = min(index, toIntegerOrInfinity(arguments[1]));
  if (index < 0) index = length + index;
  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;
  return -1;
} : $lastIndexOf;


/***/ }),

/***/ 29042:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var wellKnownSymbol = __webpack_require__(44201);
var V8_VERSION = __webpack_require__(3615);

var SPECIES = wellKnownSymbol('species');

module.exports = function (METHOD_NAME) {
  // We can't use this feature detection in V8 since it causes
  // deoptimization and serious performance degradation
  // https://github.com/zloirock/core-js/issues/677
  return V8_VERSION >= 51 || !fails(function () {
    var array = [];
    var constructor = array.constructor = {};
    constructor[SPECIES] = function () {
      return { foo: 1 };
    };
    return array[METHOD_NAME](Boolean).foo !== 1;
  });
};


/***/ }),

/***/ 16834:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);

module.exports = function (METHOD_NAME, argument) {
  var method = [][METHOD_NAME];
  return !!method && fails(function () {
    // eslint-disable-next-line no-useless-call -- required for testing
    method.call(null, argument || function () { return 1; }, 1);
  });
};


/***/ }),

/***/ 88820:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var aCallable = __webpack_require__(10509);
var toObject = __webpack_require__(90690);
var IndexedObject = __webpack_require__(94413);
var lengthOfArrayLike = __webpack_require__(6310);

var $TypeError = TypeError;

// `Array.prototype.{ reduce, reduceRight }` methods implementation
var createMethod = function (IS_RIGHT) {
  return function (that, callbackfn, argumentsLength, memo) {
    var O = toObject(that);
    var self = IndexedObject(O);
    var length = lengthOfArrayLike(O);
    aCallable(callbackfn);
    var index = IS_RIGHT ? length - 1 : 0;
    var i = IS_RIGHT ? -1 : 1;
    if (argumentsLength < 2) while (true) {
      if (index in self) {
        memo = self[index];
        index += i;
        break;
      }
      index += i;
      if (IS_RIGHT ? index < 0 : length <= index) {
        throw new $TypeError('Reduce of empty array with no initial value');
      }
    }
    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {
      memo = callbackfn(memo, self[index], index, O);
    }
    return memo;
  };
};

module.exports = {
  // `Array.prototype.reduce` method
  // https://tc39.es/ecma262/#sec-array.prototype.reduce
  left: createMethod(false),
  // `Array.prototype.reduceRight` method
  // https://tc39.es/ecma262/#sec-array.prototype.reduceright
  right: createMethod(true)
};


/***/ }),

/***/ 5649:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var isArray = __webpack_require__(92297);

var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Safari < 13 does not throw an error in this case
var SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {
  // makes no sense without proper strict mode support
  if (this !== undefined) return true;
  try {
    // eslint-disable-next-line es/no-object-defineproperty -- safe
    Object.defineProperty([], 'length', { writable: false }).length = 1;
  } catch (error) {
    return error instanceof TypeError;
  }
}();

module.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {
  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {
    throw new $TypeError('Cannot set read only .length');
  } return O.length = length;
} : function (O, length) {
  return O.length = length;
};


/***/ }),

/***/ 96004:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);

module.exports = uncurryThis([].slice);


/***/ }),

/***/ 50382:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var arraySlice = __webpack_require__(96004);

var floor = Math.floor;

var sort = function (array, comparefn) {
  var length = array.length;

  if (length < 8) {
    // insertion sort
    var i = 1;
    var element, j;

    while (i < length) {
      j = i;
      element = array[i];
      while (j && comparefn(array[j - 1], element) > 0) {
        array[j] = array[--j];
      }
      if (j !== i++) array[j] = element;
    }
  } else {
    // merge sort
    var middle = floor(length / 2);
    var left = sort(arraySlice(array, 0, middle), comparefn);
    var right = sort(arraySlice(array, middle), comparefn);
    var llength = left.length;
    var rlength = right.length;
    var lindex = 0;
    var rindex = 0;

    while (lindex < llength || rindex < rlength) {
      array[lindex + rindex] = (lindex < llength && rindex < rlength)
        ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]
        : lindex < llength ? left[lindex++] : right[rindex++];
    }
  }

  return array;
};

module.exports = sort;


/***/ }),

/***/ 25271:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isArray = __webpack_require__(92297);
var isConstructor = __webpack_require__(19429);
var isObject = __webpack_require__(48999);
var wellKnownSymbol = __webpack_require__(44201);

var SPECIES = wellKnownSymbol('species');
var $Array = Array;

// a part of `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray) {
  var C;
  if (isArray(originalArray)) {
    C = originalArray.constructor;
    // cross-realm fallback
    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;
    else if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? $Array : C;
};


/***/ }),

/***/ 27120:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var arraySpeciesConstructor = __webpack_require__(25271);

// `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray, length) {
  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
};


/***/ }),

/***/ 26166:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var lengthOfArrayLike = __webpack_require__(6310);

// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.toReversed
// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.toReversed
module.exports = function (O, C) {
  var len = lengthOfArrayLike(O);
  var A = new C(len);
  var k = 0;
  for (; k < len; k++) A[k] = O[len - k - 1];
  return A;
};


/***/ }),

/***/ 16134:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var lengthOfArrayLike = __webpack_require__(6310);
var toIntegerOrInfinity = __webpack_require__(68700);

var $RangeError = RangeError;

// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.with
// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.with
module.exports = function (O, C, index, value) {
  var len = lengthOfArrayLike(O);
  var relativeIndex = toIntegerOrInfinity(index);
  var actualIndex = relativeIndex < 0 ? len + relativeIndex : relativeIndex;
  if (actualIndex >= len || actualIndex < 0) throw new $RangeError('Incorrect index');
  var A = new C(len);
  var k = 0;
  for (; k < len; k++) A[k] = k === actualIndex ? value : O[k];
  return A;
};


/***/ }),

/***/ 71228:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var anObject = __webpack_require__(85027);
var iteratorClose = __webpack_require__(72125);

// call something on iterator step with safe closing on error
module.exports = function (iterator, fn, value, ENTRIES) {
  try {
    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
  } catch (error) {
    iteratorClose(iterator, 'throw', error);
  }
};


/***/ }),

/***/ 86431:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var wellKnownSymbol = __webpack_require__(44201);

var ITERATOR = wellKnownSymbol('iterator');
var SAFE_CLOSING = false;

try {
  var called = 0;
  var iteratorWithReturn = {
    next: function () {
      return { done: !!called++ };
    },
    'return': function () {
      SAFE_CLOSING = true;
    }
  };
  iteratorWithReturn[ITERATOR] = function () {
    return this;
  };
  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing
  Array.from(iteratorWithReturn, function () { throw 2; });
} catch (error) { /* empty */ }

module.exports = function (exec, SKIP_CLOSING) {
  try {
    if (!SKIP_CLOSING && !SAFE_CLOSING) return false;
  } catch (error) { return false; } // workaround of old WebKit + `eval` bug
  var ITERATION_SUPPORT = false;
  try {
    var object = {};
    object[ITERATOR] = function () {
      return {
        next: function () {
          return { done: ITERATION_SUPPORT = true };
        }
      };
    };
    exec(object);
  } catch (error) { /* empty */ }
  return ITERATION_SUPPORT;
};


/***/ }),

/***/ 6648:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);

var toString = uncurryThis({}.toString);
var stringSlice = uncurryThis(''.slice);

module.exports = function (it) {
  return stringSlice(toString(it), 8, -1);
};


/***/ }),

/***/ 50926:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var TO_STRING_TAG_SUPPORT = __webpack_require__(23043);
var isCallable = __webpack_require__(69985);
var classofRaw = __webpack_require__(6648);
var wellKnownSymbol = __webpack_require__(44201);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var $Object = Object;

// ES3 wrong here
var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (error) { /* empty */ }
};

// getting tag from ES6+ `Object.prototype.toString`
module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {
  var O, tag, result;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag
    // builtinTag case
    : CORRECT_ARGUMENTS ? classofRaw(O)
    // ES3 arguments fallback
    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;
};


/***/ }),

/***/ 70800:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var create = __webpack_require__(25391);
var defineBuiltInAccessor = __webpack_require__(62148);
var defineBuiltIns = __webpack_require__(6045);
var bind = __webpack_require__(54071);
var anInstance = __webpack_require__(767);
var isNullOrUndefined = __webpack_require__(981);
var iterate = __webpack_require__(18734);
var defineIterator = __webpack_require__(91934);
var createIterResultObject = __webpack_require__(27807);
var setSpecies = __webpack_require__(14241);
var DESCRIPTORS = __webpack_require__(67697);
var fastKey = (__webpack_require__(45375).fastKey);
var InternalStateModule = __webpack_require__(618);

var setInternalState = InternalStateModule.set;
var internalStateGetterFor = InternalStateModule.getterFor;

module.exports = {
  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
    var Constructor = wrapper(function (that, iterable) {
      anInstance(that, Prototype);
      setInternalState(that, {
        type: CONSTRUCTOR_NAME,
        index: create(null),
        first: undefined,
        last: undefined,
        size: 0
      });
      if (!DESCRIPTORS) that.size = 0;
      if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });
    });

    var Prototype = Constructor.prototype;

    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);

    var define = function (that, key, value) {
      var state = getInternalState(that);
      var entry = getEntry(that, key);
      var previous, index;
      // change existing entry
      if (entry) {
        entry.value = value;
      // create new entry
      } else {
        state.last = entry = {
          index: index = fastKey(key, true),
          key: key,
          value: value,
          previous: previous = state.last,
          next: undefined,
          removed: false
        };
        if (!state.first) state.first = entry;
        if (previous) previous.next = entry;
        if (DESCRIPTORS) state.size++;
        else that.size++;
        // add to index
        if (index !== 'F') state.index[index] = entry;
      } return that;
    };

    var getEntry = function (that, key) {
      var state = getInternalState(that);
      // fast case
      var index = fastKey(key);
      var entry;
      if (index !== 'F') return state.index[index];
      // frozen object case
      for (entry = state.first; entry; entry = entry.next) {
        if (entry.key === key) return entry;
      }
    };

    defineBuiltIns(Prototype, {
      // `{ Map, Set }.prototype.clear()` methods
      // https://tc39.es/ecma262/#sec-map.prototype.clear
      // https://tc39.es/ecma262/#sec-set.prototype.clear
      clear: function clear() {
        var that = this;
        var state = getInternalState(that);
        var entry = state.first;
        while (entry) {
          entry.removed = true;
          if (entry.previous) entry.previous = entry.previous.next = undefined;
          entry = entry.next;
        }
        state.first = state.last = undefined;
        state.index = create(null);
        if (DESCRIPTORS) state.size = 0;
        else that.size = 0;
      },
      // `{ Map, Set }.prototype.delete(key)` methods
      // https://tc39.es/ecma262/#sec-map.prototype.delete
      // https://tc39.es/ecma262/#sec-set.prototype.delete
      'delete': function (key) {
        var that = this;
        var state = getInternalState(that);
        var entry = getEntry(that, key);
        if (entry) {
          var next = entry.next;
          var prev = entry.previous;
          delete state.index[entry.index];
          entry.removed = true;
          if (prev) prev.next = next;
          if (next) next.previous = prev;
          if (state.first === entry) state.first = next;
          if (state.last === entry) state.last = prev;
          if (DESCRIPTORS) state.size--;
          else that.size--;
        } return !!entry;
      },
      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods
      // https://tc39.es/ecma262/#sec-map.prototype.foreach
      // https://tc39.es/ecma262/#sec-set.prototype.foreach
      forEach: function forEach(callbackfn /* , that = undefined */) {
        var state = getInternalState(this);
        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);
        var entry;
        while (entry = entry ? entry.next : state.first) {
          boundFunction(entry.value, entry.key, this);
          // revert to the last existing entry
          while (entry && entry.removed) entry = entry.previous;
        }
      },
      // `{ Map, Set}.prototype.has(key)` methods
      // https://tc39.es/ecma262/#sec-map.prototype.has
      // https://tc39.es/ecma262/#sec-set.prototype.has
      has: function has(key) {
        return !!getEntry(this, key);
      }
    });

    defineBuiltIns(Prototype, IS_MAP ? {
      // `Map.prototype.get(key)` method
      // https://tc39.es/ecma262/#sec-map.prototype.get
      get: function get(key) {
        var entry = getEntry(this, key);
        return entry && entry.value;
      },
      // `Map.prototype.set(key, value)` method
      // https://tc39.es/ecma262/#sec-map.prototype.set
      set: function set(key, value) {
        return define(this, key === 0 ? 0 : key, value);
      }
    } : {
      // `Set.prototype.add(value)` method
      // https://tc39.es/ecma262/#sec-set.prototype.add
      add: function add(value) {
        return define(this, value = value === 0 ? 0 : value, value);
      }
    });
    if (DESCRIPTORS) defineBuiltInAccessor(Prototype, 'size', {
      configurable: true,
      get: function () {
        return getInternalState(this).size;
      }
    });
    return Constructor;
  },
  setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {
    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';
    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);
    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);
    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods
    // https://tc39.es/ecma262/#sec-map.prototype.entries
    // https://tc39.es/ecma262/#sec-map.prototype.keys
    // https://tc39.es/ecma262/#sec-map.prototype.values
    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator
    // https://tc39.es/ecma262/#sec-set.prototype.entries
    // https://tc39.es/ecma262/#sec-set.prototype.keys
    // https://tc39.es/ecma262/#sec-set.prototype.values
    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator
    defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {
      setInternalState(this, {
        type: ITERATOR_NAME,
        target: iterated,
        state: getInternalCollectionState(iterated),
        kind: kind,
        last: undefined
      });
    }, function () {
      var state = getInternalIteratorState(this);
      var kind = state.kind;
      var entry = state.last;
      // revert to the last existing entry
      while (entry && entry.removed) entry = entry.previous;
      // get next entry
      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {
        // or finish the iteration
        state.target = undefined;
        return createIterResultObject(undefined, true);
      }
      // return step by kind
      if (kind === 'keys') return createIterResultObject(entry.key, false);
      if (kind === 'values') return createIterResultObject(entry.value, false);
      return createIterResultObject([entry.key, entry.value], false);
    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

    // `{ Map, Set }.prototype[@@species]` accessors
    // https://tc39.es/ecma262/#sec-get-map-@@species
    // https://tc39.es/ecma262/#sec-get-set-@@species
    setSpecies(CONSTRUCTOR_NAME);
  }
};


/***/ }),

/***/ 70637:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var defineBuiltIns = __webpack_require__(6045);
var getWeakData = (__webpack_require__(45375).getWeakData);
var anInstance = __webpack_require__(767);
var anObject = __webpack_require__(85027);
var isNullOrUndefined = __webpack_require__(981);
var isObject = __webpack_require__(48999);
var iterate = __webpack_require__(18734);
var ArrayIterationModule = __webpack_require__(2960);
var hasOwn = __webpack_require__(36812);
var InternalStateModule = __webpack_require__(618);

var setInternalState = InternalStateModule.set;
var internalStateGetterFor = InternalStateModule.getterFor;
var find = ArrayIterationModule.find;
var findIndex = ArrayIterationModule.findIndex;
var splice = uncurryThis([].splice);
var id = 0;

// fallback for uncaught frozen keys
var uncaughtFrozenStore = function (state) {
  return state.frozen || (state.frozen = new UncaughtFrozenStore());
};

var UncaughtFrozenStore = function () {
  this.entries = [];
};

var findUncaughtFrozen = function (store, key) {
  return find(store.entries, function (it) {
    return it[0] === key;
  });
};

UncaughtFrozenStore.prototype = {
  get: function (key) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) return entry[1];
  },
  has: function (key) {
    return !!findUncaughtFrozen(this, key);
  },
  set: function (key, value) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) entry[1] = value;
    else this.entries.push([key, value]);
  },
  'delete': function (key) {
    var index = findIndex(this.entries, function (it) {
      return it[0] === key;
    });
    if (~index) splice(this.entries, index, 1);
    return !!~index;
  }
};

module.exports = {
  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
    var Constructor = wrapper(function (that, iterable) {
      anInstance(that, Prototype);
      setInternalState(that, {
        type: CONSTRUCTOR_NAME,
        id: id++,
        frozen: undefined
      });
      if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });
    });

    var Prototype = Constructor.prototype;

    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);

    var define = function (that, key, value) {
      var state = getInternalState(that);
      var data = getWeakData(anObject(key), true);
      if (data === true) uncaughtFrozenStore(state).set(key, value);
      else data[state.id] = value;
      return that;
    };

    defineBuiltIns(Prototype, {
      // `{ WeakMap, WeakSet }.prototype.delete(key)` methods
      // https://tc39.es/ecma262/#sec-weakmap.prototype.delete
      // https://tc39.es/ecma262/#sec-weakset.prototype.delete
      'delete': function (key) {
        var state = getInternalState(this);
        if (!isObject(key)) return false;
        var data = getWeakData(key);
        if (data === true) return uncaughtFrozenStore(state)['delete'](key);
        return data && hasOwn(data, state.id) && delete data[state.id];
      },
      // `{ WeakMap, WeakSet }.prototype.has(key)` methods
      // https://tc39.es/ecma262/#sec-weakmap.prototype.has
      // https://tc39.es/ecma262/#sec-weakset.prototype.has
      has: function has(key) {
        var state = getInternalState(this);
        if (!isObject(key)) return false;
        var data = getWeakData(key);
        if (data === true) return uncaughtFrozenStore(state).has(key);
        return data && hasOwn(data, state.id);
      }
    });

    defineBuiltIns(Prototype, IS_MAP ? {
      // `WeakMap.prototype.get(key)` method
      // https://tc39.es/ecma262/#sec-weakmap.prototype.get
      get: function get(key) {
        var state = getInternalState(this);
        if (isObject(key)) {
          var data = getWeakData(key);
          if (data === true) return uncaughtFrozenStore(state).get(key);
          return data ? data[state.id] : undefined;
        }
      },
      // `WeakMap.prototype.set(key, value)` method
      // https://tc39.es/ecma262/#sec-weakmap.prototype.set
      set: function set(key, value) {
        return define(this, key, value);
      }
    } : {
      // `WeakSet.prototype.add(value)` method
      // https://tc39.es/ecma262/#sec-weakset.prototype.add
      add: function add(value) {
        return define(this, value, true);
      }
    });

    return Constructor;
  }
};


/***/ }),

/***/ 20319:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var uncurryThis = __webpack_require__(68844);
var isForced = __webpack_require__(35266);
var defineBuiltIn = __webpack_require__(11880);
var InternalMetadataModule = __webpack_require__(45375);
var iterate = __webpack_require__(18734);
var anInstance = __webpack_require__(767);
var isCallable = __webpack_require__(69985);
var isNullOrUndefined = __webpack_require__(981);
var isObject = __webpack_require__(48999);
var fails = __webpack_require__(3689);
var checkCorrectnessOfIteration = __webpack_require__(86431);
var setToStringTag = __webpack_require__(55997);
var inheritIfRequired = __webpack_require__(33457);

module.exports = function (CONSTRUCTOR_NAME, wrapper, common) {
  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;
  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;
  var ADDER = IS_MAP ? 'set' : 'add';
  var NativeConstructor = global[CONSTRUCTOR_NAME];
  var NativePrototype = NativeConstructor && NativeConstructor.prototype;
  var Constructor = NativeConstructor;
  var exported = {};

  var fixMethod = function (KEY) {
    var uncurriedNativeMethod = uncurryThis(NativePrototype[KEY]);
    defineBuiltIn(NativePrototype, KEY,
      KEY === 'add' ? function add(value) {
        uncurriedNativeMethod(this, value === 0 ? 0 : value);
        return this;
      } : KEY === 'delete' ? function (key) {
        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);
      } : KEY === 'get' ? function get(key) {
        return IS_WEAK && !isObject(key) ? undefined : uncurriedNativeMethod(this, key === 0 ? 0 : key);
      } : KEY === 'has' ? function has(key) {
        return IS_WEAK && !isObject(key) ? false : uncurriedNativeMethod(this, key === 0 ? 0 : key);
      } : function set(key, value) {
        uncurriedNativeMethod(this, key === 0 ? 0 : key, value);
        return this;
      }
    );
  };

  var REPLACE = isForced(
    CONSTRUCTOR_NAME,
    !isCallable(NativeConstructor) || !(IS_WEAK || NativePrototype.forEach && !fails(function () {
      new NativeConstructor().entries().next();
    }))
  );

  if (REPLACE) {
    // create collection constructor
    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
    InternalMetadataModule.enable();
  } else if (isForced(CONSTRUCTOR_NAME, true)) {
    var instance = new Constructor();
    // early implementations not supports chaining
    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) !== instance;
    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false
    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });
    // most early implementations doesn't supports iterables, most modern - not close it correctly
    // eslint-disable-next-line no-new -- required for testing
    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });
    // for early implementations -0 and +0 not the same
    var BUGGY_ZERO = !IS_WEAK && fails(function () {
      // V8 ~ Chromium 42- fails only with 5+ elements
      var $instance = new NativeConstructor();
      var index = 5;
      while (index--) $instance[ADDER](index, index);
      return !$instance.has(-0);
    });

    if (!ACCEPT_ITERABLES) {
      Constructor = wrapper(function (dummy, iterable) {
        anInstance(dummy, NativePrototype);
        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);
        if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });
        return that;
      });
      Constructor.prototype = NativePrototype;
      NativePrototype.constructor = Constructor;
    }

    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
      fixMethod('delete');
      fixMethod('has');
      IS_MAP && fixMethod('get');
    }

    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);

    // weak collections should not contains .clear method
    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;
  }

  exported[CONSTRUCTOR_NAME] = Constructor;
  $({ global: true, constructor: true, forced: Constructor !== NativeConstructor }, exported);

  setToStringTag(Constructor, CONSTRUCTOR_NAME);

  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);

  return Constructor;
};


/***/ }),

/***/ 8758:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var hasOwn = __webpack_require__(36812);
var ownKeys = __webpack_require__(19152);
var getOwnPropertyDescriptorModule = __webpack_require__(82474);
var definePropertyModule = __webpack_require__(72560);

module.exports = function (target, source, exceptions) {
  var keys = ownKeys(source);
  var defineProperty = definePropertyModule.f;
  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};


/***/ }),

/***/ 27413:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var wellKnownSymbol = __webpack_require__(44201);

var MATCH = wellKnownSymbol('match');

module.exports = function (METHOD_NAME) {
  var regexp = /./;
  try {
    '/./'[METHOD_NAME](regexp);
  } catch (error1) {
    try {
      regexp[MATCH] = false;
      return '/./'[METHOD_NAME](regexp);
    } catch (error2) { /* empty */ }
  } return false;
};


/***/ }),

/***/ 81748:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);

module.exports = !fails(function () {
  function F() { /* empty */ }
  F.prototype.constructor = null;
  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing
  return Object.getPrototypeOf(new F()) !== F.prototype;
});


/***/ }),

/***/ 27807:
/***/ (function(module) {

"use strict";

// `CreateIterResultObject` abstract operation
// https://tc39.es/ecma262/#sec-createiterresultobject
module.exports = function (value, done) {
  return { value: value, done: done };
};


/***/ }),

/***/ 75773:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var definePropertyModule = __webpack_require__(72560);
var createPropertyDescriptor = __webpack_require__(75684);

module.exports = DESCRIPTORS ? function (object, key, value) {
  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),

/***/ 75684:
/***/ (function(module) {

"use strict";

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),

/***/ 76522:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toPropertyKey = __webpack_require__(18360);
var definePropertyModule = __webpack_require__(72560);
var createPropertyDescriptor = __webpack_require__(75684);

module.exports = function (object, key, value) {
  var propertyKey = toPropertyKey(key);
  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));
  else object[propertyKey] = value;
};


/***/ }),

/***/ 81797:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var anObject = __webpack_require__(85027);
var ordinaryToPrimitive = __webpack_require__(35899);

var $TypeError = TypeError;

// `Date.prototype[@@toPrimitive](hint)` method implementation
// https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive
module.exports = function (hint) {
  anObject(this);
  if (hint === 'string' || hint === 'default') hint = 'string';
  else if (hint !== 'number') throw new $TypeError('Incorrect hint');
  return ordinaryToPrimitive(this, hint);
};


/***/ }),

/***/ 62148:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var makeBuiltIn = __webpack_require__(98702);
var defineProperty = __webpack_require__(72560);

module.exports = function (target, name, descriptor) {
  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });
  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });
  return defineProperty.f(target, name, descriptor);
};


/***/ }),

/***/ 11880:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isCallable = __webpack_require__(69985);
var definePropertyModule = __webpack_require__(72560);
var makeBuiltIn = __webpack_require__(98702);
var defineGlobalProperty = __webpack_require__(95014);

module.exports = function (O, key, value, options) {
  if (!options) options = {};
  var simple = options.enumerable;
  var name = options.name !== undefined ? options.name : key;
  if (isCallable(value)) makeBuiltIn(value, name, options);
  if (options.global) {
    if (simple) O[key] = value;
    else defineGlobalProperty(key, value);
  } else {
    try {
      if (!options.unsafe) delete O[key];
      else if (O[key]) simple = true;
    } catch (error) { /* empty */ }
    if (simple) O[key] = value;
    else definePropertyModule.f(O, key, {
      value: value,
      enumerable: false,
      configurable: !options.nonConfigurable,
      writable: !options.nonWritable
    });
  } return O;
};


/***/ }),

/***/ 6045:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineBuiltIn = __webpack_require__(11880);

module.exports = function (target, src, options) {
  for (var key in src) defineBuiltIn(target, key, src[key], options);
  return target;
};


/***/ }),

/***/ 95014:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);

// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;

module.exports = function (key, value) {
  try {
    defineProperty(global, key, { value: value, configurable: true, writable: true });
  } catch (error) {
    global[key] = value;
  } return value;
};


/***/ }),

/***/ 98494:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var tryToString = __webpack_require__(23691);

var $TypeError = TypeError;

module.exports = function (O, P) {
  if (!delete O[P]) throw new $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));
};


/***/ }),

/***/ 67697:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);

// Detect IE8's incomplete defineProperty implementation
module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;
});


/***/ }),

/***/ 21420:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var tryNodeRequire = __webpack_require__(21905);
var PROPER_STRUCTURED_CLONE_TRANSFER = __webpack_require__(63514);

var structuredClone = global.structuredClone;
var $ArrayBuffer = global.ArrayBuffer;
var $MessageChannel = global.MessageChannel;
var detach = false;
var WorkerThreads, channel, buffer, $detach;

if (PROPER_STRUCTURED_CLONE_TRANSFER) {
  detach = function (transferable) {
    structuredClone(transferable, { transfer: [transferable] });
  };
} else if ($ArrayBuffer) try {
  if (!$MessageChannel) {
    WorkerThreads = tryNodeRequire('worker_threads');
    if (WorkerThreads) $MessageChannel = WorkerThreads.MessageChannel;
  }

  if ($MessageChannel) {
    channel = new $MessageChannel();
    buffer = new $ArrayBuffer(2);

    $detach = function (transferable) {
      channel.port1.postMessage(null, [transferable]);
    };

    if (buffer.byteLength === 2) {
      $detach(buffer);
      if (buffer.byteLength === 0) detach = $detach;
    }
  }
} catch (error) { /* empty */ }

module.exports = detach;


/***/ }),

/***/ 36420:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var isObject = __webpack_require__(48999);

var document = global.document;
// typeof document.createElement is 'object' in old IE
var EXISTS = isObject(document) && isObject(document.createElement);

module.exports = function (it) {
  return EXISTS ? document.createElement(it) : {};
};


/***/ }),

/***/ 55565:
/***/ (function(module) {

"use strict";

var $TypeError = TypeError;
var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991

module.exports = function (it) {
  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');
  return it;
};


/***/ }),

/***/ 37136:
/***/ (function(module) {

"use strict";

module.exports = {
  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },
  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },
  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },
  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },
  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },
  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },
  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },
  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },
  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },
  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },
  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },
  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },
  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },
  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },
  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },
  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },
  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },
  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },
  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },
  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },
  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },
  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },
  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },
  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },
  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }
};


/***/ }),

/***/ 66338:
/***/ (function(module) {

"use strict";

// iterable DOM collections
// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods
module.exports = {
  CSSRuleList: 0,
  CSSStyleDeclaration: 0,
  CSSValueList: 0,
  ClientRectList: 0,
  DOMRectList: 0,
  DOMStringList: 0,
  DOMTokenList: 1,
  DataTransferItemList: 0,
  FileList: 0,
  HTMLAllCollection: 0,
  HTMLCollection: 0,
  HTMLFormElement: 0,
  HTMLSelectElement: 0,
  MediaList: 0,
  MimeTypeArray: 0,
  NamedNodeMap: 0,
  NodeList: 1,
  PaintRequestList: 0,
  Plugin: 0,
  PluginArray: 0,
  SVGLengthList: 0,
  SVGNumberList: 0,
  SVGPathSegList: 0,
  SVGPointList: 0,
  SVGStringList: 0,
  SVGTransformList: 0,
  SourceBufferList: 0,
  StyleSheetList: 0,
  TextTrackCueList: 0,
  TextTrackList: 0,
  TouchList: 0
};


/***/ }),

/***/ 33265:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`
var documentCreateElement = __webpack_require__(36420);

var classList = documentCreateElement('span').classList;
var DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;

module.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;


/***/ }),

/***/ 97365:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var userAgent = __webpack_require__(30071);

var firefox = userAgent.match(/firefox\/(\d+)/i);

module.exports = !!firefox && +firefox[1];


/***/ }),

/***/ 72532:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var IS_DENO = __webpack_require__(88563);
var IS_NODE = __webpack_require__(50806);

module.exports = !IS_DENO && !IS_NODE
  && typeof window == 'object'
  && typeof document == 'object';


/***/ }),

/***/ 88563:
/***/ (function(module) {

"use strict";

/* global Deno -- Deno case */
module.exports = typeof Deno == 'object' && Deno && typeof Deno.version == 'object';


/***/ }),

/***/ 37298:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var UA = __webpack_require__(30071);

module.exports = /MSIE|Trident/.test(UA);


/***/ }),

/***/ 63221:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var userAgent = __webpack_require__(30071);

module.exports = /ipad|iphone|ipod/i.test(userAgent) && typeof Pebble != 'undefined';


/***/ }),

/***/ 4764:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var userAgent = __webpack_require__(30071);

// eslint-disable-next-line redos/no-vulnerable -- safe
module.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);


/***/ }),

/***/ 50806:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var classof = __webpack_require__(6648);

module.exports = classof(global.process) === 'process';


/***/ }),

/***/ 27486:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var userAgent = __webpack_require__(30071);

module.exports = /web0s(?!.*chrome)/i.test(userAgent);


/***/ }),

/***/ 30071:
/***/ (function(module) {

"use strict";

module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';


/***/ }),

/***/ 3615:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var userAgent = __webpack_require__(30071);

var process = global.process;
var Deno = global.Deno;
var versions = process && process.versions || Deno && Deno.version;
var v8 = versions && versions.v8;
var match, version;

if (v8) {
  match = v8.split('.');
  // in old Chrome, versions of V8 isn't V8 = Chrome / 10
  // but their correct versions are not interesting for us
  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
}

// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
// so check `userAgent` even if `.v8` exists, but 0
if (!version && userAgent) {
  match = userAgent.match(/Edge\/(\d+)/);
  if (!match || match[1] >= 74) {
    match = userAgent.match(/Chrome\/(\d+)/);
    if (match) version = +match[1];
  }
}

module.exports = version;


/***/ }),

/***/ 27922:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var userAgent = __webpack_require__(30071);

var webkit = userAgent.match(/AppleWebKit\/(\d+)\./);

module.exports = !!webkit && +webkit[1];


/***/ }),

/***/ 72739:
/***/ (function(module) {

"use strict";

// IE8- don't enum bug keys
module.exports = [
  'constructor',
  'hasOwnProperty',
  'isPrototypeOf',
  'propertyIsEnumerable',
  'toLocaleString',
  'toString',
  'valueOf'
];


/***/ }),

/***/ 56610:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);

var $Error = Error;
var replace = uncurryThis(''.replace);

var TEST = (function (arg) { return String(new $Error(arg).stack); })('zxcasd');
// eslint-disable-next-line redos/no-vulnerable -- safe
var V8_OR_CHAKRA_STACK_ENTRY = /\n\s*at [^:]*:[^\n]*/;
var IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);

module.exports = function (stack, dropEntries) {
  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {
    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');
  } return stack;
};


/***/ }),

/***/ 65411:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var createNonEnumerableProperty = __webpack_require__(75773);
var clearErrorStack = __webpack_require__(56610);
var ERROR_STACK_INSTALLABLE = __webpack_require__(49599);

// non-standard V8
var captureStackTrace = Error.captureStackTrace;

module.exports = function (error, C, stack, dropEntries) {
  if (ERROR_STACK_INSTALLABLE) {
    if (captureStackTrace) captureStackTrace(error, C);
    else createNonEnumerableProperty(error, 'stack', clearErrorStack(stack, dropEntries));
  }
};


/***/ }),

/***/ 49599:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var createPropertyDescriptor = __webpack_require__(75684);

module.exports = !fails(function () {
  var error = new Error('a');
  if (!('stack' in error)) return true;
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));
  return error.stack !== 7;
});


/***/ }),

/***/ 20445:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var fails = __webpack_require__(3689);
var anObject = __webpack_require__(85027);
var normalizeStringArgument = __webpack_require__(13841);

var nativeErrorToString = Error.prototype.toString;

var INCORRECT_TO_STRING = fails(function () {
  if (DESCRIPTORS) {
    // Chrome 32- incorrectly call accessor
    // eslint-disable-next-line es/no-object-create, es/no-object-defineproperty -- safe
    var object = Object.create(Object.defineProperty({}, 'name', { get: function () {
      return this === object;
    } }));
    if (nativeErrorToString.call(object) !== 'true') return true;
  }
  // FF10- does not properly handle non-strings
  return nativeErrorToString.call({ message: 1, name: 2 }) !== '2: 1'
    // IE8 does not properly handle defaults
    || nativeErrorToString.call({}) !== 'Error';
});

module.exports = INCORRECT_TO_STRING ? function toString() {
  var O = anObject(this);
  var name = normalizeStringArgument(O.name, 'Error');
  var message = normalizeStringArgument(O.message);
  return !name ? message : !message ? name : name + ': ' + message;
} : nativeErrorToString;


/***/ }),

/***/ 79989:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var getOwnPropertyDescriptor = (__webpack_require__(82474).f);
var createNonEnumerableProperty = __webpack_require__(75773);
var defineBuiltIn = __webpack_require__(11880);
var defineGlobalProperty = __webpack_require__(95014);
var copyConstructorProperties = __webpack_require__(8758);
var isForced = __webpack_require__(35266);

/*
  options.target         - name of the target object
  options.global         - target is the global object
  options.stat           - export as static methods of target
  options.proto          - export as prototype methods of target
  options.real           - real prototype method for the `pure` version
  options.forced         - export even if the native feature is available
  options.bind           - bind methods to the target, required for the `pure` version
  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe         - use the simple assignment of property instead of delete + defineProperty
  options.sham           - add a flag to not completely full polyfills
  options.enumerable     - export as enumerable property
  options.dontCallGetSet - prevent calling a getter on target
  options.name           - the .name of the function if it does not match the key
*/
module.exports = function (options, source) {
  var TARGET = options.target;
  var GLOBAL = options.global;
  var STATIC = options.stat;
  var FORCED, target, key, targetProperty, sourceProperty, descriptor;
  if (GLOBAL) {
    target = global;
  } else if (STATIC) {
    target = global[TARGET] || defineGlobalProperty(TARGET, {});
  } else {
    target = (global[TARGET] || {}).prototype;
  }
  if (target) for (key in source) {
    sourceProperty = source[key];
    if (options.dontCallGetSet) {
      descriptor = getOwnPropertyDescriptor(target, key);
      targetProperty = descriptor && descriptor.value;
    } else targetProperty = target[key];
    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
    // contained in target
    if (!FORCED && targetProperty !== undefined) {
      if (typeof sourceProperty == typeof targetProperty) continue;
      copyConstructorProperties(sourceProperty, targetProperty);
    }
    // add a flag to not completely full polyfills
    if (options.sham || (targetProperty && targetProperty.sham)) {
      createNonEnumerableProperty(sourceProperty, 'sham', true);
    }
    defineBuiltIn(target, key, sourceProperty, options);
  }
};


/***/ }),

/***/ 3689:
/***/ (function(module) {

"use strict";

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (error) {
    return true;
  }
};


/***/ }),

/***/ 65773:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove from `core-js@4` since it's moved to entry points
__webpack_require__(64043);
var uncurryThis = __webpack_require__(46576);
var defineBuiltIn = __webpack_require__(11880);
var regexpExec = __webpack_require__(56308);
var fails = __webpack_require__(3689);
var wellKnownSymbol = __webpack_require__(44201);
var createNonEnumerableProperty = __webpack_require__(75773);

var SPECIES = wellKnownSymbol('species');
var RegExpPrototype = RegExp.prototype;

module.exports = function (KEY, exec, FORCED, SHAM) {
  var SYMBOL = wellKnownSymbol(KEY);

  var DELEGATES_TO_SYMBOL = !fails(function () {
    // String methods call symbol-named RegEp methods
    var O = {};
    O[SYMBOL] = function () { return 7; };
    return ''[KEY](O) !== 7;
  });

  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {
    // Symbol-named RegExp methods call .exec
    var execCalled = false;
    var re = /a/;

    if (KEY === 'split') {
      // We can't use real regex here since it causes deoptimization
      // and serious performance degradation in V8
      // https://github.com/zloirock/core-js/issues/306
      re = {};
      // RegExp[@@split] doesn't call the regex's exec method, but first creates
      // a new one. We need to return the patched regex when creating the new one.
      re.constructor = {};
      re.constructor[SPECIES] = function () { return re; };
      re.flags = '';
      re[SYMBOL] = /./[SYMBOL];
    }

    re.exec = function () {
      execCalled = true;
      return null;
    };

    re[SYMBOL]('');
    return !execCalled;
  });

  if (
    !DELEGATES_TO_SYMBOL ||
    !DELEGATES_TO_EXEC ||
    FORCED
  ) {
    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);
    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {
      var uncurriedNativeMethod = uncurryThis(nativeMethod);
      var $exec = regexp.exec;
      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {
        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
          // The native String method already delegates to @@method (this
          // polyfilled function), leasing to infinite recursion.
          // We avoid it by directly calling the native @@method method.
          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };
        }
        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };
      }
      return { done: false };
    });

    defineBuiltIn(String.prototype, KEY, methods[0]);
    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);
  }

  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);
};


/***/ }),

/***/ 37809:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isArray = __webpack_require__(92297);
var lengthOfArrayLike = __webpack_require__(6310);
var doesNotExceedSafeInteger = __webpack_require__(55565);
var bind = __webpack_require__(54071);

// `FlattenIntoArray` abstract operation
// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray
var flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {
  var targetIndex = start;
  var sourceIndex = 0;
  var mapFn = mapper ? bind(mapper, thisArg) : false;
  var element, elementLen;

  while (sourceIndex < sourceLen) {
    if (sourceIndex in source) {
      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];

      if (depth > 0 && isArray(element)) {
        elementLen = lengthOfArrayLike(element);
        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;
      } else {
        doesNotExceedSafeInteger(targetIndex + 1);
        target[targetIndex] = element;
      }

      targetIndex++;
    }
    sourceIndex++;
  }
  return targetIndex;
};

module.exports = flattenIntoArray;


/***/ }),

/***/ 71594:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);

module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing
  return Object.isExtensible(Object.preventExtensions({}));
});


/***/ }),

/***/ 61735:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var NATIVE_BIND = __webpack_require__(97215);

var FunctionPrototype = Function.prototype;
var apply = FunctionPrototype.apply;
var call = FunctionPrototype.call;

// eslint-disable-next-line es/no-reflect -- safe
module.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {
  return call.apply(apply, arguments);
});


/***/ }),

/***/ 54071:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(46576);
var aCallable = __webpack_require__(10509);
var NATIVE_BIND = __webpack_require__(97215);

var bind = uncurryThis(uncurryThis.bind);

// optional / simple context binding
module.exports = function (fn, that) {
  aCallable(fn);
  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ 97215:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);

module.exports = !fails(function () {
  // eslint-disable-next-line es/no-function-prototype-bind -- safe
  var test = (function () { /* empty */ }).bind();
  // eslint-disable-next-line no-prototype-builtins -- safe
  return typeof test != 'function' || test.hasOwnProperty('prototype');
});


/***/ }),

/***/ 86761:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var aCallable = __webpack_require__(10509);
var isObject = __webpack_require__(48999);
var hasOwn = __webpack_require__(36812);
var arraySlice = __webpack_require__(96004);
var NATIVE_BIND = __webpack_require__(97215);

var $Function = Function;
var concat = uncurryThis([].concat);
var join = uncurryThis([].join);
var factories = {};

var construct = function (C, argsLength, args) {
  if (!hasOwn(factories, argsLength)) {
    var list = [];
    var i = 0;
    for (; i < argsLength; i++) list[i] = 'a[' + i + ']';
    factories[argsLength] = $Function('C,a', 'return new C(' + join(list, ',') + ')');
  } return factories[argsLength](C, args);
};

// `Function.prototype.bind` method implementation
// https://tc39.es/ecma262/#sec-function.prototype.bind
// eslint-disable-next-line es/no-function-prototype-bind -- detection
module.exports = NATIVE_BIND ? $Function.bind : function bind(that /* , ...args */) {
  var F = aCallable(this);
  var Prototype = F.prototype;
  var partArgs = arraySlice(arguments, 1);
  var boundFunction = function bound(/* args... */) {
    var args = concat(partArgs, arraySlice(arguments));
    return this instanceof boundFunction ? construct(F, args.length, args) : F.apply(that, args);
  };
  if (isObject(Prototype)) boundFunction.prototype = Prototype;
  return boundFunction;
};


/***/ }),

/***/ 22615:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var NATIVE_BIND = __webpack_require__(97215);

var call = Function.prototype.call;

module.exports = NATIVE_BIND ? call.bind(call) : function () {
  return call.apply(call, arguments);
};


/***/ }),

/***/ 41236:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var hasOwn = __webpack_require__(36812);

var FunctionPrototype = Function.prototype;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;

var EXISTS = hasOwn(FunctionPrototype, 'name');
// additional protection from minified / mangled / dropped function names
var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
var CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));

module.exports = {
  EXISTS: EXISTS,
  PROPER: PROPER,
  CONFIGURABLE: CONFIGURABLE
};


/***/ }),

/***/ 52743:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var aCallable = __webpack_require__(10509);

module.exports = function (object, key, method) {
  try {
    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ 46576:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var classofRaw = __webpack_require__(6648);
var uncurryThis = __webpack_require__(68844);

module.exports = function (fn) {
  // Nashorn bug:
  //   https://github.com/zloirock/core-js/issues/1128
  //   https://github.com/zloirock/core-js/issues/1130
  if (classofRaw(fn) === 'Function') return uncurryThis(fn);
};


/***/ }),

/***/ 68844:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var NATIVE_BIND = __webpack_require__(97215);

var FunctionPrototype = Function.prototype;
var call = FunctionPrototype.call;
var uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);

module.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {
  return function () {
    return call.apply(fn, arguments);
  };
};


/***/ }),

/***/ 88277:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);

module.exports = function (CONSTRUCTOR, METHOD) {
  var Constructor = global[CONSTRUCTOR];
  var Prototype = Constructor && Constructor.prototype;
  return Prototype && Prototype[METHOD];
};


/***/ }),

/***/ 76058:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var isCallable = __webpack_require__(69985);

var aFunction = function (argument) {
  return isCallable(argument) ? argument : undefined;
};

module.exports = function (namespace, method) {
  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];
};


/***/ }),

/***/ 91664:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var classof = __webpack_require__(50926);
var getMethod = __webpack_require__(54849);
var isNullOrUndefined = __webpack_require__(981);
var Iterators = __webpack_require__(9478);
var wellKnownSymbol = __webpack_require__(44201);

var ITERATOR = wellKnownSymbol('iterator');

module.exports = function (it) {
  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)
    || getMethod(it, '@@iterator')
    || Iterators[classof(it)];
};


/***/ }),

/***/ 5185:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var aCallable = __webpack_require__(10509);
var anObject = __webpack_require__(85027);
var tryToString = __webpack_require__(23691);
var getIteratorMethod = __webpack_require__(91664);

var $TypeError = TypeError;

module.exports = function (argument, usingIterator) {
  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;
  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));
  throw new $TypeError(tryToString(argument) + ' is not iterable');
};


/***/ }),

/***/ 92643:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var isArray = __webpack_require__(92297);
var isCallable = __webpack_require__(69985);
var classof = __webpack_require__(6648);
var toString = __webpack_require__(34327);

var push = uncurryThis([].push);

module.exports = function (replacer) {
  if (isCallable(replacer)) return replacer;
  if (!isArray(replacer)) return;
  var rawLength = replacer.length;
  var keys = [];
  for (var i = 0; i < rawLength; i++) {
    var element = replacer[i];
    if (typeof element == 'string') push(keys, element);
    else if (typeof element == 'number' || classof(element) === 'Number' || classof(element) === 'String') push(keys, toString(element));
  }
  var keysLength = keys.length;
  var root = true;
  return function (key, value) {
    if (root) {
      root = false;
      return value;
    }
    if (isArray(this)) return value;
    for (var j = 0; j < keysLength; j++) if (keys[j] === key) return value;
  };
};


/***/ }),

/***/ 54849:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var aCallable = __webpack_require__(10509);
var isNullOrUndefined = __webpack_require__(981);

// `GetMethod` abstract operation
// https://tc39.es/ecma262/#sec-getmethod
module.exports = function (V, P) {
  var func = V[P];
  return isNullOrUndefined(func) ? undefined : aCallable(func);
};


/***/ }),

/***/ 27017:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var toObject = __webpack_require__(90690);

var floor = Math.floor;
var charAt = uncurryThis(''.charAt);
var replace = uncurryThis(''.replace);
var stringSlice = uncurryThis(''.slice);
// eslint-disable-next-line redos/no-vulnerable -- safe
var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d{1,2}|<[^>]*>)/g;
var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d{1,2})/g;

// `GetSubstitution` abstract operation
// https://tc39.es/ecma262/#sec-getsubstitution
module.exports = function (matched, str, position, captures, namedCaptures, replacement) {
  var tailPos = position + matched.length;
  var m = captures.length;
  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
  if (namedCaptures !== undefined) {
    namedCaptures = toObject(namedCaptures);
    symbols = SUBSTITUTION_SYMBOLS;
  }
  return replace(replacement, symbols, function (match, ch) {
    var capture;
    switch (charAt(ch, 0)) {
      case '$': return '$';
      case '&': return matched;
      case '`': return stringSlice(str, 0, position);
      case "'": return stringSlice(str, tailPos);
      case '<':
        capture = namedCaptures[stringSlice(ch, 1, -1)];
        break;
      default: // \d\d?
        var n = +ch;
        if (n === 0) return match;
        if (n > m) {
          var f = floor(n / 10);
          if (f === 0) return match;
          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);
          return match;
        }
        capture = captures[n - 1];
    }
    return capture === undefined ? '' : capture;
  });
};


/***/ }),

/***/ 19037:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var check = function (it) {
  return it && it.Math === Math && it;
};

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
module.exports =
  // eslint-disable-next-line es/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) ||
  check(typeof window == 'object' && window) ||
  // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) ||
  check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||
  check(typeof this == 'object' && this) ||
  // eslint-disable-next-line no-new-func -- fallback
  (function () { return this; })() || Function('return this')();


/***/ }),

/***/ 36812:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var toObject = __webpack_require__(90690);

var hasOwnProperty = uncurryThis({}.hasOwnProperty);

// `HasOwnProperty` abstract operation
// https://tc39.es/ecma262/#sec-hasownproperty
// eslint-disable-next-line es/no-object-hasown -- safe
module.exports = Object.hasOwn || function hasOwn(it, key) {
  return hasOwnProperty(toObject(it), key);
};


/***/ }),

/***/ 57248:
/***/ (function(module) {

"use strict";

module.exports = {};


/***/ }),

/***/ 20920:
/***/ (function(module) {

"use strict";

module.exports = function (a, b) {
  try {
    // eslint-disable-next-line no-console -- safe
    arguments.length === 1 ? console.error(a) : console.error(a, b);
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ 2688:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(76058);

module.exports = getBuiltIn('document', 'documentElement');


/***/ }),

/***/ 68506:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var fails = __webpack_require__(3689);
var createElement = __webpack_require__(36420);

// Thanks to IE8 for its funny defineProperty
module.exports = !DESCRIPTORS && !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(createElement('div'), 'a', {
    get: function () { return 7; }
  }).a !== 7;
});


/***/ }),

/***/ 15477:
/***/ (function(module) {

"use strict";

// IEEE754 conversions based on https://github.com/feross/ieee754
var $Array = Array;
var abs = Math.abs;
var pow = Math.pow;
var floor = Math.floor;
var log = Math.log;
var LN2 = Math.LN2;

var pack = function (number, mantissaLength, bytes) {
  var buffer = $Array(bytes);
  var exponentLength = bytes * 8 - mantissaLength - 1;
  var eMax = (1 << exponentLength) - 1;
  var eBias = eMax >> 1;
  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;
  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;
  var index = 0;
  var exponent, mantissa, c;
  number = abs(number);
  // eslint-disable-next-line no-self-compare -- NaN check
  if (number !== number || number === Infinity) {
    // eslint-disable-next-line no-self-compare -- NaN check
    mantissa = number !== number ? 1 : 0;
    exponent = eMax;
  } else {
    exponent = floor(log(number) / LN2);
    c = pow(2, -exponent);
    if (number * c < 1) {
      exponent--;
      c *= 2;
    }
    if (exponent + eBias >= 1) {
      number += rt / c;
    } else {
      number += rt * pow(2, 1 - eBias);
    }
    if (number * c >= 2) {
      exponent++;
      c /= 2;
    }
    if (exponent + eBias >= eMax) {
      mantissa = 0;
      exponent = eMax;
    } else if (exponent + eBias >= 1) {
      mantissa = (number * c - 1) * pow(2, mantissaLength);
      exponent += eBias;
    } else {
      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);
      exponent = 0;
    }
  }
  while (mantissaLength >= 8) {
    buffer[index++] = mantissa & 255;
    mantissa /= 256;
    mantissaLength -= 8;
  }
  exponent = exponent << mantissaLength | mantissa;
  exponentLength += mantissaLength;
  while (exponentLength > 0) {
    buffer[index++] = exponent & 255;
    exponent /= 256;
    exponentLength -= 8;
  }
  buffer[--index] |= sign * 128;
  return buffer;
};

var unpack = function (buffer, mantissaLength) {
  var bytes = buffer.length;
  var exponentLength = bytes * 8 - mantissaLength - 1;
  var eMax = (1 << exponentLength) - 1;
  var eBias = eMax >> 1;
  var nBits = exponentLength - 7;
  var index = bytes - 1;
  var sign = buffer[index--];
  var exponent = sign & 127;
  var mantissa;
  sign >>= 7;
  while (nBits > 0) {
    exponent = exponent * 256 + buffer[index--];
    nBits -= 8;
  }
  mantissa = exponent & (1 << -nBits) - 1;
  exponent >>= -nBits;
  nBits += mantissaLength;
  while (nBits > 0) {
    mantissa = mantissa * 256 + buffer[index--];
    nBits -= 8;
  }
  if (exponent === 0) {
    exponent = 1 - eBias;
  } else if (exponent === eMax) {
    return mantissa ? NaN : sign ? -Infinity : Infinity;
  } else {
    mantissa += pow(2, mantissaLength);
    exponent -= eBias;
  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);
};

module.exports = {
  pack: pack,
  unpack: unpack
};


/***/ }),

/***/ 94413:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var fails = __webpack_require__(3689);
var classof = __webpack_require__(6648);

var $Object = Object;
var split = uncurryThis(''.split);

// fallback for non-array-like ES3 and non-enumerable old V8 strings
module.exports = fails(function () {
  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
  // eslint-disable-next-line no-prototype-builtins -- safe
  return !$Object('z').propertyIsEnumerable(0);
}) ? function (it) {
  return classof(it) === 'String' ? split(it, '') : $Object(it);
} : $Object;


/***/ }),

/***/ 33457:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isCallable = __webpack_require__(69985);
var isObject = __webpack_require__(48999);
var setPrototypeOf = __webpack_require__(49385);

// makes subclassing work correct for wrapped built-ins
module.exports = function ($this, dummy, Wrapper) {
  var NewTarget, NewTargetPrototype;
  if (
    // it can work only with native `setPrototypeOf`
    setPrototypeOf &&
    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this
    isCallable(NewTarget = dummy.constructor) &&
    NewTarget !== Wrapper &&
    isObject(NewTargetPrototype = NewTarget.prototype) &&
    NewTargetPrototype !== Wrapper.prototype
  ) setPrototypeOf($this, NewTargetPrototype);
  return $this;
};


/***/ }),

/***/ 6738:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var isCallable = __webpack_require__(69985);
var store = __webpack_require__(84091);

var functionToString = uncurryThis(Function.toString);

// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
if (!isCallable(store.inspectSource)) {
  store.inspectSource = function (it) {
    return functionToString(it);
  };
}

module.exports = store.inspectSource;


/***/ }),

/***/ 62570:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isObject = __webpack_require__(48999);
var createNonEnumerableProperty = __webpack_require__(75773);

// `InstallErrorCause` abstract operation
// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause
module.exports = function (O, options) {
  if (isObject(options) && 'cause' in options) {
    createNonEnumerableProperty(O, 'cause', options.cause);
  }
};


/***/ }),

/***/ 45375:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(68844);
var hiddenKeys = __webpack_require__(57248);
var isObject = __webpack_require__(48999);
var hasOwn = __webpack_require__(36812);
var defineProperty = (__webpack_require__(72560).f);
var getOwnPropertyNamesModule = __webpack_require__(72741);
var getOwnPropertyNamesExternalModule = __webpack_require__(26062);
var isExtensible = __webpack_require__(27049);
var uid = __webpack_require__(14630);
var FREEZING = __webpack_require__(71594);

var REQUIRED = false;
var METADATA = uid('meta');
var id = 0;

var setMetadata = function (it) {
  defineProperty(it, METADATA, { value: {
    objectID: 'O' + id++, // object ID
    weakData: {}          // weak collections IDs
  } });
};

var fastKey = function (it, create) {
  // return a primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!hasOwn(it, METADATA)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMetadata(it);
  // return object ID
  } return it[METADATA].objectID;
};

var getWeakData = function (it, create) {
  if (!hasOwn(it, METADATA)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMetadata(it);
  // return the store of weak collections IDs
  } return it[METADATA].weakData;
};

// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn(it, METADATA)) setMetadata(it);
  return it;
};

var enable = function () {
  meta.enable = function () { /* empty */ };
  REQUIRED = true;
  var getOwnPropertyNames = getOwnPropertyNamesModule.f;
  var splice = uncurryThis([].splice);
  var test = {};
  test[METADATA] = 1;

  // prevent exposing of metadata key
  if (getOwnPropertyNames(test).length) {
    getOwnPropertyNamesModule.f = function (it) {
      var result = getOwnPropertyNames(it);
      for (var i = 0, length = result.length; i < length; i++) {
        if (result[i] === METADATA) {
          splice(result, i, 1);
          break;
        }
      } return result;
    };

    $({ target: 'Object', stat: true, forced: true }, {
      getOwnPropertyNames: getOwnPropertyNamesExternalModule.f
    });
  }
};

var meta = module.exports = {
  enable: enable,
  fastKey: fastKey,
  getWeakData: getWeakData,
  onFreeze: onFreeze
};

hiddenKeys[METADATA] = true;


/***/ }),

/***/ 618:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var NATIVE_WEAK_MAP = __webpack_require__(59834);
var global = __webpack_require__(19037);
var isObject = __webpack_require__(48999);
var createNonEnumerableProperty = __webpack_require__(75773);
var hasOwn = __webpack_require__(36812);
var shared = __webpack_require__(84091);
var sharedKey = __webpack_require__(2713);
var hiddenKeys = __webpack_require__(57248);

var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
var TypeError = global.TypeError;
var WeakMap = global.WeakMap;
var set, get, has;

var enforce = function (it) {
  return has(it) ? get(it) : set(it, {});
};

var getterFor = function (TYPE) {
  return function (it) {
    var state;
    if (!isObject(it) || (state = get(it)).type !== TYPE) {
      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');
    } return state;
  };
};

if (NATIVE_WEAK_MAP || shared.state) {
  var store = shared.state || (shared.state = new WeakMap());
  /* eslint-disable no-self-assign -- prototype methods protection */
  store.get = store.get;
  store.has = store.has;
  store.set = store.set;
  /* eslint-enable no-self-assign -- prototype methods protection */
  set = function (it, metadata) {
    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    store.set(it, metadata);
    return metadata;
  };
  get = function (it) {
    return store.get(it) || {};
  };
  has = function (it) {
    return store.has(it);
  };
} else {
  var STATE = sharedKey('state');
  hiddenKeys[STATE] = true;
  set = function (it, metadata) {
    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    createNonEnumerableProperty(it, STATE, metadata);
    return metadata;
  };
  get = function (it) {
    return hasOwn(it, STATE) ? it[STATE] : {};
  };
  has = function (it) {
    return hasOwn(it, STATE);
  };
}

module.exports = {
  set: set,
  get: get,
  has: has,
  enforce: enforce,
  getterFor: getterFor
};


/***/ }),

/***/ 93292:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var wellKnownSymbol = __webpack_require__(44201);
var Iterators = __webpack_require__(9478);

var ITERATOR = wellKnownSymbol('iterator');
var ArrayPrototype = Array.prototype;

// check on default Array iterator
module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
};


/***/ }),

/***/ 92297:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var classof = __webpack_require__(6648);

// `IsArray` abstract operation
// https://tc39.es/ecma262/#sec-isarray
// eslint-disable-next-line es/no-array-isarray -- safe
module.exports = Array.isArray || function isArray(argument) {
  return classof(argument) === 'Array';
};


/***/ }),

/***/ 9401:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var classof = __webpack_require__(50926);

module.exports = function (it) {
  var klass = classof(it);
  return klass === 'BigInt64Array' || klass === 'BigUint64Array';
};


/***/ }),

/***/ 69985:
/***/ (function(module) {

"use strict";

// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
var documentAll = typeof document == 'object' && document.all;

// `IsCallable` abstract operation
// https://tc39.es/ecma262/#sec-iscallable
// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing
module.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {
  return typeof argument == 'function' || argument === documentAll;
} : function (argument) {
  return typeof argument == 'function';
};


/***/ }),

/***/ 19429:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var fails = __webpack_require__(3689);
var isCallable = __webpack_require__(69985);
var classof = __webpack_require__(50926);
var getBuiltIn = __webpack_require__(76058);
var inspectSource = __webpack_require__(6738);

var noop = function () { /* empty */ };
var empty = [];
var construct = getBuiltIn('Reflect', 'construct');
var constructorRegExp = /^\s*(?:class|function)\b/;
var exec = uncurryThis(constructorRegExp.exec);
var INCORRECT_TO_STRING = !constructorRegExp.test(noop);

var isConstructorModern = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  try {
    construct(noop, empty, argument);
    return true;
  } catch (error) {
    return false;
  }
};

var isConstructorLegacy = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  switch (classof(argument)) {
    case 'AsyncFunction':
    case 'GeneratorFunction':
    case 'AsyncGeneratorFunction': return false;
  }
  try {
    // we can't check .prototype since constructors produced by .bind haven't it
    // `Function#toString` throws on some built-it function in some legacy engines
    // (for example, `DOMQuad` and similar in FF41-)
    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));
  } catch (error) {
    return true;
  }
};

isConstructorLegacy.sham = true;

// `IsConstructor` abstract operation
// https://tc39.es/ecma262/#sec-isconstructor
module.exports = !construct || fails(function () {
  var called;
  return isConstructorModern(isConstructorModern.call)
    || !isConstructorModern(Object)
    || !isConstructorModern(function () { called = true; })
    || called;
}) ? isConstructorLegacy : isConstructorModern;


/***/ }),

/***/ 76251:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var hasOwn = __webpack_require__(36812);

module.exports = function (descriptor) {
  return descriptor !== undefined && (hasOwn(descriptor, 'value') || hasOwn(descriptor, 'writable'));
};


/***/ }),

/***/ 35266:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var isCallable = __webpack_require__(69985);

var replacement = /#|\.prototype\./;

var isForced = function (feature, detection) {
  var value = data[normalize(feature)];
  return value === POLYFILL ? true
    : value === NATIVE ? false
    : isCallable(detection) ? fails(detection)
    : !!detection;
};

var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};

var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';

module.exports = isForced;


/***/ }),

/***/ 71973:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isObject = __webpack_require__(48999);

var floor = Math.floor;

// `IsIntegralNumber` abstract operation
// https://tc39.es/ecma262/#sec-isintegralnumber
// eslint-disable-next-line es/no-number-isinteger -- safe
module.exports = Number.isInteger || function isInteger(it) {
  return !isObject(it) && isFinite(it) && floor(it) === it;
};


/***/ }),

/***/ 981:
/***/ (function(module) {

"use strict";

// we can't use just `it == null` since of `document.all` special case
// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
module.exports = function (it) {
  return it === null || it === undefined;
};


/***/ }),

/***/ 48999:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isCallable = __webpack_require__(69985);

module.exports = function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it);
};


/***/ }),

/***/ 60598:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isObject = __webpack_require__(48999);

module.exports = function (argument) {
  return isObject(argument) || argument === null;
};


/***/ }),

/***/ 53931:
/***/ (function(module) {

"use strict";

module.exports = false;


/***/ }),

/***/ 91245:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isObject = __webpack_require__(48999);
var classof = __webpack_require__(6648);
var wellKnownSymbol = __webpack_require__(44201);

var MATCH = wellKnownSymbol('match');

// `IsRegExp` abstract operation
// https://tc39.es/ecma262/#sec-isregexp
module.exports = function (it) {
  var isRegExp;
  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) === 'RegExp');
};


/***/ }),

/***/ 30734:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(76058);
var isCallable = __webpack_require__(69985);
var isPrototypeOf = __webpack_require__(23622);
var USE_SYMBOL_AS_UID = __webpack_require__(39525);

var $Object = Object;

module.exports = USE_SYMBOL_AS_UID ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  var $Symbol = getBuiltIn('Symbol');
  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
};


/***/ }),

/***/ 96704:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);

module.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {
  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;
  var next = record.next;
  var step, result;
  while (!(step = call(next, iterator)).done) {
    result = fn(step.value);
    if (result !== undefined) return result;
  }
};


/***/ }),

/***/ 18734:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var bind = __webpack_require__(54071);
var call = __webpack_require__(22615);
var anObject = __webpack_require__(85027);
var tryToString = __webpack_require__(23691);
var isArrayIteratorMethod = __webpack_require__(93292);
var lengthOfArrayLike = __webpack_require__(6310);
var isPrototypeOf = __webpack_require__(23622);
var getIterator = __webpack_require__(5185);
var getIteratorMethod = __webpack_require__(91664);
var iteratorClose = __webpack_require__(72125);

var $TypeError = TypeError;

var Result = function (stopped, result) {
  this.stopped = stopped;
  this.result = result;
};

var ResultPrototype = Result.prototype;

module.exports = function (iterable, unboundFunction, options) {
  var that = options && options.that;
  var AS_ENTRIES = !!(options && options.AS_ENTRIES);
  var IS_RECORD = !!(options && options.IS_RECORD);
  var IS_ITERATOR = !!(options && options.IS_ITERATOR);
  var INTERRUPTED = !!(options && options.INTERRUPTED);
  var fn = bind(unboundFunction, that);
  var iterator, iterFn, index, length, result, next, step;

  var stop = function (condition) {
    if (iterator) iteratorClose(iterator, 'normal', condition);
    return new Result(true, condition);
  };

  var callFn = function (value) {
    if (AS_ENTRIES) {
      anObject(value);
      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
    } return INTERRUPTED ? fn(value, stop) : fn(value);
  };

  if (IS_RECORD) {
    iterator = iterable.iterator;
  } else if (IS_ITERATOR) {
    iterator = iterable;
  } else {
    iterFn = getIteratorMethod(iterable);
    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');
    // optimisation for array iterators
    if (isArrayIteratorMethod(iterFn)) {
      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {
        result = callFn(iterable[index]);
        if (result && isPrototypeOf(ResultPrototype, result)) return result;
      } return new Result(false);
    }
    iterator = getIterator(iterable, iterFn);
  }

  next = IS_RECORD ? iterable.next : iterator.next;
  while (!(step = call(next, iterator)).done) {
    try {
      result = callFn(step.value);
    } catch (error) {
      iteratorClose(iterator, 'throw', error);
    }
    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;
  } return new Result(false);
};


/***/ }),

/***/ 72125:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var anObject = __webpack_require__(85027);
var getMethod = __webpack_require__(54849);

module.exports = function (iterator, kind, value) {
  var innerResult, innerError;
  anObject(iterator);
  try {
    innerResult = getMethod(iterator, 'return');
    if (!innerResult) {
      if (kind === 'throw') throw value;
      return value;
    }
    innerResult = call(innerResult, iterator);
  } catch (error) {
    innerError = true;
    innerResult = error;
  }
  if (kind === 'throw') throw value;
  if (innerError) throw innerResult;
  anObject(innerResult);
  return value;
};


/***/ }),

/***/ 30974:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var IteratorPrototype = (__webpack_require__(12013).IteratorPrototype);
var create = __webpack_require__(25391);
var createPropertyDescriptor = __webpack_require__(75684);
var setToStringTag = __webpack_require__(55997);
var Iterators = __webpack_require__(9478);

var returnThis = function () { return this; };

module.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {
  var TO_STRING_TAG = NAME + ' Iterator';
  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });
  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
  Iterators[TO_STRING_TAG] = returnThis;
  return IteratorConstructor;
};


/***/ }),

/***/ 91934:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var call = __webpack_require__(22615);
var IS_PURE = __webpack_require__(53931);
var FunctionName = __webpack_require__(41236);
var isCallable = __webpack_require__(69985);
var createIteratorConstructor = __webpack_require__(30974);
var getPrototypeOf = __webpack_require__(61868);
var setPrototypeOf = __webpack_require__(49385);
var setToStringTag = __webpack_require__(55997);
var createNonEnumerableProperty = __webpack_require__(75773);
var defineBuiltIn = __webpack_require__(11880);
var wellKnownSymbol = __webpack_require__(44201);
var Iterators = __webpack_require__(9478);
var IteratorsCore = __webpack_require__(12013);

var PROPER_FUNCTION_NAME = FunctionName.PROPER;
var CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;
var IteratorPrototype = IteratorsCore.IteratorPrototype;
var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
var ITERATOR = wellKnownSymbol('iterator');
var KEYS = 'keys';
var VALUES = 'values';
var ENTRIES = 'entries';

var returnThis = function () { return this; };

module.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
  createIteratorConstructor(IteratorConstructor, NAME, next);

  var getIterationMethod = function (KIND) {
    if (KIND === DEFAULT && defaultIterator) return defaultIterator;
    if (!BUGGY_SAFARI_ITERATORS && KIND && KIND in IterablePrototype) return IterablePrototype[KIND];

    switch (KIND) {
      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };
      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };
      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };
    }

    return function () { return new IteratorConstructor(this); };
  };

  var TO_STRING_TAG = NAME + ' Iterator';
  var INCORRECT_VALUES_NAME = false;
  var IterablePrototype = Iterable.prototype;
  var nativeIterator = IterablePrototype[ITERATOR]
    || IterablePrototype['@@iterator']
    || DEFAULT && IterablePrototype[DEFAULT];
  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
  var anyNativeIterator = NAME === 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;
  var CurrentIteratorPrototype, methods, KEY;

  // fix native
  if (anyNativeIterator) {
    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));
    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {
        if (setPrototypeOf) {
          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);
        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {
          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);
        }
      }
      // Set @@toStringTag to native iterators
      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;
    }
  }

  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF
  if (PROPER_FUNCTION_NAME && DEFAULT === VALUES && nativeIterator && nativeIterator.name !== VALUES) {
    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {
      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);
    } else {
      INCORRECT_VALUES_NAME = true;
      defaultIterator = function values() { return call(nativeIterator, this); };
    }
  }

  // export additional methods
  if (DEFAULT) {
    methods = {
      values: getIterationMethod(VALUES),
      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
      entries: getIterationMethod(ENTRIES)
    };
    if (FORCED) for (KEY in methods) {
      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);
      }
    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
  }

  // define iterator
  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {
    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });
  }
  Iterators[NAME] = defaultIterator;

  return methods;
};


/***/ }),

/***/ 12013:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var isCallable = __webpack_require__(69985);
var isObject = __webpack_require__(48999);
var create = __webpack_require__(25391);
var getPrototypeOf = __webpack_require__(61868);
var defineBuiltIn = __webpack_require__(11880);
var wellKnownSymbol = __webpack_require__(44201);
var IS_PURE = __webpack_require__(53931);

var ITERATOR = wellKnownSymbol('iterator');
var BUGGY_SAFARI_ITERATORS = false;

// `%IteratorPrototype%` object
// https://tc39.es/ecma262/#sec-%iteratorprototype%-object
var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;

/* eslint-disable es/no-array-prototype-keys -- safe */
if ([].keys) {
  arrayIterator = [].keys();
  // Safari 8 has buggy iterators w/o `next`
  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;
  else {
    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;
  }
}

var NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {
  var test = {};
  // FF44- legacy iterators case
  return IteratorPrototype[ITERATOR].call(test) !== test;
});

if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};
else if (IS_PURE) IteratorPrototype = create(IteratorPrototype);

// `%IteratorPrototype%[@@iterator]()` method
// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator
if (!isCallable(IteratorPrototype[ITERATOR])) {
  defineBuiltIn(IteratorPrototype, ITERATOR, function () {
    return this;
  });
}

module.exports = {
  IteratorPrototype: IteratorPrototype,
  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS
};


/***/ }),

/***/ 9478:
/***/ (function(module) {

"use strict";

module.exports = {};


/***/ }),

/***/ 6310:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toLength = __webpack_require__(43126);

// `LengthOfArrayLike` abstract operation
// https://tc39.es/ecma262/#sec-lengthofarraylike
module.exports = function (obj) {
  return toLength(obj.length);
};


/***/ }),

/***/ 98702:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var fails = __webpack_require__(3689);
var isCallable = __webpack_require__(69985);
var hasOwn = __webpack_require__(36812);
var DESCRIPTORS = __webpack_require__(67697);
var CONFIGURABLE_FUNCTION_NAME = (__webpack_require__(41236).CONFIGURABLE);
var inspectSource = __webpack_require__(6738);
var InternalStateModule = __webpack_require__(618);

var enforceInternalState = InternalStateModule.enforce;
var getInternalState = InternalStateModule.get;
var $String = String;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;
var stringSlice = uncurryThis(''.slice);
var replace = uncurryThis(''.replace);
var join = uncurryThis([].join);

var CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {
  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;
});

var TEMPLATE = String(String).split('String');

var makeBuiltIn = module.exports = function (value, name, options) {
  if (stringSlice($String(name), 0, 7) === 'Symbol(') {
    name = '[' + replace($String(name), /^Symbol\(([^)]*)\)/, '$1') + ']';
  }
  if (options && options.getter) name = 'get ' + name;
  if (options && options.setter) name = 'set ' + name;
  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {
    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });
    else value.name = name;
  }
  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {
    defineProperty(value, 'length', { value: options.arity });
  }
  try {
    if (options && hasOwn(options, 'constructor') && options.constructor) {
      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });
    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable
    } else if (value.prototype) value.prototype = undefined;
  } catch (error) { /* empty */ }
  var state = enforceInternalState(value);
  if (!hasOwn(state, 'source')) {
    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');
  } return value;
};

// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
// eslint-disable-next-line no-extend-native -- required
Function.prototype.toString = makeBuiltIn(function toString() {
  return isCallable(this) && getInternalState(this).source || inspectSource(this);
}, 'toString');


/***/ }),

/***/ 83914:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);

// eslint-disable-next-line es/no-map -- safe
var MapPrototype = Map.prototype;

module.exports = {
  // eslint-disable-next-line es/no-map -- safe
  Map: Map,
  set: uncurryThis(MapPrototype.set),
  get: uncurryThis(MapPrototype.get),
  has: uncurryThis(MapPrototype.has),
  remove: uncurryThis(MapPrototype['delete']),
  proto: MapPrototype
};


/***/ }),

/***/ 40134:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var sign = __webpack_require__(55680);

var abs = Math.abs;

var EPSILON = 2.220446049250313e-16; // Number.EPSILON
var INVERSE_EPSILON = 1 / EPSILON;

var roundTiesToEven = function (n) {
  return n + INVERSE_EPSILON - INVERSE_EPSILON;
};

module.exports = function (x, FLOAT_EPSILON, FLOAT_MAX_VALUE, FLOAT_MIN_VALUE) {
  var n = +x;
  var absolute = abs(n);
  var s = sign(n);
  if (absolute < FLOAT_MIN_VALUE) return s * roundTiesToEven(absolute / FLOAT_MIN_VALUE / FLOAT_EPSILON) * FLOAT_MIN_VALUE * FLOAT_EPSILON;
  var a = (1 + FLOAT_EPSILON / EPSILON) * absolute;
  var result = a - (a - absolute);
  // eslint-disable-next-line no-self-compare -- NaN check
  if (result > FLOAT_MAX_VALUE || result !== result) return s * Infinity;
  return s * result;
};


/***/ }),

/***/ 37788:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var floatRound = __webpack_require__(40134);

var FLOAT32_EPSILON = 1.1920928955078125e-7; // 2 ** -23;
var FLOAT32_MAX_VALUE = 3.4028234663852886e+38; // 2 ** 128 - 2 ** 104
var FLOAT32_MIN_VALUE = 1.1754943508222875e-38; // 2 ** -126;

// `Math.fround` method implementation
// https://tc39.es/ecma262/#sec-math.fround
// eslint-disable-next-line es/no-math-fround -- safe
module.exports = Math.fround || function fround(x) {
  return floatRound(x, FLOAT32_EPSILON, FLOAT32_MAX_VALUE, FLOAT32_MIN_VALUE);
};


/***/ }),

/***/ 55680:
/***/ (function(module) {

"use strict";

// `Math.sign` method implementation
// https://tc39.es/ecma262/#sec-math.sign
// eslint-disable-next-line es/no-math-sign -- safe
module.exports = Math.sign || function sign(x) {
  var n = +x;
  // eslint-disable-next-line no-self-compare -- NaN check
  return n === 0 || n !== n ? n : n < 0 ? -1 : 1;
};


/***/ }),

/***/ 58828:
/***/ (function(module) {

"use strict";

var ceil = Math.ceil;
var floor = Math.floor;

// `Math.trunc` method
// https://tc39.es/ecma262/#sec-math.trunc
// eslint-disable-next-line es/no-math-trunc -- safe
module.exports = Math.trunc || function trunc(x) {
  var n = +x;
  return (n > 0 ? floor : ceil)(n);
};


/***/ }),

/***/ 80231:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var safeGetBuiltIn = __webpack_require__(70517);
var bind = __webpack_require__(54071);
var macrotask = (__webpack_require__(99886).set);
var Queue = __webpack_require__(34410);
var IS_IOS = __webpack_require__(4764);
var IS_IOS_PEBBLE = __webpack_require__(63221);
var IS_WEBOS_WEBKIT = __webpack_require__(27486);
var IS_NODE = __webpack_require__(50806);

var MutationObserver = global.MutationObserver || global.WebKitMutationObserver;
var document = global.document;
var process = global.process;
var Promise = global.Promise;
var microtask = safeGetBuiltIn('queueMicrotask');
var notify, toggle, node, promise, then;

// modern engines have queueMicrotask method
if (!microtask) {
  var queue = new Queue();

  var flush = function () {
    var parent, fn;
    if (IS_NODE && (parent = process.domain)) parent.exit();
    while (fn = queue.get()) try {
      fn();
    } catch (error) {
      if (queue.head) notify();
      throw error;
    }
    if (parent) parent.enter();
  };

  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339
  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898
  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {
    toggle = true;
    node = document.createTextNode('');
    new MutationObserver(flush).observe(node, { characterData: true });
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    promise = Promise.resolve(undefined);
    // workaround of WebKit ~ iOS Safari 10.1 bug
    promise.constructor = Promise;
    then = bind(promise.then, promise);
    notify = function () {
      then(flush);
    };
  // Node.js without promises
  } else if (IS_NODE) {
    notify = function () {
      process.nextTick(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessage
  // - onreadystatechange
  // - setTimeout
  } else {
    // `webpack` dev server bug on IE global methods - use bind(fn, global)
    macrotask = bind(macrotask, global);
    notify = function () {
      macrotask(flush);
    };
  }

  microtask = function (fn) {
    if (!queue.head) notify();
    queue.add(fn);
  };
}

module.exports = microtask;


/***/ }),

/***/ 48742:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var aCallable = __webpack_require__(10509);

var $TypeError = TypeError;

var PromiseCapability = function (C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw new $TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aCallable(resolve);
  this.reject = aCallable(reject);
};

// `NewPromiseCapability` abstract operation
// https://tc39.es/ecma262/#sec-newpromisecapability
module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),

/***/ 13841:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toString = __webpack_require__(34327);

module.exports = function (argument, $default) {
  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);
};


/***/ }),

/***/ 42124:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isRegExp = __webpack_require__(91245);

var $TypeError = TypeError;

module.exports = function (it) {
  if (isRegExp(it)) {
    throw new $TypeError("The method doesn't accept regular expressions");
  } return it;
};


/***/ }),

/***/ 45394:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var uncurryThis = __webpack_require__(68844);
var call = __webpack_require__(22615);
var fails = __webpack_require__(3689);
var objectKeys = __webpack_require__(20300);
var getOwnPropertySymbolsModule = __webpack_require__(7518);
var propertyIsEnumerableModule = __webpack_require__(49556);
var toObject = __webpack_require__(90690);
var IndexedObject = __webpack_require__(94413);

// eslint-disable-next-line es/no-object-assign -- safe
var $assign = Object.assign;
// eslint-disable-next-line es/no-object-defineproperty -- required for testing
var defineProperty = Object.defineProperty;
var concat = uncurryThis([].concat);

// `Object.assign` method
// https://tc39.es/ecma262/#sec-object.assign
module.exports = !$assign || fails(function () {
  // should have correct order of operations (Edge bug)
  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {
    enumerable: true,
    get: function () {
      defineProperty(this, 'b', {
        value: 3,
        enumerable: false
      });
    }
  }), { b: 2 })).b !== 1) return true;
  // should work with symbols and should have deterministic property order (V8 bug)
  var A = {};
  var B = {};
  // eslint-disable-next-line es/no-symbol -- safe
  var symbol = Symbol('assign detection');
  var alphabet = 'abcdefghijklmnopqrst';
  A[symbol] = 7;
  alphabet.split('').forEach(function (chr) { B[chr] = chr; });
  return $assign({}, A)[symbol] !== 7 || objectKeys($assign({}, B)).join('') !== alphabet;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`
  var T = toObject(target);
  var argumentsLength = arguments.length;
  var index = 1;
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  var propertyIsEnumerable = propertyIsEnumerableModule.f;
  while (argumentsLength > index) {
    var S = IndexedObject(arguments[index++]);
    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) {
      key = keys[j++];
      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];
    }
  } return T;
} : $assign;


/***/ }),

/***/ 25391:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* global ActiveXObject -- old IE, WSH */
var anObject = __webpack_require__(85027);
var definePropertiesModule = __webpack_require__(98920);
var enumBugKeys = __webpack_require__(72739);
var hiddenKeys = __webpack_require__(57248);
var html = __webpack_require__(2688);
var documentCreateElement = __webpack_require__(36420);
var sharedKey = __webpack_require__(2713);

var GT = '>';
var LT = '<';
var PROTOTYPE = 'prototype';
var SCRIPT = 'script';
var IE_PROTO = sharedKey('IE_PROTO');

var EmptyConstructor = function () { /* empty */ };

var scriptTag = function (content) {
  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
};

// Create object with fake `null` prototype: use ActiveX Object with cleared prototype
var NullProtoObjectViaActiveX = function (activeXDocument) {
  activeXDocument.write(scriptTag(''));
  activeXDocument.close();
  var temp = activeXDocument.parentWindow.Object;
  activeXDocument = null; // avoid memory leak
  return temp;
};

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var NullProtoObjectViaIFrame = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = documentCreateElement('iframe');
  var JS = 'java' + SCRIPT + ':';
  var iframeDocument;
  iframe.style.display = 'none';
  html.appendChild(iframe);
  // https://github.com/zloirock/core-js/issues/475
  iframe.src = String(JS);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(scriptTag('document.F=Object'));
  iframeDocument.close();
  return iframeDocument.F;
};

// Check for document.domain and active x support
// No need to use active x approach when document.domain is not set
// see https://github.com/es-shims/es5-shim/issues/150
// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
// avoid IE GC bug
var activeXDocument;
var NullProtoObject = function () {
  try {
    activeXDocument = new ActiveXObject('htmlfile');
  } catch (error) { /* ignore */ }
  NullProtoObject = typeof document != 'undefined'
    ? document.domain && activeXDocument
      ? NullProtoObjectViaActiveX(activeXDocument) // old IE
      : NullProtoObjectViaIFrame()
    : NullProtoObjectViaActiveX(activeXDocument); // WSH
  var length = enumBugKeys.length;
  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
  return NullProtoObject();
};

hiddenKeys[IE_PROTO] = true;

// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
// eslint-disable-next-line es/no-object-create -- safe
module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    EmptyConstructor[PROTOTYPE] = anObject(O);
    result = new EmptyConstructor();
    EmptyConstructor[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = NullProtoObject();
  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);
};


/***/ }),

/***/ 98920:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(15648);
var definePropertyModule = __webpack_require__(72560);
var anObject = __webpack_require__(85027);
var toIndexedObject = __webpack_require__(65290);
var objectKeys = __webpack_require__(20300);

// `Object.defineProperties` method
// https://tc39.es/ecma262/#sec-object.defineproperties
// eslint-disable-next-line es/no-object-defineproperties -- safe
exports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var props = toIndexedObject(Properties);
  var keys = objectKeys(Properties);
  var length = keys.length;
  var index = 0;
  var key;
  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);
  return O;
};


/***/ }),

/***/ 72560:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var IE8_DOM_DEFINE = __webpack_require__(68506);
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(15648);
var anObject = __webpack_require__(85027);
var toPropertyKey = __webpack_require__(18360);

var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var $defineProperty = Object.defineProperty;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var ENUMERABLE = 'enumerable';
var CONFIGURABLE = 'configurable';
var WRITABLE = 'writable';

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
exports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
    var current = $getOwnPropertyDescriptor(O, P);
    if (current && current[WRITABLE]) {
      O[P] = Attributes.value;
      Attributes = {
        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
        writable: false
      };
    }
  } return $defineProperty(O, P, Attributes);
} : $defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return $defineProperty(O, P, Attributes);
  } catch (error) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),

/***/ 82474:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var call = __webpack_require__(22615);
var propertyIsEnumerableModule = __webpack_require__(49556);
var createPropertyDescriptor = __webpack_require__(75684);
var toIndexedObject = __webpack_require__(65290);
var toPropertyKey = __webpack_require__(18360);
var hasOwn = __webpack_require__(36812);
var IE8_DOM_DEFINE = __webpack_require__(68506);

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
  O = toIndexedObject(O);
  P = toPropertyKey(P);
  if (IE8_DOM_DEFINE) try {
    return $getOwnPropertyDescriptor(O, P);
  } catch (error) { /* empty */ }
  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);
};


/***/ }),

/***/ 26062:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable es/no-object-getownpropertynames -- safe */
var classof = __webpack_require__(6648);
var toIndexedObject = __webpack_require__(65290);
var $getOwnPropertyNames = (__webpack_require__(72741).f);
var arraySlice = __webpack_require__(96004);

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return $getOwnPropertyNames(it);
  } catch (error) {
    return arraySlice(windowNames);
  }
};

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && classof(it) === 'Window'
    ? getWindowNames(it)
    : $getOwnPropertyNames(toIndexedObject(it));
};


/***/ }),

/***/ 72741:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var internalObjectKeys = __webpack_require__(54948);
var enumBugKeys = __webpack_require__(72739);

var hiddenKeys = enumBugKeys.concat('length', 'prototype');

// `Object.getOwnPropertyNames` method
// https://tc39.es/ecma262/#sec-object.getownpropertynames
// eslint-disable-next-line es/no-object-getownpropertynames -- safe
exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return internalObjectKeys(O, hiddenKeys);
};


/***/ }),

/***/ 7518:
/***/ (function(__unused_webpack_module, exports) {

"use strict";

// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
exports.f = Object.getOwnPropertySymbols;


/***/ }),

/***/ 61868:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var hasOwn = __webpack_require__(36812);
var isCallable = __webpack_require__(69985);
var toObject = __webpack_require__(90690);
var sharedKey = __webpack_require__(2713);
var CORRECT_PROTOTYPE_GETTER = __webpack_require__(81748);

var IE_PROTO = sharedKey('IE_PROTO');
var $Object = Object;
var ObjectPrototype = $Object.prototype;

// `Object.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.getprototypeof
// eslint-disable-next-line es/no-object-getprototypeof -- safe
module.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {
  var object = toObject(O);
  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];
  var constructor = object.constructor;
  if (isCallable(constructor) && object instanceof constructor) {
    return constructor.prototype;
  } return object instanceof $Object ? ObjectPrototype : null;
};


/***/ }),

/***/ 27049:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var isObject = __webpack_require__(48999);
var classof = __webpack_require__(6648);
var ARRAY_BUFFER_NON_EXTENSIBLE = __webpack_require__(11655);

// eslint-disable-next-line es/no-object-isextensible -- safe
var $isExtensible = Object.isExtensible;
var FAILS_ON_PRIMITIVES = fails(function () { $isExtensible(1); });

// `Object.isExtensible` method
// https://tc39.es/ecma262/#sec-object.isextensible
module.exports = (FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE) ? function isExtensible(it) {
  if (!isObject(it)) return false;
  if (ARRAY_BUFFER_NON_EXTENSIBLE && classof(it) === 'ArrayBuffer') return false;
  return $isExtensible ? $isExtensible(it) : true;
} : $isExtensible;


/***/ }),

/***/ 23622:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);

module.exports = uncurryThis({}.isPrototypeOf);


/***/ }),

/***/ 54948:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var hasOwn = __webpack_require__(36812);
var toIndexedObject = __webpack_require__(65290);
var indexOf = (__webpack_require__(84328).indexOf);
var hiddenKeys = __webpack_require__(57248);

var push = uncurryThis([].push);

module.exports = function (object, names) {
  var O = toIndexedObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (hasOwn(O, key = names[i++])) {
    ~indexOf(result, key) || push(result, key);
  }
  return result;
};


/***/ }),

/***/ 20300:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var internalObjectKeys = __webpack_require__(54948);
var enumBugKeys = __webpack_require__(72739);

// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
// eslint-disable-next-line es/no-object-keys -- safe
module.exports = Object.keys || function keys(O) {
  return internalObjectKeys(O, enumBugKeys);
};


/***/ }),

/***/ 49556:
/***/ (function(__unused_webpack_module, exports) {

"use strict";

var $propertyIsEnumerable = {}.propertyIsEnumerable;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Nashorn ~ JDK8 bug
var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);

// `Object.prototype.propertyIsEnumerable` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
  var descriptor = getOwnPropertyDescriptor(this, V);
  return !!descriptor && descriptor.enumerable;
} : $propertyIsEnumerable;


/***/ }),

/***/ 49385:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable no-proto -- safe */
var uncurryThisAccessor = __webpack_require__(52743);
var anObject = __webpack_require__(85027);
var aPossiblePrototype = __webpack_require__(23550);

// `Object.setPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.setprototypeof
// Works with __proto__ only. Old v8 can't work with null proto objects.
// eslint-disable-next-line es/no-object-setprototypeof -- safe
module.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {
  var CORRECT_SETTER = false;
  var test = {};
  var setter;
  try {
    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');
    setter(test, []);
    CORRECT_SETTER = test instanceof Array;
  } catch (error) { /* empty */ }
  return function setPrototypeOf(O, proto) {
    anObject(O);
    aPossiblePrototype(proto);
    if (CORRECT_SETTER) setter(O, proto);
    else O.__proto__ = proto;
    return O;
  };
}() : undefined);


/***/ }),

/***/ 49419:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var fails = __webpack_require__(3689);
var uncurryThis = __webpack_require__(68844);
var objectGetPrototypeOf = __webpack_require__(61868);
var objectKeys = __webpack_require__(20300);
var toIndexedObject = __webpack_require__(65290);
var $propertyIsEnumerable = (__webpack_require__(49556).f);

var propertyIsEnumerable = uncurryThis($propertyIsEnumerable);
var push = uncurryThis([].push);

// in some IE versions, `propertyIsEnumerable` returns incorrect result on integer keys
// of `null` prototype objects
var IE_BUG = DESCRIPTORS && fails(function () {
  // eslint-disable-next-line es/no-object-create -- safe
  var O = Object.create(null);
  O[2] = 2;
  return !propertyIsEnumerable(O, 2);
});

// `Object.{ entries, values }` methods implementation
var createMethod = function (TO_ENTRIES) {
  return function (it) {
    var O = toIndexedObject(it);
    var keys = objectKeys(O);
    var IE_WORKAROUND = IE_BUG && objectGetPrototypeOf(O) === null;
    var length = keys.length;
    var i = 0;
    var result = [];
    var key;
    while (length > i) {
      key = keys[i++];
      if (!DESCRIPTORS || (IE_WORKAROUND ? key in O : propertyIsEnumerable(O, key))) {
        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);
      }
    }
    return result;
  };
};

module.exports = {
  // `Object.entries` method
  // https://tc39.es/ecma262/#sec-object.entries
  entries: createMethod(true),
  // `Object.values` method
  // https://tc39.es/ecma262/#sec-object.values
  values: createMethod(false)
};


/***/ }),

/***/ 65073:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var TO_STRING_TAG_SUPPORT = __webpack_require__(23043);
var classof = __webpack_require__(50926);

// `Object.prototype.toString` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.tostring
module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {
  return '[object ' + classof(this) + ']';
};


/***/ }),

/***/ 35899:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var isCallable = __webpack_require__(69985);
var isObject = __webpack_require__(48999);

var $TypeError = TypeError;

// `OrdinaryToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-ordinarytoprimitive
module.exports = function (input, pref) {
  var fn, val;
  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;
  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  throw new $TypeError("Can't convert object to primitive value");
};


/***/ }),

/***/ 19152:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(76058);
var uncurryThis = __webpack_require__(68844);
var getOwnPropertyNamesModule = __webpack_require__(72741);
var getOwnPropertySymbolsModule = __webpack_require__(7518);
var anObject = __webpack_require__(85027);

var concat = uncurryThis([].concat);

// all object keys, includes non-enumerable and symbols
module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {
  var keys = getOwnPropertyNamesModule.f(anObject(it));
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;
};


/***/ }),

/***/ 50496:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);

module.exports = global;


/***/ }),

/***/ 9302:
/***/ (function(module) {

"use strict";

module.exports = function (exec) {
  try {
    return { error: false, value: exec() };
  } catch (error) {
    return { error: true, value: error };
  }
};


/***/ }),

/***/ 87073:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var NativePromiseConstructor = __webpack_require__(17919);
var isCallable = __webpack_require__(69985);
var isForced = __webpack_require__(35266);
var inspectSource = __webpack_require__(6738);
var wellKnownSymbol = __webpack_require__(44201);
var IS_BROWSER = __webpack_require__(72532);
var IS_DENO = __webpack_require__(88563);
var IS_PURE = __webpack_require__(53931);
var V8_VERSION = __webpack_require__(3615);

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var SPECIES = wellKnownSymbol('species');
var SUBCLASSING = false;
var NATIVE_PROMISE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);

var FORCED_PROMISE_CONSTRUCTOR = isForced('Promise', function () {
  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor);
  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor);
  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
  // We can't detect it synchronously, so just check versions
  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;
  // We need Promise#{ catch, finally } in the pure version for preventing prototype pollution
  if (IS_PURE && !(NativePromisePrototype['catch'] && NativePromisePrototype['finally'])) return true;
  // We can't use @@species feature detection in V8 since it causes
  // deoptimization and performance degradation
  // https://github.com/zloirock/core-js/issues/679
  if (!V8_VERSION || V8_VERSION < 51 || !/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) {
    // Detect correctness of subclassing with @@species support
    var promise = new NativePromiseConstructor(function (resolve) { resolve(1); });
    var FakePromise = function (exec) {
      exec(function () { /* empty */ }, function () { /* empty */ });
    };
    var constructor = promise.constructor = {};
    constructor[SPECIES] = FakePromise;
    SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;
    if (!SUBCLASSING) return true;
  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test
  } return !GLOBAL_CORE_JS_PROMISE && (IS_BROWSER || IS_DENO) && !NATIVE_PROMISE_REJECTION_EVENT;
});

module.exports = {
  CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR,
  REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT,
  SUBCLASSING: SUBCLASSING
};


/***/ }),

/***/ 17919:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);

module.exports = global.Promise;


/***/ }),

/***/ 72945:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var anObject = __webpack_require__(85027);
var isObject = __webpack_require__(48999);
var newPromiseCapability = __webpack_require__(48742);

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),

/***/ 562:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var NativePromiseConstructor = __webpack_require__(17919);
var checkCorrectnessOfIteration = __webpack_require__(86431);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(87073).CONSTRUCTOR);

module.exports = FORCED_PROMISE_CONSTRUCTOR || !checkCorrectnessOfIteration(function (iterable) {
  NativePromiseConstructor.all(iterable).then(undefined, function () { /* empty */ });
});


/***/ }),

/***/ 38055:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineProperty = (__webpack_require__(72560).f);

module.exports = function (Target, Source, key) {
  key in Target || defineProperty(Target, key, {
    configurable: true,
    get: function () { return Source[key]; },
    set: function (it) { Source[key] = it; }
  });
};


/***/ }),

/***/ 34410:
/***/ (function(module) {

"use strict";

var Queue = function () {
  this.head = null;
  this.tail = null;
};

Queue.prototype = {
  add: function (item) {
    var entry = { item: item, next: null };
    var tail = this.tail;
    if (tail) tail.next = entry;
    else this.head = entry;
    this.tail = entry;
  },
  get: function () {
    var entry = this.head;
    if (entry) {
      var next = this.head = entry.next;
      if (next === null) this.tail = null;
      return entry.item;
    }
  }
};

module.exports = Queue;


/***/ }),

/***/ 66100:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var anObject = __webpack_require__(85027);
var isCallable = __webpack_require__(69985);
var classof = __webpack_require__(6648);
var regexpExec = __webpack_require__(56308);

var $TypeError = TypeError;

// `RegExpExec` abstract operation
// https://tc39.es/ecma262/#sec-regexpexec
module.exports = function (R, S) {
  var exec = R.exec;
  if (isCallable(exec)) {
    var result = call(exec, R, S);
    if (result !== null) anObject(result);
    return result;
  }
  if (classof(R) === 'RegExp') return call(regexpExec, R, S);
  throw new $TypeError('RegExp#exec called on incompatible receiver');
};


/***/ }),

/***/ 56308:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */
/* eslint-disable regexp/no-useless-quantifier -- testing */
var call = __webpack_require__(22615);
var uncurryThis = __webpack_require__(68844);
var toString = __webpack_require__(34327);
var regexpFlags = __webpack_require__(69633);
var stickyHelpers = __webpack_require__(87901);
var shared = __webpack_require__(83430);
var create = __webpack_require__(25391);
var getInternalState = (__webpack_require__(618).get);
var UNSUPPORTED_DOT_ALL = __webpack_require__(62100);
var UNSUPPORTED_NCG = __webpack_require__(26738);

var nativeReplace = shared('native-string-replace', String.prototype.replace);
var nativeExec = RegExp.prototype.exec;
var patchedExec = nativeExec;
var charAt = uncurryThis(''.charAt);
var indexOf = uncurryThis(''.indexOf);
var replace = uncurryThis(''.replace);
var stringSlice = uncurryThis(''.slice);

var UPDATES_LAST_INDEX_WRONG = (function () {
  var re1 = /a/;
  var re2 = /b*/g;
  call(nativeExec, re1, 'a');
  call(nativeExec, re2, 'a');
  return re1.lastIndex !== 0 || re2.lastIndex !== 0;
})();

var UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;

// nonparticipating capturing group, copied from es5-shim's String#split patch.
var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;

var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;

if (PATCH) {
  patchedExec = function exec(string) {
    var re = this;
    var state = getInternalState(re);
    var str = toString(string);
    var raw = state.raw;
    var result, reCopy, lastIndex, match, i, object, group;

    if (raw) {
      raw.lastIndex = re.lastIndex;
      result = call(patchedExec, raw, str);
      re.lastIndex = raw.lastIndex;
      return result;
    }

    var groups = state.groups;
    var sticky = UNSUPPORTED_Y && re.sticky;
    var flags = call(regexpFlags, re);
    var source = re.source;
    var charsAdded = 0;
    var strCopy = str;

    if (sticky) {
      flags = replace(flags, 'y', '');
      if (indexOf(flags, 'g') === -1) {
        flags += 'g';
      }

      strCopy = stringSlice(str, re.lastIndex);
      // Support anchored sticky behavior.
      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\n')) {
        source = '(?: ' + source + ')';
        strCopy = ' ' + strCopy;
        charsAdded++;
      }
      // ^(? + rx + ) is needed, in combination with some str slicing, to
      // simulate the 'y' flag.
      reCopy = new RegExp('^(?:' + source + ')', flags);
    }

    if (NPCG_INCLUDED) {
      reCopy = new RegExp('^' + source + '$(?!\\s)', flags);
    }
    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;

    match = call(nativeExec, sticky ? reCopy : re, strCopy);

    if (sticky) {
      if (match) {
        match.input = stringSlice(match.input, charsAdded);
        match[0] = stringSlice(match[0], charsAdded);
        match.index = re.lastIndex;
        re.lastIndex += match[0].length;
      } else re.lastIndex = 0;
    } else if (UPDATES_LAST_INDEX_WRONG && match) {
      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
    }
    if (NPCG_INCLUDED && match && match.length > 1) {
      // Fix browsers whose `exec` methods don't consistently return `undefined`
      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/
      call(nativeReplace, match[0], reCopy, function () {
        for (i = 1; i < arguments.length - 2; i++) {
          if (arguments[i] === undefined) match[i] = undefined;
        }
      });
    }

    if (match && groups) {
      match.groups = object = create(null);
      for (i = 0; i < groups.length; i++) {
        group = groups[i];
        object[group[0]] = match[group[1]];
      }
    }

    return match;
  };
}

module.exports = patchedExec;


/***/ }),

/***/ 69633:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var anObject = __webpack_require__(85027);

// `RegExp.prototype.flags` getter implementation
// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
module.exports = function () {
  var that = anObject(this);
  var result = '';
  if (that.hasIndices) result += 'd';
  if (that.global) result += 'g';
  if (that.ignoreCase) result += 'i';
  if (that.multiline) result += 'm';
  if (that.dotAll) result += 's';
  if (that.unicode) result += 'u';
  if (that.unicodeSets) result += 'v';
  if (that.sticky) result += 'y';
  return result;
};


/***/ }),

/***/ 63477:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var hasOwn = __webpack_require__(36812);
var isPrototypeOf = __webpack_require__(23622);
var regExpFlags = __webpack_require__(69633);

var RegExpPrototype = RegExp.prototype;

module.exports = function (R) {
  var flags = R.flags;
  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)
    ? call(regExpFlags, R) : flags;
};


/***/ }),

/***/ 87901:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var global = __webpack_require__(19037);

// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError
var $RegExp = global.RegExp;

var UNSUPPORTED_Y = fails(function () {
  var re = $RegExp('a', 'y');
  re.lastIndex = 2;
  return re.exec('abcd') !== null;
});

// UC Browser bug
// https://github.com/zloirock/core-js/issues/1008
var MISSED_STICKY = UNSUPPORTED_Y || fails(function () {
  return !$RegExp('a', 'y').sticky;
});

var BROKEN_CARET = UNSUPPORTED_Y || fails(function () {
  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687
  var re = $RegExp('^r', 'gy');
  re.lastIndex = 2;
  return re.exec('str') !== null;
});

module.exports = {
  BROKEN_CARET: BROKEN_CARET,
  MISSED_STICKY: MISSED_STICKY,
  UNSUPPORTED_Y: UNSUPPORTED_Y
};


/***/ }),

/***/ 62100:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var global = __webpack_require__(19037);

// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError
var $RegExp = global.RegExp;

module.exports = fails(function () {
  var re = $RegExp('.', 's');
  return !(re.dotAll && re.test('\n') && re.flags === 's');
});


/***/ }),

/***/ 26738:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var global = __webpack_require__(19037);

// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError
var $RegExp = global.RegExp;

module.exports = fails(function () {
  var re = $RegExp('(?<a>b)', 'g');
  return re.exec('b').groups.a !== 'b' ||
    'b'.replace(re, '$<a>c') !== 'bc';
});


/***/ }),

/***/ 74684:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isNullOrUndefined = __webpack_require__(981);

var $TypeError = TypeError;

// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
module.exports = function (it) {
  if (isNullOrUndefined(it)) throw new $TypeError("Can't call method on " + it);
  return it;
};


/***/ }),

/***/ 70517:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var DESCRIPTORS = __webpack_require__(67697);

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Avoid NodeJS experimental warning
module.exports = function (name) {
  if (!DESCRIPTORS) return global[name];
  var descriptor = getOwnPropertyDescriptor(global, name);
  return descriptor && descriptor.value;
};


/***/ }),

/***/ 70953:
/***/ (function(module) {

"use strict";

// `SameValue` abstract operation
// https://tc39.es/ecma262/#sec-samevalue
// eslint-disable-next-line es/no-object-is -- safe
module.exports = Object.is || function is(x, y) {
  // eslint-disable-next-line no-self-compare -- NaN check
  return x === y ? x !== 0 || 1 / x === 1 / y : x !== x && y !== y;
};


/***/ }),

/***/ 61034:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);

// eslint-disable-next-line es/no-set -- safe
var SetPrototype = Set.prototype;

module.exports = {
  // eslint-disable-next-line es/no-set -- safe
  Set: Set,
  add: uncurryThis(SetPrototype.add),
  has: uncurryThis(SetPrototype.has),
  remove: uncurryThis(SetPrototype['delete']),
  proto: SetPrototype
};


/***/ }),

/***/ 48774:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var iterateSimple = __webpack_require__(96704);
var SetHelpers = __webpack_require__(61034);

var Set = SetHelpers.Set;
var SetPrototype = SetHelpers.proto;
var forEach = uncurryThis(SetPrototype.forEach);
var keys = uncurryThis(SetPrototype.keys);
var next = keys(new Set()).next;

module.exports = function (set, fn, interruptible) {
  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);
};


/***/ }),

/***/ 14241:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(76058);
var defineBuiltInAccessor = __webpack_require__(62148);
var wellKnownSymbol = __webpack_require__(44201);
var DESCRIPTORS = __webpack_require__(67697);

var SPECIES = wellKnownSymbol('species');

module.exports = function (CONSTRUCTOR_NAME) {
  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);

  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {
    defineBuiltInAccessor(Constructor, SPECIES, {
      configurable: true,
      get: function () { return this; }
    });
  }
};


/***/ }),

/***/ 55997:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineProperty = (__webpack_require__(72560).f);
var hasOwn = __webpack_require__(36812);
var wellKnownSymbol = __webpack_require__(44201);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');

module.exports = function (target, TAG, STATIC) {
  if (target && !STATIC) target = target.prototype;
  if (target && !hasOwn(target, TO_STRING_TAG)) {
    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });
  }
};


/***/ }),

/***/ 2713:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var shared = __webpack_require__(83430);
var uid = __webpack_require__(14630);

var keys = shared('keys');

module.exports = function (key) {
  return keys[key] || (keys[key] = uid(key));
};


/***/ }),

/***/ 84091:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var defineGlobalProperty = __webpack_require__(95014);

var SHARED = '__core-js_shared__';
var store = global[SHARED] || defineGlobalProperty(SHARED, {});

module.exports = store;


/***/ }),

/***/ 83430:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var IS_PURE = __webpack_require__(53931);
var store = __webpack_require__(84091);

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: '3.35.0',
  mode: IS_PURE ? 'pure' : 'global',
  copyright: ' 2014-2023 Denis Pushkarev (zloirock.ru)',
  license: 'https://github.com/zloirock/core-js/blob/v3.35.0/LICENSE',
  source: 'https://github.com/zloirock/core-js'
});


/***/ }),

/***/ 76373:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var anObject = __webpack_require__(85027);
var aConstructor = __webpack_require__(52655);
var isNullOrUndefined = __webpack_require__(981);
var wellKnownSymbol = __webpack_require__(44201);

var SPECIES = wellKnownSymbol('species');

// `SpeciesConstructor` abstract operation
// https://tc39.es/ecma262/#sec-speciesconstructor
module.exports = function (O, defaultConstructor) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);
};


/***/ }),

/***/ 10730:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var toIntegerOrInfinity = __webpack_require__(68700);
var toString = __webpack_require__(34327);
var requireObjectCoercible = __webpack_require__(74684);

var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var stringSlice = uncurryThis(''.slice);

var createMethod = function (CONVERT_TO_STRING) {
  return function ($this, pos) {
    var S = toString(requireObjectCoercible($this));
    var position = toIntegerOrInfinity(pos);
    var size = S.length;
    var first, second;
    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;
    first = charCodeAt(S, position);
    return first < 0xD800 || first > 0xDBFF || position + 1 === size
      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF
        ? CONVERT_TO_STRING
          ? charAt(S, position)
          : first
        : CONVERT_TO_STRING
          ? stringSlice(S, position, position + 2)
          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;
  };
};

module.exports = {
  // `String.prototype.codePointAt` method
  // https://tc39.es/ecma262/#sec-string.prototype.codepointat
  codeAt: createMethod(false),
  // `String.prototype.at` method
  // https://github.com/mathiasbynens/String.prototype.at
  charAt: createMethod(true)
};


/***/ }),

/***/ 35947:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// https://github.com/zloirock/core-js/issues/280
var userAgent = __webpack_require__(30071);

module.exports = /Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(userAgent);


/***/ }),

/***/ 77254:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-string-pad-start-end
var uncurryThis = __webpack_require__(68844);
var toLength = __webpack_require__(43126);
var toString = __webpack_require__(34327);
var $repeat = __webpack_require__(90534);
var requireObjectCoercible = __webpack_require__(74684);

var repeat = uncurryThis($repeat);
var stringSlice = uncurryThis(''.slice);
var ceil = Math.ceil;

// `String.prototype.{ padStart, padEnd }` methods implementation
var createMethod = function (IS_END) {
  return function ($this, maxLength, fillString) {
    var S = toString(requireObjectCoercible($this));
    var intMaxLength = toLength(maxLength);
    var stringLength = S.length;
    var fillStr = fillString === undefined ? ' ' : toString(fillString);
    var fillLen, stringFiller;
    if (intMaxLength <= stringLength || fillStr === '') return S;
    fillLen = intMaxLength - stringLength;
    stringFiller = repeat(fillStr, ceil(fillLen / fillStr.length));
    if (stringFiller.length > fillLen) stringFiller = stringSlice(stringFiller, 0, fillLen);
    return IS_END ? S + stringFiller : stringFiller + S;
  };
};

module.exports = {
  // `String.prototype.padStart` method
  // https://tc39.es/ecma262/#sec-string.prototype.padstart
  start: createMethod(false),
  // `String.prototype.padEnd` method
  // https://tc39.es/ecma262/#sec-string.prototype.padend
  end: createMethod(true)
};


/***/ }),

/***/ 6430:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js
var uncurryThis = __webpack_require__(68844);

var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1
var base = 36;
var tMin = 1;
var tMax = 26;
var skew = 38;
var damp = 700;
var initialBias = 72;
var initialN = 128; // 0x80
var delimiter = '-'; // '\x2D'
var regexNonASCII = /[^\0-\u007E]/; // non-ASCII chars
var regexSeparators = /[.\u3002\uFF0E\uFF61]/g; // RFC 3490 separators
var OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';
var baseMinusTMin = base - tMin;

var $RangeError = RangeError;
var exec = uncurryThis(regexSeparators.exec);
var floor = Math.floor;
var fromCharCode = String.fromCharCode;
var charCodeAt = uncurryThis(''.charCodeAt);
var join = uncurryThis([].join);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var split = uncurryThis(''.split);
var toLowerCase = uncurryThis(''.toLowerCase);

/**
 * Creates an array containing the numeric code points of each Unicode
 * character in the string. While JavaScript uses UCS-2 internally,
 * this function will convert a pair of surrogate halves (each of which
 * UCS-2 exposes as separate characters) into a single code point,
 * matching UTF-16.
 */
var ucs2decode = function (string) {
  var output = [];
  var counter = 0;
  var length = string.length;
  while (counter < length) {
    var value = charCodeAt(string, counter++);
    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
      // It's a high surrogate, and there is a next character.
      var extra = charCodeAt(string, counter++);
      if ((extra & 0xFC00) === 0xDC00) { // Low surrogate.
        push(output, ((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
      } else {
        // It's an unmatched surrogate; only append this code unit, in case the
        // next code unit is the high surrogate of a surrogate pair.
        push(output, value);
        counter--;
      }
    } else {
      push(output, value);
    }
  }
  return output;
};

/**
 * Converts a digit/integer into a basic code point.
 */
var digitToBasic = function (digit) {
  //  0..25 map to ASCII a..z or A..Z
  // 26..35 map to ASCII 0..9
  return digit + 22 + 75 * (digit < 26);
};

/**
 * Bias adaptation function as per section 3.4 of RFC 3492.
 * https://tools.ietf.org/html/rfc3492#section-3.4
 */
var adapt = function (delta, numPoints, firstTime) {
  var k = 0;
  delta = firstTime ? floor(delta / damp) : delta >> 1;
  delta += floor(delta / numPoints);
  while (delta > baseMinusTMin * tMax >> 1) {
    delta = floor(delta / baseMinusTMin);
    k += base;
  }
  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
};

/**
 * Converts a string of Unicode symbols (e.g. a domain name label) to a
 * Punycode string of ASCII-only symbols.
 */
var encode = function (input) {
  var output = [];

  // Convert the input in UCS-2 to an array of Unicode code points.
  input = ucs2decode(input);

  // Cache the length.
  var inputLength = input.length;

  // Initialize the state.
  var n = initialN;
  var delta = 0;
  var bias = initialBias;
  var i, currentValue;

  // Handle the basic code points.
  for (i = 0; i < input.length; i++) {
    currentValue = input[i];
    if (currentValue < 0x80) {
      push(output, fromCharCode(currentValue));
    }
  }

  var basicLength = output.length; // number of basic code points.
  var handledCPCount = basicLength; // number of code points that have been handled;

  // Finish the basic string with a delimiter unless it's empty.
  if (basicLength) {
    push(output, delimiter);
  }

  // Main encoding loop:
  while (handledCPCount < inputLength) {
    // All non-basic code points < n have been handled already. Find the next larger one:
    var m = maxInt;
    for (i = 0; i < input.length; i++) {
      currentValue = input[i];
      if (currentValue >= n && currentValue < m) {
        m = currentValue;
      }
    }

    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.
    var handledCPCountPlusOne = handledCPCount + 1;
    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
      throw new $RangeError(OVERFLOW_ERROR);
    }

    delta += (m - n) * handledCPCountPlusOne;
    n = m;

    for (i = 0; i < input.length; i++) {
      currentValue = input[i];
      if (currentValue < n && ++delta > maxInt) {
        throw new $RangeError(OVERFLOW_ERROR);
      }
      if (currentValue === n) {
        // Represent delta as a generalized variable-length integer.
        var q = delta;
        var k = base;
        while (true) {
          var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
          if (q < t) break;
          var qMinusT = q - t;
          var baseMinusT = base - t;
          push(output, fromCharCode(digitToBasic(t + qMinusT % baseMinusT)));
          q = floor(qMinusT / baseMinusT);
          k += base;
        }

        push(output, fromCharCode(digitToBasic(q)));
        bias = adapt(delta, handledCPCountPlusOne, handledCPCount === basicLength);
        delta = 0;
        handledCPCount++;
      }
    }

    delta++;
    n++;
  }
  return join(output, '');
};

module.exports = function (input) {
  var encoded = [];
  var labels = split(replace(toLowerCase(input), regexSeparators, '\u002E'), '.');
  var i, label;
  for (i = 0; i < labels.length; i++) {
    label = labels[i];
    push(encoded, exec(regexNonASCII, label) ? 'xn--' + encode(label) : label);
  }
  return join(encoded, '.');
};


/***/ }),

/***/ 90534:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIntegerOrInfinity = __webpack_require__(68700);
var toString = __webpack_require__(34327);
var requireObjectCoercible = __webpack_require__(74684);

var $RangeError = RangeError;

// `String.prototype.repeat` method implementation
// https://tc39.es/ecma262/#sec-string.prototype.repeat
module.exports = function repeat(count) {
  var str = toString(requireObjectCoercible(this));
  var result = '';
  var n = toIntegerOrInfinity(count);
  if (n < 0 || n === Infinity) throw new $RangeError('Wrong number of repetitions');
  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;
  return result;
};


/***/ }),

/***/ 79558:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $trimEnd = (__webpack_require__(61435).end);
var forcedStringTrimMethod = __webpack_require__(75984);

// `String.prototype.{ trimEnd, trimRight }` method
// https://tc39.es/ecma262/#sec-string.prototype.trimend
// https://tc39.es/ecma262/#String.prototype.trimright
module.exports = forcedStringTrimMethod('trimEnd') ? function trimEnd() {
  return $trimEnd(this);
// eslint-disable-next-line es/no-string-prototype-trimstart-trimend -- safe
} : ''.trimEnd;


/***/ }),

/***/ 75984:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var PROPER_FUNCTION_NAME = (__webpack_require__(41236).PROPER);
var fails = __webpack_require__(3689);
var whitespaces = __webpack_require__(86350);

var non = '\u200B\u0085\u180E';

// check that a method works with the correct list
// of whitespaces and has a correct name
module.exports = function (METHOD_NAME) {
  return fails(function () {
    return !!whitespaces[METHOD_NAME]()
      || non[METHOD_NAME]() !== non
      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);
  });
};


/***/ }),

/***/ 72291:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $trimStart = (__webpack_require__(61435).start);
var forcedStringTrimMethod = __webpack_require__(75984);

// `String.prototype.{ trimStart, trimLeft }` method
// https://tc39.es/ecma262/#sec-string.prototype.trimstart
// https://tc39.es/ecma262/#String.prototype.trimleft
module.exports = forcedStringTrimMethod('trimStart') ? function trimStart() {
  return $trimStart(this);
// eslint-disable-next-line es/no-string-prototype-trimstart-trimend -- safe
} : ''.trimStart;


/***/ }),

/***/ 61435:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var requireObjectCoercible = __webpack_require__(74684);
var toString = __webpack_require__(34327);
var whitespaces = __webpack_require__(86350);

var replace = uncurryThis(''.replace);
var ltrim = RegExp('^[' + whitespaces + ']+');
var rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');

// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation
var createMethod = function (TYPE) {
  return function ($this) {
    var string = toString(requireObjectCoercible($this));
    if (TYPE & 1) string = replace(string, ltrim, '');
    if (TYPE & 2) string = replace(string, rtrim, '$1');
    return string;
  };
};

module.exports = {
  // `String.prototype.{ trimLeft, trimStart }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimstart
  start: createMethod(1),
  // `String.prototype.{ trimRight, trimEnd }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimend
  end: createMethod(2),
  // `String.prototype.trim` method
  // https://tc39.es/ecma262/#sec-string.prototype.trim
  trim: createMethod(3)
};


/***/ }),

/***/ 63514:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var fails = __webpack_require__(3689);
var V8 = __webpack_require__(3615);
var IS_BROWSER = __webpack_require__(72532);
var IS_DENO = __webpack_require__(88563);
var IS_NODE = __webpack_require__(50806);

var structuredClone = global.structuredClone;

module.exports = !!structuredClone && !fails(function () {
  // prevent V8 ArrayBufferDetaching protector cell invalidation and performance degradation
  // https://github.com/zloirock/core-js/issues/679
  if ((IS_DENO && V8 > 92) || (IS_NODE && V8 > 94) || (IS_BROWSER && V8 > 97)) return false;
  var buffer = new ArrayBuffer(8);
  var clone = structuredClone(buffer, { transfer: [buffer] });
  return buffer.byteLength !== 0 || clone.byteLength !== 8;
});


/***/ }),

/***/ 50146:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable es/no-symbol -- required for testing */
var V8_VERSION = __webpack_require__(3615);
var fails = __webpack_require__(3689);
var global = __webpack_require__(19037);

var $String = global.String;

// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
module.exports = !!Object.getOwnPropertySymbols && !fails(function () {
  var symbol = Symbol('symbol detection');
  // Chrome 38 Symbol has incorrect toString conversion
  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,
  // of course, fail.
  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||
    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    !Symbol.sham && V8_VERSION && V8_VERSION < 41;
});


/***/ }),

/***/ 13032:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var getBuiltIn = __webpack_require__(76058);
var wellKnownSymbol = __webpack_require__(44201);
var defineBuiltIn = __webpack_require__(11880);

module.exports = function () {
  var Symbol = getBuiltIn('Symbol');
  var SymbolPrototype = Symbol && Symbol.prototype;
  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;
  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {
    // `Symbol.prototype[@@toPrimitive]` method
    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
    // eslint-disable-next-line no-unused-vars -- required for .length
    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {
      return call(valueOf, this);
    }, { arity: 1 });
  }
};


/***/ }),

/***/ 46549:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var NATIVE_SYMBOL = __webpack_require__(50146);

/* eslint-disable es/no-symbol -- safe */
module.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;


/***/ }),

/***/ 99886:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var apply = __webpack_require__(61735);
var bind = __webpack_require__(54071);
var isCallable = __webpack_require__(69985);
var hasOwn = __webpack_require__(36812);
var fails = __webpack_require__(3689);
var html = __webpack_require__(2688);
var arraySlice = __webpack_require__(96004);
var createElement = __webpack_require__(36420);
var validateArgumentsLength = __webpack_require__(21500);
var IS_IOS = __webpack_require__(4764);
var IS_NODE = __webpack_require__(50806);

var set = global.setImmediate;
var clear = global.clearImmediate;
var process = global.process;
var Dispatch = global.Dispatch;
var Function = global.Function;
var MessageChannel = global.MessageChannel;
var String = global.String;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var $location, defer, channel, port;

fails(function () {
  // Deno throws a ReferenceError on `location` access without `--location` flag
  $location = global.location;
});

var run = function (id) {
  if (hasOwn(queue, id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};

var runner = function (id) {
  return function () {
    run(id);
  };
};

var eventListener = function (event) {
  run(event.data);
};

var globalPostMessageDefer = function (id) {
  // old engines have not location.origin
  global.postMessage(String(id), $location.protocol + '//' + $location.host);
};

// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!set || !clear) {
  set = function setImmediate(handler) {
    validateArgumentsLength(arguments.length, 1);
    var fn = isCallable(handler) ? handler : Function(handler);
    var args = arraySlice(arguments, 1);
    queue[++counter] = function () {
      apply(fn, undefined, args);
    };
    defer(counter);
    return counter;
  };
  clear = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (IS_NODE) {
    defer = function (id) {
      process.nextTick(runner(id));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(runner(id));
    };
  // Browsers with MessageChannel, includes WebWorkers
  // except iOS - https://github.com/zloirock/core-js/issues/624
  } else if (MessageChannel && !IS_IOS) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = eventListener;
    defer = bind(port.postMessage, port);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (
    global.addEventListener &&
    isCallable(global.postMessage) &&
    !global.importScripts &&
    $location && $location.protocol !== 'file:' &&
    !fails(globalPostMessageDefer)
  ) {
    defer = globalPostMessageDefer;
    global.addEventListener('message', eventListener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in createElement('script')) {
    defer = function (id) {
      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(runner(id), 0);
    };
  }
}

module.exports = {
  set: set,
  clear: clear
};


/***/ }),

/***/ 27578:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIntegerOrInfinity = __webpack_require__(68700);

var max = Math.max;
var min = Math.min;

// Helper for a popular repeating case of the spec:
// Let integer be ? ToInteger(index).
// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
module.exports = function (index, length) {
  var integer = toIntegerOrInfinity(index);
  return integer < 0 ? max(integer + length, 0) : min(integer, length);
};


/***/ }),

/***/ 71530:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toPrimitive = __webpack_require__(88732);

var $TypeError = TypeError;

// `ToBigInt` abstract operation
// https://tc39.es/ecma262/#sec-tobigint
module.exports = function (argument) {
  var prim = toPrimitive(argument, 'number');
  if (typeof prim == 'number') throw new $TypeError("Can't convert number to bigint");
  // eslint-disable-next-line es/no-bigint -- safe
  return BigInt(prim);
};


/***/ }),

/***/ 19842:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIntegerOrInfinity = __webpack_require__(68700);
var toLength = __webpack_require__(43126);

var $RangeError = RangeError;

// `ToIndex` abstract operation
// https://tc39.es/ecma262/#sec-toindex
module.exports = function (it) {
  if (it === undefined) return 0;
  var number = toIntegerOrInfinity(it);
  var length = toLength(number);
  if (number !== length) throw new $RangeError('Wrong length or index');
  return length;
};


/***/ }),

/***/ 65290:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// toObject with fallback for non-array-like ES3 strings
var IndexedObject = __webpack_require__(94413);
var requireObjectCoercible = __webpack_require__(74684);

module.exports = function (it) {
  return IndexedObject(requireObjectCoercible(it));
};


/***/ }),

/***/ 68700:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var trunc = __webpack_require__(58828);

// `ToIntegerOrInfinity` abstract operation
// https://tc39.es/ecma262/#sec-tointegerorinfinity
module.exports = function (argument) {
  var number = +argument;
  // eslint-disable-next-line no-self-compare -- NaN check
  return number !== number || number === 0 ? 0 : trunc(number);
};


/***/ }),

/***/ 43126:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIntegerOrInfinity = __webpack_require__(68700);

var min = Math.min;

// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
module.exports = function (argument) {
  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
};


/***/ }),

/***/ 90690:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var requireObjectCoercible = __webpack_require__(74684);

var $Object = Object;

// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
module.exports = function (argument) {
  return $Object(requireObjectCoercible(argument));
};


/***/ }),

/***/ 83250:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toPositiveInteger = __webpack_require__(15904);

var $RangeError = RangeError;

module.exports = function (it, BYTES) {
  var offset = toPositiveInteger(it);
  if (offset % BYTES) throw new $RangeError('Wrong offset');
  return offset;
};


/***/ }),

/***/ 15904:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIntegerOrInfinity = __webpack_require__(68700);

var $RangeError = RangeError;

module.exports = function (it) {
  var result = toIntegerOrInfinity(it);
  if (result < 0) throw new $RangeError("The argument can't be less than 0");
  return result;
};


/***/ }),

/***/ 88732:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var isObject = __webpack_require__(48999);
var isSymbol = __webpack_require__(30734);
var getMethod = __webpack_require__(54849);
var ordinaryToPrimitive = __webpack_require__(35899);
var wellKnownSymbol = __webpack_require__(44201);

var $TypeError = TypeError;
var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
module.exports = function (input, pref) {
  if (!isObject(input) || isSymbol(input)) return input;
  var exoticToPrim = getMethod(input, TO_PRIMITIVE);
  var result;
  if (exoticToPrim) {
    if (pref === undefined) pref = 'default';
    result = call(exoticToPrim, input, pref);
    if (!isObject(result) || isSymbol(result)) return result;
    throw new $TypeError("Can't convert object to primitive value");
  }
  if (pref === undefined) pref = 'number';
  return ordinaryToPrimitive(input, pref);
};


/***/ }),

/***/ 18360:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toPrimitive = __webpack_require__(88732);
var isSymbol = __webpack_require__(30734);

// `ToPropertyKey` abstract operation
// https://tc39.es/ecma262/#sec-topropertykey
module.exports = function (argument) {
  var key = toPrimitive(argument, 'string');
  return isSymbol(key) ? key : key + '';
};


/***/ }),

/***/ 23043:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var wellKnownSymbol = __webpack_require__(44201);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var test = {};

test[TO_STRING_TAG] = 'z';

module.exports = String(test) === '[object z]';


/***/ }),

/***/ 34327:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var classof = __webpack_require__(50926);

var $String = String;

module.exports = function (argument) {
  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');
  return $String(argument);
};


/***/ }),

/***/ 87191:
/***/ (function(module) {

"use strict";

var round = Math.round;

module.exports = function (it) {
  var value = round(it);
  return value < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;
};


/***/ }),

/***/ 21905:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var IS_NODE = __webpack_require__(50806);

module.exports = function (name) {
  try {
    // eslint-disable-next-line no-new-func -- safe
    if (IS_NODE) return Function('return require("' + name + '")')();
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ 23691:
/***/ (function(module) {

"use strict";

var $String = String;

module.exports = function (argument) {
  try {
    return $String(argument);
  } catch (error) {
    return 'Object';
  }
};


/***/ }),

/***/ 31158:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var call = __webpack_require__(22615);
var DESCRIPTORS = __webpack_require__(67697);
var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = __webpack_require__(39800);
var ArrayBufferViewCore = __webpack_require__(54872);
var ArrayBufferModule = __webpack_require__(83999);
var anInstance = __webpack_require__(767);
var createPropertyDescriptor = __webpack_require__(75684);
var createNonEnumerableProperty = __webpack_require__(75773);
var isIntegralNumber = __webpack_require__(71973);
var toLength = __webpack_require__(43126);
var toIndex = __webpack_require__(19842);
var toOffset = __webpack_require__(83250);
var toUint8Clamped = __webpack_require__(87191);
var toPropertyKey = __webpack_require__(18360);
var hasOwn = __webpack_require__(36812);
var classof = __webpack_require__(50926);
var isObject = __webpack_require__(48999);
var isSymbol = __webpack_require__(30734);
var create = __webpack_require__(25391);
var isPrototypeOf = __webpack_require__(23622);
var setPrototypeOf = __webpack_require__(49385);
var getOwnPropertyNames = (__webpack_require__(72741).f);
var typedArrayFrom = __webpack_require__(41304);
var forEach = (__webpack_require__(2960).forEach);
var setSpecies = __webpack_require__(14241);
var defineBuiltInAccessor = __webpack_require__(62148);
var definePropertyModule = __webpack_require__(72560);
var getOwnPropertyDescriptorModule = __webpack_require__(82474);
var arrayFromConstructorAndList = __webpack_require__(59976);
var InternalStateModule = __webpack_require__(618);
var inheritIfRequired = __webpack_require__(33457);

var getInternalState = InternalStateModule.get;
var setInternalState = InternalStateModule.set;
var enforceInternalState = InternalStateModule.enforce;
var nativeDefineProperty = definePropertyModule.f;
var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
var RangeError = global.RangeError;
var ArrayBuffer = ArrayBufferModule.ArrayBuffer;
var ArrayBufferPrototype = ArrayBuffer.prototype;
var DataView = ArrayBufferModule.DataView;
var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;
var TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;
var TypedArray = ArrayBufferViewCore.TypedArray;
var TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;
var isTypedArray = ArrayBufferViewCore.isTypedArray;
var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';
var WRONG_LENGTH = 'Wrong length';

var addGetter = function (it, key) {
  defineBuiltInAccessor(it, key, {
    configurable: true,
    get: function () {
      return getInternalState(this)[key];
    }
  });
};

var isArrayBuffer = function (it) {
  var klass;
  return isPrototypeOf(ArrayBufferPrototype, it) || (klass = classof(it)) === 'ArrayBuffer' || klass === 'SharedArrayBuffer';
};

var isTypedArrayIndex = function (target, key) {
  return isTypedArray(target)
    && !isSymbol(key)
    && key in target
    && isIntegralNumber(+key)
    && key >= 0;
};

var wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {
  key = toPropertyKey(key);
  return isTypedArrayIndex(target, key)
    ? createPropertyDescriptor(2, target[key])
    : nativeGetOwnPropertyDescriptor(target, key);
};

var wrappedDefineProperty = function defineProperty(target, key, descriptor) {
  key = toPropertyKey(key);
  if (isTypedArrayIndex(target, key)
    && isObject(descriptor)
    && hasOwn(descriptor, 'value')
    && !hasOwn(descriptor, 'get')
    && !hasOwn(descriptor, 'set')
    // TODO: add validation descriptor w/o calling accessors
    && !descriptor.configurable
    && (!hasOwn(descriptor, 'writable') || descriptor.writable)
    && (!hasOwn(descriptor, 'enumerable') || descriptor.enumerable)
  ) {
    target[key] = descriptor.value;
    return target;
  } return nativeDefineProperty(target, key, descriptor);
};

if (DESCRIPTORS) {
  if (!NATIVE_ARRAY_BUFFER_VIEWS) {
    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;
    definePropertyModule.f = wrappedDefineProperty;
    addGetter(TypedArrayPrototype, 'buffer');
    addGetter(TypedArrayPrototype, 'byteOffset');
    addGetter(TypedArrayPrototype, 'byteLength');
    addGetter(TypedArrayPrototype, 'length');
  }

  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {
    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,
    defineProperty: wrappedDefineProperty
  });

  module.exports = function (TYPE, wrapper, CLAMPED) {
    var BYTES = TYPE.match(/\d+/)[0] / 8;
    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';
    var GETTER = 'get' + TYPE;
    var SETTER = 'set' + TYPE;
    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];
    var TypedArrayConstructor = NativeTypedArrayConstructor;
    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;
    var exported = {};

    var getter = function (that, index) {
      var data = getInternalState(that);
      return data.view[GETTER](index * BYTES + data.byteOffset, true);
    };

    var setter = function (that, index, value) {
      var data = getInternalState(that);
      data.view[SETTER](index * BYTES + data.byteOffset, CLAMPED ? toUint8Clamped(value) : value, true);
    };

    var addElement = function (that, index) {
      nativeDefineProperty(that, index, {
        get: function () {
          return getter(this, index);
        },
        set: function (value) {
          return setter(this, index, value);
        },
        enumerable: true
      });
    };

    if (!NATIVE_ARRAY_BUFFER_VIEWS) {
      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {
        anInstance(that, TypedArrayConstructorPrototype);
        var index = 0;
        var byteOffset = 0;
        var buffer, byteLength, length;
        if (!isObject(data)) {
          length = toIndex(data);
          byteLength = length * BYTES;
          buffer = new ArrayBuffer(byteLength);
        } else if (isArrayBuffer(data)) {
          buffer = data;
          byteOffset = toOffset(offset, BYTES);
          var $len = data.byteLength;
          if ($length === undefined) {
            if ($len % BYTES) throw new RangeError(WRONG_LENGTH);
            byteLength = $len - byteOffset;
            if (byteLength < 0) throw new RangeError(WRONG_LENGTH);
          } else {
            byteLength = toLength($length) * BYTES;
            if (byteLength + byteOffset > $len) throw new RangeError(WRONG_LENGTH);
          }
          length = byteLength / BYTES;
        } else if (isTypedArray(data)) {
          return arrayFromConstructorAndList(TypedArrayConstructor, data);
        } else {
          return call(typedArrayFrom, TypedArrayConstructor, data);
        }
        setInternalState(that, {
          buffer: buffer,
          byteOffset: byteOffset,
          byteLength: byteLength,
          length: length,
          view: new DataView(buffer)
        });
        while (index < length) addElement(that, index++);
      });

      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);
      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);
    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {
      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {
        anInstance(dummy, TypedArrayConstructorPrototype);
        return inheritIfRequired(function () {
          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));
          if (isArrayBuffer(data)) return $length !== undefined
            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)
            : typedArrayOffset !== undefined
              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))
              : new NativeTypedArrayConstructor(data);
          if (isTypedArray(data)) return arrayFromConstructorAndList(TypedArrayConstructor, data);
          return call(typedArrayFrom, TypedArrayConstructor, data);
        }(), dummy, TypedArrayConstructor);
      });

      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);
      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {
        if (!(key in TypedArrayConstructor)) {
          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);
        }
      });
      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;
    }

    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {
      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);
    }

    enforceInternalState(TypedArrayConstructorPrototype).TypedArrayConstructor = TypedArrayConstructor;

    if (TYPED_ARRAY_TAG) {
      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);
    }

    var FORCED = TypedArrayConstructor !== NativeTypedArrayConstructor;

    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;

    $({ global: true, constructor: true, forced: FORCED, sham: !NATIVE_ARRAY_BUFFER_VIEWS }, exported);

    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {
      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);
    }

    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {
      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);
    }

    setSpecies(CONSTRUCTOR_NAME);
  };
} else module.exports = function () { /* empty */ };


/***/ }),

/***/ 39800:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable no-new -- required for testing */
var global = __webpack_require__(19037);
var fails = __webpack_require__(3689);
var checkCorrectnessOfIteration = __webpack_require__(86431);
var NATIVE_ARRAY_BUFFER_VIEWS = (__webpack_require__(54872).NATIVE_ARRAY_BUFFER_VIEWS);

var ArrayBuffer = global.ArrayBuffer;
var Int8Array = global.Int8Array;

module.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {
  Int8Array(1);
}) || !fails(function () {
  new Int8Array(-1);
}) || !checkCorrectnessOfIteration(function (iterable) {
  new Int8Array();
  new Int8Array(null);
  new Int8Array(1.5);
  new Int8Array(iterable);
}, true) || fails(function () {
  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill
  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;
});


/***/ }),

/***/ 20716:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var arrayFromConstructorAndList = __webpack_require__(59976);
var typedArraySpeciesConstructor = __webpack_require__(47338);

module.exports = function (instance, list) {
  return arrayFromConstructorAndList(typedArraySpeciesConstructor(instance), list);
};


/***/ }),

/***/ 41304:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var bind = __webpack_require__(54071);
var call = __webpack_require__(22615);
var aConstructor = __webpack_require__(52655);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var getIterator = __webpack_require__(5185);
var getIteratorMethod = __webpack_require__(91664);
var isArrayIteratorMethod = __webpack_require__(93292);
var isBigIntArray = __webpack_require__(9401);
var aTypedArrayConstructor = (__webpack_require__(54872).aTypedArrayConstructor);
var toBigInt = __webpack_require__(71530);

module.exports = function from(source /* , mapfn, thisArg */) {
  var C = aConstructor(this);
  var O = toObject(source);
  var argumentsLength = arguments.length;
  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
  var mapping = mapfn !== undefined;
  var iteratorMethod = getIteratorMethod(O);
  var i, length, result, thisIsBigIntArray, value, step, iterator, next;
  if (iteratorMethod && !isArrayIteratorMethod(iteratorMethod)) {
    iterator = getIterator(O, iteratorMethod);
    next = iterator.next;
    O = [];
    while (!(step = call(next, iterator)).done) {
      O.push(step.value);
    }
  }
  if (mapping && argumentsLength > 2) {
    mapfn = bind(mapfn, arguments[2]);
  }
  length = lengthOfArrayLike(O);
  result = new (aTypedArrayConstructor(C))(length);
  thisIsBigIntArray = isBigIntArray(result);
  for (i = 0; length > i; i++) {
    value = mapping ? mapfn(O[i], i) : O[i];
    // FF30- typed arrays doesn't properly convert objects to typed array values
    result[i] = thisIsBigIntArray ? toBigInt(value) : +value;
  }
  return result;
};


/***/ }),

/***/ 47338:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var speciesConstructor = __webpack_require__(76373);

var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
var getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;

// a part of `TypedArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#typedarray-species-create
module.exports = function (originalArray) {
  return aTypedArrayConstructor(speciesConstructor(originalArray, getTypedArrayConstructor(originalArray)));
};


/***/ }),

/***/ 14630:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);

var id = 0;
var postfix = Math.random();
var toString = uncurryThis(1.0.toString);

module.exports = function (key) {
  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);
};


/***/ }),

/***/ 76837:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3689);
var wellKnownSymbol = __webpack_require__(44201);
var DESCRIPTORS = __webpack_require__(67697);
var IS_PURE = __webpack_require__(53931);

var ITERATOR = wellKnownSymbol('iterator');

module.exports = !fails(function () {
  // eslint-disable-next-line unicorn/relative-url-style -- required for testing
  var url = new URL('b?a=1&b=2&c=3', 'http://a');
  var params = url.searchParams;
  var params2 = new URLSearchParams('a=1&a=2&b=3');
  var result = '';
  url.pathname = 'c%20d';
  params.forEach(function (value, key) {
    params['delete']('b');
    result += key + value;
  });
  params2['delete']('a', 2);
  // `undefined` case is a Chromium 117 bug
  // https://bugs.chromium.org/p/v8/issues/detail?id=14222
  params2['delete']('b', undefined);
  return (IS_PURE && (!url.toJSON || !params2.has('a', 1) || params2.has('a', 2) || !params2.has('a', undefined) || params2.has('b')))
    || (!params.size && (IS_PURE || !DESCRIPTORS))
    || !params.sort
    || url.href !== 'http://a/c%20d?a=1&c=3'
    || params.get('c') !== '3'
    || String(new URLSearchParams('?a=1')) !== 'a=1'
    || !params[ITERATOR]
    // throws in Edge
    || new URL('https://a@b').username !== 'a'
    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'
    // not punycoded in Edge
    || new URL('http://').host !== 'xn--e1aybc'
    // not escaped in Chrome 62-
    || new URL('http://a#').hash !== '#%D0%B1'
    // fails in Chrome 66-
    || result !== 'a1c3'
    // throws in Safari
    || new URL('http://x', undefined).host !== 'x';
});


/***/ }),

/***/ 39525:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable es/no-symbol -- required for testing */
var NATIVE_SYMBOL = __webpack_require__(50146);

module.exports = NATIVE_SYMBOL
  && !Symbol.sham
  && typeof Symbol.iterator == 'symbol';


/***/ }),

/***/ 15648:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var fails = __webpack_require__(3689);

// V8 ~ Chrome 36-
// https://bugs.chromium.org/p/v8/issues/detail?id=3334
module.exports = DESCRIPTORS && fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(function () { /* empty */ }, 'prototype', {
    value: 42,
    writable: false
  }).prototype !== 42;
});


/***/ }),

/***/ 21500:
/***/ (function(module) {

"use strict";

var $TypeError = TypeError;

module.exports = function (passed, required) {
  if (passed < required) throw new $TypeError('Not enough arguments');
  return passed;
};


/***/ }),

/***/ 59834:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var isCallable = __webpack_require__(69985);

var WeakMap = global.WeakMap;

module.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));


/***/ }),

/***/ 35405:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var path = __webpack_require__(50496);
var hasOwn = __webpack_require__(36812);
var wrappedWellKnownSymbolModule = __webpack_require__(96145);
var defineProperty = (__webpack_require__(72560).f);

module.exports = function (NAME) {
  var Symbol = path.Symbol || (path.Symbol = {});
  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {
    value: wrappedWellKnownSymbolModule.f(NAME)
  });
};


/***/ }),

/***/ 96145:
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var wellKnownSymbol = __webpack_require__(44201);

exports.f = wellKnownSymbol;


/***/ }),

/***/ 44201:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var shared = __webpack_require__(83430);
var hasOwn = __webpack_require__(36812);
var uid = __webpack_require__(14630);
var NATIVE_SYMBOL = __webpack_require__(50146);
var USE_SYMBOL_AS_UID = __webpack_require__(39525);

var Symbol = global.Symbol;
var WellKnownSymbolsStore = shared('wks');
var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;

module.exports = function (name) {
  if (!hasOwn(WellKnownSymbolsStore, name)) {
    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)
      ? Symbol[name]
      : createWellKnownSymbol('Symbol.' + name);
  } return WellKnownSymbolsStore[name];
};


/***/ }),

/***/ 86350:
/***/ (function(module) {

"use strict";

// a string of all valid unicode whitespaces
module.exports = '\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u2000\u2001\u2002' +
  '\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';


/***/ }),

/***/ 51064:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(76058);
var hasOwn = __webpack_require__(36812);
var createNonEnumerableProperty = __webpack_require__(75773);
var isPrototypeOf = __webpack_require__(23622);
var setPrototypeOf = __webpack_require__(49385);
var copyConstructorProperties = __webpack_require__(8758);
var proxyAccessor = __webpack_require__(38055);
var inheritIfRequired = __webpack_require__(33457);
var normalizeStringArgument = __webpack_require__(13841);
var installErrorCause = __webpack_require__(62570);
var installErrorStack = __webpack_require__(65411);
var DESCRIPTORS = __webpack_require__(67697);
var IS_PURE = __webpack_require__(53931);

module.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {
  var STACK_TRACE_LIMIT = 'stackTraceLimit';
  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;
  var path = FULL_NAME.split('.');
  var ERROR_NAME = path[path.length - 1];
  var OriginalError = getBuiltIn.apply(null, path);

  if (!OriginalError) return;

  var OriginalErrorPrototype = OriginalError.prototype;

  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006
  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;

  if (!FORCED) return OriginalError;

  var BaseError = getBuiltIn('Error');

  var WrappedError = wrapper(function (a, b) {
    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);
    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();
    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);
    installErrorStack(result, WrappedError, result.stack, 2);
    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);
    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);
    return result;
  });

  WrappedError.prototype = OriginalErrorPrototype;

  if (ERROR_NAME !== 'Error') {
    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);
    else copyConstructorProperties(WrappedError, BaseError, { name: true });
  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {
    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);
    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');
  }

  copyConstructorProperties(WrappedError, OriginalError);

  if (!IS_PURE) try {
    // Safari 13- bug: WebAssembly errors does not have a proper `.name`
    if (OriginalErrorPrototype.name !== ERROR_NAME) {
      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);
    }
    OriginalErrorPrototype.constructor = WrappedError;
  } catch (error) { /* empty */ }

  return WrappedError;
};


/***/ }),

/***/ 69365:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var arrayBufferModule = __webpack_require__(83999);
var setSpecies = __webpack_require__(14241);

var ARRAY_BUFFER = 'ArrayBuffer';
var ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];
var NativeArrayBuffer = global[ARRAY_BUFFER];

// `ArrayBuffer` constructor
// https://tc39.es/ecma262/#sec-arraybuffer-constructor
$({ global: true, constructor: true, forced: NativeArrayBuffer !== ArrayBuffer }, {
  ArrayBuffer: ArrayBuffer
});

setSpecies(ARRAY_BUFFER);


/***/ }),

/***/ 99211:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(46576);
var fails = __webpack_require__(3689);
var ArrayBufferModule = __webpack_require__(83999);
var anObject = __webpack_require__(85027);
var toAbsoluteIndex = __webpack_require__(27578);
var toLength = __webpack_require__(43126);
var speciesConstructor = __webpack_require__(76373);

var ArrayBuffer = ArrayBufferModule.ArrayBuffer;
var DataView = ArrayBufferModule.DataView;
var DataViewPrototype = DataView.prototype;
var nativeArrayBufferSlice = uncurryThis(ArrayBuffer.prototype.slice);
var getUint8 = uncurryThis(DataViewPrototype.getUint8);
var setUint8 = uncurryThis(DataViewPrototype.setUint8);

var INCORRECT_SLICE = fails(function () {
  return !new ArrayBuffer(2).slice(1, undefined).byteLength;
});

// `ArrayBuffer.prototype.slice` method
// https://tc39.es/ecma262/#sec-arraybuffer.prototype.slice
$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {
  slice: function slice(start, end) {
    if (nativeArrayBufferSlice && end === undefined) {
      return nativeArrayBufferSlice(anObject(this), start); // FF fix
    }
    var length = anObject(this).byteLength;
    var first = toAbsoluteIndex(start, length);
    var fin = toAbsoluteIndex(end === undefined ? length : end, length);
    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));
    var viewSource = new DataView(this);
    var viewTarget = new DataView(result);
    var index = 0;
    while (first < fin) {
      setUint8(viewTarget, index++, getUint8(viewSource, first++));
    } return result;
  }
});


/***/ }),

/***/ 92176:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var toIntegerOrInfinity = __webpack_require__(68700);
var addToUnscopables = __webpack_require__(87370);

// `Array.prototype.at` method
// https://tc39.es/ecma262/#sec-array.prototype.at
$({ target: 'Array', proto: true }, {
  at: function at(index) {
    var O = toObject(this);
    var len = lengthOfArrayLike(O);
    var relativeIndex = toIntegerOrInfinity(index);
    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
    return (k < 0 || k >= len) ? undefined : O[k];
  }
});

addToUnscopables('at');


/***/ }),

/***/ 34338:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var fails = __webpack_require__(3689);
var isArray = __webpack_require__(92297);
var isObject = __webpack_require__(48999);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var doesNotExceedSafeInteger = __webpack_require__(55565);
var createProperty = __webpack_require__(76522);
var arraySpeciesCreate = __webpack_require__(27120);
var arrayMethodHasSpeciesSupport = __webpack_require__(29042);
var wellKnownSymbol = __webpack_require__(44201);
var V8_VERSION = __webpack_require__(3615);

var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');

// We can't use this feature detection in V8 since it causes
// deoptimization and serious performance degradation
// https://github.com/zloirock/core-js/issues/679
var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {
  var array = [];
  array[IS_CONCAT_SPREADABLE] = false;
  return array.concat()[0] !== array;
});

var isConcatSpreadable = function (O) {
  if (!isObject(O)) return false;
  var spreadable = O[IS_CONCAT_SPREADABLE];
  return spreadable !== undefined ? !!spreadable : isArray(O);
};

var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport('concat');

// `Array.prototype.concat` method
// https://tc39.es/ecma262/#sec-array.prototype.concat
// with adding support of @@isConcatSpreadable and @@species
$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  concat: function concat(arg) {
    var O = toObject(this);
    var A = arraySpeciesCreate(O, 0);
    var n = 0;
    var i, k, length, len, E;
    for (i = -1, length = arguments.length; i < length; i++) {
      E = i === -1 ? O : arguments[i];
      if (isConcatSpreadable(E)) {
        len = lengthOfArrayLike(E);
        doesNotExceedSafeInteger(n + len);
        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);
      } else {
        doesNotExceedSafeInteger(n + 1);
        createProperty(A, n++, E);
      }
    }
    A.length = n;
    return A;
  }
});


/***/ }),

/***/ 38077:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $filter = (__webpack_require__(2960).filter);
var arrayMethodHasSpeciesSupport = __webpack_require__(29042);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');

// `Array.prototype.filter` method
// https://tc39.es/ecma262/#sec-array.prototype.filter
// with adding support of @@species
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  filter: function filter(callbackfn /* , thisArg */) {
    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 93383:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $findLastIndex = (__webpack_require__(61969).findLastIndex);
var addToUnscopables = __webpack_require__(87370);

// `Array.prototype.findLastIndex` method
// https://tc39.es/ecma262/#sec-array.prototype.findlastindex
$({ target: 'Array', proto: true }, {
  findLastIndex: function findLastIndex(callbackfn /* , that = undefined */) {
    return $findLastIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});

addToUnscopables('findLastIndex');


/***/ }),

/***/ 59867:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $findLast = (__webpack_require__(61969).findLast);
var addToUnscopables = __webpack_require__(87370);

// `Array.prototype.findLast` method
// https://tc39.es/ecma262/#sec-array.prototype.findlast
$({ target: 'Array', proto: true }, {
  findLast: function findLast(callbackfn /* , that = undefined */) {
    return $findLast(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});

addToUnscopables('findLast');


/***/ }),

/***/ 54564:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var flattenIntoArray = __webpack_require__(37809);
var aCallable = __webpack_require__(10509);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var arraySpeciesCreate = __webpack_require__(27120);

// `Array.prototype.flatMap` method
// https://tc39.es/ecma262/#sec-array.prototype.flatmap
$({ target: 'Array', proto: true }, {
  flatMap: function flatMap(callbackfn /* , thisArg */) {
    var O = toObject(this);
    var sourceLen = lengthOfArrayLike(O);
    var A;
    aCallable(callbackfn);
    A = arraySpeciesCreate(O, 0);
    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    return A;
  }
});


/***/ }),

/***/ 62795:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var flattenIntoArray = __webpack_require__(37809);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var toIntegerOrInfinity = __webpack_require__(68700);
var arraySpeciesCreate = __webpack_require__(27120);

// `Array.prototype.flat` method
// https://tc39.es/ecma262/#sec-array.prototype.flat
$({ target: 'Array', proto: true }, {
  flat: function flat(/* depthArg = 1 */) {
    var depthArg = arguments.length ? arguments[0] : undefined;
    var O = toObject(this);
    var sourceLen = lengthOfArrayLike(O);
    var A = arraySpeciesCreate(O, 0);
    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toIntegerOrInfinity(depthArg));
    return A;
  }
});


/***/ }),

/***/ 76801:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $includes = (__webpack_require__(84328).includes);
var fails = __webpack_require__(3689);
var addToUnscopables = __webpack_require__(87370);

// FF99+ bug
var BROKEN_ON_SPARSE = fails(function () {
  // eslint-disable-next-line es/no-array-prototype-includes -- detection
  return !Array(1).includes();
});

// `Array.prototype.includes` method
// https://tc39.es/ecma262/#sec-array.prototype.includes
$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {
  includes: function includes(el /* , fromIndex = 0 */) {
    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
  }
});

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('includes');


/***/ }),

/***/ 752:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var toIndexedObject = __webpack_require__(65290);
var addToUnscopables = __webpack_require__(87370);
var Iterators = __webpack_require__(9478);
var InternalStateModule = __webpack_require__(618);
var defineProperty = (__webpack_require__(72560).f);
var defineIterator = __webpack_require__(91934);
var createIterResultObject = __webpack_require__(27807);
var IS_PURE = __webpack_require__(53931);
var DESCRIPTORS = __webpack_require__(67697);

var ARRAY_ITERATOR = 'Array Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);

// `Array.prototype.entries` method
// https://tc39.es/ecma262/#sec-array.prototype.entries
// `Array.prototype.keys` method
// https://tc39.es/ecma262/#sec-array.prototype.keys
// `Array.prototype.values` method
// https://tc39.es/ecma262/#sec-array.prototype.values
// `Array.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-array.prototype-@@iterator
// `CreateArrayIterator` internal method
// https://tc39.es/ecma262/#sec-createarrayiterator
module.exports = defineIterator(Array, 'Array', function (iterated, kind) {
  setInternalState(this, {
    type: ARRAY_ITERATOR,
    target: toIndexedObject(iterated), // target
    index: 0,                          // next index
    kind: kind                         // kind
  });
// `%ArrayIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
}, function () {
  var state = getInternalState(this);
  var target = state.target;
  var index = state.index++;
  if (!target || index >= target.length) {
    state.target = undefined;
    return createIterResultObject(undefined, true);
  }
  switch (state.kind) {
    case 'keys': return createIterResultObject(index, false);
    case 'values': return createIterResultObject(target[index], false);
  } return createIterResultObject([index, target[index]], false);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values%
// https://tc39.es/ecma262/#sec-createunmappedargumentsobject
// https://tc39.es/ecma262/#sec-createmappedargumentsobject
var values = Iterators.Arguments = Iterators.Array;

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

// V8 ~ Chrome 45- bug
if (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {
  defineProperty(values, 'name', { value: 'values' });
} catch (error) { /* empty */ }


/***/ }),

/***/ 50886:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $map = (__webpack_require__(2960).map);
var arrayMethodHasSpeciesSupport = __webpack_require__(29042);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');

// `Array.prototype.map` method
// https://tc39.es/ecma262/#sec-array.prototype.map
// with adding support of @@species
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  map: function map(callbackfn /* , thisArg */) {
    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 70560:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var setArrayLength = __webpack_require__(5649);
var doesNotExceedSafeInteger = __webpack_require__(55565);
var fails = __webpack_require__(3689);

var INCORRECT_TO_LENGTH = fails(function () {
  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;
});

// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError
// https://bugs.chromium.org/p/v8/issues/detail?id=12681
var properErrorOnNonWritableLength = function () {
  try {
    // eslint-disable-next-line es/no-object-defineproperty -- safe
    Object.defineProperty([], 'length', { writable: false }).push();
  } catch (error) {
    return error instanceof TypeError;
  }
};

var FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();

// `Array.prototype.push` method
// https://tc39.es/ecma262/#sec-array.prototype.push
$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  push: function push(item) {
    var O = toObject(this);
    var len = lengthOfArrayLike(O);
    var argCount = arguments.length;
    doesNotExceedSafeInteger(len + argCount);
    for (var i = 0; i < argCount; i++) {
      O[len] = arguments[i];
      len++;
    }
    setArrayLength(O, len);
    return len;
  }
});


/***/ }),

/***/ 93374:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(68844);
var isArray = __webpack_require__(92297);

var nativeReverse = uncurryThis([].reverse);
var test = [1, 2];

// `Array.prototype.reverse` method
// https://tc39.es/ecma262/#sec-array.prototype.reverse
// fix for Safari 12.0 bug
// https://bugs.webkit.org/show_bug.cgi?id=188794
$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {
  reverse: function reverse() {
    // eslint-disable-next-line no-self-assign -- dirty hack
    if (isArray(this)) this.length = this.length;
    return nativeReverse(this);
  }
});


/***/ }),

/***/ 89730:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var isArray = __webpack_require__(92297);
var isConstructor = __webpack_require__(19429);
var isObject = __webpack_require__(48999);
var toAbsoluteIndex = __webpack_require__(27578);
var lengthOfArrayLike = __webpack_require__(6310);
var toIndexedObject = __webpack_require__(65290);
var createProperty = __webpack_require__(76522);
var wellKnownSymbol = __webpack_require__(44201);
var arrayMethodHasSpeciesSupport = __webpack_require__(29042);
var nativeSlice = __webpack_require__(96004);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');

var SPECIES = wellKnownSymbol('species');
var $Array = Array;
var max = Math.max;

// `Array.prototype.slice` method
// https://tc39.es/ecma262/#sec-array.prototype.slice
// fallback for not array-like ES3 strings and DOM objects
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  slice: function slice(start, end) {
    var O = toIndexedObject(this);
    var length = lengthOfArrayLike(O);
    var k = toAbsoluteIndex(start, length);
    var fin = toAbsoluteIndex(end === undefined ? length : end, length);
    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible
    var Constructor, result, n;
    if (isArray(O)) {
      Constructor = O.constructor;
      // cross-realm fallback
      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {
        Constructor = undefined;
      } else if (isObject(Constructor)) {
        Constructor = Constructor[SPECIES];
        if (Constructor === null) Constructor = undefined;
      }
      if (Constructor === $Array || Constructor === undefined) {
        return nativeSlice(O, k, fin);
      }
    }
    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));
    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);
    result.length = n;
    return result;
  }
});


/***/ }),

/***/ 65137:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(68844);
var aCallable = __webpack_require__(10509);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var deletePropertyOrThrow = __webpack_require__(98494);
var toString = __webpack_require__(34327);
var fails = __webpack_require__(3689);
var internalSort = __webpack_require__(50382);
var arrayMethodIsStrict = __webpack_require__(16834);
var FF = __webpack_require__(97365);
var IE_OR_EDGE = __webpack_require__(37298);
var V8 = __webpack_require__(3615);
var WEBKIT = __webpack_require__(27922);

var test = [];
var nativeSort = uncurryThis(test.sort);
var push = uncurryThis(test.push);

// IE8-
var FAILS_ON_UNDEFINED = fails(function () {
  test.sort(undefined);
});
// V8 bug
var FAILS_ON_NULL = fails(function () {
  test.sort(null);
});
// Old WebKit
var STRICT_METHOD = arrayMethodIsStrict('sort');

var STABLE_SORT = !fails(function () {
  // feature detection can be too slow, so check engines versions
  if (V8) return V8 < 70;
  if (FF && FF > 3) return;
  if (IE_OR_EDGE) return true;
  if (WEBKIT) return WEBKIT < 603;

  var result = '';
  var code, chr, value, index;

  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)
  for (code = 65; code < 76; code++) {
    chr = String.fromCharCode(code);

    switch (code) {
      case 66: case 69: case 70: case 72: value = 3; break;
      case 68: case 71: value = 4; break;
      default: value = 2;
    }

    for (index = 0; index < 47; index++) {
      test.push({ k: chr + index, v: value });
    }
  }

  test.sort(function (a, b) { return b.v - a.v; });

  for (index = 0; index < test.length; index++) {
    chr = test[index].k.charAt(0);
    if (result.charAt(result.length - 1) !== chr) result += chr;
  }

  return result !== 'DGBEFHACIJK';
});

var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;

var getSortCompare = function (comparefn) {
  return function (x, y) {
    if (y === undefined) return -1;
    if (x === undefined) return 1;
    if (comparefn !== undefined) return +comparefn(x, y) || 0;
    return toString(x) > toString(y) ? 1 : -1;
  };
};

// `Array.prototype.sort` method
// https://tc39.es/ecma262/#sec-array.prototype.sort
$({ target: 'Array', proto: true, forced: FORCED }, {
  sort: function sort(comparefn) {
    if (comparefn !== undefined) aCallable(comparefn);

    var array = toObject(this);

    if (STABLE_SORT) return comparefn === undefined ? nativeSort(array) : nativeSort(array, comparefn);

    var items = [];
    var arrayLength = lengthOfArrayLike(array);
    var itemsLength, index;

    for (index = 0; index < arrayLength; index++) {
      if (index in array) push(items, array[index]);
    }

    internalSort(items, getSortCompare(comparefn));

    itemsLength = lengthOfArrayLike(items);
    index = 0;

    while (index < itemsLength) array[index] = items[index++];
    while (index < arrayLength) deletePropertyOrThrow(array, index++);

    return array;
  }
});


/***/ }),

/***/ 62506:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var toObject = __webpack_require__(90690);
var toAbsoluteIndex = __webpack_require__(27578);
var toIntegerOrInfinity = __webpack_require__(68700);
var lengthOfArrayLike = __webpack_require__(6310);
var setArrayLength = __webpack_require__(5649);
var doesNotExceedSafeInteger = __webpack_require__(55565);
var arraySpeciesCreate = __webpack_require__(27120);
var createProperty = __webpack_require__(76522);
var deletePropertyOrThrow = __webpack_require__(98494);
var arrayMethodHasSpeciesSupport = __webpack_require__(29042);

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');

var max = Math.max;
var min = Math.min;

// `Array.prototype.splice` method
// https://tc39.es/ecma262/#sec-array.prototype.splice
// with adding support of @@species
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  splice: function splice(start, deleteCount /* , ...items */) {
    var O = toObject(this);
    var len = lengthOfArrayLike(O);
    var actualStart = toAbsoluteIndex(start, len);
    var argumentsLength = arguments.length;
    var insertCount, actualDeleteCount, A, k, from, to;
    if (argumentsLength === 0) {
      insertCount = actualDeleteCount = 0;
    } else if (argumentsLength === 1) {
      insertCount = 0;
      actualDeleteCount = len - actualStart;
    } else {
      insertCount = argumentsLength - 2;
      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);
    }
    doesNotExceedSafeInteger(len + insertCount - actualDeleteCount);
    A = arraySpeciesCreate(O, actualDeleteCount);
    for (k = 0; k < actualDeleteCount; k++) {
      from = actualStart + k;
      if (from in O) createProperty(A, k, O[from]);
    }
    A.length = actualDeleteCount;
    if (insertCount < actualDeleteCount) {
      for (k = actualStart; k < len - actualDeleteCount; k++) {
        from = k + actualDeleteCount;
        to = k + insertCount;
        if (from in O) O[to] = O[from];
        else deletePropertyOrThrow(O, to);
      }
      for (k = len; k > len - actualDeleteCount + insertCount; k--) deletePropertyOrThrow(O, k - 1);
    } else if (insertCount > actualDeleteCount) {
      for (k = len - actualDeleteCount; k > actualStart; k--) {
        from = k + actualDeleteCount - 1;
        to = k + insertCount - 1;
        if (from in O) O[to] = O[from];
        else deletePropertyOrThrow(O, to);
      }
    }
    for (k = 0; k < insertCount; k++) {
      O[k + actualStart] = arguments[k + 2];
    }
    setArrayLength(O, len - actualDeleteCount + insertCount);
    return A;
  }
});


/***/ }),

/***/ 12894:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(68844);
var aCallable = __webpack_require__(10509);
var toIndexedObject = __webpack_require__(65290);
var arrayFromConstructorAndList = __webpack_require__(59976);
var getBuiltInPrototypeMethod = __webpack_require__(88277);
var addToUnscopables = __webpack_require__(87370);

var $Array = Array;
var sort = uncurryThis(getBuiltInPrototypeMethod('Array', 'sort'));

// `Array.prototype.toSorted` method
// https://tc39.es/ecma262/#sec-array.prototype.tosorted
$({ target: 'Array', proto: true }, {
  toSorted: function toSorted(compareFn) {
    if (compareFn !== undefined) aCallable(compareFn);
    var O = toIndexedObject(this);
    var A = arrayFromConstructorAndList($Array, O);
    return sort(A, compareFn);
  }
});

addToUnscopables('toSorted');


/***/ }),

/***/ 90385:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// this method was added to unscopables after implementation
// in popular engines, so it's moved to a separate module
var addToUnscopables = __webpack_require__(87370);

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('flatMap');


/***/ }),

/***/ 13383:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// this method was added to unscopables after implementation
// in popular engines, so it's moved to a separate module
var addToUnscopables = __webpack_require__(87370);

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('flat');


/***/ }),

/***/ 91719:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var toObject = __webpack_require__(90690);
var lengthOfArrayLike = __webpack_require__(6310);
var setArrayLength = __webpack_require__(5649);
var deletePropertyOrThrow = __webpack_require__(98494);
var doesNotExceedSafeInteger = __webpack_require__(55565);

// IE8-
var INCORRECT_RESULT = [].unshift(0) !== 1;

// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError
var properErrorOnNonWritableLength = function () {
  try {
    // eslint-disable-next-line es/no-object-defineproperty -- safe
    Object.defineProperty([], 'length', { writable: false }).unshift();
  } catch (error) {
    return error instanceof TypeError;
  }
};

var FORCED = INCORRECT_RESULT || !properErrorOnNonWritableLength();

// `Array.prototype.unshift` method
// https://tc39.es/ecma262/#sec-array.prototype.unshift
$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  unshift: function unshift(item) {
    var O = toObject(this);
    var len = lengthOfArrayLike(O);
    var argCount = arguments.length;
    if (argCount) {
      doesNotExceedSafeInteger(len + argCount);
      var k = len;
      while (k--) {
        var to = k + argCount;
        if (k in O) O[to] = O[k];
        else deletePropertyOrThrow(O, to);
      }
      for (var j = 0; j < argCount; j++) {
        O[j] = arguments[j];
      }
    } return setArrayLength(O, len + argCount);
  }
});


/***/ }),

/***/ 21319:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var arrayWith = __webpack_require__(16134);
var toIndexedObject = __webpack_require__(65290);

var $Array = Array;

// `Array.prototype.with` method
// https://tc39.es/ecma262/#sec-array.prototype.with
$({ target: 'Array', proto: true }, {
  'with': function (index, value) {
    return arrayWith(toIndexedObject(this), $Array, index, value);
  }
});


/***/ }),

/***/ 78150:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var fails = __webpack_require__(3689);
var toObject = __webpack_require__(90690);
var toPrimitive = __webpack_require__(88732);

var FORCED = fails(function () {
  return new Date(NaN).toJSON() !== null
    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;
});

// `Date.prototype.toJSON` method
// https://tc39.es/ecma262/#sec-date.prototype.tojson
$({ target: 'Date', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  toJSON: function toJSON(key) {
    var O = toObject(this);
    var pv = toPrimitive(O, 'number');
    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();
  }
});


/***/ }),

/***/ 59903:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var hasOwn = __webpack_require__(36812);
var defineBuiltIn = __webpack_require__(11880);
var dateToPrimitive = __webpack_require__(81797);
var wellKnownSymbol = __webpack_require__(44201);

var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');
var DatePrototype = Date.prototype;

// `Date.prototype[@@toPrimitive]` method
// https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive
if (!hasOwn(DatePrototype, TO_PRIMITIVE)) {
  defineBuiltIn(DatePrototype, TO_PRIMITIVE, dateToPrimitive);
}


/***/ }),

/***/ 21057:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

/* eslint-disable no-unused-vars -- required for functions `.length` */
var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var apply = __webpack_require__(61735);
var wrapErrorConstructorWithCause = __webpack_require__(51064);

var WEB_ASSEMBLY = 'WebAssembly';
var WebAssembly = global[WEB_ASSEMBLY];

// eslint-disable-next-line es/no-error-cause -- feature detection
var FORCED = new Error('e', { cause: 7 }).cause !== 7;

var exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {
  var O = {};
  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);
  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);
};

var exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {
  if (WebAssembly && WebAssembly[ERROR_NAME]) {
    var O = {};
    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);
    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);
  }
};

// https://tc39.es/ecma262/#sec-nativeerror
exportGlobalErrorCauseWrapper('Error', function (init) {
  return function Error(message) { return apply(init, this, arguments); };
});
exportGlobalErrorCauseWrapper('EvalError', function (init) {
  return function EvalError(message) { return apply(init, this, arguments); };
});
exportGlobalErrorCauseWrapper('RangeError', function (init) {
  return function RangeError(message) { return apply(init, this, arguments); };
});
exportGlobalErrorCauseWrapper('ReferenceError', function (init) {
  return function ReferenceError(message) { return apply(init, this, arguments); };
});
exportGlobalErrorCauseWrapper('SyntaxError', function (init) {
  return function SyntaxError(message) { return apply(init, this, arguments); };
});
exportGlobalErrorCauseWrapper('TypeError', function (init) {
  return function TypeError(message) { return apply(init, this, arguments); };
});
exportGlobalErrorCauseWrapper('URIError', function (init) {
  return function URIError(message) { return apply(init, this, arguments); };
});
exportWebAssemblyErrorCauseWrapper('CompileError', function (init) {
  return function CompileError(message) { return apply(init, this, arguments); };
});
exportWebAssemblyErrorCauseWrapper('LinkError', function (init) {
  return function LinkError(message) { return apply(init, this, arguments); };
});
exportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {
  return function RuntimeError(message) { return apply(init, this, arguments); };
});


/***/ }),

/***/ 56269:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var isCallable = __webpack_require__(69985);
var isObject = __webpack_require__(48999);
var definePropertyModule = __webpack_require__(72560);
var isPrototypeOf = __webpack_require__(23622);
var wellKnownSymbol = __webpack_require__(44201);
var makeBuiltIn = __webpack_require__(98702);

var HAS_INSTANCE = wellKnownSymbol('hasInstance');
var FunctionPrototype = Function.prototype;

// `Function.prototype[@@hasInstance]` method
// https://tc39.es/ecma262/#sec-function.prototype-@@hasinstance
if (!(HAS_INSTANCE in FunctionPrototype)) {
  definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: makeBuiltIn(function (O) {
    if (!isCallable(this) || !isObject(O)) return false;
    var P = this.prototype;
    return isObject(P) ? isPrototypeOf(P, O) : O instanceof this;
  }, HAS_INSTANCE) });
}


/***/ }),

/***/ 45398:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);

// `globalThis` object
// https://tc39.es/ecma262/#sec-globalthis
$({ global: true, forced: global.globalThis !== global }, {
  globalThis: global
});


/***/ }),

/***/ 48324:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var getBuiltIn = __webpack_require__(76058);
var apply = __webpack_require__(61735);
var call = __webpack_require__(22615);
var uncurryThis = __webpack_require__(68844);
var fails = __webpack_require__(3689);
var isCallable = __webpack_require__(69985);
var isSymbol = __webpack_require__(30734);
var arraySlice = __webpack_require__(96004);
var getReplacerFunction = __webpack_require__(92643);
var NATIVE_SYMBOL = __webpack_require__(50146);

var $String = String;
var $stringify = getBuiltIn('JSON', 'stringify');
var exec = uncurryThis(/./.exec);
var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var replace = uncurryThis(''.replace);
var numberToString = uncurryThis(1.0.toString);

var tester = /[\uD800-\uDFFF]/g;
var low = /^[\uD800-\uDBFF]$/;
var hi = /^[\uDC00-\uDFFF]$/;

var WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {
  var symbol = getBuiltIn('Symbol')('stringify detection');
  // MS Edge converts symbol values to JSON as {}
  return $stringify([symbol]) !== '[null]'
    // WebKit converts symbol values to JSON as null
    || $stringify({ a: symbol }) !== '{}'
    // V8 throws on boxed symbols
    || $stringify(Object(symbol)) !== '{}';
});

// https://github.com/tc39/proposal-well-formed-stringify
var ILL_FORMED_UNICODE = fails(function () {
  return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"'
    || $stringify('\uDEAD') !== '"\\udead"';
});

var stringifyWithSymbolsFix = function (it, replacer) {
  var args = arraySlice(arguments);
  var $replacer = getReplacerFunction(replacer);
  if (!isCallable($replacer) && (it === undefined || isSymbol(it))) return; // IE8 returns string on undefined
  args[1] = function (key, value) {
    // some old implementations (like WebKit) could pass numbers as keys
    if (isCallable($replacer)) value = call($replacer, this, $String(key), value);
    if (!isSymbol(value)) return value;
  };
  return apply($stringify, null, args);
};

var fixIllFormed = function (match, offset, string) {
  var prev = charAt(string, offset - 1);
  var next = charAt(string, offset + 1);
  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {
    return '\\u' + numberToString(charCodeAt(match, 0), 16);
  } return match;
};

if ($stringify) {
  // `JSON.stringify` method
  // https://tc39.es/ecma262/#sec-json.stringify
  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    stringify: function stringify(it, replacer, space) {
      var args = arraySlice(arguments);
      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);
      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;
    }
  });
}


/***/ }),

/***/ 7629:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var setToStringTag = __webpack_require__(55997);

// JSON[@@toStringTag] property
// https://tc39.es/ecma262/#sec-json-@@tostringtag
setToStringTag(global.JSON, 'JSON', true);


/***/ }),

/***/ 9322:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var collection = __webpack_require__(20319);
var collectionStrong = __webpack_require__(70800);

// `Map` constructor
// https://tc39.es/ecma262/#sec-map-objects
collection('Map', function (init) {
  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };
}, collectionStrong);


/***/ }),

/***/ 56646:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(9322);


/***/ }),

/***/ 77509:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var setToStringTag = __webpack_require__(55997);

// Math[@@toStringTag] property
// https://tc39.es/ecma262/#sec-math-@@tostringtag
setToStringTag(Math, 'Math', true);


/***/ }),

/***/ 36585:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $entries = (__webpack_require__(49419).entries);

// `Object.entries` method
// https://tc39.es/ecma262/#sec-object.entries
$({ target: 'Object', stat: true }, {
  entries: function entries(O) {
    return $entries(O);
  }
});


/***/ }),

/***/ 99474:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var DESCRIPTORS = __webpack_require__(67697);
var ownKeys = __webpack_require__(19152);
var toIndexedObject = __webpack_require__(65290);
var getOwnPropertyDescriptorModule = __webpack_require__(82474);
var createProperty = __webpack_require__(76522);

// `Object.getOwnPropertyDescriptors` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {
  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
    var O = toIndexedObject(object);
    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
    var keys = ownKeys(O);
    var result = {};
    var index = 0;
    var key, descriptor;
    while (keys.length > index) {
      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);
      if (descriptor !== undefined) createProperty(result, key, descriptor);
    }
    return result;
  }
});


/***/ }),

/***/ 79434:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var NATIVE_SYMBOL = __webpack_require__(50146);
var fails = __webpack_require__(3689);
var getOwnPropertySymbolsModule = __webpack_require__(7518);
var toObject = __webpack_require__(90690);

// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
// https://bugs.chromium.org/p/v8/issues/detail?id=3443
var FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });

// `Object.getOwnPropertySymbols` method
// https://tc39.es/ecma262/#sec-object.getownpropertysymbols
$({ target: 'Object', stat: true, forced: FORCED }, {
  getOwnPropertySymbols: function getOwnPropertySymbols(it) {
    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];
  }
});


/***/ }),

/***/ 60228:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var TO_STRING_TAG_SUPPORT = __webpack_require__(23043);
var defineBuiltIn = __webpack_require__(11880);
var toString = __webpack_require__(65073);

// `Object.prototype.toString` method
// https://tc39.es/ecma262/#sec-object.prototype.tostring
if (!TO_STRING_TAG_SUPPORT) {
  defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });
}


/***/ }),

/***/ 86466:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $values = (__webpack_require__(49419).values);

// `Object.values` method
// https://tc39.es/ecma262/#sec-object.values
$({ target: 'Object', stat: true }, {
  values: function values(O) {
    return $values(O);
  }
});


/***/ }),

/***/ 81692:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var call = __webpack_require__(22615);
var aCallable = __webpack_require__(10509);
var newPromiseCapabilityModule = __webpack_require__(48742);
var perform = __webpack_require__(9302);
var iterate = __webpack_require__(18734);
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(562);

// `Promise.all` method
// https://tc39.es/ecma262/#sec-promise.all
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      var values = [];
      var counter = 0;
      var remaining = 1;
      iterate(iterable, function (promise) {
        var index = counter++;
        var alreadyCalled = false;
        remaining++;
        call($promiseResolve, C, promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ 75089:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var IS_PURE = __webpack_require__(53931);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(87073).CONSTRUCTOR);
var NativePromiseConstructor = __webpack_require__(17919);
var getBuiltIn = __webpack_require__(76058);
var isCallable = __webpack_require__(69985);
var defineBuiltIn = __webpack_require__(11880);

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;

// `Promise.prototype.catch` method
// https://tc39.es/ecma262/#sec-promise.prototype.catch
$({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR, real: true }, {
  'catch': function (onRejected) {
    return this.then(undefined, onRejected);
  }
});

// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`
if (!IS_PURE && isCallable(NativePromiseConstructor)) {
  var method = getBuiltIn('Promise').prototype['catch'];
  if (NativePromisePrototype['catch'] !== method) {
    defineBuiltIn(NativePromisePrototype, 'catch', method, { unsafe: true });
  }
}


/***/ }),

/***/ 56697:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var IS_PURE = __webpack_require__(53931);
var IS_NODE = __webpack_require__(50806);
var global = __webpack_require__(19037);
var call = __webpack_require__(22615);
var defineBuiltIn = __webpack_require__(11880);
var setPrototypeOf = __webpack_require__(49385);
var setToStringTag = __webpack_require__(55997);
var setSpecies = __webpack_require__(14241);
var aCallable = __webpack_require__(10509);
var isCallable = __webpack_require__(69985);
var isObject = __webpack_require__(48999);
var anInstance = __webpack_require__(767);
var speciesConstructor = __webpack_require__(76373);
var task = (__webpack_require__(99886).set);
var microtask = __webpack_require__(80231);
var hostReportErrors = __webpack_require__(20920);
var perform = __webpack_require__(9302);
var Queue = __webpack_require__(34410);
var InternalStateModule = __webpack_require__(618);
var NativePromiseConstructor = __webpack_require__(17919);
var PromiseConstructorDetection = __webpack_require__(87073);
var newPromiseCapabilityModule = __webpack_require__(48742);

var PROMISE = 'Promise';
var FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;
var NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;
var NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;
var getInternalPromiseState = InternalStateModule.getterFor(PROMISE);
var setInternalState = InternalStateModule.set;
var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var PromiseConstructor = NativePromiseConstructor;
var PromisePrototype = NativePromisePrototype;
var TypeError = global.TypeError;
var document = global.document;
var process = global.process;
var newPromiseCapability = newPromiseCapabilityModule.f;
var newGenericPromiseCapability = newPromiseCapability;

var DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);
var UNHANDLED_REJECTION = 'unhandledrejection';
var REJECTION_HANDLED = 'rejectionhandled';
var PENDING = 0;
var FULFILLED = 1;
var REJECTED = 2;
var HANDLED = 1;
var UNHANDLED = 2;

var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && isCallable(then = it.then) ? then : false;
};

var callReaction = function (reaction, state) {
  var value = state.value;
  var ok = state.state === FULFILLED;
  var handler = ok ? reaction.ok : reaction.fail;
  var resolve = reaction.resolve;
  var reject = reaction.reject;
  var domain = reaction.domain;
  var result, then, exited;
  try {
    if (handler) {
      if (!ok) {
        if (state.rejection === UNHANDLED) onHandleUnhandled(state);
        state.rejection = HANDLED;
      }
      if (handler === true) result = value;
      else {
        if (domain) domain.enter();
        result = handler(value); // can throw
        if (domain) {
          domain.exit();
          exited = true;
        }
      }
      if (result === reaction.promise) {
        reject(new TypeError('Promise-chain cycle'));
      } else if (then = isThenable(result)) {
        call(then, result, resolve, reject);
      } else resolve(result);
    } else reject(value);
  } catch (error) {
    if (domain && !exited) domain.exit();
    reject(error);
  }
};

var notify = function (state, isReject) {
  if (state.notified) return;
  state.notified = true;
  microtask(function () {
    var reactions = state.reactions;
    var reaction;
    while (reaction = reactions.get()) {
      callReaction(reaction, state);
    }
    state.notified = false;
    if (isReject && !state.rejection) onUnhandled(state);
  });
};

var dispatchEvent = function (name, promise, reason) {
  var event, handler;
  if (DISPATCH_EVENT) {
    event = document.createEvent('Event');
    event.promise = promise;
    event.reason = reason;
    event.initEvent(name, false, true);
    global.dispatchEvent(event);
  } else event = { promise: promise, reason: reason };
  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);
  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);
};

var onUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    var value = state.value;
    var IS_UNHANDLED = isUnhandled(state);
    var result;
    if (IS_UNHANDLED) {
      result = perform(function () {
        if (IS_NODE) {
          process.emit('unhandledRejection', value, promise);
        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;
      if (result.error) throw result.value;
    }
  });
};

var isUnhandled = function (state) {
  return state.rejection !== HANDLED && !state.parent;
};

var onHandleUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    if (IS_NODE) {
      process.emit('rejectionHandled', promise);
    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);
  });
};

var bind = function (fn, state, unwrap) {
  return function (value) {
    fn(state, value, unwrap);
  };
};

var internalReject = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  state.value = value;
  state.state = REJECTED;
  notify(state, true);
};

var internalResolve = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  try {
    if (state.facade === value) throw new TypeError("Promise can't be resolved itself");
    var then = isThenable(value);
    if (then) {
      microtask(function () {
        var wrapper = { done: false };
        try {
          call(then, value,
            bind(internalResolve, wrapper, state),
            bind(internalReject, wrapper, state)
          );
        } catch (error) {
          internalReject(wrapper, error, state);
        }
      });
    } else {
      state.value = value;
      state.state = FULFILLED;
      notify(state, false);
    }
  } catch (error) {
    internalReject({ done: false }, error, state);
  }
};

// constructor polyfill
if (FORCED_PROMISE_CONSTRUCTOR) {
  // 25.4.3.1 Promise(executor)
  PromiseConstructor = function Promise(executor) {
    anInstance(this, PromisePrototype);
    aCallable(executor);
    call(Internal, this);
    var state = getInternalPromiseState(this);
    try {
      executor(bind(internalResolve, state), bind(internalReject, state));
    } catch (error) {
      internalReject(state, error);
    }
  };

  PromisePrototype = PromiseConstructor.prototype;

  // eslint-disable-next-line no-unused-vars -- required for `.length`
  Internal = function Promise(executor) {
    setInternalState(this, {
      type: PROMISE,
      done: false,
      notified: false,
      parent: false,
      reactions: new Queue(),
      rejection: false,
      state: PENDING,
      value: undefined
    });
  };

  // `Promise.prototype.then` method
  // https://tc39.es/ecma262/#sec-promise.prototype.then
  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {
    var state = getInternalPromiseState(this);
    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));
    state.parent = true;
    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;
    reaction.fail = isCallable(onRejected) && onRejected;
    reaction.domain = IS_NODE ? process.domain : undefined;
    if (state.state === PENDING) state.reactions.add(reaction);
    else microtask(function () {
      callReaction(reaction, state);
    });
    return reaction.promise;
  });

  OwnPromiseCapability = function () {
    var promise = new Internal();
    var state = getInternalPromiseState(promise);
    this.promise = promise;
    this.resolve = bind(internalResolve, state);
    this.reject = bind(internalReject, state);
  };

  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === PromiseConstructor || C === PromiseWrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };

  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {
    nativeThen = NativePromisePrototype.then;

    if (!NATIVE_PROMISE_SUBCLASSING) {
      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs
      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {
        var that = this;
        return new PromiseConstructor(function (resolve, reject) {
          call(nativeThen, that, resolve, reject);
        }).then(onFulfilled, onRejected);
      // https://github.com/zloirock/core-js/issues/640
      }, { unsafe: true });
    }

    // make `.constructor === Promise` work for native promise-based APIs
    try {
      delete NativePromisePrototype.constructor;
    } catch (error) { /* empty */ }

    // make `instanceof Promise` work for native promise-based APIs
    if (setPrototypeOf) {
      setPrototypeOf(NativePromisePrototype, PromisePrototype);
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  Promise: PromiseConstructor
});

setToStringTag(PromiseConstructor, PROMISE, false, true);
setSpecies(PROMISE);


/***/ }),

/***/ 36409:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var IS_PURE = __webpack_require__(53931);
var NativePromiseConstructor = __webpack_require__(17919);
var fails = __webpack_require__(3689);
var getBuiltIn = __webpack_require__(76058);
var isCallable = __webpack_require__(69985);
var speciesConstructor = __webpack_require__(76373);
var promiseResolve = __webpack_require__(72945);
var defineBuiltIn = __webpack_require__(11880);

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;

// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829
var NON_GENERIC = !!NativePromiseConstructor && fails(function () {
  // eslint-disable-next-line unicorn/no-thenable -- required for testing
  NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });
});

// `Promise.prototype.finally` method
// https://tc39.es/ecma262/#sec-promise.prototype.finally
$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {
  'finally': function (onFinally) {
    var C = speciesConstructor(this, getBuiltIn('Promise'));
    var isFunction = isCallable(onFinally);
    return this.then(
      isFunction ? function (x) {
        return promiseResolve(C, onFinally()).then(function () { return x; });
      } : onFinally,
      isFunction ? function (e) {
        return promiseResolve(C, onFinally()).then(function () { throw e; });
      } : onFinally
    );
  }
});

// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`
if (!IS_PURE && isCallable(NativePromiseConstructor)) {
  var method = getBuiltIn('Promise').prototype['finally'];
  if (NativePromisePrototype['finally'] !== method) {
    defineBuiltIn(NativePromisePrototype, 'finally', method, { unsafe: true });
  }
}


/***/ }),

/***/ 73964:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(56697);
__webpack_require__(81692);
__webpack_require__(75089);
__webpack_require__(58829);
__webpack_require__(42092);
__webpack_require__(57905);


/***/ }),

/***/ 58829:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var call = __webpack_require__(22615);
var aCallable = __webpack_require__(10509);
var newPromiseCapabilityModule = __webpack_require__(48742);
var perform = __webpack_require__(9302);
var iterate = __webpack_require__(18734);
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(562);

// `Promise.race` method
// https://tc39.es/ecma262/#sec-promise.race
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      iterate(iterable, function (promise) {
        call($promiseResolve, C, promise).then(capability.resolve, reject);
      });
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ 42092:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var newPromiseCapabilityModule = __webpack_require__(48742);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(87073).CONSTRUCTOR);

// `Promise.reject` method
// https://tc39.es/ecma262/#sec-promise.reject
$({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  reject: function reject(r) {
    var capability = newPromiseCapabilityModule.f(this);
    var capabilityReject = capability.reject;
    capabilityReject(r);
    return capability.promise;
  }
});


/***/ }),

/***/ 57905:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var getBuiltIn = __webpack_require__(76058);
var IS_PURE = __webpack_require__(53931);
var NativePromiseConstructor = __webpack_require__(17919);
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(87073).CONSTRUCTOR);
var promiseResolve = __webpack_require__(72945);

var PromiseConstructorWrapper = getBuiltIn('Promise');
var CHECK_WRAPPER = IS_PURE && !FORCED_PROMISE_CONSTRUCTOR;

// `Promise.resolve` method
// https://tc39.es/ecma262/#sec-promise.resolve
$({ target: 'Promise', stat: true, forced: IS_PURE || FORCED_PROMISE_CONSTRUCTOR }, {
  resolve: function resolve(x) {
    return promiseResolve(CHECK_WRAPPER && this === PromiseConstructorWrapper ? NativePromiseConstructor : this, x);
  }
});


/***/ }),

/***/ 54333:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var functionApply = __webpack_require__(61735);
var aCallable = __webpack_require__(10509);
var anObject = __webpack_require__(85027);
var fails = __webpack_require__(3689);

// MS Edge argumentsList argument is optional
var OPTIONAL_ARGUMENTS_LIST = !fails(function () {
  // eslint-disable-next-line es/no-reflect -- required for testing
  Reflect.apply(function () { /* empty */ });
});

// `Reflect.apply` method
// https://tc39.es/ecma262/#sec-reflect.apply
$({ target: 'Reflect', stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {
  apply: function apply(target, thisArgument, argumentsList) {
    return functionApply(aCallable(target), thisArgument, anObject(argumentsList));
  }
});


/***/ }),

/***/ 30050:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var getBuiltIn = __webpack_require__(76058);
var apply = __webpack_require__(61735);
var bind = __webpack_require__(86761);
var aConstructor = __webpack_require__(52655);
var anObject = __webpack_require__(85027);
var isObject = __webpack_require__(48999);
var create = __webpack_require__(25391);
var fails = __webpack_require__(3689);

var nativeConstruct = getBuiltIn('Reflect', 'construct');
var ObjectPrototype = Object.prototype;
var push = [].push;

// `Reflect.construct` method
// https://tc39.es/ecma262/#sec-reflect.construct
// MS Edge supports only 2 arguments and argumentsList argument is optional
// FF Nightly sets third argument as `new.target`, but does not create `this` from it
var NEW_TARGET_BUG = fails(function () {
  function F() { /* empty */ }
  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);
});

var ARGS_BUG = !fails(function () {
  nativeConstruct(function () { /* empty */ });
});

var FORCED = NEW_TARGET_BUG || ARGS_BUG;

$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {
  construct: function construct(Target, args /* , newTarget */) {
    aConstructor(Target);
    anObject(args);
    var newTarget = arguments.length < 3 ? Target : aConstructor(arguments[2]);
    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);
    if (Target === newTarget) {
      // w/o altered newTarget, optimization for 0-4 arguments
      switch (args.length) {
        case 0: return new Target();
        case 1: return new Target(args[0]);
        case 2: return new Target(args[0], args[1]);
        case 3: return new Target(args[0], args[1], args[2]);
        case 4: return new Target(args[0], args[1], args[2], args[3]);
      }
      // w/o altered newTarget, lot of arguments case
      var $args = [null];
      apply(push, $args, args);
      return new (apply(bind, Target, $args))();
    }
    // with altered newTarget, not support built-in constructors
    var proto = newTarget.prototype;
    var instance = create(isObject(proto) ? proto : ObjectPrototype);
    var result = apply(Target, instance, args);
    return isObject(result) ? result : instance;
  }
});


/***/ }),

/***/ 99871:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var DESCRIPTORS = __webpack_require__(67697);
var anObject = __webpack_require__(85027);
var toPropertyKey = __webpack_require__(18360);
var definePropertyModule = __webpack_require__(72560);
var fails = __webpack_require__(3689);

// MS Edge has broken Reflect.defineProperty - throwing instead of returning false
var ERROR_INSTEAD_OF_FALSE = fails(function () {
  // eslint-disable-next-line es/no-reflect -- required for testing
  Reflect.defineProperty(definePropertyModule.f({}, 1, { value: 1 }), 1, { value: 2 });
});

// `Reflect.defineProperty` method
// https://tc39.es/ecma262/#sec-reflect.defineproperty
$({ target: 'Reflect', stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS }, {
  defineProperty: function defineProperty(target, propertyKey, attributes) {
    anObject(target);
    var key = toPropertyKey(propertyKey);
    anObject(attributes);
    try {
      definePropertyModule.f(target, key, attributes);
      return true;
    } catch (error) {
      return false;
    }
  }
});


/***/ }),

/***/ 1049:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var anObject = __webpack_require__(85027);
var getOwnPropertyDescriptor = (__webpack_require__(82474).f);

// `Reflect.deleteProperty` method
// https://tc39.es/ecma262/#sec-reflect.deleteproperty
$({ target: 'Reflect', stat: true }, {
  deleteProperty: function deleteProperty(target, propertyKey) {
    var descriptor = getOwnPropertyDescriptor(anObject(target), propertyKey);
    return descriptor && !descriptor.configurable ? false : delete target[propertyKey];
  }
});


/***/ }),

/***/ 43792:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var anObject = __webpack_require__(85027);
var objectGetPrototypeOf = __webpack_require__(61868);
var CORRECT_PROTOTYPE_GETTER = __webpack_require__(81748);

// `Reflect.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-reflect.getprototypeof
$({ target: 'Reflect', stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {
  getPrototypeOf: function getPrototypeOf(target) {
    return objectGetPrototypeOf(anObject(target));
  }
});


/***/ }),

/***/ 32349:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var call = __webpack_require__(22615);
var isObject = __webpack_require__(48999);
var anObject = __webpack_require__(85027);
var isDataDescriptor = __webpack_require__(76251);
var getOwnPropertyDescriptorModule = __webpack_require__(82474);
var getPrototypeOf = __webpack_require__(61868);

// `Reflect.get` method
// https://tc39.es/ecma262/#sec-reflect.get
function get(target, propertyKey /* , receiver */) {
  var receiver = arguments.length < 3 ? target : arguments[2];
  var descriptor, prototype;
  if (anObject(target) === receiver) return target[propertyKey];
  descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey);
  if (descriptor) return isDataDescriptor(descriptor)
    ? descriptor.value
    : descriptor.get === undefined ? undefined : call(descriptor.get, receiver);
  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);
}

$({ target: 'Reflect', stat: true }, {
  get: get
});


/***/ }),

/***/ 69707:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);

// `Reflect.has` method
// https://tc39.es/ecma262/#sec-reflect.has
$({ target: 'Reflect', stat: true }, {
  has: function has(target, propertyKey) {
    return propertyKey in target;
  }
});


/***/ }),

/***/ 62087:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var ownKeys = __webpack_require__(19152);

// `Reflect.ownKeys` method
// https://tc39.es/ecma262/#sec-reflect.ownkeys
$({ target: 'Reflect', stat: true }, {
  ownKeys: ownKeys
});


/***/ }),

/***/ 45247:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var call = __webpack_require__(22615);
var anObject = __webpack_require__(85027);
var isObject = __webpack_require__(48999);
var isDataDescriptor = __webpack_require__(76251);
var fails = __webpack_require__(3689);
var definePropertyModule = __webpack_require__(72560);
var getOwnPropertyDescriptorModule = __webpack_require__(82474);
var getPrototypeOf = __webpack_require__(61868);
var createPropertyDescriptor = __webpack_require__(75684);

// `Reflect.set` method
// https://tc39.es/ecma262/#sec-reflect.set
function set(target, propertyKey, V /* , receiver */) {
  var receiver = arguments.length < 4 ? target : arguments[3];
  var ownDescriptor = getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);
  var existingDescriptor, prototype, setter;
  if (!ownDescriptor) {
    if (isObject(prototype = getPrototypeOf(target))) {
      return set(prototype, propertyKey, V, receiver);
    }
    ownDescriptor = createPropertyDescriptor(0);
  }
  if (isDataDescriptor(ownDescriptor)) {
    if (ownDescriptor.writable === false || !isObject(receiver)) return false;
    if (existingDescriptor = getOwnPropertyDescriptorModule.f(receiver, propertyKey)) {
      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;
      existingDescriptor.value = V;
      definePropertyModule.f(receiver, propertyKey, existingDescriptor);
    } else definePropertyModule.f(receiver, propertyKey, createPropertyDescriptor(0, V));
  } else {
    setter = ownDescriptor.set;
    if (setter === undefined) return false;
    call(setter, receiver, V);
  } return true;
}

// MS Edge 17-18 Reflect.set allows setting the property to object
// with non-writable property on the prototype
var MS_EDGE_BUG = fails(function () {
  var Constructor = function () { /* empty */ };
  var object = definePropertyModule.f(new Constructor(), 'a', { configurable: true });
  // eslint-disable-next-line es/no-reflect -- required for testing
  return Reflect.set(Constructor.prototype, 'a', 1, object) !== false;
});

$({ target: 'Reflect', stat: true, forced: MS_EDGE_BUG }, {
  set: set
});


/***/ }),

/***/ 76034:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var setToStringTag = __webpack_require__(55997);

$({ global: true }, { Reflect: {} });

// Reflect[@@toStringTag] property
// https://tc39.es/ecma262/#sec-reflect-@@tostringtag
setToStringTag(global.Reflect, 'Reflect', true);


/***/ }),

/***/ 52003:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var global = __webpack_require__(19037);
var uncurryThis = __webpack_require__(68844);
var isForced = __webpack_require__(35266);
var inheritIfRequired = __webpack_require__(33457);
var createNonEnumerableProperty = __webpack_require__(75773);
var create = __webpack_require__(25391);
var getOwnPropertyNames = (__webpack_require__(72741).f);
var isPrototypeOf = __webpack_require__(23622);
var isRegExp = __webpack_require__(91245);
var toString = __webpack_require__(34327);
var getRegExpFlags = __webpack_require__(63477);
var stickyHelpers = __webpack_require__(87901);
var proxyAccessor = __webpack_require__(38055);
var defineBuiltIn = __webpack_require__(11880);
var fails = __webpack_require__(3689);
var hasOwn = __webpack_require__(36812);
var enforceInternalState = (__webpack_require__(618).enforce);
var setSpecies = __webpack_require__(14241);
var wellKnownSymbol = __webpack_require__(44201);
var UNSUPPORTED_DOT_ALL = __webpack_require__(62100);
var UNSUPPORTED_NCG = __webpack_require__(26738);

var MATCH = wellKnownSymbol('match');
var NativeRegExp = global.RegExp;
var RegExpPrototype = NativeRegExp.prototype;
var SyntaxError = global.SyntaxError;
var exec = uncurryThis(RegExpPrototype.exec);
var charAt = uncurryThis(''.charAt);
var replace = uncurryThis(''.replace);
var stringIndexOf = uncurryThis(''.indexOf);
var stringSlice = uncurryThis(''.slice);
// TODO: Use only proper RegExpIdentifierName
var IS_NCG = /^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/;
var re1 = /a/g;
var re2 = /a/g;

// "new" should create a new object, old webkit bug
var CORRECT_NEW = new NativeRegExp(re1) !== re1;

var MISSED_STICKY = stickyHelpers.MISSED_STICKY;
var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;

var BASE_FORCED = DESCRIPTORS &&
  (!CORRECT_NEW || MISSED_STICKY || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG || fails(function () {
    re2[MATCH] = false;
    // RegExp constructor can alter flags and IsRegExp works correct with @@match
    return NativeRegExp(re1) !== re1 || NativeRegExp(re2) === re2 || String(NativeRegExp(re1, 'i')) !== '/a/i';
  }));

var handleDotAll = function (string) {
  var length = string.length;
  var index = 0;
  var result = '';
  var brackets = false;
  var chr;
  for (; index <= length; index++) {
    chr = charAt(string, index);
    if (chr === '\\') {
      result += chr + charAt(string, ++index);
      continue;
    }
    if (!brackets && chr === '.') {
      result += '[\\s\\S]';
    } else {
      if (chr === '[') {
        brackets = true;
      } else if (chr === ']') {
        brackets = false;
      } result += chr;
    }
  } return result;
};

var handleNCG = function (string) {
  var length = string.length;
  var index = 0;
  var result = '';
  var named = [];
  var names = create(null);
  var brackets = false;
  var ncg = false;
  var groupid = 0;
  var groupname = '';
  var chr;
  for (; index <= length; index++) {
    chr = charAt(string, index);
    if (chr === '\\') {
      chr += charAt(string, ++index);
    } else if (chr === ']') {
      brackets = false;
    } else if (!brackets) switch (true) {
      case chr === '[':
        brackets = true;
        break;
      case chr === '(':
        if (exec(IS_NCG, stringSlice(string, index + 1))) {
          index += 2;
          ncg = true;
        }
        result += chr;
        groupid++;
        continue;
      case chr === '>' && ncg:
        if (groupname === '' || hasOwn(names, groupname)) {
          throw new SyntaxError('Invalid capture group name');
        }
        names[groupname] = true;
        named[named.length] = [groupname, groupid];
        ncg = false;
        groupname = '';
        continue;
    }
    if (ncg) groupname += chr;
    else result += chr;
  } return [result, named];
};

// `RegExp` constructor
// https://tc39.es/ecma262/#sec-regexp-constructor
if (isForced('RegExp', BASE_FORCED)) {
  var RegExpWrapper = function RegExp(pattern, flags) {
    var thisIsRegExp = isPrototypeOf(RegExpPrototype, this);
    var patternIsRegExp = isRegExp(pattern);
    var flagsAreUndefined = flags === undefined;
    var groups = [];
    var rawPattern = pattern;
    var rawFlags, dotAll, sticky, handled, result, state;

    if (!thisIsRegExp && patternIsRegExp && flagsAreUndefined && pattern.constructor === RegExpWrapper) {
      return pattern;
    }

    if (patternIsRegExp || isPrototypeOf(RegExpPrototype, pattern)) {
      pattern = pattern.source;
      if (flagsAreUndefined) flags = getRegExpFlags(rawPattern);
    }

    pattern = pattern === undefined ? '' : toString(pattern);
    flags = flags === undefined ? '' : toString(flags);
    rawPattern = pattern;

    if (UNSUPPORTED_DOT_ALL && 'dotAll' in re1) {
      dotAll = !!flags && stringIndexOf(flags, 's') > -1;
      if (dotAll) flags = replace(flags, /s/g, '');
    }

    rawFlags = flags;

    if (MISSED_STICKY && 'sticky' in re1) {
      sticky = !!flags && stringIndexOf(flags, 'y') > -1;
      if (sticky && UNSUPPORTED_Y) flags = replace(flags, /y/g, '');
    }

    if (UNSUPPORTED_NCG) {
      handled = handleNCG(pattern);
      pattern = handled[0];
      groups = handled[1];
    }

    result = inheritIfRequired(NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype, RegExpWrapper);

    if (dotAll || sticky || groups.length) {
      state = enforceInternalState(result);
      if (dotAll) {
        state.dotAll = true;
        state.raw = RegExpWrapper(handleDotAll(pattern), rawFlags);
      }
      if (sticky) state.sticky = true;
      if (groups.length) state.groups = groups;
    }

    if (pattern !== rawPattern) try {
      // fails in old engines, but we have no alternatives for unsupported regex syntax
      createNonEnumerableProperty(result, 'source', rawPattern === '' ? '(?:)' : rawPattern);
    } catch (error) { /* empty */ }

    return result;
  };

  for (var keys = getOwnPropertyNames(NativeRegExp), index = 0; keys.length > index;) {
    proxyAccessor(RegExpWrapper, NativeRegExp, keys[index++]);
  }

  RegExpPrototype.constructor = RegExpWrapper;
  RegExpWrapper.prototype = RegExpPrototype;
  defineBuiltIn(global, 'RegExp', RegExpWrapper, { constructor: true });
}

// https://tc39.es/ecma262/#sec-get-regexp-@@species
setSpecies('RegExp');


/***/ }),

/***/ 68518:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var UNSUPPORTED_DOT_ALL = __webpack_require__(62100);
var classof = __webpack_require__(6648);
var defineBuiltInAccessor = __webpack_require__(62148);
var getInternalState = (__webpack_require__(618).get);

var RegExpPrototype = RegExp.prototype;
var $TypeError = TypeError;

// `RegExp.prototype.dotAll` getter
// https://tc39.es/ecma262/#sec-get-regexp.prototype.dotall
if (DESCRIPTORS && UNSUPPORTED_DOT_ALL) {
  defineBuiltInAccessor(RegExpPrototype, 'dotAll', {
    configurable: true,
    get: function dotAll() {
      if (this === RegExpPrototype) return;
      // We can't use InternalStateModule.getterFor because
      // we don't add metadata for regexps created by a literal.
      if (classof(this) === 'RegExp') {
        return !!getInternalState(this).dotAll;
      }
      throw new $TypeError('Incompatible receiver, RegExp required');
    }
  });
}


/***/ }),

/***/ 64043:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var exec = __webpack_require__(56308);

// `RegExp.prototype.exec` method
// https://tc39.es/ecma262/#sec-regexp.prototype.exec
$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {
  exec: exec
});


/***/ }),

/***/ 25847:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var DESCRIPTORS = __webpack_require__(67697);
var defineBuiltInAccessor = __webpack_require__(62148);
var regExpFlags = __webpack_require__(69633);
var fails = __webpack_require__(3689);

// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError
var RegExp = global.RegExp;
var RegExpPrototype = RegExp.prototype;

var FORCED = DESCRIPTORS && fails(function () {
  var INDICES_SUPPORT = true;
  try {
    RegExp('.', 'd');
  } catch (error) {
    INDICES_SUPPORT = false;
  }

  var O = {};
  // modern V8 bug
  var calls = '';
  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';

  var addGetter = function (key, chr) {
    // eslint-disable-next-line es/no-object-defineproperty -- safe
    Object.defineProperty(O, key, { get: function () {
      calls += chr;
      return true;
    } });
  };

  var pairs = {
    dotAll: 's',
    global: 'g',
    ignoreCase: 'i',
    multiline: 'm',
    sticky: 'y'
  };

  if (INDICES_SUPPORT) pairs.hasIndices = 'd';

  for (var key in pairs) addGetter(key, pairs[key]);

  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);

  return result !== expected || calls !== expected;
});

// `RegExp.prototype.flags` getter
// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
if (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {
  configurable: true,
  get: regExpFlags
});


/***/ }),

/***/ 13440:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var MISSED_STICKY = (__webpack_require__(87901).MISSED_STICKY);
var classof = __webpack_require__(6648);
var defineBuiltInAccessor = __webpack_require__(62148);
var getInternalState = (__webpack_require__(618).get);

var RegExpPrototype = RegExp.prototype;
var $TypeError = TypeError;

// `RegExp.prototype.sticky` getter
// https://tc39.es/ecma262/#sec-get-regexp.prototype.sticky
if (DESCRIPTORS && MISSED_STICKY) {
  defineBuiltInAccessor(RegExpPrototype, 'sticky', {
    configurable: true,
    get: function sticky() {
      if (this === RegExpPrototype) return;
      // We can't use InternalStateModule.getterFor because
      // we don't add metadata for regexps created by a literal.
      if (classof(this) === 'RegExp') {
        return !!getInternalState(this).sticky;
      }
      throw new $TypeError('Incompatible receiver, RegExp required');
    }
  });
}


/***/ }),

/***/ 7409:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove from `core-js@4` since it's moved to entry points
__webpack_require__(64043);
var $ = __webpack_require__(79989);
var call = __webpack_require__(22615);
var isCallable = __webpack_require__(69985);
var anObject = __webpack_require__(85027);
var toString = __webpack_require__(34327);

var DELEGATES_TO_EXEC = function () {
  var execCalled = false;
  var re = /[ac]/;
  re.exec = function () {
    execCalled = true;
    return /./.exec.apply(this, arguments);
  };
  return re.test('abc') === true && execCalled;
}();

var nativeTest = /./.test;

// `RegExp.prototype.test` method
// https://tc39.es/ecma262/#sec-regexp.prototype.test
$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {
  test: function (S) {
    var R = anObject(this);
    var string = toString(S);
    var exec = R.exec;
    if (!isCallable(exec)) return call(nativeTest, R, string);
    var result = call(exec, R, string);
    if (result === null) return false;
    anObject(result);
    return true;
  }
});


/***/ }),

/***/ 12826:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var PROPER_FUNCTION_NAME = (__webpack_require__(41236).PROPER);
var defineBuiltIn = __webpack_require__(11880);
var anObject = __webpack_require__(85027);
var $toString = __webpack_require__(34327);
var fails = __webpack_require__(3689);
var getRegExpFlags = __webpack_require__(63477);

var TO_STRING = 'toString';
var RegExpPrototype = RegExp.prototype;
var nativeToString = RegExpPrototype[TO_STRING];

var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) !== '/a/b'; });
// FF44- RegExp#toString has a wrong name
var INCORRECT_NAME = PROPER_FUNCTION_NAME && nativeToString.name !== TO_STRING;

// `RegExp.prototype.toString` method
// https://tc39.es/ecma262/#sec-regexp.prototype.tostring
if (NOT_GENERIC || INCORRECT_NAME) {
  defineBuiltIn(RegExpPrototype, TO_STRING, function toString() {
    var R = anObject(this);
    var pattern = $toString(R.source);
    var flags = $toString(getRegExpFlags(R));
    return '/' + pattern + '/' + flags;
  }, { unsafe: true });
}


/***/ }),

/***/ 17985:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var collection = __webpack_require__(20319);
var collectionStrong = __webpack_require__(70800);

// `Set` constructor
// https://tc39.es/ecma262/#sec-set-objects
collection('Set', function (init) {
  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };
}, collectionStrong);


/***/ }),

/***/ 19649:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(17985);


/***/ }),

/***/ 7961:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(68844);
var requireObjectCoercible = __webpack_require__(74684);
var toIntegerOrInfinity = __webpack_require__(68700);
var toString = __webpack_require__(34327);
var fails = __webpack_require__(3689);

var charAt = uncurryThis(''.charAt);

var FORCED = fails(function () {
  // eslint-disable-next-line es/no-array-string-prototype-at -- safe
  return ''.at(-2) !== '\uD842';
});

// `String.prototype.at` method
// https://tc39.es/ecma262/#sec-string.prototype.at
$({ target: 'String', proto: true, forced: FORCED }, {
  at: function at(index) {
    var S = toString(requireObjectCoercible(this));
    var len = S.length;
    var relativeIndex = toIntegerOrInfinity(index);
    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
    return (k < 0 || k >= len) ? undefined : charAt(S, k);
  }
});


/***/ }),

/***/ 2918:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(46576);
var getOwnPropertyDescriptor = (__webpack_require__(82474).f);
var toLength = __webpack_require__(43126);
var toString = __webpack_require__(34327);
var notARegExp = __webpack_require__(42124);
var requireObjectCoercible = __webpack_require__(74684);
var correctIsRegExpLogic = __webpack_require__(27413);
var IS_PURE = __webpack_require__(53931);

var slice = uncurryThis(''.slice);
var min = Math.min;

var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');
// https://github.com/zloirock/core-js/pull/702
var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {
  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');
  return descriptor && !descriptor.writable;
}();

// `String.prototype.endsWith` method
// https://tc39.es/ecma262/#sec-string.prototype.endswith
$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
  endsWith: function endsWith(searchString /* , endPosition = @length */) {
    var that = toString(requireObjectCoercible(this));
    notARegExp(searchString);
    var endPosition = arguments.length > 1 ? arguments[1] : undefined;
    var len = that.length;
    var end = endPosition === undefined ? len : min(toLength(endPosition), len);
    var search = toString(searchString);
    return slice(that, end - search.length, end) === search;
  }
});


/***/ }),

/***/ 43843:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(68844);
var notARegExp = __webpack_require__(42124);
var requireObjectCoercible = __webpack_require__(74684);
var toString = __webpack_require__(34327);
var correctIsRegExpLogic = __webpack_require__(27413);

var stringIndexOf = uncurryThis(''.indexOf);

// `String.prototype.includes` method
// https://tc39.es/ecma262/#sec-string.prototype.includes
$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {
  includes: function includes(searchString /* , position = 0 */) {
    return !!~stringIndexOf(
      toString(requireObjectCoercible(this)),
      toString(notARegExp(searchString)),
      arguments.length > 1 ? arguments[1] : undefined
    );
  }
});


/***/ }),

/***/ 21694:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var charAt = (__webpack_require__(10730).charAt);
var toString = __webpack_require__(34327);
var InternalStateModule = __webpack_require__(618);
var defineIterator = __webpack_require__(91934);
var createIterResultObject = __webpack_require__(27807);

var STRING_ITERATOR = 'String Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);

// `String.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-string.prototype-@@iterator
defineIterator(String, 'String', function (iterated) {
  setInternalState(this, {
    type: STRING_ITERATOR,
    string: toString(iterated),
    index: 0
  });
// `%StringIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next
}, function next() {
  var state = getInternalState(this);
  var string = state.string;
  var index = state.index;
  var point;
  if (index >= string.length) return createIterResultObject(undefined, true);
  point = charAt(string, index);
  state.index += point.length;
  return createIterResultObject(point, false);
});


/***/ }),

/***/ 22462:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var fixRegExpWellKnownSymbolLogic = __webpack_require__(65773);
var anObject = __webpack_require__(85027);
var isNullOrUndefined = __webpack_require__(981);
var toLength = __webpack_require__(43126);
var toString = __webpack_require__(34327);
var requireObjectCoercible = __webpack_require__(74684);
var getMethod = __webpack_require__(54849);
var advanceStringIndex = __webpack_require__(71514);
var regExpExec = __webpack_require__(66100);

// @@match logic
fixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {
  return [
    // `String.prototype.match` method
    // https://tc39.es/ecma262/#sec-string.prototype.match
    function match(regexp) {
      var O = requireObjectCoercible(this);
      var matcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, MATCH);
      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));
    },
    // `RegExp.prototype[@@match]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match
    function (string) {
      var rx = anObject(this);
      var S = toString(string);
      var res = maybeCallNative(nativeMatch, rx, S);

      if (res.done) return res.value;

      if (!rx.global) return regExpExec(rx, S);

      var fullUnicode = rx.unicode;
      rx.lastIndex = 0;
      var A = [];
      var n = 0;
      var result;
      while ((result = regExpExec(rx, S)) !== null) {
        var matchStr = toString(result[0]);
        A[n] = matchStr;
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
        n++;
      }
      return n === 0 ? null : A;
    }
  ];
});


/***/ }),

/***/ 72940:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $padEnd = (__webpack_require__(77254).end);
var WEBKIT_BUG = __webpack_require__(35947);

// `String.prototype.padEnd` method
// https://tc39.es/ecma262/#sec-string.prototype.padend
$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {
  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {
    return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 8472:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $padStart = (__webpack_require__(77254).start);
var WEBKIT_BUG = __webpack_require__(35947);

// `String.prototype.padStart` method
// https://tc39.es/ecma262/#sec-string.prototype.padstart
$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {
  padStart: function padStart(maxLength /* , fillString = ' ' */) {
    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ 57267:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var apply = __webpack_require__(61735);
var call = __webpack_require__(22615);
var uncurryThis = __webpack_require__(68844);
var fixRegExpWellKnownSymbolLogic = __webpack_require__(65773);
var fails = __webpack_require__(3689);
var anObject = __webpack_require__(85027);
var isCallable = __webpack_require__(69985);
var isNullOrUndefined = __webpack_require__(981);
var toIntegerOrInfinity = __webpack_require__(68700);
var toLength = __webpack_require__(43126);
var toString = __webpack_require__(34327);
var requireObjectCoercible = __webpack_require__(74684);
var advanceStringIndex = __webpack_require__(71514);
var getMethod = __webpack_require__(54849);
var getSubstitution = __webpack_require__(27017);
var regExpExec = __webpack_require__(66100);
var wellKnownSymbol = __webpack_require__(44201);

var REPLACE = wellKnownSymbol('replace');
var max = Math.max;
var min = Math.min;
var concat = uncurryThis([].concat);
var push = uncurryThis([].push);
var stringIndexOf = uncurryThis(''.indexOf);
var stringSlice = uncurryThis(''.slice);

var maybeToString = function (it) {
  return it === undefined ? it : String(it);
};

// IE <= 11 replaces $0 with the whole match, as if it was $&
// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0
var REPLACE_KEEPS_$0 = (function () {
  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing
  return 'a'.replace(/./, '$0') === '$0';
})();

// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string
var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {
  if (/./[REPLACE]) {
    return /./[REPLACE]('a', '$0') === '';
  }
  return false;
})();

var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {
  var re = /./;
  re.exec = function () {
    var result = [];
    result.groups = { a: '7' };
    return result;
  };
  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive
  return ''.replace(re, '$<a>') !== '7';
});

// @@replace logic
fixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {
  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';

  return [
    // `String.prototype.replace` method
    // https://tc39.es/ecma262/#sec-string.prototype.replace
    function replace(searchValue, replaceValue) {
      var O = requireObjectCoercible(this);
      var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);
      return replacer
        ? call(replacer, searchValue, O, replaceValue)
        : call(nativeReplace, toString(O), searchValue, replaceValue);
    },
    // `RegExp.prototype[@@replace]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace
    function (string, replaceValue) {
      var rx = anObject(this);
      var S = toString(string);

      if (
        typeof replaceValue == 'string' &&
        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&
        stringIndexOf(replaceValue, '$<') === -1
      ) {
        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);
        if (res.done) return res.value;
      }

      var functionalReplace = isCallable(replaceValue);
      if (!functionalReplace) replaceValue = toString(replaceValue);

      var global = rx.global;
      var fullUnicode;
      if (global) {
        fullUnicode = rx.unicode;
        rx.lastIndex = 0;
      }

      var results = [];
      var result;
      while (true) {
        result = regExpExec(rx, S);
        if (result === null) break;

        push(results, result);
        if (!global) break;

        var matchStr = toString(result[0]);
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
      }

      var accumulatedResult = '';
      var nextSourcePosition = 0;
      for (var i = 0; i < results.length; i++) {
        result = results[i];

        var matched = toString(result[0]);
        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);
        var captures = [];
        var replacement;
        // NOTE: This is equivalent to
        //   captures = result.slice(1).map(maybeToString)
        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in
        // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and
        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.
        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));
        var namedCaptures = result.groups;
        if (functionalReplace) {
          var replacerArgs = concat([matched], captures, position, S);
          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);
          replacement = toString(apply(replaceValue, undefined, replacerArgs));
        } else {
          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
        }
        if (position >= nextSourcePosition) {
          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;
          nextSourcePosition = position + matched.length;
        }
      }

      return accumulatedResult + stringSlice(S, nextSourcePosition);
    }
  ];
}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);


/***/ }),

/***/ 61514:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(22615);
var fixRegExpWellKnownSymbolLogic = __webpack_require__(65773);
var anObject = __webpack_require__(85027);
var isNullOrUndefined = __webpack_require__(981);
var requireObjectCoercible = __webpack_require__(74684);
var sameValue = __webpack_require__(70953);
var toString = __webpack_require__(34327);
var getMethod = __webpack_require__(54849);
var regExpExec = __webpack_require__(66100);

// @@search logic
fixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {
  return [
    // `String.prototype.search` method
    // https://tc39.es/ecma262/#sec-string.prototype.search
    function search(regexp) {
      var O = requireObjectCoercible(this);
      var searcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, SEARCH);
      return searcher ? call(searcher, regexp, O) : new RegExp(regexp)[SEARCH](toString(O));
    },
    // `RegExp.prototype[@@search]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search
    function (string) {
      var rx = anObject(this);
      var S = toString(string);
      var res = maybeCallNative(nativeSearch, rx, S);

      if (res.done) return res.value;

      var previousLastIndex = rx.lastIndex;
      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;
      var result = regExpExec(rx, S);
      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;
      return result === null ? -1 : result.index;
    }
  ];
});


/***/ }),

/***/ 9873:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var apply = __webpack_require__(61735);
var call = __webpack_require__(22615);
var uncurryThis = __webpack_require__(68844);
var fixRegExpWellKnownSymbolLogic = __webpack_require__(65773);
var anObject = __webpack_require__(85027);
var isNullOrUndefined = __webpack_require__(981);
var isRegExp = __webpack_require__(91245);
var requireObjectCoercible = __webpack_require__(74684);
var speciesConstructor = __webpack_require__(76373);
var advanceStringIndex = __webpack_require__(71514);
var toLength = __webpack_require__(43126);
var toString = __webpack_require__(34327);
var getMethod = __webpack_require__(54849);
var arraySlice = __webpack_require__(96004);
var callRegExpExec = __webpack_require__(66100);
var regexpExec = __webpack_require__(56308);
var stickyHelpers = __webpack_require__(87901);
var fails = __webpack_require__(3689);

var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;
var MAX_UINT32 = 0xFFFFFFFF;
var min = Math.min;
var $push = [].push;
var exec = uncurryThis(/./.exec);
var push = uncurryThis($push);
var stringSlice = uncurryThis(''.slice);

// Chrome 51 has a buggy "split" implementation when RegExp#exec !== nativeExec
// Weex JS has frozen built-in prototypes, so use try / catch wrapper
var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {
  // eslint-disable-next-line regexp/no-empty-group -- required for testing
  var re = /(?:)/;
  var originalExec = re.exec;
  re.exec = function () { return originalExec.apply(this, arguments); };
  var result = 'ab'.split(re);
  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';
});

// @@split logic
fixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {
  var internalSplit;
  if (
    'abbc'.split(/(b)*/)[1] === 'c' ||
    // eslint-disable-next-line regexp/no-empty-group -- required for testing
    'test'.split(/(?:)/, -1).length !== 4 ||
    'ab'.split(/(?:ab)*/).length !== 2 ||
    '.'.split(/(.?)(.?)/).length !== 4 ||
    // eslint-disable-next-line regexp/no-empty-capturing-group, regexp/no-empty-group -- required for testing
    '.'.split(/()()/).length > 1 ||
    ''.split(/.?/).length
  ) {
    // based on es5-shim implementation, need to rework it
    internalSplit = function (separator, limit) {
      var string = toString(requireObjectCoercible(this));
      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;
      if (lim === 0) return [];
      if (separator === undefined) return [string];
      // If `separator` is not a regex, use native split
      if (!isRegExp(separator)) {
        return call(nativeSplit, string, separator, lim);
      }
      var output = [];
      var flags = (separator.ignoreCase ? 'i' : '') +
                  (separator.multiline ? 'm' : '') +
                  (separator.unicode ? 'u' : '') +
                  (separator.sticky ? 'y' : '');
      var lastLastIndex = 0;
      // Make `global` and avoid `lastIndex` issues by working with a copy
      var separatorCopy = new RegExp(separator.source, flags + 'g');
      var match, lastIndex, lastLength;
      while (match = call(regexpExec, separatorCopy, string)) {
        lastIndex = separatorCopy.lastIndex;
        if (lastIndex > lastLastIndex) {
          push(output, stringSlice(string, lastLastIndex, match.index));
          if (match.length > 1 && match.index < string.length) apply($push, output, arraySlice(match, 1));
          lastLength = match[0].length;
          lastLastIndex = lastIndex;
          if (output.length >= lim) break;
        }
        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop
      }
      if (lastLastIndex === string.length) {
        if (lastLength || !exec(separatorCopy, '')) push(output, '');
      } else push(output, stringSlice(string, lastLastIndex));
      return output.length > lim ? arraySlice(output, 0, lim) : output;
    };
  // Chakra, V8
  } else if ('0'.split(undefined, 0).length) {
    internalSplit = function (separator, limit) {
      return separator === undefined && limit === 0 ? [] : call(nativeSplit, this, separator, limit);
    };
  } else internalSplit = nativeSplit;

  return [
    // `String.prototype.split` method
    // https://tc39.es/ecma262/#sec-string.prototype.split
    function split(separator, limit) {
      var O = requireObjectCoercible(this);
      var splitter = isNullOrUndefined(separator) ? undefined : getMethod(separator, SPLIT);
      return splitter
        ? call(splitter, separator, O, limit)
        : call(internalSplit, toString(O), separator, limit);
    },
    // `RegExp.prototype[@@split]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split
    //
    // NOTE: This cannot be properly polyfilled in engines that don't support
    // the 'y' flag.
    function (string, limit) {
      var rx = anObject(this);
      var S = toString(string);
      var res = maybeCallNative(internalSplit, rx, S, limit, internalSplit !== nativeSplit);

      if (res.done) return res.value;

      var C = speciesConstructor(rx, RegExp);

      var unicodeMatching = rx.unicode;
      var flags = (rx.ignoreCase ? 'i' : '') +
                  (rx.multiline ? 'm' : '') +
                  (rx.unicode ? 'u' : '') +
                  (UNSUPPORTED_Y ? 'g' : 'y');

      // ^(? + rx + ) is needed, in combination with some S slicing, to
      // simulate the 'y' flag.
      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);
      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;
      if (lim === 0) return [];
      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];
      var p = 0;
      var q = 0;
      var A = [];
      while (q < S.length) {
        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;
        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? stringSlice(S, q) : S);
        var e;
        if (
          z === null ||
          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p
        ) {
          q = advanceStringIndex(S, q, unicodeMatching);
        } else {
          push(A, stringSlice(S, p, q));
          if (A.length === lim) return A;
          for (var i = 1; i <= z.length - 1; i++) {
            push(A, z[i]);
            if (A.length === lim) return A;
          }
          q = p = e;
        }
      }
      push(A, stringSlice(S, p));
      return A;
    }
  ];
}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);


/***/ }),

/***/ 268:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var uncurryThis = __webpack_require__(46576);
var getOwnPropertyDescriptor = (__webpack_require__(82474).f);
var toLength = __webpack_require__(43126);
var toString = __webpack_require__(34327);
var notARegExp = __webpack_require__(42124);
var requireObjectCoercible = __webpack_require__(74684);
var correctIsRegExpLogic = __webpack_require__(27413);
var IS_PURE = __webpack_require__(53931);

var stringSlice = uncurryThis(''.slice);
var min = Math.min;

var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');
// https://github.com/zloirock/core-js/pull/702
var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {
  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');
  return descriptor && !descriptor.writable;
}();

// `String.prototype.startsWith` method
// https://tc39.es/ecma262/#sec-string.prototype.startswith
$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
  startsWith: function startsWith(searchString /* , position = 0 */) {
    var that = toString(requireObjectCoercible(this));
    notARegExp(searchString);
    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));
    var search = toString(searchString);
    return stringSlice(that, index, index + search.length) === search;
  }
});


/***/ }),

/***/ 16386:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this line from `core-js@4`
__webpack_require__(61313);
var $ = __webpack_require__(79989);
var trimEnd = __webpack_require__(79558);

// `String.prototype.trimEnd` method
// https://tc39.es/ecma262/#sec-string.prototype.trimend
// eslint-disable-next-line es/no-string-prototype-trimstart-trimend -- safe
$({ target: 'String', proto: true, name: 'trimEnd', forced: ''.trimEnd !== trimEnd }, {
  trimEnd: trimEnd
});


/***/ }),

/***/ 10974:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var trimStart = __webpack_require__(72291);

// `String.prototype.trimLeft` method
// https://tc39.es/ecma262/#sec-string.prototype.trimleft
// eslint-disable-next-line es/no-string-prototype-trimleft-trimright -- safe
$({ target: 'String', proto: true, name: 'trimStart', forced: ''.trimLeft !== trimStart }, {
  trimLeft: trimStart
});


/***/ }),

/***/ 61313:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var trimEnd = __webpack_require__(79558);

// `String.prototype.trimRight` method
// https://tc39.es/ecma262/#sec-string.prototype.trimend
// eslint-disable-next-line es/no-string-prototype-trimleft-trimright -- safe
$({ target: 'String', proto: true, name: 'trimEnd', forced: ''.trimRight !== trimEnd }, {
  trimRight: trimEnd
});


/***/ }),

/***/ 3255:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this line from `core-js@4`
__webpack_require__(10974);
var $ = __webpack_require__(79989);
var trimStart = __webpack_require__(72291);

// `String.prototype.trimStart` method
// https://tc39.es/ecma262/#sec-string.prototype.trimstart
// eslint-disable-next-line es/no-string-prototype-trimstart-trimend -- safe
$({ target: 'String', proto: true, name: 'trimStart', forced: ''.trimStart !== trimStart }, {
  trimStart: trimStart
});


/***/ }),

/***/ 28436:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var $trim = (__webpack_require__(61435).trim);
var forcedStringTrimMethod = __webpack_require__(75984);

// `String.prototype.trim` method
// https://tc39.es/ecma262/#sec-string.prototype.trim
$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {
  trim: function trim() {
    return $trim(this);
  }
});


/***/ }),

/***/ 58373:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineWellKnownSymbol = __webpack_require__(35405);

// `Symbol.asyncIterator` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.asynciterator
defineWellKnownSymbol('asyncIterator');


/***/ }),

/***/ 37855:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var call = __webpack_require__(22615);
var uncurryThis = __webpack_require__(68844);
var IS_PURE = __webpack_require__(53931);
var DESCRIPTORS = __webpack_require__(67697);
var NATIVE_SYMBOL = __webpack_require__(50146);
var fails = __webpack_require__(3689);
var hasOwn = __webpack_require__(36812);
var isPrototypeOf = __webpack_require__(23622);
var anObject = __webpack_require__(85027);
var toIndexedObject = __webpack_require__(65290);
var toPropertyKey = __webpack_require__(18360);
var $toString = __webpack_require__(34327);
var createPropertyDescriptor = __webpack_require__(75684);
var nativeObjectCreate = __webpack_require__(25391);
var objectKeys = __webpack_require__(20300);
var getOwnPropertyNamesModule = __webpack_require__(72741);
var getOwnPropertyNamesExternal = __webpack_require__(26062);
var getOwnPropertySymbolsModule = __webpack_require__(7518);
var getOwnPropertyDescriptorModule = __webpack_require__(82474);
var definePropertyModule = __webpack_require__(72560);
var definePropertiesModule = __webpack_require__(98920);
var propertyIsEnumerableModule = __webpack_require__(49556);
var defineBuiltIn = __webpack_require__(11880);
var defineBuiltInAccessor = __webpack_require__(62148);
var shared = __webpack_require__(83430);
var sharedKey = __webpack_require__(2713);
var hiddenKeys = __webpack_require__(57248);
var uid = __webpack_require__(14630);
var wellKnownSymbol = __webpack_require__(44201);
var wrappedWellKnownSymbolModule = __webpack_require__(96145);
var defineWellKnownSymbol = __webpack_require__(35405);
var defineSymbolToPrimitive = __webpack_require__(13032);
var setToStringTag = __webpack_require__(55997);
var InternalStateModule = __webpack_require__(618);
var $forEach = (__webpack_require__(2960).forEach);

var HIDDEN = sharedKey('hidden');
var SYMBOL = 'Symbol';
var PROTOTYPE = 'prototype';

var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(SYMBOL);

var ObjectPrototype = Object[PROTOTYPE];
var $Symbol = global.Symbol;
var SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];
var RangeError = global.RangeError;
var TypeError = global.TypeError;
var QObject = global.QObject;
var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
var nativeDefineProperty = definePropertyModule.f;
var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;
var push = uncurryThis([].push);

var AllSymbols = shared('symbols');
var ObjectPrototypeSymbols = shared('op-symbols');
var WellKnownSymbolsStore = shared('wks');

// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var fallbackDefineProperty = function (O, P, Attributes) {
  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);
  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];
  nativeDefineProperty(O, P, Attributes);
  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {
    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);
  }
};

var setSymbolDescriptor = DESCRIPTORS && fails(function () {
  return nativeObjectCreate(nativeDefineProperty({}, 'a', {
    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }
  })).a !== 7;
}) ? fallbackDefineProperty : nativeDefineProperty;

var wrap = function (tag, description) {
  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);
  setInternalState(symbol, {
    type: SYMBOL,
    tag: tag,
    description: description
  });
  if (!DESCRIPTORS) symbol.description = description;
  return symbol;
};

var $defineProperty = function defineProperty(O, P, Attributes) {
  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);
  anObject(O);
  var key = toPropertyKey(P);
  anObject(Attributes);
  if (hasOwn(AllSymbols, key)) {
    if (!Attributes.enumerable) {
      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, nativeObjectCreate(null)));
      O[HIDDEN][key] = true;
    } else {
      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });
    } return setSymbolDescriptor(O, key, Attributes);
  } return nativeDefineProperty(O, key, Attributes);
};

var $defineProperties = function defineProperties(O, Properties) {
  anObject(O);
  var properties = toIndexedObject(Properties);
  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));
  $forEach(keys, function (key) {
    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);
  });
  return O;
};

var $create = function create(O, Properties) {
  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
};

var $propertyIsEnumerable = function propertyIsEnumerable(V) {
  var P = toPropertyKey(V);
  var enumerable = call(nativePropertyIsEnumerable, this, P);
  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;
  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]
    ? enumerable : true;
};

var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
  var it = toIndexedObject(O);
  var key = toPropertyKey(P);
  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;
  var descriptor = nativeGetOwnPropertyDescriptor(it, key);
  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {
    descriptor.enumerable = true;
  }
  return descriptor;
};

var $getOwnPropertyNames = function getOwnPropertyNames(O) {
  var names = nativeGetOwnPropertyNames(toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);
  });
  return result;
};

var $getOwnPropertySymbols = function (O) {
  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;
  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {
      push(result, AllSymbols[key]);
    }
  });
  return result;
};

// `Symbol` constructor
// https://tc39.es/ecma262/#sec-symbol-constructor
if (!NATIVE_SYMBOL) {
  $Symbol = function Symbol() {
    if (isPrototypeOf(SymbolPrototype, this)) throw new TypeError('Symbol is not a constructor');
    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);
    var tag = uid(description);
    var setter = function (value) {
      var $this = this === undefined ? global : this;
      if ($this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);
      if (hasOwn($this, HIDDEN) && hasOwn($this[HIDDEN], tag)) $this[HIDDEN][tag] = false;
      var descriptor = createPropertyDescriptor(1, value);
      try {
        setSymbolDescriptor($this, tag, descriptor);
      } catch (error) {
        if (!(error instanceof RangeError)) throw error;
        fallbackDefineProperty($this, tag, descriptor);
      }
    };
    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });
    return wrap(tag, description);
  };

  SymbolPrototype = $Symbol[PROTOTYPE];

  defineBuiltIn(SymbolPrototype, 'toString', function toString() {
    return getInternalState(this).tag;
  });

  defineBuiltIn($Symbol, 'withoutSetter', function (description) {
    return wrap(uid(description), description);
  });

  propertyIsEnumerableModule.f = $propertyIsEnumerable;
  definePropertyModule.f = $defineProperty;
  definePropertiesModule.f = $defineProperties;
  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;
  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;

  wrappedWellKnownSymbolModule.f = function (name) {
    return wrap(wellKnownSymbol(name), name);
  };

  if (DESCRIPTORS) {
    // https://github.com/tc39/proposal-Symbol-description
    defineBuiltInAccessor(SymbolPrototype, 'description', {
      configurable: true,
      get: function description() {
        return getInternalState(this).description;
      }
    });
    if (!IS_PURE) {
      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
  Symbol: $Symbol
});

$forEach(objectKeys(WellKnownSymbolsStore), function (name) {
  defineWellKnownSymbol(name);
});

$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
  useSetter: function () { USE_SETTER = true; },
  useSimple: function () { USE_SETTER = false; }
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {
  // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create
  create: $create,
  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  defineProperty: $defineProperty,
  // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  defineProperties: $defineProperties,
  // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {
  // `Object.getOwnPropertyNames` method
  // https://tc39.es/ecma262/#sec-object.getownpropertynames
  getOwnPropertyNames: $getOwnPropertyNames
});

// `Symbol.prototype[@@toPrimitive]` method
// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
defineSymbolToPrimitive();

// `Symbol.prototype[@@toStringTag]` property
// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
setToStringTag($Symbol, SYMBOL);

hiddenKeys[HIDDEN] = true;


/***/ }),

/***/ 86544:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";
// `Symbol.prototype.description` getter
// https://tc39.es/ecma262/#sec-symbol.prototype.description

var $ = __webpack_require__(79989);
var DESCRIPTORS = __webpack_require__(67697);
var global = __webpack_require__(19037);
var uncurryThis = __webpack_require__(68844);
var hasOwn = __webpack_require__(36812);
var isCallable = __webpack_require__(69985);
var isPrototypeOf = __webpack_require__(23622);
var toString = __webpack_require__(34327);
var defineBuiltInAccessor = __webpack_require__(62148);
var copyConstructorProperties = __webpack_require__(8758);

var NativeSymbol = global.Symbol;
var SymbolPrototype = NativeSymbol && NativeSymbol.prototype;

if (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||
  // Safari 12 bug
  NativeSymbol().description !== undefined
)) {
  var EmptyStringDescriptionStore = {};
  // wrap Symbol constructor for correct work with undefined description
  var SymbolWrapper = function Symbol() {
    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);
    var result = isPrototypeOf(SymbolPrototype, this)
      ? new NativeSymbol(description)
      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'
      : description === undefined ? NativeSymbol() : NativeSymbol(description);
    if (description === '') EmptyStringDescriptionStore[result] = true;
    return result;
  };

  copyConstructorProperties(SymbolWrapper, NativeSymbol);
  SymbolWrapper.prototype = SymbolPrototype;
  SymbolPrototype.constructor = SymbolWrapper;

  var NATIVE_SYMBOL = String(NativeSymbol('description detection')) === 'Symbol(description detection)';
  var thisSymbolValue = uncurryThis(SymbolPrototype.valueOf);
  var symbolDescriptiveString = uncurryThis(SymbolPrototype.toString);
  var regexp = /^Symbol\((.*)\)[^)]+$/;
  var replace = uncurryThis(''.replace);
  var stringSlice = uncurryThis(''.slice);

  defineBuiltInAccessor(SymbolPrototype, 'description', {
    configurable: true,
    get: function description() {
      var symbol = thisSymbolValue(this);
      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';
      var string = symbolDescriptiveString(symbol);
      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');
      return desc === '' ? undefined : desc;
    }
  });

  $({ global: true, constructor: true, forced: true }, {
    Symbol: SymbolWrapper
  });
}


/***/ }),

/***/ 43975:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var getBuiltIn = __webpack_require__(76058);
var hasOwn = __webpack_require__(36812);
var toString = __webpack_require__(34327);
var shared = __webpack_require__(83430);
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(46549);

var StringToSymbolRegistry = shared('string-to-symbol-registry');
var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.for` method
// https://tc39.es/ecma262/#sec-symbol.for
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  'for': function (key) {
    var string = toString(key);
    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
    var symbol = getBuiltIn('Symbol')(string);
    StringToSymbolRegistry[string] = symbol;
    SymbolToStringRegistry[symbol] = string;
    return symbol;
  }
});


/***/ }),

/***/ 96157:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineWellKnownSymbol = __webpack_require__(35405);

// `Symbol.hasInstance` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.hasinstance
defineWellKnownSymbol('hasInstance');


/***/ }),

/***/ 59749:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(37855);
__webpack_require__(43975);
__webpack_require__(81445);
__webpack_require__(48324);
__webpack_require__(79434);


/***/ }),

/***/ 81445:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var hasOwn = __webpack_require__(36812);
var isSymbol = __webpack_require__(30734);
var tryToString = __webpack_require__(23691);
var shared = __webpack_require__(83430);
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(46549);

var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.keyFor` method
// https://tc39.es/ecma262/#sec-symbol.keyfor
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw new TypeError(tryToString(sym) + ' is not a symbol');
    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
  }
});


/***/ }),

/***/ 69373:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineWellKnownSymbol = __webpack_require__(35405);
var defineSymbolToPrimitive = __webpack_require__(13032);

// `Symbol.toPrimitive` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.toprimitive
defineWellKnownSymbol('toPrimitive');

// `Symbol.prototype[@@toPrimitive]` method
// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
defineSymbolToPrimitive();


/***/ }),

/***/ 66793:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(76058);
var defineWellKnownSymbol = __webpack_require__(35405);
var setToStringTag = __webpack_require__(55997);

// `Symbol.toStringTag` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.tostringtag
defineWellKnownSymbol('toStringTag');

// `Symbol.prototype[@@toStringTag]` property
// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
setToStringTag(getBuiltIn('Symbol'), 'Symbol');


/***/ }),

/***/ 95194:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var lengthOfArrayLike = __webpack_require__(6310);
var toIntegerOrInfinity = __webpack_require__(68700);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.at` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.at
exportTypedArrayMethod('at', function at(index) {
  var O = aTypedArray(this);
  var len = lengthOfArrayLike(O);
  var relativeIndex = toIntegerOrInfinity(index);
  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
  return (k < 0 || k >= len) ? undefined : O[k];
});


/***/ }),

/***/ 36664:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var uncurryThis = __webpack_require__(68844);
var ArrayBufferViewCore = __webpack_require__(54872);
var $ArrayCopyWithin = __webpack_require__(70357);

var u$ArrayCopyWithin = uncurryThis($ArrayCopyWithin);
var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.copyWithin` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin
exportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {
  return u$ArrayCopyWithin(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);
});


/***/ }),

/***/ 55980:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $every = (__webpack_require__(2960).every);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.every` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.every
exportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {
  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 79943:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $fill = __webpack_require__(62872);
var toBigInt = __webpack_require__(71530);
var classof = __webpack_require__(50926);
var call = __webpack_require__(22615);
var uncurryThis = __webpack_require__(68844);
var fails = __webpack_require__(3689);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var slice = uncurryThis(''.slice);

// V8 ~ Chrome < 59, Safari < 14.1, FF < 55, Edge <=18
var CONVERSION_BUG = fails(function () {
  var count = 0;
  // eslint-disable-next-line es/no-typed-arrays -- safe
  new Int8Array(2).fill({ valueOf: function () { return count++; } });
  return count !== 1;
});

// `%TypedArray%.prototype.fill` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill
exportTypedArrayMethod('fill', function fill(value /* , start, end */) {
  var length = arguments.length;
  aTypedArray(this);
  var actualValue = slice(classof(this), 0, 3) === 'Big' ? toBigInt(value) : +value;
  return call($fill, this, actualValue, length > 1 ? arguments[1] : undefined, length > 2 ? arguments[2] : undefined);
}, CONVERSION_BUG);


/***/ }),

/***/ 96089:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $filter = (__webpack_require__(2960).filter);
var fromSpeciesAndList = __webpack_require__(20716);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.filter` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter
exportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {
  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  return fromSpeciesAndList(this, list);
});


/***/ }),

/***/ 48690:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $findIndex = (__webpack_require__(2960).findIndex);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.findIndex` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex
exportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {
  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 82:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $findLastIndex = (__webpack_require__(61969).findLastIndex);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.findLastIndex` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findlastindex
exportTypedArrayMethod('findLastIndex', function findLastIndex(predicate /* , thisArg */) {
  return $findLastIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 20522:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $findLast = (__webpack_require__(61969).findLast);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.findLast` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findlast
exportTypedArrayMethod('findLast', function findLast(predicate /* , thisArg */) {
  return $findLast(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 18539:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $find = (__webpack_require__(2960).find);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.find` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.find
exportTypedArrayMethod('find', function find(predicate /* , thisArg */) {
  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 29068:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var createTypedArrayConstructor = __webpack_require__(31158);

// `Float32Array` constructor
// https://tc39.es/ecma262/#sec-typedarray-objects
createTypedArrayConstructor('Float32', function (init) {
  return function Float32Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});


/***/ }),

/***/ 70292:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var createTypedArrayConstructor = __webpack_require__(31158);

// `Float64Array` constructor
// https://tc39.es/ecma262/#sec-typedarray-objects
createTypedArrayConstructor('Float64', function (init) {
  return function Float64Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});


/***/ }),

/***/ 45385:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $forEach = (__webpack_require__(2960).forEach);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.forEach` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach
exportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {
  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 59495:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = __webpack_require__(39800);
var exportTypedArrayStaticMethod = (__webpack_require__(54872).exportTypedArrayStaticMethod);
var typedArrayFrom = __webpack_require__(41304);

// `%TypedArray%.from` method
// https://tc39.es/ecma262/#sec-%typedarray%.from
exportTypedArrayStaticMethod('from', typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);


/***/ }),

/***/ 85552:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $includes = (__webpack_require__(84328).includes);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.includes` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes
exportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {
  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 31803:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $indexOf = (__webpack_require__(84328).indexOf);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.indexOf` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof
exportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {
  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 91565:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var fails = __webpack_require__(3689);
var uncurryThis = __webpack_require__(68844);
var ArrayBufferViewCore = __webpack_require__(54872);
var ArrayIterators = __webpack_require__(752);
var wellKnownSymbol = __webpack_require__(44201);

var ITERATOR = wellKnownSymbol('iterator');
var Uint8Array = global.Uint8Array;
var arrayValues = uncurryThis(ArrayIterators.values);
var arrayKeys = uncurryThis(ArrayIterators.keys);
var arrayEntries = uncurryThis(ArrayIterators.entries);
var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var TypedArrayPrototype = Uint8Array && Uint8Array.prototype;

var GENERIC = !fails(function () {
  TypedArrayPrototype[ITERATOR].call([1]);
});

var ITERATOR_IS_VALUES = !!TypedArrayPrototype
  && TypedArrayPrototype.values
  && TypedArrayPrototype[ITERATOR] === TypedArrayPrototype.values
  && TypedArrayPrototype.values.name === 'values';

var typedArrayValues = function values() {
  return arrayValues(aTypedArray(this));
};

// `%TypedArray%.prototype.entries` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries
exportTypedArrayMethod('entries', function entries() {
  return arrayEntries(aTypedArray(this));
}, GENERIC);
// `%TypedArray%.prototype.keys` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys
exportTypedArrayMethod('keys', function keys() {
  return arrayKeys(aTypedArray(this));
}, GENERIC);
// `%TypedArray%.prototype.values` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.values
exportTypedArrayMethod('values', typedArrayValues, GENERIC || !ITERATOR_IS_VALUES, { name: 'values' });
// `%TypedArray%.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator
exportTypedArrayMethod(ITERATOR, typedArrayValues, GENERIC || !ITERATOR_IS_VALUES, { name: 'values' });


/***/ }),

/***/ 67987:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var uncurryThis = __webpack_require__(68844);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var $join = uncurryThis([].join);

// `%TypedArray%.prototype.join` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.join
exportTypedArrayMethod('join', function join(separator) {
  return $join(aTypedArray(this), separator);
});


/***/ }),

/***/ 49365:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var apply = __webpack_require__(61735);
var $lastIndexOf = __webpack_require__(60953);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.lastIndexOf` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof
exportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {
  var length = arguments.length;
  return apply($lastIndexOf, aTypedArray(this), length > 1 ? [searchElement, arguments[1]] : [searchElement]);
});


/***/ }),

/***/ 80677:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $map = (__webpack_require__(2960).map);
var typedArraySpeciesConstructor = __webpack_require__(47338);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.map` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.map
exportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {
  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {
    return new (typedArraySpeciesConstructor(O))(length);
  });
});


/***/ }),

/***/ 41165:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $reduceRight = (__webpack_require__(88820).right);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.reduceRight` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright
exportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {
  var length = arguments.length;
  return $reduceRight(aTypedArray(this), callbackfn, length, length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 18118:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $reduce = (__webpack_require__(88820).left);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.reduce` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce
exportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {
  var length = arguments.length;
  return $reduce(aTypedArray(this), callbackfn, length, length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 71522:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var floor = Math.floor;

// `%TypedArray%.prototype.reverse` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse
exportTypedArrayMethod('reverse', function reverse() {
  var that = this;
  var length = aTypedArray(that).length;
  var middle = floor(length / 2);
  var index = 0;
  var value;
  while (index < middle) {
    value = that[index];
    that[index++] = that[--length];
    that[length] = value;
  } return that;
});


/***/ }),

/***/ 79976:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var call = __webpack_require__(22615);
var ArrayBufferViewCore = __webpack_require__(54872);
var lengthOfArrayLike = __webpack_require__(6310);
var toOffset = __webpack_require__(83250);
var toIndexedObject = __webpack_require__(90690);
var fails = __webpack_require__(3689);

var RangeError = global.RangeError;
var Int8Array = global.Int8Array;
var Int8ArrayPrototype = Int8Array && Int8Array.prototype;
var $set = Int8ArrayPrototype && Int8ArrayPrototype.set;
var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

var WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS = !fails(function () {
  // eslint-disable-next-line es/no-typed-arrays -- required for testing
  var array = new Uint8ClampedArray(2);
  call($set, array, { length: 1, 0: 3 }, 1);
  return array[1] !== 3;
});

// https://bugs.chromium.org/p/v8/issues/detail?id=11294 and other
var TO_OBJECT_BUG = WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS && ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS && fails(function () {
  var array = new Int8Array(2);
  array.set(1);
  array.set('2', 1);
  return array[0] !== 0 || array[1] !== 2;
});

// `%TypedArray%.prototype.set` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set
exportTypedArrayMethod('set', function set(arrayLike /* , offset */) {
  aTypedArray(this);
  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);
  var src = toIndexedObject(arrayLike);
  if (WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS) return call($set, this, src, offset);
  var length = this.length;
  var len = lengthOfArrayLike(src);
  var index = 0;
  if (len + offset > length) throw new RangeError('Wrong length');
  while (index < len) this[offset + index] = src[index++];
}, !WORKS_WITH_OBJECTS_AND_GENERIC_ON_TYPED_ARRAYS || TO_OBJECT_BUG);


/***/ }),

/***/ 4797:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var typedArraySpeciesConstructor = __webpack_require__(47338);
var fails = __webpack_require__(3689);
var arraySlice = __webpack_require__(96004);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

var FORCED = fails(function () {
  // eslint-disable-next-line es/no-typed-arrays -- required for testing
  new Int8Array(1).slice();
});

// `%TypedArray%.prototype.slice` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice
exportTypedArrayMethod('slice', function slice(start, end) {
  var list = arraySlice(aTypedArray(this), start, end);
  var C = typedArraySpeciesConstructor(this);
  var index = 0;
  var length = list.length;
  var result = new C(length);
  while (length > index) result[index] = list[index++];
  return result;
}, FORCED);


/***/ }),

/***/ 7300:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var $some = (__webpack_require__(2960).some);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

// `%TypedArray%.prototype.some` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.some
exportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {
  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);
});


/***/ }),

/***/ 93356:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var uncurryThis = __webpack_require__(46576);
var fails = __webpack_require__(3689);
var aCallable = __webpack_require__(10509);
var internalSort = __webpack_require__(50382);
var ArrayBufferViewCore = __webpack_require__(54872);
var FF = __webpack_require__(97365);
var IE_OR_EDGE = __webpack_require__(37298);
var V8 = __webpack_require__(3615);
var WEBKIT = __webpack_require__(27922);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var Uint16Array = global.Uint16Array;
var nativeSort = Uint16Array && uncurryThis(Uint16Array.prototype.sort);

// WebKit
var ACCEPT_INCORRECT_ARGUMENTS = !!nativeSort && !(fails(function () {
  nativeSort(new Uint16Array(2), null);
}) && fails(function () {
  nativeSort(new Uint16Array(2), {});
}));

var STABLE_SORT = !!nativeSort && !fails(function () {
  // feature detection can be too slow, so check engines versions
  if (V8) return V8 < 74;
  if (FF) return FF < 67;
  if (IE_OR_EDGE) return true;
  if (WEBKIT) return WEBKIT < 602;

  var array = new Uint16Array(516);
  var expected = Array(516);
  var index, mod;

  for (index = 0; index < 516; index++) {
    mod = index % 4;
    array[index] = 515 - index;
    expected[index] = index - 2 * mod + 3;
  }

  nativeSort(array, function (a, b) {
    return (a / 4 | 0) - (b / 4 | 0);
  });

  for (index = 0; index < 516; index++) {
    if (array[index] !== expected[index]) return true;
  }
});

var getSortCompare = function (comparefn) {
  return function (x, y) {
    if (comparefn !== undefined) return +comparefn(x, y) || 0;
    // eslint-disable-next-line no-self-compare -- NaN check
    if (y !== y) return -1;
    // eslint-disable-next-line no-self-compare -- NaN check
    if (x !== x) return 1;
    if (x === 0 && y === 0) return 1 / x > 0 && 1 / y < 0 ? 1 : -1;
    return x > y;
  };
};

// `%TypedArray%.prototype.sort` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort
exportTypedArrayMethod('sort', function sort(comparefn) {
  if (comparefn !== undefined) aCallable(comparefn);
  if (STABLE_SORT) return nativeSort(this, comparefn);

  return internalSort(aTypedArray(this), getSortCompare(comparefn));
}, !STABLE_SORT || ACCEPT_INCORRECT_ARGUMENTS);


/***/ }),

/***/ 99724:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var apply = __webpack_require__(61735);
var ArrayBufferViewCore = __webpack_require__(54872);
var fails = __webpack_require__(3689);
var arraySlice = __webpack_require__(96004);

var Int8Array = global.Int8Array;
var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var $toLocaleString = [].toLocaleString;

// iOS Safari 6.x fails here
var TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {
  $toLocaleString.call(new Int8Array(1));
});

var FORCED = fails(function () {
  return [1, 2].toLocaleString() !== new Int8Array([1, 2]).toLocaleString();
}) || !fails(function () {
  Int8Array.prototype.toLocaleString.call([1, 2]);
});

// `%TypedArray%.prototype.toLocaleString` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring
exportTypedArrayMethod('toLocaleString', function toLocaleString() {
  return apply(
    $toLocaleString,
    TO_LOCALE_STRING_BUG ? arraySlice(aTypedArray(this)) : aTypedArray(this),
    arraySlice(arguments)
  );
}, FORCED);


/***/ }),

/***/ 24224:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var arrayToReversed = __webpack_require__(26166);
var ArrayBufferViewCore = __webpack_require__(54872);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;

// `%TypedArray%.prototype.toReversed` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.toreversed
exportTypedArrayMethod('toReversed', function toReversed() {
  return arrayToReversed(aTypedArray(this), getTypedArrayConstructor(this));
});


/***/ }),

/***/ 61121:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var ArrayBufferViewCore = __webpack_require__(54872);
var uncurryThis = __webpack_require__(68844);
var aCallable = __webpack_require__(10509);
var arrayFromConstructorAndList = __webpack_require__(59976);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
var sort = uncurryThis(ArrayBufferViewCore.TypedArrayPrototype.sort);

// `%TypedArray%.prototype.toSorted` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tosorted
exportTypedArrayMethod('toSorted', function toSorted(compareFn) {
  if (compareFn !== undefined) aCallable(compareFn);
  var O = aTypedArray(this);
  var A = arrayFromConstructorAndList(getTypedArrayConstructor(O), O);
  return sort(A, compareFn);
});


/***/ }),

/***/ 99901:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var exportTypedArrayMethod = (__webpack_require__(54872).exportTypedArrayMethod);
var fails = __webpack_require__(3689);
var global = __webpack_require__(19037);
var uncurryThis = __webpack_require__(68844);

var Uint8Array = global.Uint8Array;
var Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};
var arrayToString = [].toString;
var join = uncurryThis([].join);

if (fails(function () { arrayToString.call({}); })) {
  arrayToString = function toString() {
    return join(this);
  };
}

var IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString !== arrayToString;

// `%TypedArray%.prototype.toString` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tostring
exportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);


/***/ }),

/***/ 28607:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var createTypedArrayConstructor = __webpack_require__(31158);

// `Uint8Array` constructor
// https://tc39.es/ecma262/#sec-typedarray-objects
createTypedArrayConstructor('Uint8', function (init) {
  return function Uint8Array(data, byteOffset, length) {
    return init(this, data, byteOffset, length);
  };
});


/***/ }),

/***/ 37133:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var arrayWith = __webpack_require__(16134);
var ArrayBufferViewCore = __webpack_require__(54872);
var isBigIntArray = __webpack_require__(9401);
var toIntegerOrInfinity = __webpack_require__(68700);
var toBigInt = __webpack_require__(71530);

var aTypedArray = ArrayBufferViewCore.aTypedArray;
var getTypedArrayConstructor = ArrayBufferViewCore.getTypedArrayConstructor;
var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;

var PROPER_ORDER = !!function () {
  try {
    // eslint-disable-next-line no-throw-literal, es/no-typed-arrays, es/no-array-prototype-with -- required for testing
    new Int8Array(1)['with'](2, { valueOf: function () { throw 8; } });
  } catch (error) {
    // some early implementations, like WebKit, does not follow the final semantic
    // https://github.com/tc39/proposal-change-array-by-copy/pull/86
    return error === 8;
  }
}();

// `%TypedArray%.prototype.with` method
// https://tc39.es/ecma262/#sec-%typedarray%.prototype.with
exportTypedArrayMethod('with', { 'with': function (index, value) {
  var O = aTypedArray(this);
  var relativeIndex = toIntegerOrInfinity(index);
  var actualValue = isBigIntArray(O) ? toBigInt(value) : +value;
  return arrayWith(O, getTypedArrayConstructor(O), relativeIndex, actualValue);
} }['with'], !PROPER_ORDER);


/***/ }),

/***/ 45164:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var FREEZING = __webpack_require__(71594);
var global = __webpack_require__(19037);
var uncurryThis = __webpack_require__(68844);
var defineBuiltIns = __webpack_require__(6045);
var InternalMetadataModule = __webpack_require__(45375);
var collection = __webpack_require__(20319);
var collectionWeak = __webpack_require__(70637);
var isObject = __webpack_require__(48999);
var enforceInternalState = (__webpack_require__(618).enforce);
var fails = __webpack_require__(3689);
var NATIVE_WEAK_MAP = __webpack_require__(59834);

var $Object = Object;
// eslint-disable-next-line es/no-array-isarray -- safe
var isArray = Array.isArray;
// eslint-disable-next-line es/no-object-isextensible -- safe
var isExtensible = $Object.isExtensible;
// eslint-disable-next-line es/no-object-isfrozen -- safe
var isFrozen = $Object.isFrozen;
// eslint-disable-next-line es/no-object-issealed -- safe
var isSealed = $Object.isSealed;
// eslint-disable-next-line es/no-object-freeze -- safe
var freeze = $Object.freeze;
// eslint-disable-next-line es/no-object-seal -- safe
var seal = $Object.seal;

var IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;
var InternalWeakMap;

var wrapper = function (init) {
  return function WeakMap() {
    return init(this, arguments.length ? arguments[0] : undefined);
  };
};

// `WeakMap` constructor
// https://tc39.es/ecma262/#sec-weakmap-constructor
var $WeakMap = collection('WeakMap', wrapper, collectionWeak);
var WeakMapPrototype = $WeakMap.prototype;
var nativeSet = uncurryThis(WeakMapPrototype.set);

// Chakra Edge bug: adding frozen arrays to WeakMap unfreeze them
var hasMSEdgeFreezingBug = function () {
  return FREEZING && fails(function () {
    var frozenArray = freeze([]);
    nativeSet(new $WeakMap(), frozenArray, 1);
    return !isFrozen(frozenArray);
  });
};

// IE11 WeakMap frozen keys fix
// We can't use feature detection because it crash some old IE builds
// https://github.com/zloirock/core-js/issues/485
if (NATIVE_WEAK_MAP) if (IS_IE11) {
  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);
  InternalMetadataModule.enable();
  var nativeDelete = uncurryThis(WeakMapPrototype['delete']);
  var nativeHas = uncurryThis(WeakMapPrototype.has);
  var nativeGet = uncurryThis(WeakMapPrototype.get);
  defineBuiltIns(WeakMapPrototype, {
    'delete': function (key) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceInternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        return nativeDelete(this, key) || state.frozen['delete'](key);
      } return nativeDelete(this, key);
    },
    has: function has(key) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceInternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        return nativeHas(this, key) || state.frozen.has(key);
      } return nativeHas(this, key);
    },
    get: function get(key) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceInternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        return nativeHas(this, key) ? nativeGet(this, key) : state.frozen.get(key);
      } return nativeGet(this, key);
    },
    set: function set(key, value) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceInternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        nativeHas(this, key) ? nativeSet(this, key, value) : state.frozen.set(key, value);
      } else nativeSet(this, key, value);
      return this;
    }
  });
// Chakra Edge frozen keys fix
} else if (hasMSEdgeFreezingBug()) {
  defineBuiltIns(WeakMapPrototype, {
    set: function set(key, value) {
      var arrayIntegrityLevel;
      if (isArray(key)) {
        if (isFrozen(key)) arrayIntegrityLevel = freeze;
        else if (isSealed(key)) arrayIntegrityLevel = seal;
      }
      nativeSet(this, key, value);
      if (arrayIntegrityLevel) arrayIntegrityLevel(key);
      return this;
    }
  });
}


/***/ }),

/***/ 51090:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(45164);


/***/ }),

/***/ 87884:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var collection = __webpack_require__(20319);
var collectionWeak = __webpack_require__(70637);

// `WeakSet` constructor
// https://tc39.es/ecma262/#sec-weakset-constructor
collection('WeakSet', function (init) {
  return function WeakSet() { return init(this, arguments.length ? arguments[0] : undefined); };
}, collectionWeak);


/***/ }),

/***/ 50414:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(87884);


/***/ }),

/***/ 47522:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var DOMIterables = __webpack_require__(66338);
var DOMTokenListPrototype = __webpack_require__(33265);
var forEach = __webpack_require__(57612);
var createNonEnumerableProperty = __webpack_require__(75773);

var handlePrototype = function (CollectionPrototype) {
  // some Chrome versions have non-configurable methods on DOMTokenList
  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {
    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);
  } catch (error) {
    CollectionPrototype.forEach = forEach;
  }
};

for (var COLLECTION_NAME in DOMIterables) {
  if (DOMIterables[COLLECTION_NAME]) {
    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);
  }
}

handlePrototype(DOMTokenListPrototype);


/***/ }),

/***/ 76265:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(19037);
var DOMIterables = __webpack_require__(66338);
var DOMTokenListPrototype = __webpack_require__(33265);
var ArrayIteratorMethods = __webpack_require__(752);
var createNonEnumerableProperty = __webpack_require__(75773);
var setToStringTag = __webpack_require__(55997);
var wellKnownSymbol = __webpack_require__(44201);

var ITERATOR = wellKnownSymbol('iterator');
var ArrayValues = ArrayIteratorMethods.values;

var handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {
  if (CollectionPrototype) {
    // some Chrome versions have non-configurable methods on DOMTokenList
    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {
      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);
    } catch (error) {
      CollectionPrototype[ITERATOR] = ArrayValues;
    }
    setToStringTag(CollectionPrototype, COLLECTION_NAME, true);
    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {
      // some Chrome versions have non-configurable methods on DOMTokenList
      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {
        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);
      } catch (error) {
        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];
      }
    }
  }
};

for (var COLLECTION_NAME in DOMIterables) {
  handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype, COLLECTION_NAME);
}

handlePrototype(DOMTokenListPrototype, 'DOMTokenList');


/***/ }),

/***/ 97337:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var tryNodeRequire = __webpack_require__(21905);
var getBuiltIn = __webpack_require__(76058);
var fails = __webpack_require__(3689);
var create = __webpack_require__(25391);
var createPropertyDescriptor = __webpack_require__(75684);
var defineProperty = (__webpack_require__(72560).f);
var defineBuiltIn = __webpack_require__(11880);
var defineBuiltInAccessor = __webpack_require__(62148);
var hasOwn = __webpack_require__(36812);
var anInstance = __webpack_require__(767);
var anObject = __webpack_require__(85027);
var errorToString = __webpack_require__(20445);
var normalizeStringArgument = __webpack_require__(13841);
var DOMExceptionConstants = __webpack_require__(37136);
var clearErrorStack = __webpack_require__(56610);
var InternalStateModule = __webpack_require__(618);
var DESCRIPTORS = __webpack_require__(67697);
var IS_PURE = __webpack_require__(53931);

var DOM_EXCEPTION = 'DOMException';
var DATA_CLONE_ERR = 'DATA_CLONE_ERR';
var Error = getBuiltIn('Error');
// NodeJS < 17.0 does not expose `DOMException` to global
var NativeDOMException = getBuiltIn(DOM_EXCEPTION) || (function () {
  try {
    // NodeJS < 15.0 does not expose `MessageChannel` to global
    var MessageChannel = getBuiltIn('MessageChannel') || tryNodeRequire('worker_threads').MessageChannel;
    // eslint-disable-next-line es/no-weak-map, unicorn/require-post-message-target-origin -- safe
    new MessageChannel().port1.postMessage(new WeakMap());
  } catch (error) {
    if (error.name === DATA_CLONE_ERR && error.code === 25) return error.constructor;
  }
})();
var NativeDOMExceptionPrototype = NativeDOMException && NativeDOMException.prototype;
var ErrorPrototype = Error.prototype;
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(DOM_EXCEPTION);
var HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);

var codeFor = function (name) {
  return hasOwn(DOMExceptionConstants, name) && DOMExceptionConstants[name].m ? DOMExceptionConstants[name].c : 0;
};

var $DOMException = function DOMException() {
  anInstance(this, DOMExceptionPrototype);
  var argumentsLength = arguments.length;
  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);
  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');
  var code = codeFor(name);
  setInternalState(this, {
    type: DOM_EXCEPTION,
    name: name,
    message: message,
    code: code
  });
  if (!DESCRIPTORS) {
    this.name = name;
    this.message = message;
    this.code = code;
  }
  if (HAS_STACK) {
    var error = new Error(message);
    error.name = DOM_EXCEPTION;
    defineProperty(this, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));
  }
};

var DOMExceptionPrototype = $DOMException.prototype = create(ErrorPrototype);

var createGetterDescriptor = function (get) {
  return { enumerable: true, configurable: true, get: get };
};

var getterFor = function (key) {
  return createGetterDescriptor(function () {
    return getInternalState(this)[key];
  });
};

if (DESCRIPTORS) {
  // `DOMException.prototype.code` getter
  defineBuiltInAccessor(DOMExceptionPrototype, 'code', getterFor('code'));
  // `DOMException.prototype.message` getter
  defineBuiltInAccessor(DOMExceptionPrototype, 'message', getterFor('message'));
  // `DOMException.prototype.name` getter
  defineBuiltInAccessor(DOMExceptionPrototype, 'name', getterFor('name'));
}

defineProperty(DOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, $DOMException));

// FF36- DOMException is a function, but can't be constructed
var INCORRECT_CONSTRUCTOR = fails(function () {
  return !(new NativeDOMException() instanceof Error);
});

// Safari 10.1 / Chrome 32- / IE8- DOMException.prototype.toString bugs
var INCORRECT_TO_STRING = INCORRECT_CONSTRUCTOR || fails(function () {
  return ErrorPrototype.toString !== errorToString || String(new NativeDOMException(1, 2)) !== '2: 1';
});

// Deno 1.6.3- DOMException.prototype.code just missed
var INCORRECT_CODE = INCORRECT_CONSTRUCTOR || fails(function () {
  return new NativeDOMException(1, 'DataCloneError').code !== 25;
});

// Deno 1.6.3- DOMException constants just missed
var MISSED_CONSTANTS = INCORRECT_CONSTRUCTOR
  || NativeDOMException[DATA_CLONE_ERR] !== 25
  || NativeDOMExceptionPrototype[DATA_CLONE_ERR] !== 25;

var FORCED_CONSTRUCTOR = IS_PURE ? INCORRECT_TO_STRING || INCORRECT_CODE || MISSED_CONSTANTS : INCORRECT_CONSTRUCTOR;

// `DOMException` constructor
// https://webidl.spec.whatwg.org/#idl-DOMException
$({ global: true, constructor: true, forced: FORCED_CONSTRUCTOR }, {
  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException
});

var PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);
var PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;

if (INCORRECT_TO_STRING && (IS_PURE || NativeDOMException === PolyfilledDOMException)) {
  defineBuiltIn(PolyfilledDOMExceptionPrototype, 'toString', errorToString);
}

if (INCORRECT_CODE && DESCRIPTORS && NativeDOMException === PolyfilledDOMException) {
  defineBuiltInAccessor(PolyfilledDOMExceptionPrototype, 'code', createGetterDescriptor(function () {
    return codeFor(anObject(this).name);
  }));
}

// `DOMException` constants
for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {
  var constant = DOMExceptionConstants[key];
  var constantName = constant.s;
  var descriptor = createPropertyDescriptor(6, constant.c);
  if (!hasOwn(PolyfilledDOMException, constantName)) {
    defineProperty(PolyfilledDOMException, constantName, descriptor);
  }
  if (!hasOwn(PolyfilledDOMExceptionPrototype, constantName)) {
    defineProperty(PolyfilledDOMExceptionPrototype, constantName, descriptor);
  }
}


/***/ }),

/***/ 13429:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var getBuiltIn = __webpack_require__(76058);
var createPropertyDescriptor = __webpack_require__(75684);
var defineProperty = (__webpack_require__(72560).f);
var hasOwn = __webpack_require__(36812);
var anInstance = __webpack_require__(767);
var inheritIfRequired = __webpack_require__(33457);
var normalizeStringArgument = __webpack_require__(13841);
var DOMExceptionConstants = __webpack_require__(37136);
var clearErrorStack = __webpack_require__(56610);
var DESCRIPTORS = __webpack_require__(67697);
var IS_PURE = __webpack_require__(53931);

var DOM_EXCEPTION = 'DOMException';
var Error = getBuiltIn('Error');
var NativeDOMException = getBuiltIn(DOM_EXCEPTION);

var $DOMException = function DOMException() {
  anInstance(this, DOMExceptionPrototype);
  var argumentsLength = arguments.length;
  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);
  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');
  var that = new NativeDOMException(message, name);
  var error = new Error(message);
  error.name = DOM_EXCEPTION;
  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));
  inheritIfRequired(that, this, $DOMException);
  return that;
};

var DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;

var ERROR_HAS_STACK = 'stack' in new Error(DOM_EXCEPTION);
var DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(global, DOM_EXCEPTION);

// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it
// https://github.com/Jarred-Sumner/bun/issues/399
var BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);

var FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;

// `DOMException` constructor patch for `.stack` where it's required
// https://webidl.spec.whatwg.org/#es-DOMException-specialness
$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic
  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException
});

var PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);
var PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;

if (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {
  if (!IS_PURE) {
    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));
  }

  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {
    var constant = DOMExceptionConstants[key];
    var constantName = constant.s;
    if (!hasOwn(PolyfilledDOMException, constantName)) {
      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));
    }
  }
}


/***/ }),

/***/ 37462:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var getBuiltIn = __webpack_require__(76058);
var setToStringTag = __webpack_require__(55997);

var DOM_EXCEPTION = 'DOMException';

// `DOMException.prototype[@@toStringTag]` property
setToStringTag(getBuiltIn(DOM_EXCEPTION), DOM_EXCEPTION);


/***/ }),

/***/ 3650:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var defineBuiltInAccessor = __webpack_require__(62148);
var DESCRIPTORS = __webpack_require__(67697);

var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;
var INCORRECT_VALUE = global.self !== global;

// `self` getter
// https://html.spec.whatwg.org/multipage/window-object.html#dom-self
try {
  if (DESCRIPTORS) {
    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
    var descriptor = Object.getOwnPropertyDescriptor(global, 'self');
    // some engines have `self`, but with incorrect descriptor
    // https://github.com/denoland/deno/issues/15765
    if (INCORRECT_VALUE || !descriptor || !descriptor.get || !descriptor.enumerable) {
      defineBuiltInAccessor(global, 'self', {
        get: function self() {
          return global;
        },
        set: function self(value) {
          if (this !== global) throw new $TypeError('Illegal invocation');
          defineProperty(global, 'self', {
            value: value,
            writable: true,
            configurable: true,
            enumerable: true
          });
        },
        configurable: true,
        enumerable: true
      });
    }
  } else $({ global: true, simple: true, forced: INCORRECT_VALUE }, {
    self: global
  });
} catch (error) { /* empty */ }


/***/ }),

/***/ 25564:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var IS_PURE = __webpack_require__(53931);
var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var getBuiltIn = __webpack_require__(76058);
var uncurryThis = __webpack_require__(68844);
var fails = __webpack_require__(3689);
var uid = __webpack_require__(14630);
var isCallable = __webpack_require__(69985);
var isConstructor = __webpack_require__(19429);
var isNullOrUndefined = __webpack_require__(981);
var isObject = __webpack_require__(48999);
var isSymbol = __webpack_require__(30734);
var iterate = __webpack_require__(18734);
var anObject = __webpack_require__(85027);
var classof = __webpack_require__(50926);
var hasOwn = __webpack_require__(36812);
var createProperty = __webpack_require__(76522);
var createNonEnumerableProperty = __webpack_require__(75773);
var lengthOfArrayLike = __webpack_require__(6310);
var validateArgumentsLength = __webpack_require__(21500);
var getRegExpFlags = __webpack_require__(63477);
var MapHelpers = __webpack_require__(83914);
var SetHelpers = __webpack_require__(61034);
var setIterate = __webpack_require__(48774);
var detachTransferable = __webpack_require__(21420);
var ERROR_STACK_INSTALLABLE = __webpack_require__(49599);
var PROPER_STRUCTURED_CLONE_TRANSFER = __webpack_require__(63514);

var Object = global.Object;
var Array = global.Array;
var Date = global.Date;
var Error = global.Error;
var TypeError = global.TypeError;
var PerformanceMark = global.PerformanceMark;
var DOMException = getBuiltIn('DOMException');
var Map = MapHelpers.Map;
var mapHas = MapHelpers.has;
var mapGet = MapHelpers.get;
var mapSet = MapHelpers.set;
var Set = SetHelpers.Set;
var setAdd = SetHelpers.add;
var setHas = SetHelpers.has;
var objectKeys = getBuiltIn('Object', 'keys');
var push = uncurryThis([].push);
var thisBooleanValue = uncurryThis(true.valueOf);
var thisNumberValue = uncurryThis(1.0.valueOf);
var thisStringValue = uncurryThis(''.valueOf);
var thisTimeValue = uncurryThis(Date.prototype.getTime);
var PERFORMANCE_MARK = uid('structuredClone');
var DATA_CLONE_ERROR = 'DataCloneError';
var TRANSFERRING = 'Transferring';

var checkBasicSemantic = function (structuredCloneImplementation) {
  return !fails(function () {
    var set1 = new global.Set([7]);
    var set2 = structuredCloneImplementation(set1);
    var number = structuredCloneImplementation(Object(7));
    return set2 === set1 || !set2.has(7) || !isObject(number) || +number !== 7;
  }) && structuredCloneImplementation;
};

var checkErrorsCloning = function (structuredCloneImplementation, $Error) {
  return !fails(function () {
    var error = new $Error();
    var test = structuredCloneImplementation({ a: error, b: error });
    return !(test && test.a === test.b && test.a instanceof $Error && test.a.stack === error.stack);
  });
};

// https://github.com/whatwg/html/pull/5749
var checkNewErrorsCloningSemantic = function (structuredCloneImplementation) {
  return !fails(function () {
    var test = structuredCloneImplementation(new global.AggregateError([1], PERFORMANCE_MARK, { cause: 3 }));
    return test.name !== 'AggregateError' || test.errors[0] !== 1 || test.message !== PERFORMANCE_MARK || test.cause !== 3;
  });
};

// FF94+, Safari 15.4+, Chrome 98+, NodeJS 17.0+, Deno 1.13+
// FF<103 and Safari implementations can't clone errors
// https://bugzilla.mozilla.org/show_bug.cgi?id=1556604
// FF103 can clone errors, but `.stack` of clone is an empty string
// https://bugzilla.mozilla.org/show_bug.cgi?id=1778762
// FF104+ fixed it on usual errors, but not on DOMExceptions
// https://bugzilla.mozilla.org/show_bug.cgi?id=1777321
// Chrome <102 returns `null` if cloned object contains multiple references to one error
// https://bugs.chromium.org/p/v8/issues/detail?id=12542
// NodeJS implementation can't clone DOMExceptions
// https://github.com/nodejs/node/issues/41038
// only FF103+ supports new (html/5749) error cloning semantic
var nativeStructuredClone = global.structuredClone;

var FORCED_REPLACEMENT = IS_PURE
  || !checkErrorsCloning(nativeStructuredClone, Error)
  || !checkErrorsCloning(nativeStructuredClone, DOMException)
  || !checkNewErrorsCloningSemantic(nativeStructuredClone);

// Chrome 82+, Safari 14.1+, Deno 1.11+
// Chrome 78-81 implementation swaps `.name` and `.message` of cloned `DOMException`
// Chrome returns `null` if cloned object contains multiple references to one error
// Safari 14.1 implementation doesn't clone some `RegExp` flags, so requires a workaround
// Safari implementation can't clone errors
// Deno 1.2-1.10 implementations too naive
// NodeJS 16.0+ does not have `PerformanceMark` constructor
// NodeJS <17.2 structured cloning implementation from `performance.mark` is too naive
// and can't clone, for example, `RegExp` or some boxed primitives
// https://github.com/nodejs/node/issues/40840
// no one of those implementations supports new (html/5749) error cloning semantic
var structuredCloneFromMark = !nativeStructuredClone && checkBasicSemantic(function (value) {
  return new PerformanceMark(PERFORMANCE_MARK, { detail: value }).detail;
});

var nativeRestrictedStructuredClone = checkBasicSemantic(nativeStructuredClone) || structuredCloneFromMark;

var throwUncloneable = function (type) {
  throw new DOMException('Uncloneable type: ' + type, DATA_CLONE_ERROR);
};

var throwUnpolyfillable = function (type, action) {
  throw new DOMException((action || 'Cloning') + ' of ' + type + ' cannot be properly polyfilled in this engine', DATA_CLONE_ERROR);
};

var tryNativeRestrictedStructuredClone = function (value, type) {
  if (!nativeRestrictedStructuredClone) throwUnpolyfillable(type);
  return nativeRestrictedStructuredClone(value);
};

var createDataTransfer = function () {
  var dataTransfer;
  try {
    dataTransfer = new global.DataTransfer();
  } catch (error) {
    try {
      dataTransfer = new global.ClipboardEvent('').clipboardData;
    } catch (error2) { /* empty */ }
  }
  return dataTransfer && dataTransfer.items && dataTransfer.files ? dataTransfer : null;
};

var cloneBuffer = function (value, map, $type) {
  if (mapHas(map, value)) return mapGet(map, value);

  var type = $type || classof(value);
  var clone, length, options, source, target, i;

  if (type === 'SharedArrayBuffer') {
    if (nativeRestrictedStructuredClone) clone = nativeRestrictedStructuredClone(value);
    // SharedArrayBuffer should use shared memory, we can't polyfill it, so return the original
    else clone = value;
  } else {
    var DataView = global.DataView;

    // `ArrayBuffer#slice` is not available in IE10
    // `ArrayBuffer#slice` and `DataView` are not available in old FF
    if (!DataView && !isCallable(value.slice)) throwUnpolyfillable('ArrayBuffer');
    // detached buffers throws in `DataView` and `.slice`
    try {
      if (isCallable(value.slice) && !value.resizable) {
        clone = value.slice(0);
      } else {
        length = value.byteLength;
        options = 'maxByteLength' in value ? { maxByteLength: value.maxByteLength } : undefined;
        // eslint-disable-next-line es/no-resizable-and-growable-arraybuffers -- safe
        clone = new ArrayBuffer(length, options);
        source = new DataView(value);
        target = new DataView(clone);
        for (i = 0; i < length; i++) {
          target.setUint8(i, source.getUint8(i));
        }
      }
    } catch (error) {
      throw new DOMException('ArrayBuffer is detached', DATA_CLONE_ERROR);
    }
  }

  mapSet(map, value, clone);

  return clone;
};

var cloneView = function (value, type, offset, length, map) {
  var C = global[type];
  // in some old engines like Safari 9, typeof C is 'object'
  // on Uint8ClampedArray or some other constructors
  if (!isObject(C)) throwUnpolyfillable(type);
  return new C(cloneBuffer(value.buffer, map), offset, length);
};

var structuredCloneInternal = function (value, map) {
  if (isSymbol(value)) throwUncloneable('Symbol');
  if (!isObject(value)) return value;
  // effectively preserves circular references
  if (map) {
    if (mapHas(map, value)) return mapGet(map, value);
  } else map = new Map();

  var type = classof(value);
  var C, name, cloned, dataTransfer, i, length, keys, key;

  switch (type) {
    case 'Array':
      cloned = Array(lengthOfArrayLike(value));
      break;
    case 'Object':
      cloned = {};
      break;
    case 'Map':
      cloned = new Map();
      break;
    case 'Set':
      cloned = new Set();
      break;
    case 'RegExp':
      // in this block because of a Safari 14.1 bug
      // old FF does not clone regexes passed to the constructor, so get the source and flags directly
      cloned = new RegExp(value.source, getRegExpFlags(value));
      break;
    case 'Error':
      name = value.name;
      switch (name) {
        case 'AggregateError':
          cloned = new (getBuiltIn(name))([]);
          break;
        case 'EvalError':
        case 'RangeError':
        case 'ReferenceError':
        case 'SuppressedError':
        case 'SyntaxError':
        case 'TypeError':
        case 'URIError':
          cloned = new (getBuiltIn(name))();
          break;
        case 'CompileError':
        case 'LinkError':
        case 'RuntimeError':
          cloned = new (getBuiltIn('WebAssembly', name))();
          break;
        default:
          cloned = new Error();
      }
      break;
    case 'DOMException':
      cloned = new DOMException(value.message, value.name);
      break;
    case 'ArrayBuffer':
    case 'SharedArrayBuffer':
      cloned = cloneBuffer(value, map, type);
      break;
    case 'DataView':
    case 'Int8Array':
    case 'Uint8Array':
    case 'Uint8ClampedArray':
    case 'Int16Array':
    case 'Uint16Array':
    case 'Int32Array':
    case 'Uint32Array':
    case 'Float16Array':
    case 'Float32Array':
    case 'Float64Array':
    case 'BigInt64Array':
    case 'BigUint64Array':
      length = type === 'DataView' ? value.byteLength : value.length;
      cloned = cloneView(value, type, value.byteOffset, length, map);
      break;
    case 'DOMQuad':
      try {
        cloned = new DOMQuad(
          structuredCloneInternal(value.p1, map),
          structuredCloneInternal(value.p2, map),
          structuredCloneInternal(value.p3, map),
          structuredCloneInternal(value.p4, map)
        );
      } catch (error) {
        cloned = tryNativeRestrictedStructuredClone(value, type);
      }
      break;
    case 'File':
      if (nativeRestrictedStructuredClone) try {
        cloned = nativeRestrictedStructuredClone(value);
        // NodeJS 20.0.0 bug, https://github.com/nodejs/node/issues/47612
        if (classof(cloned) !== type) cloned = undefined;
      } catch (error) { /* empty */ }
      if (!cloned) try {
        cloned = new File([value], value.name, value);
      } catch (error) { /* empty */ }
      if (!cloned) throwUnpolyfillable(type);
      break;
    case 'FileList':
      dataTransfer = createDataTransfer();
      if (dataTransfer) {
        for (i = 0, length = lengthOfArrayLike(value); i < length; i++) {
          dataTransfer.items.add(structuredCloneInternal(value[i], map));
        }
        cloned = dataTransfer.files;
      } else cloned = tryNativeRestrictedStructuredClone(value, type);
      break;
    case 'ImageData':
      // Safari 9 ImageData is a constructor, but typeof ImageData is 'object'
      try {
        cloned = new ImageData(
          structuredCloneInternal(value.data, map),
          value.width,
          value.height,
          { colorSpace: value.colorSpace }
        );
      } catch (error) {
        cloned = tryNativeRestrictedStructuredClone(value, type);
      } break;
    default:
      if (nativeRestrictedStructuredClone) {
        cloned = nativeRestrictedStructuredClone(value);
      } else switch (type) {
        case 'BigInt':
          // can be a 3rd party polyfill
          cloned = Object(value.valueOf());
          break;
        case 'Boolean':
          cloned = Object(thisBooleanValue(value));
          break;
        case 'Number':
          cloned = Object(thisNumberValue(value));
          break;
        case 'String':
          cloned = Object(thisStringValue(value));
          break;
        case 'Date':
          cloned = new Date(thisTimeValue(value));
          break;
        case 'Blob':
          try {
            cloned = value.slice(0, value.size, value.type);
          } catch (error) {
            throwUnpolyfillable(type);
          } break;
        case 'DOMPoint':
        case 'DOMPointReadOnly':
          C = global[type];
          try {
            cloned = C.fromPoint
              ? C.fromPoint(value)
              : new C(value.x, value.y, value.z, value.w);
          } catch (error) {
            throwUnpolyfillable(type);
          } break;
        case 'DOMRect':
        case 'DOMRectReadOnly':
          C = global[type];
          try {
            cloned = C.fromRect
              ? C.fromRect(value)
              : new C(value.x, value.y, value.width, value.height);
          } catch (error) {
            throwUnpolyfillable(type);
          } break;
        case 'DOMMatrix':
        case 'DOMMatrixReadOnly':
          C = global[type];
          try {
            cloned = C.fromMatrix
              ? C.fromMatrix(value)
              : new C(value);
          } catch (error) {
            throwUnpolyfillable(type);
          } break;
        case 'AudioData':
        case 'VideoFrame':
          if (!isCallable(value.clone)) throwUnpolyfillable(type);
          try {
            cloned = value.clone();
          } catch (error) {
            throwUncloneable(type);
          } break;
        case 'CropTarget':
        case 'CryptoKey':
        case 'FileSystemDirectoryHandle':
        case 'FileSystemFileHandle':
        case 'FileSystemHandle':
        case 'GPUCompilationInfo':
        case 'GPUCompilationMessage':
        case 'ImageBitmap':
        case 'RTCCertificate':
        case 'WebAssembly.Module':
          throwUnpolyfillable(type);
          // break omitted
        default:
          throwUncloneable(type);
      }
  }

  mapSet(map, value, cloned);

  switch (type) {
    case 'Array':
    case 'Object':
      keys = objectKeys(value);
      for (i = 0, length = lengthOfArrayLike(keys); i < length; i++) {
        key = keys[i];
        createProperty(cloned, key, structuredCloneInternal(value[key], map));
      } break;
    case 'Map':
      value.forEach(function (v, k) {
        mapSet(cloned, structuredCloneInternal(k, map), structuredCloneInternal(v, map));
      });
      break;
    case 'Set':
      value.forEach(function (v) {
        setAdd(cloned, structuredCloneInternal(v, map));
      });
      break;
    case 'Error':
      createNonEnumerableProperty(cloned, 'message', structuredCloneInternal(value.message, map));
      if (hasOwn(value, 'cause')) {
        createNonEnumerableProperty(cloned, 'cause', structuredCloneInternal(value.cause, map));
      }
      if (name === 'AggregateError') {
        cloned.errors = structuredCloneInternal(value.errors, map);
      } else if (name === 'SuppressedError') {
        cloned.error = structuredCloneInternal(value.error, map);
        cloned.suppressed = structuredCloneInternal(value.suppressed, map);
      } // break omitted
    case 'DOMException':
      if (ERROR_STACK_INSTALLABLE) {
        createNonEnumerableProperty(cloned, 'stack', structuredCloneInternal(value.stack, map));
      }
  }

  return cloned;
};

var tryToTransfer = function (rawTransfer, map) {
  if (!isObject(rawTransfer)) throw new TypeError('Transfer option cannot be converted to a sequence');

  var transfer = [];

  iterate(rawTransfer, function (value) {
    push(transfer, anObject(value));
  });

  var i = 0;
  var length = lengthOfArrayLike(transfer);
  var buffers = new Set();
  var value, type, C, transferred, canvas, context;

  while (i < length) {
    value = transfer[i++];

    type = classof(value);

    if (type === 'ArrayBuffer' ? setHas(buffers, value) : mapHas(map, value)) {
      throw new DOMException('Duplicate transferable', DATA_CLONE_ERROR);
    }

    if (type === 'ArrayBuffer') {
      setAdd(buffers, value);
      continue;
    }

    if (PROPER_STRUCTURED_CLONE_TRANSFER) {
      transferred = nativeStructuredClone(value, { transfer: [value] });
    } else switch (type) {
      case 'ImageBitmap':
        C = global.OffscreenCanvas;
        if (!isConstructor(C)) throwUnpolyfillable(type, TRANSFERRING);
        try {
          canvas = new C(value.width, value.height);
          context = canvas.getContext('bitmaprenderer');
          context.transferFromImageBitmap(value);
          transferred = canvas.transferToImageBitmap();
        } catch (error) { /* empty */ }
        break;
      case 'AudioData':
      case 'VideoFrame':
        if (!isCallable(value.clone) || !isCallable(value.close)) throwUnpolyfillable(type, TRANSFERRING);
        try {
          transferred = value.clone();
          value.close();
        } catch (error) { /* empty */ }
        break;
      case 'MediaSourceHandle':
      case 'MessagePort':
      case 'OffscreenCanvas':
      case 'ReadableStream':
      case 'TransformStream':
      case 'WritableStream':
        throwUnpolyfillable(type, TRANSFERRING);
    }

    if (transferred === undefined) throw new DOMException('This object cannot be transferred: ' + type, DATA_CLONE_ERROR);

    mapSet(map, value, transferred);
  }

  return buffers;
};

var detachBuffers = function (buffers) {
  setIterate(buffers, function (buffer) {
    if (PROPER_STRUCTURED_CLONE_TRANSFER) {
      nativeRestrictedStructuredClone(buffer, { transfer: [buffer] });
    } else if (isCallable(buffer.transfer)) {
      buffer.transfer();
    } else if (detachTransferable) {
      detachTransferable(buffer);
    } else {
      throwUnpolyfillable('ArrayBuffer', TRANSFERRING);
    }
  });
};

// `structuredClone` method
// https://html.spec.whatwg.org/multipage/structured-data.html#dom-structuredclone
$({ global: true, enumerable: true, sham: !PROPER_STRUCTURED_CLONE_TRANSFER, forced: FORCED_REPLACEMENT }, {
  structuredClone: function structuredClone(value /* , { transfer } */) {
    var options = validateArgumentsLength(arguments.length, 1) > 1 && !isNullOrUndefined(arguments[1]) ? anObject(arguments[1]) : undefined;
    var transfer = options ? options.transfer : undefined;
    var map, buffers;

    if (transfer !== undefined) {
      map = new Map();
      buffers = tryToTransfer(transfer, map);
    }

    var clone = structuredCloneInternal(value, map);

    // since of an issue with cloning views of transferred buffers, we a forced to detach them later
    // https://github.com/zloirock/core-js/issues/1265
    if (buffers) detachBuffers(buffers);

    return clone;
  }
});


/***/ }),

/***/ 2625:
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
__webpack_require__(752);
var $ = __webpack_require__(79989);
var global = __webpack_require__(19037);
var safeGetBuiltIn = __webpack_require__(70517);
var call = __webpack_require__(22615);
var uncurryThis = __webpack_require__(68844);
var DESCRIPTORS = __webpack_require__(67697);
var USE_NATIVE_URL = __webpack_require__(76837);
var defineBuiltIn = __webpack_require__(11880);
var defineBuiltInAccessor = __webpack_require__(62148);
var defineBuiltIns = __webpack_require__(6045);
var setToStringTag = __webpack_require__(55997);
var createIteratorConstructor = __webpack_require__(30974);
var InternalStateModule = __webpack_require__(618);
var anInstance = __webpack_require__(767);
var isCallable = __webpack_require__(69985);
var hasOwn = __webpack_require__(36812);
var bind = __webpack_require__(54071);
var classof = __webpack_require__(50926);
var anObject = __webpack_require__(85027);
var isObject = __webpack_require__(48999);
var $toString = __webpack_require__(34327);
var create = __webpack_require__(25391);
var createPropertyDescriptor = __webpack_require__(75684);
var getIterator = __webpack_require__(5185);
var getIteratorMethod = __webpack_require__(91664);
var createIterResultObject = __webpack_require__(27807);
var validateArgumentsLength = __webpack_require__(21500);
var wellKnownSymbol = __webpack_require__(44201);
var arraySort = __webpack_require__(50382);

var ITERATOR = wellKnownSymbol('iterator');
var URL_SEARCH_PARAMS = 'URLSearchParams';
var URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';
var setInternalState = InternalStateModule.set;
var getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);
var getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);

var nativeFetch = safeGetBuiltIn('fetch');
var NativeRequest = safeGetBuiltIn('Request');
var Headers = safeGetBuiltIn('Headers');
var RequestPrototype = NativeRequest && NativeRequest.prototype;
var HeadersPrototype = Headers && Headers.prototype;
var RegExp = global.RegExp;
var TypeError = global.TypeError;
var decodeURIComponent = global.decodeURIComponent;
var encodeURIComponent = global.encodeURIComponent;
var charAt = uncurryThis(''.charAt);
var join = uncurryThis([].join);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var shift = uncurryThis([].shift);
var splice = uncurryThis([].splice);
var split = uncurryThis(''.split);
var stringSlice = uncurryThis(''.slice);

var plus = /\+/g;
var sequences = Array(4);

var percentSequence = function (bytes) {
  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\da-f]{2}){' + bytes + '})', 'gi'));
};

var percentDecode = function (sequence) {
  try {
    return decodeURIComponent(sequence);
  } catch (error) {
    return sequence;
  }
};

var deserialize = function (it) {
  var result = replace(it, plus, ' ');
  var bytes = 4;
  try {
    return decodeURIComponent(result);
  } catch (error) {
    while (bytes) {
      result = replace(result, percentSequence(bytes--), percentDecode);
    }
    return result;
  }
};

var find = /[!'()~]|%20/g;

var replacements = {
  '!': '%21',
  "'": '%27',
  '(': '%28',
  ')': '%29',
  '~': '%7E',
  '%20': '+'
};

var replacer = function (match) {
  return replacements[match];
};

var serialize = function (it) {
  return replace(encodeURIComponent(it), find, replacer);
};

var URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {
  setInternalState(this, {
    type: URL_SEARCH_PARAMS_ITERATOR,
    target: getInternalParamsState(params).entries,
    index: 0,
    kind: kind
  });
}, URL_SEARCH_PARAMS, function next() {
  var state = getInternalIteratorState(this);
  var target = state.target;
  var index = state.index++;
  if (!target || index >= target.length) {
    state.target = undefined;
    return createIterResultObject(undefined, true);
  }
  var entry = target[index];
  switch (state.kind) {
    case 'keys': return createIterResultObject(entry.key, false);
    case 'values': return createIterResultObject(entry.value, false);
  } return createIterResultObject([entry.key, entry.value], false);
}, true);

var URLSearchParamsState = function (init) {
  this.entries = [];
  this.url = null;

  if (init !== undefined) {
    if (isObject(init)) this.parseObject(init);
    else this.parseQuery(typeof init == 'string' ? charAt(init, 0) === '?' ? stringSlice(init, 1) : init : $toString(init));
  }
};

URLSearchParamsState.prototype = {
  type: URL_SEARCH_PARAMS,
  bindURL: function (url) {
    this.url = url;
    this.update();
  },
  parseObject: function (object) {
    var entries = this.entries;
    var iteratorMethod = getIteratorMethod(object);
    var iterator, next, step, entryIterator, entryNext, first, second;

    if (iteratorMethod) {
      iterator = getIterator(object, iteratorMethod);
      next = iterator.next;
      while (!(step = call(next, iterator)).done) {
        entryIterator = getIterator(anObject(step.value));
        entryNext = entryIterator.next;
        if (
          (first = call(entryNext, entryIterator)).done ||
          (second = call(entryNext, entryIterator)).done ||
          !call(entryNext, entryIterator).done
        ) throw new TypeError('Expected sequence with length 2');
        push(entries, { key: $toString(first.value), value: $toString(second.value) });
      }
    } else for (var key in object) if (hasOwn(object, key)) {
      push(entries, { key: key, value: $toString(object[key]) });
    }
  },
  parseQuery: function (query) {
    if (query) {
      var entries = this.entries;
      var attributes = split(query, '&');
      var index = 0;
      var attribute, entry;
      while (index < attributes.length) {
        attribute = attributes[index++];
        if (attribute.length) {
          entry = split(attribute, '=');
          push(entries, {
            key: deserialize(shift(entry)),
            value: deserialize(join(entry, '='))
          });
        }
      }
    }
  },
  serialize: function () {
    var entries = this.entries;
    var result = [];
    var index = 0;
    var entry;
    while (index < entries.length) {
      entry = entries[index++];
      push(result, serialize(entry.key) + '=' + serialize(entry.value));
    } return join(result, '&');
  },
  update: function () {
    this.entries.length = 0;
    this.parseQuery(this.url.query);
  },
  updateURL: function () {
    if (this.url) this.url.update();
  }
};

// `URLSearchParams` constructor
// https://url.spec.whatwg.org/#interface-urlsearchparams
var URLSearchParamsConstructor = function URLSearchParams(/* init */) {
  anInstance(this, URLSearchParamsPrototype);
  var init = arguments.length > 0 ? arguments[0] : undefined;
  var state = setInternalState(this, new URLSearchParamsState(init));
  if (!DESCRIPTORS) this.size = state.entries.length;
};

var URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;

defineBuiltIns(URLSearchParamsPrototype, {
  // `URLSearchParams.prototype.append` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-append
  append: function append(name, value) {
    var state = getInternalParamsState(this);
    validateArgumentsLength(arguments.length, 2);
    push(state.entries, { key: $toString(name), value: $toString(value) });
    if (!DESCRIPTORS) this.length++;
    state.updateURL();
  },
  // `URLSearchParams.prototype.delete` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete
  'delete': function (name /* , value */) {
    var state = getInternalParamsState(this);
    var length = validateArgumentsLength(arguments.length, 1);
    var entries = state.entries;
    var key = $toString(name);
    var $value = length < 2 ? undefined : arguments[1];
    var value = $value === undefined ? $value : $toString($value);
    var index = 0;
    while (index < entries.length) {
      var entry = entries[index];
      if (entry.key === key && (value === undefined || entry.value === value)) {
        splice(entries, index, 1);
        if (value !== undefined) break;
      } else index++;
    }
    if (!DESCRIPTORS) this.size = entries.length;
    state.updateURL();
  },
  // `URLSearchParams.prototype.get` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-get
  get: function get(name) {
    var entries = getInternalParamsState(this).entries;
    validateArgumentsLength(arguments.length, 1);
    var key = $toString(name);
    var index = 0;
    for (; index < entries.length; index++) {
      if (entries[index].key === key) return entries[index].value;
    }
    return null;
  },
  // `URLSearchParams.prototype.getAll` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall
  getAll: function getAll(name) {
    var entries = getInternalParamsState(this).entries;
    validateArgumentsLength(arguments.length, 1);
    var key = $toString(name);
    var result = [];
    var index = 0;
    for (; index < entries.length; index++) {
      if (entries[index].key === key) push(result, entries[index].value);
    }
    return result;
  },
  // `URLSearchParams.prototype.has` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-has
  has: function has(name /* , value */) {
    var entries = getInternalParamsState(this).entries;
    var length = validateArgumentsLength(arguments.length, 1);
    var key = $toString(name);
    var $value = length < 2 ? undefined : arguments[1];
    var value = $value === undefined ? $value : $toString($value);
    var index = 0;
    while (index < entries.length) {
      var entry = entries[index++];
      if (entry.key === key && (value === undefined || entry.value === value)) return true;
    }
    return false;
  },
  // `URLSearchParams.prototype.set` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-set
  set: function set(name, value) {
    var state = getInternalParamsState(this);
    validateArgumentsLength(arguments.length, 1);
    var entries = state.entries;
    var found = false;
    var key = $toString(name);
    var val = $toString(value);
    var index = 0;
    var entry;
    for (; index < entries.length; index++) {
      entry = entries[index];
      if (entry.key === key) {
        if (found) splice(entries, index--, 1);
        else {
          found = true;
          entry.value = val;
        }
      }
    }
    if (!found) push(entries, { key: key, value: val });
    if (!DESCRIPTORS) this.size = entries.length;
    state.updateURL();
  },
  // `URLSearchParams.prototype.sort` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort
  sort: function sort() {
    var state = getInternalParamsState(this);
    arraySort(state.entries, function (a, b) {
      return a.key > b.key ? 1 : -1;
    });
    state.updateURL();
  },
  // `URLSearchParams.prototype.forEach` method
  forEach: function forEach(callback /* , thisArg */) {
    var entries = getInternalParamsState(this).entries;
    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined);
    var index = 0;
    var entry;
    while (index < entries.length) {
      entry = entries[index++];
      boundFunction(entry.value, entry.key, this);
    }
  },
  // `URLSearchParams.prototype.keys` method
  keys: function keys() {
    return new URLSearchParamsIterator(this, 'keys');
  },
  // `URLSearchParams.prototype.values` method
  values: function values() {
    return new URLSearchParamsIterator(this, 'values');
  },
  // `URLSearchParams.prototype.entries` method
  entries: function entries() {
    return new URLSearchParamsIterator(this, 'entries');
  }
}, { enumerable: true });

// `URLSearchParams.prototype[@@iterator]` method
defineBuiltIn(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries, { name: 'entries' });

// `URLSearchParams.prototype.toString` method
// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior
defineBuiltIn(URLSearchParamsPrototype, 'toString', function toString() {
  return getInternalParamsState(this).serialize();
}, { enumerable: true });

// `URLSearchParams.prototype.size` getter
// https://github.com/whatwg/url/pull/734
if (DESCRIPTORS) defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {
  get: function size() {
    return getInternalParamsState(this).entries.length;
  },
  configurable: true,
  enumerable: true
});

setToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);

$({ global: true, constructor: true, forced: !USE_NATIVE_URL }, {
  URLSearchParams: URLSearchParamsConstructor
});

// Wrap `fetch` and `Request` for correct work with polyfilled `URLSearchParams`
if (!USE_NATIVE_URL && isCallable(Headers)) {
  var headersHas = uncurryThis(HeadersPrototype.has);
  var headersSet = uncurryThis(HeadersPrototype.set);

  var wrapRequestOptions = function (init) {
    if (isObject(init)) {
      var body = init.body;
      var headers;
      if (classof(body) === URL_SEARCH_PARAMS) {
        headers = init.headers ? new Headers(init.headers) : new Headers();
        if (!headersHas(headers, 'content-type')) {
          headersSet(headers, 'content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
        }
        return create(init, {
          body: createPropertyDescriptor(0, $toString(body)),
          headers: createPropertyDescriptor(0, headers)
        });
      }
    } return init;
  };

  if (isCallable(nativeFetch)) {
    $({ global: true, enumerable: true, dontCallGetSet: true, forced: true }, {
      fetch: function fetch(input /* , init */) {
        return nativeFetch(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
      }
    });
  }

  if (isCallable(NativeRequest)) {
    var RequestConstructor = function Request(input /* , init */) {
      anInstance(this, RequestPrototype);
      return new NativeRequest(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
    };

    RequestPrototype.constructor = RequestConstructor;
    RequestConstructor.prototype = RequestPrototype;

    $({ global: true, constructor: true, dontCallGetSet: true, forced: true }, {
      Request: RequestConstructor
    });
  }
}

module.exports = {
  URLSearchParams: URLSearchParamsConstructor,
  getState: getInternalParamsState
};


/***/ }),

/***/ 98858:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineBuiltIn = __webpack_require__(11880);
var uncurryThis = __webpack_require__(68844);
var toString = __webpack_require__(34327);
var validateArgumentsLength = __webpack_require__(21500);

var $URLSearchParams = URLSearchParams;
var URLSearchParamsPrototype = $URLSearchParams.prototype;
var append = uncurryThis(URLSearchParamsPrototype.append);
var $delete = uncurryThis(URLSearchParamsPrototype['delete']);
var forEach = uncurryThis(URLSearchParamsPrototype.forEach);
var push = uncurryThis([].push);
var params = new $URLSearchParams('a=1&a=2&b=3');

params['delete']('a', 1);
// `undefined` case is a Chromium 117 bug
// https://bugs.chromium.org/p/v8/issues/detail?id=14222
params['delete']('b', undefined);

if (params + '' !== 'a=2') {
  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {
    var length = arguments.length;
    var $value = length < 2 ? undefined : arguments[1];
    if (length && $value === undefined) return $delete(this, name);
    var entries = [];
    forEach(this, function (v, k) { // also validates `this`
      push(entries, { key: k, value: v });
    });
    validateArgumentsLength(length, 1);
    var key = toString(name);
    var value = toString($value);
    var index = 0;
    var dindex = 0;
    var found = false;
    var entriesLength = entries.length;
    var entry;
    while (index < entriesLength) {
      entry = entries[index++];
      if (found || entry.key === key) {
        found = true;
        $delete(this, entry.key);
      } else dindex++;
    }
    while (dindex < entriesLength) {
      entry = entries[dindex++];
      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);
    }
  }, { enumerable: true, unsafe: true });
}


/***/ }),

/***/ 61318:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var defineBuiltIn = __webpack_require__(11880);
var uncurryThis = __webpack_require__(68844);
var toString = __webpack_require__(34327);
var validateArgumentsLength = __webpack_require__(21500);

var $URLSearchParams = URLSearchParams;
var URLSearchParamsPrototype = $URLSearchParams.prototype;
var getAll = uncurryThis(URLSearchParamsPrototype.getAll);
var $has = uncurryThis(URLSearchParamsPrototype.has);
var params = new $URLSearchParams('a=1');

// `undefined` case is a Chromium 117 bug
// https://bugs.chromium.org/p/v8/issues/detail?id=14222
if (params.has('a', 2) || !params.has('a', undefined)) {
  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {
    var length = arguments.length;
    var $value = length < 2 ? undefined : arguments[1];
    if (length && $value === undefined) return $has(this, name);
    var values = getAll(this, name); // also validates `this`
    validateArgumentsLength(length, 1);
    var value = toString($value);
    var index = 0;
    while (index < values.length) {
      if (values[index++] === value) return true;
    } return false;
  }, { enumerable: true, unsafe: true });
}


/***/ }),

/***/ 79307:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(2625);


/***/ }),

/***/ 33228:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var DESCRIPTORS = __webpack_require__(67697);
var uncurryThis = __webpack_require__(68844);
var defineBuiltInAccessor = __webpack_require__(62148);

var URLSearchParamsPrototype = URLSearchParams.prototype;
var forEach = uncurryThis(URLSearchParamsPrototype.forEach);

// `URLSearchParams.prototype.size` getter
// https://github.com/whatwg/url/pull/734
if (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {
  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {
    get: function size() {
      var count = 0;
      forEach(this, function () { count++; });
      return count;
    },
    configurable: true,
    enumerable: true
  });
}


/***/ }),

/***/ 79391:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
__webpack_require__(21694);
var $ = __webpack_require__(79989);
var DESCRIPTORS = __webpack_require__(67697);
var USE_NATIVE_URL = __webpack_require__(76837);
var global = __webpack_require__(19037);
var bind = __webpack_require__(54071);
var uncurryThis = __webpack_require__(68844);
var defineBuiltIn = __webpack_require__(11880);
var defineBuiltInAccessor = __webpack_require__(62148);
var anInstance = __webpack_require__(767);
var hasOwn = __webpack_require__(36812);
var assign = __webpack_require__(45394);
var arrayFrom = __webpack_require__(21055);
var arraySlice = __webpack_require__(96004);
var codeAt = (__webpack_require__(10730).codeAt);
var toASCII = __webpack_require__(6430);
var $toString = __webpack_require__(34327);
var setToStringTag = __webpack_require__(55997);
var validateArgumentsLength = __webpack_require__(21500);
var URLSearchParamsModule = __webpack_require__(2625);
var InternalStateModule = __webpack_require__(618);

var setInternalState = InternalStateModule.set;
var getInternalURLState = InternalStateModule.getterFor('URL');
var URLSearchParams = URLSearchParamsModule.URLSearchParams;
var getInternalSearchParamsState = URLSearchParamsModule.getState;

var NativeURL = global.URL;
var TypeError = global.TypeError;
var parseInt = global.parseInt;
var floor = Math.floor;
var pow = Math.pow;
var charAt = uncurryThis(''.charAt);
var exec = uncurryThis(/./.exec);
var join = uncurryThis([].join);
var numberToString = uncurryThis(1.0.toString);
var pop = uncurryThis([].pop);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var shift = uncurryThis([].shift);
var split = uncurryThis(''.split);
var stringSlice = uncurryThis(''.slice);
var toLowerCase = uncurryThis(''.toLowerCase);
var unshift = uncurryThis([].unshift);

var INVALID_AUTHORITY = 'Invalid authority';
var INVALID_SCHEME = 'Invalid scheme';
var INVALID_HOST = 'Invalid host';
var INVALID_PORT = 'Invalid port';

var ALPHA = /[a-z]/i;
// eslint-disable-next-line regexp/no-obscure-range -- safe
var ALPHANUMERIC = /[\d+-.a-z]/i;
var DIGIT = /\d/;
var HEX_START = /^0x/i;
var OCT = /^[0-7]+$/;
var DEC = /^\d+$/;
var HEX = /^[\da-f]+$/i;
/* eslint-disable regexp/no-control-character -- safe */
var FORBIDDEN_HOST_CODE_POINT = /[\0\t\n\r #%/:<>?@[\\\]^|]/;
var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\0\t\n\r #/:<>?@[\\\]^|]/;
var LEADING_C0_CONTROL_OR_SPACE = /^[\u0000-\u0020]+/;
var TRAILING_C0_CONTROL_OR_SPACE = /(^|[^\u0000-\u0020])[\u0000-\u0020]+$/;
var TAB_AND_NEW_LINE = /[\t\n\r]/g;
/* eslint-enable regexp/no-control-character -- safe */
var EOF;

// https://url.spec.whatwg.org/#ipv4-number-parser
var parseIPv4 = function (input) {
  var parts = split(input, '.');
  var partsLength, numbers, index, part, radix, number, ipv4;
  if (parts.length && parts[parts.length - 1] === '') {
    parts.length--;
  }
  partsLength = parts.length;
  if (partsLength > 4) return input;
  numbers = [];
  for (index = 0; index < partsLength; index++) {
    part = parts[index];
    if (part === '') return input;
    radix = 10;
    if (part.length > 1 && charAt(part, 0) === '0') {
      radix = exec(HEX_START, part) ? 16 : 8;
      part = stringSlice(part, radix === 8 ? 1 : 2);
    }
    if (part === '') {
      number = 0;
    } else {
      if (!exec(radix === 10 ? DEC : radix === 8 ? OCT : HEX, part)) return input;
      number = parseInt(part, radix);
    }
    push(numbers, number);
  }
  for (index = 0; index < partsLength; index++) {
    number = numbers[index];
    if (index === partsLength - 1) {
      if (number >= pow(256, 5 - partsLength)) return null;
    } else if (number > 255) return null;
  }
  ipv4 = pop(numbers);
  for (index = 0; index < numbers.length; index++) {
    ipv4 += numbers[index] * pow(256, 3 - index);
  }
  return ipv4;
};

// https://url.spec.whatwg.org/#concept-ipv6-parser
// eslint-disable-next-line max-statements -- TODO
var parseIPv6 = function (input) {
  var address = [0, 0, 0, 0, 0, 0, 0, 0];
  var pieceIndex = 0;
  var compress = null;
  var pointer = 0;
  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;

  var chr = function () {
    return charAt(input, pointer);
  };

  if (chr() === ':') {
    if (charAt(input, 1) !== ':') return;
    pointer += 2;
    pieceIndex++;
    compress = pieceIndex;
  }
  while (chr()) {
    if (pieceIndex === 8) return;
    if (chr() === ':') {
      if (compress !== null) return;
      pointer++;
      pieceIndex++;
      compress = pieceIndex;
      continue;
    }
    value = length = 0;
    while (length < 4 && exec(HEX, chr())) {
      value = value * 16 + parseInt(chr(), 16);
      pointer++;
      length++;
    }
    if (chr() === '.') {
      if (length === 0) return;
      pointer -= length;
      if (pieceIndex > 6) return;
      numbersSeen = 0;
      while (chr()) {
        ipv4Piece = null;
        if (numbersSeen > 0) {
          if (chr() === '.' && numbersSeen < 4) pointer++;
          else return;
        }
        if (!exec(DIGIT, chr())) return;
        while (exec(DIGIT, chr())) {
          number = parseInt(chr(), 10);
          if (ipv4Piece === null) ipv4Piece = number;
          else if (ipv4Piece === 0) return;
          else ipv4Piece = ipv4Piece * 10 + number;
          if (ipv4Piece > 255) return;
          pointer++;
        }
        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;
        numbersSeen++;
        if (numbersSeen === 2 || numbersSeen === 4) pieceIndex++;
      }
      if (numbersSeen !== 4) return;
      break;
    } else if (chr() === ':') {
      pointer++;
      if (!chr()) return;
    } else if (chr()) return;
    address[pieceIndex++] = value;
  }
  if (compress !== null) {
    swaps = pieceIndex - compress;
    pieceIndex = 7;
    while (pieceIndex !== 0 && swaps > 0) {
      swap = address[pieceIndex];
      address[pieceIndex--] = address[compress + swaps - 1];
      address[compress + --swaps] = swap;
    }
  } else if (pieceIndex !== 8) return;
  return address;
};

var findLongestZeroSequence = function (ipv6) {
  var maxIndex = null;
  var maxLength = 1;
  var currStart = null;
  var currLength = 0;
  var index = 0;
  for (; index < 8; index++) {
    if (ipv6[index] !== 0) {
      if (currLength > maxLength) {
        maxIndex = currStart;
        maxLength = currLength;
      }
      currStart = null;
      currLength = 0;
    } else {
      if (currStart === null) currStart = index;
      ++currLength;
    }
  }
  if (currLength > maxLength) {
    maxIndex = currStart;
    maxLength = currLength;
  }
  return maxIndex;
};

// https://url.spec.whatwg.org/#host-serializing
var serializeHost = function (host) {
  var result, index, compress, ignore0;
  // ipv4
  if (typeof host == 'number') {
    result = [];
    for (index = 0; index < 4; index++) {
      unshift(result, host % 256);
      host = floor(host / 256);
    } return join(result, '.');
  // ipv6
  } else if (typeof host == 'object') {
    result = '';
    compress = findLongestZeroSequence(host);
    for (index = 0; index < 8; index++) {
      if (ignore0 && host[index] === 0) continue;
      if (ignore0) ignore0 = false;
      if (compress === index) {
        result += index ? ':' : '::';
        ignore0 = true;
      } else {
        result += numberToString(host[index], 16);
        if (index < 7) result += ':';
      }
    }
    return '[' + result + ']';
  } return host;
};

var C0ControlPercentEncodeSet = {};
var fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {
  ' ': 1, '"': 1, '<': 1, '>': 1, '`': 1
});
var pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {
  '#': 1, '?': 1, '{': 1, '}': 1
});
var userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {
  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\': 1, ']': 1, '^': 1, '|': 1
});

var percentEncode = function (chr, set) {
  var code = codeAt(chr, 0);
  return code > 0x20 && code < 0x7F && !hasOwn(set, chr) ? chr : encodeURIComponent(chr);
};

// https://url.spec.whatwg.org/#special-scheme
var specialSchemes = {
  ftp: 21,
  file: null,
  http: 80,
  https: 443,
  ws: 80,
  wss: 443
};

// https://url.spec.whatwg.org/#windows-drive-letter
var isWindowsDriveLetter = function (string, normalized) {
  var second;
  return string.length === 2 && exec(ALPHA, charAt(string, 0))
    && ((second = charAt(string, 1)) === ':' || (!normalized && second === '|'));
};

// https://url.spec.whatwg.org/#start-with-a-windows-drive-letter
var startsWithWindowsDriveLetter = function (string) {
  var third;
  return string.length > 1 && isWindowsDriveLetter(stringSlice(string, 0, 2)) && (
    string.length === 2 ||
    ((third = charAt(string, 2)) === '/' || third === '\\' || third === '?' || third === '#')
  );
};

// https://url.spec.whatwg.org/#single-dot-path-segment
var isSingleDot = function (segment) {
  return segment === '.' || toLowerCase(segment) === '%2e';
};

// https://url.spec.whatwg.org/#double-dot-path-segment
var isDoubleDot = function (segment) {
  segment = toLowerCase(segment);
  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';
};

// States:
var SCHEME_START = {};
var SCHEME = {};
var NO_SCHEME = {};
var SPECIAL_RELATIVE_OR_AUTHORITY = {};
var PATH_OR_AUTHORITY = {};
var RELATIVE = {};
var RELATIVE_SLASH = {};
var SPECIAL_AUTHORITY_SLASHES = {};
var SPECIAL_AUTHORITY_IGNORE_SLASHES = {};
var AUTHORITY = {};
var HOST = {};
var HOSTNAME = {};
var PORT = {};
var FILE = {};
var FILE_SLASH = {};
var FILE_HOST = {};
var PATH_START = {};
var PATH = {};
var CANNOT_BE_A_BASE_URL_PATH = {};
var QUERY = {};
var FRAGMENT = {};

var URLState = function (url, isBase, base) {
  var urlString = $toString(url);
  var baseState, failure, searchParams;
  if (isBase) {
    failure = this.parse(urlString);
    if (failure) throw new TypeError(failure);
    this.searchParams = null;
  } else {
    if (base !== undefined) baseState = new URLState(base, true);
    failure = this.parse(urlString, null, baseState);
    if (failure) throw new TypeError(failure);
    searchParams = getInternalSearchParamsState(new URLSearchParams());
    searchParams.bindURL(this);
    this.searchParams = searchParams;
  }
};

URLState.prototype = {
  type: 'URL',
  // https://url.spec.whatwg.org/#url-parsing
  // eslint-disable-next-line max-statements -- TODO
  parse: function (input, stateOverride, base) {
    var url = this;
    var state = stateOverride || SCHEME_START;
    var pointer = 0;
    var buffer = '';
    var seenAt = false;
    var seenBracket = false;
    var seenPasswordToken = false;
    var codePoints, chr, bufferCodePoints, failure;

    input = $toString(input);

    if (!stateOverride) {
      url.scheme = '';
      url.username = '';
      url.password = '';
      url.host = null;
      url.port = null;
      url.path = [];
      url.query = null;
      url.fragment = null;
      url.cannotBeABaseURL = false;
      input = replace(input, LEADING_C0_CONTROL_OR_SPACE, '');
      input = replace(input, TRAILING_C0_CONTROL_OR_SPACE, '$1');
    }

    input = replace(input, TAB_AND_NEW_LINE, '');

    codePoints = arrayFrom(input);

    while (pointer <= codePoints.length) {
      chr = codePoints[pointer];
      switch (state) {
        case SCHEME_START:
          if (chr && exec(ALPHA, chr)) {
            buffer += toLowerCase(chr);
            state = SCHEME;
          } else if (!stateOverride) {
            state = NO_SCHEME;
            continue;
          } else return INVALID_SCHEME;
          break;

        case SCHEME:
          if (chr && (exec(ALPHANUMERIC, chr) || chr === '+' || chr === '-' || chr === '.')) {
            buffer += toLowerCase(chr);
          } else if (chr === ':') {
            if (stateOverride && (
              (url.isSpecial() !== hasOwn(specialSchemes, buffer)) ||
              (buffer === 'file' && (url.includesCredentials() || url.port !== null)) ||
              (url.scheme === 'file' && !url.host)
            )) return;
            url.scheme = buffer;
            if (stateOverride) {
              if (url.isSpecial() && specialSchemes[url.scheme] === url.port) url.port = null;
              return;
            }
            buffer = '';
            if (url.scheme === 'file') {
              state = FILE;
            } else if (url.isSpecial() && base && base.scheme === url.scheme) {
              state = SPECIAL_RELATIVE_OR_AUTHORITY;
            } else if (url.isSpecial()) {
              state = SPECIAL_AUTHORITY_SLASHES;
            } else if (codePoints[pointer + 1] === '/') {
              state = PATH_OR_AUTHORITY;
              pointer++;
            } else {
              url.cannotBeABaseURL = true;
              push(url.path, '');
              state = CANNOT_BE_A_BASE_URL_PATH;
            }
          } else if (!stateOverride) {
            buffer = '';
            state = NO_SCHEME;
            pointer = 0;
            continue;
          } else return INVALID_SCHEME;
          break;

        case NO_SCHEME:
          if (!base || (base.cannotBeABaseURL && chr !== '#')) return INVALID_SCHEME;
          if (base.cannotBeABaseURL && chr === '#') {
            url.scheme = base.scheme;
            url.path = arraySlice(base.path);
            url.query = base.query;
            url.fragment = '';
            url.cannotBeABaseURL = true;
            state = FRAGMENT;
            break;
          }
          state = base.scheme === 'file' ? FILE : RELATIVE;
          continue;

        case SPECIAL_RELATIVE_OR_AUTHORITY:
          if (chr === '/' && codePoints[pointer + 1] === '/') {
            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
            pointer++;
          } else {
            state = RELATIVE;
            continue;
          } break;

        case PATH_OR_AUTHORITY:
          if (chr === '/') {
            state = AUTHORITY;
            break;
          } else {
            state = PATH;
            continue;
          }

        case RELATIVE:
          url.scheme = base.scheme;
          if (chr === EOF) {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = base.query;
          } else if (chr === '/' || (chr === '\\' && url.isSpecial())) {
            state = RELATIVE_SLASH;
          } else if (chr === '?') {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = '';
            state = QUERY;
          } else if (chr === '#') {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = base.query;
            url.fragment = '';
            state = FRAGMENT;
          } else {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.path.length--;
            state = PATH;
            continue;
          } break;

        case RELATIVE_SLASH:
          if (url.isSpecial() && (chr === '/' || chr === '\\')) {
            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
          } else if (chr === '/') {
            state = AUTHORITY;
          } else {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            state = PATH;
            continue;
          } break;

        case SPECIAL_AUTHORITY_SLASHES:
          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
          if (chr !== '/' || charAt(buffer, pointer + 1) !== '/') continue;
          pointer++;
          break;

        case SPECIAL_AUTHORITY_IGNORE_SLASHES:
          if (chr !== '/' && chr !== '\\') {
            state = AUTHORITY;
            continue;
          } break;

        case AUTHORITY:
          if (chr === '@') {
            if (seenAt) buffer = '%40' + buffer;
            seenAt = true;
            bufferCodePoints = arrayFrom(buffer);
            for (var i = 0; i < bufferCodePoints.length; i++) {
              var codePoint = bufferCodePoints[i];
              if (codePoint === ':' && !seenPasswordToken) {
                seenPasswordToken = true;
                continue;
              }
              var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);
              if (seenPasswordToken) url.password += encodedCodePoints;
              else url.username += encodedCodePoints;
            }
            buffer = '';
          } else if (
            chr === EOF || chr === '/' || chr === '?' || chr === '#' ||
            (chr === '\\' && url.isSpecial())
          ) {
            if (seenAt && buffer === '') return INVALID_AUTHORITY;
            pointer -= arrayFrom(buffer).length + 1;
            buffer = '';
            state = HOST;
          } else buffer += chr;
          break;

        case HOST:
        case HOSTNAME:
          if (stateOverride && url.scheme === 'file') {
            state = FILE_HOST;
            continue;
          } else if (chr === ':' && !seenBracket) {
            if (buffer === '') return INVALID_HOST;
            failure = url.parseHost(buffer);
            if (failure) return failure;
            buffer = '';
            state = PORT;
            if (stateOverride === HOSTNAME) return;
          } else if (
            chr === EOF || chr === '/' || chr === '?' || chr === '#' ||
            (chr === '\\' && url.isSpecial())
          ) {
            if (url.isSpecial() && buffer === '') return INVALID_HOST;
            if (stateOverride && buffer === '' && (url.includesCredentials() || url.port !== null)) return;
            failure = url.parseHost(buffer);
            if (failure) return failure;
            buffer = '';
            state = PATH_START;
            if (stateOverride) return;
            continue;
          } else {
            if (chr === '[') seenBracket = true;
            else if (chr === ']') seenBracket = false;
            buffer += chr;
          } break;

        case PORT:
          if (exec(DIGIT, chr)) {
            buffer += chr;
          } else if (
            chr === EOF || chr === '/' || chr === '?' || chr === '#' ||
            (chr === '\\' && url.isSpecial()) ||
            stateOverride
          ) {
            if (buffer !== '') {
              var port = parseInt(buffer, 10);
              if (port > 0xFFFF) return INVALID_PORT;
              url.port = (url.isSpecial() && port === specialSchemes[url.scheme]) ? null : port;
              buffer = '';
            }
            if (stateOverride) return;
            state = PATH_START;
            continue;
          } else return INVALID_PORT;
          break;

        case FILE:
          url.scheme = 'file';
          if (chr === '/' || chr === '\\') state = FILE_SLASH;
          else if (base && base.scheme === 'file') {
            switch (chr) {
              case EOF:
                url.host = base.host;
                url.path = arraySlice(base.path);
                url.query = base.query;
                break;
              case '?':
                url.host = base.host;
                url.path = arraySlice(base.path);
                url.query = '';
                state = QUERY;
                break;
              case '#':
                url.host = base.host;
                url.path = arraySlice(base.path);
                url.query = base.query;
                url.fragment = '';
                state = FRAGMENT;
                break;
              default:
                if (!startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {
                  url.host = base.host;
                  url.path = arraySlice(base.path);
                  url.shortenPath();
                }
                state = PATH;
                continue;
            }
          } else {
            state = PATH;
            continue;
          } break;

        case FILE_SLASH:
          if (chr === '/' || chr === '\\') {
            state = FILE_HOST;
            break;
          }
          if (base && base.scheme === 'file' && !startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {
            if (isWindowsDriveLetter(base.path[0], true)) push(url.path, base.path[0]);
            else url.host = base.host;
          }
          state = PATH;
          continue;

        case FILE_HOST:
          if (chr === EOF || chr === '/' || chr === '\\' || chr === '?' || chr === '#') {
            if (!stateOverride && isWindowsDriveLetter(buffer)) {
              state = PATH;
            } else if (buffer === '') {
              url.host = '';
              if (stateOverride) return;
              state = PATH_START;
            } else {
              failure = url.parseHost(buffer);
              if (failure) return failure;
              if (url.host === 'localhost') url.host = '';
              if (stateOverride) return;
              buffer = '';
              state = PATH_START;
            } continue;
          } else buffer += chr;
          break;

        case PATH_START:
          if (url.isSpecial()) {
            state = PATH;
            if (chr !== '/' && chr !== '\\') continue;
          } else if (!stateOverride && chr === '?') {
            url.query = '';
            state = QUERY;
          } else if (!stateOverride && chr === '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr !== EOF) {
            state = PATH;
            if (chr !== '/') continue;
          } break;

        case PATH:
          if (
            chr === EOF || chr === '/' ||
            (chr === '\\' && url.isSpecial()) ||
            (!stateOverride && (chr === '?' || chr === '#'))
          ) {
            if (isDoubleDot(buffer)) {
              url.shortenPath();
              if (chr !== '/' && !(chr === '\\' && url.isSpecial())) {
                push(url.path, '');
              }
            } else if (isSingleDot(buffer)) {
              if (chr !== '/' && !(chr === '\\' && url.isSpecial())) {
                push(url.path, '');
              }
            } else {
              if (url.scheme === 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {
                if (url.host) url.host = '';
                buffer = charAt(buffer, 0) + ':'; // normalize windows drive letter
              }
              push(url.path, buffer);
            }
            buffer = '';
            if (url.scheme === 'file' && (chr === EOF || chr === '?' || chr === '#')) {
              while (url.path.length > 1 && url.path[0] === '') {
                shift(url.path);
              }
            }
            if (chr === '?') {
              url.query = '';
              state = QUERY;
            } else if (chr === '#') {
              url.fragment = '';
              state = FRAGMENT;
            }
          } else {
            buffer += percentEncode(chr, pathPercentEncodeSet);
          } break;

        case CANNOT_BE_A_BASE_URL_PATH:
          if (chr === '?') {
            url.query = '';
            state = QUERY;
          } else if (chr === '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr !== EOF) {
            url.path[0] += percentEncode(chr, C0ControlPercentEncodeSet);
          } break;

        case QUERY:
          if (!stateOverride && chr === '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr !== EOF) {
            if (chr === "'" && url.isSpecial()) url.query += '%27';
            else if (chr === '#') url.query += '%23';
            else url.query += percentEncode(chr, C0ControlPercentEncodeSet);
          } break;

        case FRAGMENT:
          if (chr !== EOF) url.fragment += percentEncode(chr, fragmentPercentEncodeSet);
          break;
      }

      pointer++;
    }
  },
  // https://url.spec.whatwg.org/#host-parsing
  parseHost: function (input) {
    var result, codePoints, index;
    if (charAt(input, 0) === '[') {
      if (charAt(input, input.length - 1) !== ']') return INVALID_HOST;
      result = parseIPv6(stringSlice(input, 1, -1));
      if (!result) return INVALID_HOST;
      this.host = result;
    // opaque host
    } else if (!this.isSpecial()) {
      if (exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT, input)) return INVALID_HOST;
      result = '';
      codePoints = arrayFrom(input);
      for (index = 0; index < codePoints.length; index++) {
        result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);
      }
      this.host = result;
    } else {
      input = toASCII(input);
      if (exec(FORBIDDEN_HOST_CODE_POINT, input)) return INVALID_HOST;
      result = parseIPv4(input);
      if (result === null) return INVALID_HOST;
      this.host = result;
    }
  },
  // https://url.spec.whatwg.org/#cannot-have-a-username-password-port
  cannotHaveUsernamePasswordPort: function () {
    return !this.host || this.cannotBeABaseURL || this.scheme === 'file';
  },
  // https://url.spec.whatwg.org/#include-credentials
  includesCredentials: function () {
    return this.username !== '' || this.password !== '';
  },
  // https://url.spec.whatwg.org/#is-special
  isSpecial: function () {
    return hasOwn(specialSchemes, this.scheme);
  },
  // https://url.spec.whatwg.org/#shorten-a-urls-path
  shortenPath: function () {
    var path = this.path;
    var pathSize = path.length;
    if (pathSize && (this.scheme !== 'file' || pathSize !== 1 || !isWindowsDriveLetter(path[0], true))) {
      path.length--;
    }
  },
  // https://url.spec.whatwg.org/#concept-url-serializer
  serialize: function () {
    var url = this;
    var scheme = url.scheme;
    var username = url.username;
    var password = url.password;
    var host = url.host;
    var port = url.port;
    var path = url.path;
    var query = url.query;
    var fragment = url.fragment;
    var output = scheme + ':';
    if (host !== null) {
      output += '//';
      if (url.includesCredentials()) {
        output += username + (password ? ':' + password : '') + '@';
      }
      output += serializeHost(host);
      if (port !== null) output += ':' + port;
    } else if (scheme === 'file') output += '//';
    output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';
    if (query !== null) output += '?' + query;
    if (fragment !== null) output += '#' + fragment;
    return output;
  },
  // https://url.spec.whatwg.org/#dom-url-href
  setHref: function (href) {
    var failure = this.parse(href);
    if (failure) throw new TypeError(failure);
    this.searchParams.update();
  },
  // https://url.spec.whatwg.org/#dom-url-origin
  getOrigin: function () {
    var scheme = this.scheme;
    var port = this.port;
    if (scheme === 'blob') try {
      return new URLConstructor(scheme.path[0]).origin;
    } catch (error) {
      return 'null';
    }
    if (scheme === 'file' || !this.isSpecial()) return 'null';
    return scheme + '://' + serializeHost(this.host) + (port !== null ? ':' + port : '');
  },
  // https://url.spec.whatwg.org/#dom-url-protocol
  getProtocol: function () {
    return this.scheme + ':';
  },
  setProtocol: function (protocol) {
    this.parse($toString(protocol) + ':', SCHEME_START);
  },
  // https://url.spec.whatwg.org/#dom-url-username
  getUsername: function () {
    return this.username;
  },
  setUsername: function (username) {
    var codePoints = arrayFrom($toString(username));
    if (this.cannotHaveUsernamePasswordPort()) return;
    this.username = '';
    for (var i = 0; i < codePoints.length; i++) {
      this.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);
    }
  },
  // https://url.spec.whatwg.org/#dom-url-password
  getPassword: function () {
    return this.password;
  },
  setPassword: function (password) {
    var codePoints = arrayFrom($toString(password));
    if (this.cannotHaveUsernamePasswordPort()) return;
    this.password = '';
    for (var i = 0; i < codePoints.length; i++) {
      this.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);
    }
  },
  // https://url.spec.whatwg.org/#dom-url-host
  getHost: function () {
    var host = this.host;
    var port = this.port;
    return host === null ? ''
      : port === null ? serializeHost(host)
      : serializeHost(host) + ':' + port;
  },
  setHost: function (host) {
    if (this.cannotBeABaseURL) return;
    this.parse(host, HOST);
  },
  // https://url.spec.whatwg.org/#dom-url-hostname
  getHostname: function () {
    var host = this.host;
    return host === null ? '' : serializeHost(host);
  },
  setHostname: function (hostname) {
    if (this.cannotBeABaseURL) return;
    this.parse(hostname, HOSTNAME);
  },
  // https://url.spec.whatwg.org/#dom-url-port
  getPort: function () {
    var port = this.port;
    return port === null ? '' : $toString(port);
  },
  setPort: function (port) {
    if (this.cannotHaveUsernamePasswordPort()) return;
    port = $toString(port);
    if (port === '') this.port = null;
    else this.parse(port, PORT);
  },
  // https://url.spec.whatwg.org/#dom-url-pathname
  getPathname: function () {
    var path = this.path;
    return this.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';
  },
  setPathname: function (pathname) {
    if (this.cannotBeABaseURL) return;
    this.path = [];
    this.parse(pathname, PATH_START);
  },
  // https://url.spec.whatwg.org/#dom-url-search
  getSearch: function () {
    var query = this.query;
    return query ? '?' + query : '';
  },
  setSearch: function (search) {
    search = $toString(search);
    if (search === '') {
      this.query = null;
    } else {
      if (charAt(search, 0) === '?') search = stringSlice(search, 1);
      this.query = '';
      this.parse(search, QUERY);
    }
    this.searchParams.update();
  },
  // https://url.spec.whatwg.org/#dom-url-searchparams
  getSearchParams: function () {
    return this.searchParams.facade;
  },
  // https://url.spec.whatwg.org/#dom-url-hash
  getHash: function () {
    var fragment = this.fragment;
    return fragment ? '#' + fragment : '';
  },
  setHash: function (hash) {
    hash = $toString(hash);
    if (hash === '') {
      this.fragment = null;
      return;
    }
    if (charAt(hash, 0) === '#') hash = stringSlice(hash, 1);
    this.fragment = '';
    this.parse(hash, FRAGMENT);
  },
  update: function () {
    this.query = this.searchParams.serialize() || null;
  }
};

// `URL` constructor
// https://url.spec.whatwg.org/#url-class
var URLConstructor = function URL(url /* , base */) {
  var that = anInstance(this, URLPrototype);
  var base = validateArgumentsLength(arguments.length, 1) > 1 ? arguments[1] : undefined;
  var state = setInternalState(that, new URLState(url, false, base));
  if (!DESCRIPTORS) {
    that.href = state.serialize();
    that.origin = state.getOrigin();
    that.protocol = state.getProtocol();
    that.username = state.getUsername();
    that.password = state.getPassword();
    that.host = state.getHost();
    that.hostname = state.getHostname();
    that.port = state.getPort();
    that.pathname = state.getPathname();
    that.search = state.getSearch();
    that.searchParams = state.getSearchParams();
    that.hash = state.getHash();
  }
};

var URLPrototype = URLConstructor.prototype;

var accessorDescriptor = function (getter, setter) {
  return {
    get: function () {
      return getInternalURLState(this)[getter]();
    },
    set: setter && function (value) {
      return getInternalURLState(this)[setter](value);
    },
    configurable: true,
    enumerable: true
  };
};

if (DESCRIPTORS) {
  // `URL.prototype.href` accessors pair
  // https://url.spec.whatwg.org/#dom-url-href
  defineBuiltInAccessor(URLPrototype, 'href', accessorDescriptor('serialize', 'setHref'));
  // `URL.prototype.origin` getter
  // https://url.spec.whatwg.org/#dom-url-origin
  defineBuiltInAccessor(URLPrototype, 'origin', accessorDescriptor('getOrigin'));
  // `URL.prototype.protocol` accessors pair
  // https://url.spec.whatwg.org/#dom-url-protocol
  defineBuiltInAccessor(URLPrototype, 'protocol', accessorDescriptor('getProtocol', 'setProtocol'));
  // `URL.prototype.username` accessors pair
  // https://url.spec.whatwg.org/#dom-url-username
  defineBuiltInAccessor(URLPrototype, 'username', accessorDescriptor('getUsername', 'setUsername'));
  // `URL.prototype.password` accessors pair
  // https://url.spec.whatwg.org/#dom-url-password
  defineBuiltInAccessor(URLPrototype, 'password', accessorDescriptor('getPassword', 'setPassword'));
  // `URL.prototype.host` accessors pair
  // https://url.spec.whatwg.org/#dom-url-host
  defineBuiltInAccessor(URLPrototype, 'host', accessorDescriptor('getHost', 'setHost'));
  // `URL.prototype.hostname` accessors pair
  // https://url.spec.whatwg.org/#dom-url-hostname
  defineBuiltInAccessor(URLPrototype, 'hostname', accessorDescriptor('getHostname', 'setHostname'));
  // `URL.prototype.port` accessors pair
  // https://url.spec.whatwg.org/#dom-url-port
  defineBuiltInAccessor(URLPrototype, 'port', accessorDescriptor('getPort', 'setPort'));
  // `URL.prototype.pathname` accessors pair
  // https://url.spec.whatwg.org/#dom-url-pathname
  defineBuiltInAccessor(URLPrototype, 'pathname', accessorDescriptor('getPathname', 'setPathname'));
  // `URL.prototype.search` accessors pair
  // https://url.spec.whatwg.org/#dom-url-search
  defineBuiltInAccessor(URLPrototype, 'search', accessorDescriptor('getSearch', 'setSearch'));
  // `URL.prototype.searchParams` getter
  // https://url.spec.whatwg.org/#dom-url-searchparams
  defineBuiltInAccessor(URLPrototype, 'searchParams', accessorDescriptor('getSearchParams'));
  // `URL.prototype.hash` accessors pair
  // https://url.spec.whatwg.org/#dom-url-hash
  defineBuiltInAccessor(URLPrototype, 'hash', accessorDescriptor('getHash', 'setHash'));
}

// `URL.prototype.toJSON` method
// https://url.spec.whatwg.org/#dom-url-tojson
defineBuiltIn(URLPrototype, 'toJSON', function toJSON() {
  return getInternalURLState(this).serialize();
}, { enumerable: true });

// `URL.prototype.toString` method
// https://url.spec.whatwg.org/#URL-stringification-behavior
defineBuiltIn(URLPrototype, 'toString', function toString() {
  return getInternalURLState(this).serialize();
}, { enumerable: true });

if (NativeURL) {
  var nativeCreateObjectURL = NativeURL.createObjectURL;
  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;
  // `URL.createObjectURL` method
  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL
  if (nativeCreateObjectURL) defineBuiltIn(URLConstructor, 'createObjectURL', bind(nativeCreateObjectURL, NativeURL));
  // `URL.revokeObjectURL` method
  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL
  if (nativeRevokeObjectURL) defineBuiltIn(URLConstructor, 'revokeObjectURL', bind(nativeRevokeObjectURL, NativeURL));
}

setToStringTag(URLConstructor, 'URL');

$({ global: true, constructor: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {
  URL: URLConstructor
});


/***/ }),

/***/ 78730:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(79391);


/***/ }),

/***/ 19979:
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(79989);
var call = __webpack_require__(22615);

// `URL.prototype.toJSON` method
// https://url.spec.whatwg.org/#dom-url-tojson
$({ target: 'URL', proto: true, enumerable: true }, {
  toJSON: function toJSON() {
    return call(URL.prototype.toString, this);
  }
});


/***/ }),

/***/ 6301:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _arrayLikeToArray; }
/* harmony export */ });
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
  return arr2;
}

/***/ }),

/***/ 85457:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _assertThisInitialized; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21057);

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self;
}

/***/ }),

/***/ 17865:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _classCallCheck; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21057);

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/***/ }),

/***/ 89465:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _createClass; }
/* harmony export */ });
/* harmony import */ var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(61564);

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, (0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(descriptor.key), descriptor);
  }
}
function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  Object.defineProperty(Constructor, "prototype", {
    writable: false
  });
  return Constructor;
}

/***/ }),

/***/ 83690:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _createForOfIteratorHelper; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59749);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86544);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(752);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(76265);
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21057);
/* harmony import */ var _unsupportedIterableToArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(46078);







function _createForOfIteratorHelper(o, allowArrayLike) {
  var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
  if (!it) {
    if (Array.isArray(o) || (it = (0,_unsupportedIterableToArray_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;
      var F = function F() {};
      return {
        s: F,
        n: function n() {
          if (i >= o.length) return {
            done: true
          };
          return {
            done: false,
            value: o[i++]
          };
        },
        e: function e(_e) {
          throw _e;
        },
        f: F
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  var normalCompletion = true,
    didErr = false,
    err;
  return {
    s: function s() {
      it = it.call(o);
    },
    n: function n() {
      var step = it.next();
      normalCompletion = step.done;
      return step;
    },
    e: function e(_e2) {
      didErr = true;
      err = _e2;
    },
    f: function f() {
      try {
        if (!normalCompletion && it["return"] != null) it["return"]();
      } finally {
        if (didErr) throw err;
      }
    }
  };
}

/***/ }),

/***/ 50558:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _defineProperty; }
/* harmony export */ });
/* harmony import */ var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(61564);

function _defineProperty(obj, key, value) {
  key = (0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .Z)(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}

/***/ }),

/***/ 86035:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ _get; }
});

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var es_object_to_string = __webpack_require__(60228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.to-string-tag.js
var es_reflect_to_string_tag = __webpack_require__(76034);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.get.js
var es_reflect_get = __webpack_require__(32349);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(30911);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/superPropBase.js

function _superPropBase(object, property) {
  while (!Object.prototype.hasOwnProperty.call(object, property)) {
    object = (0,getPrototypeOf/* default */.Z)(object);
    if (object === null) break;
  }
  return object;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/get.js




function _get() {
  if (typeof Reflect !== "undefined" && Reflect.get) {
    _get = Reflect.get.bind();
  } else {
    _get = function _get(target, property, receiver) {
      var base = _superPropBase(target, property);
      if (!base) return;
      var desc = Object.getOwnPropertyDescriptor(base, property);
      if (desc.get) {
        return desc.get.call(arguments.length < 3 ? target : receiver);
      }
      return desc.value;
    };
  }
  return _get.apply(this, arguments);
}

/***/ }),

/***/ 30911:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _getPrototypeOf; }
/* harmony export */ });
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

/***/ }),

/***/ 2979:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _inherits; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21057);
/* harmony import */ var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(48440);


function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }
  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  Object.defineProperty(subClass, "prototype", {
    writable: false
  });
  if (superClass) (0,_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(subClass, superClass);
}

/***/ }),

/***/ 47316:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _isNativeReflectConstruct; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_reflect_to_string_tag_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76034);
/* harmony import */ var core_js_modules_es_reflect_construct_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(30050);



function _isNativeReflectConstruct() {
  if (typeof Reflect === "undefined" || !Reflect.construct) return false;
  if (Reflect.construct.sham) return false;
  if (typeof Proxy === "function") return true;
  try {
    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));
    return true;
  } catch (e) {
    return false;
  }
}

/***/ }),

/***/ 64402:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _objectSpread2; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59749);
/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(38077);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(70560);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47522);
/* harmony import */ var core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99474);
/* harmony import */ var _defineProperty_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(50558);







function ownKeys(e, r) {
  var t = Object.keys(e);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e);
    r && (o = o.filter(function (r) {
      return Object.getOwnPropertyDescriptor(e, r).enumerable;
    })), t.push.apply(t, o);
  }
  return t;
}
function _objectSpread2(e) {
  for (var r = 1; r < arguments.length; r++) {
    var t = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {
      (0,_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .Z)(e, r, t[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {
      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));
    });
  }
  return e;
}

/***/ }),

/***/ 21919:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _possibleConstructorReturn; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21057);
/* harmony import */ var _typeof_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(84166);
/* harmony import */ var _assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85457);



function _possibleConstructorReturn(self, call) {
  if (call && ((0,_typeof_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .Z)(call) === "object" || typeof call === "function")) {
    return call;
  } else if (call !== void 0) {
    throw new TypeError("Derived constructors may only return object or undefined");
  }
  return (0,_assertThisInitialized_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .Z)(self);
}

/***/ }),

/***/ 48440:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _setPrototypeOf; }
/* harmony export */ });
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };
  return _setPrototypeOf(o, p);
}

/***/ }),

/***/ 64224:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ _slicedToArray; }
});

;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js
function _arrayWithHoles(arr) {
  if (Array.isArray(arr)) return arr;
}
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js
var es_symbol = __webpack_require__(59749);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js
var es_symbol_description = __webpack_require__(86544);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var es_object_to_string = __webpack_require__(60228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js
var es_array_iterator = __webpack_require__(752);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js
var web_dom_collections_iterator = __webpack_require__(76265);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__(70560);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js






function _iterableToArrayLimit(r, l) {
  var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
  if (null != t) {
    var e,
      n,
      i,
      u,
      a = [],
      f = !0,
      o = !1;
    try {
      if (i = (t = t.call(r)).next, 0 === l) {
        if (Object(t) !== t) return;
        f = !1;
      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);
    } catch (r) {
      o = !0, n = r;
    } finally {
      try {
        if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return;
      } finally {
        if (o) throw n;
      }
    }
    return a;
  }
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js
var unsupportedIterableToArray = __webpack_require__(46078);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.error.cause.js
var es_error_cause = __webpack_require__(21057);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js




function _slicedToArray(arr, i) {
  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || (0,unsupportedIterableToArray/* default */.Z)(arr, i) || _nonIterableRest();
}

/***/ }),

/***/ 16097:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ _toConsumableArray; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js
var arrayLikeToArray = __webpack_require__(6301);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js

function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return (0,arrayLikeToArray/* default */.Z)(arr);
}
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js
var es_symbol = __webpack_require__(59749);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js
var es_symbol_description = __webpack_require__(86544);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var es_object_to_string = __webpack_require__(60228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js
var es_array_iterator = __webpack_require__(752);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js
var web_dom_collections_iterator = __webpack_require__(76265);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/iterableToArray.js





function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js
var unsupportedIterableToArray = __webpack_require__(46078);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.error.cause.js
var es_error_cause = __webpack_require__(21057);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js




function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || (0,unsupportedIterableToArray/* default */.Z)(arr) || _nonIterableSpread();
}

/***/ }),

/***/ 61564:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ toPropertyKey; }
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
var esm_typeof = __webpack_require__(84166);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.to-primitive.js
var es_symbol_to_primitive = __webpack_require__(69373);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.date.to-primitive.js
var es_date_to_primitive = __webpack_require__(59903);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js
var es_symbol = __webpack_require__(59749);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js
var es_symbol_description = __webpack_require__(86544);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var es_object_to_string = __webpack_require__(60228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.error.cause.js
var es_error_cause = __webpack_require__(21057);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPrimitive.js







function toPrimitive(t, r) {
  if ("object" != (0,esm_typeof/* default */.Z)(t) || !t) return t;
  var e = t[Symbol.toPrimitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != (0,esm_typeof/* default */.Z)(i)) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js


function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == (0,esm_typeof/* default */.Z)(i) ? i : String(i);
}

/***/ }),

/***/ 84166:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _typeof; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59749);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86544);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(752);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(76265);





function _typeof(o) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, _typeof(o);
}

/***/ }),

/***/ 46078:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: function() { return /* binding */ _unsupportedIterableToArray; }
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(89730);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60228);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12826);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(64043);
/* harmony import */ var core_js_modules_es_regexp_test_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(7409);
/* harmony import */ var _arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6301);






function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return (0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .Z)(o, minLen);
}

/***/ }),

/***/ 63636:
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: function() { return /* binding */ _wrapNativeSuper; }
});

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js
var es_array_iterator = __webpack_require__(752);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.map.js
var es_map = __webpack_require__(56646);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var es_object_to_string = __webpack_require__(60228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js
var web_dom_collections_iterator = __webpack_require__(76265);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.error.cause.js
var es_error_cause = __webpack_require__(21057);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(30911);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js
var setPrototypeOf = __webpack_require__(48440);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js
var es_regexp_to_string = __webpack_require__(12826);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js


function _isNativeFunction(fn) {
  try {
    return Function.toString.call(fn).indexOf("[native code]") !== -1;
  } catch (e) {
    return typeof fn === "function";
  }
}
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.construct.js
var es_reflect_construct = __webpack_require__(30050);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.to-string-tag.js
var es_reflect_to_string_tag = __webpack_require__(76034);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__(70560);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js
var isNativeReflectConstruct = __webpack_require__(47316);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/construct.js






function _construct(Parent, args, Class) {
  if ((0,isNativeReflectConstruct/* default */.Z)()) {
    _construct = Reflect.construct.bind();
  } else {
    _construct = function _construct(Parent, args, Class) {
      var a = [null];
      a.push.apply(a, args);
      var Constructor = Function.bind.apply(Parent, a);
      var instance = new Constructor();
      if (Class) (0,setPrototypeOf/* default */.Z)(instance, Class.prototype);
      return instance;
    };
  }
  return _construct.apply(null, arguments);
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js









function _wrapNativeSuper(Class) {
  var _cache = typeof Map === "function" ? new Map() : undefined;
  _wrapNativeSuper = function _wrapNativeSuper(Class) {
    if (Class === null || !_isNativeFunction(Class)) return Class;
    if (typeof Class !== "function") {
      throw new TypeError("Super expression must either be null or a function");
    }
    if (typeof _cache !== "undefined") {
      if (_cache.has(Class)) return _cache.get(Class);
      _cache.set(Class, Wrapper);
    }
    function Wrapper() {
      return _construct(Class, arguments, (0,getPrototypeOf/* default */.Z)(this).constructor);
    }
    Wrapper.prototype = Object.create(Class.prototype, {
      constructor: {
        value: Wrapper,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    return (0,setPrototypeOf/* default */.Z)(Wrapper, Class);
  };
  return _wrapNativeSuper(Class);
}

/***/ }),

/***/ 10248:
/***/ (function(module) {

"use strict";
module.exports = JSON.parse('["aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermgensberater","vermgensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volvo","vote","voting","voto","voyage","vu","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]');

/***/ }),

/***/ 51940:
/***/ (function(module) {

"use strict";
module.exports = JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}');

/***/ }),

/***/ 86639:
/***/ (function(module) {

"use strict";
module.exports = JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	!function() {
/******/ 		__webpack_require__.amdO = {};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	!function() {
/******/ 		var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });
/******/ 			}
/******/ 			def['default'] = function() { return value; };
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	!function() {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = function(chunkId) {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	!function() {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = function(chunkId) {
/******/ 			// return url for filenames based on template
/******/ 			return "metaScore.Player.umd." + ({"342":"blockly-locale-en","996":"blockly-locale-fr"}[chunkId] || chunkId) + ".js";
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	!function() {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.miniCssF = function(chunkId) {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	!function() {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "metaScore:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = function(url, done, key, chunkId) {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = function(prev, event) {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach(function(fn) { return fn(event); });
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	!function() {
/******/ 		__webpack_require__.nmd = function(module) {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	!function() {
/******/ 		__webpack_require__.p = "";
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	!function() {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			813: 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = function(chunkId, promises) {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = function(event) {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = (typeof self !== 'undefined' ? self : this)["webpackChunkmetaScore"] = (typeof self !== 'undefined' ? self : this)["webpackChunkmetaScore"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	}();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
!function() {
"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Player: function() { return /* reexport */ Player; }
});

// NAMESPACE OBJECT: ./packages/core/modules/app_components/models/index.js
var models_namespaceObject = {};
__webpack_require__.r(models_namespaceObject);
__webpack_require__.d(models_namespaceObject, {
  AbstractComponent: function() { return AbstractComponent; },
  Animation: function() { return Animation; },
  Block: function() { return Block; },
  BlockToggler: function() { return BlockToggler; },
  Content: function() { return Content; },
  Controller: function() { return Controller; },
  Cursor: function() { return Cursor; },
  EmbeddableComponent: function() { return EmbeddableComponent; },
  Image: function() { return Image; },
  Media: function() { return Media; },
  Page: function() { return Page; },
  SVG: function() { return SVG; },
  Scenario: function() { return Scenario; },
  VideoRenderer: function() { return VideoRenderer; }
});

;// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js
/* eslint-disable no-var */
// This file is imported into lib/wc client bundles.

if (typeof window !== 'undefined') {
  var currentScript = window.document.currentScript
  if (false) { var getCurrentScript; }

  var src = currentScript && currentScript.src.match(/(.+\/)[^/]+\.js(\?.*)?$/)
  if (src) {
    __webpack_require__.p = src[1] // eslint-disable-line
  }
}

// Indicate to webpack that this file can be concatenated
/* harmony default export */ var setPublicPath = (null);

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js
var es_symbol = __webpack_require__(59749);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js
var es_symbol_description = __webpack_require__(86544);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var es_object_to_string = __webpack_require__(60228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js
var es_array_iterator = __webpack_require__(752);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js
var web_dom_collections_iterator = __webpack_require__(76265);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.async-iterator.js
var es_symbol_async_iterator = __webpack_require__(58373);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.to-string-tag.js
var es_symbol_to_string_tag = __webpack_require__(66793);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.json.to-string-tag.js
var es_json_to_string_tag = __webpack_require__(7629);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.math.to-string-tag.js
var es_math_to_string_tag = __webpack_require__(77509);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.error.cause.js
var es_error_cause = __webpack_require__(21057);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__(70560);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js
var web_dom_collections_for_each = __webpack_require__(47522);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js
var es_promise = __webpack_require__(73964);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.reverse.js
var es_array_reverse = __webpack_require__(93374);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js
var es_array_slice = __webpack_require__(89730);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
var esm_typeof = __webpack_require__(84166);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
















function regeneratorRuntime_regeneratorRuntime() {
  "use strict";

  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
  regeneratorRuntime_regeneratorRuntime = function _regeneratorRuntime() {
    return e;
  };
  var t,
    e = {},
    r = Object.prototype,
    n = r.hasOwnProperty,
    o = Object.defineProperty || function (t, e, r) {
      t[e] = r.value;
    },
    i = "function" == typeof Symbol ? Symbol : {},
    a = i.iterator || "@@iterator",
    c = i.asyncIterator || "@@asyncIterator",
    u = i.toStringTag || "@@toStringTag";
  function define(t, e, r) {
    return Object.defineProperty(t, e, {
      value: r,
      enumerable: !0,
      configurable: !0,
      writable: !0
    }), t[e];
  }
  try {
    define({}, "");
  } catch (t) {
    define = function define(t, e, r) {
      return t[e] = r;
    };
  }
  function wrap(t, e, r, n) {
    var i = e && e.prototype instanceof Generator ? e : Generator,
      a = Object.create(i.prototype),
      c = new Context(n || []);
    return o(a, "_invoke", {
      value: makeInvokeMethod(t, r, c)
    }), a;
  }
  function tryCatch(t, e, r) {
    try {
      return {
        type: "normal",
        arg: t.call(e, r)
      };
    } catch (t) {
      return {
        type: "throw",
        arg: t
      };
    }
  }
  e.wrap = wrap;
  var h = "suspendedStart",
    l = "suspendedYield",
    f = "executing",
    s = "completed",
    y = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  var p = {};
  define(p, a, function () {
    return this;
  });
  var d = Object.getPrototypeOf,
    v = d && d(d(values([])));
  v && v !== r && n.call(v, a) && (p = v);
  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);
  function defineIteratorMethods(t) {
    ["next", "throw", "return"].forEach(function (e) {
      define(t, e, function (t) {
        return this._invoke(e, t);
      });
    });
  }
  function AsyncIterator(t, e) {
    function invoke(r, o, i, a) {
      var c = tryCatch(t[r], t, o);
      if ("throw" !== c.type) {
        var u = c.arg,
          h = u.value;
        return h && "object" == (0,esm_typeof/* default */.Z)(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) {
          invoke("next", t, i, a);
        }, function (t) {
          invoke("throw", t, i, a);
        }) : e.resolve(h).then(function (t) {
          u.value = t, i(u);
        }, function (t) {
          return invoke("throw", t, i, a);
        });
      }
      a(c.arg);
    }
    var r;
    o(this, "_invoke", {
      value: function value(t, n) {
        function callInvokeWithMethodAndArg() {
          return new e(function (e, r) {
            invoke(t, n, e, r);
          });
        }
        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
      }
    });
  }
  function makeInvokeMethod(e, r, n) {
    var o = h;
    return function (i, a) {
      if (o === f) throw new Error("Generator is already running");
      if (o === s) {
        if ("throw" === i) throw a;
        return {
          value: t,
          done: !0
        };
      }
      for (n.method = i, n.arg = a;;) {
        var c = n.delegate;
        if (c) {
          var u = maybeInvokeDelegate(c, n);
          if (u) {
            if (u === y) continue;
            return u;
          }
        }
        if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {
          if (o === h) throw o = s, n.arg;
          n.dispatchException(n.arg);
        } else "return" === n.method && n.abrupt("return", n.arg);
        o = f;
        var p = tryCatch(e, r, n);
        if ("normal" === p.type) {
          if (o = n.done ? s : l, p.arg === y) continue;
          return {
            value: p.arg,
            done: n.done
          };
        }
        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
      }
    };
  }
  function maybeInvokeDelegate(e, r) {
    var n = r.method,
      o = e.iterator[n];
    if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
    var i = tryCatch(o, e.iterator, r.arg);
    if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y;
    var a = i.arg;
    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);
  }
  function pushTryEntry(t) {
    var e = {
      tryLoc: t[0]
    };
    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);
  }
  function resetTryEntry(t) {
    var e = t.completion || {};
    e.type = "normal", delete e.arg, t.completion = e;
  }
  function Context(t) {
    this.tryEntries = [{
      tryLoc: "root"
    }], t.forEach(pushTryEntry, this), this.reset(!0);
  }
  function values(e) {
    if (e || "" === e) {
      var r = e[a];
      if (r) return r.call(e);
      if ("function" == typeof e.next) return e;
      if (!isNaN(e.length)) {
        var o = -1,
          i = function next() {
            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;
            return next.value = t, next.done = !0, next;
          };
        return i.next = i;
      }
    }
    throw new TypeError((0,esm_typeof/* default */.Z)(e) + " is not iterable");
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
    value: GeneratorFunctionPrototype,
    configurable: !0
  }), o(GeneratorFunctionPrototype, "constructor", {
    value: GeneratorFunction,
    configurable: !0
  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) {
    var e = "function" == typeof t && t.constructor;
    return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
  }, e.mark = function (t) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t;
  }, e.awrap = function (t) {
    return {
      __await: t
    };
  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {
    return this;
  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {
    void 0 === i && (i = Promise);
    var a = new AsyncIterator(wrap(t, r, n, o), i);
    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {
      return t.done ? t.value : a.next();
    });
  }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () {
    return this;
  }), define(g, "toString", function () {
    return "[object Generator]";
  }), e.keys = function (t) {
    var e = Object(t),
      r = [];
    for (var n in e) r.push(n);
    return r.reverse(), function next() {
      for (; r.length;) {
        var t = r.pop();
        if (t in e) return next.value = t, next.done = !1, next;
      }
      return next.done = !0, next;
    };
  }, e.values = values, Context.prototype = {
    constructor: Context,
    reset: function reset(e) {
      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);
    },
    stop: function stop() {
      this.done = !0;
      var t = this.tryEntries[0].completion;
      if ("throw" === t.type) throw t.arg;
      return this.rval;
    },
    dispatchException: function dispatchException(e) {
      if (this.done) throw e;
      var r = this;
      function handle(n, o) {
        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o;
      }
      for (var o = this.tryEntries.length - 1; o >= 0; --o) {
        var i = this.tryEntries[o],
          a = i.completion;
        if ("root" === i.tryLoc) return handle("end");
        if (i.tryLoc <= this.prev) {
          var c = n.call(i, "catchLoc"),
            u = n.call(i, "finallyLoc");
          if (c && u) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          } else if (c) {
            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
          } else {
            if (!u) throw new Error("try statement without catch or finally");
            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
          }
        }
      }
    },
    abrupt: function abrupt(t, e) {
      for (var r = this.tryEntries.length - 1; r >= 0; --r) {
        var o = this.tryEntries[r];
        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
          var i = o;
          break;
        }
      }
      i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
      var a = i ? i.completion : {};
      return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a);
    },
    complete: function complete(t, e) {
      if ("throw" === t.type) throw t.arg;
      return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y;
    },
    finish: function finish(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;
      }
    },
    "catch": function _catch(t) {
      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
        var r = this.tryEntries[e];
        if (r.tryLoc === t) {
          var n = r.completion;
          if ("throw" === n.type) {
            var o = n.arg;
            resetTryEntry(r);
          }
          return o;
        }
      }
      throw new Error("illegal catch attempt");
    },
    delegateYield: function delegateYield(e, r, n) {
      return this.delegate = {
        iterator: values(e),
        resultName: r,
        nextLoc: n
      }, "next" === this.method && (this.arg = t), y;
    }
  }, e;
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules
var slicedToArray = __webpack_require__(64224);
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js


function objectWithoutProperties_objectWithoutProperties(source, excluded) {
  if (source == null) return {};
  var target = _objectWithoutPropertiesLoose(source, excluded);
  var key, i;
  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }
  return target;
}
;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }
  if (info.done) {
    resolve(value);
  } else {
    Promise.resolve(value).then(_next, _throw);
  }
}
function asyncToGenerator_asyncToGenerator(fn) {
  return function () {
    var self = this,
      args = arguments;
    return new Promise(function (resolve, reject) {
      var gen = fn.apply(self, args);
      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }
      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }
      _next(undefined);
    });
  };
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js
var classCallCheck = __webpack_require__(17865);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js
var createClass = __webpack_require__(89465);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js
var defineProperty = __webpack_require__(50558);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.entries.js
var es_object_entries = __webpack_require__(36585);
;// CONCATENATED MODULE: ./package.json
var package_namespaceObject = {"i8":"3.5.0"};
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.construct.js
var es_reflect_construct = __webpack_require__(30050);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.to-string-tag.js
var es_reflect_to_string_tag = __webpack_require__(76034);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js
var createForOfIteratorHelper = __webpack_require__(83690);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js
var possibleConstructorReturn = __webpack_require__(21919);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js
var isNativeReflectConstruct = __webpack_require__(47316);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js
var inherits = __webpack_require__(2979);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules
var toConsumableArray = __webpack_require__(16097);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js
var es_regexp_exec = __webpack_require__(64043);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js
var es_string_split = __webpack_require__(9873);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.js
var es_set = __webpack_require__(19649);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.test.js
var es_regexp_test = __webpack_require__(7409);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js
var es_regexp_to_string = __webpack_require__(12826);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js
var es_array_concat = __webpack_require__(34338);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js
var es_array_map = __webpack_require__(50886);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js
var es_string_replace = __webpack_require__(57267);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.starts-with.js
var es_string_starts_with = __webpack_require__(268);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js
var es_array_includes = __webpack_require__(76801);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js
var es_string_includes = __webpack_require__(43843);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js
var es_string_match = __webpack_require__(22462);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.weak-map.js
var es_weak_map = __webpack_require__(51090);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js
var es_array_filter = __webpack_require__(38077);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim.js
var es_string_trim = __webpack_require__(28436);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js
var es_array_splice = __webpack_require__(62506);
// EXTERNAL MODULE: ./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js
var runtime_core_esm_bundler = __webpack_require__(1120);
// EXTERNAL MODULE: ./node_modules/@vue/shared/dist/shared.esm-bundler.js
var shared_esm_bundler = __webpack_require__(88686);
// EXTERNAL MODULE: ./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js
var reactivity_esm_bundler = __webpack_require__(39241);
;// CONCATENATED MODULE: ./node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js











function _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }

























/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/



var svgNS = "http://www.w3.org/2000/svg";
var mathmlNS = "http://www.w3.org/1998/Math/MathML";
var doc = typeof document !== "undefined" ? document : null;
var templateContainer = doc && /* @__PURE__ */doc.createElement("template");
var nodeOps = {
  insert: function insert(child, parent, anchor) {
    parent.insertBefore(child, anchor || null);
  },
  remove: function remove(child) {
    var parent = child.parentNode;
    if (parent) {
      parent.removeChild(child);
    }
  },
  createElement: function createElement(tag, namespace, is, props) {
    var el = namespace === "svg" ? doc.createElementNS(svgNS, tag) : namespace === "mathml" ? doc.createElementNS(mathmlNS, tag) : doc.createElement(tag, is ? {
      is
    } : void 0);
    if (tag === "select" && props && props.multiple != null) {
      el.setAttribute("multiple", props.multiple);
    }
    return el;
  },
  createText: function createText(text) {
    return doc.createTextNode(text);
  },
  createComment: function createComment(text) {
    return doc.createComment(text);
  },
  setText: function setText(node, text) {
    node.nodeValue = text;
  },
  setElementText: function setElementText(el, text) {
    el.textContent = text;
  },
  parentNode: function parentNode(node) {
    return node.parentNode;
  },
  nextSibling: function nextSibling(node) {
    return node.nextSibling;
  },
  querySelector: function querySelector(selector) {
    return doc.querySelector(selector);
  },
  setScopeId(el, id) {
    el.setAttribute(id, "");
  },
  // __UNSAFE__
  // Reason: innerHTML.
  // Static content here can only come from compiled templates.
  // As long as the user only uses trusted templates, this is safe.
  insertStaticContent(content, parent, anchor, namespace, start, end) {
    var before = anchor ? anchor.previousSibling : parent.lastChild;
    if (start && (start === end || start.nextSibling)) {
      while (true) {
        parent.insertBefore(start.cloneNode(true), anchor);
        if (start === end || !(start = start.nextSibling)) break;
      }
    } else {
      templateContainer.innerHTML = namespace === "svg" ? `<svg>${content}</svg>` : namespace === "mathml" ? `<math>${content}</math>` : content;
      var template = templateContainer.content;
      if (namespace === "svg" || namespace === "mathml") {
        var wrapper = template.firstChild;
        while (wrapper.firstChild) {
          template.appendChild(wrapper.firstChild);
        }
        template.removeChild(wrapper);
      }
      parent.insertBefore(template, anchor);
    }
    return [
    // first
    before ? before.nextSibling : parent.firstChild,
    // last
    anchor ? anchor.previousSibling : parent.lastChild];
  }
};
var TRANSITION = "transition";
var ANIMATION = "animation";
var vtcKey = Symbol("_vtc");
var Transition = function Transition(props, _ref) {
  var slots = _ref.slots;
  return (0,runtime_core_esm_bundler.h)(runtime_core_esm_bundler/* BaseTransition */.P$, resolveTransitionProps(props), slots);
};
Transition.displayName = "Transition";
var DOMTransitionPropsValidators = {
  name: String,
  type: String,
  css: {
    type: Boolean,
    default: true
  },
  duration: [String, Number, Object],
  enterFromClass: String,
  enterActiveClass: String,
  enterToClass: String,
  appearFromClass: String,
  appearActiveClass: String,
  appearToClass: String,
  leaveFromClass: String,
  leaveActiveClass: String,
  leaveToClass: String
};
var TransitionPropsValidators = Transition.props = /* @__PURE__ */(0,shared_esm_bundler/* extend */.l7)({}, runtime_core_esm_bundler/* BaseTransitionPropsValidators */.nJ, DOMTransitionPropsValidators);
var callHook = function callHook(hook) {
  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  if ((0,shared_esm_bundler/* isArray */.kJ)(hook)) {
    hook.forEach(function (h2) {
      return h2.apply(void 0, (0,toConsumableArray/* default */.Z)(args));
    });
  } else if (hook) {
    hook.apply(void 0, (0,toConsumableArray/* default */.Z)(args));
  }
};
var hasExplicitCallback = function hasExplicitCallback(hook) {
  return hook ? (0,shared_esm_bundler/* isArray */.kJ)(hook) ? hook.some(function (h2) {
    return h2.length > 1;
  }) : hook.length > 1 : false;
};
function resolveTransitionProps(rawProps) {
  var baseProps = {};
  for (var key in rawProps) {
    if (!(key in DOMTransitionPropsValidators)) {
      baseProps[key] = rawProps[key];
    }
  }
  if (rawProps.css === false) {
    return baseProps;
  }
  var _rawProps$name = rawProps.name,
    name = _rawProps$name === void 0 ? "v" : _rawProps$name,
    type = rawProps.type,
    duration = rawProps.duration,
    _rawProps$enterFromCl = rawProps.enterFromClass,
    enterFromClass = _rawProps$enterFromCl === void 0 ? `${name}-enter-from` : _rawProps$enterFromCl,
    _rawProps$enterActive = rawProps.enterActiveClass,
    enterActiveClass = _rawProps$enterActive === void 0 ? `${name}-enter-active` : _rawProps$enterActive,
    _rawProps$enterToClas = rawProps.enterToClass,
    enterToClass = _rawProps$enterToClas === void 0 ? `${name}-enter-to` : _rawProps$enterToClas,
    _rawProps$appearFromC = rawProps.appearFromClass,
    appearFromClass = _rawProps$appearFromC === void 0 ? enterFromClass : _rawProps$appearFromC,
    _rawProps$appearActiv = rawProps.appearActiveClass,
    appearActiveClass = _rawProps$appearActiv === void 0 ? enterActiveClass : _rawProps$appearActiv,
    _rawProps$appearToCla = rawProps.appearToClass,
    appearToClass = _rawProps$appearToCla === void 0 ? enterToClass : _rawProps$appearToCla,
    _rawProps$leaveFromCl = rawProps.leaveFromClass,
    leaveFromClass = _rawProps$leaveFromCl === void 0 ? `${name}-leave-from` : _rawProps$leaveFromCl,
    _rawProps$leaveActive = rawProps.leaveActiveClass,
    leaveActiveClass = _rawProps$leaveActive === void 0 ? `${name}-leave-active` : _rawProps$leaveActive,
    _rawProps$leaveToClas = rawProps.leaveToClass,
    leaveToClass = _rawProps$leaveToClas === void 0 ? `${name}-leave-to` : _rawProps$leaveToClas;
  var durations = normalizeDuration(duration);
  var enterDuration = durations && durations[0];
  var leaveDuration = durations && durations[1];
  var onBeforeEnter = baseProps.onBeforeEnter,
    onEnter = baseProps.onEnter,
    onEnterCancelled = baseProps.onEnterCancelled,
    onLeave = baseProps.onLeave,
    onLeaveCancelled = baseProps.onLeaveCancelled,
    _baseProps$onBeforeAp = baseProps.onBeforeAppear,
    onBeforeAppear = _baseProps$onBeforeAp === void 0 ? onBeforeEnter : _baseProps$onBeforeAp,
    _baseProps$onAppear = baseProps.onAppear,
    onAppear = _baseProps$onAppear === void 0 ? onEnter : _baseProps$onAppear,
    _baseProps$onAppearCa = baseProps.onAppearCancelled,
    onAppearCancelled = _baseProps$onAppearCa === void 0 ? onEnterCancelled : _baseProps$onAppearCa;
  var finishEnter = function finishEnter(el, isAppear, done) {
    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);
    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);
    done && done();
  };
  var finishLeave = function finishLeave(el, done) {
    el._isLeaving = false;
    removeTransitionClass(el, leaveFromClass);
    removeTransitionClass(el, leaveToClass);
    removeTransitionClass(el, leaveActiveClass);
    done && done();
  };
  var makeEnterHook = function makeEnterHook(isAppear) {
    return function (el, done) {
      var hook = isAppear ? onAppear : onEnter;
      var resolve = function resolve() {
        return finishEnter(el, isAppear, done);
      };
      callHook(hook, [el, resolve]);
      nextFrame(function () {
        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);
        addTransitionClass(el, isAppear ? appearToClass : enterToClass);
        if (!hasExplicitCallback(hook)) {
          whenTransitionEnds(el, type, enterDuration, resolve);
        }
      });
    };
  };
  return (0,shared_esm_bundler/* extend */.l7)(baseProps, {
    onBeforeEnter(el) {
      callHook(onBeforeEnter, [el]);
      addTransitionClass(el, enterFromClass);
      addTransitionClass(el, enterActiveClass);
    },
    onBeforeAppear(el) {
      callHook(onBeforeAppear, [el]);
      addTransitionClass(el, appearFromClass);
      addTransitionClass(el, appearActiveClass);
    },
    onEnter: makeEnterHook(false),
    onAppear: makeEnterHook(true),
    onLeave(el, done) {
      el._isLeaving = true;
      var resolve = function resolve() {
        return finishLeave(el, done);
      };
      addTransitionClass(el, leaveFromClass);
      forceReflow();
      addTransitionClass(el, leaveActiveClass);
      nextFrame(function () {
        if (!el._isLeaving) {
          return;
        }
        removeTransitionClass(el, leaveFromClass);
        addTransitionClass(el, leaveToClass);
        if (!hasExplicitCallback(onLeave)) {
          whenTransitionEnds(el, type, leaveDuration, resolve);
        }
      });
      callHook(onLeave, [el, resolve]);
    },
    onEnterCancelled(el) {
      finishEnter(el, false);
      callHook(onEnterCancelled, [el]);
    },
    onAppearCancelled(el) {
      finishEnter(el, true);
      callHook(onAppearCancelled, [el]);
    },
    onLeaveCancelled(el) {
      finishLeave(el);
      callHook(onLeaveCancelled, [el]);
    }
  });
}
function normalizeDuration(duration) {
  if (duration == null) {
    return null;
  } else if ((0,shared_esm_bundler/* isObject */.Kn)(duration)) {
    return [NumberOf(duration.enter), NumberOf(duration.leave)];
  } else {
    var n = NumberOf(duration);
    return [n, n];
  }
}
function NumberOf(val) {
  var res = (0,shared_esm_bundler/* toNumber */.He)(val);
  if (false) {}
  return res;
}
function addTransitionClass(el, cls) {
  cls.split(/\s+/).forEach(function (c) {
    return c && el.classList.add(c);
  });
  (el[vtcKey] || (el[vtcKey] = /* @__PURE__ */new Set())).add(cls);
}
function removeTransitionClass(el, cls) {
  cls.split(/\s+/).forEach(function (c) {
    return c && el.classList.remove(c);
  });
  var _vtc = el[vtcKey];
  if (_vtc) {
    _vtc.delete(cls);
    if (!_vtc.size) {
      el[vtcKey] = void 0;
    }
  }
}
function nextFrame(cb) {
  requestAnimationFrame(function () {
    requestAnimationFrame(cb);
  });
}
var endId = 0;
function whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {
  var id = el._endId = ++endId;
  var resolveIfNotStale = function resolveIfNotStale() {
    if (id === el._endId) {
      resolve();
    }
  };
  if (explicitTimeout) {
    return setTimeout(resolveIfNotStale, explicitTimeout);
  }
  var _getTransitionInfo = getTransitionInfo(el, expectedType),
    type = _getTransitionInfo.type,
    timeout = _getTransitionInfo.timeout,
    propCount = _getTransitionInfo.propCount;
  if (!type) {
    return resolve();
  }
  var endEvent = type + "end";
  var ended = 0;
  var end = function end() {
    el.removeEventListener(endEvent, onEnd);
    resolveIfNotStale();
  };
  var onEnd = function onEnd(e) {
    if (e.target === el && ++ended >= propCount) {
      end();
    }
  };
  setTimeout(function () {
    if (ended < propCount) {
      end();
    }
  }, timeout + 1);
  el.addEventListener(endEvent, onEnd);
}
function getTransitionInfo(el, expectedType) {
  var styles = window.getComputedStyle(el);
  var getStyleProperties = function getStyleProperties(key) {
    return (styles[key] || "").split(", ");
  };
  var transitionDelays = getStyleProperties(`${TRANSITION}Delay`);
  var transitionDurations = getStyleProperties(`${TRANSITION}Duration`);
  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);
  var animationDelays = getStyleProperties(`${ANIMATION}Delay`);
  var animationDurations = getStyleProperties(`${ANIMATION}Duration`);
  var animationTimeout = getTimeout(animationDelays, animationDurations);
  var type = null;
  var timeout = 0;
  var propCount = 0;
  if (expectedType === TRANSITION) {
    if (transitionTimeout > 0) {
      type = TRANSITION;
      timeout = transitionTimeout;
      propCount = transitionDurations.length;
    }
  } else if (expectedType === ANIMATION) {
    if (animationTimeout > 0) {
      type = ANIMATION;
      timeout = animationTimeout;
      propCount = animationDurations.length;
    }
  } else {
    timeout = Math.max(transitionTimeout, animationTimeout);
    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;
    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;
  }
  var hasTransform = type === TRANSITION && /\b(transform|all)(,|$)/.test(getStyleProperties(`${TRANSITION}Property`).toString());
  return {
    type,
    timeout,
    propCount,
    hasTransform
  };
}
function getTimeout(delays, durations) {
  while (delays.length < durations.length) {
    delays = delays.concat(delays);
  }
  return Math.max.apply(Math, (0,toConsumableArray/* default */.Z)(durations.map(function (d, i) {
    return toMs(d) + toMs(delays[i]);
  })));
}
function toMs(s) {
  if (s === "auto") return 0;
  return Number(s.slice(0, -1).replace(",", ".")) * 1e3;
}
function forceReflow() {
  return document.body.offsetHeight;
}
function patchClass(el, value, isSVG) {
  var transitionClasses = el[vtcKey];
  if (transitionClasses) {
    value = (value ? [value].concat((0,toConsumableArray/* default */.Z)(transitionClasses)) : (0,toConsumableArray/* default */.Z)(transitionClasses)).join(" ");
  }
  if (value == null) {
    el.removeAttribute("class");
  } else if (isSVG) {
    el.setAttribute("class", value);
  } else {
    el.className = value;
  }
}
var vShowOldKey = Symbol("_vod");
var vShow = {
  beforeMount(el, _ref2, _ref3) {
    var value = _ref2.value;
    var transition = _ref3.transition;
    el[vShowOldKey] = el.style.display === "none" ? "" : el.style.display;
    if (transition && value) {
      transition.beforeEnter(el);
    } else {
      setDisplay(el, value);
    }
  },
  mounted(el, _ref4, _ref5) {
    var value = _ref4.value;
    var transition = _ref5.transition;
    if (transition && value) {
      transition.enter(el);
    }
  },
  updated(el, _ref6, _ref7) {
    var value = _ref6.value,
      oldValue = _ref6.oldValue;
    var transition = _ref7.transition;
    if (!value === !oldValue) return;
    if (transition) {
      if (value) {
        transition.beforeEnter(el);
        setDisplay(el, true);
        transition.enter(el);
      } else {
        transition.leave(el, function () {
          setDisplay(el, false);
        });
      }
    } else {
      setDisplay(el, value);
    }
  },
  beforeUnmount(el, _ref8) {
    var value = _ref8.value;
    setDisplay(el, value);
  }
};
if (false) {}
function setDisplay(el, value) {
  el.style.display = value ? el[vShowOldKey] : "none";
}
function initVShowForSSR() {
  vShow.getSSRProps = function (_ref9) {
    var value = _ref9.value;
    if (!value) {
      return {
        style: {
          display: "none"
        }
      };
    }
  };
}
var CSS_VAR_TEXT = Symbol( false ? 0 : "");
function useCssVars(getter) {
  var instance = getCurrentInstance();
  if (!instance) {
     false && 0;
    return;
  }
  var updateTeleports = instance.ut = function () {
    var vars = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getter(instance.proxy);
    Array.from(document.querySelectorAll(`[data-v-owner="${instance.uid}"]`)).forEach(function (node) {
      return setVarsOnNode(node, vars);
    });
  };
  var setVars = function setVars() {
    var vars = getter(instance.proxy);
    setVarsOnVNode(instance.subTree, vars);
    updateTeleports(vars);
  };
  watchPostEffect(setVars);
  onMounted(function () {
    var ob = new MutationObserver(setVars);
    ob.observe(instance.subTree.el.parentNode, {
      childList: true
    });
    onUnmounted(function () {
      return ob.disconnect();
    });
  });
}
function setVarsOnVNode(vnode, vars) {
  if (vnode.shapeFlag & 128) {
    var suspense = vnode.suspense;
    vnode = suspense.activeBranch;
    if (suspense.pendingBranch && !suspense.isHydrating) {
      suspense.effects.push(function () {
        setVarsOnVNode(suspense.activeBranch, vars);
      });
    }
  }
  while (vnode.component) {
    vnode = vnode.component.subTree;
  }
  if (vnode.shapeFlag & 1 && vnode.el) {
    setVarsOnNode(vnode.el, vars);
  } else if (vnode.type === Fragment) {
    vnode.children.forEach(function (c) {
      return setVarsOnVNode(c, vars);
    });
  } else if (vnode.type === Static) {
    var _vnode = vnode,
      el = _vnode.el,
      anchor = _vnode.anchor;
    while (el) {
      setVarsOnNode(el, vars);
      if (el === anchor) break;
      el = el.nextSibling;
    }
  }
}
function setVarsOnNode(el, vars) {
  if (el.nodeType === 1) {
    var style = el.style;
    var cssText = "";
    for (var key in vars) {
      style.setProperty(`--${key}`, vars[key]);
      cssText += `--${key}: ${vars[key]};`;
    }
    style[CSS_VAR_TEXT] = cssText;
  }
}
function patchStyle(el, prev, next) {
  var style = el.style;
  var currentDisplay = style.display;
  var isCssString = (0,shared_esm_bundler/* isString */.HD)(next);
  if (next && !isCssString) {
    if (prev && !(0,shared_esm_bundler/* isString */.HD)(prev)) {
      for (var key in prev) {
        if (next[key] == null) {
          setStyle(style, key, "");
        }
      }
    }
    for (var _key in next) {
      setStyle(style, _key, next[_key]);
    }
  } else {
    if (isCssString) {
      if (prev !== next) {
        var cssVarText = style[CSS_VAR_TEXT];
        if (cssVarText) {
          next += ";" + cssVarText;
        }
        style.cssText = next;
      }
    } else if (prev) {
      el.removeAttribute("style");
    }
  }
  if (vShowOldKey in el) {
    style.display = currentDisplay;
  }
}
var semicolonRE = /[^\\];\s*$/;
var importantRE = /\s*!important$/;
function setStyle(style, name, val) {
  if ((0,shared_esm_bundler/* isArray */.kJ)(val)) {
    val.forEach(function (v) {
      return setStyle(style, name, v);
    });
  } else {
    if (val == null) val = "";
    if (false) {}
    if (name.startsWith("--")) {
      style.setProperty(name, val);
    } else {
      var prefixed = autoPrefix(style, name);
      if (importantRE.test(val)) {
        style.setProperty((0,shared_esm_bundler/* hyphenate */.rs)(prefixed), val.replace(importantRE, ""), "important");
      } else {
        style[prefixed] = val;
      }
    }
  }
}
var prefixes = ["Webkit", "Moz", "ms"];
var prefixCache = {};
function autoPrefix(style, rawName) {
  var cached = prefixCache[rawName];
  if (cached) {
    return cached;
  }
  var name = (0,shared_esm_bundler/* camelize */._A)(rawName);
  if (name !== "filter" && name in style) {
    return prefixCache[rawName] = name;
  }
  name = (0,shared_esm_bundler/* capitalize */.kC)(name);
  for (var i = 0; i < prefixes.length; i++) {
    var prefixed = prefixes[i] + name;
    if (prefixed in style) {
      return prefixCache[rawName] = prefixed;
    }
  }
  return rawName;
}
var xlinkNS = "http://www.w3.org/1999/xlink";
function patchAttr(el, key, value, isSVG, instance) {
  if (isSVG && key.startsWith("xlink:")) {
    if (value == null) {
      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));
    } else {
      el.setAttributeNS(xlinkNS, key, value);
    }
  } else {
    var isBoolean = (0,shared_esm_bundler/* isSpecialBooleanAttr */.Pq)(key);
    if (value == null || isBoolean && !(0,shared_esm_bundler/* includeBooleanAttr */.yA)(value)) {
      el.removeAttribute(key);
    } else {
      el.setAttribute(key, isBoolean ? "" : value);
    }
  }
}
function patchDOMProp(el, key, value, prevChildren, parentComponent, parentSuspense, unmountChildren) {
  if (key === "innerHTML" || key === "textContent") {
    if (prevChildren) {
      unmountChildren(prevChildren, parentComponent, parentSuspense);
    }
    el[key] = value == null ? "" : value;
    return;
  }
  var tag = el.tagName;
  if (key === "value" && tag !== "PROGRESS" &&
  // custom elements may use _value internally
  !tag.includes("-")) {
    el._value = value;
    var oldValue = tag === "OPTION" ? el.getAttribute("value") : el.value;
    var newValue = value == null ? "" : value;
    if (oldValue !== newValue) {
      el.value = newValue;
    }
    if (value == null) {
      el.removeAttribute(key);
    }
    return;
  }
  var needRemove = false;
  if (value === "" || value == null) {
    var type = typeof el[key];
    if (type === "boolean") {
      value = (0,shared_esm_bundler/* includeBooleanAttr */.yA)(value);
    } else if (value == null && type === "string") {
      value = "";
      needRemove = true;
    } else if (type === "number") {
      value = 0;
      needRemove = true;
    }
  }
  try {
    el[key] = value;
  } catch (e) {
    if (false) {}
  }
  needRemove && el.removeAttribute(key);
}
function addEventListener(el, event, handler, options) {
  el.addEventListener(event, handler, options);
}
function removeEventListener(el, event, handler, options) {
  el.removeEventListener(event, handler, options);
}
var veiKey = Symbol("_vei");
function patchEvent(el, rawName, prevValue, nextValue) {
  var instance = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
  var invokers = el[veiKey] || (el[veiKey] = {});
  var existingInvoker = invokers[rawName];
  if (nextValue && existingInvoker) {
    existingInvoker.value = nextValue;
  } else {
    var _parseName = parseName(rawName),
      _parseName2 = (0,slicedToArray/* default */.Z)(_parseName, 2),
      name = _parseName2[0],
      options = _parseName2[1];
    if (nextValue) {
      var invoker = invokers[rawName] = createInvoker(nextValue, instance);
      addEventListener(el, name, invoker, options);
    } else if (existingInvoker) {
      removeEventListener(el, name, existingInvoker, options);
      invokers[rawName] = void 0;
    }
  }
}
var optionsModifierRE = /(?:Once|Passive|Capture)$/;
function parseName(name) {
  var options;
  if (optionsModifierRE.test(name)) {
    options = {};
    var m;
    while (m = name.match(optionsModifierRE)) {
      name = name.slice(0, name.length - m[0].length);
      options[m[0].toLowerCase()] = true;
    }
  }
  var event = name[2] === ":" ? name.slice(3) : (0,shared_esm_bundler/* hyphenate */.rs)(name.slice(2));
  return [event, options];
}
var cachedNow = 0;
var p = /* @__PURE__ */Promise.resolve();
var getNow = function getNow() {
  return cachedNow || (p.then(function () {
    return cachedNow = 0;
  }), cachedNow = Date.now());
};
function createInvoker(initialValue, instance) {
  var invoker = function invoker(e) {
    if (!e._vts) {
      e._vts = Date.now();
    } else if (e._vts <= invoker.attached) {
      return;
    }
    (0,runtime_core_esm_bundler/* callWithAsyncErrorHandling */.$d)(patchStopImmediatePropagation(e, invoker.value), instance, 5, [e]);
  };
  invoker.value = initialValue;
  invoker.attached = getNow();
  return invoker;
}
function patchStopImmediatePropagation(e, value) {
  if ((0,shared_esm_bundler/* isArray */.kJ)(value)) {
    var originalStop = e.stopImmediatePropagation;
    e.stopImmediatePropagation = function () {
      originalStop.call(e);
      e._stopped = true;
    };
    return value.map(function (fn) {
      return function (e2) {
        return !e2._stopped && fn && fn(e2);
      };
    });
  } else {
    return value;
  }
}
var isNativeOn = function isNativeOn(key) {
  return key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 &&
  // lowercase letter
  key.charCodeAt(2) > 96 && key.charCodeAt(2) < 123;
};
var patchProp = function patchProp(el, key, prevValue, nextValue, namespace, prevChildren, parentComponent, parentSuspense, unmountChildren) {
  var isSVG = namespace === "svg";
  if (key === "class") {
    patchClass(el, nextValue, isSVG);
  } else if (key === "style") {
    patchStyle(el, prevValue, nextValue);
  } else if ((0,shared_esm_bundler/* isOn */.F7)(key)) {
    if (!(0,shared_esm_bundler/* isModelListener */.tR)(key)) {
      patchEvent(el, key, prevValue, nextValue, parentComponent);
    }
  } else if (key[0] === "." ? (key = key.slice(1), true) : key[0] === "^" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {
    patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);
  } else {
    if (key === "true-value") {
      el._trueValue = nextValue;
    } else if (key === "false-value") {
      el._falseValue = nextValue;
    }
    patchAttr(el, key, nextValue, isSVG);
  }
};
function shouldSetAsProp(el, key, value, isSVG) {
  if (isSVG) {
    if (key === "innerHTML" || key === "textContent") {
      return true;
    }
    if (key in el && isNativeOn(key) && (0,shared_esm_bundler/* isFunction */.mf)(value)) {
      return true;
    }
    return false;
  }
  if (key === "spellcheck" || key === "draggable" || key === "translate") {
    return false;
  }
  if (key === "form") {
    return false;
  }
  if (key === "list" && el.tagName === "INPUT") {
    return false;
  }
  if (key === "type" && el.tagName === "TEXTAREA") {
    return false;
  }
  if (key === "width" || key === "height") {
    var tag = el.tagName;
    if (tag === "IMG" || tag === "VIDEO" || tag === "CANVAS" || tag === "SOURCE") {
      return false;
    }
  }
  if (isNativeOn(key) && (0,shared_esm_bundler/* isString */.HD)(value)) {
    return false;
  }
  return key in el;
}

/*! #__NO_SIDE_EFFECTS__ */
// @__NO_SIDE_EFFECTS__
function defineCustomElement(options, hydrate2) {
  var Comp = defineComponent(options);
  var VueCustomElement = /*#__PURE__*/function (_VueElement) {
    _inherits(VueCustomElement, _VueElement);
    function VueCustomElement(initialProps) {
      _classCallCheck(this, VueCustomElement);
      return _callSuper(this, VueCustomElement, [Comp, initialProps, hydrate2]);
    }
    return _createClass(VueCustomElement);
  }(VueElement);
  VueCustomElement.def = Comp;
  return VueCustomElement;
}
/*! #__NO_SIDE_EFFECTS__ */
var defineSSRCustomElement = /* @__NO_SIDE_EFFECTS__ */function defineSSRCustomElement(options) {
  return /* @__PURE__ */defineCustomElement(options, hydrate);
};
var BaseClass = typeof HTMLElement !== "undefined" ? HTMLElement : /*#__PURE__*/function () {
  function _class() {
    (0,classCallCheck/* default */.Z)(this, _class);
  }
  return (0,createClass/* default */.Z)(_class);
}();
var VueElement = /*#__PURE__*/(/* unused pure expression or super */ null && (function (_BaseClass) {
  _inherits(VueElement, _BaseClass);
  function VueElement(_def) {
    var _this;
    var _props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var hydrate2 = arguments.length > 2 ? arguments[2] : undefined;
    _classCallCheck(this, VueElement);
    _this = _callSuper(this, VueElement);
    _this._def = _def;
    _this._props = _props;
    /**
     * @internal
     */
    _this._instance = null;
    _this._connected = false;
    _this._resolved = false;
    _this._numberProps = null;
    _this._ob = null;
    if (_this.shadowRoot && hydrate2) {
      hydrate2(_this._createVNode(), _this.shadowRoot);
    } else {
      if (false) {}
      _this.attachShadow({
        mode: "open"
      });
      if (!_this._def.__asyncLoader) {
        _this._resolveProps(_this._def);
      }
    }
    return _this;
  }
  _createClass(VueElement, [{
    key: "connectedCallback",
    value: function connectedCallback() {
      this._connected = true;
      if (!this._instance) {
        if (this._resolved) {
          this._update();
        } else {
          this._resolveDef();
        }
      }
    }
  }, {
    key: "disconnectedCallback",
    value: function disconnectedCallback() {
      var _this2 = this;
      this._connected = false;
      if (this._ob) {
        this._ob.disconnect();
        this._ob = null;
      }
      nextTick(function () {
        if (!_this2._connected) {
          render(null, _this2.shadowRoot);
          _this2._instance = null;
        }
      });
    }
    /**
     * resolve inner component definition (handle possible async component)
     */
  }, {
    key: "_resolveDef",
    value: function _resolveDef() {
      var _this3 = this;
      this._resolved = true;
      for (var i = 0; i < this.attributes.length; i++) {
        this._setAttr(this.attributes[i].name);
      }
      this._ob = new MutationObserver(function (mutations) {
        var _iterator = _createForOfIteratorHelper(mutations),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var m = _step.value;
            _this3._setAttr(m.attributeName);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      });
      this._ob.observe(this, {
        attributes: true
      });
      var resolve = function resolve(def) {
        var isAsync = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
        var props = def.props,
          styles = def.styles;
        var numberProps;
        if (props && !isArray(props)) {
          for (var key in props) {
            var opt = props[key];
            if (opt === Number || opt && opt.type === Number) {
              if (key in _this3._props) {
                _this3._props[key] = toNumber(_this3._props[key]);
              }
              (numberProps || (numberProps = /* @__PURE__ */Object.create(null)))[camelize$1(key)] = true;
            }
          }
        }
        _this3._numberProps = numberProps;
        if (isAsync) {
          _this3._resolveProps(def);
        }
        _this3._applyStyles(styles);
        _this3._update();
      };
      var asyncDef = this._def.__asyncLoader;
      if (asyncDef) {
        asyncDef().then(function (def) {
          return resolve(def, true);
        });
      } else {
        resolve(this._def);
      }
    }
  }, {
    key: "_resolveProps",
    value: function _resolveProps(def) {
      var _this4 = this;
      var props = def.props;
      var declaredPropKeys = isArray(props) ? props : Object.keys(props || {});
      for (var _i = 0, _Object$keys = Object.keys(this); _i < _Object$keys.length; _i++) {
        var key = _Object$keys[_i];
        if (key[0] !== "_" && declaredPropKeys.includes(key)) {
          this._setProp(key, this[key], true, false);
        }
      }
      var _iterator2 = _createForOfIteratorHelper(declaredPropKeys.map(camelize$1)),
        _step2;
      try {
        var _loop = function _loop() {
          var key = _step2.value;
          Object.defineProperty(_this4, key, {
            get() {
              return this._getProp(key);
            },
            set(val) {
              this._setProp(key, val);
            }
          });
        };
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          _loop();
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    }
  }, {
    key: "_setAttr",
    value: function _setAttr(key) {
      var value = this.getAttribute(key);
      var camelKey = camelize$1(key);
      if (this._numberProps && this._numberProps[camelKey]) {
        value = toNumber(value);
      }
      this._setProp(camelKey, value, false);
    }
    /**
     * @internal
     */
  }, {
    key: "_getProp",
    value: function _getProp(key) {
      return this._props[key];
    }
    /**
     * @internal
     */
  }, {
    key: "_setProp",
    value: function _setProp(key, val) {
      var shouldReflect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      var shouldUpdate = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
      if (val !== this._props[key]) {
        this._props[key] = val;
        if (shouldUpdate && this._instance) {
          this._update();
        }
        if (shouldReflect) {
          if (val === true) {
            this.setAttribute(hyphenate(key), "");
          } else if (typeof val === "string" || typeof val === "number") {
            this.setAttribute(hyphenate(key), val + "");
          } else if (!val) {
            this.removeAttribute(hyphenate(key));
          }
        }
      }
    }
  }, {
    key: "_update",
    value: function _update() {
      render(this._createVNode(), this.shadowRoot);
    }
  }, {
    key: "_createVNode",
    value: function _createVNode() {
      var _this5 = this;
      var vnode = createVNode(this._def, extend({}, this._props));
      if (!this._instance) {
        vnode.ce = function (instance) {
          _this5._instance = instance;
          instance.isCE = true;
          if (false) {}
          var dispatch = function dispatch(event, args) {
            _this5.dispatchEvent(new CustomEvent(event, {
              detail: args
            }));
          };
          instance.emit = function (event) {
            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key2 = 1; _key2 < _len; _key2++) {
              args[_key2 - 1] = arguments[_key2];
            }
            dispatch(event, args);
            if (hyphenate(event) !== event) {
              dispatch(hyphenate(event), args);
            }
          };
          var parent = _this5;
          while (parent = parent && (parent.parentNode || parent.host)) {
            if (parent instanceof VueElement) {
              instance.parent = parent._instance;
              instance.provides = parent._instance.provides;
              break;
            }
          }
        };
      }
      return vnode;
    }
  }, {
    key: "_applyStyles",
    value: function _applyStyles(styles) {
      var _this6 = this;
      if (styles) {
        styles.forEach(function (css) {
          var s = document.createElement("style");
          s.textContent = css;
          _this6.shadowRoot.appendChild(s);
          if (false) {}
        });
      }
    }
  }]);
  return VueElement;
}(BaseClass)));
function useCssModule() {
  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "$style";
  {
    var instance = getCurrentInstance();
    if (!instance) {
       false && 0;
      return EMPTY_OBJ;
    }
    var modules = instance.type.__cssModules;
    if (!modules) {
       false && 0;
      return EMPTY_OBJ;
    }
    var mod = modules[name];
    if (!mod) {
       false && 0;
      return EMPTY_OBJ;
    }
    return mod;
  }
}
var positionMap = /* @__PURE__ */new WeakMap();
var newPositionMap = /* @__PURE__ */new WeakMap();
var moveCbKey = Symbol("_moveCb");
var enterCbKey = Symbol("_enterCb");
var TransitionGroupImpl = {
  name: "TransitionGroup",
  props: /* @__PURE__ */(0,shared_esm_bundler/* extend */.l7)({}, TransitionPropsValidators, {
    tag: String,
    moveClass: String
  }),
  setup(props, _ref10) {
    var slots = _ref10.slots;
    var instance = (0,runtime_core_esm_bundler/* getCurrentInstance */.FN)();
    var state = (0,runtime_core_esm_bundler/* useTransitionState */.Y8)();
    var prevChildren;
    var children;
    (0,runtime_core_esm_bundler/* onUpdated */.ic)(function () {
      if (!prevChildren.length) {
        return;
      }
      var moveClass = props.moveClass || `${props.name || "v"}-move`;
      if (!hasCSSTransform(prevChildren[0].el, instance.vnode.el, moveClass)) {
        return;
      }
      prevChildren.forEach(callPendingCbs);
      prevChildren.forEach(recordPosition);
      var movedChildren = prevChildren.filter(applyTranslation);
      forceReflow();
      movedChildren.forEach(function (c) {
        var el = c.el;
        var style = el.style;
        addTransitionClass(el, moveClass);
        style.transform = style.webkitTransform = style.transitionDuration = "";
        var cb = el[moveCbKey] = function (e) {
          if (e && e.target !== el) {
            return;
          }
          if (!e || /transform$/.test(e.propertyName)) {
            el.removeEventListener("transitionend", cb);
            el[moveCbKey] = null;
            removeTransitionClass(el, moveClass);
          }
        };
        el.addEventListener("transitionend", cb);
      });
    });
    return function () {
      var rawProps = (0,reactivity_esm_bundler/* toRaw */.IU)(props);
      var cssTransitionProps = resolveTransitionProps(rawProps);
      var tag = rawProps.tag || runtime_core_esm_bundler/* Fragment */.HY;
      prevChildren = children;
      children = slots.default ? (0,runtime_core_esm_bundler/* getTransitionRawChildren */.Q6)(slots.default()) : [];
      for (var i = 0; i < children.length; i++) {
        var child = children[i];
        if (child.key != null) {
          (0,runtime_core_esm_bundler/* setTransitionHooks */.nK)(child, (0,runtime_core_esm_bundler/* resolveTransitionHooks */.U2)(child, cssTransitionProps, state, instance));
        } else if (false) {}
      }
      if (prevChildren) {
        for (var _i2 = 0; _i2 < prevChildren.length; _i2++) {
          var _child = prevChildren[_i2];
          (0,runtime_core_esm_bundler/* setTransitionHooks */.nK)(_child, (0,runtime_core_esm_bundler/* resolveTransitionHooks */.U2)(_child, cssTransitionProps, state, instance));
          positionMap.set(_child, _child.el.getBoundingClientRect());
        }
      }
      return (0,runtime_core_esm_bundler/* createVNode */.Wm)(tag, null, children);
    };
  }
};
var removeMode = function removeMode(props) {
  return delete props.mode;
};
/* @__PURE__ */
removeMode(TransitionGroupImpl.props);
var TransitionGroup = (/* unused pure expression or super */ null && (TransitionGroupImpl));
function callPendingCbs(c) {
  var el = c.el;
  if (el[moveCbKey]) {
    el[moveCbKey]();
  }
  if (el[enterCbKey]) {
    el[enterCbKey]();
  }
}
function recordPosition(c) {
  newPositionMap.set(c, c.el.getBoundingClientRect());
}
function applyTranslation(c) {
  var oldPos = positionMap.get(c);
  var newPos = newPositionMap.get(c);
  var dx = oldPos.left - newPos.left;
  var dy = oldPos.top - newPos.top;
  if (dx || dy) {
    var s = c.el.style;
    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;
    s.transitionDuration = "0s";
    return c;
  }
}
function hasCSSTransform(el, root, moveClass) {
  var clone = el.cloneNode();
  var _vtc = el[vtcKey];
  if (_vtc) {
    _vtc.forEach(function (cls) {
      cls.split(/\s+/).forEach(function (c) {
        return c && clone.classList.remove(c);
      });
    });
  }
  moveClass.split(/\s+/).forEach(function (c) {
    return c && clone.classList.add(c);
  });
  clone.style.display = "none";
  var container = root.nodeType === 1 ? root : root.parentNode;
  container.appendChild(clone);
  var _getTransitionInfo2 = getTransitionInfo(clone),
    hasTransform = _getTransitionInfo2.hasTransform;
  container.removeChild(clone);
  return hasTransform;
}
var getModelAssigner = function getModelAssigner(vnode) {
  var fn = vnode.props["onUpdate:modelValue"] || false;
  return (0,shared_esm_bundler/* isArray */.kJ)(fn) ? function (value) {
    return (0,shared_esm_bundler/* invokeArrayFns */.ir)(fn, value);
  } : fn;
};
function onCompositionStart(e) {
  e.target.composing = true;
}
function onCompositionEnd(e) {
  var target = e.target;
  if (target.composing) {
    target.composing = false;
    target.dispatchEvent(new Event("input"));
  }
}
var assignKey = Symbol("_assign");
var vModelText = {
  created(el, _ref11, vnode) {
    var _ref11$modifiers = _ref11.modifiers,
      lazy = _ref11$modifiers.lazy,
      trim = _ref11$modifiers.trim,
      number = _ref11$modifiers.number;
    el[assignKey] = getModelAssigner(vnode);
    var castToNumber = number || vnode.props && vnode.props.type === "number";
    addEventListener(el, lazy ? "change" : "input", function (e) {
      if (e.target.composing) return;
      var domValue = el.value;
      if (trim) {
        domValue = domValue.trim();
      }
      if (castToNumber) {
        domValue = (0,shared_esm_bundler/* looseToNumber */.h5)(domValue);
      }
      el[assignKey](domValue);
    });
    if (trim) {
      addEventListener(el, "change", function () {
        el.value = el.value.trim();
      });
    }
    if (!lazy) {
      addEventListener(el, "compositionstart", onCompositionStart);
      addEventListener(el, "compositionend", onCompositionEnd);
      addEventListener(el, "change", onCompositionEnd);
    }
  },
  // set value on mounted so it's after min/max for type="range"
  mounted(el, _ref12) {
    var value = _ref12.value;
    el.value = value == null ? "" : value;
  },
  beforeUpdate(el, _ref13, vnode) {
    var value = _ref13.value,
      _ref13$modifiers = _ref13.modifiers,
      lazy = _ref13$modifiers.lazy,
      trim = _ref13$modifiers.trim,
      number = _ref13$modifiers.number;
    el[assignKey] = getModelAssigner(vnode);
    if (el.composing) return;
    var elValue = number || el.type === "number" ? (0,shared_esm_bundler/* looseToNumber */.h5)(el.value) : el.value;
    var newValue = value == null ? "" : value;
    if (elValue === newValue) {
      return;
    }
    if (document.activeElement === el && el.type !== "range") {
      if (lazy) {
        return;
      }
      if (trim && el.value.trim() === newValue) {
        return;
      }
    }
    el.value = newValue;
  }
};
var vModelCheckbox = {
  // #4096 array checkboxes need to be deep traversed
  deep: true,
  created(el, _, vnode) {
    el[assignKey] = getModelAssigner(vnode);
    addEventListener(el, "change", function () {
      var modelValue = el._modelValue;
      var elementValue = getValue(el);
      var checked = el.checked;
      var assign = el[assignKey];
      if ((0,shared_esm_bundler/* isArray */.kJ)(modelValue)) {
        var index = (0,shared_esm_bundler/* looseIndexOf */.hq)(modelValue, elementValue);
        var found = index !== -1;
        if (checked && !found) {
          assign(modelValue.concat(elementValue));
        } else if (!checked && found) {
          var filtered = (0,toConsumableArray/* default */.Z)(modelValue);
          filtered.splice(index, 1);
          assign(filtered);
        }
      } else if ((0,shared_esm_bundler/* isSet */.DM)(modelValue)) {
        var cloned = new Set(modelValue);
        if (checked) {
          cloned.add(elementValue);
        } else {
          cloned.delete(elementValue);
        }
        assign(cloned);
      } else {
        assign(getCheckboxValue(el, checked));
      }
    });
  },
  // set initial checked on mount to wait for true-value/false-value
  mounted: setChecked,
  beforeUpdate(el, binding, vnode) {
    el[assignKey] = getModelAssigner(vnode);
    setChecked(el, binding, vnode);
  }
};
function setChecked(el, _ref14, vnode) {
  var value = _ref14.value,
    oldValue = _ref14.oldValue;
  el._modelValue = value;
  if ((0,shared_esm_bundler/* isArray */.kJ)(value)) {
    el.checked = (0,shared_esm_bundler/* looseIndexOf */.hq)(value, vnode.props.value) > -1;
  } else if ((0,shared_esm_bundler/* isSet */.DM)(value)) {
    el.checked = value.has(vnode.props.value);
  } else if (value !== oldValue) {
    el.checked = (0,shared_esm_bundler/* looseEqual */.WV)(value, getCheckboxValue(el, true));
  }
}
var vModelRadio = {
  created(el, _ref15, vnode) {
    var value = _ref15.value;
    el.checked = (0,shared_esm_bundler/* looseEqual */.WV)(value, vnode.props.value);
    el[assignKey] = getModelAssigner(vnode);
    addEventListener(el, "change", function () {
      el[assignKey](getValue(el));
    });
  },
  beforeUpdate(el, _ref16, vnode) {
    var value = _ref16.value,
      oldValue = _ref16.oldValue;
    el[assignKey] = getModelAssigner(vnode);
    if (value !== oldValue) {
      el.checked = (0,shared_esm_bundler/* looseEqual */.WV)(value, vnode.props.value);
    }
  }
};
var vModelSelect = {
  // <select multiple> value need to be deep traversed
  deep: true,
  created(el, _ref17, vnode) {
    var value = _ref17.value,
      number = _ref17.modifiers.number;
    var isSetModel = (0,shared_esm_bundler/* isSet */.DM)(value);
    addEventListener(el, "change", function () {
      var selectedVal = Array.prototype.filter.call(el.options, function (o) {
        return o.selected;
      }).map(function (o) {
        return number ? (0,shared_esm_bundler/* looseToNumber */.h5)(getValue(o)) : getValue(o);
      });
      el[assignKey](el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]);
      el._assigning = true;
      (0,runtime_core_esm_bundler/* nextTick */.Y3)(function () {
        el._assigning = false;
      });
    });
    el[assignKey] = getModelAssigner(vnode);
  },
  // set value in mounted & updated because <select> relies on its children
  // <option>s.
  mounted(el, _ref18) {
    var value = _ref18.value,
      oldValue = _ref18.oldValue,
      number = _ref18.modifiers.number;
    setSelected(el, value, oldValue, number);
  },
  beforeUpdate(el, _binding, vnode) {
    el[assignKey] = getModelAssigner(vnode);
  },
  updated(el, _ref19) {
    var value = _ref19.value,
      oldValue = _ref19.oldValue,
      number = _ref19.modifiers.number;
    if (!el._assigning) {
      setSelected(el, value, oldValue, number);
    }
  }
};
function setSelected(el, value, oldValue, number) {
  var isMultiple = el.multiple;
  var isArrayValue = (0,shared_esm_bundler/* isArray */.kJ)(value);
  if (isMultiple && !isArrayValue && !(0,shared_esm_bundler/* isSet */.DM)(value)) {
     false && 0;
    return;
  }
  if (isArrayValue && (0,shared_esm_bundler/* looseEqual */.WV)(value, oldValue)) {
    return;
  }
  for (var i = 0, l = el.options.length; i < l; i++) {
    var option = el.options[i];
    var optionValue = getValue(option);
    if (isMultiple) {
      if (isArrayValue) {
        var optionType = typeof optionValue;
        if (optionType === "string" || optionType === "number") {
          option.selected = value.includes(number ? (0,shared_esm_bundler/* looseToNumber */.h5)(optionValue) : optionValue);
        } else {
          option.selected = (0,shared_esm_bundler/* looseIndexOf */.hq)(value, optionValue) > -1;
        }
      } else {
        option.selected = value.has(optionValue);
      }
    } else {
      if ((0,shared_esm_bundler/* looseEqual */.WV)(getValue(option), value)) {
        if (el.selectedIndex !== i) el.selectedIndex = i;
        return;
      }
    }
  }
  if (!isMultiple && el.selectedIndex !== -1) {
    el.selectedIndex = -1;
  }
}
function getValue(el) {
  return "_value" in el ? el._value : el.value;
}
function getCheckboxValue(el, checked) {
  var key = checked ? "_trueValue" : "_falseValue";
  return key in el ? el[key] : checked;
}
var vModelDynamic = {
  created(el, binding, vnode) {
    callModelHook(el, binding, vnode, null, "created");
  },
  mounted(el, binding, vnode) {
    callModelHook(el, binding, vnode, null, "mounted");
  },
  beforeUpdate(el, binding, vnode, prevVNode) {
    callModelHook(el, binding, vnode, prevVNode, "beforeUpdate");
  },
  updated(el, binding, vnode, prevVNode) {
    callModelHook(el, binding, vnode, prevVNode, "updated");
  }
};
function resolveDynamicModel(tagName, type) {
  switch (tagName) {
    case "SELECT":
      return vModelSelect;
    case "TEXTAREA":
      return vModelText;
    default:
      switch (type) {
        case "checkbox":
          return vModelCheckbox;
        case "radio":
          return vModelRadio;
        default:
          return vModelText;
      }
  }
}
function callModelHook(el, binding, vnode, prevVNode, hook) {
  var modelToUse = resolveDynamicModel(el.tagName, vnode.props && vnode.props.type);
  var fn = modelToUse[hook];
  fn && fn(el, binding, vnode, prevVNode);
}
function initVModelForSSR() {
  vModelText.getSSRProps = function (_ref20) {
    var value = _ref20.value;
    return {
      value
    };
  };
  vModelRadio.getSSRProps = function (_ref21, vnode) {
    var value = _ref21.value;
    if (vnode.props && looseEqual(vnode.props.value, value)) {
      return {
        checked: true
      };
    }
  };
  vModelCheckbox.getSSRProps = function (_ref22, vnode) {
    var value = _ref22.value;
    if (isArray(value)) {
      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {
        return {
          checked: true
        };
      }
    } else if (isSet(value)) {
      if (vnode.props && value.has(vnode.props.value)) {
        return {
          checked: true
        };
      }
    } else if (value) {
      return {
        checked: true
      };
    }
  };
  vModelDynamic.getSSRProps = function (binding, vnode) {
    if (typeof vnode.type !== "string") {
      return;
    }
    var modelToUse = resolveDynamicModel(
    // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase
    vnode.type.toUpperCase(), vnode.props && vnode.props.type);
    if (modelToUse.getSSRProps) {
      return modelToUse.getSSRProps(binding, vnode);
    }
  };
}
var systemModifiers = ["ctrl", "shift", "alt", "meta"];
var modifierGuards = {
  stop: function stop(e) {
    return e.stopPropagation();
  },
  prevent: function prevent(e) {
    return e.preventDefault();
  },
  self: function self(e) {
    return e.target !== e.currentTarget;
  },
  ctrl: function ctrl(e) {
    return !e.ctrlKey;
  },
  shift: function shift(e) {
    return !e.shiftKey;
  },
  alt: function alt(e) {
    return !e.altKey;
  },
  meta: function meta(e) {
    return !e.metaKey;
  },
  left: function left(e) {
    return "button" in e && e.button !== 0;
  },
  middle: function middle(e) {
    return "button" in e && e.button !== 1;
  },
  right: function right(e) {
    return "button" in e && e.button !== 2;
  },
  exact: function exact(e, modifiers) {
    return systemModifiers.some(function (m) {
      return e[`${m}Key`] && !modifiers.includes(m);
    });
  }
};
var withModifiers = function withModifiers(fn, modifiers) {
  var cache = fn._withMods || (fn._withMods = {});
  var cacheKey = modifiers.join(".");
  return cache[cacheKey] || (cache[cacheKey] = function (event) {
    for (var i = 0; i < modifiers.length; i++) {
      var guard = modifierGuards[modifiers[i]];
      if (guard && guard(event, modifiers)) return;
    }
    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key3 = 1; _key3 < _len2; _key3++) {
      args[_key3 - 1] = arguments[_key3];
    }
    return fn.apply(void 0, [event].concat(args));
  });
};
var keyNames = {
  esc: "escape",
  space: " ",
  up: "arrow-up",
  left: "arrow-left",
  right: "arrow-right",
  down: "arrow-down",
  delete: "backspace"
};
var withKeys = function withKeys(fn, modifiers) {
  var cache = fn._withKeys || (fn._withKeys = {});
  var cacheKey = modifiers.join(".");
  return cache[cacheKey] || (cache[cacheKey] = function (event) {
    if (!("key" in event)) {
      return;
    }
    var eventKey = hyphenate(event.key);
    if (modifiers.some(function (k) {
      return k === eventKey || keyNames[k] === eventKey;
    })) {
      return fn(event);
    }
  });
};
var rendererOptions = /* @__PURE__ */(0,shared_esm_bundler/* extend */.l7)({
  patchProp
}, nodeOps);
var renderer;
var enabledHydration = false;
function ensureRenderer() {
  return renderer || (renderer = (0,runtime_core_esm_bundler/* createRenderer */.Us)(rendererOptions));
}
function ensureHydrationRenderer() {
  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);
  enabledHydration = true;
  return renderer;
}
var render = function render() {
  var _ensureRenderer;
  (_ensureRenderer = ensureRenderer()).render.apply(_ensureRenderer, arguments);
};
var hydrate = function hydrate() {
  var _ensureHydrationRende;
  (_ensureHydrationRende = ensureHydrationRenderer()).hydrate.apply(_ensureHydrationRende, arguments);
};
var createApp = function createApp() {
  var _ensureRenderer2;
  var app = (_ensureRenderer2 = ensureRenderer()).createApp.apply(_ensureRenderer2, arguments);
  if (false) {}
  var mount = app.mount;
  app.mount = function (containerOrSelector) {
    var container = normalizeContainer(containerOrSelector);
    if (!container) return;
    var component = app._component;
    if (!(0,shared_esm_bundler/* isFunction */.mf)(component) && !component.render && !component.template) {
      component.template = container.innerHTML;
    }
    container.innerHTML = "";
    var proxy = mount(container, false, resolveRootNamespace(container));
    if (container instanceof Element) {
      container.removeAttribute("v-cloak");
      container.setAttribute("data-v-app", "");
    }
    return proxy;
  };
  return app;
};
var createSSRApp = function createSSRApp() {
  var _ensureHydrationRende2;
  var app = (_ensureHydrationRende2 = ensureHydrationRenderer()).createApp.apply(_ensureHydrationRende2, arguments);
  if (false) {}
  var mount = app.mount;
  app.mount = function (containerOrSelector) {
    var container = normalizeContainer(containerOrSelector);
    if (container) {
      return mount(container, true, resolveRootNamespace(container));
    }
  };
  return app;
};
function resolveRootNamespace(container) {
  if (container instanceof SVGElement) {
    return "svg";
  }
  if (typeof MathMLElement === "function" && container instanceof MathMLElement) {
    return "mathml";
  }
}
function injectNativeTagCheck(app) {
  Object.defineProperty(app.config, "isNativeTag", {
    value: function value(tag) {
      return isHTMLTag(tag) || isSVGTag(tag) || isMathMLTag(tag);
    },
    writable: false
  });
}
function injectCompilerOptionsCheck(app) {
  if (isRuntimeOnly()) {
    var isCustomElement = app.config.isCustomElement;
    Object.defineProperty(app.config, "isCustomElement", {
      get() {
        return isCustomElement;
      },
      set() {
        warn(`The \`isCustomElement\` config option is deprecated. Use \`compilerOptions.isCustomElement\` instead.`);
      }
    });
    var compilerOptions = app.config.compilerOptions;
    var msg = `The \`compilerOptions\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, \`compilerOptions\` must be passed to \`@vue/compiler-dom\` in the build setup instead.
- For vue-loader: pass it via vue-loader's \`compilerOptions\` loader option.
- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader
- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;
    Object.defineProperty(app.config, "compilerOptions", {
      get() {
        warn(msg);
        return compilerOptions;
      },
      set() {
        warn(msg);
      }
    });
  }
}
function normalizeContainer(container) {
  if ((0,shared_esm_bundler/* isString */.HD)(container)) {
    var res = document.querySelector(container);
    if (false) {}
    return res;
  }
  if (false) {}
  return container;
}
var ssrDirectiveInitialized = false;
var initDirectivesForSSR = function initDirectivesForSSR() {
  if (!ssrDirectiveInitialized) {
    ssrDirectiveInitialized = true;
    initVModelForSSR();
    initVShowForSSR();
  }
};

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.date.to-json.js
var es_date_to_json = __webpack_require__(78150);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.to-json.js
var web_url_to_json = __webpack_require__(19979);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.self.js
var web_self = __webpack_require__(3650);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.global-this.js
var es_global_this = __webpack_require__(45398);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url.js
var web_url = __webpack_require__(78730);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.js
var web_url_search_params = __webpack_require__(79307);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.delete.js
var web_url_search_params_delete = __webpack_require__(98858);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.has.js
var web_url_search_params_has = __webpack_require__(61318);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.url-search-params.size.js
var web_url_search_params_size = __webpack_require__(33228);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.values.js
var es_object_values = __webpack_require__(86466);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.unshift.js
var es_array_unshift = __webpack_require__(91719);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.get.js
var es_reflect_get = __webpack_require__(32349);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.set.js
var es_reflect_set = __webpack_require__(45247);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.map.js
var es_map = __webpack_require__(56646);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.json.stringify.js
var es_json_stringify = __webpack_require__(48324);
;// CONCATENATED MODULE: ./node_modules/vue/dist/vue.runtime.esm-bundler.js
/**
* vue v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/


function initDev() {
  {
    initCustomFormatter();
  }
}
if (false) {}
var compile = function compile() {
  if (false) {}
};

;// CONCATENATED MODULE: ./node_modules/vue-demi/lib/index.mjs


var lib_isVue2 = false;
var isVue3 = true;
var Vue2 = (/* unused pure expression or super */ null && (undefined));
function install() {}
function lib_set(target, key, val) {
  if (Array.isArray(target)) {
    target.length = Math.max(target.length, key);
    target.splice(key, 1, val);
    return val;
  }
  target[key] = val;
  return val;
}
function del(target, key) {
  if (Array.isArray(target)) {
    target.splice(key, 1);
    return;
  }
  delete target[key];
}


;// CONCATENATED MODULE: ./node_modules/@vue/devtools-api/lib/esm/env.js
function getDevtoolsGlobalHook() {
  return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;
}
function getTarget() {
  // @ts-ignore
  return typeof navigator !== 'undefined' && typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : {};
}
var isProxyAvailable = typeof Proxy === 'function';
;// CONCATENATED MODULE: ./node_modules/@vue/devtools-api/lib/esm/const.js
var HOOK_SETUP = 'devtools-plugin:setup';
var HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';
;// CONCATENATED MODULE: ./node_modules/@vue/devtools-api/lib/esm/time.js
var supported;
var perf;
function isPerformanceSupported() {
  var _a;
  if (supported !== undefined) {
    return supported;
  }
  if (typeof window !== 'undefined' && window.performance) {
    supported = true;
    perf = window.performance;
  } else if (typeof __webpack_require__.g !== 'undefined' && ((_a = __webpack_require__.g.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {
    supported = true;
    perf = __webpack_require__.g.perf_hooks.performance;
  } else {
    supported = false;
  }
  return supported;
}
function now() {
  return isPerformanceSupported() ? perf.now() : Date.now();
}
;// CONCATENATED MODULE: ./node_modules/@vue/devtools-api/lib/esm/proxy.js














var ApiProxy = /*#__PURE__*/function () {
  function ApiProxy(plugin, hook) {
    var _this = this;
    (0,classCallCheck/* default */.Z)(this, ApiProxy);
    this.target = null;
    this.targetQueue = [];
    this.onQueue = [];
    this.plugin = plugin;
    this.hook = hook;
    var defaultSettings = {};
    if (plugin.settings) {
      for (var id in plugin.settings) {
        var item = plugin.settings[id];
        defaultSettings[id] = item.defaultValue;
      }
    }
    var localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;
    var currentSettings = Object.assign({}, defaultSettings);
    try {
      var raw = localStorage.getItem(localSettingsSaveId);
      var data = JSON.parse(raw);
      Object.assign(currentSettings, data);
    } catch (e) {
      // noop
    }
    this.fallbacks = {
      getSettings() {
        return currentSettings;
      },
      setSettings(value) {
        try {
          localStorage.setItem(localSettingsSaveId, JSON.stringify(value));
        } catch (e) {
          // noop
        }
        currentSettings = value;
      },
      now() {
        return now();
      }
    };
    if (hook) {
      hook.on(HOOK_PLUGIN_SETTINGS_SET, function (pluginId, value) {
        if (pluginId === _this.plugin.id) {
          _this.fallbacks.setSettings(value);
        }
      });
    }
    this.proxiedOn = new Proxy({}, {
      get: function get(_target, prop) {
        if (_this.target) {
          return _this.target.on[prop];
        } else {
          return function () {
            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }
            _this.onQueue.push({
              method: prop,
              args
            });
          };
        }
      }
    });
    this.proxiedTarget = new Proxy({}, {
      get: function get(_target, prop) {
        if (_this.target) {
          return _this.target[prop];
        } else if (prop === 'on') {
          return _this.proxiedOn;
        } else if (Object.keys(_this.fallbacks).includes(prop)) {
          return function () {
            var _this$fallbacks;
            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }
            _this.targetQueue.push({
              method: prop,
              args,
              resolve: function resolve() {}
            });
            return (_this$fallbacks = _this.fallbacks)[prop].apply(_this$fallbacks, args);
          };
        } else {
          return function () {
            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
              args[_key3] = arguments[_key3];
            }
            return new Promise(function (resolve) {
              _this.targetQueue.push({
                method: prop,
                args,
                resolve
              });
            });
          };
        }
      }
    });
  }
  (0,createClass/* default */.Z)(ApiProxy, [{
    key: "setRealTarget",
    value: function () {
      var _setRealTarget = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(target) {
        var _iterator, _step, _this$target$on, item, _iterator2, _step2, _this$target, _item;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              this.target = target;
              _iterator = (0,createForOfIteratorHelper/* default */.Z)(this.onQueue);
              try {
                for (_iterator.s(); !(_step = _iterator.n()).done;) {
                  item = _step.value;
                  (_this$target$on = this.target.on)[item.method].apply(_this$target$on, (0,toConsumableArray/* default */.Z)(item.args));
                }
              } catch (err) {
                _iterator.e(err);
              } finally {
                _iterator.f();
              }
              _iterator2 = (0,createForOfIteratorHelper/* default */.Z)(this.targetQueue);
              _context.prev = 4;
              _iterator2.s();
            case 6:
              if ((_step2 = _iterator2.n()).done) {
                _context.next = 15;
                break;
              }
              _item = _step2.value;
              _context.t0 = _item;
              _context.next = 11;
              return (_this$target = this.target)[_item.method].apply(_this$target, (0,toConsumableArray/* default */.Z)(_item.args));
            case 11:
              _context.t1 = _context.sent;
              _context.t0.resolve.call(_context.t0, _context.t1);
            case 13:
              _context.next = 6;
              break;
            case 15:
              _context.next = 20;
              break;
            case 17:
              _context.prev = 17;
              _context.t2 = _context["catch"](4);
              _iterator2.e(_context.t2);
            case 20:
              _context.prev = 20;
              _iterator2.f();
              return _context.finish(20);
            case 23:
            case "end":
              return _context.stop();
          }
        }, _callee, this, [[4, 17, 20, 23]]);
      }));
      function setRealTarget(_x) {
        return _setRealTarget.apply(this, arguments);
      }
      return setRealTarget;
    }()
  }]);
  return ApiProxy;
}();
;// CONCATENATED MODULE: ./node_modules/@vue/devtools-api/lib/esm/index.js







function setupDevtoolsPlugin(pluginDescriptor, setupFn) {
  var descriptor = pluginDescriptor;
  var target = getTarget();
  var hook = getDevtoolsGlobalHook();
  var enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;
  if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {
    hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);
  } else {
    var proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;
    var list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];
    list.push({
      pluginDescriptor: descriptor,
      setupFn,
      proxy
    });
    if (proxy) setupFn(proxy.proxiedTarget);
  }
}
;// CONCATENATED MODULE: ./node_modules/pinia/dist/pinia.mjs









































/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */



/**
 * setActivePinia must be called to handle SSR at the top of functions like
 * `fetch`, `setup`, `serverPrefetch` and others
 */
var activePinia;
/**
 * Sets or unsets the active pinia. Used in SSR and internally when calling
 * actions and getters
 *
 * @param pinia - Pinia instance
 */
// @ts-expect-error: cannot constrain the type of the return
var setActivePinia = function setActivePinia(pinia) {
  return activePinia = pinia;
};
/**
 * Get the currently active pinia if there is any.
 */
var getActivePinia = function getActivePinia() {
  return hasInjectionContext() && inject(piniaSymbol) || activePinia;
};
var piniaSymbol =  false ? 0 : /* istanbul ignore next */Symbol();
function pinia_isPlainObject(
// eslint-disable-next-line @typescript-eslint/no-explicit-any
o) {
  return o && typeof o === 'object' && Object.prototype.toString.call(o) === '[object Object]' && typeof o.toJSON !== 'function';
}
// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }
// TODO: can we change these to numbers?
/**
 * Possible types for SubscriptionCallback
 */
var MutationType;
(function (MutationType) {
  /**
   * Direct mutation of the state:
   *
   * - `store.name = 'new name'`
   * - `store.$state.name = 'new name'`
   * - `store.list.push('new item')`
   */
  MutationType["direct"] = "direct";
  /**
   * Mutated the state with `$patch` and an object
   *
   * - `store.$patch({ name: 'newName' })`
   */
  MutationType["patchObject"] = "patch object";
  /**
   * Mutated the state with `$patch` and a function
   *
   * - `store.$patch(state => state.name = 'newName')`
   */
  MutationType["patchFunction"] = "patch function";
  // maybe reset? for $state = {} and $reset
})(MutationType || (MutationType = {}));
var IS_CLIENT = typeof window !== 'undefined';
/**
 * Should we add the devtools plugins.
 * - only if dev mode or forced through the prod devtools flag
 * - not in test
 * - only if window exists (could change in the future)
 */
var USE_DEVTOOLS =  false && 0;

/*
 * FileSaver.js A saveAs() FileSaver implementation.
 *
 * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin
 * Morote.
 *
 * License : MIT
 */
// The one and only way of getting global scope in all environments
// https://stackoverflow.com/q/3277182/1008999
var _global = /*#__PURE__*/function () {
  return typeof window === 'object' && window.window === window ? window : typeof self === 'object' && self.self === self ? self : typeof global === 'object' && global.global === global ? global : typeof globalThis === 'object' ? globalThis : {
    HTMLElement: null
  };
}();
function bom(blob) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
    _ref$autoBom = _ref.autoBom,
    autoBom = _ref$autoBom === void 0 ? false : _ref$autoBom;
  // prepend BOM for UTF-8 XML and text/* types (including HTML)
  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF
  if (autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
    return new Blob([String.fromCharCode(0xfeff), blob], {
      type: blob.type
    });
  }
  return blob;
}
function download(url, name, opts) {
  var xhr = new XMLHttpRequest();
  xhr.open('GET', url);
  xhr.responseType = 'blob';
  xhr.onload = function () {
    saveAs(xhr.response, name, opts);
  };
  xhr.onerror = function () {
    console.error('could not download file');
  };
  xhr.send();
}
function corsEnabled(url) {
  var xhr = new XMLHttpRequest();
  // use sync to avoid popup blocker
  xhr.open('HEAD', url, false);
  try {
    xhr.send();
  } catch (e) {}
  return xhr.status >= 200 && xhr.status <= 299;
}
// `a.click()` doesn't work for all browsers (#465)
function click(node) {
  try {
    node.dispatchEvent(new MouseEvent('click'));
  } catch (e) {
    var evt = document.createEvent('MouseEvents');
    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);
    node.dispatchEvent(evt);
  }
}
var _navigator = typeof navigator === 'object' ? navigator : {
  userAgent: ''
};
// Detect WebView inside a native macOS app by ruling out all browsers
// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too
// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos
var isMacOSWebView = /*#__PURE__*/function () {
  return /Macintosh/.test(_navigator.userAgent) && /AppleWebKit/.test(_navigator.userAgent) && !/Safari/.test(_navigator.userAgent);
}();
var saveAs = !IS_CLIENT ? function () {} // noop
:
// Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program
typeof HTMLAnchorElement !== 'undefined' && 'download' in HTMLAnchorElement.prototype && !isMacOSWebView ? downloadSaveAs :
// Use msSaveOrOpenBlob as a second approach
'msSaveOrOpenBlob' in _navigator ? msSaveAs :
// Fallback to using FileReader and a popup
fileSaverSaveAs;
function downloadSaveAs(blob) {
  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'download';
  var opts = arguments.length > 2 ? arguments[2] : undefined;
  var a = document.createElement('a');
  a.download = name;
  a.rel = 'noopener'; // tabnabbing
  // TODO: detect chrome extensions & packaged apps
  // a.target = '_blank'
  if (typeof blob === 'string') {
    // Support regular links
    a.href = blob;
    if (a.origin !== location.origin) {
      if (corsEnabled(a.href)) {
        download(blob, name, opts);
      } else {
        a.target = '_blank';
        click(a);
      }
    } else {
      click(a);
    }
  } else {
    // Support blobs
    a.href = URL.createObjectURL(blob);
    setTimeout(function () {
      URL.revokeObjectURL(a.href);
    }, 4e4); // 40s
    setTimeout(function () {
      click(a);
    }, 0);
  }
}
function msSaveAs(blob) {
  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'download';
  var opts = arguments.length > 2 ? arguments[2] : undefined;
  if (typeof blob === 'string') {
    if (corsEnabled(blob)) {
      download(blob, name, opts);
    } else {
      var a = document.createElement('a');
      a.href = blob;
      a.target = '_blank';
      setTimeout(function () {
        click(a);
      });
    }
  } else {
    // @ts-ignore: works on windows
    navigator.msSaveOrOpenBlob(bom(blob, opts), name);
  }
}
function fileSaverSaveAs(blob, name, opts, popup) {
  // Open a popup immediately do go around popup blocker
  // Mostly only available on user interaction and the fileReader is async so...
  popup = popup || open('', '_blank');
  if (popup) {
    popup.document.title = popup.document.body.innerText = 'downloading...';
  }
  if (typeof blob === 'string') return download(blob, name, opts);
  var force = blob.type === 'application/octet-stream';
  var isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;
  var isChromeIOS = /CriOS\/[\d]+/.test(navigator.userAgent);
  if ((isChromeIOS || force && isSafari || isMacOSWebView) && typeof FileReader !== 'undefined') {
    // Safari doesn't allow downloading of blob URLs
    var reader = new FileReader();
    reader.onloadend = function () {
      var url = reader.result;
      if (typeof url !== 'string') {
        popup = null;
        throw new Error('Wrong reader.result type');
      }
      url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;');
      if (popup) {
        popup.location.href = url;
      } else {
        location.assign(url);
      }
      popup = null; // reverse-tabnabbing #460
    };
    reader.readAsDataURL(blob);
  } else {
    var url = URL.createObjectURL(blob);
    if (popup) popup.location.assign(url);else location.href = url;
    popup = null; // reverse-tabnabbing #460
    setTimeout(function () {
      URL.revokeObjectURL(url);
    }, 4e4); // 40s
  }
}

/**
 * Shows a toast or console.log
 *
 * @param message - message to log
 * @param type - different color of the tooltip
 */
function toastMessage(message, type) {
  var piniaMessage = ' ' + message;
  if (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {
    // No longer available :(
    __VUE_DEVTOOLS_TOAST__(piniaMessage, type);
  } else if (type === 'error') {
    console.error(piniaMessage);
  } else if (type === 'warn') {
    console.warn(piniaMessage);
  } else {
    console.log(piniaMessage);
  }
}
function isPinia(o) {
  return '_a' in o && 'install' in o;
}

/**
 * This file contain devtools actions, they are not Pinia actions.
 */
// ---
function checkClipboardAccess() {
  if (!('clipboard' in navigator)) {
    toastMessage(`Your browser doesn't support the Clipboard API`, 'error');
    return true;
  }
}
function checkNotFocusedError(error) {
  if (error instanceof Error && error.message.toLowerCase().includes('document is not focused')) {
    toastMessage('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.', 'warn');
    return true;
  }
  return false;
}
function actionGlobalCopyState(_x) {
  return _actionGlobalCopyState.apply(this, arguments);
}
function _actionGlobalCopyState() {
  _actionGlobalCopyState = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee4(pinia) {
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee4$(_context4) {
      while (1) switch (_context4.prev = _context4.next) {
        case 0:
          if (!checkClipboardAccess()) {
            _context4.next = 2;
            break;
          }
          return _context4.abrupt("return");
        case 2:
          _context4.prev = 2;
          _context4.next = 5;
          return navigator.clipboard.writeText(JSON.stringify(pinia.state.value));
        case 5:
          toastMessage('Global state copied to clipboard.');
          _context4.next = 14;
          break;
        case 8:
          _context4.prev = 8;
          _context4.t0 = _context4["catch"](2);
          if (!checkNotFocusedError(_context4.t0)) {
            _context4.next = 12;
            break;
          }
          return _context4.abrupt("return");
        case 12:
          toastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');
          console.error(_context4.t0);
        case 14:
        case "end":
          return _context4.stop();
      }
    }, _callee4, null, [[2, 8]]);
  }));
  return _actionGlobalCopyState.apply(this, arguments);
}
function actionGlobalPasteState(_x2) {
  return _actionGlobalPasteState.apply(this, arguments);
}
function _actionGlobalPasteState() {
  _actionGlobalPasteState = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee5(pinia) {
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee5$(_context5) {
      while (1) switch (_context5.prev = _context5.next) {
        case 0:
          if (!checkClipboardAccess()) {
            _context5.next = 2;
            break;
          }
          return _context5.abrupt("return");
        case 2:
          _context5.prev = 2;
          _context5.t0 = loadStoresState;
          _context5.t1 = pinia;
          _context5.t2 = JSON;
          _context5.next = 8;
          return navigator.clipboard.readText();
        case 8:
          _context5.t3 = _context5.sent;
          _context5.t4 = _context5.t2.parse.call(_context5.t2, _context5.t3);
          (0, _context5.t0)(_context5.t1, _context5.t4);
          toastMessage('Global state pasted from clipboard.');
          _context5.next = 20;
          break;
        case 14:
          _context5.prev = 14;
          _context5.t5 = _context5["catch"](2);
          if (!checkNotFocusedError(_context5.t5)) {
            _context5.next = 18;
            break;
          }
          return _context5.abrupt("return");
        case 18:
          toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');
          console.error(_context5.t5);
        case 20:
        case "end":
          return _context5.stop();
      }
    }, _callee5, null, [[2, 14]]);
  }));
  return _actionGlobalPasteState.apply(this, arguments);
}
function actionGlobalSaveState(_x3) {
  return _actionGlobalSaveState.apply(this, arguments);
}
function _actionGlobalSaveState() {
  _actionGlobalSaveState = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee6(pinia) {
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee6$(_context6) {
      while (1) switch (_context6.prev = _context6.next) {
        case 0:
          try {
            saveAs(new Blob([JSON.stringify(pinia.state.value)], {
              type: 'text/plain;charset=utf-8'
            }), 'pinia-state.json');
          } catch (error) {
            toastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');
            console.error(error);
          }
        case 1:
        case "end":
          return _context6.stop();
      }
    }, _callee6);
  }));
  return _actionGlobalSaveState.apply(this, arguments);
}
var fileInput;
function getFileOpener() {
  if (!fileInput) {
    fileInput = document.createElement('input');
    fileInput.type = 'file';
    fileInput.accept = '.json';
  }
  function openFile() {
    return new Promise(function (resolve, reject) {
      fileInput.onchange = /*#__PURE__*/asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var files, file;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              files = fileInput.files;
              if (files) {
                _context.next = 3;
                break;
              }
              return _context.abrupt("return", resolve(null));
            case 3:
              file = files.item(0);
              if (file) {
                _context.next = 6;
                break;
              }
              return _context.abrupt("return", resolve(null));
            case 6:
              _context.t0 = resolve;
              _context.next = 9;
              return file.text();
            case 9:
              _context.t1 = _context.sent;
              _context.t2 = file;
              _context.t3 = {
                text: _context.t1,
                file: _context.t2
              };
              return _context.abrupt("return", (0, _context.t0)(_context.t3));
            case 13:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }));
      // @ts-ignore: TODO: changed from 4.3 to 4.4
      fileInput.oncancel = function () {
        return resolve(null);
      };
      fileInput.onerror = reject;
      fileInput.click();
    });
  }
  return openFile;
}
function actionGlobalOpenStateFile(_x4) {
  return _actionGlobalOpenStateFile.apply(this, arguments);
}
function _actionGlobalOpenStateFile() {
  _actionGlobalOpenStateFile = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee7(pinia) {
    var _open, result, text, file;
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee7$(_context7) {
      while (1) switch (_context7.prev = _context7.next) {
        case 0:
          _context7.prev = 0;
          _open = getFileOpener();
          _context7.next = 4;
          return _open();
        case 4:
          result = _context7.sent;
          if (result) {
            _context7.next = 7;
            break;
          }
          return _context7.abrupt("return");
        case 7:
          text = result.text, file = result.file;
          loadStoresState(pinia, JSON.parse(text));
          toastMessage(`Global state imported from "${file.name}".`);
          _context7.next = 16;
          break;
        case 12:
          _context7.prev = 12;
          _context7.t0 = _context7["catch"](0);
          toastMessage(`Failed to import the state from JSON. Check the console for more details.`, 'error');
          console.error(_context7.t0);
        case 16:
        case "end":
          return _context7.stop();
      }
    }, _callee7, null, [[0, 12]]);
  }));
  return _actionGlobalOpenStateFile.apply(this, arguments);
}
function loadStoresState(pinia, state) {
  for (var key in state) {
    var storeState = pinia.state.value[key];
    // store is already instantiated, patch it
    if (storeState) {
      Object.assign(storeState, state[key]);
    } else {
      // store is not instantiated, set the initial state
      pinia.state.value[key] = state[key];
    }
  }
}
function formatDisplay(display) {
  return {
    _custom: {
      display
    }
  };
}
var PINIA_ROOT_LABEL = ' Pinia (root)';
var PINIA_ROOT_ID = '_root';
function formatStoreForInspectorTree(store) {
  return isPinia(store) ? {
    id: PINIA_ROOT_ID,
    label: PINIA_ROOT_LABEL
  } : {
    id: store.$id,
    label: store.$id
  };
}
function formatStoreForInspectorState(store) {
  if (isPinia(store)) {
    var storeNames = Array.from(store._s.keys());
    var storeMap = store._s;
    var _state = {
      state: storeNames.map(function (storeId) {
        return {
          editable: true,
          key: storeId,
          value: store.state.value[storeId]
        };
      }),
      getters: storeNames.filter(function (id) {
        return storeMap.get(id)._getters;
      }).map(function (id) {
        var store = storeMap.get(id);
        return {
          editable: false,
          key: id,
          value: store._getters.reduce(function (getters, key) {
            getters[key] = store[key];
            return getters;
          }, {})
        };
      })
    };
    return _state;
  }
  var state = {
    state: Object.keys(store.$state).map(function (key) {
      return {
        editable: true,
        key,
        value: store.$state[key]
      };
    })
  };
  // avoid adding empty getters
  if (store._getters && store._getters.length) {
    state.getters = store._getters.map(function (getterName) {
      return {
        editable: false,
        key: getterName,
        value: store[getterName]
      };
    });
  }
  if (store._customProperties.size) {
    state.customProperties = Array.from(store._customProperties).map(function (key) {
      return {
        editable: true,
        key,
        value: store[key]
      };
    });
  }
  return state;
}
function formatEventData(events) {
  if (!events) return {};
  if (Array.isArray(events)) {
    // TODO: handle add and delete for arrays and objects
    return events.reduce(function (data, event) {
      data.keys.push(event.key);
      data.operations.push(event.type);
      data.oldValue[event.key] = event.oldValue;
      data.newValue[event.key] = event.newValue;
      return data;
    }, {
      oldValue: {},
      keys: [],
      operations: [],
      newValue: {}
    });
  } else {
    return {
      operation: formatDisplay(events.type),
      key: formatDisplay(events.key),
      oldValue: events.oldValue,
      newValue: events.newValue
    };
  }
}
function formatMutationType(type) {
  switch (type) {
    case MutationType.direct:
      return 'mutation';
    case MutationType.patchFunction:
      return '$patch';
    case MutationType.patchObject:
      return '$patch';
    default:
      return 'unknown';
  }
}

// timeline can be paused when directly changing the state
var isTimelineActive = true;
var componentStateTypes = [];
var MUTATIONS_LAYER_ID = 'pinia:mutations';
var INSPECTOR_ID = 'pinia';
var assign$1 = Object.assign;
/**
 * Gets the displayed name of a store in devtools
 *
 * @param id - id of the store
 * @returns a formatted string
 */
var getStoreType = function getStoreType(id) {
  return ' ' + id;
};
/**
 * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab
 * as soon as it is added to the application.
 *
 * @param app - Vue application
 * @param pinia - pinia instance
 */
function registerPiniaDevtools(app, pinia) {
  setupDevtoolsPlugin({
    id: 'dev.esm.pinia',
    label: 'Pinia ',
    logo: 'https://pinia.vuejs.org/logo.svg',
    packageName: 'pinia',
    homepage: 'https://pinia.vuejs.org',
    componentStateTypes,
    app
  }, function (api) {
    if (typeof api.now !== 'function') {
      toastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');
    }
    api.addTimelineLayer({
      id: MUTATIONS_LAYER_ID,
      label: `Pinia `,
      color: 0xe5df88
    });
    api.addInspector({
      id: INSPECTOR_ID,
      label: 'Pinia ',
      icon: 'storage',
      treeFilterPlaceholder: 'Search stores',
      actions: [{
        icon: 'content_copy',
        action: function action() {
          actionGlobalCopyState(pinia);
        },
        tooltip: 'Serialize and copy the state'
      }, {
        icon: 'content_paste',
        action: function () {
          var _action = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2() {
            return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context2) {
              while (1) switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return actionGlobalPasteState(pinia);
                case 2:
                  api.sendInspectorTree(INSPECTOR_ID);
                  api.sendInspectorState(INSPECTOR_ID);
                case 4:
                case "end":
                  return _context2.stop();
              }
            }, _callee2);
          }));
          function action() {
            return _action.apply(this, arguments);
          }
          return action;
        }(),
        tooltip: 'Replace the state with the content of your clipboard'
      }, {
        icon: 'save',
        action: function action() {
          actionGlobalSaveState(pinia);
        },
        tooltip: 'Save the state as a JSON file'
      }, {
        icon: 'folder_open',
        action: function () {
          var _action2 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee3() {
            return regeneratorRuntime_regeneratorRuntime().wrap(function _callee3$(_context3) {
              while (1) switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return actionGlobalOpenStateFile(pinia);
                case 2:
                  api.sendInspectorTree(INSPECTOR_ID);
                  api.sendInspectorState(INSPECTOR_ID);
                case 4:
                case "end":
                  return _context3.stop();
              }
            }, _callee3);
          }));
          function action() {
            return _action2.apply(this, arguments);
          }
          return action;
        }(),
        tooltip: 'Import the state from a JSON file'
      }],
      nodeActions: [{
        icon: 'restore',
        tooltip: 'Reset the state (with "$reset")',
        action: function action(nodeId) {
          var store = pinia._s.get(nodeId);
          if (!store) {
            toastMessage(`Cannot reset "${nodeId}" store because it wasn't found.`, 'warn');
          } else if (typeof store.$reset !== 'function') {
            toastMessage(`Cannot reset "${nodeId}" store because it doesn't have a "$reset" method implemented.`, 'warn');
          } else {
            store.$reset();
            toastMessage(`Store "${nodeId}" reset.`);
          }
        }
      }]
    });
    api.on.inspectComponent(function (payload, ctx) {
      var proxy = payload.componentInstance && payload.componentInstance.proxy;
      if (proxy && proxy._pStores) {
        var piniaStores = payload.componentInstance.proxy._pStores;
        Object.values(piniaStores).forEach(function (store) {
          payload.instanceData.state.push({
            type: getStoreType(store.$id),
            key: 'state',
            editable: true,
            value: store._isOptionsAPI ? {
              _custom: {
                value: (0,runtime_core_esm_bundler/* toRaw */.IU)(store.$state),
                actions: [{
                  icon: 'restore',
                  tooltip: 'Reset the state of this store',
                  action: function action() {
                    return store.$reset();
                  }
                }]
              }
            } :
            // NOTE: workaround to unwrap transferred refs
            Object.keys(store.$state).reduce(function (state, key) {
              state[key] = store.$state[key];
              return state;
            }, {})
          });
          if (store._getters && store._getters.length) {
            payload.instanceData.state.push({
              type: getStoreType(store.$id),
              key: 'getters',
              editable: false,
              value: store._getters.reduce(function (getters, key) {
                try {
                  getters[key] = store[key];
                } catch (error) {
                  // @ts-expect-error: we just want to show it in devtools
                  getters[key] = error;
                }
                return getters;
              }, {})
            });
          }
        });
      }
    });
    api.on.getInspectorTree(function (payload) {
      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
        var stores = [pinia];
        stores = stores.concat(Array.from(pinia._s.values()));
        payload.rootNodes = (payload.filter ? stores.filter(function (store) {
          return '$id' in store ? store.$id.toLowerCase().includes(payload.filter.toLowerCase()) : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase());
        }) : stores).map(formatStoreForInspectorTree);
      }
    });
    api.on.getInspectorState(function (payload) {
      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
        var inspectedStore = payload.nodeId === PINIA_ROOT_ID ? pinia : pinia._s.get(payload.nodeId);
        if (!inspectedStore) {
          // this could be the selected store restored for a different project
          // so it's better not to say anything here
          return;
        }
        if (inspectedStore) {
          payload.state = formatStoreForInspectorState(inspectedStore);
        }
      }
    });
    api.on.editInspectorState(function (payload, ctx) {
      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {
        var inspectedStore = payload.nodeId === PINIA_ROOT_ID ? pinia : pinia._s.get(payload.nodeId);
        if (!inspectedStore) {
          return toastMessage(`store "${payload.nodeId}" not found`, 'error');
        }
        var path = payload.path;
        if (!isPinia(inspectedStore)) {
          // access only the state
          if (path.length !== 1 || !inspectedStore._customProperties.has(path[0]) || path[0] in inspectedStore.$state) {
            path.unshift('$state');
          }
        } else {
          // Root access, we can omit the `.value` because the devtools API does it for us
          path.unshift('state');
        }
        isTimelineActive = false;
        payload.set(inspectedStore, path, payload.state.value);
        isTimelineActive = true;
      }
    });
    api.on.editComponentState(function (payload) {
      if (payload.type.startsWith('')) {
        var storeId = payload.type.replace(/^\s*/, '');
        var store = pinia._s.get(storeId);
        if (!store) {
          return toastMessage(`store "${storeId}" not found`, 'error');
        }
        var path = payload.path;
        if (path[0] !== 'state') {
          return toastMessage(`Invalid path for store "${storeId}":\n${path}\nOnly state can be modified.`);
        }
        // rewrite the first entry to be able to directly set the state as
        // well as any other path
        path[0] = '$state';
        isTimelineActive = false;
        payload.set(store, path, payload.state.value);
        isTimelineActive = true;
      }
    });
  });
}
function addStoreToDevtools(app, store) {
  if (!componentStateTypes.includes(getStoreType(store.$id))) {
    componentStateTypes.push(getStoreType(store.$id));
  }
  setupDevtoolsPlugin({
    id: 'dev.esm.pinia',
    label: 'Pinia ',
    logo: 'https://pinia.vuejs.org/logo.svg',
    packageName: 'pinia',
    homepage: 'https://pinia.vuejs.org',
    componentStateTypes,
    app,
    settings: {
      logStoreChanges: {
        label: 'Notify about new/deleted stores',
        type: 'boolean',
        defaultValue: true
      }
      // useEmojis: {
      //   label: 'Use emojis in messages ',
      //   type: 'boolean',
      //   defaultValue: true,
      // },
    }
  }, function (api) {
    // gracefully handle errors
    var now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;
    store.$onAction(function (_ref2) {
      var after = _ref2.after,
        onError = _ref2.onError,
        name = _ref2.name,
        args = _ref2.args;
      var groupId = runningActionId++;
      api.addTimelineEvent({
        layerId: MUTATIONS_LAYER_ID,
        event: {
          time: now(),
          title: ' ' + name,
          subtitle: 'start',
          data: {
            store: formatDisplay(store.$id),
            action: formatDisplay(name),
            args
          },
          groupId
        }
      });
      after(function (result) {
        activeAction = undefined;
        api.addTimelineEvent({
          layerId: MUTATIONS_LAYER_ID,
          event: {
            time: now(),
            title: ' ' + name,
            subtitle: 'end',
            data: {
              store: formatDisplay(store.$id),
              action: formatDisplay(name),
              args,
              result
            },
            groupId
          }
        });
      });
      onError(function (error) {
        activeAction = undefined;
        api.addTimelineEvent({
          layerId: MUTATIONS_LAYER_ID,
          event: {
            time: now(),
            logType: 'error',
            title: ' ' + name,
            subtitle: 'end',
            data: {
              store: formatDisplay(store.$id),
              action: formatDisplay(name),
              args,
              error
            },
            groupId
          }
        });
      });
    }, true);
    store._customProperties.forEach(function (name) {
      (0,runtime_core_esm_bundler/* watch */.YP)(function () {
        return (0,runtime_core_esm_bundler/* unref */.SU)(store[name]);
      }, function (newValue, oldValue) {
        api.notifyComponentUpdate();
        api.sendInspectorState(INSPECTOR_ID);
        if (isTimelineActive) {
          api.addTimelineEvent({
            layerId: MUTATIONS_LAYER_ID,
            event: {
              time: now(),
              title: 'Change',
              subtitle: name,
              data: {
                newValue,
                oldValue
              },
              groupId: activeAction
            }
          });
        }
      }, {
        deep: true
      });
    });
    store.$subscribe(function (_ref3, state) {
      var events = _ref3.events,
        type = _ref3.type;
      api.notifyComponentUpdate();
      api.sendInspectorState(INSPECTOR_ID);
      if (!isTimelineActive) return;
      // rootStore.state[store.id] = state
      var eventData = {
        time: now(),
        title: formatMutationType(type),
        data: assign$1({
          store: formatDisplay(store.$id)
        }, formatEventData(events)),
        groupId: activeAction
      };
      if (type === MutationType.patchFunction) {
        eventData.subtitle = '';
      } else if (type === MutationType.patchObject) {
        eventData.subtitle = '';
      } else if (events && !Array.isArray(events)) {
        eventData.subtitle = events.type;
      }
      if (events) {
        eventData.data['rawEvent(s)'] = {
          _custom: {
            display: 'DebuggerEvent',
            type: 'object',
            tooltip: 'raw DebuggerEvent[]',
            value: events
          }
        };
      }
      api.addTimelineEvent({
        layerId: MUTATIONS_LAYER_ID,
        event: eventData
      });
    }, {
      detached: true,
      flush: 'sync'
    });
    var hotUpdate = store._hotUpdate;
    store._hotUpdate = (0,runtime_core_esm_bundler/* markRaw */.Xl)(function (newStore) {
      hotUpdate(newStore);
      api.addTimelineEvent({
        layerId: MUTATIONS_LAYER_ID,
        event: {
          time: now(),
          title: ' ' + store.$id,
          subtitle: 'HMR update',
          data: {
            store: formatDisplay(store.$id),
            info: formatDisplay(`HMR update`)
          }
        }
      });
      // update the devtools too
      api.notifyComponentUpdate();
      api.sendInspectorTree(INSPECTOR_ID);
      api.sendInspectorState(INSPECTOR_ID);
    });
    var $dispose = store.$dispose;
    store.$dispose = function () {
      $dispose();
      api.notifyComponentUpdate();
      api.sendInspectorTree(INSPECTOR_ID);
      api.sendInspectorState(INSPECTOR_ID);
      api.getSettings().logStoreChanges && toastMessage(`Disposed "${store.$id}" store `);
    };
    // trigger an update so it can display new registered stores
    api.notifyComponentUpdate();
    api.sendInspectorTree(INSPECTOR_ID);
    api.sendInspectorState(INSPECTOR_ID);
    api.getSettings().logStoreChanges && toastMessage(`"${store.$id}" store installed `);
  });
}
var runningActionId = 0;
var activeAction;
/**
 * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the
 * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state
 * mutation to the action.
 *
 * @param store - store to patch
 * @param actionNames - list of actionst to patch
 */
function patchActionForGrouping(store, actionNames, wrapWithProxy) {
  // original actions of the store as they are given by pinia. We are going to override them
  var actions = actionNames.reduce(function (storeActions, actionName) {
    // use toRaw to avoid tracking #541
    storeActions[actionName] = (0,runtime_core_esm_bundler/* toRaw */.IU)(store)[actionName];
    return storeActions;
  }, {});
  var _loop = function _loop(actionName) {
    store[actionName] = function () {
      // the running action id is incremented in a before action hook
      var _actionId = runningActionId;
      var trackedStore = wrapWithProxy ? new Proxy(store, {
        get() {
          activeAction = _actionId;
          return Reflect.get.apply(Reflect, arguments);
        },
        set() {
          activeAction = _actionId;
          return Reflect.set.apply(Reflect, arguments);
        }
      }) : store;
      // For Setup Stores we need https://github.com/tc39/proposal-async-context
      activeAction = _actionId;
      var retValue = actions[actionName].apply(trackedStore, arguments);
      // this is safer as async actions in Setup Stores would associate mutations done outside of the action
      activeAction = undefined;
      return retValue;
    };
  };
  for (var actionName in actions) {
    _loop(actionName);
  }
}
/**
 * pinia.use(devtoolsPlugin)
 */
function devtoolsPlugin(_ref4) {
  var app = _ref4.app,
    store = _ref4.store,
    options = _ref4.options;
  // HMR module
  if (store.$id.startsWith('__hot:')) {
    return;
  }
  // detect option api vs setup api
  store._isOptionsAPI = !!options.state;
  patchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);
  // Upgrade the HMR to also update the new actions
  var originalHotUpdate = store._hotUpdate;
  (0,runtime_core_esm_bundler/* toRaw */.IU)(store)._hotUpdate = function (newStore) {
    originalHotUpdate.apply(this, arguments);
    patchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);
  };
  addStoreToDevtools(app,
  // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?
  store);
}

/**
 * Creates a Pinia instance to be used by the application
 */
function createPinia() {
  var scope = (0,runtime_core_esm_bundler/* effectScope */.B)(true);
  // NOTE: here we could check the window object for a state and directly set it
  // if there is anything like it with Vue 3 SSR
  var state = scope.run(function () {
    return (0,runtime_core_esm_bundler/* ref */.iH)({});
  });
  var _p = [];
  // plugins added before calling app.use(pinia)
  var toBeInstalled = [];
  var pinia = (0,runtime_core_esm_bundler/* markRaw */.Xl)({
    install(app) {
      // this allows calling useStore() outside of a component setup after
      // installing pinia's plugin
      setActivePinia(pinia);
      if (!lib_isVue2) {
        pinia._a = app;
        app.provide(piniaSymbol, pinia);
        app.config.globalProperties.$pinia = pinia;
        /* istanbul ignore else */
        if (USE_DEVTOOLS) {
          registerPiniaDevtools(app, pinia);
        }
        toBeInstalled.forEach(function (plugin) {
          return _p.push(plugin);
        });
        toBeInstalled = [];
      }
    },
    use(plugin) {
      if (!this._a && !lib_isVue2) {
        toBeInstalled.push(plugin);
      } else {
        _p.push(plugin);
      }
      return this;
    },
    _p,
    // it's actually undefined here
    // @ts-expect-error
    _a: null,
    _e: scope,
    _s: new Map(),
    state
  });
  // pinia devtools rely on dev only features so they cannot be forced unless
  // the dev build of Vue is used. Avoid old browsers like IE11.
  if (USE_DEVTOOLS && typeof Proxy !== 'undefined') {
    pinia.use(devtoolsPlugin);
  }
  return pinia;
}

/**
 * Checks if a function is a `StoreDefinition`.
 *
 * @param fn - object to test
 * @returns true if `fn` is a StoreDefinition
 */
var isUseStore = function isUseStore(fn) {
  return typeof fn === 'function' && typeof fn.$id === 'string';
};
/**
 * Mutates in place `newState` with `oldState` to _hot update_ it. It will
 * remove any key not existing in `newState` and recursively merge plain
 * objects.
 *
 * @param newState - new state object to be patched
 * @param oldState - old state that should be used to patch newState
 * @returns - newState
 */
function patchObject(newState, oldState) {
  // no need to go through symbols because they cannot be serialized anyway
  for (var key in oldState) {
    var subPatch = oldState[key];
    // skip the whole sub tree
    if (!(key in newState)) {
      continue;
    }
    var targetValue = newState[key];
    if (pinia_isPlainObject(targetValue) && pinia_isPlainObject(subPatch) && !isRef(subPatch) && !isReactive(subPatch)) {
      newState[key] = patchObject(targetValue, subPatch);
    } else {
      // objects are either a bit more complex (e.g. refs) or primitives, so we
      // just set the whole thing
      if (isVue2) {
        set(newState, key, subPatch);
      } else {
        newState[key] = subPatch;
      }
    }
  }
  return newState;
}
/**
 * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.
 *
 * @example
 * ```js
 * const useUser = defineStore(...)
 * if (import.meta.hot) {
 *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))
 * }
 * ```
 *
 * @param initialUseStore - return of the defineStore to hot update
 * @param hot - `import.meta.hot`
 */
function acceptHMRUpdate(initialUseStore, hot) {
  // strip as much as possible from iife.prod
  if (true) {
    return function () {};
  }
  return function (newModule) {
    var pinia = hot.data.pinia || initialUseStore._pinia;
    if (!pinia) {
      // this store is still not used
      return;
    }
    // preserve the pinia instance across loads
    hot.data.pinia = pinia;
    // console.log('got data', newStore)
    for (var exportName in newModule) {
      var useStore = newModule[exportName];
      // console.log('checking for', exportName)
      if (isUseStore(useStore) && pinia._s.has(useStore.$id)) {
        // console.log('Accepting update for', useStore.$id)
        var id = useStore.$id;
        if (id !== initialUseStore.$id) {
          console.warn(`The id of the store changed from "${initialUseStore.$id}" to "${id}". Reloading.`);
          // return import.meta.hot.invalidate()
          return hot.invalidate();
        }
        var existingStore = pinia._s.get(id);
        if (!existingStore) {
          console.log(`[Pinia]: skipping hmr because store doesn't exist yet`);
          return;
        }
        useStore(pinia, existingStore);
      }
    }
  };
}
var noop = function noop() {};
function addSubscription(subscriptions, callback, detached) {
  var onCleanup = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : noop;
  subscriptions.push(callback);
  var removeSubscription = function removeSubscription() {
    var idx = subscriptions.indexOf(callback);
    if (idx > -1) {
      subscriptions.splice(idx, 1);
      onCleanup();
    }
  };
  if (!detached && (0,runtime_core_esm_bundler/* getCurrentScope */.nZ)()) {
    (0,runtime_core_esm_bundler/* onScopeDispose */.EB)(removeSubscription);
  }
  return removeSubscription;
}
function triggerSubscriptions(subscriptions) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }
  subscriptions.slice().forEach(function (callback) {
    callback.apply(void 0, args);
  });
}
var fallbackRunWithContext = function fallbackRunWithContext(fn) {
  return fn();
};
function mergeReactiveObjects(target, patchToApply) {
  // Handle Map instances
  if (target instanceof Map && patchToApply instanceof Map) {
    patchToApply.forEach(function (value, key) {
      return target.set(key, value);
    });
  }
  // Handle Set instances
  if (target instanceof Set && patchToApply instanceof Set) {
    patchToApply.forEach(target.add, target);
  }
  // no need to go through symbols because they cannot be serialized anyway
  for (var key in patchToApply) {
    if (!patchToApply.hasOwnProperty(key)) continue;
    var subPatch = patchToApply[key];
    var targetValue = target[key];
    if (pinia_isPlainObject(targetValue) && pinia_isPlainObject(subPatch) && target.hasOwnProperty(key) && !(0,runtime_core_esm_bundler/* isRef */.dq)(subPatch) && !(0,runtime_core_esm_bundler/* isReactive */.PG)(subPatch)) {
      // NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might
      // start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that
      // to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.
      target[key] = mergeReactiveObjects(targetValue, subPatch);
    } else {
      // @ts-expect-error: subPatch is a valid value
      target[key] = subPatch;
    }
  }
  return target;
}
var skipHydrateSymbol =  false ? 0 : /* istanbul ignore next */Symbol();
var skipHydrateMap = /*#__PURE__*/new WeakMap();
/**
 * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a
 * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.
 *
 * @param obj - target object
 * @returns obj
 */
function skipHydrate(obj) {
  return isVue2 ?
  // in @vue/composition-api, the refs are sealed so defineProperty doesn't work...
  /* istanbul ignore next */
  skipHydrateMap.set(obj, 1) && obj : Object.defineProperty(obj, skipHydrateSymbol, {});
}
/**
 * Returns whether a value should be hydrated
 *
 * @param obj - target variable
 * @returns true if `obj` should be hydrated
 */
function shouldHydrate(obj) {
  return lib_isVue2 ? /* istanbul ignore next */!skipHydrateMap.has(obj) : !pinia_isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);
}
var pinia_assign = Object.assign;
function isComputed(o) {
  return !!((0,runtime_core_esm_bundler/* isRef */.dq)(o) && o.effect);
}
function createOptionsStore(id, options, pinia, hot) {
  var state = options.state,
    actions = options.actions,
    getters = options.getters;
  var initialState = pinia.state.value[id];
  var store;
  function setup() {
    if (!initialState && ( true || 0)) {
      /* istanbul ignore if */
      if (lib_isVue2) {
        lib_set(pinia.state.value, id, state ? state() : {});
      } else {
        pinia.state.value[id] = state ? state() : {};
      }
    }
    // avoid creating a state in pinia.state.value
    var localState =  false ?
    // use ref() to unwrap refs inside state TODO: check if this is still necessary
    0 : (0,runtime_core_esm_bundler/* toRefs */.BK)(pinia.state.value[id]);
    return pinia_assign(localState, actions, Object.keys(getters || {}).reduce(function (computedGetters, name) {
      if (false) {}
      computedGetters[name] = (0,runtime_core_esm_bundler/* markRaw */.Xl)((0,runtime_core_esm_bundler/* computed */.Fl)(function () {
        setActivePinia(pinia);
        // it was created just before
        var store = pinia._s.get(id);
        // allow cross using stores
        /* istanbul ignore next */
        if (lib_isVue2 && !store._r) return;
        // @ts-expect-error
        // return getters![name].call(context, context)
        // TODO: avoid reading the getter while assigning with a global variable
        return getters[name].call(store, store);
      }));
      return computedGetters;
    }, {}));
  }
  store = createSetupStore(id, setup, options, pinia, hot, true);
  return store;
}
function createSetupStore($id, setup) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var pinia = arguments.length > 3 ? arguments[3] : undefined;
  var hot = arguments.length > 4 ? arguments[4] : undefined;
  var isOptionsStore = arguments.length > 5 ? arguments[5] : undefined;
  var scope;
  var optionsForPlugin = pinia_assign({
    actions: {}
  }, options);
  /* istanbul ignore if */
  if (false) {}
  // watcher options for $subscribe
  var $subscribeOptions = {
    deep: true
    // flush: 'post',
  };
  /* istanbul ignore else */
  if (false) {}
  // internal state
  var isListening; // set to true at the end
  var isSyncListening; // set to true at the end
  var subscriptions = [];
  var actionSubscriptions = [];
  var debuggerEvents;
  var initialState = pinia.state.value[$id];
  // avoid setting the state for option stores if it is set
  // by the setup
  if (!isOptionsStore && !initialState && ( true || 0)) {
    /* istanbul ignore if */
    if (lib_isVue2) {
      lib_set(pinia.state.value, $id, {});
    } else {
      pinia.state.value[$id] = {};
    }
  }
  var hotState = (0,runtime_core_esm_bundler/* ref */.iH)({});
  // avoid triggering too many listeners
  // https://github.com/vuejs/pinia/issues/1129
  var activeListener;
  function $patch(partialStateOrMutator) {
    var subscriptionMutation;
    isListening = isSyncListening = false;
    // reset the debugger events since patches are sync
    /* istanbul ignore else */
    if (false) {}
    if (typeof partialStateOrMutator === 'function') {
      partialStateOrMutator(pinia.state.value[$id]);
      subscriptionMutation = {
        type: MutationType.patchFunction,
        storeId: $id,
        events: debuggerEvents
      };
    } else {
      mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);
      subscriptionMutation = {
        type: MutationType.patchObject,
        payload: partialStateOrMutator,
        storeId: $id,
        events: debuggerEvents
      };
    }
    var myListenerId = activeListener = Symbol();
    (0,runtime_core_esm_bundler/* nextTick */.Y3)().then(function () {
      if (activeListener === myListenerId) {
        isListening = true;
      }
    });
    isSyncListening = true;
    // because we paused the watcher, we need to manually call the subscriptions
    triggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);
  }
  var $reset = isOptionsStore ? function $reset() {
    var state = options.state;
    var newState = state ? state() : {};
    // we use a patch to group all changes into one single subscription
    this.$patch(function ($state) {
      pinia_assign($state, newState);
    });
  } : /* istanbul ignore next */
   false ? 0 : noop;
  function $dispose() {
    scope.stop();
    subscriptions = [];
    actionSubscriptions = [];
    pinia._s.delete($id);
  }
  /**
   * Wraps an action to handle subscriptions.
   *
   * @param name - name of the action
   * @param action - action to wrap
   * @returns a wrapped action to handle subscriptions
   */
  function wrapAction(name, action) {
    return function () {
      setActivePinia(pinia);
      var args = Array.from(arguments);
      var afterCallbackList = [];
      var onErrorCallbackList = [];
      function after(callback) {
        afterCallbackList.push(callback);
      }
      function onError(callback) {
        onErrorCallbackList.push(callback);
      }
      // @ts-expect-error
      triggerSubscriptions(actionSubscriptions, {
        args,
        name,
        store,
        after,
        onError
      });
      var ret;
      try {
        ret = action.apply(this && this.$id === $id ? this : store, args);
        // handle sync errors
      } catch (error) {
        triggerSubscriptions(onErrorCallbackList, error);
        throw error;
      }
      if (ret instanceof Promise) {
        return ret.then(function (value) {
          triggerSubscriptions(afterCallbackList, value);
          return value;
        }).catch(function (error) {
          triggerSubscriptions(onErrorCallbackList, error);
          return Promise.reject(error);
        });
      }
      // trigger after callbacks
      triggerSubscriptions(afterCallbackList, ret);
      return ret;
    };
  }
  var _hmrPayload = /*#__PURE__*/(0,runtime_core_esm_bundler/* markRaw */.Xl)({
    actions: {},
    getters: {},
    state: [],
    hotState
  });
  var partialStore = {
    _p: pinia,
    // _s: scope,
    $id,
    $onAction: addSubscription.bind(null, actionSubscriptions),
    $patch,
    $reset,
    $subscribe(callback) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var removeSubscription = addSubscription(subscriptions, callback, options.detached, function () {
        return stopWatcher();
      });
      var stopWatcher = scope.run(function () {
        return (0,runtime_core_esm_bundler/* watch */.YP)(function () {
          return pinia.state.value[$id];
        }, function (state) {
          if (options.flush === 'sync' ? isSyncListening : isListening) {
            callback({
              storeId: $id,
              type: MutationType.direct,
              events: debuggerEvents
            }, state);
          }
        }, pinia_assign({}, $subscribeOptions, options));
      });
      return removeSubscription;
    },
    $dispose
  };
  /* istanbul ignore if */
  if (lib_isVue2) {
    // start as non ready
    partialStore._r = false;
  }
  var store = (0,runtime_core_esm_bundler/* reactive */.qj)( false || USE_DEVTOOLS ? pinia_assign({
    _hmrPayload,
    _customProperties: (0,runtime_core_esm_bundler/* markRaw */.Xl)(new Set()) // devtools custom properties
  }, partialStore
  // must be added later
  // setupStore
  ) : partialStore);
  // store the partial store now so the setup of stores can instantiate each other before they are finished without
  // creating infinite loops.
  pinia._s.set($id, store);
  var runWithContext = pinia._a && pinia._a.runWithContext || fallbackRunWithContext;
  // TODO: idea create skipSerialize that marks properties as non serializable and they are skipped
  var setupStore = runWithContext(function () {
    return pinia._e.run(function () {
      return (scope = (0,runtime_core_esm_bundler/* effectScope */.B)()).run(setup);
    });
  });
  // overwrite existing actions to support $onAction
  for (var key in setupStore) {
    var prop = setupStore[key];
    if ((0,runtime_core_esm_bundler/* isRef */.dq)(prop) && !isComputed(prop) || (0,runtime_core_esm_bundler/* isReactive */.PG)(prop)) {
      // mark it as a piece of state to be serialized
      if (false) {} else if (!isOptionsStore) {
        // in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created
        if (initialState && shouldHydrate(prop)) {
          if ((0,runtime_core_esm_bundler/* isRef */.dq)(prop)) {
            prop.value = initialState[key];
          } else {
            // probably a reactive object, lets recursively assign
            // @ts-expect-error: prop is unknown
            mergeReactiveObjects(prop, initialState[key]);
          }
        }
        // transfer the ref to the pinia state to keep everything in sync
        /* istanbul ignore if */
        if (lib_isVue2) {
          lib_set(pinia.state.value[$id], key, prop);
        } else {
          pinia.state.value[$id][key] = prop;
        }
      }
      /* istanbul ignore else */
      if (false) {}
      // action
    } else if (typeof prop === 'function') {
      // @ts-expect-error: we are overriding the function we avoid wrapping if
      var actionValue =  false ? 0 : wrapAction(key, prop);
      // this a hot module replacement store because the hotUpdate method needs
      // to do it with the right context
      /* istanbul ignore if */
      if (lib_isVue2) {
        lib_set(setupStore, key, actionValue);
      } else {
        // @ts-expect-error
        setupStore[key] = actionValue;
      }
      /* istanbul ignore else */
      if (false) {}
      // list actions so they can be used in plugins
      // @ts-expect-error
      optionsForPlugin.actions[key] = prop;
    } else if (false) { var getters; }
  }
  // add the state, getters, and action properties
  /* istanbul ignore if */
  if (lib_isVue2) {
    Object.keys(setupStore).forEach(function (key) {
      lib_set(store, key, setupStore[key]);
    });
  } else {
    pinia_assign(store, setupStore);
    // allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.
    // Make `storeToRefs()` work with `reactive()` #799
    pinia_assign((0,runtime_core_esm_bundler/* toRaw */.IU)(store), setupStore);
  }
  // use this instead of a computed with setter to be able to create it anywhere
  // without linking the computed lifespan to wherever the store is first
  // created.
  Object.defineProperty(store, '$state', {
    get: function get() {
      return  false ? 0 : pinia.state.value[$id];
    },
    set: function set(state) {
      /* istanbul ignore if */
      if (false) {}
      $patch(function ($state) {
        pinia_assign($state, state);
      });
    }
  });
  // add the hotUpdate before plugins to allow them to override it
  /* istanbul ignore else */
  if (false) {}
  if (USE_DEVTOOLS) {
    var nonEnumerable = {
      writable: true,
      configurable: true,
      // avoid warning on devtools trying to display this property
      enumerable: false
    };
    ['_p', '_hmrPayload', '_getters', '_customProperties'].forEach(function (p) {
      Object.defineProperty(store, p, pinia_assign({
        value: store[p]
      }, nonEnumerable));
    });
  }
  /* istanbul ignore if */
  if (lib_isVue2) {
    // mark the store as ready before plugins
    store._r = true;
  }
  // apply all plugins
  pinia._p.forEach(function (extender) {
    /* istanbul ignore else */
    if (USE_DEVTOOLS) {
      var extensions = scope.run(function () {
        return extender({
          store,
          app: pinia._a,
          pinia,
          options: optionsForPlugin
        });
      });
      Object.keys(extensions || {}).forEach(function (key) {
        return store._customProperties.add(key);
      });
      pinia_assign(store, extensions);
    } else {
      pinia_assign(store, scope.run(function () {
        return extender({
          store,
          app: pinia._a,
          pinia,
          options: optionsForPlugin
        });
      }));
    }
  });
  if (false) {}
  // only apply hydrate to option stores with an initial state in pinia
  if (initialState && isOptionsStore && options.hydrate) {
    options.hydrate(store.$state, initialState);
  }
  isListening = true;
  isSyncListening = true;
  return store;
}
function defineStore(
// TODO: add proper types from above
idOrOptions, setup, setupOptions) {
  var id;
  var options;
  var isSetupStore = typeof setup === 'function';
  if (typeof idOrOptions === 'string') {
    id = idOrOptions;
    // the option store setup will contain the actual options in this case
    options = isSetupStore ? setupOptions : setup;
  } else {
    options = idOrOptions;
    id = idOrOptions.id;
    if (false) {}
  }
  function useStore(pinia, hot) {
    var hasContext = (0,runtime_core_esm_bundler/* hasInjectionContext */.EM)();
    pinia =
    // in test mode, ignore the argument provided as we can always retrieve a
    // pinia instance with getActivePinia()
    ( false ? 0 : pinia) || (hasContext ? (0,runtime_core_esm_bundler/* inject */.f3)(piniaSymbol, null) : null);
    if (pinia) setActivePinia(pinia);
    if (false) {}
    pinia = activePinia;
    if (!pinia._s.has(id)) {
      // creating the store registers it in `pinia._s`
      if (isSetupStore) {
        createSetupStore(id, setup, options, pinia);
      } else {
        createOptionsStore(id, options, pinia);
      }
      /* istanbul ignore else */
      if (false) {}
    }
    var store = pinia._s.get(id);
    if (false) { var newStore, hotId; }
    if (false) { var cache, vm, currentInstance; }
    // StoreGeneric cannot be casted towards Store
    return store;
  }
  useStore.$id = id;
  return useStore;
}
var mapStoreSuffix = 'Store';
/**
 * Changes the suffix added by `mapStores()`. Can be set to an empty string.
 * Defaults to `"Store"`. Make sure to extend the MapStoresCustomization
 * interface if you are using TypeScript.
 *
 * @param suffix - new suffix
 */
function setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS
) {
  mapStoreSuffix = suffix;
}
/**
 * Allows using stores without the composition API (`setup()`) by generating an
 * object to be spread in the `computed` field of a component. It accepts a list
 * of store definitions.
 *
 * @example
 * ```js
 * export default {
 *   computed: {
 *     // other computed properties
 *     ...mapStores(useUserStore, useCartStore)
 *   },
 *
 *   created() {
 *     this.userStore // store with id "user"
 *     this.cartStore // store with id "cart"
 *   }
 * }
 * ```
 *
 * @param stores - list of stores to map to an object
 */
function mapStores() {
  for (var _len2 = arguments.length, stores = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    stores[_key2] = arguments[_key2];
  }
  if (false) {}
  return stores.reduce(function (reduced, useStore) {
    // @ts-expect-error: $id is added by defineStore
    reduced[useStore.$id + mapStoreSuffix] = function () {
      return useStore(this.$pinia);
    };
    return reduced;
  }, {});
}
/**
 * Allows using state and getters from one store without using the composition
 * API (`setup()`) by generating an object to be spread in the `computed` field
 * of a component.
 *
 * @param useStore - store to map from
 * @param keysOrMapper - array or object
 */
function mapState(useStore, keysOrMapper) {
  return Array.isArray(keysOrMapper) ? keysOrMapper.reduce(function (reduced, key) {
    reduced[key] = function () {
      return useStore(this.$pinia)[key];
    };
    return reduced;
  }, {}) : Object.keys(keysOrMapper).reduce(function (reduced, key) {
    // @ts-expect-error
    reduced[key] = function () {
      var store = useStore(this.$pinia);
      var storeKey = keysOrMapper[key];
      // for some reason TS is unable to infer the type of storeKey to be a
      // function
      return typeof storeKey === 'function' ? storeKey.call(this, store) : store[storeKey];
    };
    return reduced;
  }, {});
}
/**
 * Alias for `mapState()`. You should use `mapState()` instead.
 * @deprecated use `mapState()` instead.
 */
var mapGetters = (/* unused pure expression or super */ null && (mapState));
/**
 * Allows directly using actions from your store without using the composition
 * API (`setup()`) by generating an object to be spread in the `methods` field
 * of a component.
 *
 * @param useStore - store to map from
 * @param keysOrMapper - array or object
 */
function mapActions(useStore, keysOrMapper) {
  return Array.isArray(keysOrMapper) ? keysOrMapper.reduce(function (reduced, key) {
    // @ts-expect-error
    reduced[key] = function () {
      var _useStore;
      return (_useStore = useStore(this.$pinia))[key].apply(_useStore, arguments);
    };
    return reduced;
  }, {}) : Object.keys(keysOrMapper).reduce(function (reduced, key) {
    // @ts-expect-error
    reduced[key] = function () {
      var _useStore2;
      return (_useStore2 = useStore(this.$pinia))[keysOrMapper[key]].apply(_useStore2, arguments);
    };
    return reduced;
  }, {});
}
/**
 * Allows using state and getters from one store without using the composition
 * API (`setup()`) by generating an object to be spread in the `computed` field
 * of a component.
 *
 * @param useStore - store to map from
 * @param keysOrMapper - array or object
 */
function mapWritableState(useStore, keysOrMapper) {
  return Array.isArray(keysOrMapper) ? keysOrMapper.reduce(function (reduced, key) {
    // @ts-ignore
    reduced[key] = {
      get() {
        return useStore(this.$pinia)[key];
      },
      set(value) {
        // it's easier to type it here as any
        return useStore(this.$pinia)[key] = value;
      }
    };
    return reduced;
  }, {}) : Object.keys(keysOrMapper).reduce(function (reduced, key) {
    // @ts-ignore
    reduced[key] = {
      get() {
        return useStore(this.$pinia)[keysOrMapper[key]];
      },
      set(value) {
        // it's easier to type it here as any
        return useStore(this.$pinia)[keysOrMapper[key]] = value;
      }
    };
    return reduced;
  }, {});
}

/**
 * Creates an object of references with all the state, getters, and plugin-added
 * state properties of the store. Similar to `toRefs()` but specifically
 * designed for Pinia stores so methods and non reactive properties are
 * completely ignored.
 *
 * @param store - store to extract the refs from
 */
function storeToRefs(store) {
  // See https://github.com/vuejs/pinia/issues/852
  // It's easier to just use toRefs() even if it includes more stuff
  if (lib_isVue2) {
    // @ts-expect-error: toRefs include methods and others
    return (0,runtime_core_esm_bundler/* toRefs */.BK)(store);
  } else {
    store = (0,runtime_core_esm_bundler/* toRaw */.IU)(store);
    var refs = {};
    for (var key in store) {
      var value = store[key];
      if ((0,runtime_core_esm_bundler/* isRef */.dq)(value) || (0,runtime_core_esm_bundler/* isReactive */.PG)(value)) {
        // @ts-expect-error: the key is state or getter
        refs[key] =
        // ---
        (0,runtime_core_esm_bundler/* toRef */.Vh)(store, key);
      }
    }
    return refs;
  }
}

/**
 * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need
 * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:
 * https://pinia.vuejs.org/ssr/nuxt.html.
 *
 * @example
 * ```js
 * import Vue from 'vue'
 * import { PiniaVuePlugin, createPinia } from 'pinia'
 *
 * Vue.use(PiniaVuePlugin)
 * const pinia = createPinia()
 *
 * new Vue({
 *   el: '#app',
 *   // ...
 *   pinia,
 * })
 * ```
 *
 * @param _Vue - `Vue` imported from 'vue'.
 */
var PiniaVuePlugin = function PiniaVuePlugin(_Vue) {
  // Equivalent of
  // app.config.globalProperties.$pinia = pinia
  _Vue.mixin({
    beforeCreate() {
      var options = this.$options;
      if (options.pinia) {
        var pinia = options.pinia;
        // HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31
        /* istanbul ignore else */
        if (!this._provided) {
          var provideCache = {};
          Object.defineProperty(this, '_provided', {
            get: function get() {
              return provideCache;
            },
            set: function set(v) {
              return Object.assign(provideCache, v);
            }
          });
        }
        this._provided[piniaSymbol] = pinia;
        // propagate the pinia instance in an SSR friendly way
        // avoid adding it to nuxt twice
        /* istanbul ignore else */
        if (!this.$pinia) {
          this.$pinia = pinia;
        }
        pinia._a = this;
        if (IS_CLIENT) {
          // this allows calling useStore() outside of a component setup after
          // installing pinia's plugin
          setActivePinia(pinia);
        }
        if (USE_DEVTOOLS) {
          registerPiniaDevtools(pinia._a, pinia);
        }
      } else if (!this.$pinia && options.parent && options.parent.$pinia) {
        this.$pinia = options.parent.$pinia;
      }
    },
    destroyed() {
      delete this._pStores;
    }
  });
};

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(64402);
;// CONCATENATED MODULE: ./node_modules/v-hotkey/src/keys/aliases.js


function isApplePlatform() {
  return typeof navigator !== 'undefined' && /Mac|iPod|iPhone|iPad/.test(navigator.platform);
}
/* harmony default export */ var aliases = ({
  return: "enter",
  '': "shift",
  '': "ctrl",
  '': "meta",
  '': "alt",
  'pause/break': "pause",
  break: "pause",
  caps: "capslock",
  cmd: "meta",
  command: "meta",
  control: "ctrl",
  ctl: "ctrl",
  del: "delete",
  down: "arrowdown",
  esc: "escape",
  ins: "insert",
  left: "arrowleft",
  leftcommand: "meta",
  mycalculator: "launchcalculator",
  mycomputer: "launchmycomputer",
  'numpad-': "subtract",
  'numpad.': "separator",
  'numpad*': "multiply",
  'numpad/': "divide",
  'numpad+': "add",
  numpad0: "0",
  numpad1: "1",
  numpad2: "2",
  numpad3: "3",
  numpad4: "4",
  numpad5: "5",
  numpad6: "6",
  numpad7: "7",
  numpad8: "8",
  numpad9: "9",
  numpadadd: "add",
  option: "alt",
  pgdn: "pagedown",
  pgup: "pageup",
  right: "arrowright",
  rightcommand: "meta",
  space: " ",
  spc: " ",
  up: "arrowup",
  windows: "meta",
  mod: isApplePlatform() ? 'meta' : 'ctrl'
});
;// CONCATENATED MODULE: ./node_modules/v-hotkey/src/helpers.js









var FORBIDDEN_NODES = ['INPUT', 'TEXTAREA', 'SELECT'];

/**
 *
 * @param {Object} a
 * @param {Object} b
 * @returns {Boolean}
 */
var areObjectsEqual = function areObjectsEqual(a, b) {
  return Object.entries(a).every(function (_ref) {
    var _ref2 = (0,slicedToArray/* default */.Z)(_ref, 2),
      key = _ref2[0],
      value = _ref2[1];
    return b[key] === value;
  });
};

/**
 *
 * @param {String} combination
 */
var splitCombination = function splitCombination(combination) {
  combination = combination.replace(/\s/g, '');
  combination = combination.includes('numpad+') ? combination.replace('numpad+', 'numpadadd') : combination;
  combination = combination.includes('++') ? combination.replace('++', '+=') : combination;
  return combination.split(/\+{1}/);
};

/**
 *
 * @param {Array} keyMap
 * @param {String} key
 * @param {Object} eventKeyModifiers
 * @returns {Function|Boolean}
 */
var getHotkeyCallback = function getHotkeyCallback(keyMap, eventKey, eventModifiers) {
  var match = keyMap.find(function (_ref3) {
    var key = _ref3.key,
      modifiers = _ref3.modifiers;
    return eventKey && searchKey(eventKey) === key && areObjectsEqual(eventModifiers, modifiers);
  });
  if (!match) return false;
  return match.callback;
};

/**
 *
 * @param {Event} e
 * @param {Array} keyMap
 * @param {Object} modifiers Vue event modifiers
 */
var assignKeyHandler = function assignKeyHandler(e, keyMap, modifiers) {
  var eventKey = e.key,
    ctrlKey = e.ctrlKey,
    altKey = e.altKey,
    shiftKey = e.shiftKey,
    metaKey = e.metaKey;
  var eventModifiers = {
    ctrlKey,
    altKey,
    shiftKey,
    metaKey
  };
  var _document$activeEleme = document.activeElement,
    nodeName = _document$activeEleme.nodeName,
    isContentEditable = _document$activeEleme.isContentEditable;
  if (isContentEditable) return;
  if (FORBIDDEN_NODES.includes(nodeName)) return;
  var callback = getHotkeyCallback(keyMap, eventKey, eventModifiers);
  if (!callback) return e;
  if (modifiers.stop) {
    e.stopPropagation();
  }
  if (modifiers.prevent) {
    e.preventDefault();
  }
  callback[e.type](e);
};
;// CONCATENATED MODULE: ./node_modules/v-hotkey/src/keys/index.js






var keys_noop = function noop() {};
var defaultModifiers = {
  ctrlKey: false,
  altKey: false,
  shiftKey: false,
  metaKey: false
};

/**
 *
 * @param {Object} combinations
 * @param {Object} alias
 * @returns {Object}
 */
var getKeyMap = function getKeyMap(combinations, alias) {
  var result = [];
  Object.keys(combinations).forEach(function (combination) {
    var _combinations$combina = combinations[combination],
      keyup = _combinations$combina.keyup,
      keydown = _combinations$combina.keydown;
    var callback = {
      keydown: keydown || (keyup ? keys_noop : combinations[combination]),
      keyup: keyup || keys_noop
    };
    var keys = splitCombination(combination);
    var _resolveKeyAndModifie = resolveKeyAndModifiers(keys, alias),
      key = _resolveKeyAndModifie.key,
      modifiers = _resolveKeyAndModifie.modifiers;
    result.push({
      key,
      modifiers,
      callback
    });
  });
  return result;
};

/**
 *
 * @param {Array} keys
 * @param {Object} alias
 * @returns {Object}
 */
var resolveKeyAndModifiers = function resolveKeyAndModifiers(keys, alias) {
  var modifiers = (0,objectSpread2/* default */.Z)({}, defaultModifiers);
  if (keys.length > 1) {
    return keys.reduce(function (acc, key) {
      key = searchKey(key);
      if (`${key}Key` in defaultModifiers) {
        acc.modifiers = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, acc.modifiers), {}, {
          [`${key}Key`]: true
        });
      } else {
        acc.key = key;
      }
      return acc;
    }, {
      modifiers
    });
  }
  var key = searchKey(keys[0]);
  return {
    key,
    modifiers
  };
};

/**
 *
 * @param {String} key
 */
var searchKey = function searchKey(key) {
  return aliases[key.toLowerCase()] || key.toLowerCase();
};
;// CONCATENATED MODULE: ./node_modules/v-hotkey/src/main.js



/**
 *
 * @param {Object} el
 * @param {Object} bindings
 * @param {Object} alias
 */
function bindEvent(el, _ref, alias) {
  var value = _ref.value,
    modifiers = _ref.modifiers;
  var keyMap = getKeyMap(value, alias);
  el._keyHandler = function (e) {
    return assignKeyHandler(e, keyMap, modifiers);
  };
  if (modifiers.local) {
    el.addEventListener('keydown', el._keyHandler);
    el.addEventListener('keyup', el._keyHandler);
  } else {
    el.ownerDocument.addEventListener('keydown', el._keyHandler);
    el.ownerDocument.addEventListener('keyup', el._keyHandler);
  }
}

/**
 *
 * @param {Object} el
 */
function unbindEvent(el, _ref2) {
  var value = _ref2.value,
    modifiers = _ref2.modifiers;
  if (modifiers.local) {
    el.removeEventListener('keydown', el._keyHandler);
    el.removeEventListener('keyup', el._keyHandler);
  } else {
    el.ownerDocument.removeEventListener('keydown', el._keyHandler);
    el.ownerDocument.removeEventListener('keyup', el._keyHandler);
  }
}

;// CONCATENATED MODULE: ./node_modules/v-hotkey/src/index.js

var buildDirective = function buildDirective() {
  var alias = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return {
    mounted(el, binding) {
      bindEvent(el, binding, alias);
    },
    updated(el, binding) {
      if (binding.value !== binding.oldValue) {
        unbindEvent(el, binding);
        bindEvent(el, binding, alias);
      }
    },
    beforeUnmount: unbindEvent
  };
};
var src_plugin = {
  install(app) {
    var alias = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    app.directive('hotkey', buildDirective(alias));
  },
  directive: buildDirective()
};
/* harmony default export */ var v_hotkey_src = (src_plugin);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/player/App.vue?vue&type=template&id=2ab2e5af&scoped=true

var _withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-2ab2e5af"), n = n(), _popScopeId(), n;
};
var _hoisted_1 = {
  class: "prefix"
};
var _hoisted_2 = ["title"];
function Appvue_type_template_id_2ab2e5af_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_app_renderer = (0,runtime_core_esm_bundler/* resolveComponent */.up)("app-renderer");
  var _component_logo_mini = (0,runtime_core_esm_bundler/* resolveComponent */.up)("logo-mini");
  var _component_progress_indicator = (0,runtime_core_esm_bundler/* resolveComponent */.up)("progress-indicator");
  var _component_logo = (0,runtime_core_esm_bundler/* resolveComponent */.up)("logo");
  var _component_context_menu = (0,runtime_core_esm_bundler/* resolveComponent */.up)("context-menu");
  var _directive_dompurify_html = (0,runtime_core_esm_bundler/* resolveDirective */.Q2)("dompurify-html");
  var _directive_hotkey = (0,runtime_core_esm_bundler/* resolveDirective */.Q2)("hotkey");
  return (0,runtime_core_esm_bundler/* withDirectives */.wy)(((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", {
    class: (0,shared_esm_bundler/* normalizeClass */.C_)(['metaScore-player', {
      loading: $options.loading
    }]),
    onContextmenu: _cache[2] || (_cache[2] = function () {
      return $options.onContextmenu && $options.onContextmenu.apply($options, arguments);
    })
  }, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_app_renderer, {
    url: $props.url
  }, null, 8, ["url"]), $options.loading ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_progress_indicator, {
    key: 0,
    class: "loading-indicator"
  }, {
    text: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_logo_mini), (0,runtime_core_esm_bundler/* withDirectives */.wy)((0,runtime_core_esm_bundler/* createElementVNode */._)("p", null, null, 512), [[_directive_dompurify_html, _ctx.$t('loading_indicator_label')]])];
    }),
    _: 1
  })) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true), (0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_context_menu, {
    show: $data.showContextmenu,
    "onUpdate:show": _cache[1] || (_cache[1] = function ($event) {
      return $data.showContextmenu = $event;
    }),
    position: $data.contextmenuPosition
  }, {
    footer: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("span", _hoisted_1, (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.$t("contextmenu_footer_prefix")), 1), (0,runtime_core_esm_bundler/* createElementVNode */._)("div", {
        onMousedown: _cache[0] || (_cache[0] = withModifiers(function () {}, ["prevent"]))
      }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("a", {
        href: "https://metascore.philharmoniedeparis.fr/",
        target: "_blank",
        title: `metaScore ${$data.version}`
      }, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_logo)], 8, _hoisted_2)], 32)];
    }),
    _: 1
  }, 8, ["show", "position"])], 34)), [[_directive_hotkey, $options.hotkeys, void 0, {
    prevent: true
  }]]);
}
;// CONCATENATED MODULE: ./packages/player/App.vue?vue&type=template&id=2ab2e5af&scoped=true

// EXTERNAL MODULE: ./node_modules/dompurify/dist/purify.js
var purify = __webpack_require__(77349);
;// CONCATENATED MODULE: ./node_modules/vue-dompurify-html/dist/vue-dompurify-html.mjs

function m(t, e) {
  var _t$hooks;
  var o = (_t$hooks = t.hooks) !== null && _t$hooks !== void 0 ? _t$hooks : {};
  var n;
  for (n in o) {
    var u = o[n];
    u !== void 0 && e.addHook(n, u);
  }
}
function c() {
  return purify();
}
function vue_dompurify_html_p() {
  var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : c;
  var o = e();
  m(t, o);
  var n = function n(u, i) {
    var _t$default;
    var r = i.value;
    if (i.oldValue === r) return;
    var a = `${r}`,
      s = i.arg,
      d = t.namedConfigurations,
      f = (_t$default = t.default) !== null && _t$default !== void 0 ? _t$default : {};
    if (d && s !== void 0) {
      var _d$s;
      u.innerHTML = o.sanitize(a, (_d$s = d[s]) !== null && _d$s !== void 0 ? _d$s : f);
      return;
    }
    u.innerHTML = o.sanitize(a, f);
  };
  return {
    mounted: n,
    updated: n
  };
}
var k = {
  install(t) {
    var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : c;
    t.directive("dompurify-html", vue_dompurify_html_p(e, o));
  }
};

// EXTERNAL MODULE: ./packages/core/services/module-manager/index.js
var module_manager = __webpack_require__(18003);
;// CONCATENATED MODULE: ./packages/player/api/index.js



function load(_x) {
  return _load.apply(this, arguments);
}
function _load() {
  _load = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(url) {
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return (0,module_manager/* useModule */.b7)("ajax").get(url);
        case 2:
          return _context.abrupt("return", _context.sent);
        case 3:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return _load.apply(this, arguments);
}

;// CONCATENATED MODULE: ./packages/player/store/index.js





/* harmony default export */ var player_store = (defineStore("player", {
  state: function state() {
    return {
      ready: false,
      loading: false
    };
  },
  actions: {
    setData(data) {
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var _useModule, setMediaSource, _useModule2, initComponents, enableComponentsOverrides, _useModule3, initBehaviors, enableBehaviors, width, height, css, _useModule4, initAppRenderer;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _useModule = (0,module_manager/* useModule */.b7)("media_player"), setMediaSource = _useModule.setSource;
              setMediaSource(data.media);
              _useModule2 = (0,module_manager/* useModule */.b7)("app_components"), initComponents = _useModule2.init, enableComponentsOverrides = _useModule2.enableOverrides;
              _context.next = 5;
              return initComponents(data.components);
            case 5:
              enableComponentsOverrides();
              _useModule3 = (0,module_manager/* useModule */.b7)("app_behaviors"), initBehaviors = _useModule3.init, enableBehaviors = _useModule3.enable;
              _context.next = 9;
              return initBehaviors(data.behaviors);
            case 9:
              enableBehaviors();
              width = data.width, height = data.height, css = data.css;
              _useModule4 = (0,module_manager/* useModule */.b7)("app_renderer"), initAppRenderer = _useModule4.init;
              initAppRenderer({
                width,
                height,
                css
              });
            case 13:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }))();
    },
    load(url) {
      var _this = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2() {
        var data;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              _this.ready = false;
              _this.loading = true;
              _context2.prev = 2;
              _context2.next = 5;
              return load(url);
            case 5:
              data = _context2.sent;
              _context2.next = 8;
              return _this.setData(data);
            case 8:
              _this.ready = true;
              _context2.next = 14;
              break;
            case 11:
              _context2.prev = 11;
              _context2.t0 = _context2["catch"](2);
              console.error(_context2.t0);
            case 14:
              _context2.prev = 14;
              _this.loading = false;
              return _context2.finish(14);
            case 17:
            case "end":
              return _context2.stop();
          }
        }, _callee2, null, [[2, 11, 14, 17]]);
      }))();
    }
  }
}));
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/player/assets/logo.svg?vue&type=template&id=42f026e5&inline

var logovue_type_template_id_42f026e5_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 958.11 313.75"
};
var logovue_type_template_id_42f026e5_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createStaticVNode */.uE)("<g fill=\"currentColor\"><path d=\"M66.33 66.38v151.94c0 28.33 3.58 45.64 21 51.09 2-9 2-19.55 2-28.41v-93.03l11.24.45h.73c11.77 0 50.2-3.06 50.2-42.45 0-38.48-37.62-39.6-41.91-39.6zM21.64 21.63v217.53c0 34.34 5.56 53 35 53 8.67 0 14.65-1.63 18.88-4.06-30.8-13.56-30.81-51.89-30.81-69.73V44.76h64.89c22 0 63.6 12.8 63.6 61.22 0 42.75-31.61 60.57-62.16 63.6V241c0 9 0 19.54-1.84 29.79 6.66-.95 11.72-3.23 15.4-6.91 9.55-9.56 9.53-28.49 9.51-43.68v-1.85l.07-30.66 8.32-2c2.2-.53 55.06-14.24 55.06-80.26 0-72.92-52.5-83.81-83.8-83.81zm35 292.12C0 313.75 0 261.47 0 239.16V0h113.72c24.73 0 105.42 7.61 105.42 105.44 0 43.39-19.35 68.63-35.58 82.16a101.73 101.73 0 01-27.83 16.4v16.1c0 18.18 0 43.1-15.85 59-9.13 9.15-22.1 13.79-38.55 13.79h-.46c-7 10.61-20 20.83-44.23 20.83\"></path><circle cx=\"432.03\" cy=\"128\" r=\"2.02\"></circle><circle cx=\"899.16\" cy=\"128.11\" r=\"2.02\"></circle><path d=\"M308.09 190.06v-53.67h18.18c11.73 0 19 5.21 19 16.71s-9 16.26-19 16.26h-14.73v20.7zm18.56-50.22h-15.11v26.07h15.11c8.43 0 15.18-3 15.18-12.81s-7.36-13.26-15.18-13.26zm38.57-3.45h3.45v25.07h34v-25.07h3.45v53.67h-3.45v-25.15h-34v25.15h-3.45zm65.09 0h3.45v53.67h-3.45zm27.61 0h3.45v50.22h28.52v3.45h-32zm51.91 0h3.45v25.07h34v-25.07h3.46v53.67h-3.46v-25.15h-34v25.15h-3.45zm82.73-1.54l22.85 55.21h-4l-4.21-10.27h-29.44l-4.14 10.27h-4.06zm-13.34 41.49h26.61l-13.27-32.52zm54.59 13.72v-53.67h20c9.12 0 17.25 5 17.25 15.72a14.3 14.3 0 01-11.5 14.41l9.58 23.54h-3.68L656 167.52h-18.74v22.54zm19-50.22h-15.55v24.23h15.57c8.36 0 14.8-3.22 14.8-12s-6.44-12.23-14.8-12.23zm47.33-4.91l16.41 46.47 16.18-46.55 13 55.21h-3.29l-10.36-43.32-15.53 44.86-15.8-44.86-10.66 43.32h-3.29zm62.11 28.29c0-15.25 11.5-27.75 25.53-27.75s25.54 12.5 25.54 27.75S801.81 191 787.78 191s-25.53-12.52-25.53-27.78zm25.53-24.53c-12 0-22.31 11.27-22.31 24.53s10.27 24.54 22.31 24.54 22.32-11.27 22.32-24.54-10.28-24.53-22.32-24.53zm45.47-3.84l36.81 46.86v-45.32h3.22v55.21l-36.81-47v45.47h-3.22zm64.18 1.54h3.45v53.67h-3.45zm27.57 0h32.13v3.45h-28.65v21.39h26.23v3.45h-26.23v21.93h29.45v3.45H925zM308.09 266.74v-53.68h17.18c13.72 0 26.07 7.6 26.07 26.84 0 22.47-14.19 26.84-25.3 26.84zm16.41-50.23h-13v46.78h13.73c15.41 0 22.31-7.82 22.31-23.39.04-14.41-7.01-23.39-23.04-23.39zm46.77-3.45h32.13v3.45h-28.67v21.4H401v3.45h-26.27v21.93h29.44v3.45h-32.9zm85.42 53.68v-53.68h18.18c11.73 0 19 5.22 19 16.72s-9 16.26-19 16.26h-14.73v20.7zm18.56-50.23h-15.11v26.08h15.11c8.43 0 15.18-3 15.18-12.81s-7.36-13.27-15.18-13.27zm50.45-4.98l22.85 55.21h-4l-4.22-10.27H510.9l-4.14 10.27h-4.06zM512.36 253H539l-13.3-32.5zM567 266.74v-53.68h20c9.12 0 17.25 5 17.25 15.72a14.3 14.3 0 01-11.5 14.42l9.58 23.54h-3.68l-9.5-22.54h-18.74v22.54zm19-50.23h-15.59v24.24H586c8.36 0 14.8-3.22 14.8-12s-6.47-12.24-14.8-12.24zm38.54-3.45H628v53.68h-3.45zm43.86-.92a21.48 21.48 0 0116 6.52l-2.69 2.3c-3.29-3.14-6-5.37-13.26-5.37-5.83 0-14 3-14.19 9.82-.38 12.65 32.9 8.82 32.9 27.45 0 10.2-9.2 14.8-18.71 14.8-9 0-15.34-3.3-19.33-9.2l3.07-2.07c2.76 3.83 7.21 7.82 16.26 7.82 8.89 0 15.26-3.68 15.26-10.58 0-16.87-32.9-11.89-32.9-27.84-.05-7.79 7.31-13.65 17.59-13.65zM324.84 21.3l20.61 39.77 20.31-39.86 16.37 69.32h-13.19L362.1 59l-16.65 33.5L328.21 59l-6.93 31.58h-13.19zm72.21 1.83h40.34v13h-27.34V50h24.26v13h-24.26v14.53h28.3v13h-41.3zm55.26 0h48.62v13h-17.81v54.4h-13v-54.4h-17.81zm81.83-1.92l29 69.32h-13.69L545.7 82h-23l-3.7 8.53h-13.74zM528.37 69H540l-5.88-13.38zm67.19-47c8.48 0 16.37 3.37 21.28 9.53l-8.57 9.15C605 36.13 598.84 35 595.56 35c-5.58 0-8.95 1.44-9.14 5.29-.29 11.46 32.64 5.1 32.64 31.39 0 12.8-11.56 20-23.5 20-11.26 0-19.25-4.14-24.26-11.55l10.5-8.38c4.43 4.34 8.18 6.94 13.76 6.94 6.84 0 10.5-3.18 10.5-7.51 0-12.91-32.64-5.88-32.64-30.62 0-11.26 9.24-18.56 22.14-18.56zm68.65 0c9.82 0 15.11 3.27 19.25 6.83v14.43c-4.91-5.88-11.36-8.48-19.25-8.28-11.65.28-20.6 9.72-20.6 21.85 0 11.46 7.41 21.57 20.6 21.86 7 .09 16.08-3.09 20.22-8.57v14.63c-4.14 4-11.65 6.93-20.22 6.93-19.54 0-33.6-16.85-33.6-34.85 0-18.58 14.63-34.83 33.6-34.83zm32.63 34.83c0-19.16 14.44-34.83 32.06-34.83S761 37.67 761 56.83s-14.48 34.85-32.1 34.85S696.84 76 696.84 56.83zm32.06-22.14c-10.78 0-19.35 9.82-19.35 22.14S718.12 79 728.9 79s19.35-9.82 19.35-22.14-8.56-22.17-19.35-22.17zm47.46 55.84v-67.4h25.13c12.33 0 21.67 8.57 21.67 21.47 0 8.38-3.28 16.18-12.23 19.74l15.59 26.19h-14.73l-14.34-24h-8.09v24zm22.92-54.4h-9.92v17.43h9.92c7.6 0 10.88-3.76 10.88-9s-3.28-8.43-10.88-8.43zm42.65-13h40.34v13h-27.35V50h24.27v13h-24.27v14.53h28.31v13h-41.3z\"></path><circle cx=\"626.26\" cy=\"204.74\" r=\"2.02\"></circle></g>", 1);
var _hoisted_3 = [logovue_type_template_id_42f026e5_inline_hoisted_2];
function logovue_type_template_id_42f026e5_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", logovue_type_template_id_42f026e5_inline_hoisted_1, _hoisted_3);
}
;// CONCATENATED MODULE: ./packages/player/assets/logo.svg?vue&type=template&id=42f026e5&inline

// EXTERNAL MODULE: ./node_modules/vue-loader/dist/exportHelper.js
var exportHelper = __webpack_require__(67185);
;// CONCATENATED MODULE: ./packages/player/assets/logo.svg?inline

const script = {}

;
const __exports__ = /*#__PURE__*/(0,exportHelper/* default */.Z)(script, [['render',logovue_type_template_id_42f026e5_inline_render]])

/* harmony default export */ var logoinline = (__exports__);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/player/assets/logo-mini.svg?vue&type=template&id=24e52712&inline

var logo_minivue_type_template_id_24e52712_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 7.398 5.032 7.204"
};
var logo_minivue_type_template_id_24e52712_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  fill: "currentColor",
  d: "M1.523 8.922v3.489c0 .65.083 1.048.482 1.173.046-.207.046-.449.046-.652v-2.136l.258.01h.017c.27 0 1.152-.07 1.152-.975 0-.883-.864-.909-.962-.909h-.993zM.497 7.895v4.995c0 .788.127 1.217.804 1.217a.865.865 0 00.433-.093c-.707-.313-.708-1.191-.708-1.602V8.426h1.49c.505 0 1.46.294 1.46 1.406 0 .981-.726 1.391-1.427 1.46v1.64c0 .207 0 .449-.042.684a.6.6 0 00.354-.158c.219-.22.219-.654.219-1.003v-.042l.001-.705.191-.045c.051-.013 1.264-.328 1.264-1.843 0-1.674-1.205-1.924-1.924-1.924H.497zm.804 6.707C0 14.602 0 13.402 0 12.89V7.398h2.611c.568 0 2.42.175 2.42 2.421 0 .997-.444 1.576-.817 1.886a2.326 2.326 0 01-.639.377v.369c0 .418 0 .99-.364 1.355-.209.21-.507.316-.885.316h-.01c-.161.245-.459.48-1.015.48"
}, null, -1);
var logo_minivue_type_template_id_24e52712_inline_hoisted_3 = [logo_minivue_type_template_id_24e52712_inline_hoisted_2];
function logo_minivue_type_template_id_24e52712_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", logo_minivue_type_template_id_24e52712_inline_hoisted_1, logo_minivue_type_template_id_24e52712_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/player/assets/logo-mini.svg?vue&type=template&id=24e52712&inline

;// CONCATENATED MODULE: ./packages/player/assets/logo-mini.svg?inline

const logo_miniinline_script = {}

;
const logo_miniinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(logo_miniinline_script, [['render',logo_minivue_type_template_id_24e52712_inline_render]])

/* harmony default export */ var logo_miniinline = (logo_miniinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/player/App.vue?vue&type=script&lang=js







/* harmony default export */ var Appvue_type_script_lang_js = ({
  components: {
    Logo: logoinline,
    LogoMini: logo_miniinline
  },
  directives: {
    dompurifyHtml: vue_dompurify_html_p()
  },
  provide() {
    var _this = this;
    return {
      overlaysTarget: (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
        return _this.overlaysTarget;
      })
    };
  },
  props: {
    url: {
      type: String,
      required: true
    }
  },
  setup() {
    var store = player_store();
    var _useModule = (0,module_manager/* useModule */.b7)("app_renderer"),
      appRendererReady = _useModule.ready;
    var _useModule2 = (0,module_manager/* useModule */.b7)("media_player"),
      mediaPlaying = _useModule2.playing;
    return {
      store,
      appRendererReady,
      mediaPlaying
    };
  },
  data() {
    return {
      version: package_namespaceObject.i8,
      overlaysTarget: null,
      showContextmenu: false,
      contextmenuPosition: {
        x: 0,
        y: 0
      }
    };
  },
  computed: {
    loading() {
      return this.store.loading || !this.appRendererReady;
    },
    hotkeys() {
      var _this2 = this;
      return {
        left: function left() {
          var _this2$$el$querySelec;
          (_this2$$el$querySelec = _this2.$el.querySelector(".metaScore-component.block:hover .pager a[data-action='previous']")) === null || _this2$$el$querySelec === void 0 || _this2$$el$querySelec.click();
        },
        right: function right() {
          var _this2$$el$querySelec2;
          (_this2$$el$querySelec2 = _this2.$el.querySelector(".metaScore-component.block:hover .pager a[data-action='next']")) === null || _this2$$el$querySelec2 === void 0 || _this2$$el$querySelec2.click();
        }
      };
    }
  },
  mounted() {
    this.overlaysTarget = this.$el;
    this.store.load(this.url);
  },
  methods: {
    onContextmenu(evt) {
      // Show the native menu if the shift key is down.
      if (evt.shiftKey) {
        return;
      }
      this.contextmenuPosition = {
        x: evt.pageX,
        y: evt.pageY
      };
      this.showContextmenu = true;
      evt.preventDefault();
    }
  }
});
;// CONCATENATED MODULE: ./packages/player/App.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/player/App.vue?vue&type=style&index=0&id=2ab2e5af&lang=scss
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/player/App.vue?vue&type=style&index=0&id=2ab2e5af&lang=scss

;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/player/App.vue?vue&type=style&index=1&id=2ab2e5af&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/player/App.vue?vue&type=style&index=1&id=2ab2e5af&lang=scss&scoped=true

;// CONCATENATED MODULE: ./node_modules/@intlify/vue-i18n-loader/lib/index.js!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/player/App.vue?vue&type=custom&index=0&blockType=i18n
/* harmony default export */ function Appvue_type_custom_index_0_blockType_i18n(Component) {
  Component.__i18n = Component.__i18n || []
  Component.__i18n.push({
    "locale": "",
    "resource": {
      "fr": {
        "loading_indicator_label": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["cr avec <strong>metaScore</strong>"])},
        "contextmenu_footer_prefix": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["cr avec"])}
      },
      "en": {
        "loading_indicator_label": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["created with <strong>metaScore</strong>"])},
        "contextmenu_footer_prefix": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["created with"])}
      }
    }
  })
}

;// CONCATENATED MODULE: ./packages/player/App.vue




;

/* custom blocks */

if (typeof Appvue_type_custom_index_0_blockType_i18n === 'function') Appvue_type_custom_index_0_blockType_i18n(Appvue_type_script_lang_js)


;
const App_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(Appvue_type_script_lang_js, [['render',Appvue_type_template_id_2ab2e5af_scoped_true_render],['__scopeId',"data-v-2ab2e5af"]])

/* harmony default export */ var App = (App_exports_);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.reflect.apply.js
var es_reflect_apply = __webpack_require__(54333);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.sort.js
var es_array_sort = __webpack_require__(65137);
;// CONCATENATED MODULE: ./node_modules/@intlify/shared/dist/shared.mjs



















/*!
  * shared v9.9.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */
/**
 * Original Utilities
 * written by kazuya kawaguchi
 */
var shared_inBrowser = typeof window !== 'undefined';
var mark;
var measure;
if (false) { var shared_perf; }
var RE_ARGS = /\{([0-9a-zA-Z]+)\}/g;
/* eslint-disable */
function shared_format(message) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }
  if (args.length === 1 && isObject(args[0])) {
    args = args[0];
  }
  if (!args || !args.hasOwnProperty) {
    args = {};
  }
  return message.replace(RE_ARGS, function (match, identifier) {
    return args.hasOwnProperty(identifier) ? args[identifier] : '';
  });
}
var shared_makeSymbol = function makeSymbol(name) {
  var shareable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return !shareable ? Symbol(name) : Symbol.for(name);
};
var generateFormatCacheKey = function generateFormatCacheKey(locale, key, source) {
  return friendlyJSONstringify({
    l: locale,
    k: key,
    s: source
  });
};
var friendlyJSONstringify = function friendlyJSONstringify(json) {
  return JSON.stringify(json).replace(/\u2028/g, '\\u2028').replace(/\u2029/g, '\\u2029').replace(/\u0027/g, '\\u0027');
};
var shared_isNumber = function isNumber(val) {
  return typeof val === 'number' && isFinite(val);
};
var isDate = function isDate(val) {
  return toTypeString(val) === '[object Date]';
};
var isRegExp = function isRegExp(val) {
  return toTypeString(val) === '[object RegExp]';
};
var isEmptyObject = function isEmptyObject(val) {
  return shared_isPlainObject(val) && Object.keys(val).length === 0;
};
var shared_assign = Object.assign;
var _globalThis;
var getGlobalThis = function getGlobalThis() {
  // prettier-ignore
  return _globalThis || (_globalThis = typeof globalThis !== 'undefined' ? globalThis : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : {});
};
function escapeHtml(rawText) {
  return rawText.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&apos;');
}
var shared_hasOwnProperty = Object.prototype.hasOwnProperty;
function hasOwn(obj, key) {
  return shared_hasOwnProperty.call(obj, key);
}
/* eslint-enable */
/**
 * Useful Utilities By Evan you
 * Modified by kazuya kawaguchi
 * MIT License
 * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/index.ts
 * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/codeframe.ts
 */
var shared_isArray = Array.isArray;
var isFunction = function isFunction(val) {
  return typeof val === 'function';
};
var shared_isString = function isString(val) {
  return typeof val === 'string';
};
var shared_isBoolean = function isBoolean(val) {
  return typeof val === 'boolean';
};
var isSymbol = function isSymbol(val) {
  return typeof val === 'symbol';
};
// eslint-disable-next-line @typescript-eslint/no-explicit-any
var isObject = function isObject(val) {
  return val !== null && typeof val === 'object';
};
// eslint-disable-next-line @typescript-eslint/no-explicit-any
var isPromise = function isPromise(val) {
  return isObject(val) && isFunction(val.then) && isFunction(val.catch);
};
var objectToString = Object.prototype.toString;
var toTypeString = function toTypeString(value) {
  return objectToString.call(value);
};
var shared_isPlainObject = function isPlainObject(val) {
  if (!isObject(val)) return false;
  var proto = Object.getPrototypeOf(val);
  return proto === null || proto.constructor === Object;
};
// for converting list and named values to displayed strings.
var toDisplayString = function toDisplayString(val) {
  return val == null ? '' : shared_isArray(val) || shared_isPlainObject(val) && val.toString === objectToString ? JSON.stringify(val, null, 2) : String(val);
};
function join(items) {
  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  return items.reduce(function (str, item, index) {
    return index === 0 ? str + item : str + separator + item;
  }, '');
}
var RANGE = 2;
function generateCodeFrame(source) {
  var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : source.length;
  var lines = source.split(/\r?\n/);
  var count = 0;
  var res = [];
  for (var i = 0; i < lines.length; i++) {
    count += lines[i].length + 1;
    if (count >= start) {
      for (var j = i - RANGE; j <= i + RANGE || end > count; j++) {
        if (j < 0 || j >= lines.length) continue;
        var line = j + 1;
        res.push(`${line}${' '.repeat(3 - String(line).length)}|  ${lines[j]}`);
        var lineLength = lines[j].length;
        if (j === i) {
          // push underline
          var pad = start - (count - lineLength) + 1;
          var length = Math.max(1, end > count ? lineLength - pad : end - start);
          res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));
        } else if (j > i) {
          if (end > count) {
            var _length = Math.max(Math.min(end - count, lineLength), 1);
            res.push(`   |  ` + '^'.repeat(_length));
          }
          count += lineLength + 1;
        }
      }
      break;
    }
  }
  return res.join('\n');
}
function incrementer(code) {
  var current = code;
  return function () {
    return ++current;
  };
}
function shared_warn(msg, err) {
  if (typeof console !== 'undefined') {
    console.warn(`[intlify] ` + msg);
    /* istanbul ignore if */
    if (err) {
      console.warn(err.stack);
    }
  }
}
var hasWarned = {};
function warnOnce(msg) {
  if (!hasWarned[msg]) {
    hasWarned[msg] = true;
    shared_warn(msg);
  }
}

/**
 * Event emitter, forked from the below:
 * - original repository url: https://github.com/developit/mitt
 * - code url: https://github.com/developit/mitt/blob/master/src/index.ts
 * - author: Jason Miller (https://github.com/developit)
 * - license: MIT
 */
/**
 * Create a event emitter
 *
 * @returns An event emitter
 */
function createEmitter() {
  var events = new Map();
  var emitter = {
    events,
    on(event, handler) {
      var handlers = events.get(event);
      var added = handlers && handlers.push(handler);
      if (!added) {
        events.set(event, [handler]);
      }
    },
    off(event, handler) {
      var handlers = events.get(event);
      if (handlers) {
        handlers.splice(handlers.indexOf(handler) >>> 0, 1);
      }
    },
    emit(event, payload) {
      (events.get(event) || []).slice().map(function (handler) {
        return handler(payload);
      });
      (events.get('*') || []).slice().map(function (handler) {
        return handler(event, payload);
      });
    }
  };
  return emitter;
}
var isNotObjectOrIsArray = function isNotObjectOrIsArray(val) {
  return !isObject(val) || shared_isArray(val);
};
// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types
function deepCopy(src, des) {
  // src and des should both be objects, and none of them can be a array
  if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {
    throw new Error('Invalid value');
  }
  var stack = [{
    src,
    des
  }];
  var _loop = function _loop() {
    var _stack$pop = stack.pop(),
      src = _stack$pop.src,
      des = _stack$pop.des;
    Object.keys(src).forEach(function (key) {
      if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {
        // replace with src[key] when:
        // src[key] or des[key] is not an object, or
        // src[key] or des[key] is an array
        des[key] = src[key];
      } else {
        // src[key] and des[key] are both objects, merge them
        stack.push({
          src: src[key],
          des: des[key]
        });
      }
    });
  };
  while (stack.length) {
    _loop();
  }
}

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.constructor.js
var es_regexp_constructor = __webpack_require__(52003);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.dot-all.js
var es_regexp_dot_all = __webpack_require__(68518);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.sticky.js
var es_regexp_sticky = __webpack_require__(13440);
;// CONCATENATED MODULE: ./node_modules/@intlify/message-compiler/dist/message-compiler.esm-browser.js

















/*!
  * message-compiler v9.9.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */
var LOCATION_STUB = {
  start: {
    line: 1,
    column: 1,
    offset: 0
  },
  end: {
    line: 1,
    column: 1,
    offset: 0
  }
};
function createPosition(line, column, offset) {
  return {
    line,
    column,
    offset
  };
}
function createLocation(start, end, source) {
  var loc = {
    start,
    end
  };
  if (source != null) {
    loc.source = source;
  }
  return loc;
}

/**
 * Original Utilities
 * written by kazuya kawaguchi
 */
var message_compiler_esm_browser_RE_ARGS = /\{([0-9a-zA-Z]+)\}/g;
/* eslint-disable */
function message_compiler_esm_browser_format(message) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }
  if (args.length === 1 && message_compiler_esm_browser_isObject(args[0])) {
    args = args[0];
  }
  if (!args || !args.hasOwnProperty) {
    args = {};
  }
  return message.replace(message_compiler_esm_browser_RE_ARGS, function (match, identifier) {
    return args.hasOwnProperty(identifier) ? args[identifier] : '';
  });
}
var message_compiler_esm_browser_assign = Object.assign;
var message_compiler_esm_browser_isString = function isString(val) {
  return typeof val === 'string';
};
// eslint-disable-next-line @typescript-eslint/no-explicit-any
var message_compiler_esm_browser_isObject = function isObject(val) {
  return val !== null && typeof val === 'object';
};
function message_compiler_esm_browser_join(items) {
  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
  return items.reduce(function (str, item, index) {
    return index === 0 ? str + item : str + separator + item;
  }, '');
}
var CompileErrorCodes = {
  // tokenizer error codes
  EXPECTED_TOKEN: 1,
  INVALID_TOKEN_IN_PLACEHOLDER: 2,
  UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER: 3,
  UNKNOWN_ESCAPE_SEQUENCE: 4,
  INVALID_UNICODE_ESCAPE_SEQUENCE: 5,
  UNBALANCED_CLOSING_BRACE: 6,
  UNTERMINATED_CLOSING_BRACE: 7,
  EMPTY_PLACEHOLDER: 8,
  NOT_ALLOW_NEST_PLACEHOLDER: 9,
  INVALID_LINKED_FORMAT: 10,
  // parser error codes
  MUST_HAVE_MESSAGES_IN_PLURAL: 11,
  UNEXPECTED_EMPTY_LINKED_MODIFIER: 12,
  UNEXPECTED_EMPTY_LINKED_KEY: 13,
  UNEXPECTED_LEXICAL_ANALYSIS: 14,
  // generator error codes
  UNHANDLED_CODEGEN_NODE_TYPE: 15,
  // minifier error codes
  UNHANDLED_MINIFIER_NODE_TYPE: 16,
  // Special value for higher-order compilers to pick up the last code
  // to avoid collision of error codes. This should always be kept as the last
  // item.
  __EXTEND_POINT__: 17
};
/** @internal */
var errorMessages = {
  // tokenizer error messages
  [CompileErrorCodes.EXPECTED_TOKEN]: `Expected token: '{0}'`,
  [CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]: `Invalid token in placeholder: '{0}'`,
  [CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]: `Unterminated single quote in placeholder`,
  [CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]: `Unknown escape sequence: \\{0}`,
  [CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]: `Invalid unicode escape sequence: {0}`,
  [CompileErrorCodes.UNBALANCED_CLOSING_BRACE]: `Unbalanced closing brace`,
  [CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]: `Unterminated closing brace`,
  [CompileErrorCodes.EMPTY_PLACEHOLDER]: `Empty placeholder`,
  [CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]: `Not allowed nest placeholder`,
  [CompileErrorCodes.INVALID_LINKED_FORMAT]: `Invalid linked format`,
  // parser error messages
  [CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]: `Plural must have messages`,
  [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]: `Unexpected empty linked modifier`,
  [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]: `Unexpected empty linked key`,
  [CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]: `Unexpected lexical analysis in token: '{0}'`,
  // generator error messages
  [CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]: `unhandled codegen node type: '{0}'`,
  // minimizer error messages
  [CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]: `unhandled mimifier node type: '{0}'`
};
function createCompileError(code, loc) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var domain = options.domain,
    messages = options.messages,
    args = options.args;
  var msg = message_compiler_esm_browser_format.apply(void 0, [(messages || errorMessages)[code] || ''].concat((0,toConsumableArray/* default */.Z)(args || [])));
  var error = new SyntaxError(String(msg));
  error.code = code;
  if (loc) {
    error.location = loc;
  }
  error.domain = domain;
  return error;
}
/** @internal */
function defaultOnError(error) {
  throw error;
}
var RE_HTML_TAG = /<\/?[\w\s="/.':;#-\/]+>/;
var message_compiler_esm_browser_detectHtmlTag = function detectHtmlTag(source) {
  return RE_HTML_TAG.test(source);
};
var CHAR_SP = ' ';
var CHAR_CR = '\r';
var CHAR_LF = '\n';
var CHAR_LS = String.fromCharCode(0x2028);
var CHAR_PS = String.fromCharCode(0x2029);
function createScanner(str) {
  var _buf = str;
  var _index = 0;
  var _line = 1;
  var _column = 1;
  var _peekOffset = 0;
  var isCRLF = function isCRLF(index) {
    return _buf[index] === CHAR_CR && _buf[index + 1] === CHAR_LF;
  };
  var isLF = function isLF(index) {
    return _buf[index] === CHAR_LF;
  };
  var isPS = function isPS(index) {
    return _buf[index] === CHAR_PS;
  };
  var isLS = function isLS(index) {
    return _buf[index] === CHAR_LS;
  };
  var isLineEnd = function isLineEnd(index) {
    return isCRLF(index) || isLF(index) || isPS(index) || isLS(index);
  };
  var index = function index() {
    return _index;
  };
  var line = function line() {
    return _line;
  };
  var column = function column() {
    return _column;
  };
  var peekOffset = function peekOffset() {
    return _peekOffset;
  };
  var charAt = function charAt(offset) {
    return isCRLF(offset) || isPS(offset) || isLS(offset) ? CHAR_LF : _buf[offset];
  };
  var currentChar = function currentChar() {
    return charAt(_index);
  };
  var currentPeek = function currentPeek() {
    return charAt(_index + _peekOffset);
  };
  function next() {
    _peekOffset = 0;
    if (isLineEnd(_index)) {
      _line++;
      _column = 0;
    }
    if (isCRLF(_index)) {
      _index++;
    }
    _index++;
    _column++;
    return _buf[_index];
  }
  function peek() {
    if (isCRLF(_index + _peekOffset)) {
      _peekOffset++;
    }
    _peekOffset++;
    return _buf[_index + _peekOffset];
  }
  function reset() {
    _index = 0;
    _line = 1;
    _column = 1;
    _peekOffset = 0;
  }
  function resetPeek() {
    var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
    _peekOffset = offset;
  }
  function skipToPeek() {
    var target = _index + _peekOffset;
    // eslint-disable-next-line no-unmodified-loop-condition
    while (target !== _index) {
      next();
    }
    _peekOffset = 0;
  }
  return {
    index,
    line,
    column,
    peekOffset,
    charAt,
    currentChar,
    currentPeek,
    next,
    peek,
    reset,
    resetPeek,
    skipToPeek
  };
}
var EOF = undefined;
var DOT = '.';
var LITERAL_DELIMITER = "'";
var ERROR_DOMAIN$3 = 'tokenizer';
function createTokenizer(source) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var location = options.location !== false;
  var _scnr = createScanner(source);
  var currentOffset = function currentOffset() {
    return _scnr.index();
  };
  var currentPosition = function currentPosition() {
    return createPosition(_scnr.line(), _scnr.column(), _scnr.index());
  };
  var _initLoc = currentPosition();
  var _initOffset = currentOffset();
  var _context = {
    currentType: 14 /* TokenTypes.EOF */,
    offset: _initOffset,
    startLoc: _initLoc,
    endLoc: _initLoc,
    lastType: 14 /* TokenTypes.EOF */,
    lastOffset: _initOffset,
    lastStartLoc: _initLoc,
    lastEndLoc: _initLoc,
    braceNest: 0,
    inLinked: false,
    text: ''
  };
  var context = function context() {
    return _context;
  };
  var onError = options.onError;
  function emitError(code, pos, offset) {
    var ctx = context();
    pos.column += offset;
    pos.offset += offset;
    if (onError) {
      var loc = location ? createLocation(ctx.startLoc, pos) : null;
      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        args[_key2 - 3] = arguments[_key2];
      }
      var err = createCompileError(code, loc, {
        domain: ERROR_DOMAIN$3,
        args
      });
      onError(err);
    }
  }
  function getToken(context, type, value) {
    context.endLoc = currentPosition();
    context.currentType = type;
    var token = {
      type
    };
    if (location) {
      token.loc = createLocation(context.startLoc, context.endLoc);
    }
    if (value != null) {
      token.value = value;
    }
    return token;
  }
  var getEndToken = function getEndToken(context) {
    return getToken(context, 14 /* TokenTypes.EOF */);
  };
  function eat(scnr, ch) {
    if (scnr.currentChar() === ch) {
      scnr.next();
      return ch;
    } else {
      emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);
      return '';
    }
  }
  function peekSpaces(scnr) {
    var buf = '';
    while (scnr.currentPeek() === CHAR_SP || scnr.currentPeek() === CHAR_LF) {
      buf += scnr.currentPeek();
      scnr.peek();
    }
    return buf;
  }
  function skipSpaces(scnr) {
    var buf = peekSpaces(scnr);
    scnr.skipToPeek();
    return buf;
  }
  function isIdentifierStart(ch) {
    if (ch === EOF) {
      return false;
    }
    var cc = ch.charCodeAt(0);
    return cc >= 97 && cc <= 122 ||
    // a-z
    cc >= 65 && cc <= 90 ||
    // A-Z
    cc === 95 // _
    ;
  }
  function isNumberStart(ch) {
    if (ch === EOF) {
      return false;
    }
    var cc = ch.charCodeAt(0);
    return cc >= 48 && cc <= 57; // 0-9
  }
  function isNamedIdentifierStart(scnr, context) {
    var currentType = context.currentType;
    if (currentType !== 2 /* TokenTypes.BraceLeft */) {
      return false;
    }
    peekSpaces(scnr);
    var ret = isIdentifierStart(scnr.currentPeek());
    scnr.resetPeek();
    return ret;
  }
  function isListIdentifierStart(scnr, context) {
    var currentType = context.currentType;
    if (currentType !== 2 /* TokenTypes.BraceLeft */) {
      return false;
    }
    peekSpaces(scnr);
    var ch = scnr.currentPeek() === '-' ? scnr.peek() : scnr.currentPeek();
    var ret = isNumberStart(ch);
    scnr.resetPeek();
    return ret;
  }
  function isLiteralStart(scnr, context) {
    var currentType = context.currentType;
    if (currentType !== 2 /* TokenTypes.BraceLeft */) {
      return false;
    }
    peekSpaces(scnr);
    var ret = scnr.currentPeek() === LITERAL_DELIMITER;
    scnr.resetPeek();
    return ret;
  }
  function isLinkedDotStart(scnr, context) {
    var currentType = context.currentType;
    if (currentType !== 8 /* TokenTypes.LinkedAlias */) {
      return false;
    }
    peekSpaces(scnr);
    var ret = scnr.currentPeek() === "." /* TokenChars.LinkedDot */;
    scnr.resetPeek();
    return ret;
  }
  function isLinkedModifierStart(scnr, context) {
    var currentType = context.currentType;
    if (currentType !== 9 /* TokenTypes.LinkedDot */) {
      return false;
    }
    peekSpaces(scnr);
    var ret = isIdentifierStart(scnr.currentPeek());
    scnr.resetPeek();
    return ret;
  }
  function isLinkedDelimiterStart(scnr, context) {
    var currentType = context.currentType;
    if (!(currentType === 8 /* TokenTypes.LinkedAlias */ || currentType === 12 /* TokenTypes.LinkedModifier */)) {
      return false;
    }
    peekSpaces(scnr);
    var ret = scnr.currentPeek() === ":" /* TokenChars.LinkedDelimiter */;
    scnr.resetPeek();
    return ret;
  }
  function isLinkedReferStart(scnr, context) {
    var currentType = context.currentType;
    if (currentType !== 10 /* TokenTypes.LinkedDelimiter */) {
      return false;
    }
    var fn = function fn() {
      var ch = scnr.currentPeek();
      if (ch === "{" /* TokenChars.BraceLeft */) {
        return isIdentifierStart(scnr.peek());
      } else if (ch === "@" /* TokenChars.LinkedAlias */ || ch === "%" /* TokenChars.Modulo */ || ch === "|" /* TokenChars.Pipe */ || ch === ":" /* TokenChars.LinkedDelimiter */ || ch === "." /* TokenChars.LinkedDot */ || ch === CHAR_SP || !ch) {
        return false;
      } else if (ch === CHAR_LF) {
        scnr.peek();
        return fn();
      } else {
        // other characters
        return isIdentifierStart(ch);
      }
    };
    var ret = fn();
    scnr.resetPeek();
    return ret;
  }
  function isPluralStart(scnr) {
    peekSpaces(scnr);
    var ret = scnr.currentPeek() === "|" /* TokenChars.Pipe */;
    scnr.resetPeek();
    return ret;
  }
  function detectModuloStart(scnr) {
    var spaces = peekSpaces(scnr);
    var ret = scnr.currentPeek() === "%" /* TokenChars.Modulo */ && scnr.peek() === "{" /* TokenChars.BraceLeft */;
    scnr.resetPeek();
    return {
      isModulo: ret,
      hasSpace: spaces.length > 0
    };
  }
  function isTextStart(scnr) {
    var reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    var fn = function fn() {
      var hasSpace = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var prev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var detectModulo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      var ch = scnr.currentPeek();
      if (ch === "{" /* TokenChars.BraceLeft */) {
        return prev === "%" /* TokenChars.Modulo */ ? false : hasSpace;
      } else if (ch === "@" /* TokenChars.LinkedAlias */ || !ch) {
        return prev === "%" /* TokenChars.Modulo */ ? true : hasSpace;
      } else if (ch === "%" /* TokenChars.Modulo */) {
        scnr.peek();
        return fn(hasSpace, "%" /* TokenChars.Modulo */, true);
      } else if (ch === "|" /* TokenChars.Pipe */) {
        return prev === "%" /* TokenChars.Modulo */ || detectModulo ? true : !(prev === CHAR_SP || prev === CHAR_LF);
      } else if (ch === CHAR_SP) {
        scnr.peek();
        return fn(true, CHAR_SP, detectModulo);
      } else if (ch === CHAR_LF) {
        scnr.peek();
        return fn(true, CHAR_LF, detectModulo);
      } else {
        return true;
      }
    };
    var ret = fn();
    reset && scnr.resetPeek();
    return ret;
  }
  function takeChar(scnr, fn) {
    var ch = scnr.currentChar();
    if (ch === EOF) {
      return EOF;
    }
    if (fn(ch)) {
      scnr.next();
      return ch;
    }
    return null;
  }
  function takeIdentifierChar(scnr) {
    var closure = function closure(ch) {
      var cc = ch.charCodeAt(0);
      return cc >= 97 && cc <= 122 ||
      // a-z
      cc >= 65 && cc <= 90 ||
      // A-Z
      cc >= 48 && cc <= 57 ||
      // 0-9
      cc === 95 ||
      // _
      cc === 36 // $
      ;
    };
    return takeChar(scnr, closure);
  }
  function takeDigit(scnr) {
    var closure = function closure(ch) {
      var cc = ch.charCodeAt(0);
      return cc >= 48 && cc <= 57; // 0-9
    };
    return takeChar(scnr, closure);
  }
  function takeHexDigit(scnr) {
    var closure = function closure(ch) {
      var cc = ch.charCodeAt(0);
      return cc >= 48 && cc <= 57 ||
      // 0-9
      cc >= 65 && cc <= 70 ||
      // A-F
      cc >= 97 && cc <= 102; // a-f
    };
    return takeChar(scnr, closure);
  }
  function getDigits(scnr) {
    var ch = '';
    var num = '';
    while (ch = takeDigit(scnr)) {
      num += ch;
    }
    return num;
  }
  function readModulo(scnr) {
    skipSpaces(scnr);
    var ch = scnr.currentChar();
    if (ch !== "%" /* TokenChars.Modulo */) {
      emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);
    }
    scnr.next();
    return "%" /* TokenChars.Modulo */;
  }
  function readText(scnr) {
    var buf = '';
    while (true) {
      var ch = scnr.currentChar();
      if (ch === "{" /* TokenChars.BraceLeft */ || ch === "}" /* TokenChars.BraceRight */ || ch === "@" /* TokenChars.LinkedAlias */ || ch === "|" /* TokenChars.Pipe */ || !ch) {
        break;
      } else if (ch === "%" /* TokenChars.Modulo */) {
        if (isTextStart(scnr)) {
          buf += ch;
          scnr.next();
        } else {
          break;
        }
      } else if (ch === CHAR_SP || ch === CHAR_LF) {
        if (isTextStart(scnr)) {
          buf += ch;
          scnr.next();
        } else if (isPluralStart(scnr)) {
          break;
        } else {
          buf += ch;
          scnr.next();
        }
      } else {
        buf += ch;
        scnr.next();
      }
    }
    return buf;
  }
  function readNamedIdentifier(scnr) {
    skipSpaces(scnr);
    var ch = '';
    var name = '';
    while (ch = takeIdentifierChar(scnr)) {
      name += ch;
    }
    if (scnr.currentChar() === EOF) {
      emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);
    }
    return name;
  }
  function readListIdentifier(scnr) {
    skipSpaces(scnr);
    var value = '';
    if (scnr.currentChar() === '-') {
      scnr.next();
      value += `-${getDigits(scnr)}`;
    } else {
      value += getDigits(scnr);
    }
    if (scnr.currentChar() === EOF) {
      emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);
    }
    return value;
  }
  function readLiteral(scnr) {
    skipSpaces(scnr);
    eat(scnr, `\'`);
    var ch = '';
    var literal = '';
    var fn = function fn(x) {
      return x !== LITERAL_DELIMITER && x !== CHAR_LF;
    };
    while (ch = takeChar(scnr, fn)) {
      if (ch === '\\') {
        literal += readEscapeSequence(scnr);
      } else {
        literal += ch;
      }
    }
    var current = scnr.currentChar();
    if (current === CHAR_LF || current === EOF) {
      emitError(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER, currentPosition(), 0);
      // TODO: Is it correct really?
      if (current === CHAR_LF) {
        scnr.next();
        eat(scnr, `\'`);
      }
      return literal;
    }
    eat(scnr, `\'`);
    return literal;
  }
  function readEscapeSequence(scnr) {
    var ch = scnr.currentChar();
    switch (ch) {
      case '\\':
      case `\'`:
        scnr.next();
        return `\\${ch}`;
      case 'u':
        return readUnicodeEscapeSequence(scnr, ch, 4);
      case 'U':
        return readUnicodeEscapeSequence(scnr, ch, 6);
      default:
        emitError(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE, currentPosition(), 0, ch);
        return '';
    }
  }
  function readUnicodeEscapeSequence(scnr, unicode, digits) {
    eat(scnr, unicode);
    var sequence = '';
    for (var i = 0; i < digits; i++) {
      var ch = takeHexDigit(scnr);
      if (!ch) {
        emitError(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE, currentPosition(), 0, `\\${unicode}${sequence}${scnr.currentChar()}`);
        break;
      }
      sequence += ch;
    }
    return `\\${unicode}${sequence}`;
  }
  function readInvalidIdentifier(scnr) {
    skipSpaces(scnr);
    var ch = '';
    var identifiers = '';
    var closure = function closure(ch) {
      return ch !== "{" /* TokenChars.BraceLeft */ && ch !== "}" /* TokenChars.BraceRight */ && ch !== CHAR_SP && ch !== CHAR_LF;
    };
    while (ch = takeChar(scnr, closure)) {
      identifiers += ch;
    }
    return identifiers;
  }
  function readLinkedModifier(scnr) {
    var ch = '';
    var name = '';
    while (ch = takeIdentifierChar(scnr)) {
      name += ch;
    }
    return name;
  }
  function readLinkedRefer(scnr) {
    var fn = function fn() {
      var detect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var buf = arguments.length > 1 ? arguments[1] : undefined;
      var ch = scnr.currentChar();
      if (ch === "{" /* TokenChars.BraceLeft */ || ch === "%" /* TokenChars.Modulo */ || ch === "@" /* TokenChars.LinkedAlias */ || ch === "|" /* TokenChars.Pipe */ || ch === "(" /* TokenChars.ParenLeft */ || ch === ")" /* TokenChars.ParenRight */ || !ch) {
        return buf;
      } else if (ch === CHAR_SP) {
        return buf;
      } else if (ch === CHAR_LF || ch === DOT) {
        buf += ch;
        scnr.next();
        return fn(detect, buf);
      } else {
        buf += ch;
        scnr.next();
        return fn(true, buf);
      }
    };
    return fn(false, '');
  }
  function readPlural(scnr) {
    skipSpaces(scnr);
    var plural = eat(scnr, "|" /* TokenChars.Pipe */);
    skipSpaces(scnr);
    return plural;
  }
  // TODO: We need refactoring of token parsing ...
  function readTokenInPlaceholder(scnr, context) {
    var token = null;
    var ch = scnr.currentChar();
    switch (ch) {
      case "{" /* TokenChars.BraceLeft */:
        if (context.braceNest >= 1) {
          emitError(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER, currentPosition(), 0);
        }
        scnr.next();
        token = getToken(context, 2 /* TokenTypes.BraceLeft */, "{" /* TokenChars.BraceLeft */);
        skipSpaces(scnr);
        context.braceNest++;
        return token;
      case "}" /* TokenChars.BraceRight */:
        if (context.braceNest > 0 && context.currentType === 2 /* TokenTypes.BraceLeft */) {
          emitError(CompileErrorCodes.EMPTY_PLACEHOLDER, currentPosition(), 0);
        }
        scnr.next();
        token = getToken(context, 3 /* TokenTypes.BraceRight */, "}" /* TokenChars.BraceRight */);
        context.braceNest--;
        context.braceNest > 0 && skipSpaces(scnr);
        if (context.inLinked && context.braceNest === 0) {
          context.inLinked = false;
        }
        return token;
      case "@" /* TokenChars.LinkedAlias */:
        if (context.braceNest > 0) {
          emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);
        }
        token = readTokenInLinked(scnr, context) || getEndToken(context);
        context.braceNest = 0;
        return token;
      default:
        var validNamedIdentifier = true;
        var validListIdentifier = true;
        var validLiteral = true;
        if (isPluralStart(scnr)) {
          if (context.braceNest > 0) {
            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);
          }
          token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));
          // reset
          context.braceNest = 0;
          context.inLinked = false;
          return token;
        }
        if (context.braceNest > 0 && (context.currentType === 5 /* TokenTypes.Named */ || context.currentType === 6 /* TokenTypes.List */ || context.currentType === 7 /* TokenTypes.Literal */)) {
          emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);
          context.braceNest = 0;
          return readToken(scnr, context);
        }
        if (validNamedIdentifier = isNamedIdentifierStart(scnr, context)) {
          token = getToken(context, 5 /* TokenTypes.Named */, readNamedIdentifier(scnr));
          skipSpaces(scnr);
          return token;
        }
        if (validListIdentifier = isListIdentifierStart(scnr, context)) {
          token = getToken(context, 6 /* TokenTypes.List */, readListIdentifier(scnr));
          skipSpaces(scnr);
          return token;
        }
        if (validLiteral = isLiteralStart(scnr, context)) {
          token = getToken(context, 7 /* TokenTypes.Literal */, readLiteral(scnr));
          skipSpaces(scnr);
          return token;
        }
        if (!validNamedIdentifier && !validListIdentifier && !validLiteral) {
          // TODO: we should be re-designed invalid cases, when we will extend message syntax near the future ...
          token = getToken(context, 13 /* TokenTypes.InvalidPlace */, readInvalidIdentifier(scnr));
          emitError(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER, currentPosition(), 0, token.value);
          skipSpaces(scnr);
          return token;
        }
        break;
    }
    return token;
  }
  // TODO: We need refactoring of token parsing ...
  function readTokenInLinked(scnr, context) {
    var currentType = context.currentType;
    var token = null;
    var ch = scnr.currentChar();
    if ((currentType === 8 /* TokenTypes.LinkedAlias */ || currentType === 9 /* TokenTypes.LinkedDot */ || currentType === 12 /* TokenTypes.LinkedModifier */ || currentType === 10 /* TokenTypes.LinkedDelimiter */) && (ch === CHAR_LF || ch === CHAR_SP)) {
      emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);
    }
    switch (ch) {
      case "@" /* TokenChars.LinkedAlias */:
        scnr.next();
        token = getToken(context, 8 /* TokenTypes.LinkedAlias */, "@" /* TokenChars.LinkedAlias */);
        context.inLinked = true;
        return token;
      case "." /* TokenChars.LinkedDot */:
        skipSpaces(scnr);
        scnr.next();
        return getToken(context, 9 /* TokenTypes.LinkedDot */, "." /* TokenChars.LinkedDot */);
      case ":" /* TokenChars.LinkedDelimiter */:
        skipSpaces(scnr);
        scnr.next();
        return getToken(context, 10 /* TokenTypes.LinkedDelimiter */, ":" /* TokenChars.LinkedDelimiter */);
      default:
        if (isPluralStart(scnr)) {
          token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));
          // reset
          context.braceNest = 0;
          context.inLinked = false;
          return token;
        }
        if (isLinkedDotStart(scnr, context) || isLinkedDelimiterStart(scnr, context)) {
          skipSpaces(scnr);
          return readTokenInLinked(scnr, context);
        }
        if (isLinkedModifierStart(scnr, context)) {
          skipSpaces(scnr);
          return getToken(context, 12 /* TokenTypes.LinkedModifier */, readLinkedModifier(scnr));
        }
        if (isLinkedReferStart(scnr, context)) {
          skipSpaces(scnr);
          if (ch === "{" /* TokenChars.BraceLeft */) {
            // scan the placeholder
            return readTokenInPlaceholder(scnr, context) || token;
          } else {
            return getToken(context, 11 /* TokenTypes.LinkedKey */, readLinkedRefer(scnr));
          }
        }
        if (currentType === 8 /* TokenTypes.LinkedAlias */) {
          emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);
        }
        context.braceNest = 0;
        context.inLinked = false;
        return readToken(scnr, context);
    }
  }
  // TODO: We need refactoring of token parsing ...
  function readToken(scnr, context) {
    var token = {
      type: 14 /* TokenTypes.EOF */
    };
    if (context.braceNest > 0) {
      return readTokenInPlaceholder(scnr, context) || getEndToken(context);
    }
    if (context.inLinked) {
      return readTokenInLinked(scnr, context) || getEndToken(context);
    }
    var ch = scnr.currentChar();
    switch (ch) {
      case "{" /* TokenChars.BraceLeft */:
        return readTokenInPlaceholder(scnr, context) || getEndToken(context);
      case "}" /* TokenChars.BraceRight */:
        emitError(CompileErrorCodes.UNBALANCED_CLOSING_BRACE, currentPosition(), 0);
        scnr.next();
        return getToken(context, 3 /* TokenTypes.BraceRight */, "}" /* TokenChars.BraceRight */);
      case "@" /* TokenChars.LinkedAlias */:
        return readTokenInLinked(scnr, context) || getEndToken(context);
      default:
        if (isPluralStart(scnr)) {
          token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));
          // reset
          context.braceNest = 0;
          context.inLinked = false;
          return token;
        }
        var _detectModuloStart = detectModuloStart(scnr),
          isModulo = _detectModuloStart.isModulo,
          hasSpace = _detectModuloStart.hasSpace;
        if (isModulo) {
          return hasSpace ? getToken(context, 0 /* TokenTypes.Text */, readText(scnr)) : getToken(context, 4 /* TokenTypes.Modulo */, readModulo(scnr));
        }
        if (isTextStart(scnr)) {
          return getToken(context, 0 /* TokenTypes.Text */, readText(scnr));
        }
        break;
    }
    return token;
  }
  function nextToken() {
    var currentType = _context.currentType,
      offset = _context.offset,
      startLoc = _context.startLoc,
      endLoc = _context.endLoc;
    _context.lastType = currentType;
    _context.lastOffset = offset;
    _context.lastStartLoc = startLoc;
    _context.lastEndLoc = endLoc;
    _context.offset = currentOffset();
    _context.startLoc = currentPosition();
    if (_scnr.currentChar() === EOF) {
      return getToken(_context, 14 /* TokenTypes.EOF */);
    }
    return readToken(_scnr, _context);
  }
  return {
    nextToken,
    currentOffset,
    currentPosition,
    context
  };
}
var ERROR_DOMAIN$2 = 'parser';
// Backslash backslash, backslash quote, uHHHH, UHHHHHH.
var KNOWN_ESCAPES = /(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;
function fromEscapeSequence(match, codePoint4, codePoint6) {
  switch (match) {
    case `\\\\`:
      return `\\`;
    case `\\\'`:
      return `\'`;
    default:
      {
        var codePoint = parseInt(codePoint4 || codePoint6, 16);
        if (codePoint <= 0xd7ff || codePoint >= 0xe000) {
          return String.fromCodePoint(codePoint);
        }
        // invalid ...
        // Replace them with U+FFFD REPLACEMENT CHARACTER.
        return '';
      }
  }
}
function createParser() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var location = options.location !== false;
  var onError = options.onError;
  function emitError(tokenzer, code, start, offset) {
    var end = tokenzer.currentPosition();
    end.offset += offset;
    end.column += offset;
    if (onError) {
      var loc = location ? createLocation(start, end) : null;
      for (var _len3 = arguments.length, args = new Array(_len3 > 4 ? _len3 - 4 : 0), _key3 = 4; _key3 < _len3; _key3++) {
        args[_key3 - 4] = arguments[_key3];
      }
      var err = createCompileError(code, loc, {
        domain: ERROR_DOMAIN$2,
        args
      });
      onError(err);
    }
  }
  function startNode(type, offset, loc) {
    var node = {
      type
    };
    if (location) {
      node.start = offset;
      node.end = offset;
      node.loc = {
        start: loc,
        end: loc
      };
    }
    return node;
  }
  function endNode(node, offset, pos, type) {
    if (type) {
      node.type = type;
    }
    if (location) {
      node.end = offset;
      if (node.loc) {
        node.loc.end = pos;
      }
    }
  }
  function parseText(tokenizer, value) {
    var context = tokenizer.context();
    var node = startNode(3 /* NodeTypes.Text */, context.offset, context.startLoc);
    node.value = value;
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return node;
  }
  function parseList(tokenizer, index) {
    var context = tokenizer.context();
    var offset = context.lastOffset,
      loc = context.lastStartLoc; // get brace left loc
    var node = startNode(5 /* NodeTypes.List */, offset, loc);
    node.index = parseInt(index, 10);
    tokenizer.nextToken(); // skip brach right
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return node;
  }
  function parseNamed(tokenizer, key) {
    var context = tokenizer.context();
    var offset = context.lastOffset,
      loc = context.lastStartLoc; // get brace left loc
    var node = startNode(4 /* NodeTypes.Named */, offset, loc);
    node.key = key;
    tokenizer.nextToken(); // skip brach right
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return node;
  }
  function parseLiteral(tokenizer, value) {
    var context = tokenizer.context();
    var offset = context.lastOffset,
      loc = context.lastStartLoc; // get brace left loc
    var node = startNode(9 /* NodeTypes.Literal */, offset, loc);
    node.value = value.replace(KNOWN_ESCAPES, fromEscapeSequence);
    tokenizer.nextToken(); // skip brach right
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return node;
  }
  function parseLinkedModifier(tokenizer) {
    var token = tokenizer.nextToken();
    var context = tokenizer.context();
    var offset = context.lastOffset,
      loc = context.lastStartLoc; // get linked dot loc
    var node = startNode(8 /* NodeTypes.LinkedModifier */, offset, loc);
    if (token.type !== 12 /* TokenTypes.LinkedModifier */) {
      // empty modifier
      emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER, context.lastStartLoc, 0);
      node.value = '';
      endNode(node, offset, loc);
      return {
        nextConsumeToken: token,
        node
      };
    }
    // check token
    if (token.value == null) {
      emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
    }
    node.value = token.value || '';
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return {
      node
    };
  }
  function parseLinkedKey(tokenizer, value) {
    var context = tokenizer.context();
    var node = startNode(7 /* NodeTypes.LinkedKey */, context.offset, context.startLoc);
    node.value = value;
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return node;
  }
  function parseLinked(tokenizer) {
    var context = tokenizer.context();
    var linkedNode = startNode(6 /* NodeTypes.Linked */, context.offset, context.startLoc);
    var token = tokenizer.nextToken();
    if (token.type === 9 /* TokenTypes.LinkedDot */) {
      var parsed = parseLinkedModifier(tokenizer);
      linkedNode.modifier = parsed.node;
      token = parsed.nextConsumeToken || tokenizer.nextToken();
    }
    // asset check token
    if (token.type !== 10 /* TokenTypes.LinkedDelimiter */) {
      emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
    }
    token = tokenizer.nextToken();
    // skip brace left
    if (token.type === 2 /* TokenTypes.BraceLeft */) {
      token = tokenizer.nextToken();
    }
    switch (token.type) {
      case 11 /* TokenTypes.LinkedKey */:
        if (token.value == null) {
          emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
        }
        linkedNode.key = parseLinkedKey(tokenizer, token.value || '');
        break;
      case 5 /* TokenTypes.Named */:
        if (token.value == null) {
          emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
        }
        linkedNode.key = parseNamed(tokenizer, token.value || '');
        break;
      case 6 /* TokenTypes.List */:
        if (token.value == null) {
          emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
        }
        linkedNode.key = parseList(tokenizer, token.value || '');
        break;
      case 7 /* TokenTypes.Literal */:
        if (token.value == null) {
          emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
        }
        linkedNode.key = parseLiteral(tokenizer, token.value || '');
        break;
      default:
        // empty key
        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY, context.lastStartLoc, 0);
        var nextContext = tokenizer.context();
        var emptyLinkedKeyNode = startNode(7 /* NodeTypes.LinkedKey */, nextContext.offset, nextContext.startLoc);
        emptyLinkedKeyNode.value = '';
        endNode(emptyLinkedKeyNode, nextContext.offset, nextContext.startLoc);
        linkedNode.key = emptyLinkedKeyNode;
        endNode(linkedNode, nextContext.offset, nextContext.startLoc);
        return {
          nextConsumeToken: token,
          node: linkedNode
        };
    }
    endNode(linkedNode, tokenizer.currentOffset(), tokenizer.currentPosition());
    return {
      node: linkedNode
    };
  }
  function parseMessage(tokenizer) {
    var context = tokenizer.context();
    var startOffset = context.currentType === 1 /* TokenTypes.Pipe */ ? tokenizer.currentOffset() : context.offset;
    var startLoc = context.currentType === 1 /* TokenTypes.Pipe */ ? context.endLoc : context.startLoc;
    var node = startNode(2 /* NodeTypes.Message */, startOffset, startLoc);
    node.items = [];
    var nextToken = null;
    do {
      var token = nextToken || tokenizer.nextToken();
      nextToken = null;
      switch (token.type) {
        case 0 /* TokenTypes.Text */:
          if (token.value == null) {
            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
          }
          node.items.push(parseText(tokenizer, token.value || ''));
          break;
        case 6 /* TokenTypes.List */:
          if (token.value == null) {
            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
          }
          node.items.push(parseList(tokenizer, token.value || ''));
          break;
        case 5 /* TokenTypes.Named */:
          if (token.value == null) {
            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
          }
          node.items.push(parseNamed(tokenizer, token.value || ''));
          break;
        case 7 /* TokenTypes.Literal */:
          if (token.value == null) {
            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));
          }
          node.items.push(parseLiteral(tokenizer, token.value || ''));
          break;
        case 8 /* TokenTypes.LinkedAlias */:
          var parsed = parseLinked(tokenizer);
          node.items.push(parsed.node);
          nextToken = parsed.nextConsumeToken || null;
          break;
      }
    } while (context.currentType !== 14 /* TokenTypes.EOF */ && context.currentType !== 1 /* TokenTypes.Pipe */);
    // adjust message node loc
    var endOffset = context.currentType === 1 /* TokenTypes.Pipe */ ? context.lastOffset : tokenizer.currentOffset();
    var endLoc = context.currentType === 1 /* TokenTypes.Pipe */ ? context.lastEndLoc : tokenizer.currentPosition();
    endNode(node, endOffset, endLoc);
    return node;
  }
  function parsePlural(tokenizer, offset, loc, msgNode) {
    var context = tokenizer.context();
    var hasEmptyMessage = msgNode.items.length === 0;
    var node = startNode(1 /* NodeTypes.Plural */, offset, loc);
    node.cases = [];
    node.cases.push(msgNode);
    do {
      var msg = parseMessage(tokenizer);
      if (!hasEmptyMessage) {
        hasEmptyMessage = msg.items.length === 0;
      }
      node.cases.push(msg);
    } while (context.currentType !== 14 /* TokenTypes.EOF */);
    if (hasEmptyMessage) {
      emitError(tokenizer, CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL, loc, 0);
    }
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return node;
  }
  function parseResource(tokenizer) {
    var context = tokenizer.context();
    var offset = context.offset,
      startLoc = context.startLoc;
    var msgNode = parseMessage(tokenizer);
    if (context.currentType === 14 /* TokenTypes.EOF */) {
      return msgNode;
    } else {
      return parsePlural(tokenizer, offset, startLoc, msgNode);
    }
  }
  function parse(source) {
    var tokenizer = createTokenizer(source, message_compiler_esm_browser_assign({}, options));
    var context = tokenizer.context();
    var node = startNode(0 /* NodeTypes.Resource */, context.offset, context.startLoc);
    if (location && node.loc) {
      node.loc.source = source;
    }
    node.body = parseResource(tokenizer);
    if (options.onCacheKey) {
      node.cacheKey = options.onCacheKey(source);
    }
    // assert whether achieved to EOF
    if (context.currentType !== 14 /* TokenTypes.EOF */) {
      emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, source[context.offset] || '');
    }
    endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());
    return node;
  }
  return {
    parse
  };
}
function getTokenCaption(token) {
  if (token.type === 14 /* TokenTypes.EOF */) {
    return 'EOF';
  }
  var name = (token.value || '').replace(/\r?\n/g, '\\n');
  return name.length > 10 ? name.slice(0, 9) + '' : name;
}
function createTransformer(ast) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var _context = {
    ast,
    helpers: new Set()
  };
  var context = function context() {
    return _context;
  };
  var helper = function helper(name) {
    _context.helpers.add(name);
    return name;
  };
  return {
    context,
    helper
  };
}
function traverseNodes(nodes, transformer) {
  for (var i = 0; i < nodes.length; i++) {
    traverseNode(nodes[i], transformer);
  }
}
function traverseNode(node, transformer) {
  // TODO: if we need pre-hook of transform, should be implemented to here
  switch (node.type) {
    case 1 /* NodeTypes.Plural */:
      traverseNodes(node.cases, transformer);
      transformer.helper("plural" /* HelperNameMap.PLURAL */);
      break;
    case 2 /* NodeTypes.Message */:
      traverseNodes(node.items, transformer);
      break;
    case 6 /* NodeTypes.Linked */:
      var linked = node;
      traverseNode(linked.key, transformer);
      transformer.helper("linked" /* HelperNameMap.LINKED */);
      transformer.helper("type" /* HelperNameMap.TYPE */);
      break;
    case 5 /* NodeTypes.List */:
      transformer.helper("interpolate" /* HelperNameMap.INTERPOLATE */);
      transformer.helper("list" /* HelperNameMap.LIST */);
      break;
    case 4 /* NodeTypes.Named */:
      transformer.helper("interpolate" /* HelperNameMap.INTERPOLATE */);
      transformer.helper("named" /* HelperNameMap.NAMED */);
      break;
  }
  // TODO: if we need post-hook of transform, should be implemented to here
}
// transform AST
function transform(ast) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var transformer = createTransformer(ast);
  transformer.helper("normalize" /* HelperNameMap.NORMALIZE */);
  // traverse
  ast.body && traverseNode(ast.body, transformer);
  // set meta information
  var context = transformer.context();
  ast.helpers = Array.from(context.helpers);
}
function optimize(ast) {
  var body = ast.body;
  if (body.type === 2 /* NodeTypes.Message */) {
    optimizeMessageNode(body);
  } else {
    body.cases.forEach(function (c) {
      return optimizeMessageNode(c);
    });
  }
  return ast;
}
function optimizeMessageNode(message) {
  if (message.items.length === 1) {
    var item = message.items[0];
    if (item.type === 3 /* NodeTypes.Text */ || item.type === 9 /* NodeTypes.Literal */) {
      message.static = item.value;
      delete item.value; // optimization for size
    }
  } else {
    var values = [];
    for (var i = 0; i < message.items.length; i++) {
      var _item = message.items[i];
      if (!(_item.type === 3 /* NodeTypes.Text */ || _item.type === 9 /* NodeTypes.Literal */)) {
        break;
      }
      if (_item.value == null) {
        break;
      }
      values.push(_item.value);
    }
    if (values.length === message.items.length) {
      message.static = message_compiler_esm_browser_join(values);
      for (var _i = 0; _i < message.items.length; _i++) {
        var _item2 = message.items[_i];
        if (_item2.type === 3 /* NodeTypes.Text */ || _item2.type === 9 /* NodeTypes.Literal */) {
          delete _item2.value; // optimization for size
        }
      }
    }
  }
}
var ERROR_DOMAIN$1 = 'minifier';
/* eslint-disable @typescript-eslint/no-explicit-any */
function minify(node) {
  node.t = node.type;
  switch (node.type) {
    case 0 /* NodeTypes.Resource */:
      var resource = node;
      minify(resource.body);
      resource.b = resource.body;
      delete resource.body;
      break;
    case 1 /* NodeTypes.Plural */:
      var plural = node;
      var cases = plural.cases;
      for (var i = 0; i < cases.length; i++) {
        minify(cases[i]);
      }
      plural.c = cases;
      delete plural.cases;
      break;
    case 2 /* NodeTypes.Message */:
      var message = node;
      var items = message.items;
      for (var _i2 = 0; _i2 < items.length; _i2++) {
        minify(items[_i2]);
      }
      message.i = items;
      delete message.items;
      if (message.static) {
        message.s = message.static;
        delete message.static;
      }
      break;
    case 3 /* NodeTypes.Text */:
    case 9 /* NodeTypes.Literal */:
    case 8 /* NodeTypes.LinkedModifier */:
    case 7 /* NodeTypes.LinkedKey */:
      var valueNode = node;
      if (valueNode.value) {
        valueNode.v = valueNode.value;
        delete valueNode.value;
      }
      break;
    case 6 /* NodeTypes.Linked */:
      var linked = node;
      minify(linked.key);
      linked.k = linked.key;
      delete linked.key;
      if (linked.modifier) {
        minify(linked.modifier);
        linked.m = linked.modifier;
        delete linked.modifier;
      }
      break;
    case 5 /* NodeTypes.List */:
      var list = node;
      list.i = list.index;
      delete list.index;
      break;
    case 4 /* NodeTypes.Named */:
      var named = node;
      named.k = named.key;
      delete named.key;
      break;
    default:
      {
        throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE, null, {
          domain: ERROR_DOMAIN$1,
          args: [node.type]
        });
      }
  }
  delete node.type;
}
/* eslint-enable @typescript-eslint/no-explicit-any */

var ERROR_DOMAIN = 'parser';
function createCodeGenerator(ast, options) {
  var sourceMap = options.sourceMap,
    filename = options.filename,
    breakLineCode = options.breakLineCode,
    _needIndent = options.needIndent;
  var location = options.location !== false;
  var _context = {
    filename,
    code: '',
    column: 1,
    line: 1,
    offset: 0,
    map: undefined,
    breakLineCode,
    needIndent: _needIndent,
    indentLevel: 0
  };
  if (location && ast.loc) {
    _context.source = ast.loc.source;
  }
  var context = function context() {
    return _context;
  };
  function push(code, node) {
    _context.code += code;
  }
  function _newline(n) {
    var withBreakLine = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
    var _breakLineCode = withBreakLine ? breakLineCode : '';
    push(_needIndent ? _breakLineCode + `  `.repeat(n) : _breakLineCode);
  }
  function indent() {
    var withNewLine = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
    var level = ++_context.indentLevel;
    withNewLine && _newline(level);
  }
  function deindent() {
    var withNewLine = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
    var level = --_context.indentLevel;
    withNewLine && _newline(level);
  }
  function newline() {
    _newline(_context.indentLevel);
  }
  var helper = function helper(key) {
    return `_${key}`;
  };
  var needIndent = function needIndent() {
    return _context.needIndent;
  };
  return {
    context,
    push,
    indent,
    deindent,
    newline,
    helper,
    needIndent
  };
}
function generateLinkedNode(generator, node) {
  var helper = generator.helper;
  generator.push(`${helper("linked" /* HelperNameMap.LINKED */)}(`);
  generateNode(generator, node.key);
  if (node.modifier) {
    generator.push(`, `);
    generateNode(generator, node.modifier);
    generator.push(`, _type`);
  } else {
    generator.push(`, undefined, _type`);
  }
  generator.push(`)`);
}
function generateMessageNode(generator, node) {
  var helper = generator.helper,
    needIndent = generator.needIndent;
  generator.push(`${helper("normalize" /* HelperNameMap.NORMALIZE */)}([`);
  generator.indent(needIndent());
  var length = node.items.length;
  for (var i = 0; i < length; i++) {
    generateNode(generator, node.items[i]);
    if (i === length - 1) {
      break;
    }
    generator.push(', ');
  }
  generator.deindent(needIndent());
  generator.push('])');
}
function generatePluralNode(generator, node) {
  var helper = generator.helper,
    needIndent = generator.needIndent;
  if (node.cases.length > 1) {
    generator.push(`${helper("plural" /* HelperNameMap.PLURAL */)}([`);
    generator.indent(needIndent());
    var length = node.cases.length;
    for (var i = 0; i < length; i++) {
      generateNode(generator, node.cases[i]);
      if (i === length - 1) {
        break;
      }
      generator.push(', ');
    }
    generator.deindent(needIndent());
    generator.push(`])`);
  }
}
function generateResource(generator, node) {
  if (node.body) {
    generateNode(generator, node.body);
  } else {
    generator.push('null');
  }
}
function generateNode(generator, node) {
  var helper = generator.helper;
  switch (node.type) {
    case 0 /* NodeTypes.Resource */:
      generateResource(generator, node);
      break;
    case 1 /* NodeTypes.Plural */:
      generatePluralNode(generator, node);
      break;
    case 2 /* NodeTypes.Message */:
      generateMessageNode(generator, node);
      break;
    case 6 /* NodeTypes.Linked */:
      generateLinkedNode(generator, node);
      break;
    case 8 /* NodeTypes.LinkedModifier */:
      generator.push(JSON.stringify(node.value), node);
      break;
    case 7 /* NodeTypes.LinkedKey */:
      generator.push(JSON.stringify(node.value), node);
      break;
    case 5 /* NodeTypes.List */:
      generator.push(`${helper("interpolate" /* HelperNameMap.INTERPOLATE */)}(${helper("list" /* HelperNameMap.LIST */)}(${node.index}))`, node);
      break;
    case 4 /* NodeTypes.Named */:
      generator.push(`${helper("interpolate" /* HelperNameMap.INTERPOLATE */)}(${helper("named" /* HelperNameMap.NAMED */)}(${JSON.stringify(node.key)}))`, node);
      break;
    case 9 /* NodeTypes.Literal */:
      generator.push(JSON.stringify(node.value), node);
      break;
    case 3 /* NodeTypes.Text */:
      generator.push(JSON.stringify(node.value), node);
      break;
    default:
      {
        throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE, null, {
          domain: ERROR_DOMAIN,
          args: [node.type]
        });
      }
  }
}
// generate code from AST
var generate = function generate(ast) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var mode = message_compiler_esm_browser_isString(options.mode) ? options.mode : 'normal';
  var filename = message_compiler_esm_browser_isString(options.filename) ? options.filename : 'message.intl';
  var sourceMap = !!options.sourceMap;
  // prettier-ignore
  var breakLineCode = options.breakLineCode != null ? options.breakLineCode : mode === 'arrow' ? ';' : '\n';
  var needIndent = options.needIndent ? options.needIndent : mode !== 'arrow';
  var helpers = ast.helpers || [];
  var generator = createCodeGenerator(ast, {
    mode,
    filename,
    sourceMap,
    breakLineCode,
    needIndent
  });
  generator.push(mode === 'normal' ? `function __msg__ (ctx) {` : `(ctx) => {`);
  generator.indent(needIndent);
  if (helpers.length > 0) {
    generator.push(`const { ${message_compiler_esm_browser_join(helpers.map(function (s) {
      return `${s}: _${s}`;
    }), ', ')} } = ctx`);
    generator.newline();
  }
  generator.push(`return `);
  generateNode(generator, ast);
  generator.deindent(needIndent);
  generator.push(`}`);
  delete ast.helpers;
  var _generator$context = generator.context(),
    code = _generator$context.code,
    map = _generator$context.map;
  return {
    ast,
    code,
    map: map ? map.toJSON() : undefined // eslint-disable-line @typescript-eslint/no-explicit-any
  };
};
function baseCompile(source) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var assignedOptions = message_compiler_esm_browser_assign({}, options);
  var jit = !!assignedOptions.jit;
  var enalbeMinify = !!assignedOptions.minify;
  var enambeOptimize = assignedOptions.optimize == null ? true : assignedOptions.optimize;
  // parse source codes
  var parser = createParser(assignedOptions);
  var ast = parser.parse(source);
  if (!jit) {
    // transform ASTs
    transform(ast, assignedOptions);
    // generate javascript codes
    return generate(ast, assignedOptions);
  } else {
    // optimize ASTs
    enambeOptimize && optimize(ast);
    // minimize ASTs
    enalbeMinify && minify(ast);
    // In JIT mode, no ast transform, no code generation.
    return {
      ast,
      code: ''
    };
  }
}

;// CONCATENATED MODULE: ./node_modules/@intlify/core-base/dist/core-base.mjs




























/*!
  * core-base v9.9.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */




/**
 * This is only called in esm-bundler builds.
 * istanbul-ignore-next
 */
function initFeatureFlags() {
  if (false) {}
  if (typeof __INTLIFY_JIT_COMPILATION__ !== 'boolean') {
    getGlobalThis().__INTLIFY_JIT_COMPILATION__ = false;
  }
  if (typeof __INTLIFY_DROP_MESSAGE_COMPILER__ !== 'boolean') {
    getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__ = false;
  }
}
var pathStateMachine = [];
pathStateMachine[0 /* States.BEFORE_PATH */] = {
  ["w" /* PathCharTypes.WORKSPACE */]: [0 /* States.BEFORE_PATH */],
  ["i" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],
  ["[" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */],
  ["o" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */]
};
pathStateMachine[1 /* States.IN_PATH */] = {
  ["w" /* PathCharTypes.WORKSPACE */]: [1 /* States.IN_PATH */],
  ["." /* PathCharTypes.DOT */]: [2 /* States.BEFORE_IDENT */],
  ["[" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */],
  ["o" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */]
};
pathStateMachine[2 /* States.BEFORE_IDENT */] = {
  ["w" /* PathCharTypes.WORKSPACE */]: [2 /* States.BEFORE_IDENT */],
  ["i" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],
  ["0" /* PathCharTypes.ZERO */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */]
};
pathStateMachine[3 /* States.IN_IDENT */] = {
  ["i" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],
  ["0" /* PathCharTypes.ZERO */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],
  ["w" /* PathCharTypes.WORKSPACE */]: [1 /* States.IN_PATH */, 1 /* Actions.PUSH */],
  ["." /* PathCharTypes.DOT */]: [2 /* States.BEFORE_IDENT */, 1 /* Actions.PUSH */],
  ["[" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */, 1 /* Actions.PUSH */],
  ["o" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */, 1 /* Actions.PUSH */]
};
pathStateMachine[4 /* States.IN_SUB_PATH */] = {
  ["'" /* PathCharTypes.SINGLE_QUOTE */]: [5 /* States.IN_SINGLE_QUOTE */, 0 /* Actions.APPEND */],
  ["\"" /* PathCharTypes.DOUBLE_QUOTE */]: [6 /* States.IN_DOUBLE_QUOTE */, 0 /* Actions.APPEND */],
  ["[" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */, 2 /* Actions.INC_SUB_PATH_DEPTH */],
  ["]" /* PathCharTypes.RIGHT_BRACKET */]: [1 /* States.IN_PATH */, 3 /* Actions.PUSH_SUB_PATH */],
  ["o" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,
  ["l" /* PathCharTypes.ELSE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */]
};
pathStateMachine[5 /* States.IN_SINGLE_QUOTE */] = {
  ["'" /* PathCharTypes.SINGLE_QUOTE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */],
  ["o" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,
  ["l" /* PathCharTypes.ELSE */]: [5 /* States.IN_SINGLE_QUOTE */, 0 /* Actions.APPEND */]
};
pathStateMachine[6 /* States.IN_DOUBLE_QUOTE */] = {
  ["\"" /* PathCharTypes.DOUBLE_QUOTE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */],
  ["o" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,
  ["l" /* PathCharTypes.ELSE */]: [6 /* States.IN_DOUBLE_QUOTE */, 0 /* Actions.APPEND */]
};
/**
 * Check if an expression is a literal value.
 */
var literalValueRE = /^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;
function isLiteral(exp) {
  return literalValueRE.test(exp);
}
/**
 * Strip quotes from a string
 */
function stripQuotes(str) {
  var a = str.charCodeAt(0);
  var b = str.charCodeAt(str.length - 1);
  return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;
}
/**
 * Determine the type of a character in a keypath.
 */
function getPathCharType(ch) {
  if (ch === undefined || ch === null) {
    return "o" /* PathCharTypes.END_OF_FAIL */;
  }
  var code = ch.charCodeAt(0);
  switch (code) {
    case 0x5b: // [
    case 0x5d: // ]
    case 0x2e: // .
    case 0x22: // "
    case 0x27:
      // '
      return ch;
    case 0x5f: // _
    case 0x24: // $
    case 0x2d:
      // -
      return "i" /* PathCharTypes.IDENT */;
    case 0x09: // Tab (HT)
    case 0x0a: // Newline (LF)
    case 0x0d: // Return (CR)
    case 0xa0: // No-break space (NBSP)
    case 0xfeff: // Byte Order Mark (BOM)
    case 0x2028: // Line Separator (LS)
    case 0x2029:
      // Paragraph Separator (PS)
      return "w" /* PathCharTypes.WORKSPACE */;
  }
  return "i" /* PathCharTypes.IDENT */;
}
/**
 * Format a subPath, return its plain form if it is
 * a literal string or number. Otherwise prepend the
 * dynamic indicator (*).
 */
function formatSubPath(path) {
  var trimmed = path.trim();
  // invalid leading 0
  if (path.charAt(0) === '0' && isNaN(parseInt(path))) {
    return false;
  }
  return isLiteral(trimmed) ? stripQuotes(trimmed) : "*" /* PathCharTypes.ASTARISK */ + trimmed;
}
/**
 * Parse a string path into an array of segments
 */
function parse(path) {
  var keys = [];
  var index = -1;
  var mode = 0 /* States.BEFORE_PATH */;
  var subPathDepth = 0;
  var c;
  var key; // eslint-disable-line
  var newChar;
  var type;
  var transition;
  var action;
  var typeMap;
  var actions = [];
  actions[0 /* Actions.APPEND */] = function () {
    if (key === undefined) {
      key = newChar;
    } else {
      key += newChar;
    }
  };
  actions[1 /* Actions.PUSH */] = function () {
    if (key !== undefined) {
      keys.push(key);
      key = undefined;
    }
  };
  actions[2 /* Actions.INC_SUB_PATH_DEPTH */] = function () {
    actions[0 /* Actions.APPEND */]();
    subPathDepth++;
  };
  actions[3 /* Actions.PUSH_SUB_PATH */] = function () {
    if (subPathDepth > 0) {
      subPathDepth--;
      mode = 4 /* States.IN_SUB_PATH */;
      actions[0 /* Actions.APPEND */]();
    } else {
      subPathDepth = 0;
      if (key === undefined) {
        return false;
      }
      key = formatSubPath(key);
      if (key === false) {
        return false;
      } else {
        actions[1 /* Actions.PUSH */]();
      }
    }
  };
  function maybeUnescapeQuote() {
    var nextChar = path[index + 1];
    if (mode === 5 /* States.IN_SINGLE_QUOTE */ && nextChar === "'" /* PathCharTypes.SINGLE_QUOTE */ || mode === 6 /* States.IN_DOUBLE_QUOTE */ && nextChar === "\"" /* PathCharTypes.DOUBLE_QUOTE */) {
      index++;
      newChar = '\\' + nextChar;
      actions[0 /* Actions.APPEND */]();
      return true;
    }
  }
  while (mode !== null) {
    index++;
    c = path[index];
    if (c === '\\' && maybeUnescapeQuote()) {
      continue;
    }
    type = getPathCharType(c);
    typeMap = pathStateMachine[mode];
    transition = typeMap[type] || typeMap["l" /* PathCharTypes.ELSE */] || 8 /* States.ERROR */;
    // check parse error
    if (transition === 8 /* States.ERROR */) {
      return;
    }
    mode = transition[0];
    if (transition[1] !== undefined) {
      action = actions[transition[1]];
      if (action) {
        newChar = c;
        if (action() === false) {
          return;
        }
      }
    }
    // check parse finish
    if (mode === 7 /* States.AFTER_PATH */) {
      return keys;
    }
  }
}
// path token cache
var cache = new Map();
/**
 * key-value message resolver
 *
 * @remarks
 * Resolves messages with the key-value structure. Note that messages with a hierarchical structure such as objects cannot be resolved
 *
 * @param obj - A target object to be resolved with path
 * @param path - A {@link Path | path} to resolve the value of message
 *
 * @returns A resolved {@link PathValue | path value}
 *
 * @VueI18nGeneral
 */
function resolveWithKeyValue(obj, path) {
  return isObject(obj) ? obj[path] : null;
}
/**
 * message resolver
 *
 * @remarks
 * Resolves messages. messages with a hierarchical structure such as objects can be resolved. This resolver is used in VueI18n as default.
 *
 * @param obj - A target object to be resolved with path
 * @param path - A {@link Path | path} to resolve the value of message
 *
 * @returns A resolved {@link PathValue | path value}
 *
 * @VueI18nGeneral
 */
function resolveValue(obj, path) {
  // check object
  if (!isObject(obj)) {
    return null;
  }
  // parse path
  var hit = cache.get(path);
  if (!hit) {
    hit = parse(path);
    if (hit) {
      cache.set(path, hit);
    }
  }
  // check hit
  if (!hit) {
    return null;
  }
  // resolve path value
  var len = hit.length;
  var last = obj;
  var i = 0;
  while (i < len) {
    var val = last[hit[i]];
    if (val === undefined) {
      return null;
    }
    if (isFunction(last)) {
      return null;
    }
    last = val;
    i++;
  }
  return last;
}
var DEFAULT_MODIFIER = function DEFAULT_MODIFIER(str) {
  return str;
};
var DEFAULT_MESSAGE = function DEFAULT_MESSAGE(ctx) {
  return '';
}; // eslint-disable-line
var DEFAULT_MESSAGE_DATA_TYPE = 'text';
var DEFAULT_NORMALIZE = function DEFAULT_NORMALIZE(values) {
  return values.length === 0 ? '' : join(values);
};
var DEFAULT_INTERPOLATE = toDisplayString;
function pluralDefault(choice, choicesLength) {
  choice = Math.abs(choice);
  if (choicesLength === 2) {
    // prettier-ignore
    return choice ? choice > 1 ? 1 : 0 : 1;
  }
  return choice ? Math.min(choice, 2) : 0;
}
function getPluralIndex(options) {
  // prettier-ignore
  var index = shared_isNumber(options.pluralIndex) ? options.pluralIndex : -1;
  // prettier-ignore
  return options.named && (shared_isNumber(options.named.count) || shared_isNumber(options.named.n)) ? shared_isNumber(options.named.count) ? options.named.count : shared_isNumber(options.named.n) ? options.named.n : index : index;
}
function normalizeNamed(pluralIndex, props) {
  if (!props.count) {
    props.count = pluralIndex;
  }
  if (!props.n) {
    props.n = pluralIndex;
  }
}
function createMessageContext() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var locale = options.locale;
  var pluralIndex = getPluralIndex(options);
  var pluralRule = isObject(options.pluralRules) && shared_isString(locale) && isFunction(options.pluralRules[locale]) ? options.pluralRules[locale] : pluralDefault;
  var orgPluralRule = isObject(options.pluralRules) && shared_isString(locale) && isFunction(options.pluralRules[locale]) ? pluralDefault : undefined;
  var plural = function plural(messages) {
    return messages[pluralRule(pluralIndex, messages.length, orgPluralRule)];
  };
  var _list = options.list || [];
  var list = function list(index) {
    return _list[index];
  };
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  var _named = options.named || {};
  shared_isNumber(options.pluralIndex) && normalizeNamed(pluralIndex, _named);
  var named = function named(key) {
    return _named[key];
  };
  function message(key) {
    // prettier-ignore
    var msg = isFunction(options.messages) ? options.messages(key) : isObject(options.messages) ? options.messages[key] : false;
    return !msg ? options.parent ? options.parent.message(key) // resolve from parent messages
    : DEFAULT_MESSAGE : msg;
  }
  var _modifier = function _modifier(name) {
    return options.modifiers ? options.modifiers[name] : DEFAULT_MODIFIER;
  };
  var normalize = shared_isPlainObject(options.processor) && isFunction(options.processor.normalize) ? options.processor.normalize : DEFAULT_NORMALIZE;
  var interpolate = shared_isPlainObject(options.processor) && isFunction(options.processor.interpolate) ? options.processor.interpolate : DEFAULT_INTERPOLATE;
  var type = shared_isPlainObject(options.processor) && shared_isString(options.processor.type) ? options.processor.type : DEFAULT_MESSAGE_DATA_TYPE;
  var linked = function linked(key) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    var arg1 = args[0],
      arg2 = args[1];
    var type = 'text';
    var modifier = '';
    if (args.length === 1) {
      if (isObject(arg1)) {
        modifier = arg1.modifier || modifier;
        type = arg1.type || type;
      } else if (shared_isString(arg1)) {
        modifier = arg1 || modifier;
      }
    } else if (args.length === 2) {
      if (shared_isString(arg1)) {
        modifier = arg1 || modifier;
      }
      if (shared_isString(arg2)) {
        type = arg2 || type;
      }
    }
    var ret = message(key)(ctx);
    var msg =
    // The message in vnode resolved with linked are returned as an array by processor.nomalize
    type === 'vnode' && shared_isArray(ret) && modifier ? ret[0] : ret;
    return modifier ? _modifier(modifier)(msg, type) : msg;
  };
  var ctx = {
    ["list" /* HelperNameMap.LIST */]: list,
    ["named" /* HelperNameMap.NAMED */]: named,
    ["plural" /* HelperNameMap.PLURAL */]: plural,
    ["linked" /* HelperNameMap.LINKED */]: linked,
    ["message" /* HelperNameMap.MESSAGE */]: message,
    ["type" /* HelperNameMap.TYPE */]: type,
    ["interpolate" /* HelperNameMap.INTERPOLATE */]: interpolate,
    ["normalize" /* HelperNameMap.NORMALIZE */]: normalize,
    ["values" /* HelperNameMap.VALUES */]: shared_assign({}, _list, _named)
  };
  return ctx;
}
var devtools = null;
function setDevToolsHook(hook) {
  devtools = hook;
}
function getDevToolsHook() {
  return devtools;
}
function initI18nDevTools(i18n, version, meta) {
  // TODO: queue if devtools is undefined
  devtools && devtools.emit("i18n:init" /* IntlifyDevToolsHooks.I18nInit */, {
    timestamp: Date.now(),
    i18n,
    version,
    meta
  });
}
var translateDevTools = /* #__PURE__*/(/* unused pure expression or super */ null && (createDevToolsHook("function:translate" /* IntlifyDevToolsHooks.FunctionTranslate */)));
function createDevToolsHook(hook) {
  return function (payloads) {
    return devtools && devtools.emit(hook, payloads);
  };
}
var CoreWarnCodes = {
  NOT_FOUND_KEY: 1,
  FALLBACK_TO_TRANSLATE: 2,
  CANNOT_FORMAT_NUMBER: 3,
  FALLBACK_TO_NUMBER_FORMAT: 4,
  CANNOT_FORMAT_DATE: 5,
  FALLBACK_TO_DATE_FORMAT: 6,
  EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER: 7,
  __EXTEND_POINT__: 8
};
/** @internal */
var warnMessages = {
  [CoreWarnCodes.NOT_FOUND_KEY]: `Not found '{key}' key in '{locale}' locale messages.`,
  [CoreWarnCodes.FALLBACK_TO_TRANSLATE]: `Fall back to translate '{key}' key with '{target}' locale.`,
  [CoreWarnCodes.CANNOT_FORMAT_NUMBER]: `Cannot format a number value due to not supported Intl.NumberFormat.`,
  [CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT]: `Fall back to number format '{key}' key with '{target}' locale.`,
  [CoreWarnCodes.CANNOT_FORMAT_DATE]: `Cannot format a date value due to not supported Intl.DateTimeFormat.`,
  [CoreWarnCodes.FALLBACK_TO_DATE_FORMAT]: `Fall back to datetime format '{key}' key with '{target}' locale.`,
  [CoreWarnCodes.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]: `This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future.`
};
function getWarnMessage(code) {
  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }
  return format$1.apply(void 0, [warnMessages[code]].concat(args));
}
var code = CompileErrorCodes.__EXTEND_POINT__;
var inc = incrementer(code);
var CoreErrorCodes = {
  INVALID_ARGUMENT: code,
  INVALID_DATE_ARGUMENT: inc(),
  INVALID_ISO_DATE_ARGUMENT: inc(),
  NOT_SUPPORT_NON_STRING_MESSAGE: inc(),
  NOT_SUPPORT_LOCALE_PROMISE_VALUE: inc(),
  NOT_SUPPORT_LOCALE_ASYNC_FUNCTION: inc(),
  NOT_SUPPORT_LOCALE_TYPE: inc(),
  __EXTEND_POINT__: inc() // 25
};
function createCoreError(code) {
  return createCompileError(code, null,  false ? 0 : undefined);
}
/** @internal */
var core_base_errorMessages = {
  [CoreErrorCodes.INVALID_ARGUMENT]: 'Invalid arguments',
  [CoreErrorCodes.INVALID_DATE_ARGUMENT]: 'The date provided is an invalid Date object.' + 'Make sure your Date represents a valid date.',
  [CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT]: 'The argument provided is not a valid ISO date string',
  [CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE]: 'Not support non-string message',
  [CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE]: 'cannot support promise value',
  [CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]: 'cannot support async function',
  [CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE]: 'cannot support locale type'
};

/** @internal */
function getLocale(context, options) {
  return options.locale != null ? resolveLocale(options.locale) : resolveLocale(context.locale);
}
var _resolveLocale;
/** @internal */
function resolveLocale(locale) {
  if (shared_isString(locale)) {
    return locale;
  } else {
    if (isFunction(locale)) {
      if (locale.resolvedOnce && _resolveLocale != null) {
        return _resolveLocale;
      } else if (locale.constructor.name === 'Function') {
        var resolve = locale();
        if (isPromise(resolve)) {
          throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);
        }
        return _resolveLocale = resolve;
      } else {
        throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION);
      }
    } else {
      throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE);
    }
  }
}
/**
 * Fallback with simple implemenation
 *
 * @remarks
 * A fallback locale function implemented with a simple fallback algorithm.
 *
 * Basically, it returns the value as specified in the `fallbackLocale` props, and is processed with the fallback inside intlify.
 *
 * @param ctx - A {@link CoreContext | context}
 * @param fallback - A {@link FallbackLocale | fallback locale}
 * @param start - A starting {@link Locale | locale}
 *
 * @returns Fallback locales
 *
 * @VueI18nGeneral
 */
function fallbackWithSimple(ctx, fallback, start // eslint-disable-line @typescript-eslint/no-unused-vars
) {
  // prettier-ignore
  return (0,toConsumableArray/* default */.Z)(new Set([start].concat((0,toConsumableArray/* default */.Z)(shared_isArray(fallback) ? fallback : isObject(fallback) ? Object.keys(fallback) : shared_isString(fallback) ? [fallback] : [start]))));
}
/**
 * Fallback with locale chain
 *
 * @remarks
 * A fallback locale function implemented with a fallback chain algorithm. It's used in VueI18n as default.
 *
 * @param ctx - A {@link CoreContext | context}
 * @param fallback - A {@link FallbackLocale | fallback locale}
 * @param start - A starting {@link Locale | locale}
 *
 * @returns Fallback locales
 *
 * @VueI18nSee [Fallbacking](../guide/essentials/fallback)
 *
 * @VueI18nGeneral
 */
function fallbackWithLocaleChain(ctx, fallback, start) {
  var startLocale = shared_isString(start) ? start : DEFAULT_LOCALE;
  var context = ctx;
  if (!context.__localeChainCache) {
    context.__localeChainCache = new Map();
  }
  var chain = context.__localeChainCache.get(startLocale);
  if (!chain) {
    chain = [];
    // first block defined by start
    var block = [start];
    // while any intervening block found
    while (shared_isArray(block)) {
      block = appendBlockToChain(chain, block, fallback);
    }
    // prettier-ignore
    // last block defined by default
    var defaults = shared_isArray(fallback) || !shared_isPlainObject(fallback) ? fallback : fallback['default'] ? fallback['default'] : null;
    // convert defaults to array
    block = shared_isString(defaults) ? [defaults] : defaults;
    if (shared_isArray(block)) {
      appendBlockToChain(chain, block, false);
    }
    context.__localeChainCache.set(startLocale, chain);
  }
  return chain;
}
function appendBlockToChain(chain, block, blocks) {
  var follow = true;
  for (var i = 0; i < block.length && shared_isBoolean(follow); i++) {
    var locale = block[i];
    if (shared_isString(locale)) {
      follow = appendLocaleToChain(chain, block[i], blocks);
    }
  }
  return follow;
}
function appendLocaleToChain(chain, locale, blocks) {
  var follow;
  var tokens = locale.split('-');
  do {
    var target = tokens.join('-');
    follow = appendItemToChain(chain, target, blocks);
    tokens.splice(-1, 1);
  } while (tokens.length && follow === true);
  return follow;
}
function appendItemToChain(chain, target, blocks) {
  var follow = false;
  if (!chain.includes(target)) {
    follow = true;
    if (target) {
      follow = target[target.length - 1] !== '!';
      var locale = target.replace(/!/g, '');
      chain.push(locale);
      if ((shared_isArray(blocks) || shared_isPlainObject(blocks)) && blocks[locale] // eslint-disable-line @typescript-eslint/no-explicit-any
      ) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        follow = blocks[locale];
      }
    }
  }
  return follow;
}

/* eslint-disable @typescript-eslint/no-explicit-any */
/**
 * Intlify core-base version
 * @internal
 */
var VERSION = '9.9.0';
var NOT_REOSLVED = -1;
var DEFAULT_LOCALE = 'en-US';
var MISSING_RESOLVE_VALUE = '';
var _capitalize = function capitalize(str) {
  return `${str.charAt(0).toLocaleUpperCase()}${str.substr(1)}`;
};
function getDefaultLinkedModifiers() {
  return {
    upper: function upper(val, type) {
      // prettier-ignore
      return type === 'text' && shared_isString(val) ? val.toUpperCase() : type === 'vnode' && isObject(val) && '__v_isVNode' in val ? val.children.toUpperCase() : val;
    },
    lower: function lower(val, type) {
      // prettier-ignore
      return type === 'text' && shared_isString(val) ? val.toLowerCase() : type === 'vnode' && isObject(val) && '__v_isVNode' in val ? val.children.toLowerCase() : val;
    },
    capitalize: function capitalize(val, type) {
      // prettier-ignore
      return type === 'text' && shared_isString(val) ? _capitalize(val) : type === 'vnode' && isObject(val) && '__v_isVNode' in val ? _capitalize(val.children) : val;
    }
  };
}
var _compiler;
function registerMessageCompiler(compiler) {
  _compiler = compiler;
}
var _resolver;
/**
 * Register the message resolver
 *
 * @param resolver - A {@link MessageResolver} function
 *
 * @VueI18nGeneral
 */
function registerMessageResolver(resolver) {
  _resolver = resolver;
}
var _fallbacker;
/**
 * Register the locale fallbacker
 *
 * @param fallbacker - A {@link LocaleFallbacker} function
 *
 * @VueI18nGeneral
 */
function registerLocaleFallbacker(fallbacker) {
  _fallbacker = fallbacker;
}
// Additional Meta for Intlify DevTools
var _additionalMeta = null;
/* #__NO_SIDE_EFFECTS__ */
var setAdditionalMeta = function setAdditionalMeta(meta) {
  _additionalMeta = meta;
};
/* #__NO_SIDE_EFFECTS__ */
var getAdditionalMeta = function getAdditionalMeta() {
  return _additionalMeta;
};
var _fallbackContext = null;
var setFallbackContext = function setFallbackContext(context) {
  _fallbackContext = context;
};
var getFallbackContext = function getFallbackContext() {
  return _fallbackContext;
};
// ID for CoreContext
var _cid = 0;
function createCoreContext() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  // setup options
  var onWarn = isFunction(options.onWarn) ? options.onWarn : shared_warn;
  var version = shared_isString(options.version) ? options.version : VERSION;
  var locale = shared_isString(options.locale) || isFunction(options.locale) ? options.locale : DEFAULT_LOCALE;
  var _locale = isFunction(locale) ? DEFAULT_LOCALE : locale;
  var fallbackLocale = shared_isArray(options.fallbackLocale) || shared_isPlainObject(options.fallbackLocale) || shared_isString(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale;
  var messages = shared_isPlainObject(options.messages) ? options.messages : {
    [_locale]: {}
  };
  var datetimeFormats = shared_isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {
    [_locale]: {}
  };
  var numberFormats = shared_isPlainObject(options.numberFormats) ? options.numberFormats : {
    [_locale]: {}
  };
  var modifiers = shared_assign({}, options.modifiers || {}, getDefaultLinkedModifiers());
  var pluralRules = options.pluralRules || {};
  var missing = isFunction(options.missing) ? options.missing : null;
  var missingWarn = shared_isBoolean(options.missingWarn) || isRegExp(options.missingWarn) ? options.missingWarn : true;
  var fallbackWarn = shared_isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn) ? options.fallbackWarn : true;
  var fallbackFormat = !!options.fallbackFormat;
  var unresolving = !!options.unresolving;
  var postTranslation = isFunction(options.postTranslation) ? options.postTranslation : null;
  var processor = shared_isPlainObject(options.processor) ? options.processor : null;
  var warnHtmlMessage = shared_isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;
  var escapeParameter = !!options.escapeParameter;
  var messageCompiler = isFunction(options.messageCompiler) ? options.messageCompiler : _compiler;
  if (false) {}
  var messageResolver = isFunction(options.messageResolver) ? options.messageResolver : _resolver || resolveWithKeyValue;
  var localeFallbacker = isFunction(options.localeFallbacker) ? options.localeFallbacker : _fallbacker || fallbackWithSimple;
  var fallbackContext = isObject(options.fallbackContext) ? options.fallbackContext : undefined;
  // setup internal options
  var internalOptions = options;
  var __datetimeFormatters = isObject(internalOptions.__datetimeFormatters) ? internalOptions.__datetimeFormatters : new Map();
  var __numberFormatters = isObject(internalOptions.__numberFormatters) ? internalOptions.__numberFormatters : new Map();
  var __meta = isObject(internalOptions.__meta) ? internalOptions.__meta : {};
  _cid++;
  var context = {
    version,
    cid: _cid,
    locale,
    fallbackLocale,
    messages,
    modifiers,
    pluralRules,
    missing,
    missingWarn,
    fallbackWarn,
    fallbackFormat,
    unresolving,
    postTranslation,
    processor,
    warnHtmlMessage,
    escapeParameter,
    messageCompiler,
    messageResolver,
    localeFallbacker,
    fallbackContext,
    onWarn,
    __meta
  };
  {
    context.datetimeFormats = datetimeFormats;
    context.numberFormats = numberFormats;
    context.__datetimeFormatters = __datetimeFormatters;
    context.__numberFormatters = __numberFormatters;
  }
  // for vue-devtools timeline event
  if (false) {}
  // NOTE: experimental !!
  if (false) {}
  return context;
}
/** @internal */
function isTranslateFallbackWarn(fallback, key) {
  return fallback instanceof RegExp ? fallback.test(key) : fallback;
}
/** @internal */
function isTranslateMissingWarn(missing, key) {
  return missing instanceof RegExp ? missing.test(key) : missing;
}
/** @internal */
function handleMissing(context, key, locale, missingWarn, type) {
  var missing = context.missing,
    onWarn = context.onWarn;
  // for vue-devtools timeline event
  if (false) { var emitter; }
  if (missing !== null) {
    var ret = missing(context, locale, key, type);
    return shared_isString(ret) ? ret : key;
  } else {
    if (false) {}
    return key;
  }
}
/** @internal */
function updateFallbackLocale(ctx, locale, fallback) {
  var context = ctx;
  context.__localeChainCache = new Map();
  ctx.localeFallbacker(ctx, fallback, locale);
}
/* eslint-enable @typescript-eslint/no-explicit-any */

function core_base_format(ast) {
  var msg = function msg(ctx) {
    return formatParts(ctx, ast);
  };
  return msg;
}
function formatParts(ctx, ast) {
  var body = ast.b || ast.body;
  if ((body.t || body.type) === 1 /* NodeTypes.Plural */) {
    var plural = body;
    var cases = plural.c || plural.cases;
    return ctx.plural(cases.reduce(function (messages, c) {
      return [].concat((0,toConsumableArray/* default */.Z)(messages), [formatMessageParts(ctx, c)]);
    }, []));
  } else {
    return formatMessageParts(ctx, body);
  }
}
function formatMessageParts(ctx, node) {
  var _static = node.s || node.static;
  if (_static) {
    return ctx.type === 'text' ? _static : ctx.normalize([_static]);
  } else {
    var messages = (node.i || node.items).reduce(function (acm, c) {
      return [].concat((0,toConsumableArray/* default */.Z)(acm), [formatMessagePart(ctx, c)]);
    }, []);
    return ctx.normalize(messages);
  }
}
function formatMessagePart(ctx, node) {
  var type = node.t || node.type;
  switch (type) {
    case 3 /* NodeTypes.Text */:
      var text = node;
      return text.v || text.value;
    case 9 /* NodeTypes.Literal */:
      var literal = node;
      return literal.v || literal.value;
    case 4 /* NodeTypes.Named */:
      var named = node;
      return ctx.interpolate(ctx.named(named.k || named.key));
    case 5 /* NodeTypes.List */:
      var list = node;
      return ctx.interpolate(ctx.list(list.i != null ? list.i : list.index));
    case 6 /* NodeTypes.Linked */:
      var linked = node;
      var modifier = linked.m || linked.modifier;
      return ctx.linked(formatMessagePart(ctx, linked.k || linked.key), modifier ? formatMessagePart(ctx, modifier) : undefined, ctx.type);
    case 7 /* NodeTypes.LinkedKey */:
      var linkedKey = node;
      return linkedKey.v || linkedKey.value;
    case 8 /* NodeTypes.LinkedModifier */:
      var linkedModifier = node;
      return linkedModifier.v || linkedModifier.value;
    default:
      throw new Error(`unhandled node type on format message part: ${type}`);
  }
}
var WARN_MESSAGE = (/* unused pure expression or super */ null && (`Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.`));
function checkHtmlMessage(source, warnHtmlMessage) {
  if (warnHtmlMessage && detectHtmlTag(source)) {
    warn(format$1(WARN_MESSAGE, {
      source
    }));
  }
}
var defaultOnCacheKey = function defaultOnCacheKey(message) {
  return message;
};
var compileCache = Object.create(null);
function clearCompileCache() {
  compileCache = Object.create(null);
}
var isMessageAST = function isMessageAST(val) {
  return isObject(val) && (val.t === 0 || val.type === 0) && ('b' in val || 'body' in val);
};
function core_base_baseCompile(message) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  // error detecting on compile
  var detectError = false;
  var onError = options.onError || defaultOnError;
  options.onError = function (err) {
    detectError = true;
    onError(err);
  };
  // compile with mesasge-compiler
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, baseCompile(message, options)), {}, {
    detectError
  });
}
/* #__NO_SIDE_EFFECTS__ */
var compileToFunction = function compileToFunction(message, context) {
  if (!shared_isString(message)) {
    throw createCoreError(CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE);
  }
  {
    // check HTML message
    var warnHtmlMessage = shared_isBoolean(context.warnHtmlMessage) ? context.warnHtmlMessage : true;
     false && 0;
    // check caches
    var onCacheKey = context.onCacheKey || defaultOnCacheKey;
    var cacheKey = onCacheKey(message);
    var cached = compileCache[cacheKey];
    if (cached) {
      return cached;
    }
    // compile
    var _baseCompile = core_base_baseCompile(message, context),
      _code = _baseCompile.code,
      detectError = _baseCompile.detectError;
    // evaluate function
    var msg = new Function(`return ${_code}`)();
    // if occurred compile error, don't cache
    return !detectError ? compileCache[cacheKey] = msg : msg;
  }
};
function core_base_compile(message, context) {
  if (__INTLIFY_JIT_COMPILATION__ && !__INTLIFY_DROP_MESSAGE_COMPILER__ && shared_isString(message)) {
    // check HTML message
    var warnHtmlMessage = shared_isBoolean(context.warnHtmlMessage) ? context.warnHtmlMessage : true;
     false && 0;
    // check caches
    var onCacheKey = context.onCacheKey || defaultOnCacheKey;
    var cacheKey = onCacheKey(message);
    var cached = compileCache[cacheKey];
    if (cached) {
      return cached;
    }
    // compile with JIT mode
    var _baseCompile2 = core_base_baseCompile(message, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, context), {}, {
        location: "production" !== 'production',
        jit: true
      })),
      ast = _baseCompile2.ast,
      detectError = _baseCompile2.detectError;
    // compose message function from AST
    var msg = core_base_format(ast);
    // if occurred compile error, don't cache
    return !detectError ? compileCache[cacheKey] = msg : msg;
  } else {
    if (false) {}
    // AST case (passed from bundler)
    var _cacheKey = message.cacheKey;
    if (_cacheKey) {
      var _cached = compileCache[_cacheKey];
      if (_cached) {
        return _cached;
      }
      // compose message function from message (AST)
      return compileCache[_cacheKey] = core_base_format(message);
    } else {
      return core_base_format(message);
    }
  }
}
var NOOP_MESSAGE_FUNCTION = function NOOP_MESSAGE_FUNCTION() {
  return '';
};
var isMessageFunction = function isMessageFunction(val) {
  return isFunction(val);
};
// implementation of `translate` function
function translate(context) {
  var fallbackFormat = context.fallbackFormat,
    postTranslation = context.postTranslation,
    unresolving = context.unresolving,
    messageCompiler = context.messageCompiler,
    fallbackLocale = context.fallbackLocale,
    messages = context.messages;
  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
    args[_key3 - 1] = arguments[_key3];
  }
  var _parseTranslateArgs = parseTranslateArgs.apply(void 0, args),
    _parseTranslateArgs2 = (0,slicedToArray/* default */.Z)(_parseTranslateArgs, 2),
    key = _parseTranslateArgs2[0],
    options = _parseTranslateArgs2[1];
  var missingWarn = shared_isBoolean(options.missingWarn) ? options.missingWarn : context.missingWarn;
  var fallbackWarn = shared_isBoolean(options.fallbackWarn) ? options.fallbackWarn : context.fallbackWarn;
  var escapeParameter = shared_isBoolean(options.escapeParameter) ? options.escapeParameter : context.escapeParameter;
  var resolvedMessage = !!options.resolvedMessage;
  // prettier-ignore
  var defaultMsgOrKey = shared_isString(options.default) || shared_isBoolean(options.default) // default by function option
  ? !shared_isBoolean(options.default) ? options.default : !messageCompiler ? function () {
    return key;
  } : key : fallbackFormat // default by `fallbackFormat` option
  ? !messageCompiler ? function () {
    return key;
  } : key : '';
  var enableDefaultMsg = fallbackFormat || defaultMsgOrKey !== '';
  var locale = getLocale(context, options);
  // escape params
  escapeParameter && escapeParams(options);
  // resolve message format
  // eslint-disable-next-line prefer-const
  var _ref = !resolvedMessage ? resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn) : [key, locale, messages[locale] || {}],
    _ref2 = (0,slicedToArray/* default */.Z)(_ref, 3),
    formatScope = _ref2[0],
    targetLocale = _ref2[1],
    message = _ref2[2];
  // NOTE:
  //  Fix to work around `ssrTransfrom` bug in Vite.
  //  https://github.com/vitejs/vite/issues/4306
  //  To get around this, use temporary variables.
  //  https://github.com/nuxt/framework/issues/1461#issuecomment-954606243
  var format = formatScope;
  // if you use default message, set it as message format!
  var cacheBaseKey = key;
  if (!resolvedMessage && !(shared_isString(format) || isMessageAST(format) || isMessageFunction(format))) {
    if (enableDefaultMsg) {
      format = defaultMsgOrKey;
      cacheBaseKey = format;
    }
  }
  // checking message format and target locale
  if (!resolvedMessage && (!(shared_isString(format) || isMessageAST(format) || isMessageFunction(format)) || !shared_isString(targetLocale))) {
    return unresolving ? NOT_REOSLVED : key;
  }
  // TODO: refactor
  if (false) {}
  // setup compile error detecting
  var occurred = false;
  var onError = function onError() {
    occurred = true;
  };
  // compile message format
  var msg = !isMessageFunction(format) ? compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, onError) : format;
  // if occurred compile error, return the message format
  if (occurred) {
    return format;
  }
  // evaluate message with context
  var ctxOptions = getMessageContextOptions(context, targetLocale, message, options);
  var msgContext = createMessageContext(ctxOptions);
  var messaged = evaluateMessage(context, msg, msgContext);
  // if use post translation option, proceed it with handler
  var ret = postTranslation ? postTranslation(messaged, key) : messaged;
  // NOTE: experimental !!
  if (false) { var payloads; }
  return ret;
}
function escapeParams(options) {
  if (shared_isArray(options.list)) {
    options.list = options.list.map(function (item) {
      return shared_isString(item) ? escapeHtml(item) : item;
    });
  } else if (isObject(options.named)) {
    Object.keys(options.named).forEach(function (key) {
      if (shared_isString(options.named[key])) {
        options.named[key] = escapeHtml(options.named[key]);
      }
    });
  }
}
function resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn) {
  var messages = context.messages,
    onWarn = context.onWarn,
    resolveValue = context.messageResolver,
    localeFallbacker = context.localeFallbacker;
  var locales = localeFallbacker(context, fallbackLocale, locale); // eslint-disable-line @typescript-eslint/no-explicit-any
  var message = {};
  var targetLocale;
  var format = null;
  var from = locale;
  var to = null;
  var type = 'translate';
  for (var i = 0; i < locales.length; i++) {
    targetLocale = to = locales[i];
    if (false) {}
    // for vue-devtools timeline event
    if (false) { var emitter; }
    message = messages[targetLocale] || {};
    // for vue-devtools timeline event
    var start = null;
    var startTag = void 0;
    var endTag = void 0;
    if (false) {}
    if ((format = resolveValue(message, key)) === null) {
      // if null, resolve with object key path
      format = message[key]; // eslint-disable-line @typescript-eslint/no-explicit-any
    }
    // for vue-devtools timeline event
    if (false) { var _emitter, end; }
    if (shared_isString(format) || isMessageAST(format) || isMessageFunction(format)) {
      break;
    }
    var missingRet = handleMissing(context,
    // eslint-disable-line @typescript-eslint/no-explicit-any
    key, targetLocale, missingWarn, type);
    if (missingRet !== key) {
      format = missingRet;
    }
    from = to;
  }
  return [format, targetLocale, message];
}
function compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, onError) {
  var messageCompiler = context.messageCompiler,
    warnHtmlMessage = context.warnHtmlMessage;
  if (isMessageFunction(format)) {
    var _msg = format;
    _msg.locale = _msg.locale || targetLocale;
    _msg.key = _msg.key || key;
    return _msg;
  }
  if (messageCompiler == null) {
    var _msg2 = function _msg2() {
      return format;
    };
    _msg2.locale = targetLocale;
    _msg2.key = key;
    return _msg2;
  }
  // for vue-devtools timeline event
  var start = null;
  var startTag;
  var endTag;
  if (false) {}
  var msg = messageCompiler(format, getCompileContext(context, targetLocale, cacheBaseKey, format, warnHtmlMessage, onError));
  // for vue-devtools timeline event
  if (false) { var emitter, end; }
  msg.locale = targetLocale;
  msg.key = key;
  msg.source = format;
  return msg;
}
function evaluateMessage(context, msg, msgCtx) {
  // for vue-devtools timeline event
  var start = null;
  var startTag;
  var endTag;
  if (false) {}
  var messaged = msg(msgCtx);
  // for vue-devtools timeline event
  if (false) { var emitter, end; }
  return messaged;
}
/** @internal */
function parseTranslateArgs() {
  for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
    args[_key4] = arguments[_key4];
  }
  var arg1 = args[0],
    arg2 = args[1],
    arg3 = args[2];
  var options = {};
  if (!shared_isString(arg1) && !shared_isNumber(arg1) && !isMessageFunction(arg1) && !isMessageAST(arg1)) {
    throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);
  }
  // prettier-ignore
  var key = shared_isNumber(arg1) ? String(arg1) : isMessageFunction(arg1) ? arg1 : arg1;
  if (shared_isNumber(arg2)) {
    options.plural = arg2;
  } else if (shared_isString(arg2)) {
    options.default = arg2;
  } else if (shared_isPlainObject(arg2) && !isEmptyObject(arg2)) {
    options.named = arg2;
  } else if (shared_isArray(arg2)) {
    options.list = arg2;
  }
  if (shared_isNumber(arg3)) {
    options.plural = arg3;
  } else if (shared_isString(arg3)) {
    options.default = arg3;
  } else if (shared_isPlainObject(arg3)) {
    shared_assign(options, arg3);
  }
  return [key, options];
}
function getCompileContext(context, locale, key, source, warnHtmlMessage, _onError) {
  return {
    locale,
    key,
    warnHtmlMessage,
    onError: function onError(err) {
      _onError && _onError(err);
      if (false) { var emitter, codeFrame, message, _source; } else {
        throw err;
      }
    },
    onCacheKey: function onCacheKey(source) {
      return generateFormatCacheKey(locale, key, source);
    }
  };
}
function getSourceForCodeFrame(source) {
  if (isString(source)) {
    return source;
  } else {
    if (source.loc && source.loc.source) {
      return source.loc.source;
    }
  }
}
function getMessageContextOptions(context, locale, message, options) {
  var modifiers = context.modifiers,
    pluralRules = context.pluralRules,
    resolveValue = context.messageResolver,
    fallbackLocale = context.fallbackLocale,
    fallbackWarn = context.fallbackWarn,
    missingWarn = context.missingWarn,
    fallbackContext = context.fallbackContext;
  var resolveMessage = function resolveMessage(key) {
    var val = resolveValue(message, key);
    // fallback to root context
    if (val == null && fallbackContext) {
      var _resolveMessageFormat = resolveMessageFormat(fallbackContext, key, locale, fallbackLocale, fallbackWarn, missingWarn),
        _resolveMessageFormat2 = (0,slicedToArray/* default */.Z)(_resolveMessageFormat, 3),
        _message = _resolveMessageFormat2[2];
      val = resolveValue(_message, key);
    }
    if (shared_isString(val) || isMessageAST(val)) {
      var occurred = false;
      var onError = function onError() {
        occurred = true;
      };
      var msg = compileMessageFormat(context, key, locale, val, key, onError);
      return !occurred ? msg : NOOP_MESSAGE_FUNCTION;
    } else if (isMessageFunction(val)) {
      return val;
    } else {
      // TODO: should be implemented warning message
      return NOOP_MESSAGE_FUNCTION;
    }
  };
  var ctxOptions = {
    locale,
    modifiers,
    pluralRules,
    messages: resolveMessage
  };
  if (context.processor) {
    ctxOptions.processor = context.processor;
  }
  if (options.list) {
    ctxOptions.list = options.list;
  }
  if (options.named) {
    ctxOptions.named = options.named;
  }
  if (shared_isNumber(options.plural)) {
    ctxOptions.pluralIndex = options.plural;
  }
  return ctxOptions;
}
var intlDefined = typeof Intl !== 'undefined';
var Availabilities = {
  dateTimeFormat: intlDefined && typeof Intl.DateTimeFormat !== 'undefined',
  numberFormat: intlDefined && typeof Intl.NumberFormat !== 'undefined'
};

// implementation of `datetime` function
function datetime(context) {
  var datetimeFormats = context.datetimeFormats,
    unresolving = context.unresolving,
    fallbackLocale = context.fallbackLocale,
    onWarn = context.onWarn,
    localeFallbacker = context.localeFallbacker;
  var __datetimeFormatters = context.__datetimeFormatters;
  if (false) {}
  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
    args[_key5 - 1] = arguments[_key5];
  }
  var _parseDateTimeArgs = parseDateTimeArgs.apply(void 0, args),
    _parseDateTimeArgs2 = (0,slicedToArray/* default */.Z)(_parseDateTimeArgs, 4),
    key = _parseDateTimeArgs2[0],
    value = _parseDateTimeArgs2[1],
    options = _parseDateTimeArgs2[2],
    overrides = _parseDateTimeArgs2[3];
  var missingWarn = shared_isBoolean(options.missingWarn) ? options.missingWarn : context.missingWarn;
  var fallbackWarn = shared_isBoolean(options.fallbackWarn) ? options.fallbackWarn : context.fallbackWarn;
  var part = !!options.part;
  var locale = getLocale(context, options);
  var locales = localeFallbacker(context,
  // eslint-disable-line @typescript-eslint/no-explicit-any
  fallbackLocale, locale);
  if (!shared_isString(key) || key === '') {
    return new Intl.DateTimeFormat(locale, overrides).format(value);
  }
  // resolve format
  var datetimeFormat = {};
  var targetLocale;
  var format = null;
  var from = locale;
  var to = null;
  var type = 'datetime format';
  for (var i = 0; i < locales.length; i++) {
    targetLocale = to = locales[i];
    if (false) {}
    // for vue-devtools timeline event
    if (false) { var emitter; }
    datetimeFormat = datetimeFormats[targetLocale] || {};
    format = datetimeFormat[key];
    if (shared_isPlainObject(format)) break;
    handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any
    from = to;
  }
  // checking format and target locale
  if (!shared_isPlainObject(format) || !shared_isString(targetLocale)) {
    return unresolving ? NOT_REOSLVED : key;
  }
  var id = `${targetLocale}__${key}`;
  if (!isEmptyObject(overrides)) {
    id = `${id}__${JSON.stringify(overrides)}`;
  }
  var formatter = __datetimeFormatters.get(id);
  if (!formatter) {
    formatter = new Intl.DateTimeFormat(targetLocale, shared_assign({}, format, overrides));
    __datetimeFormatters.set(id, formatter);
  }
  return !part ? formatter.format(value) : formatter.formatToParts(value);
}
/** @internal */
var DATETIME_FORMAT_OPTIONS_KEYS = ['localeMatcher', 'weekday', 'era', 'year', 'month', 'day', 'hour', 'minute', 'second', 'timeZoneName', 'formatMatcher', 'hour12', 'timeZone', 'dateStyle', 'timeStyle', 'calendar', 'dayPeriod', 'numberingSystem', 'hourCycle', 'fractionalSecondDigits'];
/** @internal */
function parseDateTimeArgs() {
  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
    args[_key6] = arguments[_key6];
  }
  var arg1 = args[0],
    arg2 = args[1],
    arg3 = args[2],
    arg4 = args[3];
  var options = {};
  var overrides = {};
  var value;
  if (shared_isString(arg1)) {
    // Only allow ISO strings - other date formats are often supported,
    // but may cause different results in different browsers.
    var matches = arg1.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);
    if (!matches) {
      throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);
    }
    // Some browsers can not parse the iso datetime separated by space,
    // this is a compromise solution by replace the 'T'/' ' with 'T'
    var dateTime = matches[3] ? matches[3].trim().startsWith('T') ? `${matches[1].trim()}${matches[3].trim()}` : `${matches[1].trim()}T${matches[3].trim()}` : matches[1].trim();
    value = new Date(dateTime);
    try {
      // This will fail if the date is not valid
      value.toISOString();
    } catch (e) {
      throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);
    }
  } else if (isDate(arg1)) {
    if (isNaN(arg1.getTime())) {
      throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);
    }
    value = arg1;
  } else if (shared_isNumber(arg1)) {
    value = arg1;
  } else {
    throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);
  }
  if (shared_isString(arg2)) {
    options.key = arg2;
  } else if (shared_isPlainObject(arg2)) {
    Object.keys(arg2).forEach(function (key) {
      if (DATETIME_FORMAT_OPTIONS_KEYS.includes(key)) {
        overrides[key] = arg2[key];
      } else {
        options[key] = arg2[key];
      }
    });
  }
  if (shared_isString(arg3)) {
    options.locale = arg3;
  } else if (shared_isPlainObject(arg3)) {
    overrides = arg3;
  }
  if (shared_isPlainObject(arg4)) {
    overrides = arg4;
  }
  return [options.key || '', value, options, overrides];
}
/** @internal */
function clearDateTimeFormat(ctx, locale, format) {
  var context = ctx;
  for (var key in format) {
    var id = `${locale}__${key}`;
    if (!context.__datetimeFormatters.has(id)) {
      continue;
    }
    context.__datetimeFormatters.delete(id);
  }
}

// implementation of `number` function
function number(context) {
  var numberFormats = context.numberFormats,
    unresolving = context.unresolving,
    fallbackLocale = context.fallbackLocale,
    onWarn = context.onWarn,
    localeFallbacker = context.localeFallbacker;
  var __numberFormatters = context.__numberFormatters;
  if (false) {}
  for (var _len7 = arguments.length, args = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {
    args[_key7 - 1] = arguments[_key7];
  }
  var _parseNumberArgs = parseNumberArgs.apply(void 0, args),
    _parseNumberArgs2 = (0,slicedToArray/* default */.Z)(_parseNumberArgs, 4),
    key = _parseNumberArgs2[0],
    value = _parseNumberArgs2[1],
    options = _parseNumberArgs2[2],
    overrides = _parseNumberArgs2[3];
  var missingWarn = shared_isBoolean(options.missingWarn) ? options.missingWarn : context.missingWarn;
  var fallbackWarn = shared_isBoolean(options.fallbackWarn) ? options.fallbackWarn : context.fallbackWarn;
  var part = !!options.part;
  var locale = getLocale(context, options);
  var locales = localeFallbacker(context,
  // eslint-disable-line @typescript-eslint/no-explicit-any
  fallbackLocale, locale);
  if (!shared_isString(key) || key === '') {
    return new Intl.NumberFormat(locale, overrides).format(value);
  }
  // resolve format
  var numberFormat = {};
  var targetLocale;
  var format = null;
  var from = locale;
  var to = null;
  var type = 'number format';
  for (var i = 0; i < locales.length; i++) {
    targetLocale = to = locales[i];
    if (false) {}
    // for vue-devtools timeline event
    if (false) { var emitter; }
    numberFormat = numberFormats[targetLocale] || {};
    format = numberFormat[key];
    if (shared_isPlainObject(format)) break;
    handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any
    from = to;
  }
  // checking format and target locale
  if (!shared_isPlainObject(format) || !shared_isString(targetLocale)) {
    return unresolving ? NOT_REOSLVED : key;
  }
  var id = `${targetLocale}__${key}`;
  if (!isEmptyObject(overrides)) {
    id = `${id}__${JSON.stringify(overrides)}`;
  }
  var formatter = __numberFormatters.get(id);
  if (!formatter) {
    formatter = new Intl.NumberFormat(targetLocale, shared_assign({}, format, overrides));
    __numberFormatters.set(id, formatter);
  }
  return !part ? formatter.format(value) : formatter.formatToParts(value);
}
/** @internal */
var NUMBER_FORMAT_OPTIONS_KEYS = ['localeMatcher', 'style', 'currency', 'currencyDisplay', 'currencySign', 'useGrouping', 'minimumIntegerDigits', 'minimumFractionDigits', 'maximumFractionDigits', 'minimumSignificantDigits', 'maximumSignificantDigits', 'compactDisplay', 'notation', 'signDisplay', 'unit', 'unitDisplay', 'roundingMode', 'roundingPriority', 'roundingIncrement', 'trailingZeroDisplay'];
/** @internal */
function parseNumberArgs() {
  for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
    args[_key8] = arguments[_key8];
  }
  var arg1 = args[0],
    arg2 = args[1],
    arg3 = args[2],
    arg4 = args[3];
  var options = {};
  var overrides = {};
  if (!shared_isNumber(arg1)) {
    throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);
  }
  var value = arg1;
  if (shared_isString(arg2)) {
    options.key = arg2;
  } else if (shared_isPlainObject(arg2)) {
    Object.keys(arg2).forEach(function (key) {
      if (NUMBER_FORMAT_OPTIONS_KEYS.includes(key)) {
        overrides[key] = arg2[key];
      } else {
        options[key] = arg2[key];
      }
    });
  }
  if (shared_isString(arg3)) {
    options.locale = arg3;
  } else if (shared_isPlainObject(arg3)) {
    overrides = arg3;
  }
  if (shared_isPlainObject(arg4)) {
    overrides = arg4;
  }
  return [options.key || '', value, options, overrides];
}
/** @internal */
function clearNumberFormat(ctx, locale, format) {
  var context = ctx;
  for (var key in format) {
    var id = `${locale}__${key}`;
    if (!context.__numberFormatters.has(id)) {
      continue;
    }
    context.__numberFormatters.delete(id);
  }
}
{
  initFeatureFlags();
}

;// CONCATENATED MODULE: ./node_modules/vue-i18n/dist/vue-i18n.mjs























/*!
  * vue-i18n v9.9.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */





/**
 * Vue I18n Version
 *
 * @remarks
 * Semver format. Same format as the package.json `version` field.
 *
 * @VueI18nGeneral
 */
var vue_i18n_VERSION = '9.9.0';
/**
 * This is only called in esm-bundler builds.
 * istanbul-ignore-next
 */
function vue_i18n_initFeatureFlags() {
  if (false) {}
  if (false) {}
  if (typeof __INTLIFY_JIT_COMPILATION__ !== 'boolean') {
    getGlobalThis().__INTLIFY_JIT_COMPILATION__ = false;
  }
  if (typeof __INTLIFY_DROP_MESSAGE_COMPILER__ !== 'boolean') {
    getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__ = false;
  }
  if (false) {}
}
var code$1 = CoreWarnCodes.__EXTEND_POINT__;
var inc$1 = incrementer(code$1);
var I18nWarnCodes = {
  FALLBACK_TO_ROOT: code$1,
  NOT_SUPPORTED_PRESERVE: inc$1(),
  NOT_SUPPORTED_FORMATTER: inc$1(),
  NOT_SUPPORTED_PRESERVE_DIRECTIVE: inc$1(),
  NOT_SUPPORTED_GET_CHOICE_INDEX: inc$1(),
  COMPONENT_NAME_LEGACY_COMPATIBLE: inc$1(),
  NOT_FOUND_PARENT_SCOPE: inc$1(),
  IGNORE_OBJ_FLATTEN: inc$1(),
  NOTICE_DROP_ALLOW_COMPOSITION: inc$1() // 17
};
var vue_i18n_warnMessages = {
  [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,
  [I18nWarnCodes.NOT_SUPPORTED_PRESERVE]: `Not supported 'preserve'.`,
  [I18nWarnCodes.NOT_SUPPORTED_FORMATTER]: `Not supported 'formatter'.`,
  [I18nWarnCodes.NOT_SUPPORTED_PRESERVE_DIRECTIVE]: `Not supported 'preserveDirectiveContent'.`,
  [I18nWarnCodes.NOT_SUPPORTED_GET_CHOICE_INDEX]: `Not supported 'getChoiceIndex'.`,
  [I18nWarnCodes.COMPONENT_NAME_LEGACY_COMPATIBLE]: `Component name legacy compatible: '{name}' -> 'i18n'`,
  [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`,
  [I18nWarnCodes.IGNORE_OBJ_FLATTEN]: `Ignore object flatten: '{key}' key has an string value`,
  [I18nWarnCodes.NOTICE_DROP_ALLOW_COMPOSITION]: `'allowComposition' option will be dropped in the next major version. For more information, please see  https://tinyurl.com/2p97mcze`
};
function vue_i18n_getWarnMessage(code) {
  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }
  return format.apply(void 0, [vue_i18n_warnMessages[code]].concat(args));
}
var vue_i18n_code = CoreErrorCodes.__EXTEND_POINT__;
var vue_i18n_inc = incrementer(vue_i18n_code);
var I18nErrorCodes = {
  // composer module errors
  UNEXPECTED_RETURN_TYPE: vue_i18n_code,
  // legacy module errors
  INVALID_ARGUMENT: vue_i18n_inc(),
  // i18n module errors
  MUST_BE_CALL_SETUP_TOP: vue_i18n_inc(),
  NOT_INSTALLED: vue_i18n_inc(),
  NOT_AVAILABLE_IN_LEGACY_MODE: vue_i18n_inc(),
  // directive module errors
  REQUIRED_VALUE: vue_i18n_inc(),
  INVALID_VALUE: vue_i18n_inc(),
  // vue-devtools errors
  CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: vue_i18n_inc(),
  NOT_INSTALLED_WITH_PROVIDE: vue_i18n_inc(),
  // unexpected error
  UNEXPECTED_ERROR: vue_i18n_inc(),
  // not compatible legacy vue-i18n constructor
  NOT_COMPATIBLE_LEGACY_VUE_I18N: vue_i18n_inc(),
  // bridge support vue 2.x only
  BRIDGE_SUPPORT_VUE_2_ONLY: vue_i18n_inc(),
  // need to define `i18n` option in `allowComposition: true` and `useScope: 'local' at `useI18n``
  MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: vue_i18n_inc(),
  // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly
  NOT_AVAILABLE_COMPOSITION_IN_LEGACY: vue_i18n_inc(),
  // for enhancement
  __EXTEND_POINT__: vue_i18n_inc() // 40
};
function createI18nError(code) {
  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }
  return createCompileError(code, null,  false ? 0 : undefined);
}
var vue_i18n_errorMessages = {
  [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',
  [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',
  [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',
  [I18nErrorCodes.NOT_INSTALLED]: 'Need to install with `app.use` function',
  [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',
  [I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE]: 'Not available in legacy mode',
  [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,
  [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,
  [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,
  [I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE]: 'Need to install with `provide` function',
  [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',
  [I18nErrorCodes.BRIDGE_SUPPORT_VUE_2_ONLY]: 'vue-i18n-bridge support Vue 2.x only',
  [I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION]: 'Must define i18n option or custom block in Composition API with using local scope in Legacy API mode',
  [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'
};
var TranslateVNodeSymbol = /* #__PURE__*/shared_makeSymbol('__translateVNode');
var DatetimePartsSymbol = /* #__PURE__*/shared_makeSymbol('__datetimeParts');
var NumberPartsSymbol = /* #__PURE__*/shared_makeSymbol('__numberParts');
var EnableEmitter = /* #__PURE__*/shared_makeSymbol('__enableEmitter');
var DisableEmitter = /* #__PURE__*/(/* unused pure expression or super */ null && (makeSymbol('__disableEmitter')));
var SetPluralRulesSymbol = shared_makeSymbol('__setPluralRules');
shared_makeSymbol('__intlifyMeta');
var InejctWithOptionSymbol = /* #__PURE__*/shared_makeSymbol('__injectWithOption');
var DisposeSymbol = /* #__PURE__*/shared_makeSymbol('__dispose');
var __VUE_I18N_BRIDGE__ = '__VUE_I18N_BRIDGE__';

/* eslint-disable @typescript-eslint/no-explicit-any */
/**
 * Transform flat json in obj to normal json in obj
 */
function handleFlatJson(obj) {
  // check obj
  if (!isObject(obj)) {
    return obj;
  }
  for (var key in obj) {
    // check key
    if (!hasOwn(obj, key)) {
      continue;
    }
    // handle for normal json
    if (!key.includes('.')) {
      // recursive process value if value is also a object
      if (isObject(obj[key])) {
        handleFlatJson(obj[key]);
      }
    }
    // handle for flat json, transform to normal json
    else {
      // go to the last object
      var subKeys = key.split('.');
      var lastIndex = subKeys.length - 1;
      var currentObj = obj;
      var hasStringValue = false;
      for (var i = 0; i < lastIndex; i++) {
        if (!(subKeys[i] in currentObj)) {
          currentObj[subKeys[i]] = {};
        }
        if (!isObject(currentObj[subKeys[i]])) {
           false && 0;
          hasStringValue = true;
          break;
        }
        currentObj = currentObj[subKeys[i]];
      }
      // update last object value, delete old property
      if (!hasStringValue) {
        currentObj[subKeys[lastIndex]] = obj[key];
        delete obj[key];
      }
      // recursive process value if value is also a object
      if (isObject(currentObj[subKeys[lastIndex]])) {
        handleFlatJson(currentObj[subKeys[lastIndex]]);
      }
    }
  }
  return obj;
}
function getLocaleMessages(locale, options) {
  var messages = options.messages,
    __i18n = options.__i18n,
    messageResolver = options.messageResolver,
    flatJson = options.flatJson;
  // prettier-ignore
  var ret = shared_isPlainObject(messages) ? messages : shared_isArray(__i18n) ? {} : {
    [locale]: {}
  };
  // merge locale messages of i18n custom block
  if (shared_isArray(__i18n)) {
    __i18n.forEach(function (custom) {
      if ('locale' in custom && 'resource' in custom) {
        var _locale2 = custom.locale,
          resource = custom.resource;
        if (_locale2) {
          ret[_locale2] = ret[_locale2] || {};
          deepCopy(resource, ret[_locale2]);
        } else {
          deepCopy(resource, ret);
        }
      } else {
        shared_isString(custom) && deepCopy(JSON.parse(custom), ret);
      }
    });
  }
  // handle messages for flat json
  if (messageResolver == null && flatJson) {
    for (var key in ret) {
      if (hasOwn(ret, key)) {
        handleFlatJson(ret[key]);
      }
    }
  }
  return ret;
}
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function getComponentOptions(instance) {
  return instance.type;
}
function adjustI18nResources(gl, options, componentOptions // eslint-disable-line @typescript-eslint/no-explicit-any
) {
  var messages = isObject(options.messages) ? options.messages : {};
  if ('__i18nGlobal' in componentOptions) {
    messages = getLocaleMessages(gl.locale.value, {
      messages,
      __i18n: componentOptions.__i18nGlobal
    });
  }
  // merge locale messages
  var locales = Object.keys(messages);
  if (locales.length) {
    locales.forEach(function (locale) {
      gl.mergeLocaleMessage(locale, messages[locale]);
    });
  }
  {
    // merge datetime formats
    if (isObject(options.datetimeFormats)) {
      var _locales = Object.keys(options.datetimeFormats);
      if (_locales.length) {
        _locales.forEach(function (locale) {
          gl.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);
        });
      }
    }
    // merge number formats
    if (isObject(options.numberFormats)) {
      var _locales2 = Object.keys(options.numberFormats);
      if (_locales2.length) {
        _locales2.forEach(function (locale) {
          gl.mergeNumberFormat(locale, options.numberFormats[locale]);
        });
      }
    }
  }
}
function createTextNode(key) {
  return (0,runtime_core_esm_bundler/* createVNode */.Wm)(runtime_core_esm_bundler/* Text */.xv, null, key, 0);
}
/* eslint-enable @typescript-eslint/no-explicit-any */

/* eslint-disable @typescript-eslint/no-explicit-any */
// extend VNode interface
var DEVTOOLS_META = '__INTLIFY_META__';
var NOOP_RETURN_ARRAY = function NOOP_RETURN_ARRAY() {
  return [];
};
var NOOP_RETURN_FALSE = function NOOP_RETURN_FALSE() {
  return false;
};
var composerID = 0;
function defineCoreMissingHandler(missing) {
  return function (ctx, locale, key, type) {
    return missing(locale, key, (0,runtime_core_esm_bundler/* getCurrentInstance */.FN)() || undefined, type);
  };
}
// for Intlify DevTools
/* #__NO_SIDE_EFFECTS__ */
var getMetaInfo = function getMetaInfo() {
  var instance = getCurrentInstance();
  var meta = null; // eslint-disable-line @typescript-eslint/no-explicit-any
  return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META]) ? {
    [DEVTOOLS_META]: meta
  } // eslint-disable-line @typescript-eslint/no-explicit-any
  : null;
};
/**
 * Create composer interface factory
 *
 * @internal
 */
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function createComposer() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var VueI18nLegacy = arguments.length > 1 ? arguments[1] : undefined;
  var __root = options.__root,
    __injectWithOption = options.__injectWithOption;
  var _isGlobal = __root === undefined;
  var flatJson = options.flatJson;
  var _ref = shared_inBrowser ? reactivity_esm_bundler/* ref */.iH : reactivity_esm_bundler/* shallowRef */.XI;
  var _inheritLocale = shared_isBoolean(options.inheritLocale) ? options.inheritLocale : true;
  var _locale = _ref(
  // prettier-ignore
  __root && _inheritLocale ? __root.locale.value : shared_isString(options.locale) ? options.locale : DEFAULT_LOCALE);
  var _fallbackLocale = _ref(
  // prettier-ignore
  __root && _inheritLocale ? __root.fallbackLocale.value : shared_isString(options.fallbackLocale) || shared_isArray(options.fallbackLocale) || shared_isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);
  var _messages = _ref(getLocaleMessages(_locale.value, options));
  // prettier-ignore
  var _datetimeFormats = _ref(shared_isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {
    [_locale.value]: {}
  });
  // prettier-ignore
  var _numberFormats = _ref(shared_isPlainObject(options.numberFormats) ? options.numberFormats : {
    [_locale.value]: {}
  });
  // warning suppress options
  // prettier-ignore
  var _missingWarn = __root ? __root.missingWarn : shared_isBoolean(options.missingWarn) || isRegExp(options.missingWarn) ? options.missingWarn : true;
  // prettier-ignore
  var _fallbackWarn = __root ? __root.fallbackWarn : shared_isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn) ? options.fallbackWarn : true;
  // prettier-ignore
  var _fallbackRoot = __root ? __root.fallbackRoot : shared_isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;
  // configure fall back to root
  var _fallbackFormat = !!options.fallbackFormat;
  // runtime missing
  var _missing = isFunction(options.missing) ? options.missing : null;
  var _runtimeMissing = isFunction(options.missing) ? defineCoreMissingHandler(options.missing) : null;
  // postTranslation handler
  var _postTranslation = isFunction(options.postTranslation) ? options.postTranslation : null;
  // prettier-ignore
  var _warnHtmlMessage = __root ? __root.warnHtmlMessage : shared_isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;
  var _escapeParameter = !!options.escapeParameter;
  // custom linked modifiers
  // prettier-ignore
  var _modifiers = __root ? __root.modifiers : shared_isPlainObject(options.modifiers) ? options.modifiers : {};
  // pluralRules
  var _pluralRules = options.pluralRules || __root && __root.pluralRules;
  // runtime context
  // eslint-disable-next-line prefer-const
  var _context;
  var getCoreContext = function getCoreContext() {
    _isGlobal && setFallbackContext(null);
    var ctxOptions = {
      version: vue_i18n_VERSION,
      locale: _locale.value,
      fallbackLocale: _fallbackLocale.value,
      messages: _messages.value,
      modifiers: _modifiers,
      pluralRules: _pluralRules,
      missing: _runtimeMissing === null ? undefined : _runtimeMissing,
      missingWarn: _missingWarn,
      fallbackWarn: _fallbackWarn,
      fallbackFormat: _fallbackFormat,
      unresolving: true,
      postTranslation: _postTranslation === null ? undefined : _postTranslation,
      warnHtmlMessage: _warnHtmlMessage,
      escapeParameter: _escapeParameter,
      messageResolver: options.messageResolver,
      messageCompiler: options.messageCompiler,
      __meta: {
        framework: 'vue'
      }
    };
    {
      ctxOptions.datetimeFormats = _datetimeFormats.value;
      ctxOptions.numberFormats = _numberFormats.value;
      ctxOptions.__datetimeFormatters = shared_isPlainObject(_context) ? _context.__datetimeFormatters : undefined;
      ctxOptions.__numberFormatters = shared_isPlainObject(_context) ? _context.__numberFormatters : undefined;
    }
    if (false) {}
    var ctx = createCoreContext(ctxOptions);
    _isGlobal && setFallbackContext(ctx);
    return ctx;
  };
  _context = getCoreContext();
  updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
  // track reactivity
  function trackReactivityValues() {
    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];
  }
  // locale
  var locale = (0,runtime_core_esm_bundler/* computed */.Fl)({
    get: function get() {
      return _locale.value;
    },
    set: function set(val) {
      _locale.value = val;
      _context.locale = _locale.value;
    }
  });
  // fallbackLocale
  var fallbackLocale = (0,runtime_core_esm_bundler/* computed */.Fl)({
    get: function get() {
      return _fallbackLocale.value;
    },
    set: function set(val) {
      _fallbackLocale.value = val;
      _context.fallbackLocale = _fallbackLocale.value;
      updateFallbackLocale(_context, _locale.value, val);
    }
  });
  // messages
  var messages = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
    return _messages.value;
  });
  // datetimeFormats
  var datetimeFormats = /* #__PURE__*/(0,runtime_core_esm_bundler/* computed */.Fl)(function () {
    return _datetimeFormats.value;
  });
  // numberFormats
  var numberFormats = /* #__PURE__*/(0,runtime_core_esm_bundler/* computed */.Fl)(function () {
    return _numberFormats.value;
  });
  // getPostTranslationHandler
  function getPostTranslationHandler() {
    return isFunction(_postTranslation) ? _postTranslation : null;
  }
  // setPostTranslationHandler
  function setPostTranslationHandler(handler) {
    _postTranslation = handler;
    _context.postTranslation = handler;
  }
  // getMissingHandler
  function getMissingHandler() {
    return _missing;
  }
  // setMissingHandler
  function setMissingHandler(handler) {
    if (handler !== null) {
      _runtimeMissing = defineCoreMissingHandler(handler);
    }
    _missing = handler;
    _context.missing = _runtimeMissing;
  }
  function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any
  ) {
    return type !== 'translate' || !arg.resolvedMessage;
  }
  var wrapWithDeps = function wrapWithDeps(fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) {
    trackReactivityValues(); // track reactive dependency
    // NOTE: experimental !!
    var ret;
    try {
      if (false) {}
      if (!_isGlobal) {
        _context.fallbackContext = __root ? getFallbackContext() : undefined;
      }
      ret = fn(_context);
    } finally {
      if (false) {}
      if (!_isGlobal) {
        _context.fallbackContext = undefined;
      }
    }
    if (warnType !== 'translate exists' &&
    // for not `te` (e.g `t`)
    shared_isNumber(ret) && ret === NOT_REOSLVED || warnType === 'translate exists' && !ret // for `te`
    ) {
      var _argumentParser = argumentParser(),
        _argumentParser2 = (0,slicedToArray/* default */.Z)(_argumentParser, 2),
        key = _argumentParser2[0],
        arg2 = _argumentParser2[1];
      if (false) { var _context2, emitter; }
      return __root && _fallbackRoot ? fallbackSuccess(__root) : fallbackFail(key);
    } else if (successCondition(ret)) {
      return ret;
    } else {
      /* istanbul ignore next */
      throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);
    }
  };
  // t
  function t() {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    return wrapWithDeps(function (context) {
      return Reflect.apply(translate, null, [context].concat(args));
    }, function () {
      return parseTranslateArgs.apply(void 0, args);
    }, 'translate', function (root) {
      return Reflect.apply(root.t, root, [].concat(args));
    }, function (key) {
      return key;
    }, function (val) {
      return shared_isString(val);
    });
  }
  // rt
  function rt() {
    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }
    var arg1 = args[0],
      arg2 = args[1],
      arg3 = args[2];
    if (arg3 && !isObject(arg3)) {
      throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);
    }
    return t.apply(void 0, [arg1, arg2, shared_assign({
      resolvedMessage: true
    }, arg3 || {})]);
  }
  // d
  function d() {
    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }
    return wrapWithDeps(function (context) {
      return Reflect.apply(datetime, null, [context].concat(args));
    }, function () {
      return parseDateTimeArgs.apply(void 0, args);
    }, 'datetime format', function (root) {
      return Reflect.apply(root.d, root, [].concat(args));
    }, function () {
      return MISSING_RESOLVE_VALUE;
    }, function (val) {
      return shared_isString(val);
    });
  }
  // n
  function n() {
    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
      args[_key6] = arguments[_key6];
    }
    return wrapWithDeps(function (context) {
      return Reflect.apply(number, null, [context].concat(args));
    }, function () {
      return parseNumberArgs.apply(void 0, args);
    }, 'number format', function (root) {
      return Reflect.apply(root.n, root, [].concat(args));
    }, function () {
      return MISSING_RESOLVE_VALUE;
    }, function (val) {
      return shared_isString(val);
    });
  }
  // for custom processor
  function normalize(values) {
    return values.map(function (val) {
      return shared_isString(val) || shared_isNumber(val) || shared_isBoolean(val) ? createTextNode(String(val)) : val;
    });
  }
  var interpolate = function interpolate(val) {
    return val;
  };
  var processor = {
    normalize,
    interpolate,
    type: 'vnode'
  };
  // translateVNode, using for `i18n-t` component
  function translateVNode() {
    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }
    return wrapWithDeps(function (context) {
      var ret;
      var _context = context;
      try {
        _context.processor = processor;
        ret = Reflect.apply(translate, null, [_context].concat(args));
      } finally {
        _context.processor = null;
      }
      return ret;
    }, function () {
      return parseTranslateArgs.apply(void 0, args);
    }, 'translate',
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function (root) {
      return root[TranslateVNodeSymbol].apply(root, args);
    }, function (key) {
      return [createTextNode(key)];
    }, function (val) {
      return shared_isArray(val);
    });
  }
  // numberParts, using for `i18n-n` component
  function numberParts() {
    for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
      args[_key8] = arguments[_key8];
    }
    return wrapWithDeps(function (context) {
      return Reflect.apply(number, null, [context].concat(args));
    }, function () {
      return parseNumberArgs.apply(void 0, args);
    }, 'number format',
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function (root) {
      return root[NumberPartsSymbol].apply(root, args);
    }, NOOP_RETURN_ARRAY, function (val) {
      return shared_isString(val) || shared_isArray(val);
    });
  }
  // datetimeParts, using for `i18n-d` component
  function datetimeParts() {
    for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
      args[_key9] = arguments[_key9];
    }
    return wrapWithDeps(function (context) {
      return Reflect.apply(datetime, null, [context].concat(args));
    }, function () {
      return parseDateTimeArgs.apply(void 0, args);
    }, 'datetime format',
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function (root) {
      return root[DatetimePartsSymbol].apply(root, args);
    }, NOOP_RETURN_ARRAY, function (val) {
      return shared_isString(val) || shared_isArray(val);
    });
  }
  function setPluralRules(rules) {
    _pluralRules = rules;
    _context.pluralRules = _pluralRules;
  }
  // te
  function te(key, locale) {
    return wrapWithDeps(function () {
      if (!key) {
        return false;
      }
      var targetLocale = shared_isString(locale) ? locale : _locale.value;
      var message = getLocaleMessage(targetLocale);
      var resolved = _context.messageResolver(message, key);
      return isMessageAST(resolved) || isMessageFunction(resolved) || shared_isString(resolved);
    }, function () {
      return [key];
    }, 'translate exists', function (root) {
      return Reflect.apply(root.te, root, [key, locale]);
    }, NOOP_RETURN_FALSE, function (val) {
      return shared_isBoolean(val);
    });
  }
  function resolveMessages(key) {
    var messages = null;
    var locales = fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);
    for (var i = 0; i < locales.length; i++) {
      var targetLocaleMessages = _messages.value[locales[i]] || {};
      var messageValue = _context.messageResolver(targetLocaleMessages, key);
      if (messageValue != null) {
        messages = messageValue;
        break;
      }
    }
    return messages;
  }
  // tm
  function tm(key) {
    var messages = resolveMessages(key);
    // prettier-ignore
    return messages != null ? messages : __root ? __root.tm(key) || {} : {};
  }
  // getLocaleMessage
  function getLocaleMessage(locale) {
    return _messages.value[locale] || {};
  }
  // setLocaleMessage
  function setLocaleMessage(locale, message) {
    if (flatJson) {
      var _message = {
        [locale]: message
      };
      for (var key in _message) {
        if (hasOwn(_message, key)) {
          handleFlatJson(_message[key]);
        }
      }
      message = _message[locale];
    }
    _messages.value[locale] = message;
    _context.messages = _messages.value;
  }
  // mergeLocaleMessage
  function mergeLocaleMessage(locale, message) {
    _messages.value[locale] = _messages.value[locale] || {};
    var _message = {
      [locale]: message
    };
    for (var key in _message) {
      if (hasOwn(_message, key)) {
        handleFlatJson(_message[key]);
      }
    }
    message = _message[locale];
    deepCopy(message, _messages.value[locale]);
    _context.messages = _messages.value;
  }
  // getDateTimeFormat
  function getDateTimeFormat(locale) {
    return _datetimeFormats.value[locale] || {};
  }
  // setDateTimeFormat
  function setDateTimeFormat(locale, format) {
    _datetimeFormats.value[locale] = format;
    _context.datetimeFormats = _datetimeFormats.value;
    clearDateTimeFormat(_context, locale, format);
  }
  // mergeDateTimeFormat
  function mergeDateTimeFormat(locale, format) {
    _datetimeFormats.value[locale] = shared_assign(_datetimeFormats.value[locale] || {}, format);
    _context.datetimeFormats = _datetimeFormats.value;
    clearDateTimeFormat(_context, locale, format);
  }
  // getNumberFormat
  function getNumberFormat(locale) {
    return _numberFormats.value[locale] || {};
  }
  // setNumberFormat
  function setNumberFormat(locale, format) {
    _numberFormats.value[locale] = format;
    _context.numberFormats = _numberFormats.value;
    clearNumberFormat(_context, locale, format);
  }
  // mergeNumberFormat
  function mergeNumberFormat(locale, format) {
    _numberFormats.value[locale] = shared_assign(_numberFormats.value[locale] || {}, format);
    _context.numberFormats = _numberFormats.value;
    clearNumberFormat(_context, locale, format);
  }
  // for debug
  composerID++;
  // watch root locale & fallbackLocale
  if (__root && shared_inBrowser) {
    (0,runtime_core_esm_bundler/* watch */.YP)(__root.locale, function (val) {
      if (_inheritLocale) {
        _locale.value = val;
        _context.locale = val;
        updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
      }
    });
    (0,runtime_core_esm_bundler/* watch */.YP)(__root.fallbackLocale, function (val) {
      if (_inheritLocale) {
        _fallbackLocale.value = val;
        _context.fallbackLocale = val;
        updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
      }
    });
  }
  // define basic composition API!
  var composer = {
    id: composerID,
    locale,
    fallbackLocale,
    get inheritLocale() {
      return _inheritLocale;
    },
    set inheritLocale(val) {
      _inheritLocale = val;
      if (val && __root) {
        _locale.value = __root.locale.value;
        _fallbackLocale.value = __root.fallbackLocale.value;
        updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);
      }
    },
    get availableLocales() {
      return Object.keys(_messages.value).sort();
    },
    messages,
    get modifiers() {
      return _modifiers;
    },
    get pluralRules() {
      return _pluralRules || {};
    },
    get isGlobal() {
      return _isGlobal;
    },
    get missingWarn() {
      return _missingWarn;
    },
    set missingWarn(val) {
      _missingWarn = val;
      _context.missingWarn = _missingWarn;
    },
    get fallbackWarn() {
      return _fallbackWarn;
    },
    set fallbackWarn(val) {
      _fallbackWarn = val;
      _context.fallbackWarn = _fallbackWarn;
    },
    get fallbackRoot() {
      return _fallbackRoot;
    },
    set fallbackRoot(val) {
      _fallbackRoot = val;
    },
    get fallbackFormat() {
      return _fallbackFormat;
    },
    set fallbackFormat(val) {
      _fallbackFormat = val;
      _context.fallbackFormat = _fallbackFormat;
    },
    get warnHtmlMessage() {
      return _warnHtmlMessage;
    },
    set warnHtmlMessage(val) {
      _warnHtmlMessage = val;
      _context.warnHtmlMessage = val;
    },
    get escapeParameter() {
      return _escapeParameter;
    },
    set escapeParameter(val) {
      _escapeParameter = val;
      _context.escapeParameter = val;
    },
    t,
    getLocaleMessage,
    setLocaleMessage,
    mergeLocaleMessage,
    getPostTranslationHandler,
    setPostTranslationHandler,
    getMissingHandler,
    setMissingHandler,
    [SetPluralRulesSymbol]: setPluralRules
  };
  {
    composer.datetimeFormats = datetimeFormats;
    composer.numberFormats = numberFormats;
    composer.rt = rt;
    composer.te = te;
    composer.tm = tm;
    composer.d = d;
    composer.n = n;
    composer.getDateTimeFormat = getDateTimeFormat;
    composer.setDateTimeFormat = setDateTimeFormat;
    composer.mergeDateTimeFormat = mergeDateTimeFormat;
    composer.getNumberFormat = getNumberFormat;
    composer.setNumberFormat = setNumberFormat;
    composer.mergeNumberFormat = mergeNumberFormat;
    composer[InejctWithOptionSymbol] = __injectWithOption;
    composer[TranslateVNodeSymbol] = translateVNode;
    composer[DatetimePartsSymbol] = datetimeParts;
    composer[NumberPartsSymbol] = numberParts;
  }
  // for vue-devtools timeline event
  if (false) {}
  return composer;
}
/* eslint-enable @typescript-eslint/no-explicit-any */

/* eslint-disable @typescript-eslint/no-explicit-any */
/**
 * Convert to I18n Composer Options from VueI18n Options
 *
 * @internal
 */
function convertComposerOptions(options) {
  var locale = shared_isString(options.locale) ? options.locale : DEFAULT_LOCALE;
  var fallbackLocale = shared_isString(options.fallbackLocale) || shared_isArray(options.fallbackLocale) || shared_isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : locale;
  var missing = isFunction(options.missing) ? options.missing : undefined;
  var missingWarn = shared_isBoolean(options.silentTranslationWarn) || isRegExp(options.silentTranslationWarn) ? !options.silentTranslationWarn : true;
  var fallbackWarn = shared_isBoolean(options.silentFallbackWarn) || isRegExp(options.silentFallbackWarn) ? !options.silentFallbackWarn : true;
  var fallbackRoot = shared_isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;
  var fallbackFormat = !!options.formatFallbackMessages;
  var modifiers = shared_isPlainObject(options.modifiers) ? options.modifiers : {};
  var pluralizationRules = options.pluralizationRules;
  var postTranslation = isFunction(options.postTranslation) ? options.postTranslation : undefined;
  var warnHtmlMessage = shared_isString(options.warnHtmlInMessage) ? options.warnHtmlInMessage !== 'off' : true;
  var escapeParameter = !!options.escapeParameterHtml;
  var inheritLocale = shared_isBoolean(options.sync) ? options.sync : true;
  if (false) {}
  if (false) {}
  var messages = options.messages;
  if (shared_isPlainObject(options.sharedMessages)) {
    var sharedMessages = options.sharedMessages;
    var locales = Object.keys(sharedMessages);
    messages = locales.reduce(function (messages, locale) {
      var message = messages[locale] || (messages[locale] = {});
      shared_assign(message, sharedMessages[locale]);
      return messages;
    }, messages || {});
  }
  var __i18n = options.__i18n,
    __root = options.__root,
    __injectWithOption = options.__injectWithOption;
  var datetimeFormats = options.datetimeFormats;
  var numberFormats = options.numberFormats;
  var flatJson = options.flatJson;
  return {
    locale,
    fallbackLocale,
    messages,
    flatJson,
    datetimeFormats,
    numberFormats,
    missing,
    missingWarn,
    fallbackWarn,
    fallbackRoot,
    fallbackFormat,
    modifiers,
    pluralRules: pluralizationRules,
    postTranslation,
    warnHtmlMessage,
    escapeParameter,
    messageResolver: options.messageResolver,
    inheritLocale,
    __i18n,
    __root,
    __injectWithOption
  };
}
/**
 * create VueI18n interface factory
 *
 * @internal
 */
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function createVueI18n() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var VueI18nLegacy = arguments.length > 1 ? arguments[1] : undefined;
  {
    var composer = createComposer(convertComposerOptions(options));
    var __extender = options.__extender;
    // defines VueI18n
    var vueI18n = {
      // id
      id: composer.id,
      // locale
      get locale() {
        return composer.locale.value;
      },
      set locale(val) {
        composer.locale.value = val;
      },
      // fallbackLocale
      get fallbackLocale() {
        return composer.fallbackLocale.value;
      },
      set fallbackLocale(val) {
        composer.fallbackLocale.value = val;
      },
      // messages
      get messages() {
        return composer.messages.value;
      },
      // datetimeFormats
      get datetimeFormats() {
        return composer.datetimeFormats.value;
      },
      // numberFormats
      get numberFormats() {
        return composer.numberFormats.value;
      },
      // availableLocales
      get availableLocales() {
        return composer.availableLocales;
      },
      // formatter
      get formatter() {
         false && 0;
        // dummy
        return {
          interpolate() {
            return [];
          }
        };
      },
      set formatter(val) {
         false && 0;
      },
      // missing
      get missing() {
        return composer.getMissingHandler();
      },
      set missing(handler) {
        composer.setMissingHandler(handler);
      },
      // silentTranslationWarn
      get silentTranslationWarn() {
        return shared_isBoolean(composer.missingWarn) ? !composer.missingWarn : composer.missingWarn;
      },
      set silentTranslationWarn(val) {
        composer.missingWarn = shared_isBoolean(val) ? !val : val;
      },
      // silentFallbackWarn
      get silentFallbackWarn() {
        return shared_isBoolean(composer.fallbackWarn) ? !composer.fallbackWarn : composer.fallbackWarn;
      },
      set silentFallbackWarn(val) {
        composer.fallbackWarn = shared_isBoolean(val) ? !val : val;
      },
      // modifiers
      get modifiers() {
        return composer.modifiers;
      },
      // formatFallbackMessages
      get formatFallbackMessages() {
        return composer.fallbackFormat;
      },
      set formatFallbackMessages(val) {
        composer.fallbackFormat = val;
      },
      // postTranslation
      get postTranslation() {
        return composer.getPostTranslationHandler();
      },
      set postTranslation(handler) {
        composer.setPostTranslationHandler(handler);
      },
      // sync
      get sync() {
        return composer.inheritLocale;
      },
      set sync(val) {
        composer.inheritLocale = val;
      },
      // warnInHtmlMessage
      get warnHtmlInMessage() {
        return composer.warnHtmlMessage ? 'warn' : 'off';
      },
      set warnHtmlInMessage(val) {
        composer.warnHtmlMessage = val !== 'off';
      },
      // escapeParameterHtml
      get escapeParameterHtml() {
        return composer.escapeParameter;
      },
      set escapeParameterHtml(val) {
        composer.escapeParameter = val;
      },
      // preserveDirectiveContent
      get preserveDirectiveContent() {
         false && 0;
        return true;
      },
      set preserveDirectiveContent(val) {
         false && 0;
      },
      // pluralizationRules
      get pluralizationRules() {
        return composer.pluralRules || {};
      },
      // for internal
      __composer: composer,
      // t
      t() {
        for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {
          args[_key10] = arguments[_key10];
        }
        var arg1 = args[0],
          arg2 = args[1],
          arg3 = args[2];
        var options = {};
        var list = null;
        var named = null;
        if (!shared_isString(arg1)) {
          throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);
        }
        var key = arg1;
        if (shared_isString(arg2)) {
          options.locale = arg2;
        } else if (shared_isArray(arg2)) {
          list = arg2;
        } else if (shared_isPlainObject(arg2)) {
          named = arg2;
        }
        if (shared_isArray(arg3)) {
          list = arg3;
        } else if (shared_isPlainObject(arg3)) {
          named = arg3;
        }
        // return composer.t(key, (list || named || {}) as any, options)
        return Reflect.apply(composer.t, composer, [key, list || named || {}, options]);
      },
      rt() {
        for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
          args[_key11] = arguments[_key11];
        }
        return Reflect.apply(composer.rt, composer, [].concat(args));
      },
      // tc
      tc() {
        for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {
          args[_key12] = arguments[_key12];
        }
        var arg1 = args[0],
          arg2 = args[1],
          arg3 = args[2];
        var options = {
          plural: 1
        };
        var list = null;
        var named = null;
        if (!shared_isString(arg1)) {
          throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);
        }
        var key = arg1;
        if (shared_isString(arg2)) {
          options.locale = arg2;
        } else if (shared_isNumber(arg2)) {
          options.plural = arg2;
        } else if (shared_isArray(arg2)) {
          list = arg2;
        } else if (shared_isPlainObject(arg2)) {
          named = arg2;
        }
        if (shared_isString(arg3)) {
          options.locale = arg3;
        } else if (shared_isArray(arg3)) {
          list = arg3;
        } else if (shared_isPlainObject(arg3)) {
          named = arg3;
        }
        // return composer.t(key, (list || named || {}) as any, options)
        return Reflect.apply(composer.t, composer, [key, list || named || {}, options]);
      },
      // te
      te(key, locale) {
        return composer.te(key, locale);
      },
      // tm
      tm(key) {
        return composer.tm(key);
      },
      // getLocaleMessage
      getLocaleMessage(locale) {
        return composer.getLocaleMessage(locale);
      },
      // setLocaleMessage
      setLocaleMessage(locale, message) {
        composer.setLocaleMessage(locale, message);
      },
      // mergeLocaleMessage
      mergeLocaleMessage(locale, message) {
        composer.mergeLocaleMessage(locale, message);
      },
      // d
      d() {
        for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {
          args[_key13] = arguments[_key13];
        }
        return Reflect.apply(composer.d, composer, [].concat(args));
      },
      // getDateTimeFormat
      getDateTimeFormat(locale) {
        return composer.getDateTimeFormat(locale);
      },
      // setDateTimeFormat
      setDateTimeFormat(locale, format) {
        composer.setDateTimeFormat(locale, format);
      },
      // mergeDateTimeFormat
      mergeDateTimeFormat(locale, format) {
        composer.mergeDateTimeFormat(locale, format);
      },
      // n
      n() {
        for (var _len14 = arguments.length, args = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {
          args[_key14] = arguments[_key14];
        }
        return Reflect.apply(composer.n, composer, [].concat(args));
      },
      // getNumberFormat
      getNumberFormat(locale) {
        return composer.getNumberFormat(locale);
      },
      // setNumberFormat
      setNumberFormat(locale, format) {
        composer.setNumberFormat(locale, format);
      },
      // mergeNumberFormat
      mergeNumberFormat(locale, format) {
        composer.mergeNumberFormat(locale, format);
      },
      // getChoiceIndex
      // eslint-disable-next-line @typescript-eslint/no-unused-vars
      getChoiceIndex(choice, choicesLength) {
         false && 0;
        return -1;
      }
    };
    vueI18n.__extender = __extender;
    // for vue-devtools timeline event
    if (false) {}
    return vueI18n;
  }
}
/* eslint-enable @typescript-eslint/no-explicit-any */

var baseFormatProps = {
  tag: {
    type: [String, Object]
  },
  locale: {
    type: String
  },
  scope: {
    type: String,
    // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050
    validator: function validator(val /* ComponentI18nScope */) {
      return val === 'parent' || val === 'global';
    },
    default: 'parent' /* ComponentI18nScope */
  },
  i18n: {
    type: Object
  }
};
function getInterpolateArg( // eslint-disable-next-line @typescript-eslint/no-explicit-any
_ref2,
// SetupContext,
keys) {
  var slots = _ref2.slots;
  if (keys.length === 1 && keys[0] === 'default') {
    // default slot with list
    var ret = slots.default ? slots.default() : [];
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    return ret.reduce(function (slot, current) {
      return [].concat((0,toConsumableArray/* default */.Z)(slot), (0,toConsumableArray/* default */.Z)(current.type === runtime_core_esm_bundler/* Fragment */.HY ? current.children : [current]));
    }, []);
  } else {
    // named slots
    return keys.reduce(function (arg, key) {
      var slot = slots[key];
      if (slot) {
        arg[key] = slot();
      }
      return arg;
    }, {});
  }
}
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function getFragmentableTag(tag) {
  return runtime_core_esm_bundler/* Fragment */.HY;
}
var TranslationImpl = /*#__PURE__*/(0,runtime_core_esm_bundler/* defineComponent */.aZ)({
  /* eslint-disable */
  name: 'i18n-t',
  props: shared_assign({
    keypath: {
      type: String,
      required: true
    },
    plural: {
      type: [Number, String],
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      validator: function validator(val) {
        return shared_isNumber(val) || !isNaN(val);
      }
    }
  }, baseFormatProps),
  /* eslint-enable */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  setup(props, context) {
    var slots = context.slots,
      attrs = context.attrs;
    // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050
    var i18n = props.i18n || useI18n({
      useScope: props.scope,
      __useComponent: true
    });
    return function () {
      var keys = Object.keys(slots).filter(function (key) {
        return key !== '_';
      });
      var options = {};
      if (props.locale) {
        options.locale = props.locale;
      }
      if (props.plural !== undefined) {
        options.plural = shared_isString(props.plural) ? +props.plural : props.plural;
      }
      var arg = getInterpolateArg(context, keys);
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      var children = i18n[TranslateVNodeSymbol](props.keypath, arg, options);
      var assignedAttrs = shared_assign({}, attrs);
      var tag = shared_isString(props.tag) || isObject(props.tag) ? props.tag : getFragmentableTag();
      return (0,runtime_core_esm_bundler.h)(tag, assignedAttrs, children);
    };
  }
});
/**
 * export the public type for h/tsx inference
 * also to avoid inline import() in generated d.ts files
 */
/**
 * Translation Component
 *
 * @remarks
 * See the following items for property about details
 *
 * @VueI18nSee [TranslationProps](component#translationprops)
 * @VueI18nSee [BaseFormatProps](component#baseformatprops)
 * @VueI18nSee [Component Interpolation](../guide/advanced/component)
 *
 * @example
 * ```html
 * <div id="app">
 *   <!-- ... -->
 *   <i18n keypath="term" tag="label" for="tos">
 *     <a :href="url" target="_blank">{{ $t('tos') }}</a>
 *   </i18n>
 *   <!-- ... -->
 * </div>
 * ```
 * ```js
 * import { createApp } from 'vue'
 * import { createI18n } from 'vue-i18n'
 *
 * const messages = {
 *   en: {
 *     tos: 'Term of Service',
 *     term: 'I accept xxx {0}.'
 *   },
 *   ja: {
 *     tos: '',
 *     term: ' xxx {0}'
 *   }
 * }
 *
 * const i18n = createI18n({
 *   locale: 'en',
 *   messages
 * })
 *
 * const app = createApp({
 *   data: {
 *     url: '/term'
 *   }
 * }).use(i18n).mount('#app')
 * ```
 *
 * @VueI18nComponent
 */
var Translation = (/* unused pure expression or super */ null && (TranslationImpl));
var I18nT = (/* unused pure expression or super */ null && (Translation));
function isVNode(target) {
  return shared_isArray(target) && !shared_isString(target[0]);
}
function renderFormatter(props, context, slotKeys, partFormatter) {
  var slots = context.slots,
    attrs = context.attrs;
  return function () {
    var options = {
      part: true
    };
    var overrides = {};
    if (props.locale) {
      options.locale = props.locale;
    }
    if (shared_isString(props.format)) {
      options.key = props.format;
    } else if (isObject(props.format)) {
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      if (shared_isString(props.format.key)) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        options.key = props.format.key;
      }
      // Filter out number format options only
      overrides = Object.keys(props.format).reduce(function (options, prop) {
        return slotKeys.includes(prop) ? shared_assign({}, options, {
          [prop]: props.format[prop]
        }) // eslint-disable-line @typescript-eslint/no-explicit-any
        : options;
      }, {});
    }
    var parts = partFormatter.apply(void 0, [props.value, options, overrides]);
    var children = [options.key];
    if (shared_isArray(parts)) {
      children = parts.map(function (part, index) {
        var slot = slots[part.type];
        var node = slot ? slot({
          [part.type]: part.value,
          index,
          parts
        }) : [part.value];
        if (isVNode(node)) {
          node[0].key = `${part.type}-${index}`;
        }
        return node;
      });
    } else if (shared_isString(parts)) {
      children = [parts];
    }
    var assignedAttrs = shared_assign({}, attrs);
    var tag = shared_isString(props.tag) || isObject(props.tag) ? props.tag : getFragmentableTag();
    return (0,runtime_core_esm_bundler.h)(tag, assignedAttrs, children);
  };
}
var NumberFormatImpl = /*#__PURE__*/(0,runtime_core_esm_bundler/* defineComponent */.aZ)({
  /* eslint-disable */
  name: 'i18n-n',
  props: shared_assign({
    value: {
      type: Number,
      required: true
    },
    format: {
      type: [String, Object]
    }
  }, baseFormatProps),
  /* eslint-enable */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  setup(props, context) {
    var i18n = props.i18n || useI18n({
      useScope: 'parent',
      __useComponent: true
    });
    return renderFormatter(props, context, NUMBER_FORMAT_OPTIONS_KEYS, function () {
      return (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        i18n[NumberPartsSymbol].apply(i18n, arguments)
      );
    });
  }
});
/**
 * export the public type for h/tsx inference
 * also to avoid inline import() in generated d.ts files
 */
/**
 * Number Format Component
 *
 * @remarks
 * See the following items for property about details
 *
 * @VueI18nSee [FormattableProps](component#formattableprops)
 * @VueI18nSee [BaseFormatProps](component#baseformatprops)
 * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)
 *
 * @VueI18nDanger
 * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)
 *
 * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)
 *
 * @VueI18nComponent
 */
var NumberFormat = (/* unused pure expression or super */ null && (NumberFormatImpl));
var I18nN = (/* unused pure expression or super */ null && (NumberFormat));
var DatetimeFormatImpl = /* #__PURE__*/(0,runtime_core_esm_bundler/* defineComponent */.aZ)({
  /* eslint-disable */
  name: 'i18n-d',
  props: shared_assign({
    value: {
      type: [Number, Date],
      required: true
    },
    format: {
      type: [String, Object]
    }
  }, baseFormatProps),
  /* eslint-enable */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  setup(props, context) {
    var i18n = props.i18n || useI18n({
      useScope: 'parent',
      __useComponent: true
    });
    return renderFormatter(props, context, DATETIME_FORMAT_OPTIONS_KEYS, function () {
      return (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        i18n[DatetimePartsSymbol].apply(i18n, arguments)
      );
    });
  }
});
/**
 * Datetime Format Component
 *
 * @remarks
 * See the following items for property about details
 *
 * @VueI18nSee [FormattableProps](component#formattableprops)
 * @VueI18nSee [BaseFormatProps](component#baseformatprops)
 * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)
 *
 * @VueI18nDanger
 * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)
 *
 * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)
 *
 * @VueI18nComponent
 */
var DatetimeFormat = (/* unused pure expression or super */ null && (DatetimeFormatImpl));
var I18nD = (/* unused pure expression or super */ null && (DatetimeFormat));
function getComposer$2(i18n, instance) {
  var i18nInternal = i18n;
  if (i18n.mode === 'composition') {
    return i18nInternal.__getInstance(instance) || i18n.global;
  } else {
    var vueI18n = i18nInternal.__getInstance(instance);
    return vueI18n != null ? vueI18n.__composer : i18n.global.__composer;
  }
}
function vTDirective(i18n) {
  var _process = function _process(binding) {
    var instance = binding.instance,
      modifiers = binding.modifiers,
      value = binding.value;
    /* istanbul ignore if */
    if (!instance || !instance.$) {
      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
    }
    var composer = getComposer$2(i18n, instance.$);
    if (false) {}
    var parsedValue = parseValue(value);
    return [Reflect.apply(composer.t, composer, _toConsumableArray(makeParams(parsedValue))), composer];
  };
  var register = function register(el, binding) {
    var _process2 = _process(binding),
      _process3 = _slicedToArray(_process2, 2),
      textContent = _process3[0],
      composer = _process3[1];
    if (inBrowser && i18n.global === composer) {
      // global scope only
      el.__i18nWatcher = watch(composer.locale, function () {
        binding.instance && binding.instance.$forceUpdate();
      });
    }
    el.__composer = composer;
    el.textContent = textContent;
  };
  var unregister = function unregister(el) {
    if (inBrowser && el.__i18nWatcher) {
      el.__i18nWatcher();
      el.__i18nWatcher = undefined;
      delete el.__i18nWatcher;
    }
    if (el.__composer) {
      el.__composer = undefined;
      delete el.__composer;
    }
  };
  var update = function update(el, _ref3) {
    var value = _ref3.value;
    if (el.__composer) {
      var composer = el.__composer;
      var parsedValue = parseValue(value);
      el.textContent = Reflect.apply(composer.t, composer, _toConsumableArray(makeParams(parsedValue)));
    }
  };
  var getSSRProps = function getSSRProps(binding) {
    var _process4 = _process(binding),
      _process5 = _slicedToArray(_process4, 1),
      textContent = _process5[0];
    return {
      textContent
    };
  };
  return {
    created: register,
    unmounted: unregister,
    beforeUpdate: update,
    getSSRProps
  };
}
function parseValue(value) {
  if (isString(value)) {
    return {
      path: value
    };
  } else if (isPlainObject(value)) {
    if (!('path' in value)) {
      throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');
    }
    return value;
  } else {
    throw createI18nError(I18nErrorCodes.INVALID_VALUE);
  }
}
function makeParams(value) {
  var path = value.path,
    locale = value.locale,
    args = value.args,
    choice = value.choice,
    plural = value.plural;
  var options = {};
  var named = args || {};
  if (isString(locale)) {
    options.locale = locale;
  }
  if (isNumber(choice)) {
    options.plural = choice;
  }
  if (isNumber(plural)) {
    options.plural = plural;
  }
  return [path, named, options];
}
function apply(app, i18n) {
  var pluginOptions = isPlainObject(arguments.length <= 2 ? undefined : arguments[2]) ? arguments.length <= 2 ? undefined : arguments[2] : {};
  var useI18nComponentName = !!pluginOptions.useI18nComponentName;
  var globalInstall = isBoolean(pluginOptions.globalInstall) ? pluginOptions.globalInstall : true;
  if (false) {}
  if (globalInstall) {
    [!useI18nComponentName ? Translation.name : 'i18n', 'I18nT'].forEach(function (name) {
      return app.component(name, Translation);
    });
    [NumberFormat.name, 'I18nN'].forEach(function (name) {
      return app.component(name, NumberFormat);
    });
    [DatetimeFormat.name, 'I18nD'].forEach(function (name) {
      return app.component(name, DatetimeFormat);
    });
  }
  // install directive
  {
    app.directive('t', vTDirective(i18n));
  }
}
var VueDevToolsLabels = {
  ["vue-devtools-plugin-vue-i18n" /* VueDevToolsIDs.PLUGIN */]: 'Vue I18n devtools',
  ["vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */]: 'I18n Resources',
  ["vue-i18n-timeline" /* VueDevToolsIDs.TIMELINE */]: 'Vue I18n'
};
var VueDevToolsPlaceholders = {
  ["vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */]: 'Search for scopes ...'
};
var VueDevToolsTimelineColors = {
  ["vue-i18n-timeline" /* VueDevToolsIDs.TIMELINE */]: 0xffcd19
};
var VUE_I18N_COMPONENT_TYPES = 'vue-i18n: composer properties';
var devtoolsApi;
function enableDevTools(_x, _x2) {
  return _enableDevTools.apply(this, arguments);
} // eslint-disable-next-line @typescript-eslint/no-explicit-any
function _enableDevTools() {
  _enableDevTools = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee3(app, i18n) {
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee3$(_context5) {
      while (1) switch (_context5.prev = _context5.next) {
        case 0:
          return _context5.abrupt("return", new Promise(function (resolve, reject) {
            try {
              setupDevtoolsPlugin({
                id: "vue-devtools-plugin-vue-i18n" /* VueDevToolsIDs.PLUGIN */,
                label: VueDevToolsLabels["vue-devtools-plugin-vue-i18n" /* VueDevToolsIDs.PLUGIN */],
                packageName: 'vue-i18n',
                homepage: 'https://vue-i18n.intlify.dev',
                logo: 'https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png',
                componentStateTypes: [VUE_I18N_COMPONENT_TYPES],
                app: app // eslint-disable-line @typescript-eslint/no-explicit-any
              }, function (api) {
                devtoolsApi = api;
                api.on.visitComponentTree(function (_ref4) {
                  var componentInstance = _ref4.componentInstance,
                    treeNode = _ref4.treeNode;
                  updateComponentTreeTags(componentInstance, treeNode, i18n);
                });
                api.on.inspectComponent(function (_ref5) {
                  var componentInstance = _ref5.componentInstance,
                    instanceData = _ref5.instanceData;
                  if (componentInstance.vnode.el && componentInstance.vnode.el.__VUE_I18N__ && instanceData) {
                    if (i18n.mode === 'legacy') {
                      // ignore global scope on legacy mode
                      if (componentInstance.vnode.el.__VUE_I18N__ !== i18n.global.__composer) {
                        inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);
                      }
                    } else {
                      inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);
                    }
                  }
                });
                api.addInspector({
                  id: "vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */,
                  label: VueDevToolsLabels["vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */],
                  icon: 'language',
                  treeFilterPlaceholder: VueDevToolsPlaceholders["vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */]
                });
                api.on.getInspectorTree(function (payload) {
                  if (payload.app === app && payload.inspectorId === "vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */) {
                    registerScope(payload, i18n);
                  }
                });
                var roots = new Map();
                api.on.getInspectorState( /*#__PURE__*/function () {
                  var _ref6 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2(payload) {
                    var _yield$api$getCompone, _yield$api$getCompone2, root, instance;
                    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context4) {
                      while (1) switch (_context4.prev = _context4.next) {
                        case 0:
                          if (!(payload.app === app && payload.inspectorId === "vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */)) {
                            _context4.next = 16;
                            break;
                          }
                          api.unhighlightElement();
                          inspectScope(payload, i18n);
                          if (!(payload.nodeId === 'global')) {
                            _context4.next = 14;
                            break;
                          }
                          if (roots.has(payload.app)) {
                            _context4.next = 11;
                            break;
                          }
                          _context4.next = 7;
                          return api.getComponentInstances(payload.app);
                        case 7:
                          _yield$api$getCompone = _context4.sent;
                          _yield$api$getCompone2 = (0,slicedToArray/* default */.Z)(_yield$api$getCompone, 1);
                          root = _yield$api$getCompone2[0];
                          roots.set(payload.app, root);
                        case 11:
                          api.highlightElement(roots.get(payload.app));
                          _context4.next = 16;
                          break;
                        case 14:
                          instance = getComponentInstance(payload.nodeId, i18n);
                          instance && api.highlightElement(instance);
                        case 16:
                        case "end":
                          return _context4.stop();
                      }
                    }, _callee2);
                  }));
                  return function (_x3) {
                    return _ref6.apply(this, arguments);
                  };
                }());
                api.on.editInspectorState(function (payload) {
                  if (payload.app === app && payload.inspectorId === "vue-i18n-resource-inspector" /* VueDevToolsIDs.CUSTOM_INSPECTOR */) {
                    editScope(payload, i18n);
                  }
                });
                api.addTimelineLayer({
                  id: "vue-i18n-timeline" /* VueDevToolsIDs.TIMELINE */,
                  label: VueDevToolsLabels["vue-i18n-timeline" /* VueDevToolsIDs.TIMELINE */],
                  color: VueDevToolsTimelineColors["vue-i18n-timeline" /* VueDevToolsIDs.TIMELINE */]
                });
                resolve(true);
              });
            } catch (e) {
              console.error(e);
              reject(false);
            }
          }));
        case 1:
        case "end":
          return _context5.stop();
      }
    }, _callee3);
  }));
  return _enableDevTools.apply(this, arguments);
}
function getI18nScopeLable(instance) {
  return instance.type.name || instance.type.displayName || instance.type.__file || 'Anonymous';
}
function updateComponentTreeTags(instance,
// eslint-disable-line @typescript-eslint/no-explicit-any
treeNode, i18n) {
  // prettier-ignore
  var global = i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;
  if (instance && instance.vnode.el && instance.vnode.el.__VUE_I18N__) {
    // add custom tags local scope only
    if (instance.vnode.el.__VUE_I18N__ !== global) {
      var tag = {
        label: `i18n (${getI18nScopeLable(instance)} Scope)`,
        textColor: 0x000000,
        backgroundColor: 0xffcd19
      };
      treeNode.tags.push(tag);
    }
  }
}
function inspectComposer(instanceData, composer) {
  var type = VUE_I18N_COMPONENT_TYPES;
  instanceData.state.push({
    type,
    key: 'locale',
    editable: true,
    value: composer.locale.value
  });
  instanceData.state.push({
    type,
    key: 'availableLocales',
    editable: false,
    value: composer.availableLocales
  });
  instanceData.state.push({
    type,
    key: 'fallbackLocale',
    editable: true,
    value: composer.fallbackLocale.value
  });
  instanceData.state.push({
    type,
    key: 'inheritLocale',
    editable: true,
    value: composer.inheritLocale
  });
  instanceData.state.push({
    type,
    key: 'messages',
    editable: false,
    value: getLocaleMessageValue(composer.messages.value)
  });
  {
    instanceData.state.push({
      type,
      key: 'datetimeFormats',
      editable: false,
      value: composer.datetimeFormats.value
    });
    instanceData.state.push({
      type,
      key: 'numberFormats',
      editable: false,
      value: composer.numberFormats.value
    });
  }
}
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function getLocaleMessageValue(messages) {
  var value = {};
  Object.keys(messages).forEach(function (key) {
    var v = messages[key];
    if (isFunction(v) && 'source' in v) {
      value[key] = getMessageFunctionDetails(v);
    } else if (isMessageAST(v) && v.loc && v.loc.source) {
      value[key] = v.loc.source;
    } else if (isObject(v)) {
      value[key] = getLocaleMessageValue(v);
    } else {
      value[key] = v;
    }
  });
  return value;
}
var ESC = {
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  '&': '&amp;'
};
function vue_i18n_escape(s) {
  return s.replace(/[<>"&]/g, escapeChar);
}
function escapeChar(a) {
  return ESC[a] || a;
}
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function getMessageFunctionDetails(func) {
  var argString = func.source ? `("${vue_i18n_escape(func.source)}")` : `(?)`;
  return {
    _custom: {
      type: 'function',
      display: `<span></span> ${argString}`
    }
  };
}
function registerScope(payload, i18n) {
  payload.rootNodes.push({
    id: 'global',
    label: 'Global Scope'
  });
  // prettier-ignore
  var global = i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;
  var _iterator = (0,createForOfIteratorHelper/* default */.Z)(i18n.__instances),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var _step$value = (0,slicedToArray/* default */.Z)(_step.value, 2),
        keyInstance = _step$value[0],
        instance = _step$value[1];
      // prettier-ignore
      var composer = i18n.mode === 'composition' ? instance : instance.__composer;
      if (global === composer) {
        continue;
      }
      payload.rootNodes.push({
        id: composer.id.toString(),
        label: `${getI18nScopeLable(keyInstance)} Scope`
      });
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
}
function getComponentInstance(nodeId, i18n) {
  var instance = null;
  if (nodeId !== 'global') {
    var _iterator2 = (0,createForOfIteratorHelper/* default */.Z)(i18n.__instances.entries()),
      _step2;
    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var _step2$value = (0,slicedToArray/* default */.Z)(_step2.value, 2),
          component = _step2$value[0],
          composer = _step2$value[1];
        if (composer.id.toString() === nodeId) {
          instance = component;
          break;
        }
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
  }
  return instance;
}
function getComposer$1(nodeId, i18n) {
  if (nodeId === 'global') {
    return i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;
  } else {
    var instance = Array.from(i18n.__instances.values()).find(function (item) {
      return item.id.toString() === nodeId;
    });
    if (instance) {
      return i18n.mode === 'composition' ? instance : instance.__composer;
    } else {
      return null;
    }
  }
}
function inspectScope(payload, i18n
// eslint-disable-next-line @typescript-eslint/no-explicit-any
) {
  var composer = getComposer$1(payload.nodeId, i18n);
  if (composer) {
    // TODO:
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    payload.state = makeScopeInspectState(composer);
  }
  return null;
}
function makeScopeInspectState(composer) {
  var state = {};
  var localeType = 'Locale related info';
  var localeStates = [{
    type: localeType,
    key: 'locale',
    editable: true,
    value: composer.locale.value
  }, {
    type: localeType,
    key: 'fallbackLocale',
    editable: true,
    value: composer.fallbackLocale.value
  }, {
    type: localeType,
    key: 'availableLocales',
    editable: false,
    value: composer.availableLocales
  }, {
    type: localeType,
    key: 'inheritLocale',
    editable: true,
    value: composer.inheritLocale
  }];
  state[localeType] = localeStates;
  var localeMessagesType = 'Locale messages info';
  var localeMessagesStates = [{
    type: localeMessagesType,
    key: 'messages',
    editable: false,
    value: getLocaleMessageValue(composer.messages.value)
  }];
  state[localeMessagesType] = localeMessagesStates;
  {
    var datetimeFormatsType = 'Datetime formats info';
    var datetimeFormatsStates = [{
      type: datetimeFormatsType,
      key: 'datetimeFormats',
      editable: false,
      value: composer.datetimeFormats.value
    }];
    state[datetimeFormatsType] = datetimeFormatsStates;
    var numberFormatsType = 'Datetime formats info';
    var numberFormatsStates = [{
      type: numberFormatsType,
      key: 'numberFormats',
      editable: false,
      value: composer.numberFormats.value
    }];
    state[numberFormatsType] = numberFormatsStates;
  }
  return state;
}
function addTimelineEvent(event, payload) {
  if (devtoolsApi) {
    var groupId;
    if (payload && 'groupId' in payload) {
      groupId = payload.groupId;
      delete payload.groupId;
    }
    devtoolsApi.addTimelineEvent({
      layerId: "vue-i18n-timeline" /* VueDevToolsIDs.TIMELINE */,
      event: {
        title: event,
        groupId,
        time: Date.now(),
        meta: {},
        data: payload || {},
        logType: event === "compile-error" /* VueDevToolsTimelineEvents.COMPILE_ERROR */ ? 'error' : event === "fallback" /* VueDevToolsTimelineEvents.FALBACK */ || event === "missing" /* VueDevToolsTimelineEvents.MISSING */ ? 'warning' : 'default'
      }
    });
  }
}
function editScope(payload, i18n) {
  var composer = getComposer$1(payload.nodeId, i18n);
  if (composer) {
    var _payload$path = (0,slicedToArray/* default */.Z)(payload.path, 1),
      field = _payload$path[0];
    if (field === 'locale' && shared_isString(payload.state.value)) {
      composer.locale.value = payload.state.value;
    } else if (field === 'fallbackLocale' && (shared_isString(payload.state.value) || shared_isArray(payload.state.value) || isObject(payload.state.value))) {
      composer.fallbackLocale.value = payload.state.value;
    } else if (field === 'inheritLocale' && shared_isBoolean(payload.state.value)) {
      composer.inheritLocale = payload.state.value;
    }
  }
}

/**
 * Supports compatibility for legacy vue-i18n APIs
 * This mixin is used when we use vue-i18n@v9.x or later
 */
function defineMixin(vuei18n, composer, i18n) {
  return {
    beforeCreate() {
      var _this = this;
      var instance = (0,runtime_core_esm_bundler/* getCurrentInstance */.FN)();
      /* istanbul ignore if */
      if (!instance) {
        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
      }
      var options = this.$options;
      if (options.i18n) {
        var optionsI18n = options.i18n;
        if (options.__i18n) {
          optionsI18n.__i18n = options.__i18n;
        }
        optionsI18n.__root = composer;
        if (this === this.$root) {
          // merge option and gttach global
          this.$i18n = mergeToGlobal(vuei18n, optionsI18n);
        } else {
          optionsI18n.__injectWithOption = true;
          optionsI18n.__extender = i18n.__vueI18nExtend;
          // atttach local VueI18n instance
          this.$i18n = createVueI18n(optionsI18n);
          // extend VueI18n instance
          var _vueI18n = this.$i18n;
          if (_vueI18n.__extender) {
            _vueI18n.__disposer = _vueI18n.__extender(this.$i18n);
          }
        }
      } else if (options.__i18n) {
        if (this === this.$root) {
          // merge option and gttach global
          this.$i18n = mergeToGlobal(vuei18n, options);
        } else {
          // atttach local VueI18n instance
          this.$i18n = createVueI18n({
            __i18n: options.__i18n,
            __injectWithOption: true,
            __extender: i18n.__vueI18nExtend,
            __root: composer
          });
          // extend VueI18n instance
          var _vueI18n2 = this.$i18n;
          if (_vueI18n2.__extender) {
            _vueI18n2.__disposer = _vueI18n2.__extender(this.$i18n);
          }
        }
      } else {
        // attach global VueI18n instance
        this.$i18n = vuei18n;
      }
      if (options.__i18nGlobal) {
        adjustI18nResources(composer, options, options);
      }
      // defines vue-i18n legacy APIs
      this.$t = function () {
        var _this$$i18n;
        return (_this$$i18n = _this.$i18n).t.apply(_this$$i18n, arguments);
      };
      this.$rt = function () {
        var _this$$i18n2;
        return (_this$$i18n2 = _this.$i18n).rt.apply(_this$$i18n2, arguments);
      };
      this.$tc = function () {
        var _this$$i18n3;
        return (_this$$i18n3 = _this.$i18n).tc.apply(_this$$i18n3, arguments);
      };
      this.$te = function (key, locale) {
        return _this.$i18n.te(key, locale);
      };
      this.$d = function () {
        var _this$$i18n4;
        return (_this$$i18n4 = _this.$i18n).d.apply(_this$$i18n4, arguments);
      };
      this.$n = function () {
        var _this$$i18n5;
        return (_this$$i18n5 = _this.$i18n).n.apply(_this$$i18n5, arguments);
      };
      this.$tm = function (key) {
        return _this.$i18n.tm(key);
      };
      i18n.__setInstance(instance, this.$i18n);
    },
    mounted() {
      /* istanbul ignore if */
      if (false) { var emitter, _vueI18n; }
    },
    unmounted() {
      var instance = (0,runtime_core_esm_bundler/* getCurrentInstance */.FN)();
      /* istanbul ignore if */
      if (!instance) {
        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
      }
      var _vueI18n = this.$i18n;
      /* istanbul ignore if */
      if (false) {}
      delete this.$t;
      delete this.$rt;
      delete this.$tc;
      delete this.$te;
      delete this.$d;
      delete this.$n;
      delete this.$tm;
      if (_vueI18n.__disposer) {
        _vueI18n.__disposer();
        delete _vueI18n.__disposer;
        delete _vueI18n.__extender;
      }
      i18n.__deleteInstance(instance);
      delete this.$i18n;
    }
  };
}
function mergeToGlobal(g, options) {
  g.locale = options.locale || g.locale;
  g.fallbackLocale = options.fallbackLocale || g.fallbackLocale;
  g.missing = options.missing || g.missing;
  g.silentTranslationWarn = options.silentTranslationWarn || g.silentFallbackWarn;
  g.silentFallbackWarn = options.silentFallbackWarn || g.silentFallbackWarn;
  g.formatFallbackMessages = options.formatFallbackMessages || g.formatFallbackMessages;
  g.postTranslation = options.postTranslation || g.postTranslation;
  g.warnHtmlInMessage = options.warnHtmlInMessage || g.warnHtmlInMessage;
  g.escapeParameterHtml = options.escapeParameterHtml || g.escapeParameterHtml;
  g.sync = options.sync || g.sync;
  g.__composer[SetPluralRulesSymbol](options.pluralizationRules || g.pluralizationRules);
  var messages = getLocaleMessages(g.locale, {
    messages: options.messages,
    __i18n: options.__i18n
  });
  Object.keys(messages).forEach(function (locale) {
    return g.mergeLocaleMessage(locale, messages[locale]);
  });
  if (options.datetimeFormats) {
    Object.keys(options.datetimeFormats).forEach(function (locale) {
      return g.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);
    });
  }
  if (options.numberFormats) {
    Object.keys(options.numberFormats).forEach(function (locale) {
      return g.mergeNumberFormat(locale, options.numberFormats[locale]);
    });
  }
  return g;
}

/**
 * Injection key for {@link useI18n}
 *
 * @remarks
 * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.
 * Specify the i18n instance created by {@link createI18n} together with `provide` function.
 *
 * @VueI18nGeneral
 */
var I18nInjectionKey = /* #__PURE__*/shared_makeSymbol('global-vue-i18n');
// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types
function createI18n() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var VueI18nLegacy = arguments.length > 1 ? arguments[1] : undefined;
  // prettier-ignore
  var __legacyMode =  true && shared_isBoolean(options.legacy) ? options.legacy : true;
  // prettier-ignore
  var __globalInjection = shared_isBoolean(options.globalInjection) ? options.globalInjection : true;
  // prettier-ignore
  var __allowComposition =  true && __legacyMode ? !!options.allowComposition : true;
  var __instances = new Map();
  var _createGlobal = createGlobal(options, __legacyMode),
    _createGlobal2 = (0,slicedToArray/* default */.Z)(_createGlobal, 2),
    globalScope = _createGlobal2[0],
    __global = _createGlobal2[1];
  var symbol = /* #__PURE__*/shared_makeSymbol( false ? 0 : '');
  if (false) {}
  function __getInstance(component) {
    return __instances.get(component) || null;
  }
  function __setInstance(component, instance) {
    __instances.set(component, instance);
  }
  function __deleteInstance(component) {
    __instances.delete(component);
  }
  {
    var i18n = {
      // mode
      get mode() {
        return  true && __legacyMode ? 'legacy' : 'composition';
      },
      // allowComposition
      get allowComposition() {
        return __allowComposition;
      },
      // install plugin
      install(app) {
        var _arguments = arguments;
        return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
          var _len15, options, _key15, opts, globalReleaseHandler, unmountApp, ret, emitter, _vueI18n, _composer;
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context3) {
            while (1) switch (_context3.prev = _context3.next) {
              case 0:
                if (false) {}
                // setup global provider
                app.__VUE_I18N_SYMBOL__ = symbol;
                app.provide(app.__VUE_I18N_SYMBOL__, i18n);
                // set composer & vuei18n extend hook options from plugin options
                for (_len15 = _arguments.length, options = new Array(_len15 > 1 ? _len15 - 1 : 0), _key15 = 1; _key15 < _len15; _key15++) {
                  options[_key15 - 1] = _arguments[_key15];
                }
                if (shared_isPlainObject(options[0])) {
                  opts = options[0];
                  i18n.__composerExtend = opts.__composerExtend;
                  i18n.__vueI18nExtend = opts.__vueI18nExtend;
                }
                // global method and properties injection for Composition API
                globalReleaseHandler = null;
                if (!__legacyMode && __globalInjection) {
                  globalReleaseHandler = injectGlobalFields(app, i18n.global);
                }
                // install built-in components and directive
                if (false) {}
                // setup mixin for Legacy API
                if ( true && __legacyMode) {
                  app.mixin(defineMixin(__global, __global.__composer, i18n));
                }
                // release global scope
                unmountApp = app.unmount;
                app.unmount = function () {
                  globalReleaseHandler && globalReleaseHandler();
                  i18n.dispose();
                  unmountApp();
                };
                // setup vue-devtools plugin
                if (true) {
                  _context3.next = 20;
                  break;
                }
                _context3.next = 14;
                return enableDevTools(app, i18n);
              case 14:
                ret = _context3.sent;
                if (ret) {
                  _context3.next = 17;
                  break;
                }
                throw createI18nError(I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);
              case 17:
                emitter = createEmitter();
                if (__legacyMode) {
                  _vueI18n = __global;
                  _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);
                } else {
                  // eslint-disable-next-line @typescript-eslint/no-explicit-any
                  _composer = __global;
                  _composer[EnableEmitter] && _composer[EnableEmitter](emitter);
                }
                emitter.on('*', addTimelineEvent);
              case 20:
              case "end":
                return _context3.stop();
            }
          }, _callee);
        }))();
      },
      // global accessor
      get global() {
        return __global;
      },
      dispose() {
        globalScope.stop();
      },
      // @internal
      __instances,
      // @internal
      __getInstance,
      // @internal
      __setInstance,
      // @internal
      __deleteInstance
    };
    return i18n;
  }
}
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function useI18n() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var instance = (0,runtime_core_esm_bundler/* getCurrentInstance */.FN)();
  if (instance == null) {
    throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);
  }
  if (!instance.isCE && instance.appContext.app != null && !instance.appContext.app.__VUE_I18N_SYMBOL__) {
    throw createI18nError(I18nErrorCodes.NOT_INSTALLED);
  }
  var i18n = getI18nInstance(instance);
  var gl = getGlobalComposer(i18n);
  var componentOptions = getComponentOptions(instance);
  var scope = getScope(options, componentOptions);
  if (true) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    if (i18n.mode === 'legacy' && !options.__useComponent) {
      if (!i18n.allowComposition) {
        throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);
      }
      return useI18nForLegacy(instance, scope, gl, options);
    }
  }
  if (scope === 'global') {
    adjustI18nResources(gl, options, componentOptions);
    return gl;
  }
  if (scope === 'parent') {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    var _composer2 = getComposer(i18n, instance, options.__useComponent);
    if (_composer2 == null) {
      if (false) {}
      _composer2 = gl;
    }
    return _composer2;
  }
  var i18nInternal = i18n;
  var composer = i18nInternal.__getInstance(instance);
  if (composer == null) {
    var composerOptions = shared_assign({}, options);
    if ('__i18n' in componentOptions) {
      composerOptions.__i18n = componentOptions.__i18n;
    }
    if (gl) {
      composerOptions.__root = gl;
    }
    composer = createComposer(composerOptions);
    if (i18nInternal.__composerExtend) {
      composer[DisposeSymbol] = i18nInternal.__composerExtend(composer);
    }
    setupLifeCycle(i18nInternal, instance, composer);
    i18nInternal.__setInstance(instance, composer);
  }
  return composer;
}
/**
 * Cast to VueI18n legacy compatible type
 *
 * @remarks
 * This API is provided only with [vue-i18n-bridge](https://vue-i18n.intlify.dev/guide/migration/ways.html#what-is-vue-i18n-bridge).
 *
 * The purpose of this function is to convert an {@link I18n} instance created with {@link createI18n | createI18n(legacy: true)} into a `vue-i18n@v8.x` compatible instance of `new VueI18n` in a TypeScript environment.
 *
 * @param i18n - An instance of {@link I18n}
 * @returns A i18n instance which is casted to {@link VueI18n} type
 *
 * @VueI18nTip
 * :new: provided by **vue-i18n-bridge only**
 *
 * @VueI18nGeneral
 */
/* #__NO_SIDE_EFFECTS__ */
var castToVueI18n = function castToVueI18n(i18n
// eslint-disable-next-line @typescript-eslint/no-explicit-any
) {
  if (!(__VUE_I18N_BRIDGE__ in i18n)) {
    throw createI18nError(I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N);
  }
  return i18n;
};
function createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any
) {
  var scope = (0,reactivity_esm_bundler/* effectScope */.B)();
  {
    var obj =  true && legacyMode ? scope.run(function () {
      return createVueI18n(options);
    }) : scope.run(function () {
      return createComposer(options);
    });
    if (obj == null) {
      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
    }
    return [scope, obj];
  }
}
function getI18nInstance(instance) {
  {
    var i18n = (0,runtime_core_esm_bundler/* inject */.f3)(!instance.isCE ? instance.appContext.app.__VUE_I18N_SYMBOL__ : I18nInjectionKey);
    /* istanbul ignore if */
    if (!i18n) {
      throw createI18nError(!instance.isCE ? I18nErrorCodes.UNEXPECTED_ERROR : I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE);
    }
    return i18n;
  }
}
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function getScope(options, componentOptions) {
  // prettier-ignore
  return isEmptyObject(options) ? '__i18n' in componentOptions ? 'local' : 'global' : !options.useScope ? 'local' : options.useScope;
}
function getGlobalComposer(i18n) {
  // prettier-ignore
  return i18n.mode === 'composition' ? i18n.global : i18n.global.__composer;
}
function getComposer(i18n, target) {
  var useComponent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var composer = null;
  var root = target.root;
  var current = getParentComponentInstance(target, useComponent);
  while (current != null) {
    var i18nInternal = i18n;
    if (i18n.mode === 'composition') {
      composer = i18nInternal.__getInstance(current);
    } else {
      if (true) {
        var vueI18n = i18nInternal.__getInstance(current);
        if (vueI18n != null) {
          composer = vueI18n.__composer;
          if (useComponent && composer && !composer[InejctWithOptionSymbol] // eslint-disable-line @typescript-eslint/no-explicit-any
          ) {
            composer = null;
          }
        }
      }
    }
    if (composer != null) {
      break;
    }
    if (root === current) {
      break;
    }
    current = current.parent;
  }
  return composer;
}
function getParentComponentInstance(target) {
  var useComponent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (target == null) {
    return null;
  }
  {
    // if `useComponent: true` will be specified, we get lexical scope owner instance for use-case slots
    return !useComponent ? target.parent : target.vnode.ctx || target.parent; // eslint-disable-line @typescript-eslint/no-explicit-any
  }
}
function setupLifeCycle(i18n, target, composer) {
  var emitter = null;
  {
    (0,runtime_core_esm_bundler/* onMounted */.bv)(function () {
      // inject composer instance to DOM for intlify-devtools
      if (false) { var _composer; }
    }, target);
    (0,runtime_core_esm_bundler/* onUnmounted */.Ah)(function () {
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      var _composer = composer;
      // remove composer instance from DOM for intlify-devtools
      if (false) {}
      i18n.__deleteInstance(target);
      // dispose extended resources
      var dispose = _composer[DisposeSymbol];
      if (dispose) {
        dispose();
        delete _composer[DisposeSymbol];
      }
    }, target);
  }
}
function useI18nForLegacy(instance, scope, root) {
  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
  var isLocalScope = scope === 'local';
  var _composer = (0,reactivity_esm_bundler/* shallowRef */.XI)(null);
  if (isLocalScope && instance.proxy && !(instance.proxy.$options.i18n || instance.proxy.$options.__i18n)) {
    throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);
  }
  var _inheritLocale = shared_isBoolean(options.inheritLocale) ? options.inheritLocale : !shared_isString(options.locale);
  var _locale = (0,reactivity_esm_bundler/* ref */.iH)(
  // prettier-ignore
  !isLocalScope || _inheritLocale ? root.locale.value : shared_isString(options.locale) ? options.locale : DEFAULT_LOCALE);
  var _fallbackLocale = (0,reactivity_esm_bundler/* ref */.iH)(
  // prettier-ignore
  !isLocalScope || _inheritLocale ? root.fallbackLocale.value : shared_isString(options.fallbackLocale) || shared_isArray(options.fallbackLocale) || shared_isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);
  var _messages = (0,reactivity_esm_bundler/* ref */.iH)(getLocaleMessages(_locale.value, options));
  // prettier-ignore
  var _datetimeFormats = (0,reactivity_esm_bundler/* ref */.iH)(shared_isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {
    [_locale.value]: {}
  });
  // prettier-ignore
  var _numberFormats = (0,reactivity_esm_bundler/* ref */.iH)(shared_isPlainObject(options.numberFormats) ? options.numberFormats : {
    [_locale.value]: {}
  });
  // prettier-ignore
  var _missingWarn = isLocalScope ? root.missingWarn : shared_isBoolean(options.missingWarn) || isRegExp(options.missingWarn) ? options.missingWarn : true;
  // prettier-ignore
  var _fallbackWarn = isLocalScope ? root.fallbackWarn : shared_isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn) ? options.fallbackWarn : true;
  // prettier-ignore
  var _fallbackRoot = isLocalScope ? root.fallbackRoot : shared_isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;
  // configure fall back to root
  var _fallbackFormat = !!options.fallbackFormat;
  // runtime missing
  var _missing = isFunction(options.missing) ? options.missing : null;
  // postTranslation handler
  var _postTranslation = isFunction(options.postTranslation) ? options.postTranslation : null;
  // prettier-ignore
  var _warnHtmlMessage = isLocalScope ? root.warnHtmlMessage : shared_isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;
  var _escapeParameter = !!options.escapeParameter;
  // prettier-ignore
  var _modifiers = isLocalScope ? root.modifiers : shared_isPlainObject(options.modifiers) ? options.modifiers : {};
  // pluralRules
  var _pluralRules = options.pluralRules || isLocalScope && root.pluralRules;
  // track reactivity
  function trackReactivityValues() {
    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];
  }
  // locale
  var locale = (0,runtime_core_esm_bundler/* computed */.Fl)({
    get: function get() {
      return _composer.value ? _composer.value.locale.value : _locale.value;
    },
    set: function set(val) {
      if (_composer.value) {
        _composer.value.locale.value = val;
      }
      _locale.value = val;
    }
  });
  // fallbackLocale
  var fallbackLocale = (0,runtime_core_esm_bundler/* computed */.Fl)({
    get: function get() {
      return _composer.value ? _composer.value.fallbackLocale.value : _fallbackLocale.value;
    },
    set: function set(val) {
      if (_composer.value) {
        _composer.value.fallbackLocale.value = val;
      }
      _fallbackLocale.value = val;
    }
  });
  // messages
  var messages = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
    if (_composer.value) {
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      return _composer.value.messages.value;
    } else {
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      return _messages.value;
    }
  });
  var datetimeFormats = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
    return _datetimeFormats.value;
  });
  var numberFormats = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
    return _numberFormats.value;
  });
  function getPostTranslationHandler() {
    return _composer.value ? _composer.value.getPostTranslationHandler() : _postTranslation;
  }
  function setPostTranslationHandler(handler) {
    if (_composer.value) {
      _composer.value.setPostTranslationHandler(handler);
    }
  }
  function getMissingHandler() {
    return _composer.value ? _composer.value.getMissingHandler() : _missing;
  }
  function setMissingHandler(handler) {
    if (_composer.value) {
      _composer.value.setMissingHandler(handler);
    }
  }
  function warpWithDeps(fn) {
    trackReactivityValues();
    return fn();
  }
  function t() {
    for (var _len16 = arguments.length, args = new Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {
      args[_key16] = arguments[_key16];
    }
    return _composer.value ? warpWithDeps(function () {
      return Reflect.apply(_composer.value.t, null, [].concat(args));
    }) : warpWithDeps(function () {
      return '';
    });
  }
  function rt() {
    for (var _len17 = arguments.length, args = new Array(_len17), _key17 = 0; _key17 < _len17; _key17++) {
      args[_key17] = arguments[_key17];
    }
    return _composer.value ? Reflect.apply(_composer.value.rt, null, [].concat(args)) : '';
  }
  function d() {
    for (var _len18 = arguments.length, args = new Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {
      args[_key18] = arguments[_key18];
    }
    return _composer.value ? warpWithDeps(function () {
      return Reflect.apply(_composer.value.d, null, [].concat(args));
    }) : warpWithDeps(function () {
      return '';
    });
  }
  function n() {
    for (var _len19 = arguments.length, args = new Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {
      args[_key19] = arguments[_key19];
    }
    return _composer.value ? warpWithDeps(function () {
      return Reflect.apply(_composer.value.n, null, [].concat(args));
    }) : warpWithDeps(function () {
      return '';
    });
  }
  function tm(key) {
    return _composer.value ? _composer.value.tm(key) : {};
  }
  function te(key, locale) {
    return _composer.value ? _composer.value.te(key, locale) : false;
  }
  function getLocaleMessage(locale) {
    return _composer.value ? _composer.value.getLocaleMessage(locale) : {};
  }
  function setLocaleMessage(locale, message) {
    if (_composer.value) {
      _composer.value.setLocaleMessage(locale, message);
      _messages.value[locale] = message;
    }
  }
  function mergeLocaleMessage(locale, message) {
    if (_composer.value) {
      _composer.value.mergeLocaleMessage(locale, message);
    }
  }
  function getDateTimeFormat(locale) {
    return _composer.value ? _composer.value.getDateTimeFormat(locale) : {};
  }
  function setDateTimeFormat(locale, format) {
    if (_composer.value) {
      _composer.value.setDateTimeFormat(locale, format);
      _datetimeFormats.value[locale] = format;
    }
  }
  function mergeDateTimeFormat(locale, format) {
    if (_composer.value) {
      _composer.value.mergeDateTimeFormat(locale, format);
    }
  }
  function getNumberFormat(locale) {
    return _composer.value ? _composer.value.getNumberFormat(locale) : {};
  }
  function setNumberFormat(locale, format) {
    if (_composer.value) {
      _composer.value.setNumberFormat(locale, format);
      _numberFormats.value[locale] = format;
    }
  }
  function mergeNumberFormat(locale, format) {
    if (_composer.value) {
      _composer.value.mergeNumberFormat(locale, format);
    }
  }
  var wrapper = {
    get id() {
      return _composer.value ? _composer.value.id : -1;
    },
    locale,
    fallbackLocale,
    messages,
    datetimeFormats,
    numberFormats,
    get inheritLocale() {
      return _composer.value ? _composer.value.inheritLocale : _inheritLocale;
    },
    set inheritLocale(val) {
      if (_composer.value) {
        _composer.value.inheritLocale = val;
      }
    },
    get availableLocales() {
      return _composer.value ? _composer.value.availableLocales : Object.keys(_messages.value);
    },
    get modifiers() {
      return _composer.value ? _composer.value.modifiers : _modifiers;
    },
    get pluralRules() {
      return _composer.value ? _composer.value.pluralRules : _pluralRules;
    },
    get isGlobal() {
      return _composer.value ? _composer.value.isGlobal : false;
    },
    get missingWarn() {
      return _composer.value ? _composer.value.missingWarn : _missingWarn;
    },
    set missingWarn(val) {
      if (_composer.value) {
        _composer.value.missingWarn = val;
      }
    },
    get fallbackWarn() {
      return _composer.value ? _composer.value.fallbackWarn : _fallbackWarn;
    },
    set fallbackWarn(val) {
      if (_composer.value) {
        _composer.value.missingWarn = val;
      }
    },
    get fallbackRoot() {
      return _composer.value ? _composer.value.fallbackRoot : _fallbackRoot;
    },
    set fallbackRoot(val) {
      if (_composer.value) {
        _composer.value.fallbackRoot = val;
      }
    },
    get fallbackFormat() {
      return _composer.value ? _composer.value.fallbackFormat : _fallbackFormat;
    },
    set fallbackFormat(val) {
      if (_composer.value) {
        _composer.value.fallbackFormat = val;
      }
    },
    get warnHtmlMessage() {
      return _composer.value ? _composer.value.warnHtmlMessage : _warnHtmlMessage;
    },
    set warnHtmlMessage(val) {
      if (_composer.value) {
        _composer.value.warnHtmlMessage = val;
      }
    },
    get escapeParameter() {
      return _composer.value ? _composer.value.escapeParameter : _escapeParameter;
    },
    set escapeParameter(val) {
      if (_composer.value) {
        _composer.value.escapeParameter = val;
      }
    },
    t,
    getPostTranslationHandler,
    setPostTranslationHandler,
    getMissingHandler,
    setMissingHandler,
    rt,
    d,
    n,
    tm,
    te,
    getLocaleMessage,
    setLocaleMessage,
    mergeLocaleMessage,
    getDateTimeFormat,
    setDateTimeFormat,
    mergeDateTimeFormat,
    getNumberFormat,
    setNumberFormat,
    mergeNumberFormat
  };
  function sync(composer) {
    composer.locale.value = _locale.value;
    composer.fallbackLocale.value = _fallbackLocale.value;
    Object.keys(_messages.value).forEach(function (locale) {
      composer.mergeLocaleMessage(locale, _messages.value[locale]);
    });
    Object.keys(_datetimeFormats.value).forEach(function (locale) {
      composer.mergeDateTimeFormat(locale, _datetimeFormats.value[locale]);
    });
    Object.keys(_numberFormats.value).forEach(function (locale) {
      composer.mergeNumberFormat(locale, _numberFormats.value[locale]);
    });
    composer.escapeParameter = _escapeParameter;
    composer.fallbackFormat = _fallbackFormat;
    composer.fallbackRoot = _fallbackRoot;
    composer.fallbackWarn = _fallbackWarn;
    composer.missingWarn = _missingWarn;
    composer.warnHtmlMessage = _warnHtmlMessage;
  }
  (0,runtime_core_esm_bundler/* onBeforeMount */.wF)(function () {
    if (instance.proxy == null || instance.proxy.$i18n == null) {
      throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    var composer = _composer.value = instance.proxy.$i18n.__composer;
    if (scope === 'global') {
      _locale.value = composer.locale.value;
      _fallbackLocale.value = composer.fallbackLocale.value;
      _messages.value = composer.messages.value;
      _datetimeFormats.value = composer.datetimeFormats.value;
      _numberFormats.value = composer.numberFormats.value;
    } else if (isLocalScope) {
      sync(composer);
    }
  });
  return wrapper;
}
var globalExportProps = ['locale', 'fallbackLocale', 'availableLocales'];
var globalExportMethods = ['t', 'rt', 'd', 'n', 'tm', 'te'];
function injectGlobalFields(app, composer) {
  var i18n = Object.create(null);
  globalExportProps.forEach(function (prop) {
    var desc = Object.getOwnPropertyDescriptor(composer, prop);
    if (!desc) {
      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
    }
    var wrap = (0,reactivity_esm_bundler/* isRef */.dq)(desc.value) // check computed props
    ? {
      get() {
        return desc.value.value;
      },
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      set(val) {
        desc.value.value = val;
      }
    } : {
      get() {
        return desc.get && desc.get();
      }
    };
    Object.defineProperty(i18n, prop, wrap);
  });
  app.config.globalProperties.$i18n = i18n;
  globalExportMethods.forEach(function (method) {
    var desc = Object.getOwnPropertyDescriptor(composer, method);
    if (!desc || !desc.value) {
      throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
    }
    Object.defineProperty(app.config.globalProperties, `$${method}`, desc);
  });
  var dispose = function dispose() {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    delete app.config.globalProperties.$i18n;
    globalExportMethods.forEach(function (method) {
      // eslint-disable-next-line @typescript-eslint/no-explicit-any
      delete app.config.globalProperties[`$${method}`];
    });
  };
  return dispose;
}
{
  vue_i18n_initFeatureFlags();
}
// register message compiler at vue-i18n
if (__INTLIFY_JIT_COMPILATION__) {
  registerMessageCompiler(core_base_compile);
} else {
  registerMessageCompiler(compileToFunction);
}
// register message resolver at vue-i18n
registerMessageResolver(resolveValue);
// register fallback locale at vue-i18n
registerLocaleFallbacker(fallbackWithLocaleChain);
// NOTE: experimental !!
if (false) { var target; }
if (false) {}

;// CONCATENATED MODULE: ./packages/core/services/i18n/index.js







var instance = null;
function init(configs) {
  instance = createI18n((0,objectSpread2/* default */.Z)({
    silentFallbackWarn: true
  }, configs));
  return instance;
}
function i18n_getLocale() {
  var _instance;
  return (_instance = instance) === null || _instance === void 0 ? void 0 : _instance.global.locale;
}
function t() {
  var _instance$global;
  if (!instance) {
    throw new Error("Cannot use 't' before initializing the i18n service.");
  }
  return (_instance$global = instance.global).t.apply(_instance$global, arguments);
}
function addMessages(messages) {
  if (!instance) {
    throw new Error("Cannot add i18n messages before initializing the i18n service.");
  }
  Object.entries(messages).forEach(function (_ref) {
    var _ref2 = (0,slicedToArray/* default */.Z)(_ref, 2),
      locale = _ref2[0],
      value = _ref2[1];
    instance.global.mergeLocaleMessage(locale, value);
  });
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(30911);
;// CONCATENATED MODULE: ./packages/core/services/module-manager/AbstractModule.js



var AbstractModule = /*#__PURE__*/(0,createClass/* default */.Z)(
// eslint-disable-next-line no-unused-vars
function AbstractModule(context) {
  (0,classCallCheck/* default */.Z)(this, AbstractModule);
});
(0,defineProperty/* default */.Z)(AbstractModule, "id", void 0);
(0,defineProperty/* default */.Z)(AbstractModule, "dependencies", []);

// EXTERNAL MODULE: ./node_modules/lodash/lodash.js
var lodash = __webpack_require__(90603);
;// CONCATENATED MODULE: ./packages/core/modules/ajax/store/index.js





var _excluded = ["method", "params", "data"];















/* harmony default export */ var store = (defineStore("ajax", {
  state: function state() {
    return {
      defaults: {
        baseURL: document.location.origin,
        credentials: "same-origin",
        responseType: "json"
      }
    };
  },
  actions: {
    configure(configs) {
      this.defaults = (0,lodash.merge)({}, this.defaults, configs);
    },
    decodeResponse(response) {
      var _arguments = arguments;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var type;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              type = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : "json";
              if (!(response.status === 204)) {
                _context.next = 3;
                break;
              }
              return _context.abrupt("return", null);
            case 3:
              _context.t0 = type;
              _context.next = _context.t0 === "arrayBuffer" ? 6 : _context.t0 === "blob" ? 6 : _context.t0 === "formData" ? 6 : _context.t0 === "json" ? 6 : 9;
              break;
            case 6:
              _context.next = 8;
              return response[type]();
            case 8:
              return _context.abrupt("return", _context.sent);
            case 9:
              _context.next = 11;
              return response.text();
            case 11:
              return _context.abrupt("return", _context.sent);
            case 12:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }))();
    },
    load(url) {
      var _arguments2 = arguments,
        _this = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2() {
        var _ref, _ref$method, method, _ref$params, params, _ref$data, data, config, options, responseType, _url, response, _data;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              _ref = _arguments2.length > 1 && _arguments2[1] !== undefined ? _arguments2[1] : {}, _ref$method = _ref.method, method = _ref$method === void 0 ? "GET" : _ref$method, _ref$params = _ref.params, params = _ref$params === void 0 ? {} : _ref$params, _ref$data = _ref.data, data = _ref$data === void 0 ? null : _ref$data, config = objectWithoutProperties_objectWithoutProperties(_ref, _excluded);
              options = (0,lodash.merge)({}, _this.defaults, (0,objectSpread2/* default */.Z)({
                method: method.toUpperCase()
              }, config));
              responseType = options.responseType;
              _url = new URL(url, options.baseURL);
              Object.entries(params).forEach(function (_ref2) {
                var _ref3 = (0,slicedToArray/* default */.Z)(_ref2, 2),
                  key = _ref3[0],
                  value = _ref3[1];
                _url.searchParams.append(key, value);
              });
              if (data) {
                options.body = data;
              }
              _context2.next = 8;
              return fetch(_url.toString(), (0,lodash.omit)(options, ["baseURL", "data", "responseType"]));
            case 8:
              response = _context2.sent;
              if (response.ok) {
                _context2.next = 15;
                break;
              }
              _context2.next = 12;
              return _this.decodeResponse(response, responseType);
            case 12:
              _data = _context2.sent;
              response.data = _data;
              throw new Error(response, response.statusText);
            case 15:
              if (!(options.method === "HEAD")) {
                _context2.next = 17;
                break;
              }
              return _context2.abrupt("return", true);
            case 17:
              _context2.next = 19;
              return _this.decodeResponse(response, responseType);
            case 19:
              return _context2.abrupt("return", _context2.sent);
            case 20:
            case "end":
              return _context2.stop();
          }
        }, _callee2);
      }))();
    }
  }
}));
;// CONCATENATED MODULE: ./packages/core/modules/ajax/index.js












var ajax_excluded = ["params"],
  _excluded2 = ["params"],
  _excluded3 = ["params"],
  _excluded4 = ["params", "data"],
  _excluded5 = ["params", "data"],
  _excluded6 = ["params", "data"],
  _excluded7 = ["params", "data"];
function ajax_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }


var AjaxModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(AjaxModule, _AbstractModule);
  function AjaxModule() {
    (0,classCallCheck/* default */.Z)(this, AjaxModule);
    return ajax_callSuper(this, AjaxModule, arguments);
  }
  (0,createClass/* default */.Z)(AjaxModule, [{
    key: "configure",
    value: function configure(configs) {
      store().configure(configs);
    }
  }, {
    key: "head",
    value: function head(url) {
      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref$params = _ref.params,
        params = _ref$params === void 0 ? {} : _ref$params,
        config = objectWithoutProperties_objectWithoutProperties(_ref, ajax_excluded);
      return store().load(url, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({
        params
      }, config), {}, {
        method: "HEAD"
      }));
    }
  }, {
    key: "options",
    value: function options(url) {
      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref2$params = _ref2.params,
        params = _ref2$params === void 0 ? {} : _ref2$params,
        config = objectWithoutProperties_objectWithoutProperties(_ref2, _excluded2);
      return store().load(url, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({
        params
      }, config), {}, {
        method: "OPTIONS"
      }));
    }
  }, {
    key: "get",
    value: function get(url) {
      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref3$params = _ref3.params,
        params = _ref3$params === void 0 ? {} : _ref3$params,
        config = objectWithoutProperties_objectWithoutProperties(_ref3, _excluded3);
      return store().load(url, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({
        params
      }, config), {}, {
        method: "GET"
      }));
    }
  }, {
    key: "post",
    value: function post(url) {
      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref4$params = _ref4.params,
        params = _ref4$params === void 0 ? {} : _ref4$params,
        _ref4$data = _ref4.data,
        data = _ref4$data === void 0 ? null : _ref4$data,
        config = objectWithoutProperties_objectWithoutProperties(_ref4, _excluded4);
      return store().load(url, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({
        params,
        data
      }, config), {}, {
        method: "POST"
      }));
    }
  }, {
    key: "put",
    value: function put(url) {
      var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref5$params = _ref5.params,
        params = _ref5$params === void 0 ? {} : _ref5$params,
        _ref5$data = _ref5.data,
        data = _ref5$data === void 0 ? null : _ref5$data,
        config = objectWithoutProperties_objectWithoutProperties(_ref5, _excluded5);
      return store().load(url, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({
        params,
        data
      }, config), {}, {
        method: "PUT"
      }));
    }
  }, {
    key: "patch",
    value: function patch(url) {
      var _ref6 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref6$params = _ref6.params,
        params = _ref6$params === void 0 ? {} : _ref6$params,
        _ref6$data = _ref6.data,
        data = _ref6$data === void 0 ? null : _ref6$data,
        config = objectWithoutProperties_objectWithoutProperties(_ref6, _excluded6);
      return store().load(url, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({
        params,
        data
      }, config), {}, {
        method: "PATCH"
      }));
    }
  }, {
    key: "delete",
    value: function _delete(url) {
      var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref7$params = _ref7.params,
        params = _ref7$params === void 0 ? {} : _ref7$params,
        _ref7$data = _ref7.data,
        data = _ref7$data === void 0 ? null : _ref7$data,
        config = objectWithoutProperties_objectWithoutProperties(_ref7, _excluded7);
      return store().load(url, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({
        params,
        data
      }, config), {}, {
        method: "DELETE"
      }));
    }
  }]);
  return AjaxModule;
}(AbstractModule);
(0,defineProperty/* default */.Z)(AjaxModule, "id", "ajax");

;// CONCATENATED MODULE: ./packages/player/modules/api/services/message-handler/index.js







/**
 * Parse data received from postMessage.
 *
 * @param {*} data The data received.
 * @return {object} The parsed data
 */
function parseMessageData(data) {
  if (typeof data === "string") {
    try {
      data = JSON.parse(data);
    } catch (error) {
      console.warn(error);
      return;
    }
  }
  return data;
}

/**
 * Process a received message.
 *
 * @param {MessageEvent} evt The event object
 */
function processMessage(evt) {
  var data = parseMessageData(evt.data);
  if (!data || !("method" in data)) {
    return;
  }
  var source = evt.source;
  var origin = evt.origin;
  var method = data.method,
    _data$params = data.params,
    params = _data$params === void 0 ? {} : _data$params;
  switch (method) {
    case "play":
      {
        var _useModule = (0,module_manager/* useModule */.b7)("media_cuepoints"),
          setGlobalCuepoint = _useModule.setGlobalCuepoint,
          removeCuepoint = _useModule.removeCuepoint;
        var _useModule2 = (0,module_manager/* useModule */.b7)("media_player"),
          play = _useModule2.play,
          pause = _useModule2.pause,
          seekTo = _useModule2.seekTo;
        var _useModule3 = (0,module_manager/* useModule */.b7)("app_components"),
          getComponent = _useModule3.getComponent,
          activeScenario = _useModule3.activeScenario,
          setActiveScenario = _useModule3.setActiveScenario;

        // @todo: refactor with AppRenderer's onComponentAction
        if ("inTime" in params || "outTime" in params) {
          var _params$inTime = params.inTime,
            inTime = _params$inTime === void 0 ? null : _params$inTime,
            _params$outTime = params.outTime,
            outTime = _params$outTime === void 0 ? null : _params$outTime,
            _params$scenario = params.scenario,
            scenario = _params$scenario === void 0 ? null : _params$scenario;
          var cuepoint_config = {
            startTime: inTime,
            endTime: outTime,
            onStop: function onStop() {
              pause();
            },
            onSeekout: function onSeekout(_ref) {
              var cuepoint = _ref.cuepoint;
              removeCuepoint(cuepoint);
            }
          };
          if (scenario !== null && getComponent("Scenario", scenario) && scenario !== (0,reactivity_esm_bundler/* unref */.SU)(activeScenario)) {
            var previous_scenario = (0,reactivity_esm_bundler/* unref */.SU)(activeScenario);
            cuepoint_config.onSeekout = function (_ref2) {
              var cuepoint = _ref2.cuepoint;
              setActiveScenario(previous_scenario);
              removeCuepoint(cuepoint);
            };
            setActiveScenario(scenario);
          }
          setGlobalCuepoint(cuepoint_config);
          if (inTime !== null) {
            seekTo(inTime);
          }
        }
        play();
      }
      break;
    case "pause":
      {
        var _useModule4 = (0,module_manager/* useModule */.b7)("media_player"),
          _pause = _useModule4.pause;
        _pause();
      }
      break;
    case "stop":
      {
        var _useModule5 = (0,module_manager/* useModule */.b7)("media_player"),
          stop = _useModule5.stop;
        stop();
      }
      break;
    case "seek":
      {
        var _useModule6 = (0,module_manager/* useModule */.b7)("media_player"),
          _seekTo = _useModule6.seekTo;
        _seekTo((params === null || params === void 0 ? void 0 : params.seconds) || 0);
      }
      break;
    case "page":
      if ("block" in params && "index" in params) {
        var _useModule7 = (0,module_manager/* useModule */.b7)("app_components"),
          getComponentsByType = _useModule7.getComponentsByType,
          setBlockActivePage = _useModule7.setBlockActivePage;
        var block = getComponentsByType("Block").find(function (c) {
          return c.name === params.block;
        });
        if (block) {
          setBlockActivePage(block, params.index);
        }
      }
      break;
    case "toggleBlock":
      if ("name" in params) {
        var _useModule8 = (0,module_manager/* useModule */.b7)("app_components"),
          _getComponentsByType = _useModule8.getComponentsByType,
          showComponent = _useModule8.showComponent,
          hideComponent = _useModule8.hideComponent,
          toggleComponent = _useModule8.toggleComponent;
        var _block = _getComponentsByType("Block").find(function (c) {
          return c.name === params.name;
        });
        if (_block) {
          if (params.value === "toggle") toggleComponent(_block);else if (params.value === "hide") hideComponent(_block);else showComponent(_block);
        }
      }
      break;
    case "scenario":
      if ("value" in params) {
        var _useModule9 = (0,module_manager/* useModule */.b7)("app_components"),
          _getComponent = _useModule9.getComponent,
          _setActiveScenario = _useModule9.setActiveScenario;
        var _scenario = _getComponent("Scenario", params.value);
        if (_scenario) _setActiveScenario(_scenario.id);
      }
      break;
    case "responsiveness":
      {
        var adaptSize = params.adaptSize,
          allowUpscaling = params.allowUpscaling;
        var _useModule10 = (0,module_manager/* useModule */.b7)("app_renderer"),
          setResponsiveness = _useModule10.setResponsiveness;
        setResponsiveness(adaptSize, allowUpscaling);
      }
      break;
    case "playing":
      {
        var _useModule11 = (0,module_manager/* useModule */.b7)("media_player"),
          playing = _useModule11.playing;
        source.postMessage(JSON.stringify({
          callback: params.callback,
          params: (0,reactivity_esm_bundler/* unref */.SU)(playing)
        }), origin);
      }
      break;
    case "time":
      {
        var _useModule12 = (0,module_manager/* useModule */.b7)("media_player"),
          time = _useModule12.time;
        source.postMessage(JSON.stringify({
          callback: params.callback,
          params: (0,reactivity_esm_bundler/* unref */.SU)(time)
        }), origin);
      }
      break;
    case "addEventListener":
      switch (params.type) {
        case "ready":
          {
            var store = player_store();
            var _storeToRefs = storeToRefs(store),
              ready = _storeToRefs.ready;
            var unwatch = null;
            unwatch = (0,runtime_core_esm_bundler/* watch */.YP)(ready, function (value) {
              if (!value) return;
              if (unwatch) {
                unwatch();
                unwatch = null;
              }
              source.postMessage(JSON.stringify({
                callback: params.callback
              }), origin);
            }, {
              immediate: true
            });
          }
          break;
        case "timeupdate":
          {
            var _useModule13 = (0,module_manager/* useModule */.b7)("media_player"),
              _time = _useModule13.time;
            (0,runtime_core_esm_bundler/* watch */.YP)(_time, function (value) {
              source.postMessage(JSON.stringify({
                callback: params.callback,
                params: value
              }), origin);
            });
          }
          break;
        case "scenariochange":
          {
            var _useModule14 = (0,module_manager/* useModule */.b7)("app_components"),
              _activeScenario = _useModule14.activeScenario;
            (0,runtime_core_esm_bundler/* watch */.YP)(_activeScenario, function (value) {
              source.postMessage(JSON.stringify({
                callback: params.callback,
                params: value
              }), origin);
            });
          }
          break;
      }
      break;
    case "removeEventListener":
      /**
       * @todo add support
       */
      break;
    case "fullscreenchange":
      document.body.classList.toggle("fullscreen", params.value);
      break;
  }
}
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.pad-start.js
var es_string_pad_start = __webpack_require__(8472);
;// CONCATENATED MODULE: ./packages/core/modules/media_player/renderers/Native.js


/**
 * A default (native) media renderer
 */
var Native = /*#__PURE__*/function () {
  function Native() {
    (0,classCallCheck/* default */.Z)(this, Native);
  }
  (0,createClass/* default */.Z)(Native, [{
    key: "mount",
    value: function mount(url, el) {
      el.src = url;
      el.load();
    }
  }, {
    key: "unmount",
    value: function unmount() {}
  }], [{
    key: "canPlayType",
    value:
    /**
     * Check whether the renderer supports a given mime type
     *
     * @param {String} mime The mime type
     * @return {Boolean} Whether the renderer supports the given mime type
     */
    function canPlayType(mime) {
      return new Audio().canPlayType(mime) !== "";
    }
  }]);
  return Native;
}();

;// CONCATENATED MODULE: ./packages/core/modules/media_player/renderers/Dash.js















function Dash_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }

var SUPPORTED_TYPES = ["application/dash+xml"];
var Dash = /*#__PURE__*/function (_NativeRenderer) {
  (0,inherits/* default */.Z)(Dash, _NativeRenderer);
  function Dash() {
    (0,classCallCheck/* default */.Z)(this, Dash);
    return Dash_callSuper(this, Dash, arguments);
  }
  (0,createClass/* default */.Z)(Dash, [{
    key: "mount",
    value: function () {
      var _mount = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(url, el) {
        var _yield$import, DashJSMediaPlayer;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return __webpack_require__.e(/* import() */ 697).then(__webpack_require__.t.bind(__webpack_require__, 9697, 23));
            case 2:
              _yield$import = _context.sent;
              DashJSMediaPlayer = _yield$import.MediaPlayer;
              this._dash = DashJSMediaPlayer().create();
              this._dash.on(DashJSMediaPlayer.events.ERROR, function (evt) {
                console.error(evt);
                switch (evt.error.code) {
                  // See https://github.com/Dash-Industry-Forum/dash.js/issues/1475
                  case DashJSMediaPlayer.errors.DOWNLOAD_ERROR_ID_MANIFEST_CODE:
                  case DashJSMediaPlayer.errors.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:
                  case DashJSMediaPlayer.errors.DOWNLOAD_ERROR_ID_CONTENT_CODE:
                  case DashJSMediaPlayer.errors.MANIFEST_ERROR_ID_PARSE_CODE:
                  case DashJSMediaPlayer.errors.MANIFEST_ERROR_ID_NOSTREAMS_CODE:
                  case DashJSMediaPlayer.errors.MEDIASOURCE_TYPE_UNSUPPORTED_CODE:
                    el.dispatchEvent(new ErrorEvent("error", {
                      error: evt.error,
                      message: evt.error.message
                    }));
                }
              });
              this._dash.initialize(el, url, false);
            case 7:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function mount(_x, _x2) {
        return _mount.apply(this, arguments);
      }
      return mount;
    }()
  }, {
    key: "unmount",
    value: function unmount() {
      if (this._dash) {
        this._dash.destroy();
        this._dash = null;
      }
    }
  }], [{
    key: "canPlayType",
    value:
    /**
     * Check whether the renderer supports a given mime type
     *
     * @param {String} mime The mime type
     * @return {Boolean} Whether the renderer supports the given mime type
     */
    function canPlayType(mime) {
      return SUPPORTED_TYPES.includes(mime.toLowerCase());
    }
  }]);
  return Dash;
}(Native);

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js + 2 modules
var wrapNativeSuper = __webpack_require__(63636);
;// CONCATENATED MODULE: ./packages/core/modules/media_player/renderers/HLS.js

















function HLS_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }

var HLS_SUPPORTED_TYPES = ["application/mpegurl", "application/x-mpegurl", "application/vnd.apple.mpegurl", "application/vnd.apple.mpegurl.audio", "audio/mpegurl", "audio/x-mpegurl", "audio/hls", "video/mpegurl", "video/x-mpegurl", "video/hls"];
var UnsupportedError = /*#__PURE__*/function (_Error) {
  (0,inherits/* default */.Z)(UnsupportedError, _Error);
  function UnsupportedError() {
    (0,classCallCheck/* default */.Z)(this, UnsupportedError);
    return HLS_callSuper(this, UnsupportedError, ["HLS playback is not supported."]);
  }
  return (0,createClass/* default */.Z)(UnsupportedError);
}( /*#__PURE__*/(0,wrapNativeSuper/* default */.Z)(Error));
var HLS = /*#__PURE__*/function (_NativeRenderer) {
  (0,inherits/* default */.Z)(HLS, _NativeRenderer);
  function HLS() {
    (0,classCallCheck/* default */.Z)(this, HLS);
    return HLS_callSuper(this, HLS, arguments);
  }
  (0,createClass/* default */.Z)(HLS, [{
    key: "mount",
    value: function () {
      var _mount = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(url, el) {
        var _yield$import, Hls;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return __webpack_require__.e(/* import() */ 77).then(__webpack_require__.bind(__webpack_require__, 3077));
            case 2:
              _yield$import = _context.sent;
              Hls = _yield$import.default;
              if (Hls.isSupported()) {
                _context.next = 6;
                break;
              }
              throw new UnsupportedError();
            case 6:
              this._hls = new Hls();
              this._hls.on(Hls.Events.ERROR, function (type, evt) {
                console.error(evt);
                if (evt.fatal) {
                  var error_event = new ErrorEvent("error", {
                    error: evt
                  });
                  el.dispatchEvent(error_event);
                }
              });
              this._hls.loadSource(url);
              this._hls.attachMedia(el);
            case 10:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function mount(_x, _x2) {
        return _mount.apply(this, arguments);
      }
      return mount;
    }()
  }, {
    key: "unmount",
    value: function unmount() {
      if (this._hls) {
        this._hls.detachMedia();
        this._hls = null;
      }
    }
  }], [{
    key: "canPlayType",
    value:
    /**
     * Check whether the renderer supports a given mime type
     *
     * @param {String} mime The mime type
     * @return {Boolean} Whether the renderer supports the given mime type
     */
    function canPlayType(mime) {
      return HLS_SUPPORTED_TYPES.includes(mime.toLowerCase());
    }
  }]);
  return HLS;
}(Native);

;// CONCATENATED MODULE: ./packages/core/modules/media_player/renderers/index.js



/* harmony default export */ var renderers = ([Native, Dash, HLS]);

;// CONCATENATED MODULE: ./packages/core/modules/media_player/utils/media.js









var MIME_TYPES = {
  mp4: "video/mp4",
  m4v: "video/mp4",
  ogg: "video/ogg",
  ogv: "video/ogg",
  webm: "video/webm",
  webmv: "video/webmv",
  m4a: "audio/mp4",
  mp3: "audio/mp3",
  oga: "audio/ogg",
  m3u8: "application/x-mpegURL",
  mpd: "application/dash+xml"
};

/**
 * Formats a time to a string represetation
 *
 * @param {number} time The time in seconds
 * @returns {string} The string represetation
 */
function media_formatTime(time) {
  var minutes = `${parseInt(time / 60, 10)}`.padStart(2, "0");
  var seconds = `${parseInt(time % 60, 10)}`.padStart(2, "0");
  var centiseconds = `${parseInt(time * 100 % 100, 10)}`.padStart(2, "0");
  return `${minutes}:${seconds}.${centiseconds}`;
}

/**
 * Get a file's extention from its URL
 *
 * @param {string} url The file's URL
 * @returns {string} The file's extention
 */
function getFileExtension(url) {
  return url.split(/#|\?/)[0].split(".").pop().trim();
}

/**
 * Get a file's mimetype from its URL
 *
 * @param {string} url The file's URL
 * @returns {string} The file's mimetype if supported, null otherwise
 */
function media_getMimeTypeFromURL(url) {
  if (/^(?:(?:https?:)?\/\/)?(?:www\.)?vimeo.com\/(?:channels\/|groups\/([^/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/.test(url)) {
    return "video/vimeo";
  }
  if (/^(?:(?:https?:)?\/\/)?(?:www\.)?(?:m\.)?(?:youtu(?:be)?\.com\/(?:v\/|embed\/|watch(?:\/|\?v=))|youtu\.be\/)((?:\w|-){11})(?:\S+)?$/.test(url)) {
    return "video/youtube";
  }
  var ext = getFileExtension(url);
  return ext in MIME_TYPES ? MIME_TYPES[ext] : null;
}

/**
 * Get a renderer type from a source's mime type
 * @param {String} mime The mime type
 * @return {String?} A matching renderer type
 */
function media_getRendererForMime(mime) {
  mime = mime.toLowerCase();
  return renderers.find(function (renderer) {
    return renderer.canPlayType(mime);
  });
}

/**
 * Get a media file's duration in seconds
 *
 * @param {object} file The file descriptor
 * @property {string} mime The file's mime type
 * @property {string} url The file's url
 */
function media_getFileDuration(_ref) {
  var mime = _ref.mime,
    url = _ref.url;
  return new Promise(function (resolve, reject) {
    var Renderer = media_getRendererForMime(mime);
    if (Renderer) {
      var el = new Audio();
      var renderer = new Renderer();
      var onLoadedMetadata = function onLoadedMetadata(evt) {
        evt.target.removeEventListener("error", onError);
        resolve(parseFloat(evt.target.duration));
      };
      var onError = function onError(evt) {
        evt.target.removeEventListener("loadedmetadata", onLoadedMetadata);
        reject();
      };
      el.addEventListener("loadedmetadata", onLoadedMetadata, {
        once: true
      });
      el.addEventListener("error", onError, {
        once: true
      });
      renderer.mount(url, el);
    } else {
      reject(new Error("No compatible renderer found"));
    }
  });
}
;// CONCATENATED MODULE: ./packages/core/modules/media_player/store/index.js




/* harmony default export */ var media_player_store = (defineStore("media_player", {
  state: function state() {
    return {
      ready: false,
      dataLoaded: false,
      useRequestAnimationFrame: true,
      source: null,
      element: null,
      time: 0,
      duration: 0,
      playing: false,
      seeking: false,
      playbackRate: 1,
      type: null,
      width: null,
      height: null,
      buffered: []
    };
  },
  getters: {
    formattedTime() {
      return media_formatTime(this.time);
    }
  },
  actions: {
    initElement(element) {
      var _this = this;
      this.element = element;
      if (element) {
        this.type = element instanceof element.ownerDocument.defaultView.HTMLVideoElement ? "video" : "audio";
        element.addEventListener("loadedmetadata", function (evt) {
          _this.ready = true;
          _this.width = _this.type === "video" ? element.videoWidth : null;
          _this.height = _this.type === "video" ? element.videoHeight : null;
          _this.duration = evt.target.duration;
        });
        element.addEventListener("loadeddata", function () {
          _this.dataLoaded = true;
        });
        element.addEventListener("play", function () {
          _this.playing = true;
          _this.updateTime(true);
        });
        element.addEventListener("pause", function () {
          _this.playing = false;
          _this.updateTime();
        });
        element.addEventListener("stop", function () {
          _this.playing = false;
          _this.updateTime();
        });
        element.addEventListener("timeupdate", function (evt) {
          if (!_this.useRequestAnimationFrame) {
            _this.time = evt.target.currentTime;
          }
        });
        element.addEventListener("seeking", function () {
          _this.seeking = true;
        });
        element.addEventListener("ratechange", function (evt) {
          _this.playbackRate = evt.target.playbackRate;
        });
        element.addEventListener("seeked", function () {
          _this.seeking = false;
          if (!_this.playing) {
            _this.updateTime();
          }
        });
        element.addEventListener("progress", function (evt) {
          var buffered = [];
          for (var i = 0; i < evt.target.buffered.length; i++) {
            var start_x = evt.target.buffered.start(i);
            var end_x = evt.target.buffered.end(i);
            buffered.push([start_x, end_x]);
          }
          _this.buffered = buffered;
        });
      } else {
        this.type = null;
        this.width = null;
        this.height = null;
      }
    },
    setSource(source) {
      this.ready = false;
      this.source = source;
      this.time = 0;
      this.duration = 0;
      this.playing = false;
      this.width = null;
      this.height = null;
      this.buffered = [];
    },
    play() {
      if (this.element) {
        var promise = this.element.play();
        if (typeof promise !== "undefined") {
          promise.catch(function (error) {
            console.error(error);
            console.warn("Play was prevented by the browser. If using the metaScore API, make sure to add allow='autoplay' to the player's iframe. See https://github.com/w3c/webappsec-feature-policy/blob/master/features.md for more information.");
          });
        }
      }
    },
    pause() {
      if (this.element) {
        this.element.pause();
      }
    },
    stop() {
      if (this.element) {
        this.pause();
        this.seekTo(0);
      }
    },
    seekTo(time) {
      // Set the "seeking" flag to true,
      // as the "seeking" event is sometimes triggered too late.
      this.seeking = true;
      this.element.currentTime = time;
    },
    setPlaybackRate(rate) {
      this.element.playbackRate = rate;
    },
    updateTime() {
      var _this2 = this;
      var repeat = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      this.time = this.element.currentTime;
      if (this.useRequestAnimationFrame && repeat && this.playing) {
        window.requestAnimationFrame(function () {
          _this2.updateTime(true);
        });
      }
    }
  },
  history(context) {
    var _this3 = this;
    var name = context.name,
      after = context.after,
      push = context.push;
    switch (name) {
      case "setSource":
        {
          var key = name.slice(3, 4).toLowerCase() + name.slice(4);
          var oldValue = this[key];
          after(function () {
            var newValue = _this3[key];
            push({
              undo: function undo() {
                _this3[name](oldValue);
              },
              redo: function redo() {
                _this3[name](newValue);
              }
            });
          });
        }
        break;
    }
  }
}));
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/media_player/components/MediaPlayer.vue?vue&type=template&id=19a8696b

function MediaPlayervue_type_template_id_19a8696b_render(_ctx, _cache, $props, $setup, $data, $options) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)((0,runtime_core_esm_bundler/* resolveDynamicComponent */.LL)($props.type), {
    ref: "media",
    autoplay: $props.autoplay,
    loop: $props.loop,
    controls: $props.controls,
    class: "media-player"
  }, null, 8, ["autoplay", "loop", "controls"]);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/media_player/components/MediaPlayer.vue?vue&type=script&lang=js






/* harmony default export */ var MediaPlayervue_type_script_lang_js = ({
  name: "MediaPlayer",
  props: {
    /**
     * The media type; audio|video
     */
    type: {
      type: String,
      validator(value) {
        return ["audio", "video"].includes(value);
      },
      default: "audio"
    },
    /**
     * The media source
     */
    source: {
      type: Object,
      required: true
    },
    /**
     * Whether to autoplay
     */
    autoplay: {
      type: Boolean,
      default: false
    },
    /**
     * Whether to loop playback
     */
    loop: {
      type: Boolean,
      default: false
    },
    /**
     * Whether to display controls
     */
    controls: {
      type: Boolean,
      default: true
    },
    /**
     * Indicate what data should be preloaded
     */
    preload: {
      type: String,
      validator(value) {
        return ["none", "metadata", "auto"].includes(value);
      },
      default: null
    }
  },
  setup() {
    var store = media_player_store();
    return {
      store
    };
  },
  data() {
    return {
      playing: false,
      renderer: null,
      hls: null
    };
  },
  watch: {
    source() {
      this.setupRenderer();
    }
  },
  mounted() {
    this.store.initElement(this.$refs.media);
    this.setupRenderer();
  },
  beforeUnmount() {
    this.store.initElement(null);
  },
  methods: {
    /**
     * Setup the renderer
     */
    setupRenderer() {
      var _this = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var Renderer;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              if (_this.renderer) {
                _this.renderer.unmount();
                _this.renderer = null;
              }
              Renderer = media_getRendererForMime(_this.source.mime);
              if (!Renderer) {
                _context.next = 8;
                break;
              }
              _this.renderer = (0,reactivity_esm_bundler/* markRaw */.Xl)(new Renderer());
              _context.next = 6;
              return _this.renderer.mount(_this.source.url, _this.$el);
            case 6:
              _context.next = 8;
              break;
            case 8:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }))();
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/media_player/components/MediaPlayer.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./packages/core/modules/media_player/components/MediaPlayer.vue




;
const MediaPlayer_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(MediaPlayervue_type_script_lang_js, [['render',MediaPlayervue_type_template_id_19a8696b_render]])

/* harmony default export */ var MediaPlayer = (MediaPlayer_exports_);
;// CONCATENATED MODULE: ./packages/core/modules/media_player/index.js












function media_player_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }






var MediaPlayerModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(MediaPlayerModule, _AbstractModule);
  function MediaPlayerModule(_ref) {
    var _this;
    var app = _ref.app;
    (0,classCallCheck/* default */.Z)(this, MediaPlayerModule);
    _this = media_player_callSuper(this, MediaPlayerModule, [arguments]);
    app.component("MediaPlayer", MediaPlayer);
    return _this;
  }
  (0,createClass/* default */.Z)(MediaPlayerModule, [{
    key: "element",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs = storeToRefs(store),
        element = _storeToRefs.element;
      return (0,reactivity_esm_bundler/* readonly */.OT)(element);
    }
  }, {
    key: "source",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs2 = storeToRefs(store),
        source = _storeToRefs2.source;
      return (0,reactivity_esm_bundler/* readonly */.OT)(source);
    }
  }, {
    key: "type",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs3 = storeToRefs(store),
        type = _storeToRefs3.type;
      return (0,reactivity_esm_bundler/* readonly */.OT)(type);
    }
  }, {
    key: "ready",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs4 = storeToRefs(store),
        ready = _storeToRefs4.ready;
      return (0,reactivity_esm_bundler/* readonly */.OT)(ready);
    }
  }, {
    key: "dataLoaded",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs5 = storeToRefs(store),
        dataLoaded = _storeToRefs5.dataLoaded;
      return (0,reactivity_esm_bundler/* readonly */.OT)(dataLoaded);
    }
  }, {
    key: "width",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs6 = storeToRefs(store),
        width = _storeToRefs6.width;
      return (0,reactivity_esm_bundler/* readonly */.OT)(width);
    }
  }, {
    key: "height",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs7 = storeToRefs(store),
        height = _storeToRefs7.height;
      return (0,reactivity_esm_bundler/* readonly */.OT)(height);
    }
  }, {
    key: "duration",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs8 = storeToRefs(store),
        duration = _storeToRefs8.duration;
      return (0,reactivity_esm_bundler/* readonly */.OT)(duration);
    }
  }, {
    key: "time",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs9 = storeToRefs(store),
        time = _storeToRefs9.time;
      return (0,reactivity_esm_bundler/* readonly */.OT)(time);
    }
  }, {
    key: "formattedTime",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs10 = storeToRefs(store),
        formattedTime = _storeToRefs10.formattedTime;
      return (0,reactivity_esm_bundler/* readonly */.OT)(formattedTime);
    }
  }, {
    key: "playing",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs11 = storeToRefs(store),
        playing = _storeToRefs11.playing;
      return (0,reactivity_esm_bundler/* readonly */.OT)(playing);
    }
  }, {
    key: "seeking",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs12 = storeToRefs(store),
        seeking = _storeToRefs12.seeking;
      return (0,reactivity_esm_bundler/* readonly */.OT)(seeking);
    }
  }, {
    key: "buffered",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs13 = storeToRefs(store),
        buffered = _storeToRefs13.buffered;
      return (0,reactivity_esm_bundler/* readonly */.OT)(buffered);
    }
  }, {
    key: "playbackRate",
    get: function get() {
      var store = media_player_store();
      var _storeToRefs14 = storeToRefs(store),
        playbackRate = _storeToRefs14.playbackRate;
      return (0,reactivity_esm_bundler/* readonly */.OT)(playbackRate);
    }
  }, {
    key: "setSource",
    value: function setSource(value) {
      var store = media_player_store();
      store.setSource(value);
    }
  }, {
    key: "play",
    value: function play() {
      var store = media_player_store();
      store.play();
    }
  }, {
    key: "pause",
    value: function pause() {
      var store = media_player_store();
      store.pause();
    }
  }, {
    key: "stop",
    value: function stop() {
      var store = media_player_store();
      store.stop();
    }
  }, {
    key: "seekTo",
    value: function seekTo(value) {
      var store = media_player_store();
      store.seekTo(value);
    }
  }, {
    key: "setPlaybackRate",
    value: function setPlaybackRate(value) {
      var store = media_player_store();
      store.setPlaybackRate(value);
    }
  }, {
    key: "formatTime",
    value: function formatTime(time) {
      return media_formatTime(time);
    }
  }, {
    key: "getMimeTypeFromURL",
    value: function getMimeTypeFromURL(url) {
      return media_getMimeTypeFromURL(url);
    }
  }, {
    key: "getRendererForMime",
    value: function getRendererForMime(mime) {
      return media_getRendererForMime(mime);
    }
  }, {
    key: "getFileDuration",
    value: function () {
      var _getFileDuration = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(file) {
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return media_getFileDuration(file);
            case 2:
              return _context.abrupt("return", _context.sent);
            case 3:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }));
      function getFileDuration(_x) {
        return _getFileDuration.apply(this, arguments);
      }
      return getFileDuration;
    }()
  }, {
    key: "onStoreAction",
    value: function onStoreAction(callback) {
      var store = media_player_store();
      return store.$onAction(callback);
    }
  }]);
  return MediaPlayerModule;
}(AbstractModule);
(0,defineProperty/* default */.Z)(MediaPlayerModule, "id", "media_player");

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js
var assertThisInitialized = __webpack_require__(85457);
;// CONCATENATED MODULE: ./packages/core/modules/media_cuepoints/services/cuepoints-manager.js






var cuepoints = [];
var seeking = false;
var trackErrors = false;
var maxError = 0;
var previousTime = null;
function cuepoints_manager_addCuepoint(_ref) {
  var startTime = _ref.startTime,
    endTime = _ref.endTime,
    _ref$onStart = _ref.onStart,
    onStart = _ref$onStart === void 0 ? null : _ref$onStart,
    _ref$onUpdate = _ref.onUpdate,
    onUpdate = _ref$onUpdate === void 0 ? null : _ref$onUpdate,
    _ref$onSeekout = _ref.onSeekout,
    onSeekout = _ref$onSeekout === void 0 ? null : _ref$onSeekout,
    _ref$onStop = _ref.onStop,
    onStop = _ref$onStop === void 0 ? null : _ref$onStop,
    _ref$onDestroy = _ref.onDestroy,
    onDestroy = _ref$onDestroy === void 0 ? null : _ref$onDestroy,
    _ref$considerError = _ref.considerError,
    considerError = _ref$considerError === void 0 ? true : _ref$considerError;
  var cuepoint = {
    startTime,
    endTime,
    onStart,
    onUpdate,
    onSeekout,
    onStop,
    onDestroy,
    considerError,
    running: false
  };
  cuepoints.push(cuepoint);
  trackErrors = trackErrors || considerError;
  var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
    time = _useModule.time;
  updateCuepoint(cuepoint, (0,reactivity_esm_bundler/* unref */.SU)(time));
  return cuepoint;
}
function cuepoints_manager_removeCuepoint(cuepoint) {
  if (cuepoint.onDestroy) {
    try {
      cuepoint.onDestroy();
    } catch (e) {
      console.error(e);
    }
  }
  cuepoints = cuepoints.filter(function (c) {
    return c !== cuepoint;
  });
}
function cuepoints_manager_clearCuepoints() {
  cuepoints = [];
}
function updateCuepoint(cuepoint, time) {
  var seeked = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (seeking) return;
  if (!cuepoint.running) {
    if ((cuepoint.startTime === null || cuepoint.startTime <= time) && (cuepoint.endTime === null || cuepoint.endTime > time)) {
      cuepoint.running = true;
      if (cuepoint.onStart) {
        cuepoint.onStart({
          time,
          cuepoint
        });
      }
      if (cuepoint.onUpdate) {
        cuepoint.onUpdate({
          time,
          cuepoint
        });
      }
      return;
    }
  } else {
    if (cuepoint.onUpdate) {
      cuepoint.onUpdate({
        time,
        cuepoint
      });
    }
    if (cuepoint.endTime !== null && cuepoint.endTime < time + maxError || seeked && cuepoint.startTime !== null && cuepoint.startTime > time) {
      cuepoint.running = false;
      if (seeked && cuepoint.onSeekout) {
        cuepoint.onSeekout({
          time,
          cuepoint
        });
      }
      if (cuepoint.onStop) {
        cuepoint.onStop({
          time,
          cuepoint
        });
      }
      if (cuepoint.once) {
        cuepoints_manager_removeCuepoint(cuepoint);
      }
    }
  }
}
function updateCuepoints(time) {
  var seeked = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  cuepoints.forEach(function (cuepoint) {
    updateCuepoint(cuepoint, time, seeked);
  });
}
function cuepoints_manager_init() {
  var _useModule2 = (0,module_manager/* useModule */.b7)("media_player"),
    mediaTime = _useModule2.time,
    mediaSeeking = _useModule2.seeking;
  (0,runtime_core_esm_bundler/* watch */.YP)(mediaTime, function (value) {
    // Don't update if seeking.
    if (mediaSeeking.value) return;
    if (trackErrors) {
      if (previousTime !== null) {
        maxError = Math.max(maxError, Math.abs(value - previousTime));
      }
      previousTime = value;
    }
    updateCuepoints(value);
  });
  (0,runtime_core_esm_bundler/* watch */.YP)(mediaSeeking, function (value) {
    if (!value) {
      var time = (0,reactivity_esm_bundler/* unref */.SU)(mediaTime);
      if (trackErrors) {
        maxError = 0;
        previousTime = time;
      }
      updateCuepoints(time, true);
    }
  });
}

;// CONCATENATED MODULE: ./packages/core/modules/media_cuepoints/index.js











function media_cuepoints_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var MediaCuepointsModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(MediaCuepointsModule, _AbstractModule);
  function MediaCuepointsModule() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, MediaCuepointsModule);
    _this = media_cuepoints_callSuper(this, MediaCuepointsModule, [arguments]);
    _this._globalCuepoint = null;
    _this.setGlobalCuepoint = _this.setGlobalCuepoint.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this.getGlobalCuepoint = _this.getGlobalCuepoint.bind((0,assertThisInitialized/* default */.Z)(_this));
    cuepoints_manager_init();
    return _this;
  }
  (0,createClass/* default */.Z)(MediaCuepointsModule, [{
    key: "addCuepoint",
    value: function addCuepoint(options) {
      return cuepoints_manager_addCuepoint(options);
    }
  }, {
    key: "removeCuepoint",
    value: function removeCuepoint(options) {
      cuepoints_manager_removeCuepoint(options);
    }
  }, {
    key: "getGlobalCuepoint",
    value: function getGlobalCuepoint() {
      return this._globalCuepoint;
    }
  }, {
    key: "setGlobalCuepoint",
    value: function setGlobalCuepoint(options) {
      if (this._globalCuepoint) {
        cuepoints_manager_removeCuepoint(this._globalCuepoint);
      }
      this._globalCuepoint = cuepoints_manager_addCuepoint(options);
      return this._globalCuepoint;
    }
  }, {
    key: "clearCuepoints",
    value: function clearCuepoints() {
      cuepoints_manager_clearCuepoints();
    }
  }]);
  return MediaCuepointsModule;
}(AbstractModule);
(0,defineProperty/* default */.Z)(MediaCuepointsModule, "id", "media_cuepoints");
(0,defineProperty/* default */.Z)(MediaCuepointsModule, "dependencies", [MediaPlayerModule]);

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.at.js
var es_array_at = __webpack_require__(92176);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.at-alternative.js
var es_string_at_alternative = __webpack_require__(7961);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-exception.constructor.js
var web_dom_exception_constructor = __webpack_require__(97337);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-exception.stack.js
var web_dom_exception_stack = __webpack_require__(13429);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-exception.to-string-tag.js
var web_dom_exception_to_string_tag = __webpack_require__(37462);
// EXTERNAL MODULE: ./node_modules/core-js/modules/web.structured-clone.js
var web_structured_clone = __webpack_require__(25564);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/get.js + 1 modules
var esm_get = __webpack_require__(86035);
;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/native.js
var randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);
/* harmony default export */ var esm_browser_native = ({
  randomUUID
});
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.slice.js
var es_array_buffer_slice = __webpack_require__(99211);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-array.js
var es_typed_array_uint8_array = __webpack_require__(28607);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.at.js
var es_typed_array_at = __webpack_require__(95194);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.copy-within.js
var es_typed_array_copy_within = __webpack_require__(36664);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.every.js
var es_typed_array_every = __webpack_require__(55980);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.fill.js
var es_typed_array_fill = __webpack_require__(79943);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.filter.js
var es_typed_array_filter = __webpack_require__(96089);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find.js
var es_typed_array_find = __webpack_require__(18539);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-index.js
var es_typed_array_find_index = __webpack_require__(48690);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-last.js
var es_typed_array_find_last = __webpack_require__(20522);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-last-index.js
var es_typed_array_find_last_index = __webpack_require__(82);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.for-each.js
var es_typed_array_for_each = __webpack_require__(45385);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.includes.js
var es_typed_array_includes = __webpack_require__(85552);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.index-of.js
var es_typed_array_index_of = __webpack_require__(31803);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.iterator.js
var es_typed_array_iterator = __webpack_require__(91565);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.join.js
var es_typed_array_join = __webpack_require__(67987);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.last-index-of.js
var es_typed_array_last_index_of = __webpack_require__(49365);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.map.js
var es_typed_array_map = __webpack_require__(80677);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce.js
var es_typed_array_reduce = __webpack_require__(18118);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce-right.js
var es_typed_array_reduce_right = __webpack_require__(41165);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reverse.js
var es_typed_array_reverse = __webpack_require__(71522);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js
var es_typed_array_set = __webpack_require__(79976);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.slice.js
var es_typed_array_slice = __webpack_require__(4797);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.some.js
var es_typed_array_some = __webpack_require__(7300);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.sort.js
var es_typed_array_sort = __webpack_require__(93356);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-locale-string.js
var es_typed_array_to_locale_string = __webpack_require__(99724);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-reversed.js
var es_typed_array_to_reversed = __webpack_require__(24224);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-sorted.js
var es_typed_array_to_sorted = __webpack_require__(61121);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-string.js
var es_typed_array_to_string = __webpack_require__(99901);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.with.js
var es_typed_array_with = __webpack_require__(37133);
;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/rng.js

































// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);
    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }
  return getRandomValues(rnds8);
}
;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/stringify.js






/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

var byteToHex = [];
for (var i = 0; i < 256; ++i) {
  byteToHex.push((i + 0x100).toString(16).slice(1));
}
function unsafeStringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];
}
function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  var uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!validate(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }
  return uuid;
}
/* harmony default export */ var esm_browser_stringify = ((/* unused pure expression or super */ null && (stringify)));
;// CONCATENATED MODULE: ./node_modules/uuid/dist/esm-browser/v4.js



function v4(options, buf, offset) {
  if (esm_browser_native.randomUUID && !buf && !options) {
    return esm_browser_native.randomUUID();
  }
  options = options || {};
  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;
    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }
    return buf;
  }
  return unsafeStringify(rnds);
}
/* harmony default export */ var esm_browser_v4 = (v4);
// EXTERNAL MODULE: ./packages/core/node_modules/ajv/dist/ajv.js
var ajv = __webpack_require__(41663);
var ajv_default = /*#__PURE__*/__webpack_require__.n(ajv);
;// CONCATENATED MODULE: ./packages/core/models/AbstractModel.js















/**
 * @type {Ajv} The global Ajv instance.
 */
var _ajv = new (ajv_default())({
  allErrors: true,
  verbose: true,
  strict: false,
  useDefaults: true,
  multipleOfPrecision: 2
});
(0,reactivity_esm_bundler/* markRaw */.Xl)(_ajv);

/**
 * Retreive properties from a JSON schema.
 *
 * @param {Object} schema The schema
 * @param {Ajv?} validator An Ajv instance
 * @returns {Object} The list of properties
 */
function getProperties(schema) {
  var validator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
  var properties = {};
  var root = !validator;
  if (root) {
    validator = new (ajv_default())();
    validator.addSchema(schema);
  }
  if (schema.definitions) {
    Object.entries(schema.definitions).forEach(function (_ref) {
      var _ref2 = (0,slicedToArray/* default */.Z)(_ref, 2),
        k = _ref2[0],
        d = _ref2[1];
      validator.addSchema(d, `#/definitions/${k}`);
    });
  }
  if (schema.$ref) {
    schema = validator.getSchema(schema.$ref).schema;
  }
  if (schema.properties) {
    properties = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, properties), schema.properties);
  }
  if (schema.then) {
    properties = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, properties), getProperties(schema.then, validator));
  }
  if (schema.else) {
    properties = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, properties), getProperties(schema.else, validator));
  }
  var defs = schema["anyOf"] || schema["allOf"] || root && schema["oneOf"];
  if (defs) {
    defs.forEach(function (def) {
      properties = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, properties), getProperties(def, validator));
    });
  }
  return properties;
}

/**
 * An abstract model based {@link http://json-schema.org/|JSON schema}
 * Heavily inspired by {@link https://github.com/chialab/schema-model|schema-model},
 * and uses {@link https://ajv.js.org/|AJV} for shcema validation.
 *
 * @abstract
 */
var AbstractModel = /*#__PURE__*/function () {
  function AbstractModel() {
    (0,classCallCheck/* default */.Z)(this, AbstractModel);
    this._data = (0,reactivity_esm_bundler/* reactive */.qj)({});
    return new Proxy(this, {
      get(target, name) {
        if ((0,lodash.isString)(name) && Object.prototype.hasOwnProperty.call(target.properties, name)) {
          return target.getPropertyValue(name);
        }
        return Reflect.get.apply(Reflect, arguments);
      },
      set(target, name, value) {
        if ((0,lodash.isString)(name) && Object.prototype.hasOwnProperty.call(target.properties, name)) {
          target.setPropertyValue(name, value);
          return true;
        }
        return Reflect.set.apply(Reflect, arguments);
      }
    });
  }

  /**
   * Alias to the static method of the same name
   *
   * @returns {Ajv} The Ajv instance
   */
  (0,createClass/* default */.Z)(AbstractModel, [{
    key: "ajv",
    get: function get() {
      return _ajv;
    }

    /**
     * Alias to the static method of the same name
     *
     * @returns {Object} The schema definition
     */
  }, {
    key: "schema",
    get: function get() {
      return this.constructor.schema;
    }

    /**
     * Alias to the static method of the same name
     *
     * @returns {Object} The list of properties in JSON schema format
     */
  }, {
    key: "properties",
    get: function get() {
      return this.constructor.properties;
    }

    /**
     * Get the model's data
     *
     * @returns {Object} The data
     */
  }, {
    key: "data",
    get: function get() {
      return this._data;
    }

    /**
     * Get the value of a property
     *
     * @param {string} name The property name
     * @returns {*} The assosiated value
     */
  }, {
    key: "getPropertyValue",
    value: function getPropertyValue(name) {
      return this._data[name];
    }

    /**
     * Set the value of a property
     *
     * @param {string} name The property name
     * @param {*} value The value
     */
  }, {
    key: "setPropertyValue",
    value: function setPropertyValue(name, value) {
      this._data[name] = value;
    }

    /**
     * Validate data against the schema.
     *
     * @param {Object} data The data to validate
     * @returns {Promise} A promise that resolves with validated data or rejects with errors
     */
  }, {
    key: "validate",
    value: function validate(data) {
      var _this = this;
      return new Promise(function (resolve, reject) {
        var result = _this.constructor.validate(data);
        if (!!result && typeof result.then === "function") {
          result.then(resolve).catch(function (e) {
            reject(e.errors);
          });
        } else {
          if (result) {
            resolve(data);
          } else {
            reject(_this.constructor.validate.errors);
          }
        }
      });
    }

    /**
     * Update internal data
     *
     * @param {Object} data The data to update
     * @param {boolean} [validate=true] Whether to validate the data
     * @returns {Promise<this, Error>} True if the data is valid, false otherwise
     */
  }, {
    key: "update",
    value: function update(data) {
      var _this2 = this;
      var validate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      if (validate) {
        var updated = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, this._data), data);
        return new Promise(function (resolve, reject) {
          _this2.validate(updated).then(function (result) {
            Object.assign(_this2, result);
            resolve(_this2);
          }).catch(function (errors) {
            reject(errors);
          });
        });
      } else {
        Object.assign(this, data);
        return this;
      }
    }
  }], [{
    key: "ajv",
    get:
    /**
     * Get the AJV instance.
     *
     * @returns {Ajv} The Ajv instance
     */
    function get() {
      return _ajv;
    }

    /**
     * Get the Schema identifier.
     *
     * @returns {String} The schema identifier
     */
  }, {
    key: "schemaId",
    get: function get() {
      return "abstract-model";
    }

    /**
     * Get the JSON Schema definition for this model
     *
     * @returns {Object} The schema definition
     */
  }, {
    key: "schema",
    get: function get() {
      return {
        $id: this.schemaId,
        type: "object",
        properties: {},
        unevaluatedProperties: false
      };
    }

    /**
     * Get all properties from the schema
     * with all definitions merged.
     *
     * @returns {Object} The list of properties in JSON schema format
     */
  }, {
    key: "properties",
    get: function get() {
      if (!this._properties) {
        this._properties = getProperties(this.schema);
      }
      return this._properties;
    }

    /**
     * Get the list of required properties from the schema.
     *
     * @returns {string[]} The list of required properties
     */
  }, {
    key: "requiredProperties",
    get: function get() {
      return this.schema.required;
    }

    /**
     * Get the validation function.
     *
     * @returns {Function} The data validation function.
     */
  }, {
    key: "validate",
    get: function get() {
      return _ajv.getSchema(this.schemaId) || _ajv.compile(this.schema);
    }
  }, {
    key: "create",
    value: function create() {
      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var validate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var instance = new this();
      return instance.update(data, validate);
    }
  }]);
  return AbstractModel;
}();

// EXTERNAL MODULE: ./node_modules/url-regex/index.js
var url_regex = __webpack_require__(30147);
var url_regex_default = /*#__PURE__*/__webpack_require__.n(url_regex);
// EXTERNAL MODULE: ./node_modules/validate-color/lib/index.js
var lib = __webpack_require__(81596);
var lib_default = /*#__PURE__*/__webpack_require__.n(lib);
;// CONCATENATED MODULE: ./packages/core/utils/schema.js





var createStringField = function createStringField() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref$title = _ref.title,
    title = _ref$title === void 0 ? "" : _ref$title,
    _ref$description = _ref.description,
    description = _ref$description === void 0 ? "" : _ref$description,
    default_value = _ref.default,
    _ref$minLength = _ref.minLength,
    minLength = _ref$minLength === void 0 ? null : _ref$minLength,
    _ref$maxLength = _ref.maxLength,
    maxLength = _ref$maxLength === void 0 ? null : _ref$maxLength,
    _ref$nullable = _ref.nullable,
    nullable = _ref$nullable === void 0 ? false : _ref$nullable;
  var field = {
    type: nullable ? ["string", "null"] : "string",
    title,
    description,
    default: default_value
  };
  if (minLength !== null) {
    field.minLength = minLength;
  }
  if (maxLength !== null) {
    field.maxLength = maxLength;
  }
  return field;
};
var createNumberField = function createNumberField() {
  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref2$title = _ref2.title,
    title = _ref2$title === void 0 ? "" : _ref2$title,
    _ref2$description = _ref2.description,
    description = _ref2$description === void 0 ? "" : _ref2$description,
    default_value = _ref2.default,
    _ref2$nullable = _ref2.nullable,
    nullable = _ref2$nullable === void 0 ? false : _ref2$nullable,
    _ref2$multipleOf = _ref2.multipleOf,
    multipleOf = _ref2$multipleOf === void 0 ? 0.01 : _ref2$multipleOf,
    _ref2$minimum = _ref2.minimum,
    minimum = _ref2$minimum === void 0 ? null : _ref2$minimum,
    _ref2$maximum = _ref2.maximum,
    maximum = _ref2$maximum === void 0 ? null : _ref2$maximum;
  var field = {
    type: nullable ? ["number", "null"] : "number",
    title,
    description,
    default: default_value,
    multipleOf
  };
  if (minimum !== null) {
    field.minimum = minimum;
  }
  if (maximum !== null) {
    field.maximum = maximum;
  }
  return field;
};
var createIntegerField = function createIntegerField() {
  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref3$title = _ref3.title,
    title = _ref3$title === void 0 ? "" : _ref3$title,
    _ref3$description = _ref3.description,
    description = _ref3$description === void 0 ? "" : _ref3$description,
    default_value = _ref3.default,
    _ref3$nullable = _ref3.nullable,
    nullable = _ref3$nullable === void 0 ? false : _ref3$nullable,
    _ref3$minimum = _ref3.minimum,
    minimum = _ref3$minimum === void 0 ? null : _ref3$minimum,
    _ref3$maximum = _ref3.maximum,
    maximum = _ref3$maximum === void 0 ? null : _ref3$maximum;
  var field = {
    type: nullable ? ["integer", "null"] : "integer",
    title,
    description,
    default: default_value
  };
  if (minimum !== null) {
    field.minimum = minimum;
  }
  if (maximum !== null) {
    field.maximum = maximum;
  }
  return field;
};
var createBooleanField = function createBooleanField() {
  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref4$title = _ref4.title,
    title = _ref4$title === void 0 ? "" : _ref4$title,
    _ref4$description = _ref4.description,
    description = _ref4$description === void 0 ? "" : _ref4$description,
    default_value = _ref4.default,
    _ref4$nullable = _ref4.nullable,
    nullable = _ref4$nullable === void 0 ? false : _ref4$nullable;
  return {
    type: nullable ? ["boolean", "null"] : "boolean",
    title,
    description,
    default: default_value
  };
};
var createArrayField = function createArrayField() {
  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref5$title = _ref5.title,
    title = _ref5$title === void 0 ? "" : _ref5$title,
    _ref5$description = _ref5.description,
    description = _ref5$description === void 0 ? "" : _ref5$description,
    default_value = _ref5.default,
    _ref5$nullable = _ref5.nullable,
    nullable = _ref5$nullable === void 0 ? false : _ref5$nullable,
    _ref5$minItems = _ref5.minItems,
    minItems = _ref5$minItems === void 0 ? null : _ref5$minItems,
    _ref5$maxItems = _ref5.maxItems,
    maxItems = _ref5$maxItems === void 0 ? null : _ref5$maxItems,
    _ref5$items = _ref5.items,
    items = _ref5$items === void 0 ? null : _ref5$items,
    _ref5$additionalItems = _ref5.additionalItems,
    additionalItems = _ref5$additionalItems === void 0 ? null : _ref5$additionalItems,
    _ref5$uniqueItems = _ref5.uniqueItems,
    uniqueItems = _ref5$uniqueItems === void 0 ? null : _ref5$uniqueItems;
  var field = {
    type: nullable ? ["array", "null"] : "array",
    title,
    description,
    default: default_value
  };
  if (minItems !== null) {
    field.minItems = minItems;
  }
  if (maxItems !== null) {
    field.maxItems = maxItems;
  }
  if (items !== null) {
    field.items = items;
  }
  if (additionalItems !== null) {
    field.additionalItems = additionalItems;
  }
  if (uniqueItems !== null) {
    field.uniqueItems = uniqueItems;
  }
  return field;
};
var createEnumField = function createEnumField() {
  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    _ref6$title = _ref6.title,
    title = _ref6$title === void 0 ? "" : _ref6$title,
    _ref6$description = _ref6.description,
    description = _ref6$description === void 0 ? "" : _ref6$description,
    default_value = _ref6.default,
    _ref6$nullable = _ref6.nullable,
    nullable = _ref6$nullable === void 0 ? false : _ref6$nullable,
    _ref6$enum = _ref6.enum,
    allowed_values = _ref6$enum === void 0 ? [] : _ref6$enum;
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createStringField({
    title,
    description,
    default: default_value,
    nullable
  })), {}, {
    enum: allowed_values
  });
};
var createUrlField = function createUrlField() {
  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref7.ajv,
    _ref7$title = _ref7.title,
    title = _ref7$title === void 0 ? "" : _ref7$title,
    _ref7$description = _ref7.description,
    description = _ref7$description === void 0 ? "" : _ref7$description,
    default_value = _ref7.default,
    _ref7$nullable = _ref7.nullable,
    nullable = _ref7$nullable === void 0 ? false : _ref7$nullable;
  ajv.addFormat("url", (url_regex_default()));
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createStringField({
    title,
    description,
    default: default_value,
    nullable
  })), {}, {
    format: "url"
  });
};
var createTimeField = function createTimeField() {
  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref8.ajv,
    _ref8$title = _ref8.title,
    title = _ref8$title === void 0 ? "" : _ref8$title,
    _ref8$description = _ref8.description,
    description = _ref8$description === void 0 ? "" : _ref8$description,
    default_value = _ref8.default,
    _ref8$nullable = _ref8.nullable,
    nullable = _ref8$nullable === void 0 ? false : _ref8$nullable;
  ajv.addFormat("time", {
    validate: function validate() {
      return true;
    }
  });
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createNumberField({
    title,
    description,
    default: default_value,
    nullable
  })), {}, {
    format: "time"
  });
};
var createColorField = function createColorField() {
  var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref9.ajv,
    _ref9$title = _ref9.title,
    title = _ref9$title === void 0 ? "" : _ref9$title,
    _ref9$description = _ref9.description,
    description = _ref9$description === void 0 ? "" : _ref9$description,
    default_value = _ref9.default,
    _ref9$nullable = _ref9.nullable,
    nullable = _ref9$nullable === void 0 ? true : _ref9$nullable;
  ajv.addFormat("color", {
    validate: (lib_default())
  });
  return {
    type: nullable ? ["string", "null"] : "string",
    format: "color",
    title,
    description,
    default: default_value
  };
};
var createImageField = function createImageField() {
  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref10.ajv,
    _ref10$title = _ref10.title,
    title = _ref10$title === void 0 ? "" : _ref10$title,
    _ref10$description = _ref10.description,
    description = _ref10$description === void 0 ? "" : _ref10$description,
    default_value = _ref10.default,
    _ref10$nullable = _ref10.nullable,
    nullable = _ref10$nullable === void 0 ? true : _ref10$nullable;
  ajv.addFormat("image", (url_regex_default()));
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createStringField({
    title,
    description,
    default: default_value,
    nullable
  })), {}, {
    format: "image"
  });
};
var createFileField = function createFileField() {
  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref11.ajv,
    _ref11$title = _ref11.title,
    title = _ref11$title === void 0 ? "" : _ref11$title,
    _ref11$description = _ref11.description,
    description = _ref11$description === void 0 ? "" : _ref11$description,
    _ref11$multiple = _ref11.multiple,
    multiple = _ref11$multiple === void 0 ? false : _ref11$multiple,
    _ref11$nullable = _ref11.nullable,
    nullable = _ref11$nullable === void 0 ? true : _ref11$nullable;
  ajv.addFormat("file", {
    validate: function validate() {
      return true;
    }
  });
  var item = {
    type: nullable ? ["object", "null"] : "object",
    title,
    description,
    properties: {
      name: {
        type: "string"
      },
      size: {
        type: "number"
      },
      mime: {
        type: "string"
      },
      url: {
        type: "string"
      }
    }
  };
  if (multiple) {
    return _objectSpread(_objectSpread({}, createArrayField({
      items: item
    })), {}, {
      format: "file"
    });
  } else {
    return _objectSpread(_objectSpread({}, item), {}, {
      format: "file"
    });
  }
};
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/AbstractComponent.js




















function AbstractComponent_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }






var AbstractComponent = /*#__PURE__*/function (_AbstractModel) {
  (0,inherits/* default */.Z)(AbstractComponent, _AbstractModel);
  /**
   * @inheritdoc
   */
  function AbstractComponent() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, AbstractComponent);
    var proxy = _this = AbstractComponent_callSuper(this, AbstractComponent);

    /**
     * @var {Array} _sorted_overrides
     * @private
     * */
    _this._sorted_overrides = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _useStore = app_components_store(),
        overridesEnabled = _useStore.overridesEnabled,
        getOverrides = _useStore.getOverrides;
      if (overridesEnabled) {
        var overrides = getOverrides((0,assertThisInitialized/* default */.Z)(_this));
        if (overrides) {
          return Array.from(overrides.values()).sort(function (o1, o2) {
            return o1.priority > o2.priority;
          }).map(function (o) {
            return o.values;
          });
        }
      }
      return [];
    });
    return (0,possibleConstructorReturn/* default */.Z)(_this, proxy);
  }

  /**
   * @inheritdoc
   */
  (0,createClass/* default */.Z)(AbstractComponent, [{
    key: "getPropertyValue",
    value: function getPropertyValue(name) {
      if (!["type", "id"].includes(name)) {
        var _iterator = (0,createForOfIteratorHelper/* default */.Z)((0,reactivity_esm_bundler/* unref */.SU)(this._sorted_overrides)),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var overrides = _step.value;
            if (Object.prototype.hasOwnProperty.call(overrides, name)) {
              return overrides[name];
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
      return this._data[name];
    }

    /**
     * Alias to the static getter modelChain
     *
     * @returns {Class[]} The list of Model classes in the inheritance chain
     */
  }, {
    key: "$modelChain",
    get: function get() {
      return this.constructor.modelChain;
    }
  }], [{
    key: "schemaId",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      return `app-components:${this.type}`;
    }

    /**
     * The component's children property
     */
  }, {
    key: "mime",
    get:
    /**
     * The component's mime type.
     * Mainly used for drag'n'drop events.
     */
    function get() {
      return `metascore/component;type=${(0,lodash.kebabCase)(this.type)}`;
    }

    /**
     * Get a list of inheritance chain classes
     *
     * @returns {Class[]} The list of Model classes in the inheritance chain
     */
  }, {
    key: "modelChain",
    get: function get() {
      var _this$baseModel;
      var classes = [this];
      if ((_this$baseModel = this.baseModel) !== null && _this$baseModel !== void 0 && _this$baseModel.modelChain) {
        classes = classes.concat(this.baseModel.modelChain);
      }
      return classes;
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "schema",
    get: function get() {
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(AbstractComponent), "schema", this), {
        properties: {
          type: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createStringField({
            title: "Type",
            description: "The component's type",
            default: this.type
          })), {}, {
            const: this.type
          }),
          id: createStringField({
            title: "ID",
            description: "The component's unique identifier"
          }),
          // @TODO: move to seperate data model in editor
          editor: {
            type: "object",
            properties: {
              locked: createBooleanField({
                title: "Locked",
                default: false
              })
            },
            additionalProperties: false
          }
        },
        required: ["type", "id"]
      });
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "create",
    value: function create() {
      var _get2;
      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        rest[_key - 1] = arguments[_key];
      }
      return (_get2 = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(AbstractComponent), "create", this)).call.apply(_get2, [this, (0,objectSpread2/* default */.Z)({
        id: `component-${esm_browser_v4()}`
      }, data)].concat(rest));
    }
  }]);
  return AbstractComponent;
}(AbstractModel);
/**
 * The model's base class
 */
(0,defineProperty/* default */.Z)(AbstractComponent, "baseModel", AbstractModel);
/**
 * The component's type
 */
(0,defineProperty/* default */.Z)(AbstractComponent, "type", "AbstractComponent");
(0,defineProperty/* default */.Z)(AbstractComponent, "childrenProperty", null);

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.with.js
var es_array_with = __webpack_require__(21319);
// EXTERNAL MODULE: ./node_modules/mixwith/mixwith.js
var mixwith = __webpack_require__(50309);
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Backgroundable.js










function Backgroundable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



/* harmony default export */ var Backgroundable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Backgroundable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, null, [{
      key: "schema",
      get: function get() {
        var ajv = this.ajv;
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            "background-color": createColorField({
              ajv,
              title: "Background color",
              default: null,
              nullable: true
            }),
            "background-image": createImageField({
              ajv,
              title: "Background image",
              default: null,
              nullable: true
            })
          }
        });
      }
    }, {
      key: "$isBackgroundable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/utils/schema.js






function createCollectionField() {
  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref.ajv,
    _ref$title = _ref.title,
    title = _ref$title === void 0 ? "" : _ref$title,
    _ref$description = _ref.description,
    description = _ref$description === void 0 ? "" : _ref$description,
    _ref$model = _ref.model,
    model = _ref$model === void 0 ? [] : _ref$model;
  ajv.addFormat("collection", {
    validate: function validate() {
      return true;
    }
  });
  var types = Array.isArray(model) ? model.map(function (m) {
    return m.type;
  }) : [model.type];
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createArrayField({
    title,
    description,
    items: {
      type: "object",
      properties: {
        id: {
          type: "string"
        },
        type: {
          enum: types
        }
      }
    },
    uniqueItems: true
  })), {}, {
    format: "collection"
  });
}
function createHtmlField() {
  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref2.ajv,
    _ref2$title = _ref2.title,
    title = _ref2$title === void 0 ? "" : _ref2$title,
    _ref2$description = _ref2.description,
    description = _ref2$description === void 0 ? "" : _ref2$description,
    _ref2$default = _ref2.default,
    default_value = _ref2$default === void 0 ? null : _ref2$default,
    _ref2$nullable = _ref2.nullable,
    nullable = _ref2$nullable === void 0 ? true : _ref2$nullable;
  ajv.addFormat("html", {
    validate: function validate() {
      return true;
    }
  });
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createStringField({
    title,
    description,
    default: default_value,
    nullable
  })), {}, {
    format: "html"
  });
}
function createAngleField() {
  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref3.ajv,
    _ref3$title = _ref3.title,
    title = _ref3$title === void 0 ? "" : _ref3$title,
    _ref3$description = _ref3.description,
    description = _ref3$description === void 0 ? "" : _ref3$description,
    _ref3$default = _ref3.default,
    default_value = _ref3$default === void 0 ? 0 : _ref3$default,
    _ref3$nullable = _ref3.nullable,
    nullable = _ref3$nullable === void 0 ? true : _ref3$nullable;
  ajv.addFormat("angle", {
    validate: function validate() {
      return true;
    }
  });
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, createIntegerField({
    title,
    description,
    default: default_value,
    nullable,
    minimum: 0,
    maximum: 359
  })), {}, {
    format: "angle"
  });
}
function createBorderRadiusField() {
  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref4.ajv,
    _ref4$title = _ref4.title,
    title = _ref4$title === void 0 ? "" : _ref4$title,
    _ref4$description = _ref4.description,
    description = _ref4$description === void 0 ? "" : _ref4$description,
    _ref4$default = _ref4.default,
    default_value = _ref4$default === void 0 ? 0 : _ref4$default,
    _ref4$nullable = _ref4.nullable,
    nullable = _ref4$nullable === void 0 ? false : _ref4$nullable;
  ajv.addFormat("border-radius", {
    validate: function validate() {
      return true;
    }
  });
  return {
    type: nullable ? ["string", "integer", "null"] : ["string", "integer"],
    title,
    description,
    default: default_value,
    format: "border-radius"
  };
}
function createAnimatedField() {
  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},
    ajv = _ref5.ajv,
    _ref5$title = _ref5.title,
    title = _ref5$title === void 0 ? "" : _ref5$title,
    _ref5$description = _ref5.description,
    description = _ref5$description === void 0 ? "" : _ref5$description,
    _ref5$default = _ref5.default,
    default_value = _ref5$default === void 0 ? {
      animated: false,
      value: null
    } : _ref5$default,
    _ref5$nullable = _ref5.nullable,
    nullable = _ref5$nullable === void 0 ? false : _ref5$nullable,
    items = _ref5.items;
  ajv.addFormat("animated", {
    validate: function validate() {
      return true;
    }
  });
  return {
    type: nullable ? ["object", "null"] : ["object"],
    title,
    description,
    properties: {
      animated: createBooleanField({
        title: "Animated",
        description: "Whether the value is animated.",
        default: false
      })
    },
    if: {
      $id: esm_browser_v4(),
      // Used for Ajv caching.
      properties: {
        animated: {
          const: false
        }
      }
    },
    then: {
      properties: {
        value: items
      }
    },
    else: {
      properties: {
        value: createArrayField({
          items: {
            type: "array",
            items: [createTimeField({
              ajv
            }), items]
          }
        })
      }
    },
    default: default_value,
    format: "animated"
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Borderable.js













function Borderable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }




/* harmony default export */ var Borderable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Borderable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, [{
      key: "update",
      value: function () {
        var _update = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
          var _get2;
          var _len,
            rest,
            _key,
            _args = arguments;
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                if ("border-width" in data) {
                  data["border-width"] = Math.round(data["border-width"]);
                }
                for (_len = _args.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  rest[_key - 1] = _args[_key];
                }
                _context.next = 4;
                return (_get2 = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class.prototype), "update", this)).call.apply(_get2, [this, data].concat(rest));
              case 4:
                return _context.abrupt("return", _context.sent);
              case 5:
              case "end":
                return _context.stop();
            }
          }, _callee, this);
        }));
        function update(_x) {
          return _update.apply(this, arguments);
        }
        return update;
      }()
    }], [{
      key: "schema",
      get: function get() {
        var ajv = this.ajv;
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            "border-width": createIntegerField({
              title: "Border width",
              default: 0,
              minimum: 0
            }),
            "border-color": createColorField({
              ajv,
              title: "Border color",
              default: null,
              nullable: true
            }),
            "border-radius": createBorderRadiusField({
              ajv,
              title: "Border radius",
              default: null,
              nullable: true
            })
          }
        });
      }
    }, {
      key: "$isBorderable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Hideable.js










function Hideable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



/* harmony default export */ var Hideable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Hideable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, null, [{
      key: "schema",
      get: function get() {
        var ajv = this.ajv;
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            hidden: createBooleanField({
              ajv,
              title: "Hidden",
              default: false
            })
          }
        });
      }
    }, {
      key: "$isHideable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Opacitiable.js














function Opacitiable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }




/* harmony default export */ var Opacitiable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Opacitiable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, [{
      key: "update",
      value: (
      /**
       * @inheritdoc
       */
      function () {
        var _update = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
          var _get2;
          var _this$opacity,
            _len,
            rest,
            _key,
            _args = arguments;
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                if ("opacity" in data) {
                  if (data.opacity.animated && Array.isArray(data.opacity.value)) {
                    if (data.opacity.value.length === 0) {
                      // If the last keyframe has been deleted,
                      // mark the property as unanimated.
                      data.opacity = {
                        value: (_this$opacity = this.opacity) === null || _this$opacity === void 0 || (_this$opacity = _this$opacity.value) === null || _this$opacity === void 0 || (_this$opacity = _this$opacity[0]) === null || _this$opacity === void 0 ? void 0 : _this$opacity[1],
                        animated: false
                      };
                    } else {
                      // Round the animated values.
                      data.opacity = {
                        value: data.opacity.value.map(function (value) {
                          return [value[0], (0,lodash.round)(value[1], 2)];
                        }),
                        animated: true
                      };
                    }
                  } else if (data.opacity.value) {
                    // Round the value.
                    data.opacity = {
                      value: (0,lodash.round)(data.opacity.value, 2),
                      animated: false
                    };
                  }
                }
                for (_len = _args.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  rest[_key - 1] = _args[_key];
                }
                _context.next = 4;
                return (_get2 = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class.prototype), "update", this)).call.apply(_get2, [this, data].concat(rest));
              case 4:
                return _context.abrupt("return", _context.sent);
              case 5:
              case "end":
                return _context.stop();
            }
          }, _callee, this);
        }));
        function update(_x) {
          return _update.apply(this, arguments);
        }
        return update;
      }())
    }], [{
      key: "schema",
      get: function get() {
        var ajv = this.ajv;
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            opacity: createAnimatedField({
              ajv,
              title: "Opacity",
              default: {
                animated: false,
                value: 1
              },
              items: createNumberField({
                minimum: 0,
                maximum: 1
              })
            })
          }
        });
      }
    }, {
      key: "$isOpacitable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Positionable.js













function Positionable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



/* harmony default export */ var Positionable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Positionable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, [{
      key: "update",
      value: function () {
        var _update = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
          var _get2;
          var _len,
            rest,
            _key,
            _args = arguments;
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                if ("position" in data) {
                  data.position[0] = Math.round(data.position[0]);
                  data.position[1] = Math.round(data.position[1]);
                }
                for (_len = _args.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  rest[_key - 1] = _args[_key];
                }
                _context.next = 4;
                return (_get2 = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class.prototype), "update", this)).call.apply(_get2, [this, data].concat(rest));
              case 4:
                return _context.abrupt("return", _context.sent);
              case 5:
              case "end":
                return _context.stop();
            }
          }, _callee, this);
        }));
        function update(_x) {
          return _update.apply(this, arguments);
        }
        return update;
      }()
    }], [{
      key: "schema",
      get: function get() {
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            position: createArrayField({
              title: "Position",
              default: [0, 0],
              items: [createIntegerField(), createIntegerField()]
            })
          }
        });
      }
    }, {
      key: "$isPositionable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Resizable.js













function Resizable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



/* harmony default export */ var Resizable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Resizable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, [{
      key: "update",
      value: function () {
        var _update = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
          var _get2;
          var _len,
            rest,
            _key,
            _args = arguments;
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                if ("dimension" in data) {
                  data.dimension[0] = Math.round(data.dimension[0]);
                  data.dimension[1] = Math.round(data.dimension[1]);
                }
                for (_len = _args.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  rest[_key - 1] = _args[_key];
                }
                _context.next = 4;
                return (_get2 = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class.prototype), "update", this)).call.apply(_get2, [this, data].concat(rest));
              case 4:
                return _context.abrupt("return", _context.sent);
              case 5:
              case "end":
                return _context.stop();
            }
          }, _callee, this);
        }));
        function update(_x) {
          return _update.apply(this, arguments);
        }
        return update;
      }()
    }], [{
      key: "schema",
      get: function get() {
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            dimension: createArrayField({
              title: "Dimension",
              default: [50, 50],
              items: [createIntegerField({
                minimum: 1
              }), createIntegerField({
                minimum: 1
              })]
            })
          }
        });
      }
    }, {
      key: "$isResizable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Timeable.js













function Timeable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



/* harmony default export */ var Timeable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Timeable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, [{
      key: "update",
      value: function () {
        var _update = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
          var _get2;
          var _len,
            rest,
            _key,
            _args = arguments;
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                if ("start-time" in data && data["start-time"] !== null) {
                  data["start-time"] = (0,lodash.round)(data["start-time"], 2);
                }
                if ("end-time" in data && data["end-time"] !== null) {
                  data["end-time"] = (0,lodash.round)(data["end-time"], 2);
                }
                for (_len = _args.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  rest[_key - 1] = _args[_key];
                }
                _context.next = 5;
                return (_get2 = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class.prototype), "update", this)).call.apply(_get2, [this, data].concat(rest));
              case 5:
                return _context.abrupt("return", _context.sent);
              case 6:
              case "end":
                return _context.stop();
            }
          }, _callee, this);
        }));
        function update(_x) {
          return _update.apply(this, arguments);
        }
        return update;
      }()
    }], [{
      key: "schema",
      get: function get() {
        var ajv = this.ajv;
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            "start-time": createTimeField({
              ajv,
              title: "Start time",
              default: null,
              nullable: true
            }),
            "end-time": createTimeField({
              ajv,
              title: "End time",
              default: null,
              nullable: true
            })
          }
        });
      }
    }, {
      key: "$isTimeable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/mixins/Transformable.js














function Transformable_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }




/* harmony default export */ var Transformable = ((0,mixwith.Mixin)(function (superclass) {
  return /*#__PURE__*/function (_superclass) {
    (0,inherits/* default */.Z)(_class, _superclass);
    function _class() {
      (0,classCallCheck/* default */.Z)(this, _class);
      return Transformable_callSuper(this, _class, arguments);
    }
    (0,createClass/* default */.Z)(_class, [{
      key: "update",
      value: (
      /**
       * @inheritdoc
       */
      function () {
        var _update = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
          var _get2;
          var _this$translate,
            _this$scale,
            _this$rotate,
            _len,
            rest,
            _key,
            _args = arguments;
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                if ("translate" in data) {
                  if (data.translate.animated && Array.isArray(data.translate.value)) {
                    if (data.translate.value.length === 0) {
                      // If the last keyframe has been deleted,
                      // mark the property as unanimated.
                      data.translate = {
                        value: (_this$translate = this.translate) === null || _this$translate === void 0 || (_this$translate = _this$translate.value) === null || _this$translate === void 0 || (_this$translate = _this$translate[0]) === null || _this$translate === void 0 ? void 0 : _this$translate[1],
                        animated: false
                      };
                    } else {
                      // Round the animated values.
                      data.translate = {
                        value: data.translate.value.map(function (value) {
                          return [value[0], [(0,lodash.round)(value[1][0]), (0,lodash.round)(value[1][1])]];
                        }),
                        animated: true
                      };
                    }
                  } else if (data.translate.value) {
                    // Round the values.
                    data.translate = {
                      value: [(0,lodash.round)(data.translate.value[0]), (0,lodash.round)(data.translate.value[1])],
                      animated: false
                    };
                  }
                }
                if ("scale" in data) {
                  if (data.scale.animated && Array.isArray(data.scale.value)) {
                    if (data.scale.value.length === 0) {
                      // If the last keyframe has been deleted,
                      // mark the property as unanimated.
                      data.scale = {
                        value: (_this$scale = this.scale) === null || _this$scale === void 0 || (_this$scale = _this$scale.value) === null || _this$scale === void 0 || (_this$scale = _this$scale[0]) === null || _this$scale === void 0 ? void 0 : _this$scale[1],
                        animated: false
                      };
                    } else {
                      // Round the animated values.
                      data.scale = {
                        value: data.scale.value.map(function (value) {
                          return [value[0], [(0,lodash.round)(value[1][0], 2), (0,lodash.round)(value[1][1], 2)]];
                        }),
                        animated: true
                      };
                    }
                  } else if (data.scale.value) {
                    // Round the values.
                    data.scale = {
                      value: [(0,lodash.round)(data.scale.value[0], 2), (0,lodash.round)(data.scale.value[1], 2)],
                      animated: false
                    };
                  }
                }
                if ("rotate" in data) {
                  if (data.rotate.animated && Array.isArray(data.rotate.value)) {
                    if (data.rotate.value.length === 0) {
                      // If the last keyframe has been deleted,
                      // mark the property as unanimated.
                      data.rotate = {
                        value: (_this$rotate = this.rotate) === null || _this$rotate === void 0 || (_this$rotate = _this$rotate.value) === null || _this$rotate === void 0 || (_this$rotate = _this$rotate[0]) === null || _this$rotate === void 0 ? void 0 : _this$rotate[1],
                        animated: false
                      };
                    } else {
                      // Round the animated values.
                      data.rotate = {
                        value: data.rotate.value.map(function (value) {
                          return [value[0], (0,lodash.round)(value[1])];
                        }),
                        animated: true
                      };
                    }
                  } else if (data.rotate.value) {
                    // Round the value.
                    data.rotate = {
                      value: (0,lodash.round)(data.rotate.value),
                      animated: false
                    };
                  }
                }
                for (_len = _args.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                  rest[_key - 1] = _args[_key];
                }
                _context.next = 6;
                return (_get2 = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class.prototype), "update", this)).call.apply(_get2, [this, data].concat(rest));
              case 6:
                return _context.abrupt("return", _context.sent);
              case 7:
              case "end":
                return _context.stop();
            }
          }, _callee, this);
        }));
        function update(_x) {
          return _update.apply(this, arguments);
        }
        return update;
      }())
    }], [{
      key: "schema",
      get: function get() {
        var ajv = this.ajv;
        return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(_class), "schema", this), {
          properties: {
            translate: createAnimatedField({
              ajv,
              title: "Translate",
              default: {
                animated: false,
                value: [0, 0]
              },
              items: createArrayField({
                items: [createIntegerField(), createIntegerField()]
              })
            }),
            scale: createAnimatedField({
              ajv,
              title: "Scale",
              default: {
                animated: false,
                value: [1, 1]
              },
              items: createArrayField({
                items: [createNumberField(), createNumberField()]
              })
            }),
            rotate: createAnimatedField({
              ajv,
              title: "Rotate",
              default: {
                animated: false,
                value: 0
              },
              items: createIntegerField()
            })
          }
        });
      }
    }, {
      key: "$isTransformable",
      get: function get() {
        return true;
      }
    }]);
    return _class;
  }(superclass);
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/EmbeddableComponent.js












function EmbeddableComponent_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }












var EmbeddableComponent = /*#__PURE__*/function (_mix$with) {
  (0,inherits/* default */.Z)(EmbeddableComponent, _mix$with);
  function EmbeddableComponent() {
    (0,classCallCheck/* default */.Z)(this, EmbeddableComponent);
    return EmbeddableComponent_callSuper(this, EmbeddableComponent, arguments);
  }
  (0,createClass/* default */.Z)(EmbeddableComponent, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(EmbeddableComponent), "schema", this), {
        properties: {
          name: createStringField({
            title: "Name",
            description: "The component's name"
          })
        }
      });
    }
  }]);
  return EmbeddableComponent;
}((0,mixwith.mix)(AbstractComponent).with(Backgroundable, Borderable, Hideable, Opacitiable, Positionable, Resizable, Timeable, Transformable));
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(EmbeddableComponent, "baseModel", AbstractComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(EmbeddableComponent, "type", "EmbeddableComponent");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Animation.js


















function Animation_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var Animation = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(Animation, _EmbeddableComponent);
  /**
   * @inheritdoc
   */
  function Animation() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, Animation);
    _this = Animation_callSuper(this, Animation);
    _this._embedded_data = {};
    return _this;
  }

  /**
   * Set defaults from embedded data.
   *
   * @param {Object} data The data to set defaults on.
   */
  (0,createClass/* default */.Z)(Animation, [{
    key: "setEmbeddedDefaults",
    value: function setEmbeddedDefaults(data) {
      var _this$_embedded_data = this._embedded_data,
        _this$_embedded_data$ = _this$_embedded_data["loop-duration"],
        loop_duration = _this$_embedded_data$ === void 0 ? null : _this$_embedded_data$,
        _this$_embedded_data$2 = _this$_embedded_data.colors,
        colors = _this$_embedded_data$2 === void 0 ? [] : _this$_embedded_data$2;

      // Set loop duration.
      if (!("loop-duration" in data) || data["loop-duration"] === null) {
        data["loop-duration"] = loop_duration;
      }

      // Set colors.
      if (colors.length > 0) {
        if (!("colors" in data) || data.colors === null) {
          data.colors = colors;
        } else {
          colors.forEach(function (color, index) {
            if (!data.colors[index]) {
              data.colors[index] = color;
            }
          });
        }
      }
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "validate",
    value: (function () {
      var _validate = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              if (!("src" in data && data.src && this.src !== data.src)) {
                _context.next = 5;
                break;
              }
              _context.next = 3;
              return this.constructor.getEmbeddedData(data.src);
            case 3:
              this._embedded_data = _context.sent;
              this.setEmbeddedDefaults(data);
            case 5:
              _context.next = 7;
              return (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Animation.prototype), "validate", this).call(this, data);
            case 7:
              return _context.abrupt("return", _context.sent);
            case 8:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function validate(_x) {
        return _validate.apply(this, arguments);
      }
      return validate;
    }())
  }], [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Animation), "schema", this), {
        properties: {
          src: createUrlField({
            ajv,
            title: "Source"
          }),
          "start-frame": createIntegerField({
            title: "Start frame",
            default: 1,
            minimum: 1
          }),
          "loop-duration": createTimeField({
            ajv,
            title: "Loop duration"
          }),
          reversed: createBooleanField({
            title: "Reversed"
          })
        },
        if: {
          $id: `${this.schemaId}:colors-if`,
          // Used for Ajv caching.
          properties: {
            colors: createArrayField({
              items: createColorField({
                ajv,
                nullable: false
              }),
              minItems: 2,
              maxItems: 2
            })
          },
          required: ["colors"]
        },
        then: {
          properties: {
            colors: createArrayField({
              title: "Colors",
              items: [createColorField({
                ajv,
                nullable: false
              }), createColorField({
                ajv,
                nullable: false
              })]
            })
          }
        },
        else: {
          if: {
            $id: `${this.schemaId}:colors-else-if`,
            // Used for Ajv caching.
            properties: {
              colors: createArrayField({
                items: createColorField({
                  ajv,
                  nullable: false
                }),
                minItems: 1,
                maxItems: 1
              })
            },
            required: ["colors"]
          },
          then: {
            properties: {
              colors: createArrayField({
                title: "Colors",
                items: [createColorField({
                  ajv,
                  nullable: false
                })]
              })
            }
          }
        }
      });
    }

    /**
     * Get defaults embedded in the SVG content
     *
     * @param {string} url The SVG's Url
     * @returns {Promise<object>} A promise that resolves with the defaults
     */
  }, {
    key: "getEmbeddedData",
    value: (function () {
      var _getEmbeddedData = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2(url) {
        var _yield$import, Lottie, data;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              _context2.next = 2;
              return __webpack_require__.e(/* import() */ 770).then(__webpack_require__.t.bind(__webpack_require__, 44770, 23));
            case 2:
              _yield$import = _context2.sent;
              Lottie = _yield$import.default;
              data = {};
              return _context2.abrupt("return", new Promise(function (resolve) {
                var container = document.createElement("div");
                container.style.visibility = "hidden";
                container.style.pointerEvents = "none";
                document.body.appendChild(container);
                var animation = Lottie.loadAnimation({
                  container,
                  path: url,
                  renderer: "svg",
                  autoplay: false
                });
                animation.addEventListener("DOMLoaded", function () {
                  // Set loop duration.
                  data["loop-duration"] = (0,lodash.round)(animation.getDuration(), 2);

                  // Set colors.
                  data.colors = [];
                  ["color1", "color2"].forEach(function (name) {
                    var path = container.querySelector(`.${name} path`);
                    if (path) {
                      var style = getComputedStyle(path);
                      data.colors.push(style.fill);
                    }
                  });
                  animation.destroy();
                  container.remove();
                  resolve(data);
                });
                animation.addEventListener("error", function () {
                  animation.destroy();
                  container.remove();
                  resolve(data);
                });
              }));
            case 6:
            case "end":
              return _context2.stop();
          }
        }, _callee2);
      }));
      function getEmbeddedData(_x2) {
        return _getEmbeddedData.apply(this, arguments);
      }
      return getEmbeddedData;
    }())
  }]);
  return Animation;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Animation, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Animation, "type", "Animation");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Block.js











function Block_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }




var Block = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(Block, _EmbeddableComponent);
  function Block() {
    (0,classCallCheck/* default */.Z)(this, Block);
    return Block_callSuper(this, Block, arguments);
  }
  (0,createClass/* default */.Z)(Block, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Block), "schema", this), {
        properties: {
          "background-color": {
            default: "rgb(238, 238, 238)"
          },
          "border-width": {
            default: 1
          },
          "border-color": {
            default: "rgb(204, 204, 204)"
          },
          "border-radius": {
            default: "10px"
          },
          dimension: {
            default: [200, 200]
          },
          synched: createBooleanField({
            title: "Synched"
          }),
          "pager-visibility": createEnumField({
            title: "Pager visibility",
            enum: ["auto", "hidden", "visible"],
            default: "auto"
          }),
          [this.childrenProperty]: createCollectionField({
            ajv,
            model: Page
          })
        }
      });
    }
  }]);
  return Block;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Block, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Block, "type", "Block");
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Block, "childrenProperty", "pages");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/BlockToggler.js











function BlockToggler_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var BlockToggler = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(BlockToggler, _EmbeddableComponent);
  function BlockToggler() {
    (0,classCallCheck/* default */.Z)(this, BlockToggler);
    return BlockToggler_callSuper(this, BlockToggler, arguments);
  }
  (0,createClass/* default */.Z)(BlockToggler, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(BlockToggler), "schema", this), {
        properties: {
          "background-color": {
            default: "#eee"
          },
          "border-width": {
            default: 1
          },
          "border-color": {
            default: "#eee"
          },
          dimension: {
            default: [100, 20],
            items: [{
              minimum: 10
            }, {
              minimum: 10
            }]
          },
          blocks: createArrayField({
            items: {
              type: "object",
              properties: {
                type: {
                  type: "string"
                },
                id: {
                  type: "string"
                }
              },
              additionalProperties: false,
              required: ["type", "id"]
            },
            default: []
          })
        }
      });
    }
  }]);
  return BlockToggler;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(BlockToggler, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(BlockToggler, "type", "BlockToggler");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Content.js











function Content_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var Content = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(Content, _EmbeddableComponent);
  function Content() {
    (0,classCallCheck/* default */.Z)(this, Content);
    return Content_callSuper(this, Content, arguments);
  }
  (0,createClass/* default */.Z)(Content, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Content), "schema", this), {
        properties: {
          text: createHtmlField({
            ajv,
            title: "Text"
          })
        }
      });
    }
  }]);
  return Content;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Content, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Content, "type", "Content");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Controller.js











function Controller_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }


var Controller = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(Controller, _EmbeddableComponent);
  function Controller() {
    (0,classCallCheck/* default */.Z)(this, Controller);
    return Controller_callSuper(this, Controller, arguments);
  }
  (0,createClass/* default */.Z)(Controller, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Controller), "schema", this), {
        properties: {
          dimension: {
            default: [90, 100]
          },
          "background-color": {
            default: "#ccc"
          },
          "border-radius": {
            default: "10px"
          }
        }
      });
    }
  }]);
  return Controller;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Controller, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Controller, "type", "Controller");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Cursor.js














function Cursor_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }




var Cursor = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(Cursor, _EmbeddableComponent);
  function Cursor() {
    (0,classCallCheck/* default */.Z)(this, Cursor);
    return Cursor_callSuper(this, Cursor, arguments);
  }
  (0,createClass/* default */.Z)(Cursor, [{
    key: "validate",
    value: (
    /**
     * @inheritdoc
     */
    function () {
      var _validate = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.t0 = data.form;
              _context.next = _context.t0 === "circular" ? 3 : 5;
              break;
            case 3:
              if (!["cw", "ccw"].includes(data.direction)) {
                data.direction = "cw";
              }
              return _context.abrupt("break", 6);
            case 5:
              if (!["right", "left", "bottom", "top"].includes(data.direction)) {
                data.direction = "right";
              }
            case 6:
              _context.next = 8;
              return (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Cursor.prototype), "validate", this).call(this, data);
            case 8:
              return _context.abrupt("return", _context.sent);
            case 9:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function validate(_x) {
        return _validate.apply(this, arguments);
      }
      return validate;
    }())
  }], [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Cursor), "schema", this), {
        properties: {
          form: createEnumField({
            title: "Form",
            enum: ["linear", "circular"],
            default: "linear"
          }),
          acceleration: createNumberField({
            title: "Acceleration",
            minimum: 0.01,
            default: 1
          }),
          "cursor-width": createNumberField({
            title: "Cursor width",
            multipleOf: 1,
            minimum: 0,
            default: 1
          }),
          "cursor-color": createColorField({
            ajv,
            title: "Cursor color",
            default: "#000"
          })
        },
        if: {
          $id: `${this.schemaId}:form-if`,
          // Used for Ajv caching.
          properties: {
            form: {
              const: "linear"
            }
          }
        },
        then: {
          properties: {
            direction: createEnumField({
              title: "Direction",
              enum: ["right", "left", "bottom", "top"],
              default: "right"
            }),
            keyframes: createArrayField({
              title: "Keyframes",
              default: [],
              items: {
                type: "array",
                items: [createTimeField({
                  ajv
                }), createIntegerField()],
                minItems: 2,
                additionalItems: false
              }
            })
          }
        },
        else: {
          properties: {
            direction: createEnumField({
              title: "Direction",
              enum: ["cw", "ccw"],
              default: "cw"
            }),
            "start-angle": createAngleField({
              ajv,
              title: "Start angle"
            }),
            "loop-duration": createTimeField({
              ajv,
              title: "Loop duration"
            })
          }
        }
      });
    }
  }]);
  return Cursor;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Cursor, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Cursor, "type", "Cursor");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Image.js











function Image_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var Image = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(Image, _EmbeddableComponent);
  function Image() {
    (0,classCallCheck/* default */.Z)(this, Image);
    return Image_callSuper(this, Image, arguments);
  }
  (0,createClass/* default */.Z)(Image, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Image), "schema", this), {
        properties: {
          src: createUrlField({
            ajv,
            title: "Source"
          })
        },
        required: ["src"]
      });
    }
  }]);
  return Image;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Image, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Image, "type", "Image");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Media.js












function Media_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var Media = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(Media, _EmbeddableComponent);
  function Media() {
    (0,classCallCheck/* default */.Z)(this, Media);
    return Media_callSuper(this, Media, arguments);
  }
  (0,createClass/* default */.Z)(Media, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Media), "schema", this), {
        properties: {
          tag: createEnumField({
            title: "Tag",
            enum: ["audio", "video"],
            default: "audio"
          }),
          src: createUrlField({
            ajv,
            title: "Source"
          })
        },
        if: {
          $id: `${this.schemaId}:tag-if`,
          // Used for Ajv caching.
          properties: {
            tag: {
              const: "video"
            }
          }
        },
        then: {
          properties: {
            dimension: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Media), "schema", this).properties.dimension), {}, {
              default: [160, 120]
            })
          }
        },
        else: {
          properties: {
            dimension: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Media), "schema", this).properties.dimension), {}, {
              default: [50, 50]
            })
          }
        }
      });
    }
  }]);
  return Media;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Media, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Media, "type", "Media");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Page.js












function Page_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }






var Page = /*#__PURE__*/function (_mix$with) {
  (0,inherits/* default */.Z)(Page, _mix$with);
  function Page() {
    (0,classCallCheck/* default */.Z)(this, Page);
    return Page_callSuper(this, Page, arguments);
  }
  (0,createClass/* default */.Z)(Page, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Page), "schema", this), {
        properties: {
          [this.childrenProperty]: createCollectionField({
            ajv,
            model: [Animation, Block, BlockToggler, Content, Controller, Cursor, Image, Media, SVG, VideoRenderer]
          })
        }
      });
    }
  }]);
  return Page;
}((0,mixwith.mix)(AbstractComponent).with(Backgroundable, Timeable));
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Page, "baseModel", AbstractComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Page, "type", "Page");
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Page, "childrenProperty", "children");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/Scenario.js












function Scenario_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }






var Scenario = /*#__PURE__*/function (_mix$with) {
  (0,inherits/* default */.Z)(Scenario, _mix$with);
  function Scenario() {
    (0,classCallCheck/* default */.Z)(this, Scenario);
    return Scenario_callSuper(this, Scenario, arguments);
  }
  (0,createClass/* default */.Z)(Scenario, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Scenario), "ajv", this);
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(Scenario), "schema", this), {
        properties: {
          name: createStringField({
            title: "Name",
            description: "The component's name"
          }),
          [this.childrenProperty]: createCollectionField({
            ajv,
            model: [Animation, Block, BlockToggler, Content, Controller, Cursor, Image, Media, SVG, VideoRenderer]
          })
        }
      });
    }
  }]);
  return Scenario;
}((0,mixwith.mix)(AbstractComponent).with(Backgroundable));
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Scenario, "baseModel", AbstractComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Scenario, "type", "Scenario");
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(Scenario, "childrenProperty", "children");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/SVG.js
















function SVG_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var SVG_PROPERTIES = ["stroke", "stroke-width", "stroke-dasharray", "fill", "marker-start", "marker-mid", "marker-end"];
var SVG_ELEMENTS = ["circle", "ellipse", "line", "path", "polygon", "polyline", "rect"];
var SVG = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(SVG, _EmbeddableComponent);
  /**
   * @inheritdoc
   */
  function SVG() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, SVG);
    _this = SVG_callSuper(this, SVG);
    _this._embedded_data = {};
    return _this;
  }

  /**
   * Get embedded SVG markers.
   *
   * @return {array} A list of available markers.
   */
  (0,createClass/* default */.Z)(SVG, [{
    key: "markers",
    get: function get() {
      var _this$_embedded_data$;
      return (_this$_embedded_data$ = this._embedded_data.markers) !== null && _this$_embedded_data$ !== void 0 ? _this$_embedded_data$ : [];
    }

    /**
     * Set defaults from embedded data.
     *
     * @param {Object} data The data to set defaults on.
     */
  }, {
    key: "setEmbeddedDefaults",
    value: function setEmbeddedDefaults(data) {
      var _this$_embedded_data$2 = this._embedded_data.colors,
        colors = _this$_embedded_data$2 === void 0 ? [] : _this$_embedded_data$2;
      if (colors.length > 0) {
        if (!("colors" in data) || data.colors === null) {
          data.colors = colors;
        } else {
          colors.forEach(function (color, index) {
            if (!data.colors[index]) {
              data.colors[index] = color;
            }
          });
        }
      } else {
        SVG_PROPERTIES.forEach(function (property) {
          var _data$property;
          data[property] = (_data$property = data[property]) !== null && _data$property !== void 0 ? _data$property : null;
        });
      }
    }

    /**
     * @inheritdoc
     */
  }, {
    key: "validate",
    value: (function () {
      var _validate = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              if (!("src" in data && data.src && this.src !== data.src)) {
                _context.next = 10;
                break;
              }
              _context.prev = 1;
              _context.next = 4;
              return this.constructor.getEmbeddedData(data.src);
            case 4:
              this._embedded_data = _context.sent;
              this.setEmbeddedDefaults(data);
              _context.next = 10;
              break;
            case 8:
              _context.prev = 8;
              _context.t0 = _context["catch"](1);
            case 10:
              _context.next = 12;
              return (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(SVG.prototype), "validate", this).call(this, data);
            case 12:
              return _context.abrupt("return", _context.sent);
            case 13:
            case "end":
              return _context.stop();
          }
        }, _callee, this, [[1, 8]]);
      }));
      function validate(_x) {
        return _validate.apply(this, arguments);
      }
      return validate;
    }())
  }], [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      var ajv = this.ajv;
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(SVG), "schema", this), {
        properties: {
          src: createUrlField({
            ajv,
            title: "Source"
          })
        },
        if: {
          $id: `${this.schemaId}:colors-if`,
          // Used for Ajv caching.
          properties: {
            colors: createArrayField({
              items: createColorField({
                ajv,
                nullable: false
              }),
              minItems: 2,
              maxItems: 2
            })
          },
          required: ["colors"]
        },
        then: {
          properties: {
            colors: createArrayField({
              title: "Colors",
              items: [createColorField({
                ajv,
                nullable: false
              }), createColorField({
                ajv,
                nullable: false
              })]
            })
          }
        },
        else: {
          if: {
            $id: `${this.schemaId}:colors-else-if`,
            // Used for Ajv caching.
            properties: {
              colors: createArrayField({
                items: createColorField({
                  ajv,
                  nullable: false
                }),
                minItems: 1,
                maxItems: 1
              })
            },
            required: ["colors"]
          },
          then: {
            properties: {
              colors: createArrayField({
                title: "Colors",
                items: [createColorField({
                  ajv,
                  nullable: false
                })]
              })
            }
          },
          else: {
            properties: {
              stroke: createColorField({
                ajv,
                title: "Stroke",
                nullable: true,
                default: null
              }),
              "stroke-width": createNumberField({
                ajv,
                title: "Stroke width",
                multipleOf: 1,
                minimum: 0,
                nullable: true,
                default: null
              }),
              "stroke-dasharray": createEnumField({
                title: "Stroke dasharray",
                enum: [null, "2,2", "5,5", "5,2,2,2", "5,2,2,2,2,2"],
                nullable: true,
                default: null
              }),
              fill: createColorField({
                ajv,
                title: "Fill",
                nullable: true,
                default: null
              }),
              "marker-start": createStringField({
                title: "Marker start",
                nullable: true
              }),
              "marker-mid": createStringField({
                title: "Marker mid",
                nullable: true
              }),
              "marker-end": createStringField({
                title: "Marker end",
                nullable: true
              })
            }
          }
        },
        required: ["src"]
      });
    }

    /**
     * Get defaults embedded in the SVG content
     *
     * @param {string} url The SVG's Url
     * @returns {Promise<object>} A promise that resolves with the defaults
     */
  }, {
    key: "getEmbeddedData",
    value: function getEmbeddedData(url) {
      var data = {};
      return new Promise(function (resolve, reject) {
        var obj = document.createElement("object");
        obj.setAttribute("type", "image/svg+xml");
        obj.style.visibility = "hidden";
        obj.style.pointerEvents = "none";
        var _onLoad = null;
        var _onError = null;
        _onLoad = function onLoad(evt) {
          var _evt$target$contentDo;
          obj.removeEventListener("load", _onLoad);
          obj.removeEventListener("error", _onError);
          var svg = (_evt$target$contentDo = evt.target.contentDocument) === null || _evt$target$contentDo === void 0 ? void 0 : _evt$target$contentDo.querySelector("svg");
          if (!svg) {
            reject(data);
            return;
          }

          // Set colors.
          data.colors = [];
          [".color1", ".color2"].forEach(function (c) {
            var el = svg.querySelector(c);
            if (el) {
              var style = getComputedStyle(el);
              data.colors.push(style.fill);
            }
          });
          if (data.colors.length === 0) {
            // Set markers
            data.markers = [];
            svg.querySelectorAll("defs marker").forEach(function (marker) {
              data.markers.push(marker.getAttribute("id"));
            });

            // Fill other props.
            var root = svg.querySelector(SVG_ELEMENTS.join(","));
            var style = root ? getComputedStyle(root) : null;
            SVG_PROPERTIES.forEach(function (property) {
              data[property] = (style === null || style === void 0 ? void 0 : style[property]) || null;
            });
          }
          evt.target.remove();
          resolve(data);
        };
        _onError = function onError(evt) {
          obj.removeEventListener("load", _onLoad);
          obj.removeEventListener("error", _onError);
          evt.target.remove();
          reject(data);
        };
        obj.addEventListener("load", _onLoad);
        obj.addEventListener("error", _onError);
        obj.setAttribute("data", url);
        document.body.appendChild(obj);
      });
    }
  }]);
  return SVG;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(SVG, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(SVG, "type", "SVG");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/VideoRenderer.js











function VideoRenderer_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }


var VideoRenderer = /*#__PURE__*/function (_EmbeddableComponent) {
  (0,inherits/* default */.Z)(VideoRenderer, _EmbeddableComponent);
  function VideoRenderer() {
    (0,classCallCheck/* default */.Z)(this, VideoRenderer);
    return VideoRenderer_callSuper(this, VideoRenderer, arguments);
  }
  (0,createClass/* default */.Z)(VideoRenderer, null, [{
    key: "schema",
    get:
    /**
     * @inheritdoc
     */
    function get() {
      return (0,lodash.merge)((0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(VideoRenderer), "schema", this), {
        properties: {
          dimension: {
            default: [320, 240]
          },
          "border-radius": {
            default: "10px"
          }
        }
      });
    }
  }]);
  return VideoRenderer;
}(EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(VideoRenderer, "baseModel", EmbeddableComponent);
/**
 * @inheritdoc
 */
(0,defineProperty/* default */.Z)(VideoRenderer, "type", "VideoRenderer");

;// CONCATENATED MODULE: ./packages/core/modules/app_components/models/index.js
// This is used to prevent circular imports















;// CONCATENATED MODULE: ./packages/core/modules/app_components/store/utils/normalize.js























// Get collection properties.
var collections = {};
Object.values(models_namespaceObject).forEach(function (_ref) {
  var type = _ref.type,
    schema = _ref.schema;
  Object.entries(schema.properties).forEach(function (_ref2) {
    var _ref3 = (0,slicedToArray/* default */.Z)(_ref2, 2),
      key = _ref3[0],
      value = _ref3[1];
    if (value.format === "collection") {
      collections[type] = collections[type] || [];
      collections[type].push(key);
    }
  });
});
function normalizeItem(_x, _x2) {
  return _normalizeItem.apply(this, arguments);
}
function _normalizeItem() {
  _normalizeItem = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2(data, entities) {
    var parent,
      item,
      _iterator,
      _step,
      key,
      _args2 = arguments;
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context2) {
      while (1) switch (_context2.prev = _context2.next) {
        case 0:
          parent = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : null;
          _context2.next = 3;
          return models_namespaceObject[data.type].create(data);
        case 3:
          item = _context2.sent;
          if (!(item.type in collections)) {
            _context2.next = 24;
            break;
          }
          _iterator = (0,createForOfIteratorHelper/* default */.Z)(collections[item.type]);
          _context2.prev = 6;
          _iterator.s();
        case 8:
          if ((_step = _iterator.n()).done) {
            _context2.next = 16;
            break;
          }
          key = _step.value;
          if (!item[key]) {
            _context2.next = 14;
            break;
          }
          _context2.next = 13;
          return Promise.all(item[key].map( /*#__PURE__*/function () {
            var _ref4 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(child) {
              var normalized_child;
              return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
                while (1) switch (_context.prev = _context.next) {
                  case 0:
                    _context.next = 2;
                    return normalizeItem((0,objectSpread2/* default */.Z)({}, child), entities, item);
                  case 2:
                    normalized_child = _context.sent;
                    return _context.abrupt("return", {
                      id: normalized_child.id,
                      type: normalized_child.type
                    });
                  case 4:
                  case "end":
                    return _context.stop();
                }
              }, _callee);
            }));
            return function (_x4) {
              return _ref4.apply(this, arguments);
            };
          }()));
        case 13:
          item[key] = _context2.sent;
        case 14:
          _context2.next = 8;
          break;
        case 16:
          _context2.next = 21;
          break;
        case 18:
          _context2.prev = 18;
          _context2.t0 = _context2["catch"](6);
          _iterator.e(_context2.t0);
        case 21:
          _context2.prev = 21;
          _iterator.f();
          return _context2.finish(21);
        case 24:
          if (parent) {
            item.$parent = {
              id: parent.id,
              type: parent.type
            };
          }
          entities[item.type] = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, entities[item.type]), {}, {
            [item.id]: item
          });
          return _context2.abrupt("return", item);
        case 27:
        case "end":
          return _context2.stop();
      }
    }, _callee2, null, [[6, 18, 21, 24]]);
  }));
  return _normalizeItem.apply(this, arguments);
}
function normalize(_x3) {
  return _normalize.apply(this, arguments);
}
function _normalize() {
  _normalize = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee3(data) {
    var entities, result, _iterator2, _step2, item, normalized_item;
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee3$(_context3) {
      while (1) switch (_context3.prev = _context3.next) {
        case 0:
          entities = {};
          result = [];
          _iterator2 = (0,createForOfIteratorHelper/* default */.Z)(data);
          _context3.prev = 3;
          _iterator2.s();
        case 5:
          if ((_step2 = _iterator2.n()).done) {
            _context3.next = 13;
            break;
          }
          item = _step2.value;
          _context3.next = 9;
          return normalizeItem(item, entities);
        case 9:
          normalized_item = _context3.sent;
          result.push({
            id: normalized_item.id,
            type: normalized_item.type
          });
        case 11:
          _context3.next = 5;
          break;
        case 13:
          _context3.next = 18;
          break;
        case 15:
          _context3.prev = 15;
          _context3.t0 = _context3["catch"](3);
          _iterator2.e(_context3.t0);
        case 18:
          _context3.prev = 18;
          _iterator2.f();
          return _context3.finish(18);
        case 21:
          return _context3.abrupt("return", {
            entities,
            result
          });
        case 22:
        case "end":
          return _context3.stop();
      }
    }, _callee3, null, [[3, 15, 18, 21]]);
  }));
  return _normalize.apply(this, arguments);
}
function denormalizeItem(item, all) {
  var _all$item$type;
  if (!(all !== null && all !== void 0 && (_all$item$type = all[item.type]) !== null && _all$item$type !== void 0 && _all$item$type[item.id])) {
    return null;
  }
  var data = structuredClone(all[item.type][item.id].data);
  if (data.type in collections) {
    collections[data.type].forEach(function (key) {
      if (data[key]) {
        data[key] = data[key].map(function (subitem) {
          return denormalizeItem(subitem, all);
        }).filter(function (subitem) {
          return subitem !== null;
        });
      }
    });
  }
  return data;
}
function denormalize(input, data) {
  return input.map(function (item) {
    return denormalizeItem(item, data);
  }).filter(function (item) {
    return item !== null;
  });
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/store/index.js



































/* harmony default export */ var app_components_store = (defineStore("app-components", {
  state: function state() {
    return {
      components: {},
      deleted: {},
      sortedScenarios: [],
      activeScenario: null,
      blocksActivePage: {},
      overrides: new Map(),
      overridesEnabled: false
    };
  },
  getters: {
    get() {
      var _this = this;
      return function (type, id) {
        var _this$components;
        var component = (_this$components = _this.components) === null || _this$components === void 0 || (_this$components = _this$components[type]) === null || _this$components === void 0 ? void 0 : _this$components[id];
        return component ? (0,reactivity_esm_bundler/* readonly */.OT)(component) : null;
      };
    },
    all() {
      var _ref,
        _this2 = this;
      return (_ref = []).concat.apply(_ref, (0,toConsumableArray/* default */.Z)(Object.values(this.components).map(function (v) {
        return Object.values(v);
      }))).map(function (c) {
        return _this2.get(c.type, c.id);
      }).filter(function (c) {
        return c;
      });
    },
    getByType() {
      var _this3 = this;
      return function (type) {
        var _this3$components;
        return Object.keys(((_this3$components = _this3.components) === null || _this3$components === void 0 ? void 0 : _this3$components[type]) || {}).map(function (id) {
          return _this3.get(type, id);
        }).filter(function (c) {
          return c;
        });
      };
    },
    find() {
      var _this4 = this;
      return function (callback) {
        var findMatch = function findMatch(components) {
          var match = null;
          components.some(function (c) {
            if (callback(c)) {
              match = c;
              return true;
            }
            match = findMatch(_this4.getChildren(c));
            if (match) {
              return true;
            }
          });
          return match;
        };
        return findMatch(_this4.getByType("Scenario"));
      };
    },
    getSortedScenarios() {
      var _this5 = this;
      return function () {
        var scenarios = _this5.getByType("Scenario");
        return _this5.sortedScenarios.reduce(function (acc, sortedScenario) {
          var scenario = scenarios.find(function (s) {
            return s.id === sortedScenario;
          });
          if (scenario) acc.push(scenario);
          return acc;
        }, []);
      };
    },
    getModelByType() {
      return function (type) {
        return models_namespaceObject[type];
      };
    },
    getModelByMime() {
      return function (mime) {
        return Object.values(models_namespaceObject).find(function (model) {
          return model.mime === mime;
        });
      };
    },
    getLabel() {
      var _this6 = this;
      return function (component) {
        switch (component.type) {
          case "Page":
            {
              var block = _this6.getParent(component);
              var pages = _this6.getChildren(block);
              var count = pages.length;
              var index = pages.findIndex(function (c) {
                return c.id === component.id;
              }) + 1;
              return t("app_components.labels.Page", {
                index,
                count
              });
            }
          default:
            return component.name || t("app_components.labels.untitled");
        }
      };
    },
    getChildrenProperty() {
      var _this7 = this;
      return function (component) {
        return _this7.getModelByType(component.type).childrenProperty;
      };
    },
    hasChildren() {
      var _this8 = this;
      return function (component) {
        var _component$property;
        var property = _this8.getChildrenProperty(component);
        return property && ((_component$property = component[property]) === null || _component$property === void 0 ? void 0 : _component$property.length) > 0;
      };
    },
    getChildren() {
      var _this9 = this;
      return function (component) {
        var children = [];
        if (_this9.hasChildren(component)) {
          var property = _this9.getChildrenProperty(component);
          children = component[property];
        }
        return children.map(function (c) {
          return _this9.get(c.type, c.id);
        }).filter(function (c) {
          return c;
        });
      };
    },
    getParent() {
      var _this10 = this;
      return function (component) {
        var _this10$components;
        var parent = (_this10$components = _this10.components) === null || _this10$components === void 0 || (_this10$components = _this10$components[component.type]) === null || _this10$components === void 0 || (_this10$components = _this10$components[component.id]) === null || _this10$components === void 0 ? void 0 : _this10$components.$parent;
        if (parent) {
          return _this10.get(parent.type, parent.id);
        }
        return null;
      };
    },
    getIndex() {
      var _this11 = this;
      return function (component) {
        var parent = _this11.getParent(component);
        if (parent) {
          return _this11.getChildren(parent).findIndex(function (c) {
            return c.type === component.type && c.id === component.id;
          });
        }
        return null;
      };
    },
    getSiblings() {
      var _this12 = this;
      return function (component) {
        var parent = _this12.getParent(component);
        if (parent) {
          return _this12.getChildren(parent).filter(function (c) {
            return !(c.type === component.type && c.id === component.id);
          });
        }
        return [];
      };
    },
    toJson() {
      var _this13 = this;
      return function () {
        var input = _this13.getSortedScenarios().map(function (scenario) {
          return {
            id: scenario.id,
            type: "Scenario"
          };
        });
        return denormalize(input, _this13.components);
      };
    }
  },
  actions: {
    init(data) {
      var _this14 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var normalized;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return normalize(data);
            case 2:
              normalized = _context.sent;
              _this14.components = normalized.entities;
              _this14.sortedScenarios = normalized.result.map(function (_ref2) {
                var id = _ref2.id;
                return id;
              });
              _this14.activeScenario = _this14.sortedScenarios[0];
            case 6:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }))();
    },
    setScenarioIndex(scenario, index) {
      var old_index = this.sortedScenarios.findIndex(function (id) {
        return id === scenario.id;
      });
      if (old_index === -1) {
        throw new Error(`scenario ${scenario.id} can't be moved as it doesn't exist`);
      }
      var value = this.sortedScenarios.splice(old_index, 1).at(0);
      this.sortedScenarios.splice(index, 0, value);
    },
    create(data) {
      var _arguments = arguments,
        _this15 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2() {
        var validate, next_id;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              validate = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : true;
              if (!(data.type in models_namespaceObject)) {
                _context2.next = 12;
                break;
              }
              if ("id" in data) {
                _context2.next = 9;
                break;
              }
              _context2.t0 = data.type;
              _context2.next = _context2.t0 === "Scenario" ? 6 : 9;
              break;
            case 6:
              // Generate a user-freindly ID.
              next_id = _this15.getByType("Scenario").reduce(function (acc, s) {
                var id = parseInt(s.id.replace("scenario-", ""), 10);
                return !isNaN(id) ? Math.max(acc, id + 1) : acc;
              }, 1);
              data.id = `scenario-${next_id}`;
              return _context2.abrupt("break", 9);
            case 9:
              _context2.next = 11;
              return models_namespaceObject[data.type].create(data, validate);
            case 11:
              return _context2.abrupt("return", _context2.sent);
            case 12:
            case "end":
              return _context2.stop();
          }
        }, _callee2);
      }))();
    },
    add(component) {
      var _arguments2 = arguments,
        _this16 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee3() {
        var parent, index, children_prop, children;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              parent = _arguments2.length > 1 && _arguments2[1] !== undefined ? _arguments2[1] : null;
              index = _arguments2.length > 2 && _arguments2[2] !== undefined ? _arguments2[2] : null;
              _this16.components[component.type] = _this16.components[component.type] || {};
              _this16.components[component.type][component.id] = component;
              if (!parent) {
                _context3.next = 12;
                break;
              }
              if ((0,reactivity_esm_bundler/* isReadonly */.$y)(parent)) {
                parent = _this16.components[parent.type][parent.id];
              }
              component.$parent = {
                type: parent.type,
                id: parent.id
              };
              children_prop = _this16.getChildrenProperty(parent);
              children = parent[children_prop] || [];
              if (index !== null) {
                children = [].concat((0,toConsumableArray/* default */.Z)(children.slice(0, index)), [{
                  type: component.type,
                  id: component.id
                }], (0,toConsumableArray/* default */.Z)(children.slice(index)));
              } else {
                children.push({
                  type: component.type,
                  id: component.id
                });
              }
              _context3.next = 12;
              return _this16.update(parent, {
                [children_prop]: children
              });
            case 12:
              if (component.type === "Scenario") {
                _this16.sortedScenarios.push(component.id);
              }

              // @todo: run same checks as in update
              return _context3.abrupt("return", component);
            case 14:
            case "end":
              return _context3.stop();
          }
        }, _callee3);
      }))();
    },
    update(component, data) {
      var _this17 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee4() {
        var parent, _parent$startTime, _parent$endTime, _useModule, mediaDuration, block, pages, index, prev_page, next_page;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee4$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              if ((0,reactivity_esm_bundler/* isReadonly */.$y)(component)) {
                component = _this17.components[component.type][component.id];
              }
              _context4.prev = 1;
              if ("start-time" in data || "end-time" in data) {
                parent = _this17.getParent(component);
                if (parent && _this17.getModelByType(parent.type).$isTimeable) {
                  if ("start-time" in data && data["start-time"] !== null) {
                    data["start-time"] = Math.max(data["start-time"], (_parent$startTime = parent["start-time"]) !== null && _parent$startTime !== void 0 ? _parent$startTime : 0);
                  }
                  if ("end-time" in data && data["end-time"] !== null) {
                    _useModule = (0,module_manager/* useModule */.b7)("media_player"), mediaDuration = _useModule.duration;
                    data["end-time"] = Math.min(data["end-time"], (_parent$endTime = parent["end-time"]) !== null && _parent$endTime !== void 0 ? _parent$endTime : (0,reactivity_esm_bundler/* unref */.SU)(mediaDuration));
                  }
                }
              }
              _context4.next = 5;
              return component.update(data);
            case 5:
              if (!(component.type === "Page")) {
                _context4.next = 19;
                break;
              }
              if (!("start-time" in data || "end-time" in data)) {
                _context4.next = 19;
                break;
              }
              block = _this17.getParent(component);
              if (!block.synched) {
                _context4.next = 19;
                break;
              }
              pages = _this17.getChildren(block);
              index = pages.findIndex(function (c) {
                return c.id === component.id;
              });
              if (!("start-time" in data && index > 0)) {
                _context4.next = 15;
                break;
              }
              prev_page = pages[index - 1];
              _context4.next = 15;
              return _this17.components[prev_page.type][prev_page.id].update({
                "end-time": data["start-time"]
              });
            case 15:
              if (!("end-time" in data && index < pages.length - 1)) {
                _context4.next = 19;
                break;
              }
              next_page = pages[index + 1];
              _context4.next = 19;
              return _this17.components[next_page.type][next_page.id].update({
                "start-time": data["end-time"]
              });
            case 19:
              _context4.next = 24;
              break;
            case 21:
              _context4.prev = 21;
              _context4.t0 = _context4["catch"](1);
              // @todo: handle errors.
              console.error(_context4.t0);
            case 24:
            case "end":
              return _context4.stop();
          }
        }, _callee4, null, [[1, 21]]);
      }))();
    },
    arrange(component, action) {
      var _this18 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee5() {
        var parent, children, count, old_index, new_index, property;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee5$(_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              parent = _this18.getParent(component);
              if (parent) {
                _context5.next = 3;
                break;
              }
              throw new Error(`compontent ${component.type}:${component.id} can't be rearranged as it doesn't have a parent`);
            case 3:
              children = _this18.getChildren(parent);
              count = children.length;
              old_index = children.findIndex(function (child) {
                return child.type === component.type && child.id === component.id;
              });
              new_index = null;
              _context5.t0 = action;
              _context5.next = _context5.t0 === "front" ? 10 : _context5.t0 === "back" ? 12 : _context5.t0 === "forward" ? 14 : _context5.t0 === "backward" ? 16 : 18;
              break;
            case 10:
              new_index = count - 1;
              return _context5.abrupt("break", 18);
            case 12:
              new_index = 0;
              return _context5.abrupt("break", 18);
            case 14:
              new_index = Math.min(old_index + 1, count - 1);
              return _context5.abrupt("break", 18);
            case 16:
              new_index = Math.max(old_index - 1, 0);
              return _context5.abrupt("break", 18);
            case 18:
              if (new_index !== null && new_index !== old_index) {
                children.splice(new_index, 0, children.splice(old_index, 1)[0]);
              }
              property = _this18.getChildrenProperty(parent);
              _context5.next = 22;
              return _this18.update(parent, {
                [property]: children.map(function (child) {
                  return {
                    type: child.type,
                    id: child.id
                  };
                })
              });
            case 22:
            case "end":
              return _context5.stop();
          }
        }, _callee5);
      }))();
    },
    delete(component) {
      var _this19 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee6() {
        var _this19$components$ty;
        var _component, type, id, block, pages, index, mid_time, next_page, prev_page;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee6$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              _component = component, type = _component.type, id = _component.id;
              if ((_this19$components$ty = _this19.components[type]) !== null && _this19$components$ty !== void 0 && _this19$components$ty[id]) {
                _context6.next = 3;
                break;
              }
              return _context6.abrupt("return");
            case 3:
              if ((0,reactivity_esm_bundler/* isReadonly */.$y)(component)) {
                component = _this19.components[type][id];
              }
              if (!(type === "Page")) {
                _context6.next = 20;
                break;
              }
              block = _this19.getParent(component);
              if (!block.synched) {
                _context6.next = 20;
                break;
              }
              pages = _this19.getChildren(block);
              index = pages.findIndex(function (c) {
                return c.id === component.id;
              });
              mid_time = component["end-time"] - component["start-time"];
              if (component["start-time"] !== null) {
                mid_time = component["start-time"];
              }
              if (component["end-time"] !== null) {
                mid_time = mid_time !== null ? mid_time + (component["end-time"] - mid_time) / 2 : component["end-time"];
              }
              if (!(index < pages.length - 1)) {
                _context6.next = 16;
                break;
              }
              next_page = pages[index + 1];
              _context6.next = 16;
              return _this19.components[next_page.type][next_page.id].update({
                "start-time": component["start-time"] !== null ? mid_time : null
              });
            case 16:
              if (!(index > 0)) {
                _context6.next = 20;
                break;
              }
              prev_page = pages[index - 1];
              _context6.next = 20;
              return _this19.components[prev_page.type][prev_page.id].update({
                "end-time": component["end-time"] !== null ? mid_time : null
              });
            case 20:
              if (!_this19.deleted[type]) _this19.deleted[type] = {};
              _this19.deleted[type][id] = component;
              delete _this19.components[type][id];
            case 23:
            case "end":
              return _context6.stop();
          }
        }, _callee6);
      }))();
    },
    restore(component) {
      var _this20 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee7() {
        var _this20$deleted$type;
        var _component2, type, id, block, pages, index, next_page, prev_page;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee7$(_context7) {
          while (1) switch (_context7.prev = _context7.next) {
            case 0:
              _component2 = component, type = _component2.type, id = _component2.id;
              if ((_this20$deleted$type = _this20.deleted[type]) !== null && _this20$deleted$type !== void 0 && _this20$deleted$type[id]) {
                _context7.next = 3;
                break;
              }
              return _context7.abrupt("return");
            case 3:
              if ((0,reactivity_esm_bundler/* isReadonly */.$y)(component)) {
                component = _this20.deleted[type][id];
              }
              if (!_this20.components[type]) _this20.components[type] = {};
              _this20.components[type][id] = component;
              delete _this20.deleted[type][id];
              if (!(type === "Page")) {
                _context7.next = 20;
                break;
              }
              block = _this20.getParent(component);
              if (!block.synched) {
                _context7.next = 20;
                break;
              }
              pages = _this20.getChildren(block);
              index = pages.findIndex(function (c) {
                return c.id === component.id;
              });
              if (!(index < pages.length - 1)) {
                _context7.next = 16;
                break;
              }
              next_page = pages[index + 1];
              _context7.next = 16;
              return _this20.components[next_page.type][next_page.id].update({
                "start-time": component["end-time"]
              });
            case 16:
              if (!(index > 0)) {
                _context7.next = 20;
                break;
              }
              prev_page = pages[index - 1];
              _context7.next = 20;
              return _this20.components[prev_page.type][prev_page.id].update({
                "end-time": component["start-time"]
              });
            case 20:
            case "end":
              return _context7.stop();
          }
        }, _callee7);
      }))();
    },
    clone(component) {
      var _arguments3 = arguments,
        _this21 = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee8() {
        var data, parent, children_prop, clone, _iterator, _step, c;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee8$(_context8) {
          while (1) switch (_context8.prev = _context8.next) {
            case 0:
              data = _arguments3.length > 1 && _arguments3[1] !== undefined ? _arguments3[1] : {};
              parent = _arguments3.length > 2 && _arguments3[2] !== undefined ? _arguments3[2] : null;
              children_prop = _this21.getChildrenProperty(component);
              _context8.next = 5;
              return _this21.create((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, (0,lodash.omit)(structuredClone(component.data), ["id", children_prop])), data), false);
            case 5:
              clone = _context8.sent;
              _context8.next = 8;
              return _this21.add(clone, parent);
            case 8:
              if (!_this21.hasChildren(component)) {
                _context8.next = 26;
                break;
              }
              _iterator = (0,createForOfIteratorHelper/* default */.Z)(_this21.getChildren(component));
              _context8.prev = 10;
              _iterator.s();
            case 12:
              if ((_step = _iterator.n()).done) {
                _context8.next = 18;
                break;
              }
              c = _step.value;
              _context8.next = 16;
              return _this21.clone(c, {}, clone);
            case 16:
              _context8.next = 12;
              break;
            case 18:
              _context8.next = 23;
              break;
            case 20:
              _context8.prev = 20;
              _context8.t0 = _context8["catch"](10);
              _iterator.e(_context8.t0);
            case 23:
              _context8.prev = 23;
              _iterator.f();
              return _context8.finish(23);
            case 26:
              return _context8.abrupt("return", clone);
            case 27:
            case "end":
              return _context8.stop();
          }
        }, _callee8, null, [[10, 20, 23, 26]]);
      }))();
    },
    setBlockActivePage(block, index) {
      if (block.synched) {
        var _page$startTime;
        var _useModule2 = (0,module_manager/* useModule */.b7)("media_player"),
          seekMediaTo = _useModule2.seekTo;
        var pages = this.getChildren(block);
        var page = pages[index];
        seekMediaTo((_page$startTime = page["start-time"]) !== null && _page$startTime !== void 0 ? _page$startTime : 0);
      } else {
        this.blocksActivePage[block.id] = index;
      }
    },
    enableOverrides() {
      this.overridesEnabled = true;
    },
    disableOverrides() {
      this.overridesEnabled = false;
    },
    /**
     * Check if overrides are set.
     *
     * @param {object} component The component.
     * @param {[string]} key An overrides' key to check against.
     */
    hasOverrides(component, key) {
      if (component) {
        var type = component.type,
          id = component.id;
        if (!this.overrides.has(`${type}:${id}`)) {
          return false;
        }
        var overrides = this.overrides.get(`${type}:${id}`);
        if (key) return overrides.has(key);
        return true;
      }
      return this.overrides.size > 0;
    },
    /**
     * Add/update a set of data overrides.
     *
     * @param {object} component The component.
     * @param {string} key A key to identify the overrides.
     * @param {object} values The data to override.
     * @param {[number = 0]} priority The overrides' priority, overrides with higher priority will have precedence.
     */
    setOverrides(component, key, values, priority) {
      var _overrides$get;
      var type = component.type,
        id = component.id;
      if (!this.hasOverrides(`${type}:${id}`)) {
        this.overrides.set(`${type}:${id}`, new Map());
      }
      var overrides = this.overrides.get(`${type}:${id}`);
      var existing = (_overrides$get = overrides.get(key)) !== null && _overrides$get !== void 0 ? _overrides$get : {
        priority: 0
      };
      overrides.set(key, {
        values,
        priority: priority !== null && priority !== void 0 ? priority : existing.priority
      });
    },
    /**
     * Get a set of data overrides.
     *
     * @param {object} component The component.
     * @param {string} key A key to identify the overrides.
     * @return {object | Map} The associated data, or a Map of associated data.
     */
    getOverrides(component, key) {
      if (component) {
        var type = component.type,
          id = component.id;
        var overrides = this.overrides.get(`${type}:${id}`);
        if (key) {
          return overrides === null || overrides === void 0 ? void 0 : overrides.get(key);
        }
        return overrides;
      }
      return this.overrides;
    },
    /**
     * Delete a set of overrides.
     *
     * @param {object} component The component.
     * @param {string} key The overrides' key.
     */
    clearOverrides(component, key) {
      if (component) {
        var type = component.type,
          id = component.id;
        if (this.hasOverrides(component, key)) {
          if (key) {
            // Delete specific overrides for a specific component.
            this.overrides.get(`${type}:${id}`).delete(key);
          } else {
            // Delete all overrides for a specific component.
            this.overrides.delete(`${type}:${id}`);
          }
        }
      } else if (key) {
        // Delete specific overrides for all components.
        this.overrides.forEach(function (overrides) {
          overrides.delete(key);
        });
      } else {
        // Delete all overrides.
        this.overrides.clear();
      }
    }
  },
  history(context) {
    var _this22 = this;
    var name = context.name,
      args = context.args,
      after = context.after,
      push = context.push;
    switch (name) {
      case "setScenarioIndex":
        {
          var _args9 = (0,slicedToArray/* default */.Z)(args, 2),
            scenario = _args9[0],
            index = _args9[1];
          var old_index = this.sortedScenarios.findIndex(function (id) {
            return id === scenario.id;
          });
          after(function () {
            push({
              undo: function undo() {
                _this22.setScenarioIndex(scenario, old_index);
              },
              redo: function redo() {
                _this22.setScenarioIndex(scenario, index);
              }
            });
          });
        }
        break;
      case "add":
        after(function (component) {
          push({
            undo: function () {
              var _undo = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee9() {
                return regeneratorRuntime_regeneratorRuntime().wrap(function _callee9$(_context9) {
                  while (1) switch (_context9.prev = _context9.next) {
                    case 0:
                      _context9.next = 2;
                      return _this22.delete(component);
                    case 2:
                    case "end":
                      return _context9.stop();
                  }
                }, _callee9);
              }));
              function undo() {
                return _undo.apply(this, arguments);
              }
              return undo;
            }(),
            redo: function () {
              var _redo = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee10() {
                return regeneratorRuntime_regeneratorRuntime().wrap(function _callee10$(_context10) {
                  while (1) switch (_context10.prev = _context10.next) {
                    case 0:
                      _context10.next = 2;
                      return _this22.restore(component);
                    case 2:
                    case "end":
                      return _context10.stop();
                  }
                }, _callee10);
              }));
              function redo() {
                return _redo.apply(this, arguments);
              }
              return redo;
            }()
          });
        });
        break;
      case "update":
        {
          var _args12 = (0,slicedToArray/* default */.Z)(args, 2),
            component = _args12[0],
            data = _args12[1];
          var old_value = structuredClone(Object.keys(data).reduce(function (acc, key) {
            return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, acc), {}, {
              [key]: (0,reactivity_esm_bundler/* unref */.SU)(component[key])
            });
          }, {}));
          after(function () {
            push({
              undo: function () {
                var _undo2 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee11() {
                  return regeneratorRuntime_regeneratorRuntime().wrap(function _callee11$(_context11) {
                    while (1) switch (_context11.prev = _context11.next) {
                      case 0:
                        _context11.next = 2;
                        return _this22.update(component, old_value);
                      case 2:
                      case "end":
                        return _context11.stop();
                    }
                  }, _callee11);
                }));
                function undo() {
                  return _undo2.apply(this, arguments);
                }
                return undo;
              }(),
              redo: function () {
                var _redo2 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee12() {
                  return regeneratorRuntime_regeneratorRuntime().wrap(function _callee12$(_context12) {
                    while (1) switch (_context12.prev = _context12.next) {
                      case 0:
                        _context12.next = 2;
                        return _this22.update(component, data);
                      case 2:
                      case "end":
                        return _context12.stop();
                    }
                  }, _callee12);
                }));
                function redo() {
                  return _redo2.apply(this, arguments);
                }
                return redo;
              }()
            });
          });
        }
        break;
      case "delete":
        {
          var _args15 = (0,slicedToArray/* default */.Z)(args, 1),
            _component3 = _args15[0];
          after(function () {
            push({
              undo: function () {
                var _undo3 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee13() {
                  return regeneratorRuntime_regeneratorRuntime().wrap(function _callee13$(_context13) {
                    while (1) switch (_context13.prev = _context13.next) {
                      case 0:
                        _context13.next = 2;
                        return _this22.restore(_component3);
                      case 2:
                      case "end":
                        return _context13.stop();
                    }
                  }, _callee13);
                }));
                function undo() {
                  return _undo3.apply(this, arguments);
                }
                return undo;
              }(),
              redo: function () {
                var _redo3 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee14() {
                  return regeneratorRuntime_regeneratorRuntime().wrap(function _callee14$(_context14) {
                    while (1) switch (_context14.prev = _context14.next) {
                      case 0:
                        _context14.next = 2;
                        return _this22.delete(_component3);
                      case 2:
                      case "end":
                        return _context14.stop();
                    }
                  }, _callee14);
                }));
                function redo() {
                  return _redo3.apply(this, arguments);
                }
                return redo;
              }()
            });
          });
        }
        break;
    }
  }
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Animation.svg
var icons_Animation_namespaceObject = __webpack_require__.p + "img/Animation.7795e300.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Block.non-synched.svg
var Block_non_synched_namespaceObject = __webpack_require__.p + "img/Block.non-synched.b8eef776.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Block.synched.svg
var Block_synched_namespaceObject = __webpack_require__.p + "img/Block.synched.597baa05.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/BlockToggler.svg
var icons_BlockToggler_namespaceObject = __webpack_require__.p + "img/BlockToggler.fee45f96.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Content.svg
var icons_Content_namespaceObject = __webpack_require__.p + "img/Content.0ebdd432.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Controller.svg
var icons_Controller_namespaceObject = __webpack_require__.p + "img/Controller.b722a7fc.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Cursor.svg
var icons_Cursor_namespaceObject = __webpack_require__.p + "img/Cursor.55fe0780.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Image.svg
var icons_Image_namespaceObject = __webpack_require__.p + "img/Image.2f68292b.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Media.audio.svg
var Media_audio_namespaceObject = __webpack_require__.p + "img/Media.audio.def8f1a4.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Media.video.svg
var Media_video_namespaceObject = __webpack_require__.p + "img/Media.video.72d7a909.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/Page.svg
var icons_Page_namespaceObject = __webpack_require__.p + "img/Page.cc57e9b1.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/SVG.svg
var icons_SVG_namespaceObject = __webpack_require__.p + "img/SVG.648061b8.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/VideoRenderer.svg
var icons_VideoRenderer_namespaceObject = __webpack_require__.p + "img/VideoRenderer.f511ab66.svg";
;// CONCATENATED MODULE: ./packages/core/modules/app_components/utils/icons.js













var ICONS = {
  Animation: icons_Animation_namespaceObject,
  NonSynchedBlock: Block_non_synched_namespaceObject,
  SynchedBlock: Block_synched_namespaceObject,
  BlockToggler: icons_BlockToggler_namespaceObject,
  Content: icons_Content_namespaceObject,
  Controller: icons_Controller_namespaceObject,
  Cursor: icons_Cursor_namespaceObject,
  Image: icons_Image_namespaceObject,
  MediaAudio: Media_audio_namespaceObject,
  MediaVideo: Media_video_namespaceObject,
  Page: icons_Page_namespaceObject,
  SVG: icons_SVG_namespaceObject,
  VideoRenderer: icons_VideoRenderer_namespaceObject
};
function getName(component) {
  switch (component.type) {
    case "Scenario":
      return;
    case "Block":
      return component.synched ? "SynchedBlock" : "NonSynchedBlock";
    case "Media":
      return component.tag === "video" ? "MediaVideo" : "MediaAudio";
    default:
      return component.type;
  }
}
function getURL(component) {
  var name = getName(component);
  if (!name) return;
  return ICONS[name];
}

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.to-sorted.js
var es_array_to_sorted = __webpack_require__(12894);
;// CONCATENATED MODULE: ./packages/core/utils/math.js
/**
 * Linearly interpolate between start and stop by amount.
 * Mathematically the opposite of normalize.
 *
 * @param {number} start The start value
 * @param {number} stop The stop value
 * @param {number} amount The interpolation amount between the two values
 * @returns {number} The interpolated value
 */
function lerp(start, stop, amount) {
  return start + (stop - start) * amount;
}

/**
 * Normalize a value to be between 0 and 1 (inclusive).
 * Mathematically the opposite of lerp.
 *
 * @param {number} value The value to normalize
 * @param {number} start The min value of the input space
 * @param {number} stop The max value of the input space
 * @returns {number} The normalized value
 */
function math_normalize(value, start, stop) {
  return (value - start) / (stop - start);
}

/**
 * Map a value from one coordinate space to another
 *
 * @param {number} value The value to map
 * @param {number} input_start The min value of the input space
 * @param {number} input_stop The max value of the input space
 * @param {number} output_start The min value of the output space
 * @param {number} output_stop The max value of the output space
 * @returns {number} The mapped value
 */
function map(value, input_start, input_stop, output_start, output_stop) {
  return output_start + (output_stop - output_start) * ((value - input_start) / (input_stop - input_start));
}

/**
 * Clamp a value between a min and max
 *
 * @param {number} value The value to clamp
 * @param {number} min The min value
 * @param {number} max The max value
 * @returns {number} The clamped value
 */
function math_clamp(value, min, max) {
  return Math.min(Math.max(min, value), max);
}

/**
 * Convert a value from degrees to radians
 *
 * @param {number} value The value in degrees
 * @returns {number} The value in radians
 */
function radians(value) {
  return value * Math.PI / 180;
}

/**
 * Convert a value from radians to degrees
 *
 * @param {number} value The value in radians
 * @returns {number} The value in degrees
 */
function degrees(value) {
  return value * 180 / Math.PI;
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/utils/animation.js







/**
 * Get an animated value at the specified media time
 * @param {mixed[]} values The list of values
 * @param {number} time The media time
 * @returns {mixed} The correspondiung value
 */
function animation_getAnimatedValueAtTime(values, time) {
  // Only one value available, return it.
  if (values.length === 1) {
    return values[0][1];
  }

  // Find the index of a matching time.
  var index = values.findIndex(function (value) {
    return value[0] === time;
  });
  // Desired time matches a value's time,
  // return that value.
  if (index > -1) return values[index][1];

  // Find the index of the value with the smallest time
  // greater than the desired time.
  index = values.findIndex(function (value) {
    return value[0] >= time;
  });
  if (index === -1) {
    // No value found after desired time,
    // return the last value.
    return values[values.length - 1][1];
  }
  if (index === 0) {
    // No value found before desired time,
    // return first value.
    return values[index][1];
  }

  // Claculate the intermediate.
  var start = values[index - 1];
  var end = values[index];
  if ((0,lodash.isArray)(start[1])) {
    return start[1].map(function (v, index) {
      return map(time, start[0], end[0], start[1][index], end[1][index]);
    });
  }
  return map(time, start[0], end[0], start[1], end[1]);
}

/**
 * Get a ref of a property's sorted keyframes.
 * @param {*} component The component
 * @param {*} prop The keyframes' property
 * @returns {ComputedRef} The sorted keyframes
 */
function getSortedKeyframes(component, prop) {
  return computed(function () {
    return unref(component)[prop].value.toSorted(function (a, b) {
      return a[0] - b[0];
    });
  });
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/AnimationComponent.vue?vue&type=template&id=425a1c5d&scoped=true

function AnimationComponentvue_type_template_id_425a1c5d_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("div", {
        ref: "animation-wrapper",
        class: "animation-wrapper",
        style: (0,shared_esm_bundler/* normalizeStyle */.j5)($options.style)
      }, null, 4)];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/useTime.js



/* harmony default export */ function useTime(component, model) {
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isTimeable) {
    var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
      mediaTime = _useModule.time;
    var active = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var time = (0,reactivity_esm_bundler/* unref */.SU)(mediaTime);
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        startTime = _unref["start-time"],
        endTime = _unref["end-time"];
      if (((0,lodash.isUndefined)(startTime) || (0,lodash.isNull)(startTime)) && ((0,lodash.isUndefined)(endTime) || (0,lodash.isNull)(endTime))) {
        return true;
      }
      if ((0,lodash.isUndefined)(endTime) || (0,lodash.isNull)(endTime)) {
        return time >= startTime;
      }
      if ((0,lodash.isUndefined)(startTime) || (0,lodash.isNull)(startTime)) {
        return time < endTime;
      }
      return time >= startTime && time < endTime;
    });
    return {
      active: (0,reactivity_esm_bundler/* readonly */.OT)(active)
    };
  }

  // Default value.
  return {
    active: true
  };
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/AnimationComponent.vue?vue&type=script&lang=js












/* harmony default export */ var AnimationComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    },
    renderer: {
      type: String,
      default: "svg",
      validator(value) {
        return ["svg", "canvas", "html"].includes(value);
      }
    }
  },
  setup(props) {
    var store = app_components_store();
    var component = (0,reactivity_esm_bundler/* toRef */.Vh)(props, "component");
    var model = store.getModelByType(component.value.type);
    var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
      mediaReady = _useModule.ready,
      mediaTime = _useModule.time;
    return (0,objectSpread2/* default */.Z)({
      mediaReady,
      mediaTime
    }, useTime(component, model));
  },
  data() {
    return {
      loaded: false,
      animation: null,
      duration: 0,
      totalFrames: 0
    };
  },
  computed: {
    startTime() {
      return this.component["start-time"] || 0;
    },
    endTime() {
      return this.component["end-time"];
    },
    src() {
      return this.component.src;
    },
    startFrame() {
      return this.component["start-frame"] || 1;
    },
    loopDuration() {
      return this.component["loop-duration"] ? this.component["loop-duration"] : this.duration;
    },
    reversed() {
      return this.component.reversed;
    },
    colors() {
      return this.component.colors;
    },
    style() {
      var _this$colors;
      return (_this$colors = this.colors) === null || _this$colors === void 0 ? void 0 : _this$colors.reduce(function (acc, color, index) {
        return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, acc), {}, {
          [`--color${index + 1}`]: color
        });
      }, {});
    }
  },
  watch: {
    mediaReady() {
      this.update();
    },
    mediaTime() {
      this.update();
    },
    startTime() {
      this.update();
    },
    endTime() {
      this.update();
    },
    startFrame() {
      this.update();
    },
    reversed() {
      this.update();
    },
    src() {
      this.setupAdnimation();
    },
    loopDuration() {
      this.updateSpeed();
    },
    animation(newValue, oldValue) {
      if (oldValue) {
        oldValue.removeEventListener("DOMLoaded", this.onAnimationLoaded);
        oldValue.destroy();
      }
    },
    loaded(newValue) {
      if (newValue) {
        this.updateSpeed();
        this.update();
      }
    }
  },
  mounted() {
    this.setupAdnimation();
  },
  beforeUnmount() {
    if (this.animation) {
      this.animation.removeEventListener("DOMLoaded", this.onAnimationLoaded);
      this.animation.destroy();
    }
  },
  methods: {
    update() {
      if (!this.loaded || !this.active) return;
      this.animation.goToAndStop(this.getCurrentFrame(), true);
    },
    setupAdnimation() {
      var _this = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var _yield$import, Lottie;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _this.loaded = false;
              if (_this.src) {
                _context.next = 3;
                break;
              }
              return _context.abrupt("return");
            case 3:
              _context.next = 5;
              return __webpack_require__.e(/* import() */ 770).then(__webpack_require__.t.bind(__webpack_require__, 44770, 23));
            case 5:
              _yield$import = _context.sent;
              Lottie = _yield$import.default;
              _this.animation = Lottie.loadAnimation({
                container: _this.$refs["animation-wrapper"],
                path: _this.src,
                renderer: _this.renderer,
                loop: true,
                autoplay: false
              });
              _this.animation.addEventListener("DOMLoaded", _this.onAnimationLoaded);
            case 9:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }))();
    },
    onAnimationLoaded() {
      this.loaded = true;
      this.duration = this.animation.getDuration();
      this.totalFrames = this.animation.getDuration(true);
      this.updateSpeed();
    },
    updateSpeed() {
      if (!this.loaded) return;
      this.animation.setSpeed(this.duration / this.loopDuration);
    },
    getCurrentFrame() {
      if (!this.loaded) return null;
      var time = this.mediaTime - this.startTime;
      var fps = this.totalFrames / this.loopDuration;
      var frame = (time * fps + (this.startFrame - 1)) % this.totalFrames;
      return this.reversed ? this.totalFrames - frame : frame;
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/AnimationComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/AnimationComponent.vue?vue&type=style&index=0&id=425a1c5d&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/AnimationComponent.vue?vue&type=style&index=0&id=425a1c5d&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/AnimationComponent.vue




;


const AnimationComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(AnimationComponentvue_type_script_lang_js, [['render',AnimationComponentvue_type_template_id_425a1c5d_scoped_true_render],['__scopeId',"data-v-425a1c5d"]])

/* harmony default export */ var AnimationComponent = (AnimationComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/BlockComponent.vue?vue&type=template&id=4cbb4498&scoped=true

var BlockComponentvue_type_template_id_4cbb4498_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-4cbb4498"), n = n(), _popScopeId(), n;
};
var BlockComponentvue_type_template_id_4cbb4498_scoped_true_hoisted_1 = {
  class: "pager"
};
var BlockComponentvue_type_template_id_4cbb4498_scoped_true_hoisted_2 = {
  class: "count"
};
var BlockComponentvue_type_template_id_4cbb4498_scoped_true_hoisted_3 = {
  class: "links"
};
var _hoisted_4 = {
  "aria-hidden": "true"
};
var _hoisted_5 = {
  class: "sr-only"
};
var _hoisted_6 = {
  "aria-hidden": "true"
};
var _hoisted_7 = {
  class: "sr-only"
};
var _hoisted_8 = {
  "aria-hidden": "true"
};
var _hoisted_9 = {
  class: "sr-only"
};
var _hoisted_10 = {
  ref: "pages",
  class: "pages"
};
function BlockComponentvue_type_template_id_4cbb4498_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_pager_first_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("pager-first-icon");
  var _component_pager_previous_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("pager-previous-icon");
  var _component_pager_next_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("pager-next-icon");
  var _component_page_component = (0,runtime_core_esm_bundler/* resolveComponent */.up)("page-component");
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component,
    onMouseenter: $options.onMouseenter,
    onMouseleave: $options.onMouseleave
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* withDirectives */.wy)((0,runtime_core_esm_bundler/* createElementVNode */._)("nav", BlockComponentvue_type_template_id_4cbb4498_scoped_true_hoisted_1, [(0,runtime_core_esm_bundler/* createElementVNode */._)("div", BlockComponentvue_type_template_id_4cbb4498_scoped_true_hoisted_2, "page " + (0,shared_esm_bundler/* toDisplayString */.zw)($options.activePageIndex + 1) + "/" + (0,shared_esm_bundler/* toDisplayString */.zw)($options.pageCount), 1), (0,runtime_core_esm_bundler/* createElementVNode */._)("ul", BlockComponentvue_type_template_id_4cbb4498_scoped_true_hoisted_3, [(0,runtime_core_esm_bundler/* createElementVNode */._)("li", null, [(0,runtime_core_esm_bundler/* createElementVNode */._)("a", {
        href: "#",
        "data-action": "first",
        "aria-label": "First",
        class: (0,shared_esm_bundler/* normalizeClass */.C_)({
          disabled: $options.activePageIndex === 0
        }),
        onClick: _cache[0] || (_cache[0] = withModifiers(function () {
          return $options.reset && $options.reset.apply($options, arguments);
        }, ["stop", "prevent"]))
      }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("span", _hoisted_4, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_pager_first_icon, {
        class: "icon"
      })]), (0,runtime_core_esm_bundler/* createElementVNode */._)("span", _hoisted_5, (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.$t("pager.first")), 1)], 2)]), (0,runtime_core_esm_bundler/* createElementVNode */._)("li", null, [(0,runtime_core_esm_bundler/* createElementVNode */._)("a", {
        href: "#",
        "data-action": "previous",
        "aria-label": "Previous",
        class: (0,shared_esm_bundler/* normalizeClass */.C_)({
          disabled: $options.activePageIndex === 0
        }),
        onClick: _cache[1] || (_cache[1] = withModifiers(function () {
          return $options.turnPageBackward && $options.turnPageBackward.apply($options, arguments);
        }, ["stop", "prevent"]))
      }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("span", _hoisted_6, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_pager_previous_icon, {
        class: "icon"
      })]), (0,runtime_core_esm_bundler/* createElementVNode */._)("span", _hoisted_7, (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.$t("pager.previous")), 1)], 2)]), (0,runtime_core_esm_bundler/* createElementVNode */._)("li", null, [(0,runtime_core_esm_bundler/* createElementVNode */._)("a", {
        href: "#",
        "data-action": "next",
        "aria-label": "Next",
        class: (0,shared_esm_bundler/* normalizeClass */.C_)({
          disabled: $options.activePageIndex === $options.pageCount - 1
        }),
        onClick: _cache[2] || (_cache[2] = withModifiers(function () {
          return $options.turnPageForward && $options.turnPageForward.apply($options, arguments);
        }, ["stop", "prevent"]))
      }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("span", _hoisted_8, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_pager_next_icon, {
        class: "icon"
      })]), (0,runtime_core_esm_bundler/* createElementVNode */._)("span", _hoisted_9, (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.$t("pager.next")), 1)], 2)])])], 512), [[vShow, $options.pagerVisibe]]), (0,runtime_core_esm_bundler/* createElementVNode */._)("div", _hoisted_10, [((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($options.pages, function (page, index) {
        return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, {
          key: page.id
        }, [$options.synched ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_page_component, {
          key: 0,
          component: page,
          onActivated: $options.onTimedPageActivated,
          onAction: _cache[3] || (_cache[3] = function ($event) {
            return _ctx.$emit('action', $event);
          })
        }, null, 8, ["component", "onActivated"])) : (0,runtime_core_esm_bundler/* withDirectives */.wy)(((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_page_component, {
          key: 1,
          component: page,
          onAction: _cache[4] || (_cache[4] = function ($event) {
            return _ctx.$emit('action', $event);
          })
        }, null, 8, ["component"])), [[vShow, $options.activePageIndex === index]])], 64);
      }), 128))], 512)];
    }),
    _: 1
  }, 8, ["component", "onMouseenter", "onMouseleave"]);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/BlockComponent.vue?vue&type=template&id=4cbb4498&scoped=true

;// CONCATENATED MODULE: ./packages/core/utils/device.js


/**
 * Check if the device has touch input.
 *
 * @returns {Boolean} True if it has touch input, false otherwise.
 */
function hasTouch() {
  return window.matchMedia("(any-pointer: coarse)").matches;
}

/**
 * Check if the device is running an Apple OS.
 *
 * @returns {Boolean} True if it is running an Apple OS, false otherwise.
 */
function device_isApplePlatform() {
  return typeof window.navigator !== "undefined" && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/app_components/assets/icons/block/pager-first.svg?vue&type=template&id=3316d6c0&inline

var pager_firstvue_type_template_id_3316d6c0_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 8 9"
};
var pager_firstvue_type_template_id_3316d6c0_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  d: "M0 0h2v9H0zm8 9H6.75L2 4.5 6.75 0H8z",
  fill: "currentColor"
}, null, -1);
var pager_firstvue_type_template_id_3316d6c0_inline_hoisted_3 = [pager_firstvue_type_template_id_3316d6c0_inline_hoisted_2];
function pager_firstvue_type_template_id_3316d6c0_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", pager_firstvue_type_template_id_3316d6c0_inline_hoisted_1, pager_firstvue_type_template_id_3316d6c0_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/block/pager-first.svg?vue&type=template&id=3316d6c0&inline

;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/block/pager-first.svg?inline

const pager_firstinline_script = {}

;
const pager_firstinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(pager_firstinline_script, [['render',pager_firstvue_type_template_id_3316d6c0_inline_render]])

/* harmony default export */ var pager_firstinline = (pager_firstinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/app_components/assets/icons/block/pager-previous.svg?vue&type=template&id=11118664&inline

var pager_previousvue_type_template_id_11118664_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 8 9"
};
var pager_previousvue_type_template_id_11118664_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  d: "M6 9H4.75L0 4.5 4.75 0H6v9z",
  fill: "currentColor"
}, null, -1);
var pager_previousvue_type_template_id_11118664_inline_hoisted_3 = [pager_previousvue_type_template_id_11118664_inline_hoisted_2];
function pager_previousvue_type_template_id_11118664_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", pager_previousvue_type_template_id_11118664_inline_hoisted_1, pager_previousvue_type_template_id_11118664_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/block/pager-previous.svg?vue&type=template&id=11118664&inline

;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/block/pager-previous.svg?inline

const pager_previousinline_script = {}

;
const pager_previousinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(pager_previousinline_script, [['render',pager_previousvue_type_template_id_11118664_inline_render]])

/* harmony default export */ var pager_previousinline = (pager_previousinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/app_components/assets/icons/block/pager-next.svg?vue&type=template&id=a4c5c3b4&inline

var pager_nextvue_type_template_id_a4c5c3b4_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "-2 0 8 9"
};
var pager_nextvue_type_template_id_a4c5c3b4_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  d: "M0 0h1.25L6 4.5 1.25 9H0V0z",
  fill: "currentColor"
}, null, -1);
var pager_nextvue_type_template_id_a4c5c3b4_inline_hoisted_3 = [pager_nextvue_type_template_id_a4c5c3b4_inline_hoisted_2];
function pager_nextvue_type_template_id_a4c5c3b4_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", pager_nextvue_type_template_id_a4c5c3b4_inline_hoisted_1, pager_nextvue_type_template_id_a4c5c3b4_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/block/pager-next.svg?vue&type=template&id=a4c5c3b4&inline

;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/block/pager-next.svg?inline

const pager_nextinline_script = {}

;
const pager_nextinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(pager_nextinline_script, [['render',pager_nextvue_type_template_id_a4c5c3b4_inline_render]])

/* harmony default export */ var pager_nextinline = (pager_nextinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/BlockComponent.vue?vue&type=script&lang=js











/* harmony default export */ var BlockComponentvue_type_script_lang_js = ({
  components: {
    PagerFirstIcon: pager_firstinline,
    PagerPreviousIcon: pager_previousinline,
    PagerNextIcon: pager_nextinline
  },
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  emits: ["action"],
  setup() {
    var store = app_components_store();
    return {
      store
    };
  },
  data() {
    return {
      hover: false
    };
  },
  computed: {
    synched() {
      return this.component.synched;
    },
    activePageIndex: {
      get() {
        var id = this.component.id;
        return id in this.store.blocksActivePage ? this.store.blocksActivePage[id] : 0;
      },
      set(value) {
        this.store.setBlockActivePage(this.component, value);
      }
    },
    pagerVisibe() {
      if (this.pageCount < 2) {
        return false;
      }
      switch (this.component["pager-visibility"]) {
        case "visible":
          return true;
        case "hidden":
          return false;
        default:
          return this.hover;
      }
    },
    pages() {
      return this.store.getChildren(this.component);
    },
    pageCount() {
      return this.pages.length;
    }
  },
  mounted() {
    this.setupSwipe();
  },
  methods: {
    setupSwipe() {
      var _this = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var _yield$import, Hammer;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              if (hasTouch()) {
                _context.next = 2;
                break;
              }
              return _context.abrupt("return");
            case 2:
              _context.next = 4;
              return __webpack_require__.e(/* import() */ 75).then(__webpack_require__.t.bind(__webpack_require__, 34075, 23));
            case 4:
              _yield$import = _context.sent;
              Hammer = _yield$import.default;
              new Hammer.Manager(_this.$refs.pages, {
                recognizers: [[Hammer.Swipe, {
                  direction: Hammer.DIRECTION_HORIZONTAL
                }]],
                cssProps: {
                  userSelect: "auto" // Allow user selection.
                }
              }).on("swiperight", _this.turnPageBackward).on("swipeleft", _this.turnPageForward);
            case 7:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }))();
    },
    /**
     * The 'mouseenter' event handler
     */
    onMouseenter() {
      this.hover = true;
    },
    /**
     * The 'mouseleave' event handler
     */
    onMouseleave() {
      this.hover = false;
    },
    onTimedPageActivated(component) {
      var id = this.component.id;
      this.store.blocksActivePage[id] = this.pages.findIndex(function (v) {
        return v.id === component.id;
      });
    },
    reset() {
      this.activePageIndex = 0;
    },
    turnPageBackward() {
      var index = Math.max(this.activePageIndex - 1, 0);
      this.activePageIndex = index;
    },
    turnPageForward() {
      var index = Math.min(this.activePageIndex + 1, this.pageCount - 1);
      this.activePageIndex = index;
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/BlockComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/BlockComponent.vue?vue&type=style&index=0&id=4cbb4498&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/BlockComponent.vue?vue&type=style&index=0&id=4cbb4498&lang=scss&scoped=true

;// CONCATENATED MODULE: ./node_modules/@intlify/vue-i18n-loader/lib/index.js!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/BlockComponent.vue?vue&type=custom&index=0&blockType=i18n
/* harmony default export */ function BlockComponentvue_type_custom_index_0_blockType_i18n(Component) {
  Component.__i18n = Component.__i18n || []
  Component.__i18n.push({
    "locale": "",
    "resource": {
      "fr": {
        "pager": {
          "first": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Premire"])},
          "previous": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Prcdente"])},
          "next": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Suivante"])}
        }
      },
      "en": {
        "pager": {
          "first": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["First"])},
          "previous": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Previous"])},
          "next": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Next"])}
        }
      }
    }
  })
}

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/BlockComponent.vue




;
/* custom blocks */

if (typeof BlockComponentvue_type_custom_index_0_blockType_i18n === 'function') BlockComponentvue_type_custom_index_0_blockType_i18n(BlockComponentvue_type_script_lang_js)


;
const BlockComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(BlockComponentvue_type_script_lang_js, [['render',BlockComponentvue_type_template_id_4cbb4498_scoped_true_render],['__scopeId',"data-v-4cbb4498"]])

/* harmony default export */ var BlockComponent = (BlockComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/BlockTogglerComponent.vue?vue&type=template&id=0fd6b564&scoped=true

var BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-0fd6b564"), n = n(), _popScopeId(), n;
};
var BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_hoisted_1 = ["onClick"];
var BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_hoisted_2 = ["viewBox"];
var BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_hoisted_3 = ["width", "height", "x", "y"];
function BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($options.sortedBlocks, function (block) {
        return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("button", {
          key: block.id,
          type: "button",
          class: (0,shared_esm_bundler/* normalizeClass */.C_)({
            active: $options.isBlockHidden(block)
          }),
          onClick: function onClick($event) {
            return $options.toggleBlock(block);
          }
        }, [((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", {
          preserveAspectRatio: "xMidYMid meet",
          viewBox: $options.viewBox
        }, [((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($options.sortedBlocks, function (block_2) {
          return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("rect", {
            key: block_2.id,
            width: block_2.dimension[0],
            height: block_2.dimension[1],
            x: block_2.position[0],
            y: block_2.position[1],
            class: (0,shared_esm_bundler/* normalizeClass */.C_)({
              current: block.id === block_2.id
            })
          }, null, 10, BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_hoisted_3);
        }), 128))], 8, BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_hoisted_2))], 10, BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_hoisted_1);
      }), 128))];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/BlockTogglerComponent.vue?vue&type=script&lang=js






var BLOCK_TOGGLER_OVERRIDES_KEY = "app_components:block_toggler";
var BLOCK_TOGGLER_OVERRIDES_PRIORITY = 100;
/* harmony default export */ var BlockTogglerComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  setup() {
    var store = app_components_store();
    return {
      store
    };
  },
  computed: {
    blocks() {
      var _this = this;
      return this.component.blocks.map(function (_ref) {
        var type = _ref.type,
          id = _ref.id;
        return _this.store.get(type, id);
      }).filter(function (b) {
        return b;
      });
    },
    sortedBlocks() {
      return (0,lodash.sortBy)(this.blocks, [function (block) {
        return block.position[0];
      }, function (block) {
        return block.position[1];
      }]);
    },
    viewBox() {
      var width = 0;
      var height = 0;
      this.blocks.forEach(function (block) {
        width = Math.max(block.position[0] + block.dimension[0], width);
        height = Math.max(block.position[1] + block.dimension[1], height);
      });
      return `0 0 ${width} ${height}`;
    }
  },
  methods: {
    isBlockHidden(block) {
      return block.hidden;
    },
    toggleBlock(block) {
      this.store.setOverrides(block, BLOCK_TOGGLER_OVERRIDES_KEY, {
        hidden: !block.hidden
      }, BLOCK_TOGGLER_OVERRIDES_PRIORITY);
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/BlockTogglerComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/BlockTogglerComponent.vue?vue&type=style&index=0&id=0fd6b564&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/BlockTogglerComponent.vue?vue&type=style&index=0&id=0fd6b564&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/BlockTogglerComponent.vue




;


const BlockTogglerComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(BlockTogglerComponentvue_type_script_lang_js, [['render',BlockTogglerComponentvue_type_template_id_0fd6b564_scoped_true_render],['__scopeId',"data-v-0fd6b564"]])

/* harmony default export */ var BlockTogglerComponent = (BlockTogglerComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ComponentIcon.vue?vue&type=template&id=7dbf44bd&scoped=true

function ComponentIconvue_type_template_id_7dbf44bd_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_inline_svg = (0,runtime_core_esm_bundler/* resolveComponent */.up)("inline-svg");
  return $options.url ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_inline_svg, {
    key: 0,
    src: $options.url,
    class: "icon component-icon"
  }, null, 8, ["src"])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true);
}
;// CONCATENATED MODULE: ./node_modules/vue-inline-svg/src/index.js



// peer dep is not installed during test
// eslint-disable-next-line import/no-unresolved


/** @type Record<string, PromiseWithState<Element>> */
var src_cache = {};

/**
 * Remove false attrs
 * @param {Object} attrs
 */
function filterAttrs(attrs) {
  return Object.keys(attrs).reduce(function (result, key) {
    if (attrs[key] !== false && attrs[key] !== null && attrs[key] !== undefined) {
      result[key] = attrs[key];
    }
    return result;
  }, {});
}
var InlineSvg = {
  name: 'InlineSvg',
  inheritAttrs: false,
  render() {
    if (!this.svgElSource) {
      return null;
    }
    return (0,runtime_core_esm_bundler.h)('svg', Object.assign({},
    // source attrs
    this.getSvgAttrs(this.svgElSource),
    // component attrs and listeners
    filterAttrs(this.$attrs),
    // content
    {
      innerHTML: this.getSvgContent(this.svgElSource)
    }));
  },
  props: {
    src: {
      type: String,
      required: true
    },
    title: {
      type: String
    },
    transformSource: {
      type: Function,
      default: function _default(svg) {
        return svg;
      }
    },
    keepDuringLoading: {
      type: Boolean,
      default: true
    }
  },
  emits: ['loaded', 'unloaded', 'error'],
  data() {
    return {
      /** @type SVGElement */
      svgElSource: null
    };
  },
  watch: {
    src(newValue) {
      // re-generate cached svg (`svgElSource`)
      this.getSource(newValue);
    }
  },
  mounted() {
    // generate `svgElSource`
    this.getSource(this.src);
  },
  methods: {
    getSvgAttrs(svgEl) {
      // copy attrs
      var svgAttrs = {};
      var attrs = svgEl.attributes;
      if (!attrs) {
        return svgAttrs;
      }
      for (var i = attrs.length - 1; i >= 0; i--) {
        svgAttrs[attrs[i].name] = attrs[i].value;
      }
      return svgAttrs;
    },
    getSvgContent(svgEl) {
      svgEl = svgEl.cloneNode(true);
      svgEl = this.transformSource(svgEl);
      if (this.title) {
        setTitle(svgEl, this.title);
      }

      // copy inner html
      return svgEl.innerHTML;
    },
    /**
     * Get svgElSource
     * @param {string} src
     */
    getSource(src) {
      var _this = this;
      // fill cache by src with promise
      if (!src_cache[src]) {
        // download
        src_cache[src] = this.download(src);
      }
      // notify svg is unloaded
      if (this.svgElSource && src_cache[src].getIsPending() && !this.keepDuringLoading) {
        this.svgElSource = null;
        this.$emit('unloaded');
      }

      // inline svg when cached promise resolves
      src_cache[src].then(function (svg) {
        _this.svgElSource = svg;
        // wait to render
        _this.$nextTick(function () {
          // notify
          _this.$emit('loaded', _this.$el);
        });
      }).catch(function (err) {
        // notify svg is unloaded
        if (_this.svgElSource) {
          _this.svgElSource = null;
          _this.$emit('unloaded');
        }
        // remove cached rejected promise so next image can try load again
        delete src_cache[src];
        _this.$emit('error', err);
      });
    },
    /**
     * Get the contents of the SVG
     * @param {string} url
     * @returns {PromiseWithState<Element>}
     */
    download(url) {
      return makePromiseState(new Promise(function (resolve, reject) {
        var request = new XMLHttpRequest();
        request.open('GET', url, true);
        request.onload = function () {
          if (request.status >= 200 && request.status < 400) {
            try {
              // Setup a parser to convert the response to text/xml in order for it to be manipulated and changed
              var parser = new DOMParser();
              var result = parser.parseFromString(request.responseText, 'text/xml');
              var svgEl = result.getElementsByTagName('svg')[0];
              if (svgEl) {
                // svgEl = this.transformSource(svgEl);
                resolve(svgEl);
              } else {
                reject(new Error('Loaded file is not valid SVG"'));
              }
            } catch (e) {
              reject(e);
            }
          } else {
            reject(new Error('Error loading SVG'));
          }
        };
        request.onerror = reject;
        request.send();
      }));
    }
  }
};

/**
 * Create or edit the <title> element of a SVG
 * @param {SVGElement} svg
 * @param {string} title
 */
function setTitle(svg, title) {
  var titleTags = svg.getElementsByTagName('title');
  if (titleTags.length) {
    // overwrite existing title
    titleTags[0].textContent = title;
  } else {
    // create a title element if one doesn't already exist
    var titleEl = document.createElementNS('http://www.w3.org/2000/svg', 'title');
    titleEl.textContent = title;
    // svg.prepend(titleEl);
    svg.insertBefore(titleEl, svg.firstChild);
  }
}

/**
 * @typedef {Promise & object} PromiseWithState
 * @property {function: boolean} getIsPending
 * @template T
 */

/**
 * This function allow you to modify a JS Promise by adding some status properties.
 * @template {any} T
 * @param {Promise<T>|PromiseWithState<T>} promise
 * @return {PromiseWithState<T>}
 */
function makePromiseState(promise) {
  // Don't modify any promise that has been already modified.
  if (promise.getIsPending) return promise;

  // Set initial state
  var isPending = true;

  // Observe the promise, saving the fulfillment in a closure scope.
  var result = promise.then(function (v) {
    isPending = false;
    return v;
  }, function (e) {
    isPending = false;
    throw e;
  });
  result.getIsPending = function getIsPending() {
    return isPending;
  };
  return result;
}
/* harmony default export */ var vue_inline_svg_src = (InlineSvg);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ComponentIcon.vue?vue&type=script&lang=js


/* harmony default export */ var ComponentIconvue_type_script_lang_js = ({
  components: {
    InlineSvg: vue_inline_svg_src
  },
  props: {
    component: {
      type: Object,
      required: true
    }
  },
  computed: {
    url() {
      var url = getURL(this.component);
      return url ? `${url}#` : null;
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ComponentIcon.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ComponentIcon.vue?vue&type=style&index=0&id=7dbf44bd&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ComponentIcon.vue?vue&type=style&index=0&id=7dbf44bd&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ComponentIcon.vue




;


const ComponentIcon_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ComponentIconvue_type_script_lang_js, [['render',ComponentIconvue_type_template_id_7dbf44bd_scoped_true_render],['__scopeId',"data-v-7dbf44bd"]])

/* harmony default export */ var ComponentIcon = (ComponentIcon_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ComponentWrapper.vue?vue&type=template&id=18759d1a&scoped=true


var ComponentWrappervue_type_template_id_18759d1a_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-18759d1a"), n = n(), _popScopeId(), n;
};
var ComponentWrappervue_type_template_id_18759d1a_scoped_true_hoisted_1 = ["id", "data-name"];
function ComponentWrappervue_type_template_id_18759d1a_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  return (0,runtime_core_esm_bundler/* withDirectives */.wy)(((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", {
    id: $props.component.id,
    class: (0,shared_esm_bundler/* normalizeClass */.C_)(['metaScore-component', $options.kebabCase($props.component.type), {
      active: _ctx.active,
      hidden: _ctx.hidden
    }]),
    "data-name": $props.component.name,
    style: (0,shared_esm_bundler/* normalizeStyle */.j5)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, _ctx.position), _ctx.size), {}, {
      transform: _ctx.transform
    }))
  }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("div", {
    class: "metaScore-component--inner",
    style: (0,shared_esm_bundler/* normalizeStyle */.j5)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, _ctx.background), _ctx.border), {}, {
      opacity: _ctx.opacity
    }))
  }, [(0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "default", {}, undefined, true)], 4), (0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "outer", {}, undefined, true)], 14, ComponentWrappervue_type_template_id_18759d1a_scoped_true_hoisted_1)), [[vShow, (_ctx.active || !$props.hideWhenInactive) && !_ctx.hidden]]);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ComponentWrapper.vue?vue&type=template&id=18759d1a&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/useBackground.js


/* harmony default export */ function useBackground(component, model) {
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isBackgroundable) {
    var background = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        backgroundColor = _unref["background-color"],
        backgroundImage = _unref["background-image"];
      var ret = {};
      if (!(0,lodash.isUndefined)(backgroundColor) && !(0,lodash.isNull)(backgroundColor)) {
        ret["background-color"] = backgroundColor;
      }
      if (backgroundImage) {
        ret["background-image"] = `url(${backgroundImage})`;
      }
      return ret;
    });
    return {
      background: (0,reactivity_esm_bundler/* readonly */.OT)(background)
    };
  }

  // Default value.
  return {
    background: null
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/useBorder.js


/* harmony default export */ function useBorder(component, model) {
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isBorderable) {
    var border = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        borderWidth = _unref["border-width"],
        borderColor = _unref["border-color"],
        borderRadius = _unref["border-radius"];
      var ret = {};
      if (!(0,lodash.isUndefined)(borderWidth) && !(0,lodash.isNull)(borderWidth) && borderWidth > 0) {
        ret["border-style"] = "solid";
        ret["border-width"] = `${borderWidth}px`;
        if (!(0,lodash.isUndefined)(borderColor) && !(0,lodash.isNull)(borderColor)) {
          ret["border-color"] = borderColor;
        }
      }
      if (!(0,lodash.isUndefined)(borderRadius) && !(0,lodash.isNull)(borderRadius)) {
        ret["border-radius"] = borderRadius;
      }
      return ret;
    });
    return {
      border: (0,reactivity_esm_bundler/* readonly */.OT)(border)
    };
  }

  // Default value.
  return {
    border: null
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/useHidden.js


/* harmony default export */ function useHidden(component, model) {
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isHideable) {
    var hidden = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        value = _unref.hidden;
      if (!(0,lodash.isUndefined)(value) && !(0,lodash.isNull)(value)) {
        return value;
      }
      return false;
    });
    return {
      hidden: (0,reactivity_esm_bundler/* readonly */.OT)(hidden)
    };
  }

  // Default value.
  return {
    hidden: null
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/useOpacity.js




/* harmony default export */ function useOpacity(component, model) {
  var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
    mediaTime = _useModule.time;
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isOpacitable) {
    var opacity = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        opacity = _unref.opacity;
      var value = null;
      if (!(0,lodash.isUndefined)(opacity) && !(0,lodash.isNull)(opacity)) {
        if (!opacity.animated) {
          value = opacity.value;
        } else {
          var time = (0,reactivity_esm_bundler/* unref */.SU)(mediaTime);
          value = animation_getAnimatedValueAtTime(opacity.value, time);
        }
        if (!(0,lodash.isUndefined)(value) && !(0,lodash.isNull)(value)) {
          return value;
        }
      }
      return null;
    });
    return {
      opacity: (0,reactivity_esm_bundler/* readonly */.OT)(opacity)
    };
  }

  // Default value.
  return {
    opacity: null
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/usePosition.js


/* harmony default export */ function usePosition(component, model) {
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isPositionable) {
    var position = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        value = _unref.position;
      var ret = {};
      if (!(0,lodash.isUndefined)(value) && !(0,lodash.isNull)(value)) {
        ret.left = `${value[0]}px`;
        ret.top = `${value[1]}px`;
      }
      return ret;
    });
    return {
      position: (0,reactivity_esm_bundler/* readonly */.OT)(position)
    };
  }

  // Default value.
  return {
    position: null
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/useSize.js


/* harmony default export */ function useSize(component, model) {
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isResizable) {
    var size = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        value = _unref.dimension;
      var ret = {};
      if (!(0,lodash.isUndefined)(value) && !(0,lodash.isNull)(value)) {
        ret.width = `${value[0]}px`;
        ret.height = `${value[1]}px`;
      }
      return ret;
    });
    return {
      size: (0,reactivity_esm_bundler/* readonly */.OT)(size)
    };
  }

  // Default value.
  return {
    size: null
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/composables/useTransform.js







/* harmony default export */ function useTransform(component, model) {
  var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
    mediaTime = _useModule.time;
  if ((0,reactivity_esm_bundler/* unref */.SU)(model).$isTransformable) {
    var transform = (0,runtime_core_esm_bundler/* computed */.Fl)(function () {
      var _unref = (0,reactivity_esm_bundler/* unref */.SU)(component),
        translate = _unref.translate,
        scale = _unref.scale,
        rotate = _unref.rotate;
      var ret = {};
      if (!(0,lodash.isUndefined)(translate) && !(0,lodash.isNull)(translate)) {
        var value = null;
        if (!translate.animated) {
          value = translate.value;
        } else {
          var time = (0,reactivity_esm_bundler/* unref */.SU)(mediaTime);
          value = animation_getAnimatedValueAtTime(translate.value, time);
        }
        if (!(0,lodash.isUndefined)(value) && !(0,lodash.isNull)(value)) {
          if (value[0] !== 0) {
            ret.translateX = `${value[0]}px`;
          }
          if (value[1] !== 0) {
            ret.translateY = `${value[1]}px`;
          }
        }
      }
      if (!(0,lodash.isUndefined)(scale) && !(0,lodash.isNull)(scale)) {
        var _value = null;
        if (!scale.animated) {
          _value = scale.value;
        } else {
          var _time = (0,reactivity_esm_bundler/* unref */.SU)(mediaTime);
          _value = animation_getAnimatedValueAtTime(scale.value, _time);
        }
        if (!(0,lodash.isUndefined)(_value) && !(0,lodash.isNull)(_value)) {
          if (_value[0] !== 1) {
            ret.scaleX = _value[0];
          }
          if (_value[1] !== 1) {
            ret.scaleY = _value[1];
          }
        }
      }
      if (!(0,lodash.isUndefined)(rotate) && !(0,lodash.isNull)(rotate)) {
        var _value2 = null;
        if (!rotate.animated) {
          _value2 = rotate.value;
        } else {
          var _time2 = (0,reactivity_esm_bundler/* unref */.SU)(mediaTime);
          _value2 = animation_getAnimatedValueAtTime(rotate.value, _time2);
        }
        if (!(0,lodash.isUndefined)(_value2) && !(0,lodash.isNull)(_value2)) {
          ret.rotate = `${_value2 % 360}deg`;
        }
      }
      return Object.entries(ret).map(function (_ref) {
        var _ref2 = (0,slicedToArray/* default */.Z)(_ref, 2),
          key = _ref2[0],
          val = _ref2[1];
        return `${key}(${val})`;
      }).join(" ");
    });
    return {
      transform: (0,reactivity_esm_bundler/* readonly */.OT)(transform)
    };
  }

  // Default value.
  return {
    transform: null
  };
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ComponentWrapper.vue?vue&type=script&lang=js












/* harmony default export */ var ComponentWrappervue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    },
    hideWhenInactive: {
      type: Boolean,
      default: true
    }
  },
  emits: ["activated", "deactivated", "action"],
  setup(props) {
    var store = app_components_store();
    var component = (0,reactivity_esm_bundler/* toRef */.Vh)(props, "component");
    var model = store.getModelByType(component.value.type);
    return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, useBackground(component, model)), useBorder(component, model)), useHidden(component, model)), useOpacity(component, model)), usePosition(component, model)), useSize(component, model)), useTime(component, model)), useTransform(component, model)), {}, {
      store
    });
  },
  watch: {
    active: {
      handler(value) {
        this.$emit(value ? "activated" : "deactivated", this.component);
      },
      immediate: true
    }
  },
  methods: {
    kebabCase: lodash.kebabCase
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ComponentWrapper.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ComponentWrapper.vue?vue&type=style&index=0&id=18759d1a&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ComponentWrapper.vue?vue&type=style&index=0&id=18759d1a&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ComponentWrapper.vue




;


const ComponentWrapper_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ComponentWrappervue_type_script_lang_js, [['render',ComponentWrappervue_type_template_id_18759d1a_scoped_true_render],['__scopeId',"data-v-18759d1a"]])

/* harmony default export */ var ComponentWrapper = (ComponentWrapper_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ContentComponent.vue?vue&type=template&id=4cb5ce68&scoped=true

function ContentComponentvue_type_template_id_4cb5ce68_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  var _directive_dompurify_html = (0,runtime_core_esm_bundler/* resolveDirective */.Q2)("dompurify-html");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* withDirectives */.wy)((0,runtime_core_esm_bundler/* createElementVNode */._)("div", {
        class: "contents",
        onClick: _cache[0] || (_cache[0] = function () {
          return $options.onTextClick && $options.onTextClick.apply($options, arguments);
        })
      }, null, 512), [[_directive_dompurify_html, $options.text]])];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/utils/links.js















var AUTO_HIGHLIGHT_CLASS = "metaScore-auto-highlight";
function links_parse(href) {
  var url = null;
  try {
    url = new URL(href, window.location.origin);
  } catch (e) {
    return null;
  }
  if (!(url && /^#/.test(url.hash))) return null;
  var actions = url.hash.replace(/^#/, "").split("&");
  return actions.map(function (action) {
    if (["play", "pause", "stop"].includes(action)) {
      return {
        type: action
      };
    }
    var matches = null;

    // play excerpt link.
    if (matches = action.match(/^play=(\d*\.?\d+)?,(\d*\.?\d+)?,(?:([^,]+)(?:,([01]))?)?$/)) {
      return {
        type: "play",
        excerpt: true,
        start: matches[1],
        end: matches[2],
        scenario: typeof matches[3] !== "undefined" ? decodeURIComponent(matches[3]) : null,
        highlight: matches[4] === "1"
      };
    }

    // seek link.
    if (matches = action.match(/^seek=(\d*\.?\d+)$/)) {
      return {
        type: "seek",
        time: parseFloat(matches[1])
      };
    }

    // page link.
    if (matches = action.match(/^page=([^,]*),(\d+)$/)) {
      return {
        type: "page",
        block: decodeURIComponent(matches[1]),
        index: parseInt(matches[2], 10) - 1
      };
    }

    // show/hide/toggleBlock link.
    if (matches = action.match(/^((show|hide|toggle)Block)=(.+)$/)) {
      return {
        type: matches[1],
        name: decodeURIComponent(matches[3])
      };
    }

    // scenario link.
    if (matches = action.match(/^scenario=(.+)$/)) {
      return {
        type: "scenario",
        id: decodeURIComponent(matches[1])
      };
    }

    // enter/exit/toggleFullscreen.
    if (matches = action.match(/^(enter|exit|toggle)Fullscreen$/)) {
      return {
        type: matches[0]
      };
    }
    return null;
  }).filter(function (action) {
    return action !== null;
  });
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ContentComponent.vue?vue&type=script&lang=js









/* harmony default export */ var ContentComponentvue_type_script_lang_js = ({
  directives: {
    dompurifyHtml: vue_dompurify_html_p({
      hooks: {
        afterSanitizeAttributes: function afterSanitizeAttributes(node) {
          if (node.tagName === "A" && node.hasAttribute("href")) {
            node.setAttribute("target", "_blank");
            node.setAttribute("rel", "noopener");
          }
        }
      }
    })
  },
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  emits: ["action"],
  setup() {
    var _useModule = (0,module_manager/* useModule */.b7)("media_cuepoints"),
      addCuepoint = _useModule.addCuepoint,
      removeCuepoint = _useModule.removeCuepoint;
    return {
      addCuepoint,
      removeCuepoint
    };
  },
  data() {
    return {
      cuepoints: []
    };
  },
  computed: {
    text() {
      var _this$component$text;
      return (_this$component$text = this.component.text) !== null && _this$component$text !== void 0 ? _this$component$text : "";
    }
  },
  watch: {
    text: {
      handler() {
        var _this = this;
        return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
          return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
            while (1) switch (_context.prev = _context.next) {
              case 0:
                _this.destroyLinksAutoHihglight();
                _context.next = 3;
                return _this.$nextTick();
              case 3:
                _this.setupLinksAutoHighlight();
              case 4:
              case "end":
                return _context.stop();
            }
          }, _callee);
        }))();
      },
      immediate: true
    }
  },
  beforeUnmount() {
    this.destroyLinksAutoHihglight();
  },
  methods: {
    onTextClick(evt) {
      var _this2 = this;
      var link = evt.target.closest("a");
      if (!link || !link.href) {
        return;
      }
      evt.stopPropagation();
      evt.preventDefault();
      var actions = links_parse(link.href);
      if (actions) {
        actions.forEach(function (action) {
          _this2.$emit("action", action);
        });
      } else {
        // Default action, open link in new window/tab.
        window.open(link.href, "_blank");
      }
    },
    setupLinksAutoHighlight() {
      var _this3 = this;
      var links = this.$el.querySelectorAll("a[href^='#']");
      links.forEach(function (link) {
        var actions = links_parse(link.href);
        actions.filter(function (action) {
          return action.type === "play" && action.highlight === true;
        }).forEach(function (action) {
          var cuepoint = _this3.addCuepoint({
            startTime: action.start,
            endTime: action.end,
            onStart: function onStart() {
              link.classList.add(AUTO_HIGHLIGHT_CLASS);
            },
            onStop: function onStop() {
              link.classList.remove(AUTO_HIGHLIGHT_CLASS);
            },
            onDestroy: function onDestroy() {
              link.classList.remove(AUTO_HIGHLIGHT_CLASS);
            }
          });
          _this3.cuepoints.push(cuepoint);
        });
      });
    },
    destroyLinksAutoHihglight() {
      while (this.cuepoints.length > 0) {
        var cuepoint = this.cuepoints.pop();
        this.removeCuepoint(cuepoint);
      }
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ContentComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ContentComponent.vue?vue&type=style&index=0&id=4cb5ce68&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ContentComponent.vue?vue&type=style&index=0&id=4cb5ce68&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ContentComponent.vue




;


const ContentComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ContentComponentvue_type_script_lang_js, [['render',ContentComponentvue_type_template_id_4cb5ce68_scoped_true_render],['__scopeId',"data-v-4cb5ce68"]])

/* harmony default export */ var ContentComponent = (ContentComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ControllerComponent.vue?vue&type=template&id=188a1457&scoped=true

var ControllerComponentvue_type_template_id_188a1457_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-188a1457"), n = n(), _popScopeId(), n;
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_1 = {
  class: "timer"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_2 = {
  class: "buttons"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_3 = {
  "aria-hidden": "true"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_4 = {
  class: "sr-only"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_5 = {
  "aria-hidden": "true"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_6 = {
  class: "sr-only"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_7 = {
  "aria-hidden": "true"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_8 = {
  class: "sr-only"
};
var ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_9 = {
  class: "logo"
};
function ControllerComponentvue_type_template_id_188a1457_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_rewind_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("rewind-icon");
  var _component_pause_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("pause-icon");
  var _component_play_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("play-icon");
  var _component_logo_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("logo-icon");
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("div", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_1, (0,shared_esm_bundler/* toDisplayString */.zw)($setup.mediaFormattedTime), 1), (0,runtime_core_esm_bundler/* createElementVNode */._)("div", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_2, [(0,runtime_core_esm_bundler/* createElementVNode */._)("button", {
        type: "button",
        "data-action": "rewind",
        onClick: _cache[0] || (_cache[0] = function () {
          return $options.onRewindClick && $options.onRewindClick.apply($options, arguments);
        })
      }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("span", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_3, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_rewind_icon, {
        class: "icon"
      })]), (0,runtime_core_esm_bundler/* createElementVNode */._)("span", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_4, (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.$t("buttons.rewind")), 1)]), $setup.mediaPlaying ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("button", {
        key: 0,
        type: "button",
        "data-action": "pause",
        onClick: _cache[1] || (_cache[1] = function () {
          return $options.onPauseClick && $options.onPauseClick.apply($options, arguments);
        })
      }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("span", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_5, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_pause_icon, {
        class: "icon"
      })]), (0,runtime_core_esm_bundler/* createElementVNode */._)("span", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_6, (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.$t("buttons.pause")), 1)])) : ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("button", {
        key: 1,
        type: "button",
        "data-action": "play",
        onClick: _cache[2] || (_cache[2] = function () {
          return $options.onPlayClick && $options.onPlayClick.apply($options, arguments);
        })
      }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("span", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_7, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_play_icon, {
        class: "icon"
      })]), (0,runtime_core_esm_bundler/* createElementVNode */._)("span", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_8, (0,shared_esm_bundler/* toDisplayString */.zw)(_ctx.$t("buttons.play")), 1)]))]), (0,runtime_core_esm_bundler/* createElementVNode */._)("div", ControllerComponentvue_type_template_id_188a1457_scoped_true_hoisted_9, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_logo_icon)])];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ControllerComponent.vue?vue&type=template&id=188a1457&scoped=true

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/app_components/assets/icons/controller/rewind.svg?vue&type=template&id=c8f517ec&inline

var rewindvue_type_template_id_c8f517ec_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 8 9"
};
var rewindvue_type_template_id_c8f517ec_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  d: "M0 0h2v9H0zm8 9H6.75L2 4.5 6.75 0H8z",
  fill: "currentColor"
}, null, -1);
var rewindvue_type_template_id_c8f517ec_inline_hoisted_3 = [rewindvue_type_template_id_c8f517ec_inline_hoisted_2];
function rewindvue_type_template_id_c8f517ec_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", rewindvue_type_template_id_c8f517ec_inline_hoisted_1, rewindvue_type_template_id_c8f517ec_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/controller/rewind.svg?vue&type=template&id=c8f517ec&inline

;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/controller/rewind.svg?inline

const rewindinline_script = {}

;
const rewindinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(rewindinline_script, [['render',rewindvue_type_template_id_c8f517ec_inline_render]])

/* harmony default export */ var rewindinline = (rewindinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/app_components/assets/icons/controller/play.svg?vue&type=template&id=61f78c89&inline

var playvue_type_template_id_61f78c89_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 14.979 22.977"
};
var playvue_type_template_id_61f78c89_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  d: "M3.796.979l11.183 10.509L3.796 21.997z",
  fill: "currentColor"
}, null, -1);
var playvue_type_template_id_61f78c89_inline_hoisted_3 = [playvue_type_template_id_61f78c89_inline_hoisted_2];
function playvue_type_template_id_61f78c89_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", playvue_type_template_id_61f78c89_inline_hoisted_1, playvue_type_template_id_61f78c89_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/controller/play.svg?vue&type=template&id=61f78c89&inline

;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/controller/play.svg?inline

const playinline_script = {}

;
const playinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(playinline_script, [['render',playvue_type_template_id_61f78c89_inline_render]])

/* harmony default export */ var playinline = (playinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/app_components/assets/icons/controller/pause.svg?vue&type=template&id=4c8aa8c5&inline

var pausevue_type_template_id_4c8aa8c5_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 14.979 22.977"
};
var pausevue_type_template_id_4c8aa8c5_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  d: "M1.948 2.988h4v17h-4zm7.083 0h4v17h-4z",
  fill: "currentColor"
}, null, -1);
var pausevue_type_template_id_4c8aa8c5_inline_hoisted_3 = [pausevue_type_template_id_4c8aa8c5_inline_hoisted_2];
function pausevue_type_template_id_4c8aa8c5_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", pausevue_type_template_id_4c8aa8c5_inline_hoisted_1, pausevue_type_template_id_4c8aa8c5_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/controller/pause.svg?vue&type=template&id=4c8aa8c5&inline

;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/controller/pause.svg?inline

const pauseinline_script = {}

;
const pauseinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(pauseinline_script, [['render',pausevue_type_template_id_4c8aa8c5_inline_render]])

/* harmony default export */ var pauseinline = (pauseinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/app_components/assets/icons/logo-metascore.svg?vue&type=template&id=7590b1f8&inline

var logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 236.395 62"
};
var logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  fill: "#1D1D1B",
  d: "M91.859 26.104c-1.112-3.288-2.563-4.689-4.884-4.689-2.368 0-3.674 1.449-3.674 3.818 0 5.269 14.891 5.656 14.891 16.583 0 5.995-4.109 9.96-11.119 9.96-5.415 0-9.621-2.949-11.41-9.815l6.575-1.401c.773 4.206 3.19 5.704 5.173 5.704 2.32 0 4.109-1.547 4.109-4.157 0-6.574-14.89-6.672-14.89-16.438 0-5.995 3.578-9.765 10.491-9.765 5.946 0 9.573 3.529 10.733 8.46l-5.995 1.74zm25.74 14.842c0 3.866 1.692 4.932 4.351 4.932s4.352-1.065 4.352-4.932v-2.32h6.672v1.45c0 8.604-4.545 11.7-11.023 11.7s-11.022-3.096-11.022-11.7V27.602c0-8.605 4.545-11.699 11.022-11.699 6.479 0 11.023 3.094 11.023 11.699v.097h-6.672v-.967c0-3.868-1.692-4.931-4.352-4.931-2.658 0-4.351 1.063-4.351 4.931v14.214zm35.021-14.215c0-3.868 1.691-4.93 4.351-4.93s4.352 1.062 4.352 4.93v14.214c0 3.866-1.692 4.932-4.352 4.932s-4.351-1.065-4.351-4.932V26.731zm-6.672 13.345c0 8.604 4.544 11.699 11.022 11.699s11.023-3.095 11.023-11.699V27.602c0-8.605-4.545-11.699-11.023-11.699s-11.022 3.094-11.022 11.699v12.474zm41.307-18.18h3.433c2.949 0 4.739 1.452 4.739 4.835 0 3.384-1.79 4.835-4.739 4.835h-3.433v-9.67zm16.148 29.396l-6.575-15.566c3.724-1.403 5.27-4.545 5.27-8.897 0-6.575-3.819-10.443-11.845-10.443h-9.669v34.906h6.671V37.079h3.191l5.802 14.213h7.155zm14.233 0V16.385h18.275v5.898h-11.603v8.026h8.847v5.899h-8.847v9.185h12.087v5.899zM10.878 37.216h-.059c-.192-4.583-.384-9.166-.578-13.75H4.643L0 44.412h3.423l3.652-16.479h.059l.612 16.479h3.016l7.917-16.479h.058l-3.653 16.479h3.423l4.642-20.945h-5.597l-6.674 13.749zm10.734 7.195l4.643-20.945h10.964l-.784 3.539h-6.962l-1.068 4.815h5.309l-.784 3.539h-5.308l-1.223 5.513h7.252l-.784 3.539z"
}, null, -1);
var logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_3 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  fill: "#1D1D1B",
  d: "M49.987 23.466l-.785 3.539h-4.67L40.673 44.41h-4.002l3.857-17.405h-4.67l.785-3.539zm4.64 4.525h.057l.067 8.47h-3.975l3.851-8.47zm-7.469 16.42L49.266 40h5.541l.038 4.41h3.829l-.404-20.944h-5.134L43.3 44.411h3.858zM102.808 0h2v62h-2zM138.141 0h2v62h-2zM66.808 0h2v62h-2zM173.475 0h2v62h-2zM208.808 0h2v62h-2z"
}, null, -1);
var logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_4 = [logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_2, logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_3];
function logo_metascorevue_type_template_id_7590b1f8_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_1, logo_metascorevue_type_template_id_7590b1f8_inline_hoisted_4);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/logo-metascore.svg?vue&type=template&id=7590b1f8&inline

;// CONCATENATED MODULE: ./packages/core/modules/app_components/assets/icons/logo-metascore.svg?inline

const logo_metascoreinline_script = {}

;
const logo_metascoreinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(logo_metascoreinline_script, [['render',logo_metascorevue_type_template_id_7590b1f8_inline_render]])

/* harmony default export */ var logo_metascoreinline = (logo_metascoreinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ControllerComponent.vue?vue&type=script&lang=js





/* harmony default export */ var ControllerComponentvue_type_script_lang_js = ({
  components: {
    RewindIcon: rewindinline,
    PlayIcon: playinline,
    PauseIcon: pauseinline,
    LogoIcon: logo_metascoreinline
  },
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  setup() {
    var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
      mediaPlaying = _useModule.playing,
      mediaFormattedTime = _useModule.formattedTime,
      playMedia = _useModule.play,
      pauseMedia = _useModule.pause,
      seekMediaTo = _useModule.seekTo;
    return {
      mediaPlaying,
      mediaFormattedTime,
      playMedia,
      pauseMedia,
      seekMediaTo
    };
  },
  methods: {
    onRewindClick() {
      this.seekMediaTo(0);
    },
    onPlayClick() {
      this.playMedia();
    },
    onPauseClick() {
      this.pauseMedia();
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ControllerComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ControllerComponent.vue?vue&type=style&index=0&id=188a1457&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ControllerComponent.vue?vue&type=style&index=0&id=188a1457&lang=scss&scoped=true

;// CONCATENATED MODULE: ./node_modules/@intlify/vue-i18n-loader/lib/index.js!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ControllerComponent.vue?vue&type=custom&index=0&blockType=i18n
/* harmony default export */ function ControllerComponentvue_type_custom_index_0_blockType_i18n(Component) {
  Component.__i18n = Component.__i18n || []
  Component.__i18n.push({
    "locale": "",
    "resource": {
      "en": {
        "buttons": {
          "rewind": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Rewind"])},
          "pause": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Pause"])},
          "play": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Play"])}
        }
      },
      "fr": {
        "buttons": {
          "rewind": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Rembobiner"])},
          "pause": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Pause"])},
          "play": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Jouer"])}
        }
      }
    }
  })
}

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ControllerComponent.vue




;
/* custom blocks */

if (typeof ControllerComponentvue_type_custom_index_0_blockType_i18n === 'function') ControllerComponentvue_type_custom_index_0_blockType_i18n(ControllerComponentvue_type_script_lang_js)


;
const ControllerComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ControllerComponentvue_type_script_lang_js, [['render',ControllerComponentvue_type_template_id_188a1457_scoped_true_render],['__scopeId',"data-v-188a1457"]])

/* harmony default export */ var ControllerComponent = (ControllerComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/CursorComponent.vue?vue&type=template&id=e36a43c0&scoped=true

var CursorComponentvue_type_template_id_e36a43c0_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-e36a43c0"), n = n(), _popScopeId(), n;
};
var CursorComponentvue_type_template_id_e36a43c0_scoped_true_hoisted_1 = {
  ref: "canvas"
};
function CursorComponentvue_type_template_id_e36a43c0_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component,
    "hide-when-inactive": false,
    onClick: $options.onClick
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("canvas", CursorComponentvue_type_template_id_e36a43c0_scoped_true_hoisted_1, null, 512)];
    }),
    _: 1
  }, 8, ["component", "onClick"]);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/CursorComponent.vue?vue&type=template&id=e36a43c0&scoped=true

// EXTERNAL MODULE: ./node_modules/geometry-polyfill/geometry-polyfill.js
var geometry_polyfill = __webpack_require__(27528);
;// CONCATENATED MODULE: ./packages/core/polyfills/GeomertyUtils.js

(function () {
  if (typeof window.convertPointFromPageToNode === "function" && typeof window.convertPointFromNodeToPage === "function") {
    return;
  }
  var I = new window.DOMMatrix();
  function getTransformationMatrix(element) {
    var transformationMatrix = I;
    var x = element;
    while (typeof x !== "undefined" && x !== x.ownerDocument.documentElement) {
      var computedStyle = window.getComputedStyle(x);
      var transform = computedStyle.transform || "none";
      var c = transform === "none" ? I : new window.DOMMatrix(transform);
      transformationMatrix = c.multiply(transformationMatrix);
      x = x.parentNode;
    }
    var w = element.offsetWidth;
    var h = element.offsetHeight;
    var p0 = new window.DOMPoint(0, 0, 0).matrixTransform(transformationMatrix);
    var p1 = new window.DOMPoint(w, 0, 0).matrixTransform(transformationMatrix);
    var p2 = new window.DOMPoint(w, h, 0).matrixTransform(transformationMatrix);
    var p3 = new window.DOMPoint(0, h, 0).matrixTransform(transformationMatrix);
    var left = Math.min(p0.x, p1.x, p2.x, p3.x);
    var top = Math.min(p0.y, p1.y, p2.y, p3.y);
    var rect = element.getBoundingClientRect();
    transformationMatrix = I.translate(window.pageXOffset + rect.left - left, window.pageYOffset + rect.top - top, 0).multiply(transformationMatrix);
    return transformationMatrix;
  }

  /**
   * Helper function to convert coordinates from the page's coordinate system to an element's local coordinate system
   * (works properly with css transforms without perspective projection)
   *
   * @param {DOMElement} element The dom element
   * @param {Number} pageX The x postion in the page's coordinate system
   * @param {Number} pageY The y postion in the page's coordinate system
   * @returns {Object} The x and y position in the element's local coordinate system
   */
  window.convertPointFromPageToNode = window.convertPointFromPageToNode || function (element, pageX, pageY) {
    return new window.DOMPoint(pageX, pageY, 0).matrixTransform(getTransformationMatrix(element).inverse());
  };

  /**
   * Helper function to convert coordinates from the page's coordinate system to an element's local coordinate system
   * (works properly with css transforms without perspective projection)
   *
   * @param {DOMElement} element The dom element
   * @param {Number} offsetX The x postion in the element's local coordinate system
   * @param {Number} offset> The y postion in the element's local coordinate system
   * @returns {Object} The x and y position in the page's coordinate system
   */
  window.convertPointFromNodeToPage = window.convertPointFromNodeToPage || function (element, offsetX, offsetY) {
    return new window.DOMPoint(offsetX, offsetY, 0).matrixTransform(getTransformationMatrix(element));
  };
})();
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/CursorComponent.vue?vue&type=script&lang=js










/* harmony default export */ var CursorComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  setup(props) {
    var store = app_components_store();
    var component = (0,reactivity_esm_bundler/* toRef */.Vh)(props, "component");
    var model = store.getModelByType(component.value.type);
    var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
      mediaReady = _useModule.ready,
      mediaTime = _useModule.time,
      mediaDuration = _useModule.duration,
      seekMediaTo = _useModule.seekTo;
    return (0,objectSpread2/* default */.Z)({
      mediaReady,
      mediaTime,
      mediaDuration,
      seekMediaTo
    }, useTime(component, model));
  },
  computed: {
    canvas() {
      return this.$refs.canvas;
    },
    context() {
      return this.canvas.getContext("2d");
    },
    startTime() {
      var _this$component$start;
      return (_this$component$start = this.component["start-time"]) !== null && _this$component$start !== void 0 ? _this$component$start : 0;
    },
    endTime() {
      var _this$component$endT;
      return (_this$component$endT = this.component["end-time"]) !== null && _this$component$endT !== void 0 ? _this$component$endT : this.mediaDuration;
    },
    dimension() {
      return this.component.dimension;
    },
    borderWidth() {
      return this.component["border-width"];
    },
    form() {
      return this.component.form;
    },
    direction() {
      return this.component.direction;
    },
    cursorWidth() {
      return this.component["cursor-width"];
    },
    cursorColor() {
      return this.component["cursor-color"];
    },
    keyframes() {
      return this.component.keyframes;
    },
    acceleration() {
      var _this$keyframes;
      return (_this$keyframes = this.keyframes) !== null && _this$keyframes !== void 0 && _this$keyframes.length ? 1 : this.component.acceleration;
    },
    loopDuration() {
      var _this$component$loop;
      return (_this$component$loop = this.component["loop-duration"]) !== null && _this$component$loop !== void 0 ? _this$component$loop : this.endTime - this.startTime;
    },
    startAngle() {
      return radians(this.component["start-angle"]);
    }
  },
  watch: {
    mediaReady() {
      this.update();
    },
    mediaTime() {
      this.update();
    },
    component: {
      handler() {
        this.update();
      },
      deep: true
    },
    "component.dimension"() {
      this.updateSize();
    },
    "component.border-width"() {
      this.updateSize();
    }
  },
  mounted() {
    this._resize_observer = new ResizeObserver(this.updateSize);
    this._resize_observer.observe(this.canvas);
    this.update();
  },
  beforeUnmount() {
    if (this._resize_observer) {
      this._resize_observer.disconnect();
      delete this._resize_observer;
    }
  },
  methods: {
    update() {
      if (!this.active) return;
      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
      switch (this.form) {
        case "circular":
          this.drawCircularCursor();
          break;
        default:
          this.drawLinearCursor();
          break;
      }
    },
    updateSize() {
      this.canvas.width = this.canvas.clientWidth;
      this.canvas.height = this.canvas.clientHeight;
      this.update();
    },
    /**
     * Draw a linear cursor
     */
    drawLinearCursor() {
      var pos = this.getLinearPositionFromTime(this.mediaTime);
      var vertical = this.direction === "bottom" || this.direction === "top";
      var width = vertical ? this.canvas.width : this.cursorWidth;
      var height = vertical ? this.cursorWidth : this.canvas.height;
      switch (this.direction) {
        case "top":
          pos.y -= this.cursorWidth;
          break;
        case "left":
          pos.x -= this.cursorWidth;
          break;
      }

      // Draw the cursor line.
      this.context.save();
      this.context.beginPath();
      this.context.rect(pos.x, pos.y, width, height);
      this.context.fillStyle = this.cursorColor;
      this.context.fill();
      this.context.closePath();
      this.context.restore();
    },
    /**
     * Get a position on a linear cursor corresponding to a media time
     * @param {Number} time The media time in seconds
     * @returns {Object} The x and y position
     */
    getLinearPositionFromTime(time) {
      var reversed = this.direction === "left" || this.direction === "top";
      var startTime = this.startTime;
      var endTime = this.endTime;
      var startPosition = 0;
      var endPosition = this.direction === "top" || this.direction === "bottom" ? this.canvas.height : this.canvas.width;
      var pos = {
        x: 0,
        y: 0
      };
      if (reversed) {
        startPosition = endPosition;
        endPosition = 0;
      }
      if (this.keyframes) {
        // Calculate position from keyframes
        this.keyframes.forEach(function (keyframe) {
          var _keyframe = (0,slicedToArray/* default */.Z)(keyframe, 2),
            keyframe_time = _keyframe[0],
            keyframe_position = _keyframe[1];
          if (reversed) {
            if (keyframe_time <= time && keyframe_position <= startPosition) {
              startPosition = keyframe_position;
              startTime = keyframe_time;
            }
            if (keyframe_time >= time && keyframe_position >= endPosition) {
              endPosition = keyframe_position;
              endTime = keyframe_time;
            }
          } else {
            if (keyframe_time <= time && keyframe_position >= startPosition) {
              startPosition = keyframe_position;
              startTime = keyframe_time;
            }
            if (keyframe_time >= time && keyframe_position <= endPosition) {
              endPosition = keyframe_position;
              endTime = keyframe_time;
            }
          }
        });
      }

      // Calculate position
      switch (this.direction) {
        case "top":
        case "bottom":
          pos.y = map(time, startTime, endTime, startPosition, endPosition);
          pos.y = Math.pow(pos.y, this.acceleration);
          pos.y = Math.round(pos.y);
          break;
        case "left":
        default:
          pos.x = map(time, startTime, endTime, startPosition, endPosition);
          pos.x = Math.pow(pos.x, this.acceleration);
          pos.x = Math.round(pos.x);
      }
      return pos;
    },
    /**
     * Draw a circular cursor
     */
    drawCircularCursor() {
      var width = this.canvas.width;
      var height = this.canvas.height;
      var angle = this.getCircularAngleFromTime(this.mediaTime);
      var centre = {
        x: width / 2,
        y: height / 2
      };
      var point = {
        x: centre.x - (width / 2 + this.borderWidth) * Math.cos(angle),
        y: centre.y - (height / 2 + this.borderWidth) * Math.sin(angle)
      };

      // Draw the cursor line.
      this.context.save();
      this.context.translate(0.5, 0.5); // Translate by 0.5 px in both direction for anti-aliasing
      this.context.beginPath();
      this.context.moveTo(centre.x, centre.y);
      this.context.lineTo(point.x, point.y);
      this.context.lineCap = "round";
      this.context.lineWidth = this.cursorWidth;
      this.context.strokeStyle = this.cursorColor;
      this.context.stroke();
      this.context.closePath();
      this.context.restore();
      return this;
    },
    /**
     * Get an angle on a circular cursor corresponding to a media time
     * @param {Number} time The media time in seconds
     * @returns {Number} The angle in radians
     */
    getCircularAngleFromTime(time) {
      var angle = this.startAngle;
      angle += Math.PI / 2; // Adjust the angle so that 0 start at top
      angle += map(time - this.startTime, 0, this.loopDuration, 0, Math.PI * 2) * (this.direction === "ccw" ? -1 : 1);
      return angle;
    },
    onClick(evt) {
      switch (this.form) {
        case "circular":
          {
            var pos = this.getLinearPositionFromMouseEvent(evt);
            var angle = this.getCircularAngleFromMousePos(pos.x, pos.y);
            var time = this.getTimeFromCircularAngle(angle);
            this.seekMediaTo(time);
          }
          break;
        default:
          {
            var _pos = this.getLinearPositionFromMouseEvent(evt);
            var _time = this.getTimeFromLinearPosition(_pos.x, _pos.y);
            this.seekMediaTo(_time);
          }
          break;
      }
    },
    /**
     * Get a position on a linear cursor corresponding to a mouse position
     * @param {Event} evt The mouse click event
     * @returns {Object} The x and y position
     */
    getLinearPositionFromMouseEvent(evt) {
      return window.convertPointFromPageToNode(this.canvas, evt.clientX, evt.clientY);
    },
    /**
     * Get an angle on a circular cursor corresponding to a mouse position
     * @param {Event} evt The mouse click event
     * @returns {Number} The angle in radians
     */
    getCircularAngleFromMousePos(x, y) {
      x -= this.canvas.width / 2;
      x *= this.direction === "ccw" ? -1 : 1;
      y -= this.canvas.height / 2;
      return Math.atan2(y, x) + Math.PI;
    },
    /**
     * Helper function to get the media time corresponding to an angle in a circular cursor
     * @param {Number} angle The angle in radians
     * @returns {Number} The corresponding media time
     */
    getTimeFromCircularAngle(angle) {
      var revolution = Math.PI * 2;
      angle -= this.startAngle;
      angle -= Math.PI / 2; // Adjust the angle so that 0 start at top

      if (angle < 0) {
        angle += revolution;
      } else if (angle > revolution) {
        angle -= revolution;
      }
      var time = map(angle, 0, revolution, 0, this.loopDuration);
      time += this.startTime;
      var currentLoop = Math.floor((this.mediaTime - this.startTime) / this.loopDuration);
      time += this.loopDuration * currentLoop;
      return time;
    },
    /**
     * Get the media time corresponding to a position on the cursor
     * @param {Number} x The position on the horizontal axis
     * @param {Number} y The position on the vertical axis
     * @returns {Number} The corresponding media time
     */
    getTimeFromLinearPosition(x, y) {
      var axis = this.direction === "top" || this.direction === "bottom" ? "y" : "x";
      var reversed = this.direction === "left" || this.direction === "top";
      var startTime = this.startTime;
      var endTime = this.endTime;
      var startPosition = 0;
      var endPosition = axis === "y" ? this.canvas.height : this.canvas.width;
      var pos = axis === "y" ? y : x;
      if (reversed) {
        startPosition = endPosition;
        endPosition = 0;
      }
      if (this.keyframes) {
        // Calculate position from keyframes
        this.keyframes.forEach(function (keyframe) {
          var _keyframe2 = (0,slicedToArray/* default */.Z)(keyframe, 2),
            keyframe_time = _keyframe2[0],
            keyframe_position = _keyframe2[1];
          if (reversed) {
            if (keyframe_position <= pos && keyframe_time <= startTime) {
              startPosition = keyframe_position;
              startTime = keyframe_time;
            }
            if (keyframe_position >= pos && keyframe_time >= endTime) {
              endPosition = keyframe_position;
              endTime = keyframe_time;
            }
          } else {
            if (keyframe_position <= pos && keyframe_time >= startTime) {
              startPosition = keyframe_position;
              startTime = keyframe_time;
            }
            if (keyframe_position >= pos && keyframe_time <= endTime) {
              endPosition = keyframe_position;
              endTime = keyframe_time;
            }
          }
        });
      } else {
        // Calculate position from acceleration
        pos = Math.pow(pos, 1 / this.acceleration);
      }
      return map(pos, startPosition, endPosition, startTime, endTime);
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/CursorComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/CursorComponent.vue?vue&type=style&index=0&id=e36a43c0&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/CursorComponent.vue?vue&type=style&index=0&id=e36a43c0&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/CursorComponent.vue




;


const CursorComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(CursorComponentvue_type_script_lang_js, [['render',CursorComponentvue_type_template_id_e36a43c0_scoped_true_render],['__scopeId',"data-v-e36a43c0"]])

/* harmony default export */ var CursorComponent = (CursorComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ImageComponent.vue?vue&type=template&id=0958235c&scoped=true

var ImageComponentvue_type_template_id_0958235c_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-0958235c"), n = n(), _popScopeId(), n;
};
var ImageComponentvue_type_template_id_0958235c_scoped_true_hoisted_1 = ["src"];
function ImageComponentvue_type_template_id_0958235c_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("img", {
        src: $options.src,
        tabindex: "-1"
      }, null, 8, ImageComponentvue_type_template_id_0958235c_scoped_true_hoisted_1)];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ImageComponent.vue?vue&type=script&lang=js
/* harmony default export */ var ImageComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  computed: {
    src() {
      return this.component.src;
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ImageComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ImageComponent.vue?vue&type=style&index=0&id=0958235c&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ImageComponent.vue?vue&type=style&index=0&id=0958235c&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ImageComponent.vue




;


const ImageComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ImageComponentvue_type_script_lang_js, [['render',ImageComponentvue_type_template_id_0958235c_scoped_true_render],['__scopeId',"data-v-0958235c"]])

/* harmony default export */ var ImageComponent = (ImageComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/MediaComponent.vue?vue&type=template&id=3c02fe6a&scoped=true

function MediaComponentvue_type_template_id_3c02fe6a_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)((0,runtime_core_esm_bundler/* resolveDynamicComponent */.LL)($options.tag), {
        src: $options.src,
        controls: "",
        playsinline: ""
      }, null, 8, ["src"]))];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/MediaComponent.vue?vue&type=script&lang=js
/* harmony default export */ var MediaComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  computed: {
    tag() {
      return this.component.tag;
    },
    src() {
      return this.component.src;
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/MediaComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/MediaComponent.vue?vue&type=style&index=0&id=3c02fe6a&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/MediaComponent.vue?vue&type=style&index=0&id=3c02fe6a&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/MediaComponent.vue




;


const MediaComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(MediaComponentvue_type_script_lang_js, [['render',MediaComponentvue_type_template_id_3c02fe6a_scoped_true_render],['__scopeId',"data-v-3c02fe6a"]])

/* harmony default export */ var MediaComponent = (MediaComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/PageComponent.vue?vue&type=template&id=a7d9eac0&scoped=true

function PageComponentvue_type_template_id_a7d9eac0_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($options.children, function (child) {
        return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)((0,runtime_core_esm_bundler/* resolveDynamicComponent */.LL)(`${child.type}Component`), {
          key: child.id,
          component: child,
          onAction: _cache[0] || (_cache[0] = function ($event) {
            return _ctx.$emit('action', $event);
          })
        }, null, 40, ["component"]);
      }), 128))];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/PageComponent.vue?vue&type=script&lang=js

/* harmony default export */ var PageComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  emits: ["action"],
  setup() {
    var store = app_components_store();
    return {
      store
    };
  },
  computed: {
    children() {
      return this.store.getChildren(this.component);
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/PageComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/PageComponent.vue?vue&type=style&index=0&id=a7d9eac0&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/PageComponent.vue?vue&type=style&index=0&id=a7d9eac0&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/PageComponent.vue




;


const PageComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(PageComponentvue_type_script_lang_js, [['render',PageComponentvue_type_template_id_a7d9eac0_scoped_true_render],['__scopeId',"data-v-a7d9eac0"]])

/* harmony default export */ var PageComponent = (PageComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ScenarioComponent.vue?vue&type=template&id=47b519f4&scoped=true

function ScenarioComponentvue_type_template_id_47b519f4_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($options.children, function (child) {
        return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)((0,runtime_core_esm_bundler/* resolveDynamicComponent */.LL)(`${child.type}Component`), {
          key: child.id,
          component: child,
          onAction: _cache[0] || (_cache[0] = function ($event) {
            return _ctx.$emit('action', $event);
          })
        }, null, 40, ["component"]);
      }), 128))];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ScenarioComponent.vue?vue&type=script&lang=js

/* harmony default export */ var ScenarioComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  emits: ["action"],
  setup() {
    var store = app_components_store();
    return {
      store
    };
  },
  computed: {
    children() {
      return this.store.getChildren(this.component);
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ScenarioComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/ScenarioComponent.vue?vue&type=style&index=0&id=47b519f4&scoped=true&lang=scss
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ScenarioComponent.vue?vue&type=style&index=0&id=47b519f4&scoped=true&lang=scss

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/ScenarioComponent.vue




;


const ScenarioComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ScenarioComponentvue_type_script_lang_js, [['render',ScenarioComponentvue_type_template_id_47b519f4_scoped_true_render],['__scopeId',"data-v-47b519f4"]])

/* harmony default export */ var ScenarioComponent = (ScenarioComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/SVGComponent.vue?vue&type=template&id=9cb6f046&scoped=true

var SVGComponentvue_type_template_id_9cb6f046_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-9cb6f046"), n = n(), _popScopeId(), n;
};
var SVGComponentvue_type_template_id_9cb6f046_scoped_true_hoisted_1 = ["data"];
function SVGComponentvue_type_template_id_9cb6f046_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("object", {
        ref: "object",
        type: "image/svg+xml",
        tabindex: "-1",
        data: $options.src,
        onLoad: _cache[0] || (_cache[0] = function () {
          return $options.onLoad && $options.onLoad.apply($options, arguments);
        })
      }, null, 40, SVGComponentvue_type_template_id_9cb6f046_scoped_true_hoisted_1)];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/SVGComponent.vue?vue&type=script&lang=js




/* harmony default export */ var SVGComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  data() {
    return {
      svg: null
    };
  },
  computed: {
    src() {
      return this.component.src;
    },
    colors() {
      return this.component.colors;
    },
    markers() {
      var markers = {};
      if (this.svg) {
        this.svg.querySelectorAll("defs marker").forEach(function (el) {
          var id = el.getAttribute("id");
          markers[id] = el;
        });
      }
      return markers;
    }
  },
  watch: {
    src() {
      this.svg = null;
    },
    component: {
      handler() {
        this.updateProperties();
        this.updateColors();
      },
      deep: true
    }
  },
  mounted() {
    this._mutation_observer = new MutationObserver(this.onMutation);
    this._mutation_observer.observe(this.$el.parentNode, {
      attributes: false,
      childList: true,
      subtree: false
    });
  },
  unmounted() {
    if (this._mutation_observer) {
      this._mutation_observer.disconnect();
      delete this._mutation_observer;
    }
  },
  methods: {
    onLoad() {
      var _this$$refs$object;
      this.svg = (_this$$refs$object = this.$refs.object) === null || _this$$refs$object === void 0 || (_this$$refs$object = _this$$refs$object.contentDocument) === null || _this$$refs$object === void 0 ? void 0 : _this$$refs$object.querySelector("svg");
      this.updateProperties();
      this.updateColors();
    },
    onMutation() {
      var _this$$refs$object$co;
      // The SVG object's document reference seems to point
      // to a wrong element when moved around the DOM tree.
      if (this.svg !== ((_this$$refs$object$co = this.$refs.object.contentDocument) === null || _this$$refs$object$co === void 0 ? void 0 : _this$$refs$object$co.querySelector("svg"))) {
        if (this.$refs.object.contentDocument) {
          this.onLoad();
        } else {
          this.$refs.object.addEventListener("load", this.onLoad);
        }
      }
    },
    /**
     * Update SVG properties with component property values.
     */
    updateProperties() {
      var _this = this;
      if (this.svg) {
        SVG_PROPERTIES.forEach(function (property) {
          _this.updateProperty(property, false);
        });
        this.executeInnerUpdate();
      }
    },
    /**
     * Update an SVG property with corresponding component property value.
     */
    updateProperty(property, executeInnerUpdate) {
      if (this.svg) {
        var value = this.component[property];
        this.svg.querySelectorAll(SVG_ELEMENTS.join(",")).forEach(function (el) {
          if (property.indexOf("marker-") === 0) {
            el.style[property] = value ? `url("#${value}")` : null;
          } else {
            el.style[property] = value;
          }
        });
        if (executeInnerUpdate !== false) {
          this.executeInnerUpdate();
        }
      }
    },
    /**
     * Update the svg's colors.
     */
    updateColors() {
      var _this2 = this;
      if (this.svg) {
        var _this$colors;
        ((_this$colors = this.colors) !== null && _this$colors !== void 0 ? _this$colors : [null, null]).forEach(function (color, index) {
          _this2.svg.querySelectorAll(`.color${index + 1}`).forEach(function (el) {
            el.style.fill = color;
          });
        });
      }
    },
    /**
     * Execute the embedded update function if it exists.
     */
    executeInnerUpdate() {
      if (this.svg && (0,lodash.isFunction)(this.svg.update)) {
        this.svg.update();
      }
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/SVGComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/SVGComponent.vue?vue&type=style&index=0&id=9cb6f046&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/SVGComponent.vue?vue&type=style&index=0&id=9cb6f046&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/SVGComponent.vue




;


const SVGComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(SVGComponentvue_type_script_lang_js, [['render',SVGComponentvue_type_template_id_9cb6f046_scoped_true_render],['__scopeId',"data-v-9cb6f046"]])

/* harmony default export */ var SVGComponent = (SVGComponent_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/VideoRendererComponent.vue?vue&type=template&id=55b99946&scoped=true

var VideoRendererComponentvue_type_template_id_55b99946_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-55b99946"), n = n(), _popScopeId(), n;
};
var VideoRendererComponentvue_type_template_id_55b99946_scoped_true_hoisted_1 = {
  ref: "canvas"
};
function VideoRendererComponentvue_type_template_id_55b99946_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_component_wrapper = (0,runtime_core_esm_bundler/* resolveComponent */.up)("component-wrapper");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_component_wrapper, {
    component: $props.component
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("canvas", VideoRendererComponentvue_type_template_id_55b99946_scoped_true_hoisted_1, null, 512)];
    }),
    _: 1
  }, 8, ["component"]);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/VideoRendererComponent.vue?vue&type=template&id=55b99946&scoped=true

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/VideoRendererComponent.vue?vue&type=script&lang=js





/* harmony default export */ var VideoRendererComponentvue_type_script_lang_js = ({
  props: {
    /**
     * The associated component
     */
    component: {
      type: Object,
      required: true
    }
  },
  setup(props) {
    var store = app_components_store();
    var component = (0,reactivity_esm_bundler/* toRef */.Vh)(props, "component");
    var model = store.getModelByType(component.value.type);
    var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
      mediaElement = _useModule.element,
      mediaType = _useModule.type,
      mediaReady = _useModule.ready,
      mediaDataLoaded = _useModule.dataLoaded,
      mediaWidth = _useModule.width,
      mediaHeight = _useModule.height,
      mediaTime = _useModule.time;
    return (0,objectSpread2/* default */.Z)({
      mediaElement,
      mediaType,
      mediaReady,
      mediaDataLoaded,
      mediaWidth,
      mediaHeight,
      mediaTime
    }, useTime(component, model));
  },
  computed: {
    canvas() {
      return this.$refs.canvas;
    },
    context() {
      return this.canvas.getContext("2d");
    }
  },
  watch: {
    mediaReady() {
      this.update();
    },
    mediaDataLoaded() {
      this.update();
    },
    mediaTime() {
      this.update();
    }
  },
  mounted() {
    this.update();
  },
  methods: {
    update() {
      if (!this.mediaReady || !this.active) return;
      if (this.mediaType === "video") {
        try {
          this.canvas.width = this.mediaWidth;
          this.canvas.height = this.mediaHeight;
          this.context.drawImage(this.mediaElement, 0, 0);
        } catch (e) {
          console.error(e);
        }
      }
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/VideoRendererComponent.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_components/components/VideoRendererComponent.vue?vue&type=style&index=0&id=55b99946&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/VideoRendererComponent.vue?vue&type=style&index=0&id=55b99946&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_components/components/VideoRendererComponent.vue




;


const VideoRendererComponent_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(VideoRendererComponentvue_type_script_lang_js, [['render',VideoRendererComponentvue_type_template_id_55b99946_scoped_true_render],['__scopeId',"data-v-55b99946"]])

/* harmony default export */ var VideoRendererComponent = (VideoRendererComponent_exports_);
;// CONCATENATED MODULE: ./packages/core/modules/app_components/index.js












function app_components_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }
























var AppComponentsModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(AppComponentsModule, _AbstractModule);
  function AppComponentsModule(_ref) {
    var _this;
    var app = _ref.app;
    (0,classCallCheck/* default */.Z)(this, AppComponentsModule);
    _this = app_components_callSuper(this, AppComponentsModule, [arguments]);
    app.component("AnimationComponent", AnimationComponent);
    app.component("BlockComponent", BlockComponent);
    app.component("BlockTogglerComponent", BlockTogglerComponent);
    app.component("ComponentIcon", ComponentIcon);
    app.component("ComponentWrapper", ComponentWrapper);
    app.component("ContentComponent", ContentComponent);
    app.component("ControllerComponent", ControllerComponent);
    app.component("CursorComponent", CursorComponent);
    app.component("ImageComponent", ImageComponent);
    app.component("MediaComponent", MediaComponent);
    app.component("PageComponent", PageComponent);
    app.component("ScenarioComponent", ScenarioComponent);
    app.component("SVGComponent", SVGComponent);
    app.component("VideoRendererComponent", VideoRendererComponent);
    addMessages({
      fr: {
        app_components: {
          labels: {
            untitled: "[sans titre]",
            Animation: "Animation {name}",
            Block: "Bloc {name}",
            BlockToggler: "Contrleur de blocs {name}",
            Content: "Texte {name}",
            Controller: "Contrleur {name}",
            Cursor: "Curseur {name}",
            Image: "Image {name}",
            Media: "Mdia {name}",
            Page: "Page {index}/{count}",
            Scenario: "Scnario {name}",
            SVG: "Image vectorielle {name}",
            VideoRenderer: "Rendu vido {name}"
          }
        }
      },
      en: {
        app_components: {
          labels: {
            untitled: "[untitled]",
            Animation: "Animation {name}",
            Block: "Block {name}",
            BlockToggler: "Block toggler {name}",
            Content: "Text {name}",
            Controller: "Controller {name}",
            Cursor: "Cursor {name}",
            Image: "Image {name}",
            Media: "Media {name}",
            Page: "Page {index}/{count}",
            Scenario: "Scenario {name}",
            SVG: "Vector image {name}",
            VideoRenderer: "Video renderer {name}"
          }
        }
      }
    });
    return _this;
  }
  (0,createClass/* default */.Z)(AppComponentsModule, [{
    key: "sortedScenarios",
    get: function get() {
      var store = app_components_store();
      var _storeToRefs = storeToRefs(store),
        sortedScenarios = _storeToRefs.sortedScenarios;
      return (0,reactivity_esm_bundler/* readonly */.OT)(sortedScenarios);
    }
  }, {
    key: "activeScenario",
    get: function get() {
      var store = app_components_store();
      var _storeToRefs2 = storeToRefs(store),
        activeScenario = _storeToRefs2.activeScenario;
      return (0,reactivity_esm_bundler/* readonly */.OT)(activeScenario);
    }
  }, {
    key: "data",
    get: function get() {
      var store = app_components_store();
      return store.toJson();
    }
  }, {
    key: "linksAutoHighlightClass",
    get: function get() {
      return AUTO_HIGHLIGHT_CLASS;
    }
  }, {
    key: "init",
    value: function () {
      var _init = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              store = app_components_store();
              _context.next = 3;
              return store.init(data);
            case 3:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }));
      function init(_x) {
        return _init.apply(this, arguments);
      }
      return init;
    }()
  }, {
    key: "setScenarioIndex",
    value: function setScenarioIndex(scenario, index) {
      var store = app_components_store();
      return store.setScenarioIndex(scenario, index);
    }
  }, {
    key: "getModelByType",
    value: function getModelByType(type) {
      var store = app_components_store();
      return store.getModelByType(type);
    }
  }, {
    key: "getModelByMime",
    value: function getModelByMime(mime) {
      var store = app_components_store();
      return store.getModelByMime(mime);
    }
  }, {
    key: "getComponents",
    value: function getComponents() {
      var store = app_components_store();
      return (0,reactivity_esm_bundler/* readonly */.OT)(store.all);
    }
  }, {
    key: "getComponentsByType",
    value: function getComponentsByType(type) {
      var store = app_components_store();
      return store.getByType(type);
    }
  }, {
    key: "getComponent",
    value: function getComponent(type, id) {
      var store = app_components_store();
      return store.get(type, id);
    }
  }, {
    key: "findComponent",
    value: function findComponent(filter) {
      var store = app_components_store();
      return store.find(filter);
    }
  }, {
    key: "getSortedScenarios",
    value: function getSortedScenarios() {
      var store = app_components_store();
      return store.getSortedScenarios();
    }
  }, {
    key: "getComponentParent",
    value: function getComponentParent(component) {
      var store = app_components_store();
      return store.getParent(component);
    }
  }, {
    key: "getComponentIndex",
    value: function getComponentIndex(component) {
      var store = app_components_store();
      return store.getIndex(component);
    }
  }, {
    key: "getComponentChildrenProperty",
    value: function getComponentChildrenProperty(component) {
      var store = app_components_store();
      return store.getChildrenProperty(component);
    }
  }, {
    key: "componentHasChildren",
    value: function componentHasChildren(component) {
      var store = app_components_store();
      return store.hasChildren(component);
    }
  }, {
    key: "getComponentChildren",
    value: function getComponentChildren(component) {
      var store = app_components_store();
      return store.getChildren(component);
    }
  }, {
    key: "getComponentSiblings",
    value: function getComponentSiblings(component) {
      var store = app_components_store();
      return store.getSiblings(component);
    }
  }, {
    key: "createComponent",
    value: function () {
      var _createComponent = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee2(data) {
        var validate,
          store,
          _args2 = arguments;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              validate = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : true;
              store = app_components_store();
              _context2.next = 4;
              return store.create(data, validate);
            case 4:
              return _context2.abrupt("return", _context2.sent);
            case 5:
            case "end":
              return _context2.stop();
          }
        }, _callee2);
      }));
      function createComponent(_x2) {
        return _createComponent.apply(this, arguments);
      }
      return createComponent;
    }()
  }, {
    key: "addComponent",
    value: function () {
      var _addComponent = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee3(component, parent, index) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              store = app_components_store();
              _context3.next = 3;
              return store.add(component, parent, index);
            case 3:
              return _context3.abrupt("return", _context3.sent);
            case 4:
            case "end":
              return _context3.stop();
          }
        }, _callee3);
      }));
      function addComponent(_x3, _x4, _x5) {
        return _addComponent.apply(this, arguments);
      }
      return addComponent;
    }()
  }, {
    key: "updateComponent",
    value: function () {
      var _updateComponent = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee4(component, data) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee4$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              store = app_components_store();
              _context4.next = 3;
              return store.update(component, data);
            case 3:
              return _context4.abrupt("return", _context4.sent);
            case 4:
            case "end":
              return _context4.stop();
          }
        }, _callee4);
      }));
      function updateComponent(_x6, _x7) {
        return _updateComponent.apply(this, arguments);
      }
      return updateComponent;
    }()
  }, {
    key: "arrangeComponent",
    value: function () {
      var _arrangeComponent = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee5(component, action) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee5$(_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              store = app_components_store();
              _context5.next = 3;
              return store.arrange(component, action);
            case 3:
              return _context5.abrupt("return", _context5.sent);
            case 4:
            case "end":
              return _context5.stop();
          }
        }, _callee5);
      }));
      function arrangeComponent(_x8, _x9) {
        return _arrangeComponent.apply(this, arguments);
      }
      return arrangeComponent;
    }()
  }, {
    key: "deleteComponent",
    value: function () {
      var _deleteComponent = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee6(component) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee6$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              store = app_components_store();
              _context6.next = 3;
              return store.delete(component);
            case 3:
              return _context6.abrupt("return", _context6.sent);
            case 4:
            case "end":
              return _context6.stop();
          }
        }, _callee6);
      }));
      function deleteComponent(_x10) {
        return _deleteComponent.apply(this, arguments);
      }
      return deleteComponent;
    }()
  }, {
    key: "restoreComponent",
    value: function () {
      var _restoreComponent = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee7(component) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee7$(_context7) {
          while (1) switch (_context7.prev = _context7.next) {
            case 0:
              store = app_components_store();
              _context7.next = 3;
              return store.restore(component);
            case 3:
              return _context7.abrupt("return", _context7.sent);
            case 4:
            case "end":
              return _context7.stop();
          }
        }, _callee7);
      }));
      function restoreComponent(_x11) {
        return _restoreComponent.apply(this, arguments);
      }
      return restoreComponent;
    }()
  }, {
    key: "cloneComponent",
    value: function () {
      var _cloneComponent = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee8(component, data) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee8$(_context8) {
          while (1) switch (_context8.prev = _context8.next) {
            case 0:
              store = app_components_store();
              _context8.next = 3;
              return store.clone(component, data);
            case 3:
              return _context8.abrupt("return", _context8.sent);
            case 4:
            case "end":
              return _context8.stop();
          }
        }, _callee8);
      }));
      function cloneComponent(_x12, _x13) {
        return _cloneComponent.apply(this, arguments);
      }
      return cloneComponent;
    }()
    /**
     * Get a component's label
     */
  }, {
    key: "getComponentLabel",
    value: function getComponentLabel(component) {
      var store = app_components_store();
      return store.getLabel(component);
    }

    /**
     * Get a component's icon URL
     */
  }, {
    key: "getComponentIconURL",
    value: function getComponentIconURL(component) {
      return getURL(component);
    }
  }, {
    key: "setActiveScenario",
    value: function setActiveScenario(value) {
      var store = app_components_store();
      store.activeScenario = value;
    }
  }, {
    key: "getBlockActivePage",
    value: function getBlockActivePage(block) {
      var store = app_components_store();
      var id = block.id;
      return id in store.blocksActivePage ? store.blocksActivePage[id] : 0;
    }
  }, {
    key: "setBlockActivePage",
    value: function setBlockActivePage(block, index) {
      var store = app_components_store();
      store.setBlockActivePage(block, index);
    }
  }, {
    key: "isComponentBackgroundable",
    value: function isComponentBackgroundable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      return model.$isBackgroundable;
    }
  }, {
    key: "isComponentBorderable",
    value: function isComponentBorderable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      return model.$isBorderable;
    }
  }, {
    key: "isComponentHideable",
    value: function isComponentHideable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      return model.$isHideable;
    }
  }, {
    key: "isComponentOpacitable",
    value: function isComponentOpacitable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      return model.$isOpacitable;
    }
  }, {
    key: "isComponentPositionable",
    value: function isComponentPositionable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      return model.$isPositionable;
    }
  }, {
    key: "isComponentResizable",
    value: function isComponentResizable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      return model.$isResizable;
    }
  }, {
    key: "isComponentTimeable",
    value: function isComponentTimeable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      if (model.$isTimeable) {
        if (component.type === "Page") {
          var block = store.getParent(component);
          return block && block.synched;
        }
        return true;
      }
      return false;
    }
  }, {
    key: "isComponentTransformable",
    value: function isComponentTransformable(component) {
      var store = app_components_store();
      var model = store.getModelByType(component.type);
      return model.$isisTransformable;
    }
  }, {
    key: "getLinkActions",
    value: function getLinkActions(href) {
      return links_parse(href);
    }
  }, {
    key: "enableOverrides",
    value: function enableOverrides() {
      var store = app_components_store();
      store.enableOverrides();
    }
  }, {
    key: "disableOverrides",
    value: function disableOverrides() {
      var store = app_components_store();
      store.disableOverrides();
    }
  }, {
    key: "hasOverrides",
    value: function hasOverrides(component, key) {
      var store = app_components_store();
      return store.hasOverrides(component, key);
    }
  }, {
    key: "setOverrides",
    value: function setOverrides(component, key, values, priority) {
      var store = app_components_store();
      store.setOverrides(component, key, values, priority);
    }
  }, {
    key: "getOverrides",
    value: function getOverrides(component, key) {
      var store = app_components_store();
      store.getOverrides(component, key);
    }
  }, {
    key: "clearOverrides",
    value: function clearOverrides(component, key) {
      var store = app_components_store();
      store.clearOverrides(component, key);
    }
  }, {
    key: "getAnimatedValueAtTime",
    value: function getAnimatedValueAtTime(values, time) {
      return animation_getAnimatedValueAtTime(values, time);
    }
  }, {
    key: "onStoreAction",
    value: function onStoreAction(callback) {
      var store = app_components_store();
      return store.$onAction(callback);
    }
  }]);
  return AppComponentsModule;
}(AbstractModule);
(0,defineProperty/* default */.Z)(AppComponentsModule, "id", "app_components");
(0,defineProperty/* default */.Z)(AppComponentsModule, "dependencies", [MediaPlayerModule, MediaCuepointsModule]);

;// CONCATENATED MODULE: ./packages/player/modules/api/index.js










function api_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }





var ApiModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(ApiModule, _AbstractModule);
  function ApiModule() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, ApiModule);
    _this = api_callSuper(this, ApiModule);
    window.addEventListener("message", function (evt) {
      processMessage(evt);
    });
    return _this;
  }
  return (0,createClass/* default */.Z)(ApiModule);
}(AbstractModule);
(0,defineProperty/* default */.Z)(ApiModule, "id", "api");
(0,defineProperty/* default */.Z)(ApiModule, "dependencies", [MediaPlayerModule, MediaCuepointsModule, AppComponentsModule]);

// EXTERNAL MODULE: ./node_modules/blockly/core-browser.js
var core_browser = __webpack_require__(47513);
var core_browser_default = /*#__PURE__*/__webpack_require__.n(core_browser);
// EXTERNAL MODULE: ./packages/core/modules/app_behaviors/blockly/core/field_dropdown.js + 2 modules
var field_dropdown = __webpack_require__(20045);
;// CONCATENATED MODULE: ./node_modules/timecode-input/index.js











var _class;












function timecode_input_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }
var TimecodeInput = /*#__PURE__*/function (_HTMLElement) {
  (0,inherits/* default */.Z)(TimecodeInput, _HTMLElement);
  function TimecodeInput() {
    var _this;
    (0,classCallCheck/* default */.Z)(this, TimecodeInput);
    (_this = timecode_input_callSuper(this, TimecodeInput)).attachShadow({
      mode: 'open'
    });
    _this._onFocus = _this._onFocus.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this._onBlur = _this._onBlur.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this._onMousedown = _this._onMousedown.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this._onClick = _this._onClick.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this._onWheel = _this._onWheel.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this._onKeydown = _this._onKeydown.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this._onPaste = _this._onPaste.bind((0,assertThisInitialized/* default */.Z)(_this));
    _this._input = document.createElement('input');
    _this._input.setAttribute('type', 'text');
    _this._input.setAttribute('part', 'input');
    _this.shadowRoot.appendChild(_this._input);
    var regexp_str = _this.constructor.SEGMENTS.map(function (s) {
      return `${s.prefix}(${s.regex})`;
    }).join("");
    _this._regexp = new RegExp(`^${regexp_str}$`);
    _this._options = {
      min: 0,
      max: null
    };
    _this._state = {
      /**
       * The current numerical value
       * @type {number|null}
       */
      value: null,
      /**
       * The count of keys pressed
       * @type {number}
       */
      keys_pressed: 0,
      /**
       * The index of the currenty focused segment
       * @type {number|null}
       */
      focused_segment: null,
      /**
       * Whether to skip setting the focused segment on focus
       * @type {boolean}
       */
      skip_focus: false,
      /**
       * Whether an input occured but the current value has not yet been updated
       * @type {boolean}
       */
      dirty: false
    };
    _this._setValue(_this._input.value * _this.constructor.PRECISION_FACTOR, false);
    return _this;
  }
  (0,createClass/* default */.Z)(TimecodeInput, [{
    key: "value",
    get: function get() {
      return this._state.value != null ? this._state.value / this.constructor.PRECISION_FACTOR : null;
    },
    set: function set(value) {
      var numeric_value = parseFloat(value);
      this._setValue(!isNaN(numeric_value) ? numeric_value * this.constructor.PRECISION_FACTOR : null);
    }
  }, {
    key: "formattedValue",
    get: function get() {
      return this._input.value;
    }
  }, {
    key: "_onFocus",
    value: function _onFocus() {
      this._state.keys_pressed = 0;
      if (!this._state.skip_focus) {
        this._setFocusedSegment(0);
      }
    }
  }, {
    key: "_onBlur",
    value: function _onBlur() {
      this._state.keys_pressed = 0;
      this._setFocusedSegment(null);
      this.dispatchEvent(new Event("change"));
    }
  }, {
    key: "_onMousedown",
    value: function _onMousedown() {
      this._state.skip_focus = true;
    }
  }, {
    key: "_onClick",
    value: function _onClick() {
      var caret_position = this._getCaretPosition();
      this._setFocusedSegment(Math.floor(caret_position / 3));
      this._state.skip_focus = false;
    }
  }, {
    key: "_onWheel",
    value: function _onWheel(evt) {
      if (this._state.focused_segment != null) {
        if (evt.deltaY < 0) {
          this._incrementSegmentValue(this._state.focused_segment);
        } else if (evt.deltaY > 0) {
          this._decrementSegmentValue(this._state.focused_segment);
        }
      }
    }
  }, {
    key: "_onKeydown",
    value: function _onKeydown(evt) {
      var key = evt.key,
        shiftKey = evt.shiftKey,
        altKey = evt.altKey;

      // Skip if Alt key is pressed.
      if (altKey) return;
      switch (key) {
        case "ArrowLeft":
        case "ArrowRight":
          {
            var index = this._state.focused_segment + (key === "ArrowLeft" ? -1 : 1);
            if (index >= 0 && index < this.constructor.SEGMENTS.length) {
              this._setFocusedSegment(index);
            }
            evt.preventDefault();
          }
          break;
        case "ArrowUp":
          {
            if (this._state.focused_segment != null) {
              this._incrementSegmentValue(this._state.focused_segment);
            }
            evt.preventDefault();
          }
          break;
        case "ArrowDown":
          {
            if (this._state.focused_segment != null) {
              this._decrementSegmentValue(this._state.focused_segment);
            }
            evt.preventDefault();
          }
          break;
        case "Tab":
          {
            var _index = this._state.focused_segment + (shiftKey ? -1 : 1);
            if (_index >= 0 && _index < this.constructor.SEGMENTS.length) {
              this._setFocusedSegment(_index);
              evt.preventDefault();
            }
          }
          break;
        case "Enter":
          this._state.keys_pressed = 0;
          this.dispatchEvent(new Event("change"));
          break;
        default:
          if (this._isNumeric(key)) {
            // Numeric key.
            if (this._state.focused_segment < this.constructor.SEGMENTS.length) {
              var segment_value = parseInt(this._getSegmentValue(this._state.focused_segment), 10);
              if (this._state.keys_pressed === 0 || isNaN(segment_value)) {
                segment_value = 0;
              }
              segment_value += key;
              segment_value = Math.min(this.constructor.SEGMENTS[this._state.focused_segment].max, segment_value);
              this._setSegmentValue(this._state.focused_segment, segment_value);
            }
          }
      }
      evt.preventDefault();
    }
  }, {
    key: "_onPaste",
    value: function _onPaste(evt) {
      var clipboard_data = evt.clipboardData || window.clipboardData;
      var pasted_data = clipboard_data.getData("Text");
      if (this._isFormattedValueValid(pasted_data)) {
        this._setValue(this._getValue(pasted_data), false);
        this.dispatchEvent(new Event("input"));
      }
      evt.preventDefault();
    }

    /**
     * Helper function to check if a certain value represents a numeric value
     * @param {mixed} value The value to check
     * @return {boolean} True if the value represents a numeric value, false otherwise
     */
  }, {
    key: "_isNumeric",
    value: function _isNumeric(value) {
      return (typeof value === "number" || typeof value === "string" && value.trim() !== "") && !isNaN(value);
    }

    /**
     * Helper function to check if a certain value is a valid textual value
     * @param {string} value The value to check
     * @return {boolean} True if the value is a valid textual value, false otherwise
     */
  }, {
    key: "_isFormattedValueValid",
    value: function _isFormattedValueValid(value) {
      return this._regexp.test(value);
    }
  }, {
    key: "_updateSelection",
    value: function _updateSelection() {
      if (this._state.focused_segment != null) {
        var start = this._state.focused_segment * 3;
        var end = start + 2;
        this._input.setSelectionRange(0, 0);
        this._input.setSelectionRange(start, end);
      }
    }
  }, {
    key: "_setFocusedSegment",
    value: function _setFocusedSegment(index) {
      this._state.focused_segment = index;
      this._updateSelection();
    }

    /**
     * Helper function to retreive the input's current caret position
     * @return {number} The caret position
     */
  }, {
    key: "_getCaretPosition",
    value: function _getCaretPosition() {
      var caretPosition = 0;
      if (typeof this._input.selectionStart === "number") {
        caretPosition = this._input.selectionDirection === "backward" ? this._input.selectionStart : this._input.selectionEnd;
      }
      return caretPosition;
    }

    /**
     * Helper function to retreive the value of a segmnet
     * @param {number} index The segment's index
     * @return {string} The segment's value
     */
  }, {
    key: "_getSegmentValue",
    value: function _getSegmentValue(index) {
      var matches = this._input.value.match(this._regexp);
      if (matches) {
        matches.shift();
        return matches[index];
      }
      return null;
    }

    /**
     * Helper function to set the value of a segmnet
     * @param {number} index The segment's index
     * @param {number} value The segment's value
     */
  }, {
    key: "_setSegmentValue",
    value: function _setSegmentValue(index, value) {
      var old_segment_value = parseInt(this._getSegmentValue(index), 10);
      if (isNaN(old_segment_value)) {
        old_segment_value = 0;
      }
      var new_segment_value = parseInt(value, 10);
      if (isNaN(new_segment_value)) {
        new_segment_value = 0;
      }
      var diff = new_segment_value - old_segment_value;
      this._setValue(this._state.value + diff * this.constructor.SEGMENTS[index].multiplier, false);
      if (++this._state.keys_pressed === 2) {
        this._state.keys_pressed = 0;
        this._state.focused_segment++;
      }
      this._updateSelection();
      this.dispatchEvent(new Event("input"));
    }

    /**
     * Helper function to increment a segment's value
     * @param {number} index The segment's index
     */
  }, {
    key: "_incrementSegmentValue",
    value: function _incrementSegmentValue(index) {
      this._setValue(this._state.value + this.constructor.SEGMENTS[index].multiplier, false);
      this._updateSelection();
      this.dispatchEvent(new Event("input"));
    }

    /**
     * Helper function to decrement a segment's value
     * @param {number} index The segment's index
     */
  }, {
    key: "_decrementSegmentValue",
    value: function _decrementSegmentValue(index) {
      this._setValue(this._state.value - this.constructor.SEGMENTS[index].multiplier, false);
      this._updateSelection();
      this.dispatchEvent(new Event("input"));
    }

    /**
     * Helper function to convert a textual value to a numerical one
     * @param {string} formatted_value The textual value
     * @return {number} The numercial value
     */
  }, {
    key: "_getValue",
    value: function _getValue(formatted_value) {
      var _this2 = this;
      if (formatted_value.indexOf(this.constructor.PLACEHOLDER) !== -1) {
        return null;
      }
      var value = 0;
      var matches = formatted_value.match(this._regexp);
      if (matches) {
        matches.shift();
        matches.forEach(function (match, i) {
          value += parseInt(match, 10) * _this2.constructor.SEGMENTS[i].multiplier;
        });
      }
      return value;
    }
  }, {
    key: "_setValue",
    value: function _setValue(value) {
      var emitChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var oldValue = this._state.value;
      this._state.value = parseFloat(value);
      if (isNaN(this._state.value)) {
        this._state.value = null;
      } else {
        if (this._options.min != null) {
          this._state.value = Math.max(this._state.value, this._options.min);
        }
        if (this._options.max != null) {
          this._state.value = Math.min(this._state.value, this._options.max);
        }
      }
      if (emitChange && oldValue !== this._state.value) {
        this.dispatchEvent(new Event("change"));
      }
      this._input.value = this.constructor.formatValue(this._state.value, true);
    }
  }, {
    key: "_setFormattedValue",
    value: function _setFormattedValue(value) {
      this._input.value = value;
    }
  }, {
    key: "connectedCallback",
    value: function connectedCallback() {
      this._input.addEventListener("focus", this._onFocus);
      this._input.addEventListener("blur", this._onBlur);
      this._input.addEventListener("mousedown", this._onMousedown);
      this._input.addEventListener("click", this._onClick);
      this._input.addEventListener("wheel", this._onWheel);
      this._input.addEventListener("keydown", this._onKeydown);
      this._input.addEventListener("paste", this._onPaste);
    }
  }, {
    key: "disconnectedCallback",
    value: function disconnectedCallback() {
      this._input.removeEventListener("focus", this._onFocus);
      this._input.removeEventListener("blur", this._onBlur);
      this._input.removeEventListener("mousedown", this._onMousedown);
      this._input.removeEventListener("click", this._onClick);
      this._input.removeEventListener("wheel", this._onWheel);
      this._input.removeEventListener("keydown", this._onKeydown);
      this._input.removeEventListener("paste", this._onPaste);
    }
  }, {
    key: "attributeChangedCallback",
    value: function attributeChangedCallback(name, oldValue, newValue) {
      switch (name) {
        case "value":
          this.value = newValue;
          break;
        case "min":
        case "max":
          {
            var limit = parseFloat(newValue);
            this._options[name] = !isNaN(limit) ? parseInt(limit * this.constructor.PRECISION_FACTOR, 10) : null;
            if (this._state.value != null) this._setValue(this._state.value);
          }
          break;
      }
    }
  }], [{
    key: "formatValue",
    value:
    /**
     * Get a textual value from a numerical one.
     *
     * @param {number} value The numercial value
     * @param {boolean} _internal Whether the value is internal, i.e. multiplied by the precision factor
     * @return {string} The textual value
     */
    function formatValue(value) {
      var _this3 = this;
      var _internal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var formatted_value = "";
      this.SEGMENTS.forEach(function (_ref) {
        var prefix = _ref.prefix,
          multiplier = _ref.multiplier,
          max = _ref.max;
        formatted_value += prefix;
        if (value == null) {
          formatted_value += `${_this3.PLACEHOLDER}${_this3.PLACEHOLDER}`;
        } else {
          var sub_value = _internal ? value : value * _this3.PRECISION_FACTOR;
          sub_value = parseInt(sub_value / multiplier % (max + 1)) || 0;
          sub_value = ("" + sub_value).padStart(2, "0");
          formatted_value += sub_value;
        }
      });
      return formatted_value;
    }
  }]);
  return TimecodeInput;
}( /*#__PURE__*/(0,wrapNativeSuper/* default */.Z)(HTMLElement));
_class = TimecodeInput;
(0,defineProperty/* default */.Z)(TimecodeInput, "PLACEHOLDER", "");
(0,defineProperty/* default */.Z)(TimecodeInput, "PRECISION_FACTOR", 1000);
(0,defineProperty/* default */.Z)(TimecodeInput, "SEGMENTS", [{
  name: "hours",
  multiplier: 3600 * _class.PRECISION_FACTOR,
  max: 99,
  prefix: "",
  regex: `[${_class.PLACEHOLDER}0-9]{1,2}`
}, {
  name: "minutes",
  multiplier: 60 * _class.PRECISION_FACTOR,
  max: 59,
  prefix: ":",
  regex: `[${_class.PLACEHOLDER}0-5]?[${_class.PLACEHOLDER}0-9]`
}, {
  name: "seconds",
  multiplier: 1 * _class.PRECISION_FACTOR,
  max: 59,
  prefix: ":",
  regex: `[${_class.PLACEHOLDER}0-5]?[${_class.PLACEHOLDER}0-9]`
}, {
  name: "centiseconds",
  multiplier: 0.01 * _class.PRECISION_FACTOR,
  max: 99,
  prefix: ".",
  regex: `[${_class.PLACEHOLDER}0-9]{1,2}`
}]);
(0,defineProperty/* default */.Z)(TimecodeInput, "observedAttributes", ["value", "min", "max"]);
/* harmony default export */ var timecode_input = (TimecodeInput);
if (!window.customElements.get("timecode-input")) {
  window.customElements.define("timecode-input", TimecodeInput);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/core/events/timecode_value_in.js










function timecode_value_in_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }

core_browser.Events.TIMECODE_VALUE_IN = "timecode_value_in";

/**
 * Class for a timecode value in event.
 * @extends {Events.UiBase}
 */
var TimecodeValueIn = /*#__PURE__*/function (_Events$UiBase) {
  (0,inherits/* default */.Z)(TimecodeValueIn, _Events$UiBase);
  /**
   * @param {!Block=} opt_block The changed block. Undefined for a blank
   *     event.
   * @param {?string=} opt_field Name of field affected, or null.
   */
  function TimecodeValueIn(opt_block, opt_field) {
    var _this;
    (0,classCallCheck/* default */.Z)(this, TimecodeValueIn);
    var workspaceId = opt_block ? opt_block.workspace.id : undefined;
    _this = timecode_value_in_callSuper(this, TimecodeValueIn, [workspaceId]);
    _this.blockId = opt_block ? opt_block.id : null;

    /**
     * Type of this event.
     * @type {string}
     */
    _this.type = core_browser.Events.TIMECODE_VALUE_IN;
    if (!opt_block) {
      return (0,possibleConstructorReturn/* default */.Z)(_this); // Blank event to be populated by fromJson.
    }
    _this.field = typeof opt_field === "undefined" ? "" : opt_field;
    return _this;
  }

  /**
   * Encode the event as JSON.
   * @return {!Object} JSON representation.
   */
  (0,createClass/* default */.Z)(TimecodeValueIn, [{
    key: "toJson",
    value: function toJson() {
      var json = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(TimecodeValueIn.prototype), "toJson", this).call(this);
      if (this.field) {
        json["field"] = this.field;
      }
      return json;
    }

    /**
     * Decode the JSON event.
     * @param {!Object} json JSON representation.
     */
  }, {
    key: "fromJson",
    value: function fromJson(json) {
      (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(TimecodeValueIn.prototype), "fromJson", this).call(this, json);
      this.field = json["field"];
    }
  }]);
  return TimecodeValueIn;
}(core_browser.Events.UiBase);

core_browser.registry.register(core_browser.registry.Type.EVENT, core_browser.Events.TIMECODE_VALUE_IN, TimecodeValueIn);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/core/events/timecode_value_out.js










function timecode_value_out_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }


core_browser.Events.TIMECODE_VALUE_OUT = "timecode_value_out";

/**
 * Class for a timecode value out event.
 * @extends {TimecodeValueIn}
 */
var TimecodeValueOut = /*#__PURE__*/function (_TimecodeValueIn) {
  (0,inherits/* default */.Z)(TimecodeValueOut, _TimecodeValueIn);
  /**
   * @param {!Block=} opt_block The changed block. Undefined for a blank
   *     event.
   * @param {?string=} opt_field Name of field affected, or null.
   * @param {*=} opt_value The value of element.
   */
  function TimecodeValueOut(opt_block, opt_field, opt_value) {
    var _this;
    (0,classCallCheck/* default */.Z)(this, TimecodeValueOut);
    _this = timecode_value_out_callSuper(this, TimecodeValueOut, [opt_block, opt_field]);

    /**
     * Type of this event.
     * @type {string}
     */
    _this.type = core_browser.Events.TIMECODE_VALUE_OUT;
    if (!opt_block) {
      return (0,possibleConstructorReturn/* default */.Z)(_this); // Blank event to be populated by fromJson.
    }
    _this.value = typeof opt_value === "undefined" ? "" : opt_value;
    return _this;
  }

  /**
   * Encode the event as JSON.
   * @return {!Object} JSON representation.
   */
  (0,createClass/* default */.Z)(TimecodeValueOut, [{
    key: "toJson",
    value: function toJson() {
      var json = (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(TimecodeValueOut.prototype), "toJson", this).call(this);
      json["value"] = this.value;
      return json;
    }

    /**
     * Decode the JSON event.
     * @param {!Object} json JSON representation.
     */
  }, {
    key: "fromJson",
    value: function fromJson(json) {
      (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(TimecodeValueOut.prototype), "fromJson", this).call(this, json);
      this.value = json["value"];
    }
  }]);
  return TimecodeValueOut;
}(TimecodeValueIn);

core_browser.registry.register(core_browser.registry.Type.EVENT, core_browser.Events.TIMECODE_VALUE_OUT, TimecodeValueOut);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/assets/icons/timecode-clear.svg?raw
var timecode_clearraw_namespaceObject = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n  <path fill=\"currentColor\" d=\"M11.414 10l4.293-4.293a.999.999 0 1 0-1.414-1.414L10 8.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L8.586 10l-4.293 4.293a.999.999 0 1 0 1.414 1.414L10 11.414l4.293 4.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z\"/>\n</svg>\n";
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/assets/icons/timecode-in.svg?raw
var timecode_inraw_namespaceObject = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n  <path fill=\"currentColor\" d=\"M9.293 13.707l-3-3a.999.999 0 1 1 1.414-1.414L9 10.586V3a1 1 0 1 1 2 0v7.586l1.293-1.293a.999.999 0 1 1 1.414 1.414l-3 3a.999.999 0 0 1-1.414 0zM17 16a1 1 0 1 1 0 2H3a1 1 0 1 1 0-2h14z\"/>\n</svg>\n";
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/assets/icons/timecode-out.svg?raw
var timecode_outraw_namespaceObject = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n  <path fill=\"currentColor\" d=\"M13.707 6.707a.997.997 0 0 1-1.414 0L11 5.414V13a1 1 0 1 1-2 0V5.414L7.707 6.707a.999.999 0 1 1-1.414-1.414l3-3a.999.999 0 0 1 1.414 0l3 3a.999.999 0 0 1 0 1.414zM17 18H3a1 1 0 1 1 0-2h14a1 1 0 1 1 0 2z\"/>\n</svg>\n";
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/core/field_timecode.js











function field_timecode_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }








/**
 * Class for an editable timecode field.
 * Mostly based on Blockly.FieldTextInput.
 * @extends {Field}
 */
var FieldTimecode = /*#__PURE__*/function (_Field) {
  (0,inherits/* default */.Z)(FieldTimecode, _Field);
  /**
   * @param {(string|!Sentinel)=} value The initial value of the
   *     field. Should cast to a string. Defaults to an empty string if null or
   *     undefined.
   *     Also accepts Field.SKIP_SETUP if you wish to skip setup (only used by
   *     subclasses that want to handle configuration and setting the field
   *     value after their own constructors have run).
   * @param {?Function=} validator A function that is called to validate
   *     changes to the field's value. Takes in a string & returns a validated
   *     string, or null to abort the change.
   * @param {Object=} config A map of options used to configure the field.
   */
  function FieldTimecode(value, validator, config) {
    var _this;
    (0,classCallCheck/* default */.Z)(this, FieldTimecode);
    _this = field_timecode_callSuper(this, FieldTimecode, [core_browser.Field.SKIP_SETUP]);

    /**
     * The minimum value this number field can contain.
     * @type {number}
     * @protected
     */
    _this.min_ = 0;

    /**
     * The maximum value this number field can contain.
     * @type {number}
     * @protected
     */
    _this.max_ = null;

    /**
     * The HTML input element.
     * @type {HTMLElement}
     * @protected
     */
    _this.htmlInput_ = null;

    /**
     * The buttons wrapper element.
     * @type {HTMLElement}
     * @protected
     */
    _this.buttonsWrapper_ = null;

    /**
     * True if the field's value is currently being edited via the UI.
     * @type {boolean}
     * @private
     */
    _this.isBeingEdited_ = false;

    /**
     * True if the value currently displayed in the field's editory UI is valid.
     * @type {boolean}
     * @private
     */
    _this.isValid_ = false;

    /**
     * Key down event data.
     * @type {?browserEvents.Data}
     * @private
     */
    _this.onKeyDownWrapper_ = null;

    /**
     * Key input event data.
     * @type {?browserEvents.Data}
     * @private
     */
    _this.onKeyInputWrapper_ = null;

    /**
     * Buttons click event data.
     * @type {?browserEvents.Data}
     * @private
     */
    _this.onButtonsClickWrapper_ = null;

    /**
     * Whether the field should consider the whole parent block to be its click
     * target.
     * @type {?boolean}
     */
    _this.fullBlockClickTarget_ = false;

    /**
     * The workspace that this field belongs to.
     * @type {?WorkspaceSvg}
     * @protected
     */
    _this.workspace_ = null;

    /**
     * Serializable fields are saved by the serializer, non-serializable fields
     * are not. Editable fields should also be serializable.
     * @type {boolean}
     */
    _this.SERIALIZABLE = true;

    /**
     * Mouse cursor style when over the hotspot that initiates the editor.
     * @type {string}
     */
    _this.CURSOR = "text";
    if (value === core_browser.Field.SKIP_SETUP) return (0,possibleConstructorReturn/* default */.Z)(_this);
    if (config) _this.configure_(config);
    _this.setValue(value);
    if (validator) _this.setValidator(validator);
    return _this;
  }

  /**
   * @override
   */
  (0,createClass/* default */.Z)(FieldTimecode, [{
    key: "configure_",
    value: function configure_(config) {
      (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(FieldTimecode.prototype), "configure_", this).call(this, config);
      if (typeof config["min"] === "number" || config["min"] === null) {
        this.min_ = config["min"];
      }
      if (typeof config["max"] === "number" || config["max"] === null) {
        this.max_ = config["max"];
      }
    }

    /**
     * @override
     */
  }, {
    key: "setValue",
    value: function setValue(newValue) {
      var doLogging = false;
      if (this.isBeingEdited_ && this.htmlInput_) {
        this.isDirty_ = true;
        this.htmlInput_.value = newValue;
      }
      var validatedValue = this.doClassValidation_(newValue);
      // Class validators might accidentally forget to return, we'll ignore that.
      newValue = this.processValidation_(newValue, validatedValue);
      if (newValue instanceof Error) {
        doLogging && console.log("invalid class validation, return");
        return;
      }
      var localValidator = this.getValidator();
      if (localValidator) {
        validatedValue = localValidator.call(this, newValue);
        // Local validators might accidentally forget to return, we'll ignore
        // that.
        newValue = this.processValidation_(newValue, validatedValue);
        if (newValue instanceof Error) {
          doLogging && console.log("invalid local validation, return");
          return;
        }
      }
      var source = this.sourceBlock_;
      if (source && source.disposed) {
        doLogging && console.log("source disposed, return");
        return;
      }
      var oldValue = this.getValue();
      if (oldValue === newValue) {
        doLogging && console.log("same, doValueUpdate_, return");
        this.doValueUpdate_(newValue);
        return;
      }
      this.doValueUpdate_(newValue);
      if (source && core_browser.Events.isEnabled()) {
        core_browser.Events.fire(new (core_browser.Events.get(core_browser.Events.BLOCK_CHANGE))(source, "field", this.name || null, oldValue, newValue));
      }
      if (this.isDirty_) {
        this.forceRerender();
      }
      doLogging && console.log(this.value_);
    }

    /**
     * @inheridoc
     */
  }, {
    key: "processValidation_",
    value: function processValidation_(newValue, validatedValue) {
      if (validatedValue === false) {
        this.doValueInvalid_(newValue);
        if (this.isDirty_) {
          this.forceRerender();
        }
        return Error();
      }
      if (validatedValue !== undefined) {
        newValue = validatedValue;
      }
      return newValue;
    }

    /**
     * @inheridoc
     */
  }, {
    key: "doClassValidation_",
    value: function doClassValidation_(opt_newValue) {
      if (opt_newValue === null) {
        return null;
      }
      var value = Number(opt_newValue);
      if (!isNaN(value)) {
        return value;
      }
      return false;
    }

    /**
     * @inheridoc
     */
  }, {
    key: "doValueInvalid_",
    value: function doValueInvalid_() {
      if (this.isBeingEdited_) {
        this.isValid_ = false;
        var oldValue = this.value_;
        // Revert value when the text becomes invalid.
        this.value_ = this.htmlInput_.untypedDefaultValue_;
        if (this.sourceBlock_ && core_browser.Events.isEnabled()) {
          core_browser.Events.fire(new (core_browser.Events.get(core_browser.Events.BLOCK_CHANGE))(this.sourceBlock_, "field", this.name || null, oldValue, this.value_));
        }
      }
    }

    /**
     * @inheridoc
     */
  }, {
    key: "doValueUpdate_",
    value: function doValueUpdate_(newValue) {
      (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(FieldTimecode.prototype), "doValueUpdate_", this).call(this, newValue);
      this.isValid_ = true;
    }

    /**
     * @inheridoc
     */
  }, {
    key: "applyColour",
    value: function applyColour() {
      if (this.sourceBlock_ && this.getConstants().FULL_BLOCK_FIELDS) {
        if (this.borderRect_) {
          this.borderRect_.setAttribute("stroke", this.sourceBlock_.style.colourTertiary);
        } else {
          this.sourceBlock_.pathObject.svgPath.setAttribute("fill", this.getConstants().FIELD_BORDER_RECT_COLOUR);
        }
      }
    }

    /**
     * @inheridoc
     */
  }, {
    key: "render_",
    value: function render_() {
      (0,esm_get/* default */.Z)((0,getPrototypeOf/* default */.Z)(FieldTimecode.prototype), "render_", this).call(this);
      // This logic is done in render_ rather than doValueInvalid_ or
      // doValueUpdate_ so that the code is more centralized.
      if (this.isBeingEdited_) {
        this.resizeEditor_();
        var htmlInput = /** @type {!TimecodeInput} */this.htmlInput_;
        if (!this.isValid_) {
          core_browser.utils.dom.addClass(htmlInput, "blocklyInvalidInput");
          core_browser.utils.aria.setState(htmlInput, core_browser.utils.aria.State.INVALID, true);
        } else {
          core_browser.utils.dom.removeClass(htmlInput, "blocklyInvalidInput");
          core_browser.utils.aria.setState(htmlInput, core_browser.utils.aria.State.INVALID, false);
        }
      }
    }

    /**
     * Sets the minimum value this field can contain. Updates the value to
     * reflect.
     * @param {?(number|string|undefined)} min Minimum value.
     */
  }, {
    key: "setMin",
    value: function setMin(min) {
      if (min === null) {
        this.min_ = null;
      } else {
        min = Number(min);
        if (!isNaN(min)) {
          this.min_ = min;
        }
      }
      this.setValue(this.getValue());
    }

    /**
     * Returns the current minimum value this field can contain. Default is
     * 0.
     * @return {number} The current minimum value this field can contain.
     */
  }, {
    key: "getMin",
    value: function getMin() {
      return this.min_;
    }

    /**
     * Sets the maximum value this field can contain. Updates the value to
     * reflect.
     * @param {?(number|string|undefined)} max Maximum value.
     */
  }, {
    key: "setMax",
    value: function setMax(max) {
      if (max === null) {
        this.max_ = null;
      } else {
        max = Number(max);
        if (!isNaN(max)) {
          this.max_ = max;
        }
      }
      this.setValue(this.getValue());
    }

    /**
     * Returns the current maximum value this field can contain. Default is
     * null.
     * @return {number} The current maximum value this field can contain.
     */
  }, {
    key: "getMax",
    value: function getMax() {
      return this.max_;
    }

    /**
     * @inheridoc
     */
  }, {
    key: "showEditor_",
    value: function showEditor_() {
      this.workspace_ = /** @type {!BlockSvg} */this.sourceBlock_.workspace;
      core_browser.WidgetDiv.show(this, this.sourceBlock_.RTL, this.widgetDispose_.bind(this));
      this.widgetCreate_();
      this.isBeingEdited_ = true;
      this.htmlInput_.focus({
        preventScroll: true
      });
    }

    /**
     * Create the input editor widget.
     * @protected
     */
  }, {
    key: "widgetCreate_",
    value: function widgetCreate_() {
      core_browser.Events.setGroup(true);
      var div = core_browser.WidgetDiv.getDiv();
      core_browser.utils.dom.addClass(this.getClickTarget_(), "editing");
      this.htmlInput_ = document.createElement("timecode-input");
      this.htmlInput_.className = "blocklyHtmlInput";
      var scale = this.workspace_.getScale();
      var fontSize = this.getConstants().FIELD_TEXT_FONTSIZE * scale + "pt";
      div.style.fontSize = fontSize;
      this.htmlInput_.style.fontSize = fontSize;
      var borderRadius = FieldTimecode.BORDERRADIUS * scale + "px";
      if (this.fullBlockClickTarget_) {
        var bBox = this.getScaledBBox();

        // Override border radius.
        borderRadius = (bBox.bottom - bBox.top) / 2 + "px";
        // Pull stroke colour from the existing shadow block
        var strokeColour = this.sourceBlock_.getParent() ? this.sourceBlock_.getParent().style.colourTertiary : this.sourceBlock_.style.colourTertiary;
        this.htmlInput_.style.border = 1 * scale + "px solid " + strokeColour;
        div.style.borderRadius = borderRadius;
        div.style.transition = "box-shadow 0.25s ease 0s";
        if (this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW) {
          div.style.boxShadow = "rgba(255, 255, 255, 0.3) 0 0 0 " + 4 * scale + "px";
        }
      }
      this.htmlInput_.style.borderRadius = borderRadius;
      div.appendChild(this.htmlInput_);
      this.buttonsWrapper_ = document.createElement("div");
      this.buttonsWrapper_.className = "blocklyTimecodeButtonsWrapper";
      var clear_btn = document.createElement("button");
      clear_btn.dataset.action = "clear";
      clear_btn.innerHTML = timecode_clearraw_namespaceObject;
      this.buttonsWrapper_.appendChild(clear_btn);
      var in_btn = document.createElement("button");
      in_btn.dataset.action = "in";
      in_btn.innerHTML = timecode_inraw_namespaceObject;
      this.buttonsWrapper_.appendChild(in_btn);
      var out_btn = document.createElement("button");
      out_btn.dataset.action = "out";
      out_btn.innerHTML = timecode_outraw_namespaceObject;
      this.buttonsWrapper_.appendChild(out_btn);
      div.appendChild(this.buttonsWrapper_);
      this.htmlInput_.value = this.htmlInput_.defaultValue = this.value_;
      this.htmlInput_.untypedDefaultValue_ = this.value_;
      this.htmlInput_.oldValue_ = this.htmlInput_.value;
      this.resizeEditor_();
      this.bindInputEvents_();
      this.bindButtonEvents_();
    }

    /**
     * Closes the editor, saves the results, and disposes of any events or
     * DOM-references belonging to the editor.
     * @protected
     */
  }, {
    key: "widgetDispose_",
    value: function widgetDispose_() {
      // Non-disposal related things that we do when the editor closes.
      this.isBeingEdited_ = false;
      this.isValid_ = true;
      // Make sure the field's node matches the field's internal value.
      this.forceRerender();
      core_browser.Events.setGroup(false);

      // Actual disposal.
      this.unbindInputEvents_();
      this.unbindButtonEvents_();
      var style = core_browser.WidgetDiv.getDiv().style;
      style.width = "auto";
      style.height = "auto";
      style.fontSize = "";
      style.transition = "";
      style.boxShadow = "";
      this.htmlInput_ = null;
      this.buttonsWrapper_ = null;
      core_browser.utils.dom.removeClass(this.getClickTarget_(), "editing");
    }

    /**
     * Bind handlers for user input on the input field's editor.
     * @protected
     */
  }, {
    key: "bindInputEvents_",
    value: function bindInputEvents_() {
      // Trap Enter without IME and Esc to hide.
      this.onKeyDownWrapper_ = core_browser.browserEvents.bind(this.htmlInput_, "keydown", this, this.onHtmlInputKeyDown_);
      // Resize after every input change.
      this.onKeyInputWrapper_ = core_browser.browserEvents.bind(this.htmlInput_, "input", this, this.onHtmlInputChange_);
    }

    /**
     * Unbind handlers for user input and workspace size changes.
     * @protected
     */
  }, {
    key: "unbindInputEvents_",
    value: function unbindInputEvents_() {
      if (this.onKeyDownWrapper_) {
        core_browser.browserEvents.unbind(this.onKeyDownWrapper_);
        this.onKeyDownWrapper_ = null;
      }
      if (this.onKeyInputWrapper_) {
        core_browser.browserEvents.unbind(this.onKeyInputWrapper_);
        this.onKeyInputWrapper_ = null;
      }
    }

    /**
     * Bind handlers on the buttons of the field's editor.
     * @protected
     */
  }, {
    key: "bindButtonEvents_",
    value: function bindButtonEvents_() {
      this.onButtonsClickWrapper_ = core_browser.browserEvents.bind(this.buttonsWrapper_, "click", this, this.onButtonsClick_);
    }

    /**
     * Unbind handlers on the buttons of the field's editor.
     * @protected
     */
  }, {
    key: "unbindButtonEvents_",
    value: function unbindButtonEvents_() {
      if (this.onButtonsClickWrapper_) {
        core_browser.browserEvents.unbind(this.onButtonsClickWrapper_);
        this.onButtonsClickWrapper_ = null;
      }
    }

    /**
     * Handle key down to the editor.
     * @param {!Event} e Keyboard event.
     * @protected
     */
  }, {
    key: "onHtmlInputKeyDown_",
    value: function onHtmlInputKeyDown_(e) {
      if (e.keyCode === core_browser.utils.KeyCodes.ENTER) {
        core_browser.WidgetDiv.hide();
        core_browser.DropDownDiv.hideWithoutAnimation();
      } else if (e.keyCode === core_browser.utils.KeyCodes.ESC) {
        this.setValue(this.htmlInput_.untypedDefaultValue_);
        core_browser.WidgetDiv.hide();
        core_browser.DropDownDiv.hideWithoutAnimation();
      } else if (e.keyCode === core_browser.utils.KeyCodes.TAB) {
        core_browser.WidgetDiv.hide();
        core_browser.DropDownDiv.hideWithoutAnimation();
        this.sourceBlock_.tab(this, !e.shiftKey);
        e.preventDefault();
      }
    }

    /**
     * Handle a change to the editor.
     * @private
     */
  }, {
    key: "onHtmlInputChange_",
    value: function onHtmlInputChange_() {
      var value = this.htmlInput_.value;
      if (value !== this.htmlInput_.oldValue_) {
        this.htmlInput_.oldValue_ = value;
        this.setValue(value);
        this.forceRerender();
        this.resizeEditor_();
      }
    }

    /**
     * Handle a click on a button in the editor.
     * @private
     */
  }, {
    key: "onButtonsClick_",
    value: function onButtonsClick_(evt) {
      if (!this.htmlInput_ || !evt.target.matches("button[data-action]")) return;
      var action = evt.target.dataset.action;
      switch (action) {
        case "clear":
          this.setValue(null);
          break;
        case "in":
          {
            var source = this.sourceBlock_;
            if (source && source.disposed) {
              return;
            }
            core_browser.Events.fire(new (core_browser.Events.get(core_browser.Events.TIMECODE_VALUE_IN))(source, this.name || null));
          }
          break;
        case "out":
          {
            var _source = this.sourceBlock_;
            if (_source && _source.disposed) {
              return;
            }
            core_browser.Events.fire(new (core_browser.Events.get(core_browser.Events.TIMECODE_VALUE_OUT))(_source, this.name || null, this.getValue()));
          }
          break;
      }
    }

    /**
     * Resize the editor to fit the text.
     * @protected
     */
  }, {
    key: "resizeEditor_",
    value: function resizeEditor_() {
      var div = core_browser.WidgetDiv.getDiv();
      var bBox = this.getScaledBBox();
      div.style.width = bBox.right - bBox.left + "px";
      div.style.height = bBox.bottom - bBox.top + "px";

      // In RTL mode block fields and LTR input fields the left edge moves,
      // whereas the right edge is fixed.  Reposition the editor.
      var x = this.sourceBlock_.RTL ? bBox.right - div.offsetWidth : bBox.left;
      var xy = new core_browser.utils.Coordinate(x, bBox.top);
      div.style.left = xy.x + "px";
      div.style.top = xy.y + "px";
    }

    /**
     * @inheridoc
     */
  }, {
    key: "isTabNavigable",
    value: function isTabNavigable() {
      return true;
    }

    /**
     * @inheridoc
     */
  }, {
    key: "getText_",
    value: function getText_() {
      if (this.isBeingEdited_ && this.htmlInput_) {
        // We are currently editing, return the HTML input value instead.
        return this.htmlInput_.formattedValue;
      }
      return timecode_input.formatValue(this.getValue());
    }

    /**
     * @inheridoc
     */
  }], [{
    key: "fromJson",
    value: function fromJson(options) {
      // `this` might be a subclass of FieldTimecode if that class doesn't override
      // the static fromJson method.
      return new this(options["value"], undefined, options);
    }
  }]);
  return FieldTimecode;
}(core_browser.Field);
/**
 * The default value for this field.
 * @type {*}
 * @protected
 */

FieldTimecode.prototype.DEFAULT_VALUE = null;

/**
 * Pixel size of input border radius.
 * Should match blocklyText's border-radius in CSS.
 */
FieldTimecode.BORDERRADIUS = 4;

/**
 * Custom CSS.
 */
core_browser.Css.register(`
  timecode-input.blocklyHtmlInput {
    overflow: hidden;
  }
  timecode-input.blocklyHtmlInput::part(input) {
    width: 100%;
    height: 100%;
    text-align: center;
    border: none;
    box-sizing: border-box;
  }

  .blocklyTimecodeButtonsWrapper {
    position: absolute;
    left: 0;
    bottom: 100%;
    display: flex;
    width: 100%;
    flex-direction: row;
    justify-content: center;
  }
  .blocklyTimecodeButtonsWrapper button {
    display: flex;
    width: 1em;
    height: 1em;
    margin-bottom: -1px;
    padding: 0.15em;
    border: 0.675px solid rgb(172, 124, 2);
    align-items: center;
    justify-content: center;
    color: #000;
    background-color: #fff;
    box-sizing: border-box;
  }
  .blocklyTimecodeButtonsWrapper button:hover {
    background-color: #ccc;
  }
  .blocklyTimecodeButtonsWrapper button:not(:first-child) {
    border-left: 0;
  }
  .blocklyTimecodeButtonsWrapper button svg {
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
  `);
core_browser.fieldRegistry.register("field_timecode", FieldTimecode);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/core/index.js


// EXTERNAL MODULE: ./node_modules/blockly/blocks.js
var blocks = __webpack_require__(34260);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/index.js



/* harmony default export */ var blockly = ((core_browser_default()));
// EXTERNAL MODULE: ./node_modules/blockly/javascript.js
var javascript = __webpack_require__(77896);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/generators/app.js

javascript.javascriptGenerator.forBlock["app_startup"] = function (block) {
  var statement = javascript.javascriptGenerator.statementToCode(block, "STATEMENT");
  var code = "";
  if (javascript.javascriptGenerator.STATEMENT_PREFIX) {
    // Automatic prefix insertion is switched off for this block.  Add manually.
    code += javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_PREFIX, block);
  }
  code += statement;
  if (javascript.javascriptGenerator.STATEMENT_SUFFIX) {
    code = javascript.javascriptGenerator.prefixLines(javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_SUFFIX, block), javascript.javascriptGenerator.INDENT) + code;
  }
  return code;
};
javascript.javascriptGenerator.forBlock["app_enter_fullscreen"] = function () {
  var code = `App.toggleFullscreen(true);`;
  return code;
};
javascript.javascriptGenerator.forBlock["app_exit_fullscreen"] = function () {
  var code = `App.toggleFullscreen(false);`;
  return code;
};
javascript.javascriptGenerator.forBlock["app_toggle_fullscreen"] = function () {
  var code = `App.toggleFullscreen();`;
  return code;
};
// EXTERNAL MODULE: ./packages/core/modules/app_behaviors/blockly/constants.js
var constants = __webpack_require__(5842);
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/generators/components.js



javascript.javascriptGenerator.forBlock["components_click"] = function (block) {
  var _block$getFieldValue$ = block.getFieldValue("COMPONENT").split(":"),
    _block$getFieldValue$2 = (0,slicedToArray/* default */.Z)(_block$getFieldValue$, 2),
    type = _block$getFieldValue$2[0],
    id = _block$getFieldValue$2[1];
  var statement = javascript.javascriptGenerator.statementToCode(block, "STATEMENT");
  var code = "";
  if (javascript.javascriptGenerator.STATEMENT_PREFIX) {
    // Automatic prefix insertion is switched off for this block.  Add manually.
    code += javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_PREFIX, block);
  }
  code += `Components.addEventListener("${type}", "${id}", "click", function () {\n`;
  code += statement;
  code += "});\n";
  if (javascript.javascriptGenerator.STATEMENT_SUFFIX) {
    code = javascript.javascriptGenerator.prefixLines(javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_SUFFIX, block), javascript.javascriptGenerator.INDENT) + code;
  }
  return code;
};
javascript.javascriptGenerator.forBlock["components_set_scenario"] = function (block) {
  var _block$getFieldValue$3 = block.getFieldValue("COMPONENT").split(":"),
    _block$getFieldValue$4 = (0,slicedToArray/* default */.Z)(_block$getFieldValue$3, 2),
    id = _block$getFieldValue$4[1];
  var code = `Components.setScenario("${id}");`;
  return code;
};
javascript.javascriptGenerator.forBlock["components_get_property"] = function (block) {
  var component = block.getFieldValue("COMPONENT");
  if (component === constants/* EMPTY_OPTION */.X) {
    return "";
  }
  var _component$split = component.split(":"),
    _component$split2 = (0,slicedToArray/* default */.Z)(_component$split, 2),
    type = _component$split2[0],
    id = _component$split2[1];
  var property = block.getFieldValue("PROPERTY");
  var code = `Components.getProperty("${type}", "${id}", "${property}")`;
  return [code, javascript.Order.FUNCTION_CALL];
};
javascript.javascriptGenerator.forBlock["components_set_property"] = function (block) {
  var component = block.getFieldValue("COMPONENT");
  if (component === constants/* EMPTY_OPTION */.X) {
    return "";
  }
  var _component$split3 = component.split(":"),
    _component$split4 = (0,slicedToArray/* default */.Z)(_component$split3, 2),
    type = _component$split4[0],
    id = _component$split4[1];
  var property = block.getFieldValue("PROPERTY");
  var value = javascript.javascriptGenerator.valueToCode(block, "VALUE", javascript.Order.ASSIGNMENT) || "0";
  var code = `Components.setProperty("${type}", "${id}", "${property}", ${value});`;
  return code;
};
javascript.javascriptGenerator.forBlock["components_get_block_page"] = function (block) {
  var _block$getFieldValue$5 = block.getFieldValue("COMPONENT").split(":"),
    _block$getFieldValue$6 = (0,slicedToArray/* default */.Z)(_block$getFieldValue$5, 2),
    id = _block$getFieldValue$6[1];
  var code = `Components.getBlockPage("${id}") + 1`;
  return [code, javascript.Order.ADDITION];
};
javascript.javascriptGenerator.forBlock["components_set_block_page"] = function (block) {
  var _block$getFieldValue$7 = block.getFieldValue("COMPONENT").split(":"),
    _block$getFieldValue$8 = (0,slicedToArray/* default */.Z)(_block$getFieldValue$7, 2),
    id = _block$getFieldValue$8[1];
  var index = javascript.javascriptGenerator.valueToCode(block, "INDEX", javascript.Order.ASSIGNMENT) || "0";
  var code = `Components.setBlockPage("${id}", ${index} - 1);`;
  return code;
};
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/generators/keyboard.js

javascript.javascriptGenerator.forBlock["keyboard_keypressed"] = function (block) {
  var key = block.getFieldValue("KEY");
  var statement = javascript.javascriptGenerator.statementToCode(block, "STATEMENT");
  var code = "";
  if (javascript.javascriptGenerator.STATEMENT_PREFIX) {
    // Automatic prefix insertion is switched off for this block.  Add manually.
    code += javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_PREFIX, block);
  }
  code += `Keyboard.addEventListener("${key}", "keydown", function () {\n`;
  code += statement;
  code += "});\n";
  if (javascript.javascriptGenerator.STATEMENT_SUFFIX) {
    code = javascript.javascriptGenerator.prefixLines(javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_SUFFIX, block), javascript.javascriptGenerator.INDENT) + code;
  }
  return code;
};
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/generators/links.js




javascript.javascriptGenerator.forBlock["links_click"] = function (block) {
  var id = block.getFieldValue("TRIGGER");
  var statement = javascript.javascriptGenerator.statementToCode(block, "STATEMENT");
  var code = "";
  if (javascript.javascriptGenerator.STATEMENT_PREFIX) {
    // Automatic prefix insertion is switched off for this block.  Add manually.
    code += javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_PREFIX, block);
  }
  code += `Links.addEventListener("${id}", "click", function () {\n`;
  code += statement;
  code += "});\n";
  if (javascript.javascriptGenerator.STATEMENT_SUFFIX) {
    code = javascript.javascriptGenerator.prefixLines(javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_SUFFIX, block), javascript.javascriptGenerator.INDENT) + code;
  }

  // Add auto highlighting.
  block.getChildren().filter(function (_ref) {
    var type = _ref.type;
    return type === "media_play_excerpt";
  }).forEach(function (child) {
    var highlight_link = child.getFieldValue("HIGHLIGHT_LINK") || "FALSE";
    if (highlight_link === "TRUE") {
      var from = javascript.javascriptGenerator.valueToCode(child, "FROM", javascript.Order.ASSIGNMENT);
      var to = javascript.javascriptGenerator.valueToCode(child, "TO", javascript.Order.ASSIGNMENT);
      code += `Links.autoHighlight("${id}", ${from}, ${to});\n`;
    }
  });
  return code;
};
javascript.javascriptGenerator.forBlock["links_open_url"] = function (block) {
  var url = javascript.javascriptGenerator.valueToCode(block, "URL", javascript.Order.ASSIGNMENT) || "";
  var code = `Links.openUrl(${url});`;
  return code;
};
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/generators/media.js


javascript.javascriptGenerator.forBlock["media_timecode"] = function (block) {
  // Timecode value.
  var code = (0,lodash.round)(Number(block.getFieldValue("TIMECODE")), 2);
  var order = code >= 0 ? javascript.Order.ATOMIC : javascript.Order.UNARY_NEGATION;
  return [code, order];
};
javascript.javascriptGenerator.forBlock["media_duration"] = function () {
  var code = "Media.getDuration()";
  return [code, javascript.Order.FUNCTION_CALL];
};
javascript.javascriptGenerator.forBlock["media_get_time"] = function () {
  var code = "Media.getTime()";
  return [code, javascript.Order.FUNCTION_CALL];
};
javascript.javascriptGenerator.forBlock["media_set_time"] = function (block) {
  var value = javascript.javascriptGenerator.valueToCode(block, "VALUE", javascript.Order.ASSIGNMENT) || "0";
  var code = `Media.setTime(${value});`;
  return code;
};
javascript.javascriptGenerator.forBlock["media_playing"] = function () {
  var code = "Media.isPlaying()";
  return [code, javascript.Order.FUNCTION_CALL];
};
javascript.javascriptGenerator.forBlock["media_play"] = function () {
  var code = "Media.play();";
  return code;
};
javascript.javascriptGenerator.forBlock["media_play_excerpt"] = function (block) {
  var from = javascript.javascriptGenerator.valueToCode(block, "FROM", javascript.Order.ASSIGNMENT);
  var to = javascript.javascriptGenerator.valueToCode(block, "TO", javascript.Order.ASSIGNMENT);
  if (block.getInput("THEN")) {
    var statement = javascript.javascriptGenerator.statementToCode(block, "THEN");
    var code = "";
    code += `Media.play(${from}, ${to}, function () {\n`;
    code += statement;
    code += "});\n";
    return code;
  }
  return `Media.play(${from}, ${to});`;
};
javascript.javascriptGenerator.forBlock["media_pause"] = function () {
  var code = "Media.pause();";
  return code;
};
javascript.javascriptGenerator.forBlock["media_stop"] = function () {
  var code = "Media.stop();";
  return code;
};
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/generators/reactivity.js


var reactivity_init = javascript.javascriptGenerator.init;
javascript.javascriptGenerator.init = function (workspace) {
  reactivity_init.call(this, workspace);

  // Override the variable definitions.
  this.definitions_["variables"] = "";
  // Add developer variables (not created or named by the user).
  var devVarList = core_browser.Variables.allDeveloperVariables(workspace);
  for (var i = 0; i < devVarList.length; i++) {
    var name = this.nameDB_.getName(devVarList[i], core_browser.Names.NameType.DEVELOPER_VARIABLE);
    this.definitions_["variables"] += `var ${name};\n`;
  }
  // Add user variables as reactive variables, but only ones that are being used.
  var variables = core_browser.Variables.allUsedVarModels(workspace);
  for (var _i = 0; _i < variables.length; _i++) {
    var _name = this.nameDB_.getName(variables[_i].getId(), core_browser.Names.NameType.VARIABLE);
    this.definitions_["variables"] += `var ${_name} = Reactivity.ref();\n`;
  }
};
javascript.javascriptGenerator.forBlock["variables_get"] = function (block) {
  // Variable getter.
  var varName = javascript.javascriptGenerator.nameDB_.getName(block.getFieldValue("VAR"), core_browser.Names.NameType.VARIABLE);
  var code = `Reactivity.unref(${varName})\n`;
  return [code, javascript.Order.ATOMIC];
};
javascript.javascriptGenerator.forBlock["variables_set"] = function (block) {
  // Variable setter.
  var argument0 = javascript.javascriptGenerator.valueToCode(block, "VALUE", javascript.Order.ASSIGNMENT) || "0";
  var varName = javascript.javascriptGenerator.nameDB_.getName(block.getFieldValue("VAR"), core_browser.Names.NameType.VARIABLE);
  var code = "";
  code += `if (Reactivity.isRef(${varName})) ${varName}.value = ${argument0};\n`;
  code += `else ${varName} = ${argument0};\n`;
  return code;
};
javascript.javascriptGenerator.forBlock["reactivity_when"] = function (block) {
  var conditionCode = javascript.javascriptGenerator.valueToCode(block, "CONDITION", javascript.Order.NONE) || "false";
  var statement = javascript.javascriptGenerator.statementToCode(block, "STATEMENT");
  var code = "";
  if (javascript.javascriptGenerator.STATEMENT_PREFIX) {
    // Automatic prefix insertion is switched off for this block.  Add manually.
    code += javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_PREFIX, block);
  }
  code += "Reactivity.watchEffect(function () {\n";
  code += `if (${conditionCode}) {\n`;
  code += statement;
  code += "}\n";
  code += "});\n";
  if (javascript.javascriptGenerator.STATEMENT_SUFFIX) {
    code = javascript.javascriptGenerator.prefixLines(javascript.javascriptGenerator.injectId(javascript.javascriptGenerator.STATEMENT_SUFFIX, block), javascript.javascriptGenerator.INDENT) + code;
  }
  return code;
};
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/generators/index.js






;// CONCATENATED MODULE: ./node_modules/@nx-js/compiler-util/dist/es.es5.js












var filters = new Map();
var limiters = new Map();
function filter(name, handler) {
  if (typeof name !== 'string') {
    throw new TypeError('First argument must be a string.');
  }
  if (typeof handler !== 'function') {
    throw new TypeError('Second argument must be a function.');
  }
  if (filters.has(name)) {
    throw new Error("A filter named " + name + " is already registered.");
  }
  filters.set(name, handler);
}
function limiter(name, handler) {
  if (typeof name !== 'string') {
    throw new TypeError('First argument must be a string.');
  }
  if (typeof handler !== 'function') {
    throw new TypeError('Second argument must be a function.');
  }
  if (limiters.has(name)) {
    throw new Error("A limiter named " + name + " is already registered.");
  }
  limiters.set(name, handler);
}
function compileRawExpression(src) {
  return new Function('context', 'tempVars',
  // eslint-disable-line
  "const sandbox = $nxCompileToSandbox(context, tempVars)\n    try { with (sandbox) { return " + src + " } } catch (err) {\n      if (!(err instanceof TypeError)) throw err\n    }\n    $nxClearSandbox()");
}
function compileRawCode(src) {
  return new Function('context', 'tempVars',
  // eslint-disable-line
  "const sandbox = $nxCompileToSandbox(context, tempVars)\n    with (sandbox) { " + src + " }\n    $nxClearSandbox()");
}
var filterRegex = /(?:[^\|]|\|\|)+/g;
var limiterRegex = /(?:[^&]|&&)+/g;
var argsRegex = /\S+/g;
function parseExpression(src) {
  var tokens = src.match(filterRegex);
  if (tokens.length === 1) {
    return compileRawExpression(tokens[0]);
  }
  var expression = {
    exec: compileRawExpression(tokens[0]),
    filters: []
  };
  for (var i = 1; i < tokens.length; i++) {
    var filterTokens = tokens[i].match(argsRegex);
    var filterName = filterTokens.shift();
    var effect = filters.get(filterName);
    if (!effect) {
      throw new Error("There is no filter named: " + filterName + ".");
    }
    expression.filters.push({
      effect: effect,
      argExpressions: filterTokens.map(compileRawExpression)
    });
  }
  return expression;
}
function parseCode(src) {
  var tokens = src.match(limiterRegex);
  if (tokens.length === 1) {
    return compileRawCode(tokens[0]);
  }
  var code = {
    exec: compileRawCode(tokens[0]),
    limiters: []
  };
  for (var i = 1; i < tokens.length; i++) {
    var limiterTokens = tokens[i].match(argsRegex);
    var limiterName = limiterTokens.shift();
    var effect = limiters.get(limiterName);
    if (!effect) {
      throw new Error("There is no limiter named: " + limiterName + ".");
    }
    code.limiters.push({
      effect: effect,
      argExpressions: limiterTokens.map(compileRawExpression)
    });
  }
  return code;
}
var expressionCache = new Map();
var codeCache = new Map();
function compileExpression(src) {
  if (typeof src !== 'string') {
    throw new TypeError('First argument must be a string.');
  }
  var expression = expressionCache.get(src);
  if (!expression) {
    expression = parseExpression(src);
    expressionCache.set(src, expression);
  }
  if (typeof expression === 'function') {
    return expression;
  }
  return function evaluateExpression(context, tempVars) {
    var value = expression.exec(context, tempVars);
    for (var i = 0, list = expression.filters; i < list.length; i += 1) {
      var filter = list[i];
      var args = filter.argExpressions.map(evaluateArgExpression, context);
      value = filter.effect.apply(filter, [value].concat(args));
    }
    return value;
  };
}
function compileCode(src) {
  if (typeof src !== 'string') {
    throw new TypeError('First argument must be a string.');
  }
  var code = codeCache.get(src);
  if (!code) {
    code = parseCode(src);
    codeCache.set(src, code);
  }
  if (typeof code === 'function') {
    return code;
  }
  var context = {};
  return function evaluateCode(state, tempVars) {
    var i = 0;
    function next() {
      Object.assign(context, tempVars);
      if (i < code.limiters.length) {
        var limiter = code.limiters[i++];
        var args = limiter.argExpressions.map(evaluateArgExpression, state);
        limiter.effect.apply(limiter, [next, context].concat(args));
      } else {
        code.exec(state, tempVars);
      }
    }
    next();
  };
}
function evaluateArgExpression(argExpression) {
  return argExpression(this);
}
var hasHandler = {
  has: has
};
var allHandlers = {
  has: has,
  get: get
};
var globals = new Set();
var temp;
var globalObj;
if (typeof window !== 'undefined') {
  globalObj = window;
} // eslint-disable-line
else if (typeof __webpack_require__.g !== 'undefined') {
  globalObj = __webpack_require__.g;
} // eslint-disable-line
else if (typeof self !== 'undefined') {
  globalObj = self;
} // eslint-disable-line
globalObj.$nxCompileToSandbox = toSandbox;
globalObj.$nxClearSandbox = clearSandbox;
function expose() {
  var globalNames = [],
    len = arguments.length;
  while (len--) globalNames[len] = arguments[len];
  for (var i = 0, list = globalNames; i < list.length; i += 1) {
    var globalName = list[i];
    globals.add(globalName);
  }
}
function hide() {
  var globalNames = [],
    len = arguments.length;
  while (len--) globalNames[len] = arguments[len];
  for (var i = 0, list = globalNames; i < list.length; i += 1) {
    var globalName = list[i];
    globals.delete(globalName);
  }
}
function hideAll() {
  globals.clear();
}
function has(target, key) {
  return globals.has(key) ? key in target : true;
}
function get(target, key) {
  return key in temp ? temp[key] : target[key];
}
function toSandbox(obj, tempVars) {
  if (tempVars) {
    temp = tempVars;
    return new Proxy(obj, allHandlers);
  }
  return new Proxy(obj, hasHandler);
}
function clearSandbox() {
  temp = undefined;
}

;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/interpreter/app.js


function app_init(context) {
  // Ensure 'App' name does not conflict with variable names.
  javascript.javascriptGenerator.addReservedWords("App");

  // Add 'App' object to context.
  context.App = {
    toggleFullscreen: function toggleFullscreen(force) {
      var _useModule = (0,module_manager/* useModule */.b7)("app_renderer"),
        toggleFullscreen = _useModule.toggleFullscreen;
      toggleFullscreen(force);
    }
  };
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/interpreter/components.js











var unwatchActiveScenario = null;
var addEventListenerStates = new Map();
var SET_PROPERTY_OVERRIDES_KEY = "app_behaviors:set_property";
var SET_PROPERTY_OVERRIDES_PRIORITY = 100;
function components_init(context) {
  // Ensure 'Components' name does not conflict with variable names.
  javascript.javascriptGenerator.addReservedWords("Components");
  var _useModule = (0,module_manager/* useModule */.b7)("app_components"),
    activeScenario = _useModule.activeScenario;
  unwatchActiveScenario = (0,runtime_core_esm_bundler/* watch */.YP)(activeScenario, onScenarioChange);

  // Add 'Components' object to context.
  context.Components = {
    addEventListener: function addEventListener(type, id, event, callback) {
      if (!addEventListenerStates.has(type)) {
        addEventListenerStates.set(type, new Map());
      }
      if (!addEventListenerStates.get(type).has(id)) {
        addEventListenerStates.get(type).set(id, {
          listeners: [],
          cursor: null
        });
      }
      var state = addEventListenerStates.get(type).get(id);

      // Add to list of listeners.
      state.listeners.push({
        type: event,
        callback
      });
      setupListener(type, id, event, callback);
    },
    setScenario: function setScenario(id) {
      var _useModule2 = (0,module_manager/* useModule */.b7)("app_components"),
        setActiveScenario = _useModule2.setActiveScenario;
      setActiveScenario(id);
    },
    getProperty: function getProperty(type, id, name) {
      var _useModule3 = (0,module_manager/* useModule */.b7)("app_components"),
        getComponent = _useModule3.getComponent;
      var component = getComponent(type, id);
      if (!component) return;
      return component[name];
    },
    setProperty: function setProperty(type, id, name, value) {
      var _useModule4 = (0,module_manager/* useModule */.b7)("app_components"),
        getComponent = _useModule4.getComponent,
        setOverrides = _useModule4.setOverrides;
      var component = getComponent(type, id);
      if (!component) return;
      setOverrides(component, SET_PROPERTY_OVERRIDES_KEY, {
        [name]: value
      }, SET_PROPERTY_OVERRIDES_PRIORITY);
    },
    getBlockPage: function getBlockPage(id) {
      var _useModule5 = (0,module_manager/* useModule */.b7)("app_components"),
        getComponent = _useModule5.getComponent,
        getBlockActivePage = _useModule5.getBlockActivePage;
      var block = getComponent("Block", id);
      if (block) {
        return getBlockActivePage(block);
      }
    },
    setBlockPage: function setBlockPage(id, index) {
      var _useModule6 = (0,module_manager/* useModule */.b7)("app_components"),
        getComponent = _useModule6.getComponent,
        setBlockActivePage = _useModule6.setBlockActivePage;
      var block = getComponent("Block", id);
      if (block) {
        setBlockActivePage(block, index);
      }
    }
  };
}

/**
 * Setup a listener on a component with a given type and id.
 * @param {string} type The component's type
 * @param {string} type The component's id.
 * @param {string} event The event type.
 * @param {function} callback The callback that will be invoked when an event is dispatched.
 */
function setupListener(type, id, event, callback) {
  var _useModule7 = (0,module_manager/* useModule */.b7)("app_components"),
    getComponent = _useModule7.getComponent;
  var _useModule8 = (0,module_manager/* useModule */.b7)("app_renderer"),
    getComponentElement = _useModule8.getComponentElement;
  var component = getComponent(type, id);
  if (!component) return;

  /** @type HTMLElement */
  var el = getComponentElement(component);
  if (!el) return;

  // Add the event listener.
  el.addEventListener(event, callback);
  if (event === "click") {
    var state = addEventListenerStates.get(type).get(id);
    state.cursor = state.cursor || el.style.cursor;
    el.style.cursor = "pointer";
  }
}

/**
 * Remove all listeners.
 */
function removeListeners() {
  var _useModule9 = (0,module_manager/* useModule */.b7)("app_components"),
    getComponent = _useModule9.getComponent;
  var _useModule10 = (0,module_manager/* useModule */.b7)("app_renderer"),
    getComponentElement = _useModule10.getComponentElement;
  addEventListenerStates.forEach(function (ids, type) {
    ids.forEach(function (state, id) {
      var component = getComponent(type, id);
      if (!component) return;

      /** @type HTMLElement */
      var el = getComponentElement(component);
      if (!el) return;
      if (!state.listeners) return;
      state.listeners.forEach(function (_ref) {
        var type = _ref.type,
          callback = _ref.callback;
        el.removeEventListener(type, callback);

        // Reset cursor.
        if (typeof state.cursor !== "undefined") {
          el.style.cursor = state.cursor;
        }
      });
    });
  });
}
function components_reset() {
  // Remove watcher.
  if (unwatchActiveScenario) {
    unwatchActiveScenario();
    unwatchActiveScenario = null;
  }
  var _useModule11 = (0,module_manager/* useModule */.b7)("app_components"),
    clearOverrides = _useModule11.clearOverrides;
  clearOverrides(null, SET_PROPERTY_OVERRIDES_KEY);

  // Remove all listeners.
  removeListeners();

  // Clear addEventListener states.
  addEventListenerStates.clear();
}

/**
 * Watcher handler invoked when the scenario changes.
 */
function onScenarioChange() {
  return _onScenarioChange.apply(this, arguments);
}
function _onScenarioChange() {
  _onScenarioChange = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return (0,runtime_core_esm_bundler/* nextTick */.Y3)();
        case 2:
          // Update all listeners.
          addEventListenerStates.forEach(function (ids, type) {
            ids.forEach(function (state, id) {
              if (state.listeners) {
                state.listeners.forEach(function (_ref2) {
                  var event = _ref2.type,
                    callback = _ref2.callback;
                  setupListener(type, id, event, callback);
                });
              }
            });
          });
        case 3:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return _onScenarioChange.apply(this, arguments);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/interpreter/keyboard.js




var listeners = [];
function keyboard_init(context) {
  // Ensure 'Keyboard' name does not conflict with variable names.
  javascript.javascriptGenerator.addReservedWords("Keyboard");

  // Add 'Keyboard' object to context.
  context.Keyboard = {
    addEventListener: function addEventListener(key, event, callback) {
      var _useModule = (0,module_manager/* useModule */.b7)("app_renderer"),
        el = _useModule.el;
      el = (0,reactivity_esm_bundler/* unref */.SU)(el);
      var wrapper = function wrapper(evt) {
        if (key === "any" || evt.key === key) {
          evt.preventDefault();
          callback();
        }
      };

      // Add the event listener.
      el.addEventListener(event, wrapper);

      // Add to list of listeners.
      listeners.push({
        el,
        type: event,
        callback: wrapper
      });
      return true;
    }
  };
}
function keyboard_reset() {
  // Remove all listeners.
  while (listeners.length > 0) {
    var _listeners$pop = listeners.pop(),
      el = _listeners$pop.el,
      type = _listeners$pop.type,
      callback = _listeners$pop.callback;
    el.removeEventListener(type, callback);
  }
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/interpreter/links.js










var links_unwatchActiveScenario = null;
var links_listeners = new Set();
var autoHighlights = new Set();
function links_init(context) {
  // Ensure 'Links' name does not conflict with variable names.
  javascript.javascriptGenerator.addReservedWords("Links");
  var _useModule = (0,module_manager/* useModule */.b7)("app_components"),
    activeScenario = _useModule.activeScenario;
  links_unwatchActiveScenario = (0,runtime_core_esm_bundler/* watch */.YP)(activeScenario, links_onScenarioChange);

  // Add 'Links' object to context.
  context.Links = {
    addEventListener: function addEventListener(id, type, callback) {
      links_listeners.add({
        id,
        type,
        callback
      });
      links_setupListener(id, type, callback);
    },
    openUrl: function openUrl(url) {
      window.open(url, "_blank");
    },
    autoHighlight: setupAutoHighlight
  };
}
function links_reset() {
  // Remove watcher.
  if (links_unwatchActiveScenario) {
    links_unwatchActiveScenario();
    links_unwatchActiveScenario = null;
  }

  // Remove all listeners.
  links_removeListeners();

  // Clear the list of listeners.
  links_listeners.clear();

  // Remove all autohighlight cuepoints.
  removeAutoHighlights();

  // Clear the list of auto highlights.
  autoHighlights.clear();
}

/**
 * Get link elements by trigger id.
 * @param {string} id The trigger id.
 * @returns {[HTMLElement]} The links
 */
function getLinks(id) {
  var _useModule2 = (0,module_manager/* useModule */.b7)("app_renderer"),
    root = _useModule2.el;
  root = (0,reactivity_esm_bundler/* unref */.SU)(root);
  return root.querySelectorAll(`.metaScore-component.content .contents a[data-behavior-trigger="${id}"]`);
}

/**
 * Setup a listener on links with a given behavior-trigger id.
 * @param {string} id The behavior-trigger id
 * @param {string} type The event type to add the listener on.
 * @param {function} callback The callback that will be invoked when an event is dispatched.
 */
function links_setupListener(id, type, callback) {
  /** @type [HTMLElement] */
  var links = getLinks(id);
  if (links.length === 0) return;

  // Add the event listener.
  links.forEach(function (link) {
    link.addEventListener(type, callback);
  });
}

/**
 * Remove all listeners.
 */
function links_removeListeners() {
  links_listeners.forEach(function (_ref) {
    var id = _ref.id,
      type = _ref.type,
      callback = _ref.callback;
    /** @type [HTMLElement] */
    var links = getLinks(id);
    links.forEach(function (link) {
      link.removeEventListener(type, callback);
    });
  });
}

/**
 * Setup auto-highlighting on links with a given behavior-trigger id.
 * @param {string} id The behavior-trigger id
 * @param {number} from The start-time in seconds at which the link should be highlighted.
 * @param {number} to The end-time in seconds at which the link should be highlighted.
 */
function setupAutoHighlight(id, from, to) {
  /** @type [HTMLElement] */
  var links = getLinks(id);
  if (links.length === 0) return;
  var _useModule3 = (0,module_manager/* useModule */.b7)("app_components"),
    linksAutoHighlightClass = _useModule3.linksAutoHighlightClass;
  var _useModule4 = (0,module_manager/* useModule */.b7)("media_cuepoints"),
    addCuepoint = _useModule4.addCuepoint;
  var cuepoint = addCuepoint({
    startTime: from,
    endTime: to,
    onStart: function onStart() {
      links.forEach(function (link) {
        link.classList.add(linksAutoHighlightClass);
      });
    },
    onStop: function onStop() {
      links.forEach(function (link) {
        link.classList.remove(linksAutoHighlightClass);
      });
    },
    onDestroy: function onDestroy() {
      links.forEach(function (link) {
        link.classList.remove(linksAutoHighlightClass);
      });
    }
  });
  autoHighlights.add({
    id,
    from,
    to,
    cuepoint
  });
}

/**
 * Remove all auto-highlighting.
 */
function removeAutoHighlights() {
  var _useModule5 = (0,module_manager/* useModule */.b7)("media_cuepoints"),
    removeCuepoint = _useModule5.removeCuepoint;
  autoHighlights.forEach(function (_ref2) {
    var cuepoint = _ref2.cuepoint;
    removeCuepoint(cuepoint);
  });
}

/**
 * Watcher handler invoked when the scenario changes.
 */
function links_onScenarioChange() {
  return interpreter_links_onScenarioChange.apply(this, arguments);
}
function interpreter_links_onScenarioChange() {
  interpreter_links_onScenarioChange = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return (0,runtime_core_esm_bundler/* nextTick */.Y3)();
        case 2:
          // Update all listeners.
          links_removeListeners();
          links_listeners.forEach(function (_ref3) {
            var id = _ref3.id,
              type = _ref3.type,
              callback = _ref3.callback;
            links_setupListener(id, type, callback);
          });

          // Update all auto-highlight cuepoints.
          removeAutoHighlights();
          autoHighlights.forEach(function (_ref4) {
            var id = _ref4.id,
              from = _ref4.from,
              to = _ref4.to;
            setupAutoHighlight(id, from, to);
          });
        case 6:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return interpreter_links_onScenarioChange.apply(this, arguments);
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/interpreter/media.js




var cuepoint = null;
var previous_then = null;
function media_init(context) {
  // Ensure 'Media' name does not conflict with variable names.
  javascript.javascriptGenerator.addReservedWords("Media");

  // Add 'Media' object to context.
  context.Media = {
    getDuration: function getDuration() {
      var _useModule = (0,module_manager/* useModule */.b7)("media_player"),
        duration = _useModule.duration;
      return (0,reactivity_esm_bundler/* unref */.SU)(duration);
    },
    getTime: function getTime() {
      var _useModule2 = (0,module_manager/* useModule */.b7)("media_player"),
        time = _useModule2.time;
      return (0,reactivity_esm_bundler/* unref */.SU)(time);
    },
    setTime: function setTime(time) {
      var _useModule3 = (0,module_manager/* useModule */.b7)("media_player"),
        seekTo = _useModule3.seekTo;
      seekTo(time);
    },
    isPlaying() {
      var _useModule4 = (0,module_manager/* useModule */.b7)("media_player"),
        playing = _useModule4.playing;
      return (0,reactivity_esm_bundler/* unref */.SU)(playing);
    },
    play() {
      var from = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var to = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var then = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      var _useModule5 = (0,module_manager/* useModule */.b7)("media_player"),
        play = _useModule5.play,
        pause = _useModule5.pause,
        seekTo = _useModule5.seekTo;
      var _useModule6 = (0,module_manager/* useModule */.b7)("media_cuepoints"),
        setGlobalCuepoint = _useModule6.setGlobalCuepoint,
        removeCuepoint = _useModule6.removeCuepoint;
      if (from !== null || to !== null) {
        cuepoint = setGlobalCuepoint({
          startTime: from,
          endTime: to,
          onStart: function onStart() {
            // Execute the previous link's "then" action.
            if (previous_then) {
              previous_then();
            }
            previous_then = then;
          },
          onStop: function onStop() {
            pause();
          },
          onSeekout: function onSeekout(_ref) {
            var c = _ref.cuepoint;
            // Remove the cuepoint.
            removeCuepoint(c);
            cuepoint = null;
            if ((0,lodash.isFunction)(then)) {
              then();
              previous_then = null;
            }
          }
        });
        if (from !== null) {
          seekTo(from);
        }
      }
      play();
    },
    pause: function pause() {
      var _useModule7 = (0,module_manager/* useModule */.b7)("media_player"),
        pause = _useModule7.pause;
      pause();
    },
    stop: function stop() {
      var _useModule8 = (0,module_manager/* useModule */.b7)("media_player"),
        stop = _useModule8.stop;
      stop();
    }
  };
}
function media_reset() {
  // Remove cuepoint.
  if (cuepoint) {
    var _useModule9 = (0,module_manager/* useModule */.b7)("media_cuepoints"),
      removeCuepoint = _useModule9.removeCuepoint;
    removeCuepoint(cuepoint);
  }
  var _useModule10 = (0,module_manager/* useModule */.b7)("media_player"),
    pause = _useModule10.pause;
  pause();
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/interpreter/reactivity.js



var watchers = [];
function interpreter_reactivity_init(context) {
  // Ensure 'Reactivity' name does not conflict with variable names.
  javascript.javascriptGenerator.addReservedWords("Reactivity");

  // Add 'Reactivity' object to context.
  context.Reactivity = {
    ref: reactivity_esm_bundler/* ref */.iH,
    unref: reactivity_esm_bundler/* unref */.SU,
    isRef: reactivity_esm_bundler/* isRef */.dq,
    watchEffect: function watchEffect(fn) {
      var unwatch = (0,runtime_core_esm_bundler/* watchEffect */.m0)(fn, {
        flush: "post"
      });
      watchers.push(unwatch);
    }
  };
}
function reactivity_reset() {
  // Remove all watchers.
  while (watchers.length > 0) {
    var unwatch = watchers.pop();
    unwatch();
  }
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/blockly/interpreter/index.js








function exec(code) {
  interpreter_reset();
  if ((0,lodash.isEmpty)(code)) {
    return;
  }
  var context = {};
  app_init(context);
  components_init(context);
  keyboard_init(context);
  links_init(context);
  media_init(context);
  interpreter_reactivity_init(context);
  try {
    var compiled = compileCode(code);
    compiled(context);
  } catch (e) {
    console.error(e);
  }
}
function interpreter_reset() {
  components_reset();
  keyboard_reset();
  links_reset();
  media_reset();
  reactivity_reset();
}
;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/store/index.js












/* harmony default export */ var app_behaviors_store = (defineStore("app-behaviors", {
  state: function state() {
    return {
      behaviors: {},
      enabled: false
    };
  },
  actions: {
    init(data) {
      var _this = this;
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var locale, _yield$import, blocklyLocale;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              // Import the locale.
              locale = i18n_getLocale();
              _context.next = 3;
              return __webpack_require__(28139)(`./${locale}`);
            case 3:
              _yield$import = _context.sent;
              blocklyLocale = _yield$import.default;
              blockly.setLocale(blocklyLocale);
              _context.next = 8;
              return __webpack_require__.e(/* import() */ 773).then(__webpack_require__.bind(__webpack_require__, 9773));
            case 8:
              _this.behaviors = data || {};
            case 9:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }))();
    },
    update(value) {
      this.behaviors = value;
      if (this.enabled) {
        this.run();
      }
    },
    run() {
      var workspace = new blockly.Workspace();
      blockly.serialization.workspaces.load(this.behaviors, workspace);
      var code = javascript.javascriptGenerator.workspaceToCode(workspace);
      exec(code);
    },
    enable() {
      this.enabled = true;
      this.run();
    },
    disable() {
      this.enabled = false;
      interpreter_reset();
    }
  }
}));
;// CONCATENATED MODULE: ./packages/core/modules/app_renderer/store/index.js




/* harmony default export */ var app_renderer_store = (defineStore("app-renderer", {
  state: function state() {
    return {
      configs: {
        adaptSize: false,
        allowUpscaling: false
      },
      ready: false,
      el: null,
      width: null,
      height: null,
      css: null,
      fullscreenElement: null
    };
  },
  getters: {
    getComponentElement() {
      var _this = this;
      return function (component) {
        var _this$el;
        return (_this$el = _this.el) === null || _this$el === void 0 ? void 0 : _this$el.querySelector(`.metaScore-component.${(0,lodash.kebabCase)(component.type)}#${component.id}`);
      };
    }
  },
  actions: {
    configure(configs) {
      this.configs = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, this.configs), configs);
    },
    init(_ref) {
      var width = _ref.width,
        height = _ref.height,
        css = _ref.css;
      this.width = width;
      this.height = height;
      this.css = css;
    },
    setWidth(value) {
      this.width = value;
    },
    setHeight(value) {
      this.height = value;
    },
    setCSS(value) {
      this.css = value;
    },
    toggleFullscreen(force) {
      var _this2 = this;
      if (!this.el) return;
      if (typeof force === "undefined") {
        force = this.fullscreenElement === null;
      }
      if (force) {
        return this.el.requestFullscreen().then(function () {
          _this2.fullscreenElement = document.fullscreenElement;

          // Add listener to unset fullscreenElement
          // when fullscreen is exited.
          var listener = function listener() {
            if (!document.fullscreenElement) {
              _this2.fullscreenElement = null;
              document.removeEventListener("fullscreenchange", listener);
            }
          };
          document.addEventListener("fullscreenchange", listener);
        }).catch(function (e) {
          console.warn(e);
        });
      } else if (this.fullscreenElement) {
        try {
          document.exitFullscreen();
        } catch (e) {
          console.warn(e);
        }
      }
    }
  },
  history(context) {
    var _this3 = this;
    var name = context.name,
      after = context.after,
      push = context.push;
    switch (name) {
      case "setWidth":
      case "setHeight":
        {
          var key = name === "setWidth" ? "width" : "height";
          var oldValue = this[key];
          after(function () {
            var newValue = _this3[key];
            push({
              undo: function undo() {
                _this3[name](oldValue);
              },
              redo: function redo() {
                _this3[name](newValue);
              }
            });
          });
        }
        break;
    }
  }
}));
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_renderer/components/AppRenderer.vue?vue&type=template&id=0364fcd7&scoped=true

function AppRenderervue_type_template_id_0364fcd7_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_media_player = (0,runtime_core_esm_bundler/* resolveComponent */.up)("media-player");
  var _component_scenario_component = (0,runtime_core_esm_bundler/* resolveComponent */.up)("scenario-component");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(Transition, {
    name: "fade"
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* withDirectives */.wy)((0,runtime_core_esm_bundler/* createElementVNode */._)("div", {
        class: "metaScore-app",
        tabindex: "-1",
        style: (0,shared_esm_bundler/* normalizeStyle */.j5)($options.style)
      }, [$setup.mediaSource ? (0,runtime_core_esm_bundler/* withDirectives */.wy)(((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_media_player, {
        key: 0,
        source: $setup.mediaSource,
        type: "video"
      }, null, 8, ["source"])), [[vShow, false]]) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true), ((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($options.scenarios, function (scenario) {
        return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, {
          key: scenario.id
        }, [scenario.id === $setup.activeScenario ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_scenario_component, {
          key: 0,
          component: scenario,
          onAction: $options.onComponentAction
        }, null, 8, ["component", "onAction"])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true)], 64);
      }), 128))], 4), [[vShow, $options.ready]])];
    }),
    _: 1
  });
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_renderer/components/AppRenderer.vue?vue&type=script&lang=js

var AppRenderervue_type_script_lang_js_excluded = ["type"];




var BLOCK_TOGGLE_LINKS_OVERRIDES_KEY = "app_renderer:block_toggle_links";
var BLOCK_TOGGLE_LINKS_OVERRIDES_PRIORITY = 100;
/* harmony default export */ var AppRenderervue_type_script_lang_js = ({
  setup() {
    var store = app_renderer_store();
    var _useModule = (0,module_manager/* useModule */.b7)("app_components"),
      getComponent = _useModule.getComponent,
      getComponentsByType = _useModule.getComponentsByType,
      activeScenario = _useModule.activeScenario,
      setActiveScenario = _useModule.setActiveScenario,
      setBlockActivePage = _useModule.setBlockActivePage,
      setComponentOverrides = _useModule.setOverrides;
    var _useModule2 = (0,module_manager/* useModule */.b7)("media_player"),
      mediaSource = _useModule2.source,
      playMedia = _useModule2.play,
      pauseMedia = _useModule2.pause,
      stopMedia = _useModule2.stop,
      seekMediaTo = _useModule2.seekTo;
    var _useModule3 = (0,module_manager/* useModule */.b7)("media_cuepoints"),
      setGlobalCuepoint = _useModule3.setGlobalCuepoint,
      removeCuepoint = _useModule3.removeCuepoint;
    return {
      store,
      mediaSource,
      playMedia,
      pauseMedia,
      stopMedia,
      seekMediaTo,
      getComponent,
      getComponentsByType,
      activeScenario,
      setActiveScenario,
      setBlockActivePage,
      setComponentOverrides,
      setGlobalCuepoint,
      removeCuepoint
    };
  },
  data() {
    return {
      containerWidth: null,
      containerHeight: null
    };
  },
  computed: {
    adaptSize() {
      return this.store.configs.adaptSize;
    },
    allowUpscaling() {
      return this.store.configs.allowUpscaling;
    },
    width() {
      return this.store.width;
    },
    height() {
      return this.store.height;
    },
    css() {
      return this.store.css;
    },
    ready: {
      get() {
        return this.store.ready;
      },
      set(value) {
        this.store.ready = value;
      }
    },
    scenarios() {
      return this.getComponentsByType("Scenario");
    },
    style() {
      if (this.adaptSize) {
        var scale = Math.min(this.containerWidth / this.width, this.containerHeight / this.height);
        if (!this.allowUpscaling) {
          scale = Math.min(1, scale);
        }
        return {
          width: `${this.width}px`,
          height: `${this.height}px`,
          transformOrigin: "left top 0px",
          transform: `scale(${scale})`,
          marginRight: `${this.width * scale - this.width}px`,
          marginBottom: `${this.height * scale - this.height}px`
        };
      }
      return {
        width: `${this.width}px`,
        height: `${this.height}px`
      };
    }
  },
  watch: {
    css(value) {
      this.ready = !value;
      if (!this._sheet) {
        var doc = this.$el.ownerDocument;
        this._sheet = doc.createElement("link");
        this._sheet.addEventListener("load", this.onSheetLoad);
        this._sheet.addEventListener("error", this.onSheetError);
        doc.head.appendChild(this._sheet);
      }
      this._sheet.setAttribute("rel", "stylesheet");
      this._sheet.setAttribute("type", "text/css");
      this._sheet.setAttribute("href", value);
    },
    adaptSize(value) {
      if (value) {
        this.setupResizeObserver();
      } else {
        this.destroyResizeObserver();
      }
    }
  },
  mounted() {
    if (this.adaptSize) {
      this.setupResizeObserver();
      var win = this.$el.ownerDocument.defaultView;
      win.addEventListener("orientationchange", this.onWindowOrientationChange);
    }
    this.$nextTick(function () {
      this.store.el = this.$el;
    });
  },
  beforeUnmount() {
    if (this.adaptSize) {
      this.destroyResizeObserver();
      var win = this.$el.ownerDocument.defaultView;
      win.removeEventListener("orientationchange", this.onWindowOrientationChange);
    }
    this.store.el = null;
  },
  methods: {
    setupResizeObserver() {
      var _this = this;
      if (this._resize_observer) {
        return;
      }
      var container = this.$el.parentNode;
      this.containerWidth = container.clientWidth;
      this.containerHeight = container.clientHeight;
      this._resize_observer = new ResizeObserver((0,lodash.debounce)(function () {
        _this.containerWidth = container.clientWidth;
        _this.containerHeight = container.clientHeight;
      }, 500));
      this._resize_observer.observe(container);
    },
    destroyResizeObserver() {
      if (this._resize_observer) {
        this._resize_observer.disconnect();
        delete this._resize_observer;
      }
    },
    onWindowOrientationChange() {
      var container = this.$el.parentNode;
      this.containerWidth = container.clientWidth;
      this.containerHeight = container.clientHeight;
    },
    onComponentAction(_ref) {
      var _this2 = this;
      var type = _ref.type,
        args = objectWithoutProperties_objectWithoutProperties(_ref, AppRenderervue_type_script_lang_js_excluded);
      switch (type) {
        case "play":
          if ("excerpt" in args && args.excerpt) {
            var _args$start = args.start,
              start = _args$start === void 0 ? null : _args$start,
              _args$end = args.end,
              end = _args$end === void 0 ? null : _args$end,
              _args$scenario = args.scenario,
              scenario = _args$scenario === void 0 ? null : _args$scenario;
            var cuepoint_config = {
              startTime: start,
              endTime: end,
              onStop: function onStop() {
                _this2.pauseMedia();
              },
              onSeekout: function onSeekout(_ref2) {
                var cuepoint = _ref2.cuepoint;
                _this2.removeCuepoint(cuepoint);
              }
            };
            if (scenario !== null && this.getComponent("Scenario", scenario) && scenario !== this.activeScenario) {
              var previous_scenario = this.activeScenario;
              cuepoint_config.onSeekout = function (_ref3) {
                var cuepoint = _ref3.cuepoint;
                _this2.setActiveScenario(previous_scenario);
                _this2.removeCuepoint(cuepoint);
              };
              this.setActiveScenario(scenario);
            }
            this.setGlobalCuepoint(cuepoint_config);
            if (start !== null) {
              this.seekMediaTo(start);
            }
          }
          this.playMedia();
          break;
        case "pause":
          this.pauseMedia();
          break;
        case "stop":
          this.stopMedia();
          break;
        case "seek":
          if ("time" in args) {
            this.seekMediaTo((args === null || args === void 0 ? void 0 : args.time) || 0);
          }
          break;
        case "page":
          if ("block" in args && "index" in args) {
            var block = this.getComponentsByType("Block").find(function (c) {
              return c.name === args.block;
            });
            if (block) {
              this.setBlockActivePage(block, args.index);
            }
          }
          break;
        case "showBlock":
          if ("name" in args) {
            var _block = this.getComponentsByType("Block").find(function (c) {
              return c.name === args.name;
            });
            if (_block) {
              this.setComponentOverrides(_block, BLOCK_TOGGLE_LINKS_OVERRIDES_KEY, {
                hidden: false
              }, BLOCK_TOGGLE_LINKS_OVERRIDES_PRIORITY);
            }
          }
          break;
        case "hideBlock":
          if ("name" in args) {
            var _block2 = this.getComponentsByType("Block").find(function (c) {
              return c.name === args.name;
            });
            if (_block2) {
              this.setComponentOverrides(_block2, BLOCK_TOGGLE_LINKS_OVERRIDES_KEY, {
                hidden: true
              }, BLOCK_TOGGLE_LINKS_OVERRIDES_PRIORITY);
            }
          }
          break;
        case "toggleBlock":
          if ("name" in args) {
            var _block3 = this.getComponentsByType("Block").find(function (c) {
              return c.name === args.name;
            });
            if (_block3) this.setComponentOverrides(_block3, BLOCK_TOGGLE_LINKS_OVERRIDES_KEY, {
              hidden: !_block3.hidden
            }, BLOCK_TOGGLE_LINKS_OVERRIDES_PRIORITY);
          }
          break;
        case "scenario":
          if ("id" in args) {
            var _scenario = this.getComponent("Scenario", args.id);
            if (_scenario) this.setActiveScenario(_scenario.id);
          }
          break;
        case "enterFullscreen":
          this.store.toggleFullscreen(true);
          break;
        case "exitFullscreen":
          this.store.toggleFullscreen(false);
          break;
        case "toggleFullscreen":
          this.store.toggleFullscreen();
          break;
      }
    },
    onSheetLoad() {
      this.ready = true;
    },
    onSheetError() {
      this.ready = true;
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/app_renderer/components/AppRenderer.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_renderer/components/AppRenderer.vue?vue&type=style&index=0&id=0364fcd7&lang=scss
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_renderer/components/AppRenderer.vue?vue&type=style&index=0&id=0364fcd7&lang=scss

;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/app_renderer/components/AppRenderer.vue?vue&type=style&index=1&id=0364fcd7&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/app_renderer/components/AppRenderer.vue?vue&type=style&index=1&id=0364fcd7&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/app_renderer/components/AppRenderer.vue




;



const AppRenderer_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(AppRenderervue_type_script_lang_js, [['render',AppRenderervue_type_template_id_0364fcd7_scoped_true_render],['__scopeId',"data-v-0364fcd7"]])

/* harmony default export */ var AppRenderer = (AppRenderer_exports_);
;// CONCATENATED MODULE: ./packages/core/modules/app_renderer/index.js










function app_renderer_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }








var AppRendererModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(AppRendererModule, _AbstractModule);
  function AppRendererModule(_ref) {
    var _this;
    var app = _ref.app;
    (0,classCallCheck/* default */.Z)(this, AppRendererModule);
    _this = app_renderer_callSuper(this, AppRendererModule, [arguments]);
    app.component("AppRenderer", AppRenderer);
    return _this;
  }
  (0,createClass/* default */.Z)(AppRendererModule, [{
    key: "configure",
    value: function configure(configs) {
      var store = app_renderer_store();
      store.configure(configs);
    }
  }, {
    key: "init",
    value: function init(data) {
      var store = app_renderer_store();
      store.init(data);
    }
  }, {
    key: "ready",
    get: function get() {
      var store = app_renderer_store();
      var _storeToRefs = storeToRefs(store),
        ready = _storeToRefs.ready;
      return (0,reactivity_esm_bundler/* readonly */.OT)(ready);
    }
  }, {
    key: "el",
    get: function get() {
      var store = app_renderer_store();
      var _storeToRefs2 = storeToRefs(store),
        el = _storeToRefs2.el;
      return (0,reactivity_esm_bundler/* readonly */.OT)(el);
    }
  }, {
    key: "width",
    get: function get() {
      var store = app_renderer_store();
      var _storeToRefs3 = storeToRefs(store),
        width = _storeToRefs3.width;
      return (0,reactivity_esm_bundler/* readonly */.OT)(width);
    }
  }, {
    key: "height",
    get: function get() {
      var store = app_renderer_store();
      var _storeToRefs4 = storeToRefs(store),
        height = _storeToRefs4.height;
      return (0,reactivity_esm_bundler/* readonly */.OT)(height);
    }
  }, {
    key: "setResponsiveness",
    value: function setResponsiveness(adaptSize, allowUpscaling) {
      var store = app_renderer_store();
      store.configs.adaptSize = adaptSize;
      if (typeof allowUpscaling !== "undefined") {
        store.configs.allowUpscaling = allowUpscaling;
      }
    }
  }, {
    key: "setWidth",
    value: function setWidth(value) {
      var store = app_renderer_store();
      store.setWidth(value);
    }
  }, {
    key: "setHeight",
    value: function setHeight(value) {
      var store = app_renderer_store();
      store.setHeight(value);
    }
  }, {
    key: "setCSS",
    value: function setCSS(value) {
      var store = app_renderer_store();
      store.setCSS(value);
    }
  }, {
    key: "getComponentElement",
    value: function getComponentElement(component) {
      var store = app_renderer_store();
      return store.getComponentElement(component);
    }
  }, {
    key: "toggleFullscreen",
    value: function toggleFullscreen(force) {
      var store = app_renderer_store();
      return store.toggleFullscreen(force);
    }
  }, {
    key: "onStoreAction",
    value: function onStoreAction(callback) {
      var store = app_renderer_store();
      return store.$onAction(callback);
    }
  }]);
  return AppRendererModule;
}(AbstractModule);
(0,defineProperty/* default */.Z)(AppRendererModule, "id", "app_renderer");
(0,defineProperty/* default */.Z)(AppRendererModule, "dependencies", [MediaPlayerModule, MediaCuepointsModule, AppComponentsModule]);

;// CONCATENATED MODULE: ./packages/core/modules/app_behaviors/index.js












function app_behaviors_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }









var AppBehaviorsModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(AppBehaviorsModule, _AbstractModule);
  function AppBehaviorsModule() {
    (0,classCallCheck/* default */.Z)(this, AppBehaviorsModule);
    return app_behaviors_callSuper(this, AppBehaviorsModule, arguments);
  }
  (0,createClass/* default */.Z)(AppBehaviorsModule, [{
    key: "init",
    value: function () {
      var _init = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(data) {
        var store;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              store = app_behaviors_store();
              _context.next = 3;
              return store.init(data);
            case 3:
              return _context.abrupt("return", _context.sent);
            case 4:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }));
      function init(_x) {
        return _init.apply(this, arguments);
      }
      return init;
    }()
  }, {
    key: "Blockly",
    get: function get() {
      return (0,reactivity_esm_bundler/* markRaw */.Xl)(blockly);
    }
  }, {
    key: "data",
    get: function get() {
      var store = app_behaviors_store();
      var _storeToRefs = storeToRefs(store),
        behaviors = _storeToRefs.behaviors;
      return (0,reactivity_esm_bundler/* readonly */.OT)(behaviors);
    }
  }, {
    key: "setData",
    value: function setData(value) {
      var store = app_behaviors_store();
      store.update(value);
    }
  }, {
    key: "enable",
    value: function enable() {
      var store = app_behaviors_store();
      store.enable();
    }
  }, {
    key: "disable",
    value: function disable() {
      var store = app_behaviors_store();
      store.disable();
    }
  }, {
    key: "onStoreAction",
    value: function onStoreAction(callback) {
      var store = app_behaviors_store();
      return store.$onAction(callback);
    }
  }]);
  return AppBehaviorsModule;
}(AbstractModule);
(0,defineProperty/* default */.Z)(AppBehaviorsModule, "id", "app_behaviors");
(0,defineProperty/* default */.Z)(AppBehaviorsModule, "dependencies", [AppComponentsModule, AppRendererModule, MediaCuepointsModule, MediaPlayerModule]);

;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/store/index.js



/* harmony default export */ var contextmenu_store = (defineStore("contextmenu", {
  state: function state() {
    return {
      items: []
    };
  },
  actions: {
    addItem(item) {
      this.items.push(item);
    },
    addItems(items) {
      var _this$items;
      (_this$items = this.items).push.apply(_this$items, (0,toConsumableArray/* default */.Z)(items));
    },
    clear() {
      this.items = [];
    }
  }
}));
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/button/components/BaseButton.vue?vue&type=template&id=6fed2e2e&scoped=true

var BaseButtonvue_type_template_id_6fed2e2e_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-6fed2e2e"), n = n(), _popScopeId(), n;
};
var BaseButtonvue_type_template_id_6fed2e2e_scoped_true_hoisted_1 = ["type", "disabled"];
var BaseButtonvue_type_template_id_6fed2e2e_scoped_true_hoisted_2 = {
  key: 0,
  class: "icon"
};
var BaseButtonvue_type_template_id_6fed2e2e_scoped_true_hoisted_3 = {
  key: 1,
  class: "content"
};
function BaseButtonvue_type_template_id_6fed2e2e_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("button", {
    type: $props.type,
    disabled: $props.disabled,
    class: (0,shared_esm_bundler/* normalizeClass */.C_)(['base-button', $props.role, {
      'has-icon': _ctx.$slots.icon,
      'has-content': _ctx.$slots.default,
      loading: $props.loading
    }])
  }, [_ctx.$slots.icon ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("i", BaseButtonvue_type_template_id_6fed2e2e_scoped_true_hoisted_2, [(0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "icon", {}, undefined, true)])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true), _ctx.$slots.default ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("span", BaseButtonvue_type_template_id_6fed2e2e_scoped_true_hoisted_3, [(0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "default", {}, undefined, true)])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true)], 10, BaseButtonvue_type_template_id_6fed2e2e_scoped_true_hoisted_1);
}
;// CONCATENATED MODULE: ./packages/core/modules/button/components/BaseButton.vue?vue&type=template&id=6fed2e2e&scoped=true

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/button/components/BaseButton.vue?vue&type=script&lang=js
/* harmony default export */ var BaseButtonvue_type_script_lang_js = ({
  props: {
    type: {
      type: String,
      default: null
    },
    disabled: {
      type: Boolean,
      default: false
    },
    role: {
      type: String,
      default: null
    },
    loading: {
      type: Boolean,
      default: false
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/button/components/BaseButton.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/button/components/BaseButton.vue?vue&type=style&index=0&id=6fed2e2e&scoped=true&lang=scss
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/button/components/BaseButton.vue?vue&type=style&index=0&id=6fed2e2e&scoped=true&lang=scss

;// CONCATENATED MODULE: ./packages/core/modules/button/components/BaseButton.vue




;


const BaseButton_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(BaseButtonvue_type_script_lang_js, [['render',BaseButtonvue_type_template_id_6fed2e2e_scoped_true_render],['__scopeId',"data-v-6fed2e2e"]])

/* harmony default export */ var BaseButton = (BaseButton_exports_);
;// CONCATENATED MODULE: ./packages/core/modules/button/index.js










function button_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }


var BaseButtonModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(BaseButtonModule, _AbstractModule);
  function BaseButtonModule(_ref) {
    var _this;
    var app = _ref.app;
    (0,classCallCheck/* default */.Z)(this, BaseButtonModule);
    _this = button_callSuper(this, BaseButtonModule, [arguments]);
    app.component("BaseButton", BaseButton);
    return _this;
  }
  return (0,createClass/* default */.Z)(BaseButtonModule);
}(AbstractModule);
(0,defineProperty/* default */.Z)(BaseButtonModule, "id", "base_button");

;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/directives/contexmenu.js





var state = new WeakMap();
function update(el, binding) {
  if (!state.has(el)) {
    state.set(el, {});
  }
  var data = state.get(el);
  data.items = binding.value;
  if (data.items) {
    if (!("listener" in data)) {
      data.listener = function () {
        var store = contextmenu_store();
        store.addItems(data.items);
      };
      el.addEventListener("contextmenu", data.listener);
    }
  } else if ("listener" in data) {
    el.removeEventListener("contextmenu", data.listener);
  }
}
function remove(el) {
  if (state.has(el)) {
    var _state$get = state.get(el),
      listener = _state$get.listener;
    if (listener) {
      el.removeEventListener("contextmenu", listener);
    }
    state.delete(el);
  }
}
/* harmony default export */ var contexmenu = ({
  mounted(el, binding) {
    update(el, binding);
  },
  updated(el, binding) {
    update(el, binding);
  },
  beforeUnmount(el) {
    remove(el);
  }
});
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/contextmenu/components/ContextMenu.vue?vue&type=template&id=7cadd25c&scoped=true

var ContextMenuvue_type_template_id_7cadd25c_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-7cadd25c"), n = n(), _popScopeId(), n;
};
var ContextMenuvue_type_template_id_7cadd25c_scoped_true_hoisted_1 = {
  key: 0,
  class: "header"
};
var ContextMenuvue_type_template_id_7cadd25c_scoped_true_hoisted_2 = {
  key: 1,
  class: "footer"
};
function ContextMenuvue_type_template_id_7cadd25c_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_context_menu_item = (0,runtime_core_esm_bundler/* resolveComponent */.up)("context-menu-item");
  return (0,runtime_core_esm_bundler/* withDirectives */.wy)(((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", {
    class: "context-menu",
    tabindex: "-1",
    style: (0,shared_esm_bundler/* normalizeStyle */.j5)($data.style),
    onContextmenu: _cache[0] || (_cache[0] = withModifiers(function () {}, ["stop", "prevent"])),
    onBlur: _cache[1] || (_cache[1] = function () {
      return $options.onBlur && $options.onBlur.apply($options, arguments);
    }),
    onKeyup: _cache[2] || (_cache[2] = function () {
      return $options.onKeyup && $options.onKeyup.apply($options, arguments);
    })
  }, [(0,runtime_core_esm_bundler/* createElementVNode */._)("ul", null, [_ctx.$slots.header ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("li", ContextMenuvue_type_template_id_7cadd25c_scoped_true_hoisted_1, [(0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "header", {}, undefined, true)])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true), ((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($options.items, function (item, index) {
    return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_context_menu_item, {
      key: index,
      item: item,
      onClick: $options.onItemClick
    }, null, 8, ["item", "onClick"]);
  }), 128)), _ctx.$slots.footer ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("li", ContextMenuvue_type_template_id_7cadd25c_scoped_true_hoisted_2, [(0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "footer", {}, undefined, true)])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true)])], 36)), [[vShow, $props.show]]);
}
;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/components/ContextMenu.vue?vue&type=template&id=7cadd25c&scoped=true

;// CONCATENATED MODULE: ./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs







/**
 * Custom positioning reference element.
 * @see https://floating-ui.com/docs/virtual-elements
 */

var floating_ui_utils_sides = (/* unused pure expression or super */ null && (['top', 'right', 'bottom', 'left']));
var alignments = (/* unused pure expression or super */ null && (['start', 'end']));
var floating_ui_utils_placements = /*#__PURE__*/(/* unused pure expression or super */ null && (floating_ui_utils_sides.reduce(function (acc, side) {
  return acc.concat(side, side + "-" + alignments[0], side + "-" + alignments[1]);
}, [])));
var floating_ui_utils_min = Math.min;
var floating_ui_utils_max = Math.max;
var round = Math.round;
var floating_ui_utils_floor = Math.floor;
var createCoords = function createCoords(v) {
  return {
    x: v,
    y: v
  };
};
var oppositeSideMap = {
  left: 'right',
  right: 'left',
  bottom: 'top',
  top: 'bottom'
};
var oppositeAlignmentMap = {
  start: 'end',
  end: 'start'
};
function floating_ui_utils_clamp(start, value, end) {
  return floating_ui_utils_max(start, floating_ui_utils_min(value, end));
}
function floating_ui_utils_evaluate(value, param) {
  return typeof value === 'function' ? value(param) : value;
}
function floating_ui_utils_getSide(placement) {
  return placement.split('-')[0];
}
function floating_ui_utils_getAlignment(placement) {
  return placement.split('-')[1];
}
function floating_ui_utils_getOppositeAxis(axis) {
  return axis === 'x' ? 'y' : 'x';
}
function floating_ui_utils_getAxisLength(axis) {
  return axis === 'y' ? 'height' : 'width';
}
function floating_ui_utils_getSideAxis(placement) {
  return ['top', 'bottom'].includes(floating_ui_utils_getSide(placement)) ? 'y' : 'x';
}
function floating_ui_utils_getAlignmentAxis(placement) {
  return floating_ui_utils_getOppositeAxis(floating_ui_utils_getSideAxis(placement));
}
function floating_ui_utils_getAlignmentSides(placement, rects, rtl) {
  if (rtl === void 0) {
    rtl = false;
  }
  var alignment = floating_ui_utils_getAlignment(placement);
  var alignmentAxis = floating_ui_utils_getAlignmentAxis(placement);
  var length = floating_ui_utils_getAxisLength(alignmentAxis);
  var mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';
  if (rects.reference[length] > rects.floating[length]) {
    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
  }
  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];
}
function getExpandedPlacements(placement) {
  var oppositePlacement = getOppositePlacement(placement);
  return [floating_ui_utils_getOppositeAlignmentPlacement(placement), oppositePlacement, floating_ui_utils_getOppositeAlignmentPlacement(oppositePlacement)];
}
function floating_ui_utils_getOppositeAlignmentPlacement(placement) {
  return placement.replace(/start|end/g, function (alignment) {
    return oppositeAlignmentMap[alignment];
  });
}
function getSideList(side, isStart, rtl) {
  var lr = ['left', 'right'];
  var rl = ['right', 'left'];
  var tb = ['top', 'bottom'];
  var bt = ['bottom', 'top'];
  switch (side) {
    case 'top':
    case 'bottom':
      if (rtl) return isStart ? rl : lr;
      return isStart ? lr : rl;
    case 'left':
    case 'right':
      return isStart ? tb : bt;
    default:
      return [];
  }
}
function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {
  var alignment = floating_ui_utils_getAlignment(placement);
  var list = getSideList(floating_ui_utils_getSide(placement), direction === 'start', rtl);
  if (alignment) {
    list = list.map(function (side) {
      return side + "-" + alignment;
    });
    if (flipAlignment) {
      list = list.concat(list.map(floating_ui_utils_getOppositeAlignmentPlacement));
    }
  }
  return list;
}
function getOppositePlacement(placement) {
  return placement.replace(/left|right|bottom|top/g, function (side) {
    return oppositeSideMap[side];
  });
}
function expandPaddingObject(padding) {
  return (0,objectSpread2/* default */.Z)({
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  }, padding);
}
function floating_ui_utils_getPaddingObject(padding) {
  return typeof padding !== 'number' ? expandPaddingObject(padding) : {
    top: padding,
    right: padding,
    bottom: padding,
    left: padding
  };
}
function floating_ui_utils_rectToClientRect(rect) {
  return (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, rect), {}, {
    top: rect.y,
    left: rect.x,
    right: rect.x + rect.width,
    bottom: rect.y + rect.height
  });
}

;// CONCATENATED MODULE: ./node_modules/@floating-ui/core/dist/floating-ui.core.mjs





var floating_ui_core_excluded = (/* unused pure expression or super */ null && (["crossAxis", "alignment", "allowedPlacements", "autoAlignment"])),
  floating_ui_core_excluded2 = ["mainAxis", "crossAxis", "fallbackPlacements", "fallbackStrategy", "fallbackAxisSideDirection", "flipAlignment"],
  floating_ui_core_excluded3 = (/* unused pure expression or super */ null && (["strategy"])),
  floating_ui_core_excluded4 = ["mainAxis", "crossAxis", "limiter"],
  floating_ui_core_excluded5 = (/* unused pure expression or super */ null && (["apply"]));










function computeCoordsFromPlacement(_ref, placement, rtl) {
  var reference = _ref.reference,
    floating = _ref.floating;
  var sideAxis = floating_ui_utils_getSideAxis(placement);
  var alignmentAxis = floating_ui_utils_getAlignmentAxis(placement);
  var alignLength = floating_ui_utils_getAxisLength(alignmentAxis);
  var side = floating_ui_utils_getSide(placement);
  var isVertical = sideAxis === 'y';
  var commonX = reference.x + reference.width / 2 - floating.width / 2;
  var commonY = reference.y + reference.height / 2 - floating.height / 2;
  var commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;
  var coords;
  switch (side) {
    case 'top':
      coords = {
        x: commonX,
        y: reference.y - floating.height
      };
      break;
    case 'bottom':
      coords = {
        x: commonX,
        y: reference.y + reference.height
      };
      break;
    case 'right':
      coords = {
        x: reference.x + reference.width,
        y: commonY
      };
      break;
    case 'left':
      coords = {
        x: reference.x - floating.width,
        y: commonY
      };
      break;
    default:
      coords = {
        x: reference.x,
        y: reference.y
      };
  }
  switch (floating_ui_utils_getAlignment(placement)) {
    case 'start':
      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
      break;
    case 'end':
      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
      break;
  }
  return coords;
}

/**
 * Computes the `x` and `y` coordinates that will place the floating element
 * next to a given reference element.
 *
 * This export does not have any `platform` interface logic. You will need to
 * write one for the platform you are using Floating UI with.
 */
var floating_ui_core_computePosition = /*#__PURE__*/function () {
  var _ref2 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(reference, floating, config) {
    var _config$placement, placement, _config$strategy, strategy, _config$middleware, middleware, platform, validMiddleware, rtl, rects, _computeCoordsFromPla, x, y, statefulPlacement, middlewareData, resetCount, i, _validMiddleware$i, name, fn, _yield$fn, nextX, nextY, data, reset, _computeCoordsFromPla2;
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          _config$placement = config.placement, placement = _config$placement === void 0 ? 'bottom' : _config$placement, _config$strategy = config.strategy, strategy = _config$strategy === void 0 ? 'absolute' : _config$strategy, _config$middleware = config.middleware, middleware = _config$middleware === void 0 ? [] : _config$middleware, platform = config.platform;
          validMiddleware = middleware.filter(Boolean);
          _context.next = 4;
          return platform.isRTL == null ? void 0 : platform.isRTL(floating);
        case 4:
          rtl = _context.sent;
          _context.next = 7;
          return platform.getElementRects({
            reference,
            floating,
            strategy
          });
        case 7:
          rects = _context.sent;
          _computeCoordsFromPla = computeCoordsFromPlacement(rects, placement, rtl), x = _computeCoordsFromPla.x, y = _computeCoordsFromPla.y;
          statefulPlacement = placement;
          middlewareData = {};
          resetCount = 0;
          i = 0;
        case 13:
          if (!(i < validMiddleware.length)) {
            _context.next = 46;
            break;
          }
          _validMiddleware$i = validMiddleware[i], name = _validMiddleware$i.name, fn = _validMiddleware$i.fn;
          _context.next = 17;
          return fn({
            x,
            y,
            initialPlacement: placement,
            placement: statefulPlacement,
            strategy,
            middlewareData,
            rects,
            platform,
            elements: {
              reference,
              floating
            }
          });
        case 17:
          _yield$fn = _context.sent;
          nextX = _yield$fn.x;
          nextY = _yield$fn.y;
          data = _yield$fn.data;
          reset = _yield$fn.reset;
          x = nextX != null ? nextX : x;
          y = nextY != null ? nextY : y;
          middlewareData = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, middlewareData), {}, {
            [name]: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, middlewareData[name]), data)
          });
          if (!(reset && resetCount <= 50)) {
            _context.next = 43;
            break;
          }
          resetCount++;
          if (!(typeof reset === 'object')) {
            _context.next = 41;
            break;
          }
          if (reset.placement) {
            statefulPlacement = reset.placement;
          }
          if (!reset.rects) {
            _context.next = 38;
            break;
          }
          if (!(reset.rects === true)) {
            _context.next = 36;
            break;
          }
          _context.next = 33;
          return platform.getElementRects({
            reference,
            floating,
            strategy
          });
        case 33:
          _context.t0 = _context.sent;
          _context.next = 37;
          break;
        case 36:
          _context.t0 = reset.rects;
        case 37:
          rects = _context.t0;
        case 38:
          _computeCoordsFromPla2 = computeCoordsFromPlacement(rects, statefulPlacement, rtl);
          x = _computeCoordsFromPla2.x;
          y = _computeCoordsFromPla2.y;
        case 41:
          i = -1;
          return _context.abrupt("continue", 43);
        case 43:
          i++;
          _context.next = 13;
          break;
        case 46:
          return _context.abrupt("return", {
            x,
            y,
            placement: statefulPlacement,
            strategy,
            middlewareData
          });
        case 47:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return function computePosition(_x, _x2, _x3) {
    return _ref2.apply(this, arguments);
  };
}();

/**
 * Resolves with an object of overflow side offsets that determine how much the
 * element is overflowing a given clipping boundary on each side.
 * - positive = overflowing the boundary by that number of pixels
 * - negative = how many pixels left before it will overflow
 * - 0 = lies flush with the boundary
 * @see https://floating-ui.com/docs/detectOverflow
 */
function detectOverflow(_x4, _x5) {
  return _detectOverflow.apply(this, arguments);
}
/**
 * Provides data to position an inner element of the floating element so that it
 * appears centered to the reference element.
 * @see https://floating-ui.com/docs/arrow
 */
function _detectOverflow() {
  _detectOverflow = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee10(state, options) {
    var _await$platform$isEle, x, y, platform, rects, elements, strategy, _evaluate8, _evaluate8$boundary, boundary, _evaluate8$rootBounda, rootBoundary, _evaluate8$elementCon, elementContext, _evaluate8$altBoundar, altBoundary, _evaluate8$padding, padding, paddingObject, altContext, element, clippingClientRect, rect, offsetParent, offsetScale, elementClientRect;
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee10$(_context10) {
      while (1) switch (_context10.prev = _context10.next) {
        case 0:
          if (options === void 0) {
            options = {};
          }
          x = state.x, y = state.y, platform = state.platform, rects = state.rects, elements = state.elements, strategy = state.strategy;
          _evaluate8 = floating_ui_utils_evaluate(options, state), _evaluate8$boundary = _evaluate8.boundary, boundary = _evaluate8$boundary === void 0 ? 'clippingAncestors' : _evaluate8$boundary, _evaluate8$rootBounda = _evaluate8.rootBoundary, rootBoundary = _evaluate8$rootBounda === void 0 ? 'viewport' : _evaluate8$rootBounda, _evaluate8$elementCon = _evaluate8.elementContext, elementContext = _evaluate8$elementCon === void 0 ? 'floating' : _evaluate8$elementCon, _evaluate8$altBoundar = _evaluate8.altBoundary, altBoundary = _evaluate8$altBoundar === void 0 ? false : _evaluate8$altBoundar, _evaluate8$padding = _evaluate8.padding, padding = _evaluate8$padding === void 0 ? 0 : _evaluate8$padding;
          paddingObject = floating_ui_utils_getPaddingObject(padding);
          altContext = elementContext === 'floating' ? 'reference' : 'floating';
          element = elements[altBoundary ? altContext : elementContext];
          _context10.t0 = floating_ui_utils_rectToClientRect;
          _context10.t1 = platform;
          _context10.next = 10;
          return platform.isElement == null ? void 0 : platform.isElement(element);
        case 10:
          _context10.t2 = _await$platform$isEle = _context10.sent;
          if (!(_context10.t2 != null)) {
            _context10.next = 15;
            break;
          }
          _context10.t3 = _await$platform$isEle;
          _context10.next = 16;
          break;
        case 15:
          _context10.t3 = true;
        case 16:
          if (!_context10.t3) {
            _context10.next = 20;
            break;
          }
          _context10.t4 = element;
          _context10.next = 26;
          break;
        case 20:
          _context10.t5 = element.contextElement;
          if (_context10.t5) {
            _context10.next = 25;
            break;
          }
          _context10.next = 24;
          return platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating);
        case 24:
          _context10.t5 = _context10.sent;
        case 25:
          _context10.t4 = _context10.t5;
        case 26:
          _context10.t6 = _context10.t4;
          _context10.t7 = boundary;
          _context10.t8 = rootBoundary;
          _context10.t9 = strategy;
          _context10.t10 = {
            element: _context10.t6,
            boundary: _context10.t7,
            rootBoundary: _context10.t8,
            strategy: _context10.t9
          };
          _context10.next = 33;
          return _context10.t1.getClippingRect.call(_context10.t1, _context10.t10);
        case 33:
          _context10.t11 = _context10.sent;
          clippingClientRect = (0, _context10.t0)(_context10.t11);
          rect = elementContext === 'floating' ? (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, rects.floating), {}, {
            x,
            y
          }) : rects.reference;
          _context10.next = 38;
          return platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating);
        case 38:
          offsetParent = _context10.sent;
          _context10.next = 41;
          return platform.isElement == null ? void 0 : platform.isElement(offsetParent);
        case 41:
          if (!_context10.sent) {
            _context10.next = 50;
            break;
          }
          _context10.next = 44;
          return platform.getScale == null ? void 0 : platform.getScale(offsetParent);
        case 44:
          _context10.t13 = _context10.sent;
          if (_context10.t13) {
            _context10.next = 47;
            break;
          }
          _context10.t13 = {
            x: 1,
            y: 1
          };
        case 47:
          _context10.t12 = _context10.t13;
          _context10.next = 51;
          break;
        case 50:
          _context10.t12 = {
            x: 1,
            y: 1
          };
        case 51:
          offsetScale = _context10.t12;
          _context10.t14 = floating_ui_utils_rectToClientRect;
          if (!platform.convertOffsetParentRelativeRectToViewportRelativeRect) {
            _context10.next = 59;
            break;
          }
          _context10.next = 56;
          return platform.convertOffsetParentRelativeRectToViewportRelativeRect({
            rect,
            offsetParent,
            strategy
          });
        case 56:
          _context10.t15 = _context10.sent;
          _context10.next = 60;
          break;
        case 59:
          _context10.t15 = rect;
        case 60:
          _context10.t16 = _context10.t15;
          elementClientRect = (0, _context10.t14)(_context10.t16);
          return _context10.abrupt("return", {
            top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,
            bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,
            left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,
            right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x
          });
        case 63:
        case "end":
          return _context10.stop();
      }
    }, _callee10);
  }));
  return _detectOverflow.apply(this, arguments);
}
var arrow = function arrow(options) {
  return {
    name: 'arrow',
    options,
    fn(state) {
      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {
        var x, y, placement, rects, platform, elements, middlewareData, _ref3, element, _ref3$padding, padding, paddingObject, coords, axis, length, arrowDimensions, isYAxis, minProp, maxProp, clientProp, endDiff, startDiff, arrowOffsetParent, clientSize, centerToReference, largestPossiblePadding, minPadding, maxPadding, min$1, max, center, offset, shouldAddOffset, alignmentOffset;
        return _regeneratorRuntime().wrap(function _callee2$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              x = state.x, y = state.y, placement = state.placement, rects = state.rects, platform = state.platform, elements = state.elements, middlewareData = state.middlewareData; // Since `element` is required, we don't Partial<> the type.
              _ref3 = evaluate(options, state) || {}, element = _ref3.element, _ref3$padding = _ref3.padding, padding = _ref3$padding === void 0 ? 0 : _ref3$padding;
              if (!(element == null)) {
                _context2.next = 4;
                break;
              }
              return _context2.abrupt("return", {});
            case 4:
              paddingObject = getPaddingObject(padding);
              coords = {
                x,
                y
              };
              axis = getAlignmentAxis(placement);
              length = getAxisLength(axis);
              _context2.next = 10;
              return platform.getDimensions(element);
            case 10:
              arrowDimensions = _context2.sent;
              isYAxis = axis === 'y';
              minProp = isYAxis ? 'top' : 'left';
              maxProp = isYAxis ? 'bottom' : 'right';
              clientProp = isYAxis ? 'clientHeight' : 'clientWidth';
              endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];
              startDiff = coords[axis] - rects.reference[axis];
              _context2.next = 19;
              return platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element);
            case 19:
              arrowOffsetParent = _context2.sent;
              clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0; // DOM platform can return `window` as the `offsetParent`.
              _context2.t0 = !clientSize;
              if (_context2.t0) {
                _context2.next = 26;
                break;
              }
              _context2.next = 25;
              return platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent);
            case 25:
              _context2.t0 = !_context2.sent;
            case 26:
              if (!_context2.t0) {
                _context2.next = 28;
                break;
              }
              clientSize = elements.floating[clientProp] || rects.floating[length];
            case 28:
              centerToReference = endDiff / 2 - startDiff / 2; // If the padding is large enough that it causes the arrow to no longer be
              // centered, modify the padding so that it is centered.
              largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;
              minPadding = min(paddingObject[minProp], largestPossiblePadding);
              maxPadding = min(paddingObject[maxProp], largestPossiblePadding); // Make sure the arrow doesn't overflow the floating element if the center
              // point is outside the floating element's bounds.
              min$1 = minPadding;
              max = clientSize - arrowDimensions[length] - maxPadding;
              center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;
              offset = clamp(min$1, center, max); // If the reference is small enough that the arrow's padding causes it to
              // to point to nothing for an aligned placement, adjust the offset of the
              // floating element itself. To ensure `shift()` continues to take action,
              // a single reset is performed when this is true.
              shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;
              alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;
              return _context2.abrupt("return", {
                [axis]: coords[axis] + alignmentOffset,
                data: _objectSpread({
                  [axis]: offset,
                  centerOffset: center - offset - alignmentOffset
                }, shouldAddOffset && {
                  alignmentOffset
                }),
                reset: shouldAddOffset
              });
            case 39:
            case "end":
              return _context2.stop();
          }
        }, _callee2);
      }))();
    }
  };
};
function getPlacementList(alignment, autoAlignment, allowedPlacements) {
  var allowedPlacementsSortedByAlignment = alignment ? [].concat(_toConsumableArray(allowedPlacements.filter(function (placement) {
    return getAlignment(placement) === alignment;
  })), _toConsumableArray(allowedPlacements.filter(function (placement) {
    return getAlignment(placement) !== alignment;
  }))) : allowedPlacements.filter(function (placement) {
    return getSide(placement) === placement;
  });
  return allowedPlacementsSortedByAlignment.filter(function (placement) {
    if (alignment) {
      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);
    }
    return true;
  });
}
/**
 * Optimizes the visibility of the floating element by choosing the placement
 * that has the most space available automatically, without needing to specify a
 * preferred placement. Alternative to `flip`.
 * @see https://floating-ui.com/docs/autoPlacement
 */
var autoPlacement = function autoPlacement(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'autoPlacement',
    options,
    fn(state) {
      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {
        var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE, rects, middlewareData, placement, platform, elements, _evaluate, _evaluate$crossAxis, crossAxis, alignment, _evaluate$allowedPlac, allowedPlacements, _evaluate$autoAlignme, autoAlignment, detectOverflowOptions, placements$1, overflow, currentIndex, currentPlacement, alignmentSides, currentOverflows, allOverflows, nextPlacement, placementsSortedByMostSpace, placementsThatFitOnEachSide, resetPlacement;
        return _regeneratorRuntime().wrap(function _callee3$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              rects = state.rects, middlewareData = state.middlewareData, placement = state.placement, platform = state.platform, elements = state.elements;
              _evaluate = evaluate(options, state), _evaluate$crossAxis = _evaluate.crossAxis, crossAxis = _evaluate$crossAxis === void 0 ? false : _evaluate$crossAxis, alignment = _evaluate.alignment, _evaluate$allowedPlac = _evaluate.allowedPlacements, allowedPlacements = _evaluate$allowedPlac === void 0 ? placements : _evaluate$allowedPlac, _evaluate$autoAlignme = _evaluate.autoAlignment, autoAlignment = _evaluate$autoAlignme === void 0 ? true : _evaluate$autoAlignme, detectOverflowOptions = _objectWithoutProperties(_evaluate, floating_ui_core_excluded);
              placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;
              _context3.next = 5;
              return detectOverflow(state, detectOverflowOptions);
            case 5:
              overflow = _context3.sent;
              currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;
              currentPlacement = placements$1[currentIndex];
              if (!(currentPlacement == null)) {
                _context3.next = 10;
                break;
              }
              return _context3.abrupt("return", {});
            case 10:
              _context3.t0 = getAlignmentSides;
              _context3.t1 = currentPlacement;
              _context3.t2 = rects;
              _context3.next = 15;
              return platform.isRTL == null ? void 0 : platform.isRTL(elements.floating);
            case 15:
              _context3.t3 = _context3.sent;
              alignmentSides = (0, _context3.t0)(_context3.t1, _context3.t2, _context3.t3);
              if (!(placement !== currentPlacement)) {
                _context3.next = 19;
                break;
              }
              return _context3.abrupt("return", {
                reset: {
                  placement: placements$1[0]
                }
              });
            case 19:
              currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];
              allOverflows = [].concat(_toConsumableArray(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), [{
                placement: currentPlacement,
                overflows: currentOverflows
              }]);
              nextPlacement = placements$1[currentIndex + 1]; // There are more placements to check.
              if (!nextPlacement) {
                _context3.next = 24;
                break;
              }
              return _context3.abrupt("return", {
                data: {
                  index: currentIndex + 1,
                  overflows: allOverflows
                },
                reset: {
                  placement: nextPlacement
                }
              });
            case 24:
              placementsSortedByMostSpace = allOverflows.map(function (d) {
                var alignment = getAlignment(d.placement);
                return [d.placement, alignment && crossAxis ?
                // Check along the mainAxis and main crossAxis side.
                d.overflows.slice(0, 2).reduce(function (acc, v) {
                  return acc + v;
                }, 0) :
                // Check only the mainAxis.
                d.overflows[0], d.overflows];
              }).sort(function (a, b) {
                return a[1] - b[1];
              });
              placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(function (d) {
                return d[2].slice(0,
                // Aligned placements should not check their opposite crossAxis
                // side.
                getAlignment(d[0]) ? 2 : 3).every(function (v) {
                  return v <= 0;
                });
              });
              resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];
              if (!(resetPlacement !== placement)) {
                _context3.next = 29;
                break;
              }
              return _context3.abrupt("return", {
                data: {
                  index: currentIndex + 1,
                  overflows: allOverflows
                },
                reset: {
                  placement: resetPlacement
                }
              });
            case 29:
              return _context3.abrupt("return", {});
            case 30:
            case "end":
              return _context3.stop();
          }
        }, _callee3);
      }))();
    }
  };
};

/**
 * Optimizes the visibility of the floating element by flipping the `placement`
 * in order to keep it in view when the preferred placement(s) will overflow the
 * clipping boundary. Alternative to `autoPlacement`.
 * @see https://floating-ui.com/docs/flip
 */
var flip = function flip(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'flip',
    options,
    fn(state) {
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee4() {
        var _middlewareData$arrow, _middlewareData$flip, placement, middlewareData, rects, initialPlacement, platform, elements, _evaluate2, _evaluate2$mainAxis, checkMainAxis, _evaluate2$crossAxis, checkCrossAxis, specifiedFallbackPlacements, _evaluate2$fallbackSt, fallbackStrategy, _evaluate2$fallbackAx, fallbackAxisSideDirection, _evaluate2$flipAlignm, flipAlignment, detectOverflowOptions, side, isBasePlacement, rtl, fallbackPlacements, placements, overflow, overflows, overflowsData, _sides, _middlewareData$flip2, _overflowsData$filter, nextIndex, nextPlacement, resetPlacement, _overflowsData$map$so, _placement;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee4$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              placement = state.placement, middlewareData = state.middlewareData, rects = state.rects, initialPlacement = state.initialPlacement, platform = state.platform, elements = state.elements;
              _evaluate2 = floating_ui_utils_evaluate(options, state), _evaluate2$mainAxis = _evaluate2.mainAxis, checkMainAxis = _evaluate2$mainAxis === void 0 ? true : _evaluate2$mainAxis, _evaluate2$crossAxis = _evaluate2.crossAxis, checkCrossAxis = _evaluate2$crossAxis === void 0 ? true : _evaluate2$crossAxis, specifiedFallbackPlacements = _evaluate2.fallbackPlacements, _evaluate2$fallbackSt = _evaluate2.fallbackStrategy, fallbackStrategy = _evaluate2$fallbackSt === void 0 ? 'bestFit' : _evaluate2$fallbackSt, _evaluate2$fallbackAx = _evaluate2.fallbackAxisSideDirection, fallbackAxisSideDirection = _evaluate2$fallbackAx === void 0 ? 'none' : _evaluate2$fallbackAx, _evaluate2$flipAlignm = _evaluate2.flipAlignment, flipAlignment = _evaluate2$flipAlignm === void 0 ? true : _evaluate2$flipAlignm, detectOverflowOptions = objectWithoutProperties_objectWithoutProperties(_evaluate2, floating_ui_core_excluded2); // If a reset by the arrow was caused due to an alignment offset being
              // added, we should skip any logic now since `flip()` has already done its
              // work.
              // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643
              if (!((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset)) {
                _context4.next = 4;
                break;
              }
              return _context4.abrupt("return", {});
            case 4:
              side = floating_ui_utils_getSide(placement);
              isBasePlacement = floating_ui_utils_getSide(initialPlacement) === initialPlacement;
              _context4.next = 8;
              return platform.isRTL == null ? void 0 : platform.isRTL(elements.floating);
            case 8:
              rtl = _context4.sent;
              fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
              if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {
                fallbackPlacements.push.apply(fallbackPlacements, (0,toConsumableArray/* default */.Z)(getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl)));
              }
              placements = [initialPlacement].concat((0,toConsumableArray/* default */.Z)(fallbackPlacements));
              _context4.next = 14;
              return detectOverflow(state, detectOverflowOptions);
            case 14:
              overflow = _context4.sent;
              overflows = [];
              overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
              if (checkMainAxis) {
                overflows.push(overflow[side]);
              }
              if (checkCrossAxis) {
                _sides = floating_ui_utils_getAlignmentSides(placement, rects, rtl);
                overflows.push(overflow[_sides[0]], overflow[_sides[1]]);
              }
              overflowsData = [].concat((0,toConsumableArray/* default */.Z)(overflowsData), [{
                placement,
                overflows
              }]);

              // One or more sides is overflowing.
              if (overflows.every(function (side) {
                return side <= 0;
              })) {
                _context4.next = 37;
                break;
              }
              nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;
              nextPlacement = placements[nextIndex];
              if (!nextPlacement) {
                _context4.next = 25;
                break;
              }
              return _context4.abrupt("return", {
                data: {
                  index: nextIndex,
                  overflows: overflowsData
                },
                reset: {
                  placement: nextPlacement
                }
              });
            case 25:
              // First, find the candidates that fit on the mainAxis side of overflow,
              // then find the placement that fits the best on the main crossAxis side.
              resetPlacement = (_overflowsData$filter = overflowsData.filter(function (d) {
                return d.overflows[0] <= 0;
              }).sort(function (a, b) {
                return a.overflows[1] - b.overflows[1];
              })[0]) == null ? void 0 : _overflowsData$filter.placement; // Otherwise fallback.
              if (resetPlacement) {
                _context4.next = 35;
                break;
              }
              _context4.t0 = fallbackStrategy;
              _context4.next = _context4.t0 === 'bestFit' ? 30 : _context4.t0 === 'initialPlacement' ? 33 : 35;
              break;
            case 30:
              _placement = (_overflowsData$map$so = overflowsData.map(function (d) {
                return [d.placement, d.overflows.filter(function (overflow) {
                  return overflow > 0;
                }).reduce(function (acc, overflow) {
                  return acc + overflow;
                }, 0)];
              }).sort(function (a, b) {
                return a[1] - b[1];
              })[0]) == null ? void 0 : _overflowsData$map$so[0];
              if (_placement) {
                resetPlacement = _placement;
              }
              return _context4.abrupt("break", 35);
            case 33:
              resetPlacement = initialPlacement;
              return _context4.abrupt("break", 35);
            case 35:
              if (!(placement !== resetPlacement)) {
                _context4.next = 37;
                break;
              }
              return _context4.abrupt("return", {
                reset: {
                  placement: resetPlacement
                }
              });
            case 37:
              return _context4.abrupt("return", {});
            case 38:
            case "end":
              return _context4.stop();
          }
        }, _callee4);
      }))();
    }
  };
};
function getSideOffsets(overflow, rect) {
  return {
    top: overflow.top - rect.height,
    right: overflow.right - rect.width,
    bottom: overflow.bottom - rect.height,
    left: overflow.left - rect.width
  };
}
function isAnySideFullyClipped(overflow) {
  return sides.some(function (side) {
    return overflow[side] >= 0;
  });
}
/**
 * Provides data to hide the floating element in applicable situations, such as
 * when it is not in the same clipping context as the reference element.
 * @see https://floating-ui.com/docs/hide
 */
var floating_ui_core_hide = function hide(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'hide',
    options,
    fn(state) {
      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {
        var rects, _evaluate3, _evaluate3$strategy, strategy, detectOverflowOptions, overflow, offsets, _overflow, _offsets;
        return _regeneratorRuntime().wrap(function _callee5$(_context5) {
          while (1) switch (_context5.prev = _context5.next) {
            case 0:
              rects = state.rects;
              _evaluate3 = evaluate(options, state), _evaluate3$strategy = _evaluate3.strategy, strategy = _evaluate3$strategy === void 0 ? 'referenceHidden' : _evaluate3$strategy, detectOverflowOptions = _objectWithoutProperties(_evaluate3, floating_ui_core_excluded3);
              _context5.t0 = strategy;
              _context5.next = _context5.t0 === 'referenceHidden' ? 5 : _context5.t0 === 'escaped' ? 10 : 15;
              break;
            case 5:
              _context5.next = 7;
              return detectOverflow(state, _objectSpread(_objectSpread({}, detectOverflowOptions), {}, {
                elementContext: 'reference'
              }));
            case 7:
              overflow = _context5.sent;
              offsets = getSideOffsets(overflow, rects.reference);
              return _context5.abrupt("return", {
                data: {
                  referenceHiddenOffsets: offsets,
                  referenceHidden: isAnySideFullyClipped(offsets)
                }
              });
            case 10:
              _context5.next = 12;
              return detectOverflow(state, _objectSpread(_objectSpread({}, detectOverflowOptions), {}, {
                altBoundary: true
              }));
            case 12:
              _overflow = _context5.sent;
              _offsets = getSideOffsets(_overflow, rects.floating);
              return _context5.abrupt("return", {
                data: {
                  escapedOffsets: _offsets,
                  escaped: isAnySideFullyClipped(_offsets)
                }
              });
            case 15:
              return _context5.abrupt("return", {});
            case 16:
            case "end":
              return _context5.stop();
          }
        }, _callee5);
      }))();
    }
  };
};
function getBoundingRect(rects) {
  var minX = min.apply(void 0, _toConsumableArray(rects.map(function (rect) {
    return rect.left;
  })));
  var minY = min.apply(void 0, _toConsumableArray(rects.map(function (rect) {
    return rect.top;
  })));
  var maxX = max.apply(void 0, _toConsumableArray(rects.map(function (rect) {
    return rect.right;
  })));
  var maxY = max.apply(void 0, _toConsumableArray(rects.map(function (rect) {
    return rect.bottom;
  })));
  return {
    x: minX,
    y: minY,
    width: maxX - minX,
    height: maxY - minY
  };
}
function getRectsByLine(rects) {
  var sortedRects = rects.slice().sort(function (a, b) {
    return a.y - b.y;
  });
  var groups = [];
  var prevRect = null;
  for (var i = 0; i < sortedRects.length; i++) {
    var rect = sortedRects[i];
    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {
      groups.push([rect]);
    } else {
      groups[groups.length - 1].push(rect);
    }
    prevRect = rect;
  }
  return groups.map(function (rect) {
    return rectToClientRect(getBoundingRect(rect));
  });
}
/**
 * Provides improved positioning for inline reference elements that can span
 * over multiple lines, such as hyperlinks or range selections.
 * @see https://floating-ui.com/docs/inline
 */
var inline = function inline(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'inline',
    options,
    fn(state) {
      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {
        var placement, elements, rects, platform, strategy, _evaluate4, _evaluate4$padding, padding, x, y, nativeClientRects, clientRects, fallback, paddingObject, getBoundingClientRect, resetRects;
        return _regeneratorRuntime().wrap(function _callee6$(_context6) {
          while (1) switch (_context6.prev = _context6.next) {
            case 0:
              getBoundingClientRect = function _getBoundingClientRec() {
                // There are two rects and they are disjoined.
                if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {
                  // Find the first rect in which the point is fully inside.
                  return clientRects.find(function (rect) {
                    return x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom;
                  }) || fallback;
                }

                // There are 2 or more connected rects.
                if (clientRects.length >= 2) {
                  if (getSideAxis(placement) === 'y') {
                    var firstRect = clientRects[0];
                    var lastRect = clientRects[clientRects.length - 1];
                    var isTop = getSide(placement) === 'top';
                    var _top = firstRect.top;
                    var _bottom = lastRect.bottom;
                    var _left = isTop ? firstRect.left : lastRect.left;
                    var _right = isTop ? firstRect.right : lastRect.right;
                    var _width = _right - _left;
                    var _height = _bottom - _top;
                    return {
                      top: _top,
                      bottom: _bottom,
                      left: _left,
                      right: _right,
                      width: _width,
                      height: _height,
                      x: _left,
                      y: _top
                    };
                  }
                  var isLeftSide = getSide(placement) === 'left';
                  var maxRight = max.apply(void 0, _toConsumableArray(clientRects.map(function (rect) {
                    return rect.right;
                  })));
                  var minLeft = min.apply(void 0, _toConsumableArray(clientRects.map(function (rect) {
                    return rect.left;
                  })));
                  var measureRects = clientRects.filter(function (rect) {
                    return isLeftSide ? rect.left === minLeft : rect.right === maxRight;
                  });
                  var top = measureRects[0].top;
                  var bottom = measureRects[measureRects.length - 1].bottom;
                  var left = minLeft;
                  var right = maxRight;
                  var width = right - left;
                  var height = bottom - top;
                  return {
                    top,
                    bottom,
                    left,
                    right,
                    width,
                    height,
                    x: left,
                    y: top
                  };
                }
                return fallback;
              };
              placement = state.placement, elements = state.elements, rects = state.rects, platform = state.platform, strategy = state.strategy; // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a
              // ClientRect's bounds, despite the event listener being triggered. A
              // padding of 2 seems to handle this issue.
              _evaluate4 = evaluate(options, state), _evaluate4$padding = _evaluate4.padding, padding = _evaluate4$padding === void 0 ? 2 : _evaluate4$padding, x = _evaluate4.x, y = _evaluate4.y;
              _context6.t0 = Array;
              _context6.next = 6;
              return platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference);
            case 6:
              _context6.t1 = _context6.sent;
              if (_context6.t1) {
                _context6.next = 9;
                break;
              }
              _context6.t1 = [];
            case 9:
              _context6.t2 = _context6.t1;
              nativeClientRects = _context6.t0.from.call(_context6.t0, _context6.t2);
              clientRects = getRectsByLine(nativeClientRects);
              fallback = rectToClientRect(getBoundingRect(nativeClientRects));
              paddingObject = getPaddingObject(padding);
              _context6.next = 16;
              return platform.getElementRects({
                reference: {
                  getBoundingClientRect
                },
                floating: elements.floating,
                strategy
              });
            case 16:
              resetRects = _context6.sent;
              if (!(rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height)) {
                _context6.next = 19;
                break;
              }
              return _context6.abrupt("return", {
                reset: {
                  rects: resetRects
                }
              });
            case 19:
              return _context6.abrupt("return", {});
            case 20:
            case "end":
              return _context6.stop();
          }
        }, _callee6);
      }))();
    }
  };
};

// For type backwards-compatibility, the `OffsetOptions` type was also
// Derivable.
function convertValueToCoords(_x6, _x7) {
  return _convertValueToCoords.apply(this, arguments);
}
/**
 * Modifies the placement by translating the floating element along the
 * specified axes.
 * A number (shorthand for `mainAxis` or distance), or an axes configuration
 * object may be passed.
 * @see https://floating-ui.com/docs/offset
 */
function _convertValueToCoords() {
  _convertValueToCoords = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee11(state, options) {
    var placement, platform, elements, rtl, side, alignment, isVertical, mainAxisMulti, crossAxisMulti, rawValue, _ref4, mainAxis, crossAxis, alignmentAxis;
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee11$(_context11) {
      while (1) switch (_context11.prev = _context11.next) {
        case 0:
          placement = state.placement, platform = state.platform, elements = state.elements;
          _context11.next = 3;
          return platform.isRTL == null ? void 0 : platform.isRTL(elements.floating);
        case 3:
          rtl = _context11.sent;
          side = floating_ui_utils_getSide(placement);
          alignment = floating_ui_utils_getAlignment(placement);
          isVertical = floating_ui_utils_getSideAxis(placement) === 'y';
          mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;
          crossAxisMulti = rtl && isVertical ? -1 : 1;
          rawValue = floating_ui_utils_evaluate(options, state); // eslint-disable-next-line prefer-const
          _ref4 = typeof rawValue === 'number' ? {
            mainAxis: rawValue,
            crossAxis: 0,
            alignmentAxis: null
          } : (0,objectSpread2/* default */.Z)({
            mainAxis: 0,
            crossAxis: 0,
            alignmentAxis: null
          }, rawValue), mainAxis = _ref4.mainAxis, crossAxis = _ref4.crossAxis, alignmentAxis = _ref4.alignmentAxis;
          if (alignment && typeof alignmentAxis === 'number') {
            crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;
          }
          return _context11.abrupt("return", isVertical ? {
            x: crossAxis * crossAxisMulti,
            y: mainAxis * mainAxisMulti
          } : {
            x: mainAxis * mainAxisMulti,
            y: crossAxis * crossAxisMulti
          });
        case 13:
        case "end":
          return _context11.stop();
      }
    }, _callee11);
  }));
  return _convertValueToCoords.apply(this, arguments);
}
var offset = function offset(options) {
  if (options === void 0) {
    options = 0;
  }
  return {
    name: 'offset',
    options,
    fn(state) {
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee7() {
        var _middlewareData$offse, _middlewareData$arrow, x, y, placement, middlewareData, diffCoords;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee7$(_context7) {
          while (1) switch (_context7.prev = _context7.next) {
            case 0:
              x = state.x, y = state.y, placement = state.placement, middlewareData = state.middlewareData;
              _context7.next = 3;
              return convertValueToCoords(state, options);
            case 3:
              diffCoords = _context7.sent;
              if (!(placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset)) {
                _context7.next = 6;
                break;
              }
              return _context7.abrupt("return", {});
            case 6:
              return _context7.abrupt("return", {
                x: x + diffCoords.x,
                y: y + diffCoords.y,
                data: (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, diffCoords), {}, {
                  placement
                })
              });
            case 7:
            case "end":
              return _context7.stop();
          }
        }, _callee7);
      }))();
    }
  };
};

/**
 * Optimizes the visibility of the floating element by shifting it in order to
 * keep it in view when it will overflow the clipping boundary.
 * @see https://floating-ui.com/docs/shift
 */
var shift = function shift(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'shift',
    options,
    fn(state) {
      return asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee8() {
        var x, y, placement, _evaluate5, _evaluate5$mainAxis, checkMainAxis, _evaluate5$crossAxis, checkCrossAxis, _evaluate5$limiter, limiter, detectOverflowOptions, coords, overflow, crossAxis, mainAxis, mainAxisCoord, crossAxisCoord, minSide, maxSide, _min, _max, _minSide, _maxSide, _min2, _max2, limitedCoords;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee8$(_context8) {
          while (1) switch (_context8.prev = _context8.next) {
            case 0:
              x = state.x, y = state.y, placement = state.placement;
              _evaluate5 = floating_ui_utils_evaluate(options, state), _evaluate5$mainAxis = _evaluate5.mainAxis, checkMainAxis = _evaluate5$mainAxis === void 0 ? true : _evaluate5$mainAxis, _evaluate5$crossAxis = _evaluate5.crossAxis, checkCrossAxis = _evaluate5$crossAxis === void 0 ? false : _evaluate5$crossAxis, _evaluate5$limiter = _evaluate5.limiter, limiter = _evaluate5$limiter === void 0 ? {
                fn: function fn(_ref) {
                  var x = _ref.x,
                    y = _ref.y;
                  return {
                    x,
                    y
                  };
                }
              } : _evaluate5$limiter, detectOverflowOptions = objectWithoutProperties_objectWithoutProperties(_evaluate5, floating_ui_core_excluded4);
              coords = {
                x,
                y
              };
              _context8.next = 5;
              return detectOverflow(state, detectOverflowOptions);
            case 5:
              overflow = _context8.sent;
              crossAxis = floating_ui_utils_getSideAxis(floating_ui_utils_getSide(placement));
              mainAxis = floating_ui_utils_getOppositeAxis(crossAxis);
              mainAxisCoord = coords[mainAxis];
              crossAxisCoord = coords[crossAxis];
              if (checkMainAxis) {
                minSide = mainAxis === 'y' ? 'top' : 'left';
                maxSide = mainAxis === 'y' ? 'bottom' : 'right';
                _min = mainAxisCoord + overflow[minSide];
                _max = mainAxisCoord - overflow[maxSide];
                mainAxisCoord = floating_ui_utils_clamp(_min, mainAxisCoord, _max);
              }
              if (checkCrossAxis) {
                _minSide = crossAxis === 'y' ? 'top' : 'left';
                _maxSide = crossAxis === 'y' ? 'bottom' : 'right';
                _min2 = crossAxisCoord + overflow[_minSide];
                _max2 = crossAxisCoord - overflow[_maxSide];
                crossAxisCoord = floating_ui_utils_clamp(_min2, crossAxisCoord, _max2);
              }
              limitedCoords = limiter.fn((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, state), {}, {
                [mainAxis]: mainAxisCoord,
                [crossAxis]: crossAxisCoord
              }));
              return _context8.abrupt("return", (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, limitedCoords), {}, {
                data: {
                  x: limitedCoords.x - x,
                  y: limitedCoords.y - y
                }
              }));
            case 14:
            case "end":
              return _context8.stop();
          }
        }, _callee8);
      }))();
    }
  };
};
/**
 * Built-in `limiter` that will stop `shift()` at a certain point.
 */
var limitShift = function limitShift(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    options,
    fn(state) {
      var x = state.x,
        y = state.y,
        placement = state.placement,
        rects = state.rects,
        middlewareData = state.middlewareData;
      var _evaluate6 = evaluate(options, state),
        _evaluate6$offset = _evaluate6.offset,
        offset = _evaluate6$offset === void 0 ? 0 : _evaluate6$offset,
        _evaluate6$mainAxis = _evaluate6.mainAxis,
        checkMainAxis = _evaluate6$mainAxis === void 0 ? true : _evaluate6$mainAxis,
        _evaluate6$crossAxis = _evaluate6.crossAxis,
        checkCrossAxis = _evaluate6$crossAxis === void 0 ? true : _evaluate6$crossAxis;
      var coords = {
        x,
        y
      };
      var crossAxis = getSideAxis(placement);
      var mainAxis = getOppositeAxis(crossAxis);
      var mainAxisCoord = coords[mainAxis];
      var crossAxisCoord = coords[crossAxis];
      var rawOffset = evaluate(offset, state);
      var computedOffset = typeof rawOffset === 'number' ? {
        mainAxis: rawOffset,
        crossAxis: 0
      } : _objectSpread({
        mainAxis: 0,
        crossAxis: 0
      }, rawOffset);
      if (checkMainAxis) {
        var len = mainAxis === 'y' ? 'height' : 'width';
        var limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;
        var limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;
        if (mainAxisCoord < limitMin) {
          mainAxisCoord = limitMin;
        } else if (mainAxisCoord > limitMax) {
          mainAxisCoord = limitMax;
        }
      }
      if (checkCrossAxis) {
        var _middlewareData$offse, _middlewareData$offse2;
        var _len = mainAxis === 'y' ? 'width' : 'height';
        var isOriginSide = ['top', 'left'].includes(getSide(placement));
        var _limitMin = rects.reference[crossAxis] - rects.floating[_len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);
        var _limitMax = rects.reference[crossAxis] + rects.reference[_len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);
        if (crossAxisCoord < _limitMin) {
          crossAxisCoord = _limitMin;
        } else if (crossAxisCoord > _limitMax) {
          crossAxisCoord = _limitMax;
        }
      }
      return {
        [mainAxis]: mainAxisCoord,
        [crossAxis]: crossAxisCoord
      };
    }
  };
};

/**
 * Provides data that allows you to change the size of the floating element 
 * for instance, prevent it from overflowing the clipping boundary or match the
 * width of the reference element.
 * @see https://floating-ui.com/docs/size
 */
var size = function size(options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'size',
    options,
    fn(state) {
      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {
        var placement, rects, platform, elements, _evaluate7, _evaluate7$apply, apply, detectOverflowOptions, overflow, side, alignment, isYAxis, _rects$floating, width, height, heightSide, widthSide, overflowAvailableHeight, overflowAvailableWidth, noShift, availableHeight, availableWidth, maximumClippingWidth, maximumClippingHeight, xMin, xMax, yMin, yMax, nextDimensions;
        return _regeneratorRuntime().wrap(function _callee9$(_context9) {
          while (1) switch (_context9.prev = _context9.next) {
            case 0:
              placement = state.placement, rects = state.rects, platform = state.platform, elements = state.elements;
              _evaluate7 = evaluate(options, state), _evaluate7$apply = _evaluate7.apply, apply = _evaluate7$apply === void 0 ? function () {} : _evaluate7$apply, detectOverflowOptions = _objectWithoutProperties(_evaluate7, floating_ui_core_excluded5);
              _context9.next = 4;
              return detectOverflow(state, detectOverflowOptions);
            case 4:
              overflow = _context9.sent;
              side = getSide(placement);
              alignment = getAlignment(placement);
              isYAxis = getSideAxis(placement) === 'y';
              _rects$floating = rects.floating, width = _rects$floating.width, height = _rects$floating.height;
              if (!(side === 'top' || side === 'bottom')) {
                _context9.next = 28;
                break;
              }
              heightSide = side;
              _context9.t0 = alignment;
              _context9.next = 14;
              return platform.isRTL == null ? void 0 : platform.isRTL(elements.floating);
            case 14:
              if (!_context9.sent) {
                _context9.next = 18;
                break;
              }
              _context9.t1 = 'start';
              _context9.next = 19;
              break;
            case 18:
              _context9.t1 = 'end';
            case 19:
              _context9.t2 = _context9.t1;
              if (!(_context9.t0 === _context9.t2)) {
                _context9.next = 24;
                break;
              }
              _context9.t3 = 'left';
              _context9.next = 25;
              break;
            case 24:
              _context9.t3 = 'right';
            case 25:
              widthSide = _context9.t3;
              _context9.next = 30;
              break;
            case 28:
              widthSide = side;
              heightSide = alignment === 'end' ? 'top' : 'bottom';
            case 30:
              overflowAvailableHeight = height - overflow[heightSide];
              overflowAvailableWidth = width - overflow[widthSide];
              noShift = !state.middlewareData.shift;
              availableHeight = overflowAvailableHeight;
              availableWidth = overflowAvailableWidth;
              if (isYAxis) {
                maximumClippingWidth = width - overflow.left - overflow.right;
                availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;
              } else {
                maximumClippingHeight = height - overflow.top - overflow.bottom;
                availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;
              }
              if (noShift && !alignment) {
                xMin = max(overflow.left, 0);
                xMax = max(overflow.right, 0);
                yMin = max(overflow.top, 0);
                yMax = max(overflow.bottom, 0);
                if (isYAxis) {
                  availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));
                } else {
                  availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));
                }
              }
              _context9.next = 39;
              return apply(_objectSpread(_objectSpread({}, state), {}, {
                availableWidth,
                availableHeight
              }));
            case 39:
              _context9.next = 41;
              return platform.getDimensions(elements.floating);
            case 41:
              nextDimensions = _context9.sent;
              if (!(width !== nextDimensions.width || height !== nextDimensions.height)) {
                _context9.next = 44;
                break;
              }
              return _context9.abrupt("return", {
                reset: {
                  rects: true
                }
              });
            case 44:
              return _context9.abrupt("return", {});
            case 45:
            case "end":
              return _context9.stop();
          }
        }, _callee9);
      }))();
    }
  };
};

;// CONCATENATED MODULE: ./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs







function getNodeName(node) {
  if (isNode(node)) {
    return (node.nodeName || '').toLowerCase();
  }
  // Mocked nodes in testing environments may not be instances of Node. By
  // returning `#document` an infinite loop won't occur.
  // https://github.com/floating-ui/floating-ui/issues/2317
  return '#document';
}
function getWindow(node) {
  var _node$ownerDocument;
  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;
}
function floating_ui_utils_dom_getDocumentElement(node) {
  var _ref;
  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;
}
function isNode(value) {
  return value instanceof Node || value instanceof getWindow(value).Node;
}
function isElement(value) {
  return value instanceof Element || value instanceof getWindow(value).Element;
}
function isHTMLElement(value) {
  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;
}
function isShadowRoot(value) {
  // Browsers without `ShadowRoot` support.
  if (typeof ShadowRoot === 'undefined') {
    return false;
  }
  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;
}
function isOverflowElement(element) {
  var _getComputedStyle = floating_ui_utils_dom_getComputedStyle(element),
    overflow = _getComputedStyle.overflow,
    overflowX = _getComputedStyle.overflowX,
    overflowY = _getComputedStyle.overflowY,
    display = _getComputedStyle.display;
  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);
}
function isTableElement(element) {
  return ['table', 'td', 'th'].includes(getNodeName(element));
}
function isContainingBlock(element) {
  var webkit = isWebKit();
  var css = floating_ui_utils_dom_getComputedStyle(element);

  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block
  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(function (value) {
    return (css.willChange || '').includes(value);
  }) || ['paint', 'layout', 'strict', 'content'].some(function (value) {
    return (css.contain || '').includes(value);
  });
}
function getContainingBlock(element) {
  var currentNode = getParentNode(element);
  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {
    if (isContainingBlock(currentNode)) {
      return currentNode;
    } else {
      currentNode = getParentNode(currentNode);
    }
  }
  return null;
}
function isWebKit() {
  if (typeof CSS === 'undefined' || !CSS.supports) return false;
  return CSS.supports('-webkit-backdrop-filter', 'none');
}
function isLastTraversableNode(node) {
  return ['html', 'body', '#document'].includes(getNodeName(node));
}
function floating_ui_utils_dom_getComputedStyle(element) {
  return getWindow(element).getComputedStyle(element);
}
function getNodeScroll(element) {
  if (isElement(element)) {
    return {
      scrollLeft: element.scrollLeft,
      scrollTop: element.scrollTop
    };
  }
  return {
    scrollLeft: element.pageXOffset,
    scrollTop: element.pageYOffset
  };
}
function getParentNode(node) {
  if (getNodeName(node) === 'html') {
    return node;
  }
  var result =
  // Step into the shadow DOM of the parent of a slotted node.
  node.assignedSlot ||
  // DOM Element detected.
  node.parentNode ||
  // ShadowRoot detected.
  isShadowRoot(node) && node.host ||
  // Fallback.
  floating_ui_utils_dom_getDocumentElement(node);
  return isShadowRoot(result) ? result.host : result;
}
function getNearestOverflowAncestor(node) {
  var parentNode = getParentNode(node);
  if (isLastTraversableNode(parentNode)) {
    return node.ownerDocument ? node.ownerDocument.body : node.body;
  }
  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
    return parentNode;
  }
  return getNearestOverflowAncestor(parentNode);
}
function floating_ui_utils_dom_getOverflowAncestors(node, list, traverseIframes) {
  var _node$ownerDocument2;
  if (list === void 0) {
    list = [];
  }
  if (traverseIframes === void 0) {
    traverseIframes = true;
  }
  var scrollableAncestor = getNearestOverflowAncestor(node);
  var isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);
  var win = getWindow(scrollableAncestor);
  if (isBody) {
    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? floating_ui_utils_dom_getOverflowAncestors(win.frameElement) : []);
  }
  return list.concat(scrollableAncestor, floating_ui_utils_dom_getOverflowAncestors(scrollableAncestor, [], traverseIframes));
}

;// CONCATENATED MODULE: ./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs


















function getCssDimensions(element) {
  var css = floating_ui_utils_dom_getComputedStyle(element);
  // In testing environments, the `width` and `height` properties are empty
  // strings for SVG elements, returning NaN. Fallback to `0` in this case.
  var width = parseFloat(css.width) || 0;
  var height = parseFloat(css.height) || 0;
  var hasOffset = isHTMLElement(element);
  var offsetWidth = hasOffset ? element.offsetWidth : width;
  var offsetHeight = hasOffset ? element.offsetHeight : height;
  var shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;
  if (shouldFallback) {
    width = offsetWidth;
    height = offsetHeight;
  }
  return {
    width,
    height,
    $: shouldFallback
  };
}
function unwrapElement(element) {
  return !isElement(element) ? element.contextElement : element;
}
function getScale(element) {
  var domElement = unwrapElement(element);
  if (!isHTMLElement(domElement)) {
    return createCoords(1);
  }
  var rect = domElement.getBoundingClientRect();
  var _getCssDimensions = getCssDimensions(domElement),
    width = _getCssDimensions.width,
    height = _getCssDimensions.height,
    $ = _getCssDimensions.$;
  var x = ($ ? round(rect.width) : rect.width) / width;
  var y = ($ ? round(rect.height) : rect.height) / height;

  // 0, NaN, or Infinity should always fallback to 1.

  if (!x || !Number.isFinite(x)) {
    x = 1;
  }
  if (!y || !Number.isFinite(y)) {
    y = 1;
  }
  return {
    x,
    y
  };
}
var noOffsets = /*#__PURE__*/createCoords(0);
function getVisualOffsets(element) {
  var win = getWindow(element);
  if (!isWebKit() || !win.visualViewport) {
    return noOffsets;
  }
  return {
    x: win.visualViewport.offsetLeft,
    y: win.visualViewport.offsetTop
  };
}
function shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {
  if (isFixed === void 0) {
    isFixed = false;
  }
  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {
    return false;
  }
  return isFixed;
}
function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {
  if (includeScale === void 0) {
    includeScale = false;
  }
  if (isFixedStrategy === void 0) {
    isFixedStrategy = false;
  }
  var clientRect = element.getBoundingClientRect();
  var domElement = unwrapElement(element);
  var scale = createCoords(1);
  if (includeScale) {
    if (offsetParent) {
      if (isElement(offsetParent)) {
        scale = getScale(offsetParent);
      }
    } else {
      scale = getScale(element);
    }
  }
  var visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);
  var x = (clientRect.left + visualOffsets.x) / scale.x;
  var y = (clientRect.top + visualOffsets.y) / scale.y;
  var width = clientRect.width / scale.x;
  var height = clientRect.height / scale.y;
  if (domElement) {
    var win = getWindow(domElement);
    var offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;
    var currentIFrame = win.frameElement;
    while (currentIFrame && offsetParent && offsetWin !== win) {
      var iframeScale = getScale(currentIFrame);
      var iframeRect = currentIFrame.getBoundingClientRect();
      var css = floating_ui_utils_dom_getComputedStyle(currentIFrame);
      var left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;
      var top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;
      x *= iframeScale.x;
      y *= iframeScale.y;
      width *= iframeScale.x;
      height *= iframeScale.y;
      x += left;
      y += top;
      currentIFrame = getWindow(currentIFrame).frameElement;
    }
  }
  return floating_ui_utils_rectToClientRect({
    width,
    height,
    x,
    y
  });
}
function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
  var rect = _ref.rect,
    offsetParent = _ref.offsetParent,
    strategy = _ref.strategy;
  var isOffsetParentAnElement = isHTMLElement(offsetParent);
  var documentElement = floating_ui_utils_dom_getDocumentElement(offsetParent);
  if (offsetParent === documentElement) {
    return rect;
  }
  var scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  var scale = createCoords(1);
  var offsets = createCoords(0);
  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {
    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isHTMLElement(offsetParent)) {
      var offsetRect = getBoundingClientRect(offsetParent);
      scale = getScale(offsetParent);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    }
  }
  return {
    width: rect.width * scale.x,
    height: rect.height * scale.y,
    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,
    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y
  };
}
function getClientRects(element) {
  return Array.from(element.getClientRects());
}
function getWindowScrollBarX(element) {
  // If <html> has a CSS width greater than the viewport, then this will be
  // incorrect for RTL.
  return getBoundingClientRect(floating_ui_utils_dom_getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
}

// Gets the entire size of the scrollable document area, even extending outside
// of the `<html>` and `<body>` rect bounds if horizontally scrollable.
function getDocumentRect(element) {
  var html = floating_ui_utils_dom_getDocumentElement(element);
  var scroll = getNodeScroll(element);
  var body = element.ownerDocument.body;
  var width = floating_ui_utils_max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);
  var height = floating_ui_utils_max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);
  var x = -scroll.scrollLeft + getWindowScrollBarX(element);
  var y = -scroll.scrollTop;
  if (floating_ui_utils_dom_getComputedStyle(body).direction === 'rtl') {
    x += floating_ui_utils_max(html.clientWidth, body.clientWidth) - width;
  }
  return {
    width,
    height,
    x,
    y
  };
}
function getViewportRect(element, strategy) {
  var win = getWindow(element);
  var html = floating_ui_utils_dom_getDocumentElement(element);
  var visualViewport = win.visualViewport;
  var width = html.clientWidth;
  var height = html.clientHeight;
  var x = 0;
  var y = 0;
  if (visualViewport) {
    width = visualViewport.width;
    height = visualViewport.height;
    var visualViewportBased = isWebKit();
    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {
      x = visualViewport.offsetLeft;
      y = visualViewport.offsetTop;
    }
  }
  return {
    width,
    height,
    x,
    y
  };
}

// Returns the inner client rect, subtracting scrollbars if present.
function getInnerBoundingClientRect(element, strategy) {
  var clientRect = getBoundingClientRect(element, true, strategy === 'fixed');
  var top = clientRect.top + element.clientTop;
  var left = clientRect.left + element.clientLeft;
  var scale = isHTMLElement(element) ? getScale(element) : createCoords(1);
  var width = element.clientWidth * scale.x;
  var height = element.clientHeight * scale.y;
  var x = left * scale.x;
  var y = top * scale.y;
  return {
    width,
    height,
    x,
    y
  };
}
function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {
  var rect;
  if (clippingAncestor === 'viewport') {
    rect = getViewportRect(element, strategy);
  } else if (clippingAncestor === 'document') {
    rect = getDocumentRect(floating_ui_utils_dom_getDocumentElement(element));
  } else if (isElement(clippingAncestor)) {
    rect = getInnerBoundingClientRect(clippingAncestor, strategy);
  } else {
    var visualOffsets = getVisualOffsets(element);
    rect = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, clippingAncestor), {}, {
      x: clippingAncestor.x - visualOffsets.x,
      y: clippingAncestor.y - visualOffsets.y
    });
  }
  return floating_ui_utils_rectToClientRect(rect);
}
function hasFixedPositionAncestor(element, stopNode) {
  var parentNode = getParentNode(element);
  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {
    return false;
  }
  return floating_ui_utils_dom_getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);
}

// A "clipping ancestor" is an `overflow` element with the characteristic of
// clipping (or hiding) child elements. This returns all clipping ancestors
// of the given element up the tree.
function getClippingElementAncestors(element, cache) {
  var cachedResult = cache.get(element);
  if (cachedResult) {
    return cachedResult;
  }
  var result = floating_ui_utils_dom_getOverflowAncestors(element, [], false).filter(function (el) {
    return isElement(el) && getNodeName(el) !== 'body';
  });
  var currentContainingBlockComputedStyle = null;
  var elementIsFixed = floating_ui_utils_dom_getComputedStyle(element).position === 'fixed';
  var currentNode = elementIsFixed ? getParentNode(element) : element;

  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block
  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {
    var computedStyle = floating_ui_utils_dom_getComputedStyle(currentNode);
    var currentNodeIsContaining = isContainingBlock(currentNode);
    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {
      currentContainingBlockComputedStyle = null;
    }
    var shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);
    if (shouldDropCurrentNode) {
      // Drop non-containing blocks.
      result = result.filter(function (ancestor) {
        return ancestor !== currentNode;
      });
    } else {
      // Record last containing block for next iteration.
      currentContainingBlockComputedStyle = computedStyle;
    }
    currentNode = getParentNode(currentNode);
  }
  cache.set(element, result);
  return result;
}

// Gets the maximum area that the element is visible in due to any number of
// clipping ancestors.
function getClippingRect(_ref) {
  var element = _ref.element,
    boundary = _ref.boundary,
    rootBoundary = _ref.rootBoundary,
    strategy = _ref.strategy;
  var elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);
  var clippingAncestors = [].concat((0,toConsumableArray/* default */.Z)(elementClippingAncestors), [rootBoundary]);
  var firstClippingAncestor = clippingAncestors[0];
  var clippingRect = clippingAncestors.reduce(function (accRect, clippingAncestor) {
    var rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
    accRect.top = floating_ui_utils_max(rect.top, accRect.top);
    accRect.right = floating_ui_utils_min(rect.right, accRect.right);
    accRect.bottom = floating_ui_utils_min(rect.bottom, accRect.bottom);
    accRect.left = floating_ui_utils_max(rect.left, accRect.left);
    return accRect;
  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
  return {
    width: clippingRect.right - clippingRect.left,
    height: clippingRect.bottom - clippingRect.top,
    x: clippingRect.left,
    y: clippingRect.top
  };
}
function getDimensions(element) {
  var _getCssDimensions2 = getCssDimensions(element),
    width = _getCssDimensions2.width,
    height = _getCssDimensions2.height;
  return {
    width,
    height
  };
}
function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
  var isOffsetParentAnElement = isHTMLElement(offsetParent);
  var documentElement = floating_ui_utils_dom_getDocumentElement(offsetParent);
  var isFixed = strategy === 'fixed';
  var rect = getBoundingClientRect(element, true, isFixed, offsetParent);
  var scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  var offsets = createCoords(0);
  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isOffsetParentAnElement) {
      var offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    } else if (documentElement) {
      offsets.x = getWindowScrollBarX(documentElement);
    }
  }
  return {
    x: rect.left + scroll.scrollLeft - offsets.x,
    y: rect.top + scroll.scrollTop - offsets.y,
    width: rect.width,
    height: rect.height
  };
}
function getTrueOffsetParent(element, polyfill) {
  if (!isHTMLElement(element) || floating_ui_utils_dom_getComputedStyle(element).position === 'fixed') {
    return null;
  }
  if (polyfill) {
    return polyfill(element);
  }
  return element.offsetParent;
}

// Gets the closest ancestor positioned element. Handles some edge cases,
// such as table ancestors and cross browser bugs.
function getOffsetParent(element, polyfill) {
  var window = getWindow(element);
  if (!isHTMLElement(element)) {
    return window;
  }
  var offsetParent = getTrueOffsetParent(element, polyfill);
  while (offsetParent && isTableElement(offsetParent) && floating_ui_utils_dom_getComputedStyle(offsetParent).position === 'static') {
    offsetParent = getTrueOffsetParent(offsetParent, polyfill);
  }
  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && floating_ui_utils_dom_getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {
    return window;
  }
  return offsetParent || getContainingBlock(element) || window;
}
var getElementRects = /*#__PURE__*/function () {
  var _ref2 = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee(_ref) {
    var reference, floating, strategy, getOffsetParentFn, getDimensionsFn;
    return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          reference = _ref.reference, floating = _ref.floating, strategy = _ref.strategy;
          getOffsetParentFn = this.getOffsetParent || getOffsetParent;
          getDimensionsFn = this.getDimensions;
          _context.t0 = getRectRelativeToOffsetParent;
          _context.t1 = reference;
          _context.next = 7;
          return getOffsetParentFn(floating);
        case 7:
          _context.t2 = _context.sent;
          _context.t3 = strategy;
          _context.t4 = (0, _context.t0)(_context.t1, _context.t2, _context.t3);
          _context.t5 = objectSpread2/* default */.Z;
          _context.t6 = {
            x: 0,
            y: 0
          };
          _context.next = 14;
          return getDimensionsFn(floating);
        case 14:
          _context.t7 = _context.sent;
          _context.t8 = (0, _context.t5)(_context.t6, _context.t7);
          return _context.abrupt("return", {
            reference: _context.t4,
            floating: _context.t8
          });
        case 17:
        case "end":
          return _context.stop();
      }
    }, _callee, this);
  }));
  return function getElementRects(_x) {
    return _ref2.apply(this, arguments);
  };
}();
function isRTL(element) {
  return floating_ui_utils_dom_getComputedStyle(element).direction === 'rtl';
}
var platform = {
  convertOffsetParentRelativeRectToViewportRelativeRect,
  getDocumentElement: floating_ui_utils_dom_getDocumentElement,
  getClippingRect,
  getOffsetParent,
  getElementRects,
  getClientRects,
  getDimensions,
  getScale,
  isElement: isElement,
  isRTL
};

// https://samthor.au/2021/observing-dom/
function observeMove(element, onMove) {
  var io = null;
  var timeoutId;
  var root = getDocumentElement(element);
  function cleanup() {
    clearTimeout(timeoutId);
    io && io.disconnect();
    io = null;
  }
  function refresh(skip, threshold) {
    if (skip === void 0) {
      skip = false;
    }
    if (threshold === void 0) {
      threshold = 1;
    }
    cleanup();
    var _element$getBoundingC = element.getBoundingClientRect(),
      left = _element$getBoundingC.left,
      top = _element$getBoundingC.top,
      width = _element$getBoundingC.width,
      height = _element$getBoundingC.height;
    if (!skip) {
      onMove();
    }
    if (!width || !height) {
      return;
    }
    var insetTop = floor(top);
    var insetRight = floor(root.clientWidth - (left + width));
    var insetBottom = floor(root.clientHeight - (top + height));
    var insetLeft = floor(left);
    var rootMargin = -insetTop + "px " + -insetRight + "px " + -insetBottom + "px " + -insetLeft + "px";
    var options = {
      rootMargin,
      threshold: max(0, min(1, threshold)) || 1
    };
    var isFirstUpdate = true;
    function handleObserve(entries) {
      var ratio = entries[0].intersectionRatio;
      if (ratio !== threshold) {
        if (!isFirstUpdate) {
          return refresh();
        }
        if (!ratio) {
          timeoutId = setTimeout(function () {
            refresh(false, 1e-7);
          }, 100);
        } else {
          refresh(false, ratio);
        }
      }
      isFirstUpdate = false;
    }

    // Older browsers don't support a `document` as the root and will throw an
    // error.
    try {
      io = new IntersectionObserver(handleObserve, _objectSpread(_objectSpread({}, options), {}, {
        // Handle <iframe>s
        root: root.ownerDocument
      }));
    } catch (e) {
      io = new IntersectionObserver(handleObserve, options);
    }
    io.observe(element);
  }
  refresh(true);
  return cleanup;
}

/**
 * Automatically updates the position of the floating element when necessary.
 * Should only be called when the floating element is mounted on the DOM or
 * visible on the screen.
 * @returns cleanup function that should be invoked when the floating element is
 * removed from the DOM or hidden from the screen.
 * @see https://floating-ui.com/docs/autoUpdate
 */
function autoUpdate(reference, floating, update, options) {
  if (options === void 0) {
    options = {};
  }
  var _options = options,
    _options$ancestorScro = _options.ancestorScroll,
    ancestorScroll = _options$ancestorScro === void 0 ? true : _options$ancestorScro,
    _options$ancestorResi = _options.ancestorResize,
    ancestorResize = _options$ancestorResi === void 0 ? true : _options$ancestorResi,
    _options$elementResiz = _options.elementResize,
    elementResize = _options$elementResiz === void 0 ? typeof ResizeObserver === 'function' : _options$elementResiz,
    _options$layoutShift = _options.layoutShift,
    layoutShift = _options$layoutShift === void 0 ? typeof IntersectionObserver === 'function' : _options$layoutShift,
    _options$animationFra = _options.animationFrame,
    animationFrame = _options$animationFra === void 0 ? false : _options$animationFra;
  var referenceEl = unwrapElement(reference);
  var ancestors = ancestorScroll || ancestorResize ? [].concat(_toConsumableArray(referenceEl ? getOverflowAncestors(referenceEl) : []), _toConsumableArray(getOverflowAncestors(floating))) : [];
  ancestors.forEach(function (ancestor) {
    ancestorScroll && ancestor.addEventListener('scroll', update, {
      passive: true
    });
    ancestorResize && ancestor.addEventListener('resize', update);
  });
  var cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;
  var reobserveFrame = -1;
  var resizeObserver = null;
  if (elementResize) {
    resizeObserver = new ResizeObserver(function (_ref) {
      var _ref3 = _slicedToArray(_ref, 1),
        firstEntry = _ref3[0];
      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {
        // Prevent update loops when using the `size` middleware.
        // https://github.com/floating-ui/floating-ui/issues/1740
        resizeObserver.unobserve(floating);
        cancelAnimationFrame(reobserveFrame);
        reobserveFrame = requestAnimationFrame(function () {
          resizeObserver && resizeObserver.observe(floating);
        });
      }
      update();
    });
    if (referenceEl && !animationFrame) {
      resizeObserver.observe(referenceEl);
    }
    resizeObserver.observe(floating);
  }
  var frameId;
  var prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;
  if (animationFrame) {
    frameLoop();
  }
  function frameLoop() {
    var nextRefRect = getBoundingClientRect(reference);
    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {
      update();
    }
    prevRefRect = nextRefRect;
    frameId = requestAnimationFrame(frameLoop);
  }
  update();
  return function () {
    ancestors.forEach(function (ancestor) {
      ancestorScroll && ancestor.removeEventListener('scroll', update);
      ancestorResize && ancestor.removeEventListener('resize', update);
    });
    cleanupIo && cleanupIo();
    resizeObserver && resizeObserver.disconnect();
    resizeObserver = null;
    if (animationFrame) {
      cancelAnimationFrame(frameId);
    }
  };
}

/**
 * Optimizes the visibility of the floating element by choosing the placement
 * that has the most space available automatically, without needing to specify a
 * preferred placement. Alternative to `flip`.
 * @see https://floating-ui.com/docs/autoPlacement
 */
var floating_ui_dom_autoPlacement = (/* unused pure expression or super */ null && (autoPlacement$1));

/**
 * Optimizes the visibility of the floating element by shifting it in order to
 * keep it in view when it will overflow the clipping boundary.
 * @see https://floating-ui.com/docs/shift
 */
var floating_ui_dom_shift = shift;

/**
 * Optimizes the visibility of the floating element by flipping the `placement`
 * in order to keep it in view when the preferred placement(s) will overflow the
 * clipping boundary. Alternative to `autoPlacement`.
 * @see https://floating-ui.com/docs/flip
 */
var floating_ui_dom_flip = flip;

/**
 * Provides data that allows you to change the size of the floating element 
 * for instance, prevent it from overflowing the clipping boundary or match the
 * width of the reference element.
 * @see https://floating-ui.com/docs/size
 */
var floating_ui_dom_size = (/* unused pure expression or super */ null && (size$1));

/**
 * Provides data to hide the floating element in applicable situations, such as
 * when it is not in the same clipping context as the reference element.
 * @see https://floating-ui.com/docs/hide
 */
var floating_ui_dom_hide = (/* unused pure expression or super */ null && (hide$1));

/**
 * Provides data to position an inner element of the floating element so that it
 * appears centered to the reference element.
 * @see https://floating-ui.com/docs/arrow
 */
var floating_ui_dom_arrow = (/* unused pure expression or super */ null && (arrow$1));

/**
 * Provides improved positioning for inline reference elements that can span
 * over multiple lines, such as hyperlinks or range selections.
 * @see https://floating-ui.com/docs/inline
 */
var floating_ui_dom_inline = (/* unused pure expression or super */ null && (inline$1));

/**
 * Built-in `limiter` that will stop `shift()` at a certain point.
 */
var floating_ui_dom_limitShift = (/* unused pure expression or super */ null && (limitShift$1));

/**
 * Computes the `x` and `y` coordinates that will place the floating element
 * next to a given reference element.
 */
var computePosition = function computePosition(reference, floating, options) {
  // This caches the expensive `getClippingElementAncestors` function so that
  // multiple lifecycle resets re-use the same result. It only lives for a
  // single call. If other functions become expensive, we can add them as well.
  var cache = new Map();
  var mergedOptions = (0,objectSpread2/* default */.Z)({
    platform
  }, options);
  var platformWithCache = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mergedOptions.platform), {}, {
    _c: cache
  });
  return floating_ui_core_computePosition(reference, floating, (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, mergedOptions), {}, {
    platform: platformWithCache
  }));
};

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/contextmenu/components/ContextMenuItem.vue?vue&type=template&id=24fe7ba9&scoped=true

function ContextMenuItemvue_type_template_id_24fe7ba9_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _$props$item$items;
  var _component_base_button = (0,runtime_core_esm_bundler/* resolveComponent */.up)("base-button");
  var _component_context_menu_item = (0,runtime_core_esm_bundler/* resolveComponent */.up)("context-menu-item", true);
  var _directive_dompurify_html = (0,runtime_core_esm_bundler/* resolveDirective */.Q2)("dompurify-html");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("li", {
    class: (0,shared_esm_bundler/* normalizeClass */.C_)(['context-menu-item', {
      'has-handler': $props.item.handler,
      'has-subitems': (_$props$item$items = $props.item.items) === null || _$props$item$items === void 0 ? void 0 : _$props$item$items.length
    }]),
    onMouseover: _cache[0] || (_cache[0] = function () {
      return $options.onMouseover && $options.onMouseover.apply($options, arguments);
    }),
    onMouseleave: _cache[1] || (_cache[1] = function () {
      return $options.onMouseleave && $options.onMouseleave.apply($options, arguments);
    }),
    onMousedown: _cache[2] || (_cache[2] = withModifiers(function () {}, ["prevent"]))
  }, [(0,runtime_core_esm_bundler/* withDirectives */.wy)((0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_base_button, {
    type: "button",
    onClick: $options.onClick
  }, null, 8, ["onClick"]), [[_directive_dompurify_html, $props.item.label]]), $data.hover ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("ul", {
    key: 0,
    ref: "submenu",
    style: (0,shared_esm_bundler/* normalizeStyle */.j5)($data.submenuStyle)
  }, [((0,runtime_core_esm_bundler/* openBlock */.wg)(true), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, null, (0,runtime_core_esm_bundler/* renderList */.Ko)($props.item.items, function (subitem, index) {
    return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_context_menu_item, {
      key: index,
      item: subitem,
      onClick: $options.onSubitemClick
    }, null, 8, ["item", "onClick"]);
  }), 128))], 4)) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true)], 34);
}
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/contextmenu/components/ContextMenuItem.vue?vue&type=script&lang=js


/* harmony default export */ var ContextMenuItemvue_type_script_lang_js = ({
  directives: {
    dompurifyHtml: vue_dompurify_html_p()
  },
  props: {
    item: {
      type: Object,
      required: true
    }
  },
  emits: ["click"],
  data() {
    return {
      hover: false,
      submenuStyle: null
    };
  },
  watch: {
    hover(value) {
      if (value) {
        this.$nextTick(function () {
          this.updateSubmenuPosition();
        });
      }
    }
  },
  methods: {
    updateSubmenuPosition() {
      var _this = this;
      computePosition(this.$el, this.$refs.submenu, {
        placement: "right-start",
        middleware: [offset(-20), floating_ui_dom_flip(), floating_ui_dom_shift()]
      }).then(function (_ref) {
        var x = _ref.x,
          y = _ref.y;
        _this.submenuStyle = {
          left: `${x}px`,
          top: `${y}px`
        };
      });
    },
    onMouseover() {
      var _this$item$items;
      if ((_this$item$items = this.item.items) !== null && _this$item$items !== void 0 && _this$item$items.length) {
        this.hover = true;
      }
    },
    onMouseleave() {
      var _this$item$items2;
      if ((_this$item$items2 = this.item.items) !== null && _this$item$items2 !== void 0 && _this$item$items2.length) {
        this.hover = false;
      }
    },
    onClick() {
      if (this.item.handler) {
        this.item.handler();
        this.$emit("click");
      }
    },
    onSubitemClick() {
      this.$emit("click");
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/components/ContextMenuItem.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/contextmenu/components/ContextMenuItem.vue?vue&type=style&index=0&id=24fe7ba9&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/components/ContextMenuItem.vue?vue&type=style&index=0&id=24fe7ba9&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/components/ContextMenuItem.vue




;


const ContextMenuItem_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ContextMenuItemvue_type_script_lang_js, [['render',ContextMenuItemvue_type_template_id_24fe7ba9_scoped_true_render],['__scopeId',"data-v-24fe7ba9"]])

/* harmony default export */ var ContextMenuItem = (ContextMenuItem_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/contextmenu/components/ContextMenu.vue?vue&type=script&lang=js



/* harmony default export */ var ContextMenuvue_type_script_lang_js = ({
  components: {
    ContextMenuItem: ContextMenuItem
  },
  props: {
    show: {
      type: Boolean,
      default: false
    },
    position: {
      type: Object,
      required: true
    }
  },
  emits: ["update:show"],
  setup() {
    var store = contextmenu_store();
    return {
      store
    };
  },
  data() {
    return {
      style: null
    };
  },
  computed: {
    items() {
      return this.store.items;
    }
  },
  watch: {
    show(value) {
      if (value) {
        this.$nextTick(function () {
          this.updatePosition();
          this.$el.focus();
        });
      } else {
        this.store.clear();
      }
    }
  },
  methods: {
    close() {
      this.$emit("update:show", false);
    },
    getBoundingClientRect() {
      return {
        width: 0,
        height: 0,
        x: this.position.x,
        y: this.position.y,
        top: this.position.y,
        left: this.position.x,
        right: this.position.x,
        bottom: this.position.y
      };
    },
    updatePosition() {
      var _this = this;
      computePosition(this, this.$el, {
        placement: "right-start",
        middleware: [floating_ui_dom_flip(), floating_ui_dom_shift()]
      }).then(function (_ref) {
        var x = _ref.x,
          y = _ref.y;
        _this.style = {
          left: `${x}px`,
          top: `${y}px`
        };
      });
    },
    onItemClick() {
      this.close();
    },
    onBlur() {
      this.close();
    },
    onKeyup(evt) {
      if (evt.key === "Escape") {
        this.close();
      }
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/components/ContextMenu.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/contextmenu/components/ContextMenu.vue?vue&type=style&index=0&id=7cadd25c&lang=scss&scoped=true
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/components/ContextMenu.vue?vue&type=style&index=0&id=7cadd25c&lang=scss&scoped=true

;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/components/ContextMenu.vue




;


const ContextMenu_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ContextMenuvue_type_script_lang_js, [['render',ContextMenuvue_type_template_id_7cadd25c_scoped_true_render],['__scopeId',"data-v-7cadd25c"]])

/* harmony default export */ var ContextMenu = (ContextMenu_exports_);
;// CONCATENATED MODULE: ./packages/core/modules/contextmenu/index.js










function contextmenu_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }





var ContextMenuModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(ContextMenuModule, _AbstractModule);
  function ContextMenuModule(_ref) {
    var _this;
    var app = _ref.app;
    (0,classCallCheck/* default */.Z)(this, ContextMenuModule);
    _this = contextmenu_callSuper(this, ContextMenuModule, [arguments]);
    app.directive("contextmenu", contexmenu);
    app.component("ContextMenu", ContextMenu);
    return _this;
  }
  (0,createClass/* default */.Z)(ContextMenuModule, [{
    key: "addItem",
    value: function addItem(item) {
      var store = contextmenu_store();
      store.addItem(item);
    }
  }, {
    key: "addItems",
    value: function addItems(items) {
      var store = contextmenu_store();
      store.addItems(items);
    }
  }]);
  return ContextMenuModule;
}(AbstractModule);
(0,defineProperty/* default */.Z)(ContextMenuModule, "id", "contextmenu");
(0,defineProperty/* default */.Z)(ContextMenuModule, "dependencies", [BaseButtonModule]);

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/modal/components/BaseModal.vue?vue&type=template&id=6b4f9a90&scoped=true

var BaseModalvue_type_template_id_6b4f9a90_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-6b4f9a90"), n = n(), _popScopeId(), n;
};
var BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_1 = {
  class: "backdrop",
  tabindex: "-1",
  role: "dialog"
};
var BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_2 = {
  class: "dialog",
  role: "document"
};
var BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_3 = {
  class: "content"
};
var BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_4 = {
  key: 0,
  class: "header"
};
var BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_5 = {
  key: 0,
  class: "title"
};
var BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_6 = {
  class: "body"
};
var BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_7 = {
  key: 0,
  class: "footer"
};
function BaseModalvue_type_template_id_6b4f9a90_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_close_icon = (0,runtime_core_esm_bundler/* resolveComponent */.up)("close-icon");
  var _component_base_button = (0,runtime_core_esm_bundler/* resolveComponent */.up)("base-button");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", {
    class: (0,shared_esm_bundler/* normalizeClass */.C_)(['base-modal-wrapper', {
      teleport: $options.teleport
    }])
  }, [((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(runtime_core_esm_bundler/* Teleport */.lR, {
    to: $options.teleportTarget,
    disabled: !$options.teleport || !$options.teleportTarget
  }, [(0,runtime_core_esm_bundler/* createVNode */.Wm)(Transition, {
    name: "fade"
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [$props.show ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", (0,runtime_core_esm_bundler/* mergeProps */.dG)({
        key: 0,
        class: "base-modal"
      }, _ctx.$attrs), [(0,runtime_core_esm_bundler/* createElementVNode */._)("div", BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_1, [(0,runtime_core_esm_bundler/* createElementVNode */._)("div", BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_2, [(0,runtime_core_esm_bundler/* createElementVNode */._)("div", BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_3, [$props.header || _ctx.$slots.title || $props.title ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_4, [_ctx.$slots.title || $props.title ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("h3", BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_5, [_ctx.$slots.title ? (0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "title", {
        key: 0
      }, undefined, true) : ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, {
        key: 1
      }, [(0,runtime_core_esm_bundler/* createTextVNode */.Uk)((0,shared_esm_bundler/* toDisplayString */.zw)($props.title), 1)], 64))])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true), (0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_base_button, {
        class: "close no-bg",
        title: _ctx.$t('close_title'),
        "aria-label": _ctx.$t('close_title'),
        onClick: _cache[0] || (_cache[0] = function ($event) {
          return _ctx.$emit('close');
        })
      }, {
        icon: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
          return [(0,runtime_core_esm_bundler/* createVNode */.Wm)(_component_close_icon)];
        }),
        _: 1
      }, 8, ["title", "aria-label"])])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true), (0,runtime_core_esm_bundler/* createElementVNode */._)("div", BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_6, [(0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "default", {}, undefined, true), _ctx.$slots.footer ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", BaseModalvue_type_template_id_6b4f9a90_scoped_true_hoisted_7, [(0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "footer", {}, undefined, true)])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true)])])])])], 16)) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true)];
    }),
    _: 3
  })], 8, ["to", "disabled"]))], 2);
}
;// CONCATENATED MODULE: ./packages/core/modules/modal/components/BaseModal.vue?vue&type=template&id=6b4f9a90&scoped=true

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js!./node_modules/vue-svg-loader/index.js!./packages/core/modules/modal/assets/icons/close.svg?vue&type=template&id=9af299a8&inline

var closevue_type_template_id_9af299a8_inline_hoisted_1 = {
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 8.121 8.121"
};
var closevue_type_template_id_9af299a8_inline_hoisted_2 = /*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("g", {
  fill: "none",
  stroke: "currentColor",
  "stroke-linecap": "round",
  "stroke-width": "1.5"
}, [/*#__PURE__*/(0,runtime_core_esm_bundler/* createElementVNode */._)("path", {
  d: "M7.06 7.06l-6-5.999M1.06 7.06l6-5.999"
})], -1);
var closevue_type_template_id_9af299a8_inline_hoisted_3 = [closevue_type_template_id_9af299a8_inline_hoisted_2];
function closevue_type_template_id_9af299a8_inline_render(_ctx, _cache) {
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("svg", closevue_type_template_id_9af299a8_inline_hoisted_1, closevue_type_template_id_9af299a8_inline_hoisted_3);
}
;// CONCATENATED MODULE: ./packages/core/modules/modal/assets/icons/close.svg?vue&type=template&id=9af299a8&inline

;// CONCATENATED MODULE: ./packages/core/modules/modal/assets/icons/close.svg?inline

const closeinline_script = {}

;
const closeinline_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(closeinline_script, [['render',closevue_type_template_id_9af299a8_inline_render]])

/* harmony default export */ var closeinline = (closeinline_exports_);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/modal/components/BaseModal.vue?vue&type=script&lang=js

/* harmony default export */ var BaseModalvue_type_script_lang_js = ({
  components: {
    CloseIcon: closeinline
  },
  inject: {
    overlaysTarget: {
      default: null
    }
  },
  props: {
    target: {
      type: [String, HTMLElement, Boolean],
      default: null
    },
    show: {
      type: Boolean,
      default: true
    },
    header: {
      type: Boolean,
      default: false
    },
    title: {
      type: String,
      default: ""
    }
  },
  emits: ["close"],
  computed: {
    teleport() {
      return this.target !== false;
    },
    teleportTarget() {
      var _this$target;
      return (_this$target = this.target) !== null && _this$target !== void 0 ? _this$target : this.overlaysTarget;
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/modal/components/BaseModal.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/modal/components/BaseModal.vue?vue&type=style&index=0&id=6b4f9a90&scoped=true&lang=scss
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/modal/components/BaseModal.vue?vue&type=style&index=0&id=6b4f9a90&scoped=true&lang=scss

;// CONCATENATED MODULE: ./node_modules/@intlify/vue-i18n-loader/lib/index.js!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/modal/components/BaseModal.vue?vue&type=custom&index=0&blockType=i18n
/* harmony default export */ function BaseModalvue_type_custom_index_0_blockType_i18n(Component) {
  Component.__i18n = Component.__i18n || []
  Component.__i18n.push({
    "locale": "",
    "resource": {
      "fr": {
        "close_title": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Fermer"])}
      },
      "en": {
        "close_title": (ctx) => {const { normalize: _normalize } = ctx;return _normalize(["Close"])}
      }
    }
  })
}

;// CONCATENATED MODULE: ./packages/core/modules/modal/components/BaseModal.vue




;
/* custom blocks */

if (typeof BaseModalvue_type_custom_index_0_blockType_i18n === 'function') BaseModalvue_type_custom_index_0_blockType_i18n(BaseModalvue_type_script_lang_js)


;
const BaseModal_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(BaseModalvue_type_script_lang_js, [['render',BaseModalvue_type_template_id_6b4f9a90_scoped_true_render],['__scopeId',"data-v-6b4f9a90"]])

/* harmony default export */ var BaseModal = (BaseModal_exports_);
;// CONCATENATED MODULE: ./packages/core/modules/modal/index.js










function modal_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var ModalModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(ModalModule, _AbstractModule);
  function ModalModule(_ref) {
    var _this;
    var app = _ref.app;
    (0,classCallCheck/* default */.Z)(this, ModalModule);
    _this = modal_callSuper(this, ModalModule, [arguments]);
    app.component("BaseModal", BaseModal);
    return _this;
  }
  return (0,createClass/* default */.Z)(ModalModule);
}(AbstractModule);
(0,defineProperty/* default */.Z)(ModalModule, "id", "modal");
(0,defineProperty/* default */.Z)(ModalModule, "dependencies", [BaseButtonModule]);

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/progress_indicator/components/ProgressIndicator.vue?vue&type=template&id=b616f6cc&scoped=true

var ProgressIndicatorvue_type_template_id_b616f6cc_scoped_true_withScopeId = function _withScopeId(n) {
  return _pushScopeId("data-v-b616f6cc"), n = n(), _popScopeId(), n;
};
var ProgressIndicatorvue_type_template_id_b616f6cc_scoped_true_hoisted_1 = {
  key: 0,
  class: "text"
};
var ProgressIndicatorvue_type_template_id_b616f6cc_scoped_true_hoisted_2 = ["max", "value"];
function ProgressIndicatorvue_type_template_id_b616f6cc_scoped_true_render(_ctx, _cache, $props, $setup, $data, $options) {
  var _component_base_modal = (0,runtime_core_esm_bundler/* resolveComponent */.up)("base-modal");
  return (0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createBlock */.j4)(_component_base_modal, {
    show: $props.show,
    class: "progress-indicator"
  }, {
    default: (0,runtime_core_esm_bundler/* withCtx */.w5)(function () {
      return [(0,runtime_core_esm_bundler/* createElementVNode */._)("label", null, [$props.text || _ctx.$slots.text ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)("div", ProgressIndicatorvue_type_template_id_b616f6cc_scoped_true_hoisted_1, [$props.text ? ((0,runtime_core_esm_bundler/* openBlock */.wg)(), (0,runtime_core_esm_bundler/* createElementBlock */.iD)(runtime_core_esm_bundler/* Fragment */.HY, {
        key: 0
      }, [(0,runtime_core_esm_bundler/* createTextVNode */.Uk)((0,shared_esm_bundler/* toDisplayString */.zw)($props.text), 1)], 64)) : (0,runtime_core_esm_bundler/* renderSlot */.WI)(_ctx.$slots, "text", {
        key: 1
      }, undefined, true)])) : (0,runtime_core_esm_bundler/* createCommentVNode */.kq)("", true), (0,runtime_core_esm_bundler/* createElementVNode */._)("progress", {
        role: "progressbar",
        "aria-describedby": "loading-zone",
        tabindex: "-1",
        max: $props.max,
        value: $props.value
      }, null, 8, ProgressIndicatorvue_type_template_id_b616f6cc_scoped_true_hoisted_2)])];
    }),
    _: 3
  }, 8, ["show"]);
}
;// CONCATENATED MODULE: ./packages/core/modules/progress_indicator/components/ProgressIndicator.vue?vue&type=template&id=b616f6cc&scoped=true

;// CONCATENATED MODULE: ./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[0]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/progress_indicator/components/ProgressIndicator.vue?vue&type=script&lang=js
/* harmony default export */ var ProgressIndicatorvue_type_script_lang_js = ({
  props: {
    show: {
      type: Boolean,
      default: true
    },
    text: {
      type: String,
      default: null
    },
    max: {
      type: Number,
      default: 1
    },
    value: {
      type: Number,
      default: null
    }
  }
});
;// CONCATENATED MODULE: ./packages/core/modules/progress_indicator/components/ProgressIndicator.vue?vue&type=script&lang=js
 
;// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22.use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[3]!./node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./packages/core/modules/progress_indicator/components/ProgressIndicator.vue?vue&type=style&index=0&id=b616f6cc&scoped=true&lang=scss
// extracted by mini-css-extract-plugin

;// CONCATENATED MODULE: ./packages/core/modules/progress_indicator/components/ProgressIndicator.vue?vue&type=style&index=0&id=b616f6cc&scoped=true&lang=scss

;// CONCATENATED MODULE: ./packages/core/modules/progress_indicator/components/ProgressIndicator.vue




;


const ProgressIndicator_exports_ = /*#__PURE__*/(0,exportHelper/* default */.Z)(ProgressIndicatorvue_type_script_lang_js, [['render',ProgressIndicatorvue_type_template_id_b616f6cc_scoped_true_render],['__scopeId',"data-v-b616f6cc"]])

/* harmony default export */ var ProgressIndicator = (ProgressIndicator_exports_);
;// CONCATENATED MODULE: ./packages/core/modules/progress_indicator/index.js










function progress_indicator_callSuper(t, o, e) { return o = (0,getPrototypeOf/* default */.Z)(o), (0,possibleConstructorReturn/* default */.Z)(t, (0,isNativeReflectConstruct/* default */.Z)() ? Reflect.construct(o, e || [], (0,getPrototypeOf/* default */.Z)(t).constructor) : o.apply(t, e)); }



var ProgressIndicatorModule = /*#__PURE__*/function (_AbstractModule) {
  (0,inherits/* default */.Z)(ProgressIndicatorModule, _AbstractModule);
  function ProgressIndicatorModule(_ref) {
    var _this;
    var app = _ref.app;
    (0,classCallCheck/* default */.Z)(this, ProgressIndicatorModule);
    _this = progress_indicator_callSuper(this, ProgressIndicatorModule, [arguments]);
    app.component("ProgressIndicator", ProgressIndicator);
    return _this;
  }
  return (0,createClass/* default */.Z)(ProgressIndicatorModule);
}(AbstractModule);
(0,defineProperty/* default */.Z)(ProgressIndicatorModule, "id", "progress_indicator");
(0,defineProperty/* default */.Z)(ProgressIndicatorModule, "dependencies", [ModalModule]);

;// CONCATENATED MODULE: ./packages/player/index.js







var player_excluded = ["url", "el", "locale"];

















var Player = /*#__PURE__*/function () {
  /**
   * @private
   */
  function Player(app) {
    var el = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    (0,classCallCheck/* default */.Z)(this, Player);
    this._app = app;
    if (el) {
      this.mount(el);
    }
  }

  /**
   * Mount the app to the specified DOM element
   *
   * @param {DOMElement} el The DOM element
   * @returns {this}
   */
  (0,createClass/* default */.Z)(Player, [{
    key: "mount",
    value: function mount(el) {
      if (!this._root) {
        this._root = this._app.mount(el);
      }
      return this;
    }
  }], [{
    key: "create",
    value: function () {
      var _create = asyncToGenerator_asyncToGenerator( /*#__PURE__*/regeneratorRuntime_regeneratorRuntime().mark(function _callee() {
        var _ref,
          url,
          el,
          _ref$locale,
          locale,
          configs,
          pinia,
          i18n,
          app,
          _args = arguments;
        return regeneratorRuntime_regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _ref = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, url = _ref.url, el = _ref.el, _ref$locale = _ref.locale, locale = _ref$locale === void 0 ? "fr" : _ref$locale, configs = objectWithoutProperties_objectWithoutProperties(_ref, player_excluded);
              pinia = createPinia();
              i18n = init({
                locale,
                fallbackLocale: "fr"
              });
              app = createApp(App, {
                url
              });
              app.use(pinia);
              app.use(i18n);
              app.use(v_hotkey_src);
              app.config.performance = "production" === "development";

              // Register root modules.
              _context.next = 10;
              return (0,module_manager/* registerModules */.X0)([AjaxModule, ApiModule, AppBehaviorsModule, AppRendererModule, ContextMenuModule, MediaPlayerModule, ProgressIndicatorModule], {
                app,
                i18n,
                pinia
              });
            case 10:
              if (configs.modules) {
                Object.entries(configs.modules).forEach(function (_ref2) {
                  var _ref3 = (0,slicedToArray/* default */.Z)(_ref2, 2),
                    name = _ref3[0],
                    configs = _ref3[1];
                  var module = (0,module_manager/* useModule */.b7)(name);
                  if (module && module.configure) module.configure(configs);
                });
              }
              return _context.abrupt("return", new Player(app, el));
            case 12:
            case "end":
              return _context.stop();
          }
        }, _callee);
      }));
      function create() {
        return _create.apply(this, arguments);
      }
      return create;
    }()
  }]);
  return Player;
}();
/**
 * @type {string} The version identifier
 */
(0,defineProperty/* default */.Z)(Player, "version", package_namespaceObject.i8);
;// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib-no-default.js



}();
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=metaScore.Player.umd.js.map